var D0=t=>{throw TypeError(t)};var kp=(t,e,r)=>e.has(t)||D0("Cannot "+r);var ee=(t,e,r)=>(kp(t,e,"read from private field"),r?r.call(t):e.get(t)),Ye=(t,e,r)=>e.has(t)?D0("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),Be=(t,e,r,s)=>(kp(t,e,"write to private field"),s?s.call(t,r):e.set(t,r),r),mt=(t,e,r)=>(kp(t,e,"access private method"),r);var Oh=(t,e,r,s)=>({set _(l){Be(t,e,l,r)},get _(){return ee(t,e,s)}});function Kb(t,e){for(var r=0;r<e.length;r++){const s=e[r];if(typeof s!="string"&&!Array.isArray(s)){for(const l in s)if(l!=="default"&&!(l in t)){const c=Object.getOwnPropertyDescriptor(s,l);c&&Object.defineProperty(t,l,c.get?c:{enumerable:!0,get:()=>s[l]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const u of c.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function r(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(l){if(l.ep)return;l.ep=!0;const c=r(l);fetch(l.href,c)}})();function du(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function uu(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var r=function s(){return this instanceof s?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(s){var l=Object.getOwnPropertyDescriptor(t,s);Object.defineProperty(r,s,l.get?l:{enumerable:!0,get:function(){return t[s]}})}),r}var Pp={exports:{}},Md={},Tp={exports:{}},gt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var B0;function PE(){if(B0)return gt;B0=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),u=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),x=Symbol.iterator;function E(A){return A===null||typeof A!="object"?null:(A=x&&A[x]||A["@@iterator"],typeof A=="function"?A:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,N={};function P(A,H,V){this.props=A,this.context=H,this.refs=N,this.updater=V||S}P.prototype.isReactComponent={},P.prototype.setState=function(A,H){if(typeof A!="object"&&typeof A!="function"&&A!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,A,H,"setState")},P.prototype.forceUpdate=function(A){this.updater.enqueueForceUpdate(this,A,"forceUpdate")};function O(){}O.prototype=P.prototype;function T(A,H,V){this.props=A,this.context=H,this.refs=N,this.updater=V||S}var R=T.prototype=new O;R.constructor=T,k(R,P.prototype),R.isPureReactComponent=!0;var z=Array.isArray,Y=Object.prototype.hasOwnProperty,D={current:null},J={key:!0,ref:!0,__self:!0,__source:!0};function ne(A,H,V){var F,ce={},xe=null,pe=null;if(H!=null)for(F in H.ref!==void 0&&(pe=H.ref),H.key!==void 0&&(xe=""+H.key),H)Y.call(H,F)&&!J.hasOwnProperty(F)&&(ce[F]=H[F]);var ie=arguments.length-2;if(ie===1)ce.children=V;else if(1<ie){for(var Pe=Array(ie),Me=0;Me<ie;Me++)Pe[Me]=arguments[Me+2];ce.children=Pe}if(A&&A.defaultProps)for(F in ie=A.defaultProps,ie)ce[F]===void 0&&(ce[F]=ie[F]);return{$$typeof:t,type:A,key:xe,ref:pe,props:ce,_owner:D.current}}function we(A,H){return{$$typeof:t,type:A.type,key:H,ref:A.ref,props:A.props,_owner:A._owner}}function Z(A){return typeof A=="object"&&A!==null&&A.$$typeof===t}function $(A){var H={"=":"=0",":":"=2"};return"$"+A.replace(/[=:]/g,function(V){return H[V]})}var re=/\/+/g;function U(A,H){return typeof A=="object"&&A!==null&&A.key!=null?$(""+A.key):H.toString(36)}function W(A,H,V,F,ce){var xe=typeof A;(xe==="undefined"||xe==="boolean")&&(A=null);var pe=!1;if(A===null)pe=!0;else switch(xe){case"string":case"number":pe=!0;break;case"object":switch(A.$$typeof){case t:case e:pe=!0}}if(pe)return pe=A,ce=ce(pe),A=F===""?"."+U(pe,0):F,z(ce)?(V="",A!=null&&(V=A.replace(re,"$&/")+"/"),W(ce,H,V,"",function(Me){return Me})):ce!=null&&(Z(ce)&&(ce=we(ce,V+(!ce.key||pe&&pe.key===ce.key?"":(""+ce.key).replace(re,"$&/")+"/")+A)),H.push(ce)),1;if(pe=0,F=F===""?".":F+":",z(A))for(var ie=0;ie<A.length;ie++){xe=A[ie];var Pe=F+U(xe,ie);pe+=W(xe,H,V,Pe,ce)}else if(Pe=E(A),typeof Pe=="function")for(A=Pe.call(A),ie=0;!(xe=A.next()).done;)xe=xe.value,Pe=F+U(xe,ie++),pe+=W(xe,H,V,Pe,ce);else if(xe==="object")throw H=String(A),Error("Objects are not valid as a React child (found: "+(H==="[object Object]"?"object with keys {"+Object.keys(A).join(", ")+"}":H)+"). If you meant to render a collection of children, use an array instead.");return pe}function be(A,H,V){if(A==null)return A;var F=[],ce=0;return W(A,F,"","",function(xe){return H.call(V,xe,ce++)}),F}function me(A){if(A._status===-1){var H=A._result;H=H(),H.then(function(V){(A._status===0||A._status===-1)&&(A._status=1,A._result=V)},function(V){(A._status===0||A._status===-1)&&(A._status=2,A._result=V)}),A._status===-1&&(A._status=0,A._result=H)}if(A._status===1)return A._result.default;throw A._result}var _e={current:null},q={transition:null},je={ReactCurrentDispatcher:_e,ReactCurrentBatchConfig:q,ReactCurrentOwner:D};function le(){throw Error("act(...) is not supported in production builds of React.")}return gt.Children={map:be,forEach:function(A,H,V){be(A,function(){H.apply(this,arguments)},V)},count:function(A){var H=0;return be(A,function(){H++}),H},toArray:function(A){return be(A,function(H){return H})||[]},only:function(A){if(!Z(A))throw Error("React.Children.only expected to receive a single React element child.");return A}},gt.Component=P,gt.Fragment=r,gt.Profiler=l,gt.PureComponent=T,gt.StrictMode=s,gt.Suspense=m,gt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=je,gt.act=le,gt.cloneElement=function(A,H,V){if(A==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+A+".");var F=k({},A.props),ce=A.key,xe=A.ref,pe=A._owner;if(H!=null){if(H.ref!==void 0&&(xe=H.ref,pe=D.current),H.key!==void 0&&(ce=""+H.key),A.type&&A.type.defaultProps)var ie=A.type.defaultProps;for(Pe in H)Y.call(H,Pe)&&!J.hasOwnProperty(Pe)&&(F[Pe]=H[Pe]===void 0&&ie!==void 0?ie[Pe]:H[Pe])}var Pe=arguments.length-2;if(Pe===1)F.children=V;else if(1<Pe){ie=Array(Pe);for(var Me=0;Me<Pe;Me++)ie[Me]=arguments[Me+2];F.children=ie}return{$$typeof:t,type:A.type,key:ce,ref:xe,props:F,_owner:pe}},gt.createContext=function(A){return A={$$typeof:u,_currentValue:A,_currentValue2:A,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},A.Provider={$$typeof:c,_context:A},A.Consumer=A},gt.createElement=ne,gt.createFactory=function(A){var H=ne.bind(null,A);return H.type=A,H},gt.createRef=function(){return{current:null}},gt.forwardRef=function(A){return{$$typeof:p,render:A}},gt.isValidElement=Z,gt.lazy=function(A){return{$$typeof:y,_payload:{_status:-1,_result:A},_init:me}},gt.memo=function(A,H){return{$$typeof:v,type:A,compare:H===void 0?null:H}},gt.startTransition=function(A){var H=q.transition;q.transition={};try{A()}finally{q.transition=H}},gt.unstable_act=le,gt.useCallback=function(A,H){return _e.current.useCallback(A,H)},gt.useContext=function(A){return _e.current.useContext(A)},gt.useDebugValue=function(){},gt.useDeferredValue=function(A){return _e.current.useDeferredValue(A)},gt.useEffect=function(A,H){return _e.current.useEffect(A,H)},gt.useId=function(){return _e.current.useId()},gt.useImperativeHandle=function(A,H,V){return _e.current.useImperativeHandle(A,H,V)},gt.useInsertionEffect=function(A,H){return _e.current.useInsertionEffect(A,H)},gt.useLayoutEffect=function(A,H){return _e.current.useLayoutEffect(A,H)},gt.useMemo=function(A,H){return _e.current.useMemo(A,H)},gt.useReducer=function(A,H,V){return _e.current.useReducer(A,H,V)},gt.useRef=function(A){return _e.current.useRef(A)},gt.useState=function(A){return _e.current.useState(A)},gt.useSyncExternalStore=function(A,H,V){return _e.current.useSyncExternalStore(A,H,V)},gt.useTransition=function(){return _e.current.useTransition()},gt.version="18.3.1",gt}var z0;function nv(){return z0||(z0=1,Tp.exports=PE()),Tp.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $0;function TE(){if($0)return Md;$0=1;var t=nv(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,l=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function u(p,m,v){var y,x={},E=null,S=null;v!==void 0&&(E=""+v),m.key!==void 0&&(E=""+m.key),m.ref!==void 0&&(S=m.ref);for(y in m)s.call(m,y)&&!c.hasOwnProperty(y)&&(x[y]=m[y]);if(p&&p.defaultProps)for(y in m=p.defaultProps,m)x[y]===void 0&&(x[y]=m[y]);return{$$typeof:e,type:p,key:E,ref:S,props:x,_owner:l.current}}return Md.Fragment=r,Md.jsx=u,Md.jsxs=u,Md}var F0;function RE(){return F0||(F0=1,Pp.exports=TE()),Pp.exports}var n=RE(),w=nv();const Te=du(w),Zb=Kb({__proto__:null,default:Te},[w]);var Mh={},Rp={exports:{}},bn={},Ap={exports:{}},Op={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var U0;function AE(){return U0||(U0=1,(function(t){function e(q,je){var le=q.length;q.push(je);e:for(;0<le;){var A=le-1>>>1,H=q[A];if(0<l(H,je))q[A]=je,q[le]=H,le=A;else break e}}function r(q){return q.length===0?null:q[0]}function s(q){if(q.length===0)return null;var je=q[0],le=q.pop();if(le!==je){q[0]=le;e:for(var A=0,H=q.length,V=H>>>1;A<V;){var F=2*(A+1)-1,ce=q[F],xe=F+1,pe=q[xe];if(0>l(ce,le))xe<H&&0>l(pe,ce)?(q[A]=pe,q[xe]=le,A=xe):(q[A]=ce,q[F]=le,A=F);else if(xe<H&&0>l(pe,le))q[A]=pe,q[xe]=le,A=xe;else break e}}return je}function l(q,je){var le=q.sortIndex-je.sortIndex;return le!==0?le:q.id-je.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;t.unstable_now=function(){return c.now()}}else{var u=Date,p=u.now();t.unstable_now=function(){return u.now()-p}}var m=[],v=[],y=1,x=null,E=3,S=!1,k=!1,N=!1,P=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function R(q){for(var je=r(v);je!==null;){if(je.callback===null)s(v);else if(je.startTime<=q)s(v),je.sortIndex=je.expirationTime,e(m,je);else break;je=r(v)}}function z(q){if(N=!1,R(q),!k)if(r(m)!==null)k=!0,me(Y);else{var je=r(v);je!==null&&_e(z,je.startTime-q)}}function Y(q,je){k=!1,N&&(N=!1,O(ne),ne=-1),S=!0;var le=E;try{for(R(je),x=r(m);x!==null&&(!(x.expirationTime>je)||q&&!$());){var A=x.callback;if(typeof A=="function"){x.callback=null,E=x.priorityLevel;var H=A(x.expirationTime<=je);je=t.unstable_now(),typeof H=="function"?x.callback=H:x===r(m)&&s(m),R(je)}else s(m);x=r(m)}if(x!==null)var V=!0;else{var F=r(v);F!==null&&_e(z,F.startTime-je),V=!1}return V}finally{x=null,E=le,S=!1}}var D=!1,J=null,ne=-1,we=5,Z=-1;function $(){return!(t.unstable_now()-Z<we)}function re(){if(J!==null){var q=t.unstable_now();Z=q;var je=!0;try{je=J(!0,q)}finally{je?U():(D=!1,J=null)}}else D=!1}var U;if(typeof T=="function")U=function(){T(re)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,be=W.port2;W.port1.onmessage=re,U=function(){be.postMessage(null)}}else U=function(){P(re,0)};function me(q){J=q,D||(D=!0,U())}function _e(q,je){ne=P(function(){q(t.unstable_now())},je)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(q){q.callback=null},t.unstable_continueExecution=function(){k||S||(k=!0,me(Y))},t.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):we=0<q?Math.floor(1e3/q):5},t.unstable_getCurrentPriorityLevel=function(){return E},t.unstable_getFirstCallbackNode=function(){return r(m)},t.unstable_next=function(q){switch(E){case 1:case 2:case 3:var je=3;break;default:je=E}var le=E;E=je;try{return q()}finally{E=le}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(q,je){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var le=E;E=q;try{return je()}finally{E=le}},t.unstable_scheduleCallback=function(q,je,le){var A=t.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?A+le:A):le=A,q){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=le+H,q={id:y++,callback:je,priorityLevel:q,startTime:le,expirationTime:H,sortIndex:-1},le>A?(q.sortIndex=le,e(v,q),r(m)===null&&q===r(v)&&(N?(O(ne),ne=-1):N=!0,_e(z,le-A))):(q.sortIndex=H,e(m,q),k||S||(k=!0,me(Y))),q},t.unstable_shouldYield=$,t.unstable_wrapCallback=function(q){var je=E;return function(){var le=E;E=je;try{return q.apply(this,arguments)}finally{E=le}}}})(Op)),Op}var q0;function OE(){return q0||(q0=1,Ap.exports=AE()),Ap.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var W0;function ME(){if(W0)return bn;W0=1;var t=nv(),e=OE();function r(o){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+o,h=1;h<arguments.length;h++)a+="&args[]="+encodeURIComponent(arguments[h]);return"Minified React error #"+o+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,l={};function c(o,a){u(o,a),u(o+"Capture",a)}function u(o,a){for(l[o]=a,o=0;o<a.length;o++)s.add(a[o])}var p=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),m=Object.prototype.hasOwnProperty,v=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,y={},x={};function E(o){return m.call(x,o)?!0:m.call(y,o)?!1:v.test(o)?x[o]=!0:(y[o]=!0,!1)}function S(o,a,h,g){if(h!==null&&h.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return g?!1:h!==null?!h.acceptsBooleans:(o=o.toLowerCase().slice(0,5),o!=="data-"&&o!=="aria-");default:return!1}}function k(o,a,h,g){if(a===null||typeof a>"u"||S(o,a,h,g))return!0;if(g)return!1;if(h!==null)switch(h.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function N(o,a,h,g,_,j,M){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=g,this.attributeNamespace=_,this.mustUseProperty=h,this.propertyName=o,this.type=a,this.sanitizeURL=j,this.removeEmptyString=M}var P={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(o){P[o]=new N(o,0,!1,o,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(o){var a=o[0];P[a]=new N(a,1,!1,o[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(o){P[o]=new N(o,2,!1,o.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(o){P[o]=new N(o,2,!1,o,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(o){P[o]=new N(o,3,!1,o.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(o){P[o]=new N(o,3,!0,o,null,!1,!1)}),["capture","download"].forEach(function(o){P[o]=new N(o,4,!1,o,null,!1,!1)}),["cols","rows","size","span"].forEach(function(o){P[o]=new N(o,6,!1,o,null,!1,!1)}),["rowSpan","start"].forEach(function(o){P[o]=new N(o,5,!1,o.toLowerCase(),null,!1,!1)});var O=/[\-:]([a-z])/g;function T(o){return o[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(o){var a=o.replace(O,T);P[a]=new N(a,1,!1,o,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(o){var a=o.replace(O,T);P[a]=new N(a,1,!1,o,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(o){var a=o.replace(O,T);P[a]=new N(a,1,!1,o,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(o){P[o]=new N(o,1,!1,o.toLowerCase(),null,!1,!1)}),P.xlinkHref=new N("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(o){P[o]=new N(o,1,!1,o.toLowerCase(),null,!0,!0)});function R(o,a,h,g){var _=P.hasOwnProperty(a)?P[a]:null;(_!==null?_.type!==0:g||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(k(a,h,_,g)&&(h=null),g||_===null?E(a)&&(h===null?o.removeAttribute(a):o.setAttribute(a,""+h)):_.mustUseProperty?o[_.propertyName]=h===null?_.type===3?!1:"":h:(a=_.attributeName,g=_.attributeNamespace,h===null?o.removeAttribute(a):(_=_.type,h=_===3||_===4&&h===!0?"":""+h,g?o.setAttributeNS(g,a,h):o.setAttribute(a,h))))}var z=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Y=Symbol.for("react.element"),D=Symbol.for("react.portal"),J=Symbol.for("react.fragment"),ne=Symbol.for("react.strict_mode"),we=Symbol.for("react.profiler"),Z=Symbol.for("react.provider"),$=Symbol.for("react.context"),re=Symbol.for("react.forward_ref"),U=Symbol.for("react.suspense"),W=Symbol.for("react.suspense_list"),be=Symbol.for("react.memo"),me=Symbol.for("react.lazy"),_e=Symbol.for("react.offscreen"),q=Symbol.iterator;function je(o){return o===null||typeof o!="object"?null:(o=q&&o[q]||o["@@iterator"],typeof o=="function"?o:null)}var le=Object.assign,A;function H(o){if(A===void 0)try{throw Error()}catch(h){var a=h.stack.trim().match(/\n( *(at )?)/);A=a&&a[1]||""}return`
`+A+o}var V=!1;function F(o,a){if(!o||V)return"";V=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(ye){var g=ye}Reflect.construct(o,[],a)}else{try{a.call()}catch(ye){g=ye}o.call(a.prototype)}else{try{throw Error()}catch(ye){g=ye}o()}}catch(ye){if(ye&&g&&typeof ye.stack=="string"){for(var _=ye.stack.split(`
`),j=g.stack.split(`
`),M=_.length-1,K=j.length-1;1<=M&&0<=K&&_[M]!==j[K];)K--;for(;1<=M&&0<=K;M--,K--)if(_[M]!==j[K]){if(M!==1||K!==1)do if(M--,K--,0>K||_[M]!==j[K]){var te=`
`+_[M].replace(" at new "," at ");return o.displayName&&te.includes("<anonymous>")&&(te=te.replace("<anonymous>",o.displayName)),te}while(1<=M&&0<=K);break}}}finally{V=!1,Error.prepareStackTrace=h}return(o=o?o.displayName||o.name:"")?H(o):""}function ce(o){switch(o.tag){case 5:return H(o.type);case 16:return H("Lazy");case 13:return H("Suspense");case 19:return H("SuspenseList");case 0:case 2:case 15:return o=F(o.type,!1),o;case 11:return o=F(o.type.render,!1),o;case 1:return o=F(o.type,!0),o;default:return""}}function xe(o){if(o==null)return null;if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case J:return"Fragment";case D:return"Portal";case we:return"Profiler";case ne:return"StrictMode";case U:return"Suspense";case W:return"SuspenseList"}if(typeof o=="object")switch(o.$$typeof){case $:return(o.displayName||"Context")+".Consumer";case Z:return(o._context.displayName||"Context")+".Provider";case re:var a=o.render;return o=o.displayName,o||(o=a.displayName||a.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case be:return a=o.displayName||null,a!==null?a:xe(o.type)||"Memo";case me:a=o._payload,o=o._init;try{return xe(o(a))}catch{}}return null}function pe(o){var a=o.type;switch(o.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return o=a.render,o=o.displayName||o.name||"",a.displayName||(o!==""?"ForwardRef("+o+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return xe(a);case 8:return a===ne?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function ie(o){switch(typeof o){case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function Pe(o){var a=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Me(o){var a=Pe(o)?"checked":"value",h=Object.getOwnPropertyDescriptor(o.constructor.prototype,a),g=""+o[a];if(!o.hasOwnProperty(a)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var _=h.get,j=h.set;return Object.defineProperty(o,a,{configurable:!0,get:function(){return _.call(this)},set:function(M){g=""+M,j.call(this,M)}}),Object.defineProperty(o,a,{enumerable:h.enumerable}),{getValue:function(){return g},setValue:function(M){g=""+M},stopTracking:function(){o._valueTracker=null,delete o[a]}}}}function $e(o){o._valueTracker||(o._valueTracker=Me(o))}function Ie(o){if(!o)return!1;var a=o._valueTracker;if(!a)return!0;var h=a.getValue(),g="";return o&&(g=Pe(o)?o.checked?"true":"false":o.value),o=g,o!==h?(a.setValue(o),!0):!1}function nt(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}function it(o,a){var h=a.checked;return le({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:h??o._wrapperState.initialChecked})}function Lt(o,a){var h=a.defaultValue==null?"":a.defaultValue,g=a.checked!=null?a.checked:a.defaultChecked;h=ie(a.value!=null?a.value:h),o._wrapperState={initialChecked:g,initialValue:h,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function $t(o,a){a=a.checked,a!=null&&R(o,"checked",a,!1)}function Pt(o,a){$t(o,a);var h=ie(a.value),g=a.type;if(h!=null)g==="number"?(h===0&&o.value===""||o.value!=h)&&(o.value=""+h):o.value!==""+h&&(o.value=""+h);else if(g==="submit"||g==="reset"){o.removeAttribute("value");return}a.hasOwnProperty("value")?Nt(o,a.type,h):a.hasOwnProperty("defaultValue")&&Nt(o,a.type,ie(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(o.defaultChecked=!!a.defaultChecked)}function _t(o,a,h){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var g=a.type;if(!(g!=="submit"&&g!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+o._wrapperState.initialValue,h||a===o.value||(o.value=a),o.defaultValue=a}h=o.name,h!==""&&(o.name=""),o.defaultChecked=!!o._wrapperState.initialChecked,h!==""&&(o.name=h)}function Nt(o,a,h){(a!=="number"||nt(o.ownerDocument)!==o)&&(h==null?o.defaultValue=""+o._wrapperState.initialValue:o.defaultValue!==""+h&&(o.defaultValue=""+h))}var ur=Array.isArray;function gr(o,a,h,g){if(o=o.options,a){a={};for(var _=0;_<h.length;_++)a["$"+h[_]]=!0;for(h=0;h<o.length;h++)_=a.hasOwnProperty("$"+o[h].value),o[h].selected!==_&&(o[h].selected=_),_&&g&&(o[h].defaultSelected=!0)}else{for(h=""+ie(h),a=null,_=0;_<o.length;_++){if(o[_].value===h){o[_].selected=!0,g&&(o[_].defaultSelected=!0);return}a!==null||o[_].disabled||(a=o[_])}a!==null&&(a.selected=!0)}}function jt(o,a){if(a.dangerouslySetInnerHTML!=null)throw Error(r(91));return le({},a,{value:void 0,defaultValue:void 0,children:""+o._wrapperState.initialValue})}function Gt(o,a){var h=a.value;if(h==null){if(h=a.children,a=a.defaultValue,h!=null){if(a!=null)throw Error(r(92));if(ur(h)){if(1<h.length)throw Error(r(93));h=h[0]}a=h}a==null&&(a=""),h=a}o._wrapperState={initialValue:ie(h)}}function Cn(o,a){var h=ie(a.value),g=ie(a.defaultValue);h!=null&&(h=""+h,h!==o.value&&(o.value=h),a.defaultValue==null&&o.defaultValue!==h&&(o.defaultValue=h)),g!=null&&(o.defaultValue=""+g)}function Un(o){var a=o.textContent;a===o._wrapperState.initialValue&&a!==""&&a!==null&&(o.value=a)}function Ar(o){switch(o){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Wr(o,a){return o==null||o==="http://www.w3.org/1999/xhtml"?Ar(a):o==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":o}var se,Ee=(function(o){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,h,g,_){MSApp.execUnsafeLocalFunction(function(){return o(a,h,g,_)})}:o})(function(o,a){if(o.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in o)o.innerHTML=a;else{for(se=se||document.createElement("div"),se.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=se.firstChild;o.firstChild;)o.removeChild(o.firstChild);for(;a.firstChild;)o.appendChild(a.firstChild)}});function G(o,a){if(a){var h=o.firstChild;if(h&&h===o.lastChild&&h.nodeType===3){h.nodeValue=a;return}}o.textContent=a}var B={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Q=["Webkit","ms","Moz","O"];Object.keys(B).forEach(function(o){Q.forEach(function(a){a=a+o.charAt(0).toUpperCase()+o.substring(1),B[a]=B[o]})});function de(o,a,h){return a==null||typeof a=="boolean"||a===""?"":h||typeof a!="number"||a===0||B.hasOwnProperty(o)&&B[o]?(""+a).trim():a+"px"}function ge(o,a){o=o.style;for(var h in a)if(a.hasOwnProperty(h)){var g=h.indexOf("--")===0,_=de(h,a[h],g);h==="float"&&(h="cssFloat"),g?o.setProperty(h,_):o[h]=_}}var Ke=le({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Re(o,a){if(a){if(Ke[o]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(r(137,o));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(r(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(r(61))}if(a.style!=null&&typeof a.style!="object")throw Error(r(62))}}function at(o,a){if(o.indexOf("-")===-1)return typeof a.is=="string";switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var dt=null;function Xe(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var Tt=null,It=null,Br=null;function qn(o){if(o=Ns(o)){if(typeof Tt!="function")throw Error(r(280));var a=o.stateNode;a&&(a=Al(a),Tt(o.stateNode,o.type,a))}}function st(o){It?Br?Br.push(o):Br=[o]:It=o}function Ft(){if(It){var o=It,a=Br;if(Br=It=null,qn(o),a)for(o=0;o<a.length;o++)qn(a[o])}}function St(o,a){return o(a)}function vr(){}var Wn=!1;function Ut(o,a,h){if(Wn)return o(a,h);Wn=!0;try{return St(o,a,h)}finally{Wn=!1,(It!==null||Br!==null)&&(vr(),Ft())}}function ar(o,a){var h=o.stateNode;if(h===null)return null;var g=Al(h);if(g===null)return null;h=g[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(o=o.type,g=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!g;break e;default:o=!1}if(o)return null;if(h&&typeof h!="function")throw Error(r(231,a,typeof h));return h}var Hn=!1;if(p)try{var hr={};Object.defineProperty(hr,"passive",{get:function(){Hn=!0}}),window.addEventListener("test",hr,hr),window.removeEventListener("test",hr,hr)}catch{Hn=!1}function zr(o,a,h,g,_,j,M,K,te){var ye=Array.prototype.slice.call(arguments,3);try{a.apply(h,ye)}catch(ke){this.onError(ke)}}var fr=!1,ze=null,Fo=!1,sa=null,bu={onError:function(o){fr=!0,ze=o}};function _u(o,a,h,g,_,j,M,K,te){fr=!1,ze=null,zr.apply(bu,arguments)}function Hc(o,a,h,g,_,j,M,K,te){if(_u.apply(this,arguments),fr){if(fr){var ye=ze;fr=!1,ze=null}else throw Error(r(198));Fo||(Fo=!0,sa=ye)}}function Uo(o){var a=o,h=o;if(o.alternate)for(;a.return;)a=a.return;else{o=a;do a=o,(a.flags&4098)!==0&&(h=a.return),o=a.return;while(o)}return a.tag===3?h:null}function ps(o){if(o.tag===13){var a=o.memoizedState;if(a===null&&(o=o.alternate,o!==null&&(a=o.memoizedState)),a!==null)return a.dehydrated}return null}function Vc(o){if(Uo(o)!==o)throw Error(r(188))}function im(o){var a=o.alternate;if(!a){if(a=Uo(o),a===null)throw Error(r(188));return a!==o?null:o}for(var h=o,g=a;;){var _=h.return;if(_===null)break;var j=_.alternate;if(j===null){if(g=_.return,g!==null){h=g;continue}break}if(_.child===j.child){for(j=_.child;j;){if(j===h)return Vc(_),o;if(j===g)return Vc(_),a;j=j.sibling}throw Error(r(188))}if(h.return!==g.return)h=_,g=j;else{for(var M=!1,K=_.child;K;){if(K===h){M=!0,h=_,g=j;break}if(K===g){M=!0,g=_,h=j;break}K=K.sibling}if(!M){for(K=j.child;K;){if(K===h){M=!0,h=j,g=_;break}if(K===g){M=!0,g=j,h=_;break}K=K.sibling}if(!M)throw Error(r(189))}}if(h.alternate!==g)throw Error(r(190))}if(h.tag!==3)throw Error(r(188));return h.stateNode.current===h?o:a}function wu(o){return o=im(o),o!==null?ju(o):null}function ju(o){if(o.tag===5||o.tag===6)return o;for(o=o.child;o!==null;){var a=ju(o);if(a!==null)return a;o=o.sibling}return null}var Su=e.unstable_scheduleCallback,Gc=e.unstable_cancelCallback,am=e.unstable_shouldYield,ll=e.unstable_requestPaint,tr=e.unstable_now,lm=e.unstable_getCurrentPriorityLevel,Kc=e.unstable_ImmediatePriority,Eu=e.unstable_UserBlockingPriority,cl=e.unstable_NormalPriority,Zc=e.unstable_LowPriority,ei=e.unstable_IdlePriority,ia=null,kn=null;function aa(o){if(kn&&typeof kn.onCommitFiberRoot=="function")try{kn.onCommitFiberRoot(ia,o,void 0,(o.current.flags&128)===128)}catch{}}var ht=Math.clz32?Math.clz32:ti,Kt=Math.log,dl=Math.LN2;function ti(o){return o>>>=0,o===0?32:31-(Kt(o)/dl|0)|0}var fo=64,ri=4194304;function ut(o){switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return o&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return o}}function qt(o,a){var h=o.pendingLanes;if(h===0)return 0;var g=0,_=o.suspendedLanes,j=o.pingedLanes,M=h&268435455;if(M!==0){var K=M&~_;K!==0?g=ut(K):(j&=M,j!==0&&(g=ut(j)))}else M=h&~_,M!==0?g=ut(M):j!==0&&(g=ut(j));if(g===0)return 0;if(a!==0&&a!==g&&(a&_)===0&&(_=g&-g,j=a&-a,_>=j||_===16&&(j&4194240)!==0))return a;if((g&4)!==0&&(g|=h&16),a=o.entangledLanes,a!==0)for(o=o.entanglements,a&=g;0<a;)h=31-ht(a),_=1<<h,g|=o[h],a&=~_;return g}function Qc(o,a){switch(o){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ul(o,a){for(var h=o.suspendedLanes,g=o.pingedLanes,_=o.expirationTimes,j=o.pendingLanes;0<j;){var M=31-ht(j),K=1<<M,te=_[M];te===-1?((K&h)===0||(K&g)!==0)&&(_[M]=Qc(K,a)):te<=a&&(o.expiredLanes|=K),j&=~K}}function Hr(o){return o=o.pendingLanes&-1073741825,o!==0?o:o&1073741824?1073741824:0}function Nu(){var o=fo;return fo<<=1,(fo&4194240)===0&&(fo=64),o}function ni(o){for(var a=[],h=0;31>h;h++)a.push(o);return a}function Pn(o,a,h){o.pendingLanes|=a,a!==536870912&&(o.suspendedLanes=0,o.pingedLanes=0),o=o.eventTimes,a=31-ht(a),o[a]=h}function lr(o,a){var h=o.pendingLanes&~a;o.pendingLanes=a,o.suspendedLanes=0,o.pingedLanes=0,o.expiredLanes&=a,o.mutableReadLanes&=a,o.entangledLanes&=a,a=o.entanglements;var g=o.eventTimes;for(o=o.expirationTimes;0<h;){var _=31-ht(h),j=1<<_;a[_]=0,g[_]=-1,o[_]=-1,h&=~j}}function mo(o,a){var h=o.entangledLanes|=a;for(o=o.entanglements;h;){var g=31-ht(h),_=1<<g;_&a|o[g]&a&&(o[g]|=a),h&=~_}}var yt=0;function oi(o){return o&=-o,1<o?4<o?(o&268435455)!==0?16:536870912:4:1}var hl,gs,fl,ml,la,ca=!1,si=[],Tn=null,po=null,Vn=null,da=new Map,lt=new Map,Er=[],Dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Jc(o,a){switch(o){case"focusin":case"focusout":Tn=null;break;case"dragenter":case"dragleave":po=null;break;case"mouseover":case"mouseout":Vn=null;break;case"pointerover":case"pointerout":da.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":lt.delete(a.pointerId)}}function vs(o,a,h,g,_,j){return o===null||o.nativeEvent!==j?(o={blockedOn:a,domEventName:h,eventSystemFlags:g,nativeEvent:j,targetContainers:[_]},a!==null&&(a=Ns(a),a!==null&&gs(a)),o):(o.eventSystemFlags|=g,a=o.targetContainers,_!==null&&a.indexOf(_)===-1&&a.push(_),o)}function Yc(o,a,h,g,_){switch(a){case"focusin":return Tn=vs(Tn,o,a,h,g,_),!0;case"dragenter":return po=vs(po,o,a,h,g,_),!0;case"mouseover":return Vn=vs(Vn,o,a,h,g,_),!0;case"pointerover":var j=_.pointerId;return da.set(j,vs(da.get(j)||null,o,a,h,g,_)),!0;case"gotpointercapture":return j=_.pointerId,lt.set(j,vs(lt.get(j)||null,o,a,h,g,_)),!0}return!1}function pl(o){var a=Es(o.target);if(a!==null){var h=Uo(a);if(h!==null){if(a=h.tag,a===13){if(a=ps(h),a!==null){o.blockedOn=a,la(o.priority,function(){fl(h)});return}}else if(a===3&&h.stateNode.current.memoizedState.isDehydrated){o.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}o.blockedOn=null}function Gn(o){if(o.blockedOn!==null)return!1;for(var a=o.targetContainers;0<a.length;){var h=xl(o.domEventName,o.eventSystemFlags,a[0],o.nativeEvent);if(h===null){h=o.nativeEvent;var g=new h.constructor(h.type,h);dt=g,h.target.dispatchEvent(g),dt=null}else return a=Ns(h),a!==null&&gs(a),o.blockedOn=h,!1;a.shift()}return!0}function gl(o,a,h){Gn(o)&&h.delete(a)}function ua(){ca=!1,Tn!==null&&Gn(Tn)&&(Tn=null),po!==null&&Gn(po)&&(po=null),Vn!==null&&Gn(Vn)&&(Vn=null),da.forEach(gl),lt.forEach(gl)}function rr(o,a){o.blockedOn===a&&(o.blockedOn=null,ca||(ca=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,ua)))}function Rn(o){function a(_){return rr(_,o)}if(0<si.length){rr(si[0],o);for(var h=1;h<si.length;h++){var g=si[h];g.blockedOn===o&&(g.blockedOn=null)}}for(Tn!==null&&rr(Tn,o),po!==null&&rr(po,o),Vn!==null&&rr(Vn,o),da.forEach(a),lt.forEach(a),h=0;h<Er.length;h++)g=Er[h],g.blockedOn===o&&(g.blockedOn=null);for(;0<Er.length&&(h=Er[0],h.blockedOn===null);)pl(h),h.blockedOn===null&&Er.shift()}var xs=z.ReactCurrentBatchConfig,ha=!0;function cm(o,a,h,g){var _=yt,j=xs.transition;xs.transition=null;try{yt=1,fa(o,a,h,g)}finally{yt=_,xs.transition=j}}function Cu(o,a,h,g){var _=yt,j=xs.transition;xs.transition=null;try{yt=4,fa(o,a,h,g)}finally{yt=_,xs.transition=j}}function fa(o,a,h,g){if(ha){var _=xl(o,a,h,g);if(_===null)i(o,a,g,vl,h),Jc(o,g);else if(Yc(_,o,a,h,g))g.stopPropagation();else if(Jc(o,g),a&4&&-1<Dt.indexOf(o)){for(;_!==null;){var j=Ns(_);if(j!==null&&hl(j),j=xl(o,a,h,g),j===null&&i(o,a,g,vl,h),j===_)break;_=j}_!==null&&g.stopPropagation()}else i(o,a,g,null,h)}}var vl=null;function xl(o,a,h,g){if(vl=null,o=Xe(g),o=Es(o),o!==null)if(a=Uo(o),a===null)o=null;else if(h=a.tag,h===13){if(o=ps(a),o!==null)return o;o=null}else if(h===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;o=null}else a!==o&&(o=null);return vl=o,null}function vt(o){switch(o){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(lm()){case Kc:return 1;case Eu:return 4;case cl:case Zc:return 16;case ei:return 536870912;default:return 16}default:return 16}}var qo=null,tn=null,Wo=null;function Xc(){if(Wo)return Wo;var o,a=tn,h=a.length,g,_="value"in qo?qo.value:qo.textContent,j=_.length;for(o=0;o<h&&a[o]===_[o];o++);var M=h-o;for(g=1;g<=M&&a[h-g]===_[j-g];g++);return Wo=_.slice(o,1<g?1-g:void 0)}function yl(o){var a=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&a===13&&(o=13)):o=a,o===10&&(o=13),32<=o||o===13?o:0}function ii(){return!0}function ku(){return!1}function Vr(o){function a(h,g,_,j,M){this._reactName=h,this._targetInst=_,this.type=g,this.nativeEvent=j,this.target=M,this.currentTarget=null;for(var K in o)o.hasOwnProperty(K)&&(h=o[K],this[K]=h?h(j):j[K]);return this.isDefaultPrevented=(j.defaultPrevented!=null?j.defaultPrevented:j.returnValue===!1)?ii:ku,this.isPropagationStopped=ku,this}return le(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=ii)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=ii)},persist:function(){},isPersistent:ii}),a}var ai={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ed=Vr(ai),ys=le({},ai,{view:0,detail:0}),dm=Vr(ys),fn,td,li,An=le({},ys,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_s,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==li&&(li&&o.type==="mousemove"?(fn=o.screenX-li.screenX,td=o.screenY-li.screenY):td=fn=0,li=o),fn)},movementY:function(o){return"movementY"in o?o.movementY:td}}),rd=Vr(An),Pu=le({},An,{dataTransfer:0}),nd=Vr(Pu),um=le({},ys,{relatedTarget:0}),bl=Vr(um),Tu=le({},ai,{animationName:0,elapsedTime:0,pseudoElement:0}),hm=Vr(Tu),fm=le({},ai,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),od=Vr(fm),mm=le({},ai,{data:0}),sd=Vr(mm),Ru={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_l={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bs={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pm(o){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(o):(o=bs[o])?!!a[o]:!1}function _s(){return pm}var mn=le({},ys,{key:function(o){if(o.key){var a=Ru[o.key]||o.key;if(a!=="Unidentified")return a}return o.type==="keypress"?(o=yl(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?_l[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_s,charCode:function(o){return o.type==="keypress"?yl(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?yl(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),Au=Vr(mn),Ou=le({},An,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Mu=Vr(Ou),id=le({},ys,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_s}),ad=Vr(id),gm=le({},ai,{propertyName:0,elapsedTime:0,pseudoElement:0}),vm=Vr(gm),Lu=le({},An,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),xm=Vr(Lu),On=[9,13,27,32],Ho=p&&"CompositionEvent"in window,ma=null;p&&"documentMode"in document&&(ma=document.documentMode);var go=p&&"TextEvent"in window&&!ma,Iu=p&&(!Ho||ma&&8<ma&&11>=ma),ws=" ",Du=!1;function ci(o,a){switch(o){case"keyup":return On.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ld(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var vo=!1;function ym(o,a){switch(o){case"compositionend":return ld(a);case"keypress":return a.which!==32?null:(Du=!0,ws);case"textInput":return o=a.data,o===ws&&Du?null:o;default:return null}}function Vo(o,a){if(vo)return o==="compositionend"||!Ho&&ci(o,a)?(o=Xc(),Wo=tn=qo=null,vo=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Iu&&a.locale!=="ko"?null:a.data;default:return null}}var wl={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Bu(o){var a=o&&o.nodeName&&o.nodeName.toLowerCase();return a==="input"?!!wl[o.type]:a==="textarea"}function jl(o,a,h,g){st(g),a=f(a,"onChange"),0<a.length&&(h=new ed("onChange","change",null,h,g),o.push({event:h,listeners:a}))}var pa=null,rn=null;function bm(o){vd(o,0)}function xo(o){var a=Cs(o);if(Ie(a))return o}function _m(o,a){if(o==="change")return a}var Kn=!1;if(p){var di;if(p){var Sl="oninput"in document;if(!Sl){var El=document.createElement("div");El.setAttribute("oninput","return;"),Sl=typeof El.oninput=="function"}di=Sl}else di=!1;Kn=di&&(!document.documentMode||9<document.documentMode)}function ga(){pa&&(pa.detachEvent("onpropertychange",Nl),rn=pa=null)}function Nl(o){if(o.propertyName==="value"&&xo(rn)){var a=[];jl(a,rn,o,Xe(o)),Ut(bm,a)}}function Cl(o,a,h){o==="focusin"?(ga(),pa=a,rn=h,pa.attachEvent("onpropertychange",Nl)):o==="focusout"&&ga()}function ui(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return xo(rn)}function kl(o,a){if(o==="click")return xo(a)}function cd(o,a){if(o==="input"||o==="change")return xo(a)}function zu(o,a){return o===a&&(o!==0||1/o===1/a)||o!==o&&a!==a}var Mn=typeof Object.is=="function"?Object.is:zu;function Go(o,a){if(Mn(o,a))return!0;if(typeof o!="object"||o===null||typeof a!="object"||a===null)return!1;var h=Object.keys(o),g=Object.keys(a);if(h.length!==g.length)return!1;for(g=0;g<h.length;g++){var _=h[g];if(!m.call(a,_)||!Mn(o[_],a[_]))return!1}return!0}function $u(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function dd(o,a){var h=$u(o);o=0;for(var g;h;){if(h.nodeType===3){if(g=o+h.textContent.length,o<=a&&g>=a)return{node:h,offset:a-o};o=g}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=$u(h)}}function Fu(o,a){return o&&a?o===a?!0:o&&o.nodeType===3?!1:a&&a.nodeType===3?Fu(o,a.parentNode):"contains"in o?o.contains(a):o.compareDocumentPosition?!!(o.compareDocumentPosition(a)&16):!1:!1}function ud(){for(var o=window,a=nt();a instanceof o.HTMLIFrameElement;){try{var h=typeof a.contentWindow.location.href=="string"}catch{h=!1}if(h)o=a.contentWindow;else break;a=nt(o.document)}return a}function hd(o){var a=o&&o.nodeName&&o.nodeName.toLowerCase();return a&&(a==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||a==="textarea"||o.contentEditable==="true")}function Zn(o){var a=ud(),h=o.focusedElem,g=o.selectionRange;if(a!==h&&h&&h.ownerDocument&&Fu(h.ownerDocument.documentElement,h)){if(g!==null&&hd(h)){if(a=g.start,o=g.end,o===void 0&&(o=a),"selectionStart"in h)h.selectionStart=a,h.selectionEnd=Math.min(o,h.value.length);else if(o=(a=h.ownerDocument||document)&&a.defaultView||window,o.getSelection){o=o.getSelection();var _=h.textContent.length,j=Math.min(g.start,_);g=g.end===void 0?j:Math.min(g.end,_),!o.extend&&j>g&&(_=g,g=j,j=_),_=dd(h,j);var M=dd(h,g);_&&M&&(o.rangeCount!==1||o.anchorNode!==_.node||o.anchorOffset!==_.offset||o.focusNode!==M.node||o.focusOffset!==M.offset)&&(a=a.createRange(),a.setStart(_.node,_.offset),o.removeAllRanges(),j>g?(o.addRange(a),o.extend(M.node,M.offset)):(a.setEnd(M.node,M.offset),o.addRange(a)))}}for(a=[],o=h;o=o.parentNode;)o.nodeType===1&&a.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof h.focus=="function"&&h.focus(),h=0;h<a.length;h++)o=a[h],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var Pl=p&&"documentMode"in document&&11>=document.documentMode,hi=null,fi=null,va=null,Tl=!1;function Uu(o,a,h){var g=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;Tl||hi==null||hi!==nt(g)||(g=hi,"selectionStart"in g&&hd(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),va&&Go(va,g)||(va=g,g=f(fi,"onSelect"),0<g.length&&(a=new ed("onSelect","select",null,a,h),o.push({event:a,listeners:g}),a.target=hi)))}function Ko(o,a){var h={};return h[o.toLowerCase()]=a.toLowerCase(),h["Webkit"+o]="webkit"+a,h["Moz"+o]="moz"+a,h}var mi={animationend:Ko("Animation","AnimationEnd"),animationiteration:Ko("Animation","AnimationIteration"),animationstart:Ko("Animation","AnimationStart"),transitionend:Ko("Transition","TransitionEnd")},Zo={},fd={};p&&(fd=document.createElement("div").style,"AnimationEvent"in window||(delete mi.animationend.animation,delete mi.animationiteration.animation,delete mi.animationstart.animation),"TransitionEvent"in window||delete mi.transitionend.transition);function xa(o){if(Zo[o])return Zo[o];if(!mi[o])return o;var a=mi[o],h;for(h in a)if(a.hasOwnProperty(h)&&h in fd)return Zo[o]=a[h];return o}var qu=xa("animationend"),Qn=xa("animationiteration"),md=xa("animationstart"),pd=xa("transitionend"),pi=new Map,Wu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ln(o,a){pi.set(o,a),c(a,[o])}for(var js=0;js<Wu.length;js++){var Rl=Wu[js],Hu=Rl.toLowerCase(),wm=Rl[0].toUpperCase()+Rl.slice(1);Ln(Hu,"on"+wm)}Ln(qu,"onAnimationEnd"),Ln(Qn,"onAnimationIteration"),Ln(md,"onAnimationStart"),Ln("dblclick","onDoubleClick"),Ln("focusin","onFocus"),Ln("focusout","onBlur"),Ln(pd,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Vu=new Set("cancel close invalid load scroll toggle".split(" ").concat(gi));function gd(o,a,h){var g=o.type||"unknown-event";o.currentTarget=h,Hc(g,a,void 0,o),o.currentTarget=null}function vd(o,a){a=(a&4)!==0;for(var h=0;h<o.length;h++){var g=o[h],_=g.event;g=g.listeners;e:{var j=void 0;if(a)for(var M=g.length-1;0<=M;M--){var K=g[M],te=K.instance,ye=K.currentTarget;if(K=K.listener,te!==j&&_.isPropagationStopped())break e;gd(_,K,ye),j=te}else for(M=0;M<g.length;M++){if(K=g[M],te=K.instance,ye=K.currentTarget,K=K.listener,te!==j&&_.isPropagationStopped())break e;gd(_,K,ye),j=te}}}if(Fo)throw o=sa,Fo=!1,sa=null,o}function Bt(o,a){var h=a[bi];h===void 0&&(h=a[bi]=new Set);var g=o+"__bubble";h.has(g)||(Gu(a,o,2,!1),h.add(g))}function xd(o,a,h){var g=0;a&&(g|=4),Gu(h,o,g,a)}var ya="_reactListening"+Math.random().toString(36).slice(2);function vi(o){if(!o[ya]){o[ya]=!0,s.forEach(function(h){h!=="selectionchange"&&(Vu.has(h)||xd(h,!1,o),xd(h,!0,o))});var a=o.nodeType===9?o:o.ownerDocument;a===null||a[ya]||(a[ya]=!0,xd("selectionchange",!1,a))}}function Gu(o,a,h,g){switch(vt(a)){case 1:var _=cm;break;case 4:_=Cu;break;default:_=fa}h=_.bind(null,a,h,o),_=void 0,!Hn||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(_=!0),g?_!==void 0?o.addEventListener(a,h,{capture:!0,passive:_}):o.addEventListener(a,h,!0):_!==void 0?o.addEventListener(a,h,{passive:_}):o.addEventListener(a,h,!1)}function i(o,a,h,g,_){var j=g;if((a&1)===0&&(a&2)===0&&g!==null)e:for(;;){if(g===null)return;var M=g.tag;if(M===3||M===4){var K=g.stateNode.containerInfo;if(K===_||K.nodeType===8&&K.parentNode===_)break;if(M===4)for(M=g.return;M!==null;){var te=M.tag;if((te===3||te===4)&&(te=M.stateNode.containerInfo,te===_||te.nodeType===8&&te.parentNode===_))return;M=M.return}for(;K!==null;){if(M=Es(K),M===null)return;if(te=M.tag,te===5||te===6){g=j=M;continue e}K=K.parentNode}}g=g.return}Ut(function(){var ye=j,ke=Xe(h),Ae=[];e:{var Ce=pi.get(o);if(Ce!==void 0){var Fe=ed,We=o;switch(o){case"keypress":if(yl(h)===0)break e;case"keydown":case"keyup":Fe=Au;break;case"focusin":We="focus",Fe=bl;break;case"focusout":We="blur",Fe=bl;break;case"beforeblur":case"afterblur":Fe=bl;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Fe=rd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Fe=nd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Fe=ad;break;case qu:case Qn:case md:Fe=hm;break;case pd:Fe=vm;break;case"scroll":Fe=dm;break;case"wheel":Fe=xm;break;case"copy":case"cut":case"paste":Fe=od;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Fe=Mu}var Ge=(a&4)!==0,mr=!Ge&&o==="scroll",he=Ge?Ce!==null?Ce+"Capture":null:Ce;Ge=[];for(var oe=ye,fe;oe!==null;){fe=oe;var Oe=fe.stateNode;if(fe.tag===5&&Oe!==null&&(fe=Oe,he!==null&&(Oe=ar(oe,he),Oe!=null&&Ge.push(d(oe,Oe,fe)))),mr)break;oe=oe.return}0<Ge.length&&(Ce=new Fe(Ce,We,null,h,ke),Ae.push({event:Ce,listeners:Ge}))}}if((a&7)===0){e:{if(Ce=o==="mouseover"||o==="pointerover",Fe=o==="mouseout"||o==="pointerout",Ce&&h!==dt&&(We=h.relatedTarget||h.fromElement)&&(Es(We)||We[Rt]))break e;if((Fe||Ce)&&(Ce=ke.window===ke?ke:(Ce=ke.ownerDocument)?Ce.defaultView||Ce.parentWindow:window,Fe?(We=h.relatedTarget||h.toElement,Fe=ye,We=We?Es(We):null,We!==null&&(mr=Uo(We),We!==mr||We.tag!==5&&We.tag!==6)&&(We=null)):(Fe=null,We=ye),Fe!==We)){if(Ge=rd,Oe="onMouseLeave",he="onMouseEnter",oe="mouse",(o==="pointerout"||o==="pointerover")&&(Ge=Mu,Oe="onPointerLeave",he="onPointerEnter",oe="pointer"),mr=Fe==null?Ce:Cs(Fe),fe=We==null?Ce:Cs(We),Ce=new Ge(Oe,oe+"leave",Fe,h,ke),Ce.target=mr,Ce.relatedTarget=fe,Oe=null,Es(ke)===ye&&(Ge=new Ge(he,oe+"enter",We,h,ke),Ge.target=fe,Ge.relatedTarget=mr,Oe=Ge),mr=Oe,Fe&&We)t:{for(Ge=Fe,he=We,oe=0,fe=Ge;fe;fe=b(fe))oe++;for(fe=0,Oe=he;Oe;Oe=b(Oe))fe++;for(;0<oe-fe;)Ge=b(Ge),oe--;for(;0<fe-oe;)he=b(he),fe--;for(;oe--;){if(Ge===he||he!==null&&Ge===he.alternate)break t;Ge=b(Ge),he=b(he)}Ge=null}else Ge=null;Fe!==null&&C(Ae,Ce,Fe,Ge,!1),We!==null&&mr!==null&&C(Ae,mr,We,Ge,!0)}}e:{if(Ce=ye?Cs(ye):window,Fe=Ce.nodeName&&Ce.nodeName.toLowerCase(),Fe==="select"||Fe==="input"&&Ce.type==="file")var Ze=_m;else if(Bu(Ce))if(Kn)Ze=cd;else{Ze=ui;var tt=Cl}else(Fe=Ce.nodeName)&&Fe.toLowerCase()==="input"&&(Ce.type==="checkbox"||Ce.type==="radio")&&(Ze=kl);if(Ze&&(Ze=Ze(o,ye))){jl(Ae,Ze,h,ke);break e}tt&&tt(o,Ce,ye),o==="focusout"&&(tt=Ce._wrapperState)&&tt.controlled&&Ce.type==="number"&&Nt(Ce,"number",Ce.value)}switch(tt=ye?Cs(ye):window,o){case"focusin":(Bu(tt)||tt.contentEditable==="true")&&(hi=tt,fi=ye,va=null);break;case"focusout":va=fi=hi=null;break;case"mousedown":Tl=!0;break;case"contextmenu":case"mouseup":case"dragend":Tl=!1,Uu(Ae,h,ke);break;case"selectionchange":if(Pl)break;case"keydown":case"keyup":Uu(Ae,h,ke)}var rt;if(Ho)e:{switch(o){case"compositionstart":var ct="onCompositionStart";break e;case"compositionend":ct="onCompositionEnd";break e;case"compositionupdate":ct="onCompositionUpdate";break e}ct=void 0}else vo?ci(o,h)&&(ct="onCompositionEnd"):o==="keydown"&&h.keyCode===229&&(ct="onCompositionStart");ct&&(Iu&&h.locale!=="ko"&&(vo||ct!=="onCompositionStart"?ct==="onCompositionEnd"&&vo&&(rt=Xc()):(qo=ke,tn="value"in qo?qo.value:qo.textContent,vo=!0)),tt=f(ye,ct),0<tt.length&&(ct=new sd(ct,o,null,h,ke),Ae.push({event:ct,listeners:tt}),rt?ct.data=rt:(rt=ld(h),rt!==null&&(ct.data=rt)))),(rt=go?ym(o,h):Vo(o,h))&&(ye=f(ye,"onBeforeInput"),0<ye.length&&(ke=new sd("onBeforeInput","beforeinput",null,h,ke),Ae.push({event:ke,listeners:ye}),ke.data=rt))}vd(Ae,a)})}function d(o,a,h){return{instance:o,listener:a,currentTarget:h}}function f(o,a){for(var h=a+"Capture",g=[];o!==null;){var _=o,j=_.stateNode;_.tag===5&&j!==null&&(_=j,j=ar(o,h),j!=null&&g.unshift(d(o,j,_)),j=ar(o,a),j!=null&&g.push(d(o,j,_))),o=o.return}return g}function b(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5);return o||null}function C(o,a,h,g,_){for(var j=a._reactName,M=[];h!==null&&h!==g;){var K=h,te=K.alternate,ye=K.stateNode;if(te!==null&&te===g)break;K.tag===5&&ye!==null&&(K=ye,_?(te=ar(h,j),te!=null&&M.unshift(d(h,te,K))):_||(te=ar(h,j),te!=null&&M.push(d(h,te,K)))),h=h.return}M.length!==0&&o.push({event:a,listeners:M})}var I=/\r\n?/g,X=/\u0000|\uFFFD/g;function ue(o){return(typeof o=="string"?o:""+o).replace(I,`
`).replace(X,"")}function ve(o,a,h){if(a=ue(a),ue(o)!==a&&h)throw Error(r(425))}function Ne(){}var De=null,et=null;function ft(o,a){return o==="textarea"||o==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Nr=typeof setTimeout=="function"?setTimeout:void 0,xr=typeof clearTimeout=="function"?clearTimeout:void 0,nn=typeof Promise=="function"?Promise:void 0,Gr=typeof queueMicrotask=="function"?queueMicrotask:typeof nn<"u"?function(o){return nn.resolve(null).then(o).catch(xi)}:Nr;function xi(o){setTimeout(function(){throw o})}function yd(o,a){var h=a,g=0;do{var _=h.nextSibling;if(o.removeChild(h),_&&_.nodeType===8)if(h=_.data,h==="/$"){if(g===0){o.removeChild(_),Rn(a);return}g--}else h!=="$"&&h!=="$?"&&h!=="$!"||g++;h=_}while(h);Rn(a)}function Qo(o){for(;o!=null;o=o.nextSibling){var a=o.nodeType;if(a===1||a===3)break;if(a===8){if(a=o.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return o}function Ku(o){o=o.previousSibling;for(var a=0;o;){if(o.nodeType===8){var h=o.data;if(h==="$"||h==="$!"||h==="$?"){if(a===0)return o;a--}else h==="/$"&&a++}o=o.previousSibling}return null}var Ss=Math.random().toString(36).slice(2),Jn="__reactFiber$"+Ss,yi="__reactProps$"+Ss,Rt="__reactContainer$"+Ss,bi="__reactEvents$"+Ss,jm="__reactListeners$"+Ss,Sm="__reactHandles$"+Ss;function Es(o){var a=o[Jn];if(a)return a;for(var h=o.parentNode;h;){if(a=h[Rt]||h[Jn]){if(h=a.alternate,a.child!==null||h!==null&&h.child!==null)for(o=Ku(o);o!==null;){if(h=o[Jn])return h;o=Ku(o)}return a}o=h,h=o.parentNode}return null}function Ns(o){return o=o[Jn]||o[Rt],!o||o.tag!==5&&o.tag!==6&&o.tag!==13&&o.tag!==3?null:o}function Cs(o){if(o.tag===5||o.tag===6)return o.stateNode;throw Error(r(33))}function Al(o){return o[yi]||null}var Em=[],Ol=-1;function _i(o){return{current:o}}function Zt(o){0>Ol||(o.current=Em[Ol],Em[Ol]=null,Ol--)}function Wt(o,a){Ol++,Em[Ol]=o.current,o.current=a}var wi={},Kr=_i(wi),pn=_i(!1),ba=wi;function Ml(o,a){var h=o.type.contextTypes;if(!h)return wi;var g=o.stateNode;if(g&&g.__reactInternalMemoizedUnmaskedChildContext===a)return g.__reactInternalMemoizedMaskedChildContext;var _={},j;for(j in h)_[j]=a[j];return g&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=a,o.__reactInternalMemoizedMaskedChildContext=_),_}function gn(o){return o=o.childContextTypes,o!=null}function Zu(){Zt(pn),Zt(Kr)}function sx(o,a,h){if(Kr.current!==wi)throw Error(r(168));Wt(Kr,a),Wt(pn,h)}function ix(o,a,h){var g=o.stateNode;if(a=a.childContextTypes,typeof g.getChildContext!="function")return h;g=g.getChildContext();for(var _ in g)if(!(_ in a))throw Error(r(108,pe(o)||"Unknown",_));return le({},h,g)}function Qu(o){return o=(o=o.stateNode)&&o.__reactInternalMemoizedMergedChildContext||wi,ba=Kr.current,Wt(Kr,o),Wt(pn,pn.current),!0}function ax(o,a,h){var g=o.stateNode;if(!g)throw Error(r(169));h?(o=ix(o,a,ba),g.__reactInternalMemoizedMergedChildContext=o,Zt(pn),Zt(Kr),Wt(Kr,o)):Zt(pn),Wt(pn,h)}var ks=null,Ju=!1,Nm=!1;function lx(o){ks===null?ks=[o]:ks.push(o)}function KS(o){Ju=!0,lx(o)}function ji(){if(!Nm&&ks!==null){Nm=!0;var o=0,a=yt;try{var h=ks;for(yt=1;o<h.length;o++){var g=h[o];do g=g(!0);while(g!==null)}ks=null,Ju=!1}catch(_){throw ks!==null&&(ks=ks.slice(o+1)),Su(Kc,ji),_}finally{yt=a,Nm=!1}}return null}var Ll=[],Il=0,Yu=null,Xu=0,Yn=[],Xn=0,_a=null,Ps=1,Ts="";function wa(o,a){Ll[Il++]=Xu,Ll[Il++]=Yu,Yu=o,Xu=a}function cx(o,a,h){Yn[Xn++]=Ps,Yn[Xn++]=Ts,Yn[Xn++]=_a,_a=o;var g=Ps;o=Ts;var _=32-ht(g)-1;g&=~(1<<_),h+=1;var j=32-ht(a)+_;if(30<j){var M=_-_%5;j=(g&(1<<M)-1).toString(32),g>>=M,_-=M,Ps=1<<32-ht(a)+_|h<<_|g,Ts=j+o}else Ps=1<<j|h<<_|g,Ts=o}function Cm(o){o.return!==null&&(wa(o,1),cx(o,1,0))}function km(o){for(;o===Yu;)Yu=Ll[--Il],Ll[Il]=null,Xu=Ll[--Il],Ll[Il]=null;for(;o===_a;)_a=Yn[--Xn],Yn[Xn]=null,Ts=Yn[--Xn],Yn[Xn]=null,Ps=Yn[--Xn],Yn[Xn]=null}var In=null,Dn=null,Jt=!1,yo=null;function dx(o,a){var h=no(5,null,null,0);h.elementType="DELETED",h.stateNode=a,h.return=o,a=o.deletions,a===null?(o.deletions=[h],o.flags|=16):a.push(h)}function ux(o,a){switch(o.tag){case 5:var h=o.type;return a=a.nodeType!==1||h.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(o.stateNode=a,In=o,Dn=Qo(a.firstChild),!0):!1;case 6:return a=o.pendingProps===""||a.nodeType!==3?null:a,a!==null?(o.stateNode=a,In=o,Dn=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(h=_a!==null?{id:Ps,overflow:Ts}:null,o.memoizedState={dehydrated:a,treeContext:h,retryLane:1073741824},h=no(18,null,null,0),h.stateNode=a,h.return=o,o.child=h,In=o,Dn=null,!0):!1;default:return!1}}function Pm(o){return(o.mode&1)!==0&&(o.flags&128)===0}function Tm(o){if(Jt){var a=Dn;if(a){var h=a;if(!ux(o,a)){if(Pm(o))throw Error(r(418));a=Qo(h.nextSibling);var g=In;a&&ux(o,a)?dx(g,h):(o.flags=o.flags&-4097|2,Jt=!1,In=o)}}else{if(Pm(o))throw Error(r(418));o.flags=o.flags&-4097|2,Jt=!1,In=o}}}function hx(o){for(o=o.return;o!==null&&o.tag!==5&&o.tag!==3&&o.tag!==13;)o=o.return;In=o}function eh(o){if(o!==In)return!1;if(!Jt)return hx(o),Jt=!0,!1;var a;if((a=o.tag!==3)&&!(a=o.tag!==5)&&(a=o.type,a=a!=="head"&&a!=="body"&&!ft(o.type,o.memoizedProps)),a&&(a=Dn)){if(Pm(o))throw fx(),Error(r(418));for(;a;)dx(o,a),a=Qo(a.nextSibling)}if(hx(o),o.tag===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));e:{for(o=o.nextSibling,a=0;o;){if(o.nodeType===8){var h=o.data;if(h==="/$"){if(a===0){Dn=Qo(o.nextSibling);break e}a--}else h!=="$"&&h!=="$!"&&h!=="$?"||a++}o=o.nextSibling}Dn=null}}else Dn=In?Qo(o.stateNode.nextSibling):null;return!0}function fx(){for(var o=Dn;o;)o=Qo(o.nextSibling)}function Dl(){Dn=In=null,Jt=!1}function Rm(o){yo===null?yo=[o]:yo.push(o)}var ZS=z.ReactCurrentBatchConfig;function bd(o,a,h){if(o=h.ref,o!==null&&typeof o!="function"&&typeof o!="object"){if(h._owner){if(h=h._owner,h){if(h.tag!==1)throw Error(r(309));var g=h.stateNode}if(!g)throw Error(r(147,o));var _=g,j=""+o;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===j?a.ref:(a=function(M){var K=_.refs;M===null?delete K[j]:K[j]=M},a._stringRef=j,a)}if(typeof o!="string")throw Error(r(284));if(!h._owner)throw Error(r(290,o))}return o}function th(o,a){throw o=Object.prototype.toString.call(a),Error(r(31,o==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":o))}function mx(o){var a=o._init;return a(o._payload)}function px(o){function a(he,oe){if(o){var fe=he.deletions;fe===null?(he.deletions=[oe],he.flags|=16):fe.push(oe)}}function h(he,oe){if(!o)return null;for(;oe!==null;)a(he,oe),oe=oe.sibling;return null}function g(he,oe){for(he=new Map;oe!==null;)oe.key!==null?he.set(oe.key,oe):he.set(oe.index,oe),oe=oe.sibling;return he}function _(he,oe){return he=Ri(he,oe),he.index=0,he.sibling=null,he}function j(he,oe,fe){return he.index=fe,o?(fe=he.alternate,fe!==null?(fe=fe.index,fe<oe?(he.flags|=2,oe):fe):(he.flags|=2,oe)):(he.flags|=1048576,oe)}function M(he){return o&&he.alternate===null&&(he.flags|=2),he}function K(he,oe,fe,Oe){return oe===null||oe.tag!==6?(oe=wp(fe,he.mode,Oe),oe.return=he,oe):(oe=_(oe,fe),oe.return=he,oe)}function te(he,oe,fe,Oe){var Ze=fe.type;return Ze===J?ke(he,oe,fe.props.children,Oe,fe.key):oe!==null&&(oe.elementType===Ze||typeof Ze=="object"&&Ze!==null&&Ze.$$typeof===me&&mx(Ze)===oe.type)?(Oe=_(oe,fe.props),Oe.ref=bd(he,oe,fe),Oe.return=he,Oe):(Oe=Eh(fe.type,fe.key,fe.props,null,he.mode,Oe),Oe.ref=bd(he,oe,fe),Oe.return=he,Oe)}function ye(he,oe,fe,Oe){return oe===null||oe.tag!==4||oe.stateNode.containerInfo!==fe.containerInfo||oe.stateNode.implementation!==fe.implementation?(oe=jp(fe,he.mode,Oe),oe.return=he,oe):(oe=_(oe,fe.children||[]),oe.return=he,oe)}function ke(he,oe,fe,Oe,Ze){return oe===null||oe.tag!==7?(oe=Ta(fe,he.mode,Oe,Ze),oe.return=he,oe):(oe=_(oe,fe),oe.return=he,oe)}function Ae(he,oe,fe){if(typeof oe=="string"&&oe!==""||typeof oe=="number")return oe=wp(""+oe,he.mode,fe),oe.return=he,oe;if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case Y:return fe=Eh(oe.type,oe.key,oe.props,null,he.mode,fe),fe.ref=bd(he,null,oe),fe.return=he,fe;case D:return oe=jp(oe,he.mode,fe),oe.return=he,oe;case me:var Oe=oe._init;return Ae(he,Oe(oe._payload),fe)}if(ur(oe)||je(oe))return oe=Ta(oe,he.mode,fe,null),oe.return=he,oe;th(he,oe)}return null}function Ce(he,oe,fe,Oe){var Ze=oe!==null?oe.key:null;if(typeof fe=="string"&&fe!==""||typeof fe=="number")return Ze!==null?null:K(he,oe,""+fe,Oe);if(typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case Y:return fe.key===Ze?te(he,oe,fe,Oe):null;case D:return fe.key===Ze?ye(he,oe,fe,Oe):null;case me:return Ze=fe._init,Ce(he,oe,Ze(fe._payload),Oe)}if(ur(fe)||je(fe))return Ze!==null?null:ke(he,oe,fe,Oe,null);th(he,fe)}return null}function Fe(he,oe,fe,Oe,Ze){if(typeof Oe=="string"&&Oe!==""||typeof Oe=="number")return he=he.get(fe)||null,K(oe,he,""+Oe,Ze);if(typeof Oe=="object"&&Oe!==null){switch(Oe.$$typeof){case Y:return he=he.get(Oe.key===null?fe:Oe.key)||null,te(oe,he,Oe,Ze);case D:return he=he.get(Oe.key===null?fe:Oe.key)||null,ye(oe,he,Oe,Ze);case me:var tt=Oe._init;return Fe(he,oe,fe,tt(Oe._payload),Ze)}if(ur(Oe)||je(Oe))return he=he.get(fe)||null,ke(oe,he,Oe,Ze,null);th(oe,Oe)}return null}function We(he,oe,fe,Oe){for(var Ze=null,tt=null,rt=oe,ct=oe=0,Lr=null;rt!==null&&ct<fe.length;ct++){rt.index>ct?(Lr=rt,rt=null):Lr=rt.sibling;var Ct=Ce(he,rt,fe[ct],Oe);if(Ct===null){rt===null&&(rt=Lr);break}o&&rt&&Ct.alternate===null&&a(he,rt),oe=j(Ct,oe,ct),tt===null?Ze=Ct:tt.sibling=Ct,tt=Ct,rt=Lr}if(ct===fe.length)return h(he,rt),Jt&&wa(he,ct),Ze;if(rt===null){for(;ct<fe.length;ct++)rt=Ae(he,fe[ct],Oe),rt!==null&&(oe=j(rt,oe,ct),tt===null?Ze=rt:tt.sibling=rt,tt=rt);return Jt&&wa(he,ct),Ze}for(rt=g(he,rt);ct<fe.length;ct++)Lr=Fe(rt,he,ct,fe[ct],Oe),Lr!==null&&(o&&Lr.alternate!==null&&rt.delete(Lr.key===null?ct:Lr.key),oe=j(Lr,oe,ct),tt===null?Ze=Lr:tt.sibling=Lr,tt=Lr);return o&&rt.forEach(function(Ai){return a(he,Ai)}),Jt&&wa(he,ct),Ze}function Ge(he,oe,fe,Oe){var Ze=je(fe);if(typeof Ze!="function")throw Error(r(150));if(fe=Ze.call(fe),fe==null)throw Error(r(151));for(var tt=Ze=null,rt=oe,ct=oe=0,Lr=null,Ct=fe.next();rt!==null&&!Ct.done;ct++,Ct=fe.next()){rt.index>ct?(Lr=rt,rt=null):Lr=rt.sibling;var Ai=Ce(he,rt,Ct.value,Oe);if(Ai===null){rt===null&&(rt=Lr);break}o&&rt&&Ai.alternate===null&&a(he,rt),oe=j(Ai,oe,ct),tt===null?Ze=Ai:tt.sibling=Ai,tt=Ai,rt=Lr}if(Ct.done)return h(he,rt),Jt&&wa(he,ct),Ze;if(rt===null){for(;!Ct.done;ct++,Ct=fe.next())Ct=Ae(he,Ct.value,Oe),Ct!==null&&(oe=j(Ct,oe,ct),tt===null?Ze=Ct:tt.sibling=Ct,tt=Ct);return Jt&&wa(he,ct),Ze}for(rt=g(he,rt);!Ct.done;ct++,Ct=fe.next())Ct=Fe(rt,he,ct,Ct.value,Oe),Ct!==null&&(o&&Ct.alternate!==null&&rt.delete(Ct.key===null?ct:Ct.key),oe=j(Ct,oe,ct),tt===null?Ze=Ct:tt.sibling=Ct,tt=Ct);return o&&rt.forEach(function(kE){return a(he,kE)}),Jt&&wa(he,ct),Ze}function mr(he,oe,fe,Oe){if(typeof fe=="object"&&fe!==null&&fe.type===J&&fe.key===null&&(fe=fe.props.children),typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case Y:e:{for(var Ze=fe.key,tt=oe;tt!==null;){if(tt.key===Ze){if(Ze=fe.type,Ze===J){if(tt.tag===7){h(he,tt.sibling),oe=_(tt,fe.props.children),oe.return=he,he=oe;break e}}else if(tt.elementType===Ze||typeof Ze=="object"&&Ze!==null&&Ze.$$typeof===me&&mx(Ze)===tt.type){h(he,tt.sibling),oe=_(tt,fe.props),oe.ref=bd(he,tt,fe),oe.return=he,he=oe;break e}h(he,tt);break}else a(he,tt);tt=tt.sibling}fe.type===J?(oe=Ta(fe.props.children,he.mode,Oe,fe.key),oe.return=he,he=oe):(Oe=Eh(fe.type,fe.key,fe.props,null,he.mode,Oe),Oe.ref=bd(he,oe,fe),Oe.return=he,he=Oe)}return M(he);case D:e:{for(tt=fe.key;oe!==null;){if(oe.key===tt)if(oe.tag===4&&oe.stateNode.containerInfo===fe.containerInfo&&oe.stateNode.implementation===fe.implementation){h(he,oe.sibling),oe=_(oe,fe.children||[]),oe.return=he,he=oe;break e}else{h(he,oe);break}else a(he,oe);oe=oe.sibling}oe=jp(fe,he.mode,Oe),oe.return=he,he=oe}return M(he);case me:return tt=fe._init,mr(he,oe,tt(fe._payload),Oe)}if(ur(fe))return We(he,oe,fe,Oe);if(je(fe))return Ge(he,oe,fe,Oe);th(he,fe)}return typeof fe=="string"&&fe!==""||typeof fe=="number"?(fe=""+fe,oe!==null&&oe.tag===6?(h(he,oe.sibling),oe=_(oe,fe),oe.return=he,he=oe):(h(he,oe),oe=wp(fe,he.mode,Oe),oe.return=he,he=oe),M(he)):h(he,oe)}return mr}var Bl=px(!0),gx=px(!1),rh=_i(null),nh=null,zl=null,Am=null;function Om(){Am=zl=nh=null}function Mm(o){var a=rh.current;Zt(rh),o._currentValue=a}function Lm(o,a,h){for(;o!==null;){var g=o.alternate;if((o.childLanes&a)!==a?(o.childLanes|=a,g!==null&&(g.childLanes|=a)):g!==null&&(g.childLanes&a)!==a&&(g.childLanes|=a),o===h)break;o=o.return}}function $l(o,a){nh=o,Am=zl=null,o=o.dependencies,o!==null&&o.firstContext!==null&&((o.lanes&a)!==0&&(vn=!0),o.firstContext=null)}function eo(o){var a=o._currentValue;if(Am!==o)if(o={context:o,memoizedValue:a,next:null},zl===null){if(nh===null)throw Error(r(308));zl=o,nh.dependencies={lanes:0,firstContext:o}}else zl=zl.next=o;return a}var ja=null;function Im(o){ja===null?ja=[o]:ja.push(o)}function vx(o,a,h,g){var _=a.interleaved;return _===null?(h.next=h,Im(a)):(h.next=_.next,_.next=h),a.interleaved=h,Rs(o,g)}function Rs(o,a){o.lanes|=a;var h=o.alternate;for(h!==null&&(h.lanes|=a),h=o,o=o.return;o!==null;)o.childLanes|=a,h=o.alternate,h!==null&&(h.childLanes|=a),h=o,o=o.return;return h.tag===3?h.stateNode:null}var Si=!1;function Dm(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function xx(o,a){o=o.updateQueue,a.updateQueue===o&&(a.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,effects:o.effects})}function As(o,a){return{eventTime:o,lane:a,tag:0,payload:null,callback:null,next:null}}function Ei(o,a,h){var g=o.updateQueue;if(g===null)return null;if(g=g.shared,(Et&2)!==0){var _=g.pending;return _===null?a.next=a:(a.next=_.next,_.next=a),g.pending=a,Rs(o,h)}return _=g.interleaved,_===null?(a.next=a,Im(g)):(a.next=_.next,_.next=a),g.interleaved=a,Rs(o,h)}function oh(o,a,h){if(a=a.updateQueue,a!==null&&(a=a.shared,(h&4194240)!==0)){var g=a.lanes;g&=o.pendingLanes,h|=g,a.lanes=h,mo(o,h)}}function yx(o,a){var h=o.updateQueue,g=o.alternate;if(g!==null&&(g=g.updateQueue,h===g)){var _=null,j=null;if(h=h.firstBaseUpdate,h!==null){do{var M={eventTime:h.eventTime,lane:h.lane,tag:h.tag,payload:h.payload,callback:h.callback,next:null};j===null?_=j=M:j=j.next=M,h=h.next}while(h!==null);j===null?_=j=a:j=j.next=a}else _=j=a;h={baseState:g.baseState,firstBaseUpdate:_,lastBaseUpdate:j,shared:g.shared,effects:g.effects},o.updateQueue=h;return}o=h.lastBaseUpdate,o===null?h.firstBaseUpdate=a:o.next=a,h.lastBaseUpdate=a}function sh(o,a,h,g){var _=o.updateQueue;Si=!1;var j=_.firstBaseUpdate,M=_.lastBaseUpdate,K=_.shared.pending;if(K!==null){_.shared.pending=null;var te=K,ye=te.next;te.next=null,M===null?j=ye:M.next=ye,M=te;var ke=o.alternate;ke!==null&&(ke=ke.updateQueue,K=ke.lastBaseUpdate,K!==M&&(K===null?ke.firstBaseUpdate=ye:K.next=ye,ke.lastBaseUpdate=te))}if(j!==null){var Ae=_.baseState;M=0,ke=ye=te=null,K=j;do{var Ce=K.lane,Fe=K.eventTime;if((g&Ce)===Ce){ke!==null&&(ke=ke.next={eventTime:Fe,lane:0,tag:K.tag,payload:K.payload,callback:K.callback,next:null});e:{var We=o,Ge=K;switch(Ce=a,Fe=h,Ge.tag){case 1:if(We=Ge.payload,typeof We=="function"){Ae=We.call(Fe,Ae,Ce);break e}Ae=We;break e;case 3:We.flags=We.flags&-65537|128;case 0:if(We=Ge.payload,Ce=typeof We=="function"?We.call(Fe,Ae,Ce):We,Ce==null)break e;Ae=le({},Ae,Ce);break e;case 2:Si=!0}}K.callback!==null&&K.lane!==0&&(o.flags|=64,Ce=_.effects,Ce===null?_.effects=[K]:Ce.push(K))}else Fe={eventTime:Fe,lane:Ce,tag:K.tag,payload:K.payload,callback:K.callback,next:null},ke===null?(ye=ke=Fe,te=Ae):ke=ke.next=Fe,M|=Ce;if(K=K.next,K===null){if(K=_.shared.pending,K===null)break;Ce=K,K=Ce.next,Ce.next=null,_.lastBaseUpdate=Ce,_.shared.pending=null}}while(!0);if(ke===null&&(te=Ae),_.baseState=te,_.firstBaseUpdate=ye,_.lastBaseUpdate=ke,a=_.shared.interleaved,a!==null){_=a;do M|=_.lane,_=_.next;while(_!==a)}else j===null&&(_.shared.lanes=0);Na|=M,o.lanes=M,o.memoizedState=Ae}}function bx(o,a,h){if(o=a.effects,a.effects=null,o!==null)for(a=0;a<o.length;a++){var g=o[a],_=g.callback;if(_!==null){if(g.callback=null,g=h,typeof _!="function")throw Error(r(191,_));_.call(g)}}}var _d={},Jo=_i(_d),wd=_i(_d),jd=_i(_d);function Sa(o){if(o===_d)throw Error(r(174));return o}function Bm(o,a){switch(Wt(jd,a),Wt(wd,o),Wt(Jo,_d),o=a.nodeType,o){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:Wr(null,"");break;default:o=o===8?a.parentNode:a,a=o.namespaceURI||null,o=o.tagName,a=Wr(a,o)}Zt(Jo),Wt(Jo,a)}function Fl(){Zt(Jo),Zt(wd),Zt(jd)}function _x(o){Sa(jd.current);var a=Sa(Jo.current),h=Wr(a,o.type);a!==h&&(Wt(wd,o),Wt(Jo,h))}function zm(o){wd.current===o&&(Zt(Jo),Zt(wd))}var nr=_i(0);function ih(o){for(var a=o;a!==null;){if(a.tag===13){var h=a.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||h.data==="$?"||h.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===o)break;for(;a.sibling===null;){if(a.return===null||a.return===o)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var $m=[];function Fm(){for(var o=0;o<$m.length;o++)$m[o]._workInProgressVersionPrimary=null;$m.length=0}var ah=z.ReactCurrentDispatcher,Um=z.ReactCurrentBatchConfig,Ea=0,or=null,Cr=null,Or=null,lh=!1,Sd=!1,Ed=0,QS=0;function Zr(){throw Error(r(321))}function qm(o,a){if(a===null)return!1;for(var h=0;h<a.length&&h<o.length;h++)if(!Mn(o[h],a[h]))return!1;return!0}function Wm(o,a,h,g,_,j){if(Ea=j,or=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,ah.current=o===null||o.memoizedState===null?eE:tE,o=h(g,_),Sd){j=0;do{if(Sd=!1,Ed=0,25<=j)throw Error(r(301));j+=1,Or=Cr=null,a.updateQueue=null,ah.current=rE,o=h(g,_)}while(Sd)}if(ah.current=uh,a=Cr!==null&&Cr.next!==null,Ea=0,Or=Cr=or=null,lh=!1,a)throw Error(r(300));return o}function Hm(){var o=Ed!==0;return Ed=0,o}function Yo(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Or===null?or.memoizedState=Or=o:Or=Or.next=o,Or}function to(){if(Cr===null){var o=or.alternate;o=o!==null?o.memoizedState:null}else o=Cr.next;var a=Or===null?or.memoizedState:Or.next;if(a!==null)Or=a,Cr=o;else{if(o===null)throw Error(r(310));Cr=o,o={memoizedState:Cr.memoizedState,baseState:Cr.baseState,baseQueue:Cr.baseQueue,queue:Cr.queue,next:null},Or===null?or.memoizedState=Or=o:Or=Or.next=o}return Or}function Nd(o,a){return typeof a=="function"?a(o):a}function Vm(o){var a=to(),h=a.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=o;var g=Cr,_=g.baseQueue,j=h.pending;if(j!==null){if(_!==null){var M=_.next;_.next=j.next,j.next=M}g.baseQueue=_=j,h.pending=null}if(_!==null){j=_.next,g=g.baseState;var K=M=null,te=null,ye=j;do{var ke=ye.lane;if((Ea&ke)===ke)te!==null&&(te=te.next={lane:0,action:ye.action,hasEagerState:ye.hasEagerState,eagerState:ye.eagerState,next:null}),g=ye.hasEagerState?ye.eagerState:o(g,ye.action);else{var Ae={lane:ke,action:ye.action,hasEagerState:ye.hasEagerState,eagerState:ye.eagerState,next:null};te===null?(K=te=Ae,M=g):te=te.next=Ae,or.lanes|=ke,Na|=ke}ye=ye.next}while(ye!==null&&ye!==j);te===null?M=g:te.next=K,Mn(g,a.memoizedState)||(vn=!0),a.memoizedState=g,a.baseState=M,a.baseQueue=te,h.lastRenderedState=g}if(o=h.interleaved,o!==null){_=o;do j=_.lane,or.lanes|=j,Na|=j,_=_.next;while(_!==o)}else _===null&&(h.lanes=0);return[a.memoizedState,h.dispatch]}function Gm(o){var a=to(),h=a.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=o;var g=h.dispatch,_=h.pending,j=a.memoizedState;if(_!==null){h.pending=null;var M=_=_.next;do j=o(j,M.action),M=M.next;while(M!==_);Mn(j,a.memoizedState)||(vn=!0),a.memoizedState=j,a.baseQueue===null&&(a.baseState=j),h.lastRenderedState=j}return[j,g]}function wx(){}function jx(o,a){var h=or,g=to(),_=a(),j=!Mn(g.memoizedState,_);if(j&&(g.memoizedState=_,vn=!0),g=g.queue,Km(Nx.bind(null,h,g,o),[o]),g.getSnapshot!==a||j||Or!==null&&Or.memoizedState.tag&1){if(h.flags|=2048,Cd(9,Ex.bind(null,h,g,_,a),void 0,null),Mr===null)throw Error(r(349));(Ea&30)!==0||Sx(h,a,_)}return _}function Sx(o,a,h){o.flags|=16384,o={getSnapshot:a,value:h},a=or.updateQueue,a===null?(a={lastEffect:null,stores:null},or.updateQueue=a,a.stores=[o]):(h=a.stores,h===null?a.stores=[o]:h.push(o))}function Ex(o,a,h,g){a.value=h,a.getSnapshot=g,Cx(a)&&kx(o)}function Nx(o,a,h){return h(function(){Cx(a)&&kx(o)})}function Cx(o){var a=o.getSnapshot;o=o.value;try{var h=a();return!Mn(o,h)}catch{return!0}}function kx(o){var a=Rs(o,1);a!==null&&jo(a,o,1,-1)}function Px(o){var a=Yo();return typeof o=="function"&&(o=o()),a.memoizedState=a.baseState=o,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Nd,lastRenderedState:o},a.queue=o,o=o.dispatch=XS.bind(null,or,o),[a.memoizedState,o]}function Cd(o,a,h,g){return o={tag:o,create:a,destroy:h,deps:g,next:null},a=or.updateQueue,a===null?(a={lastEffect:null,stores:null},or.updateQueue=a,a.lastEffect=o.next=o):(h=a.lastEffect,h===null?a.lastEffect=o.next=o:(g=h.next,h.next=o,o.next=g,a.lastEffect=o)),o}function Tx(){return to().memoizedState}function ch(o,a,h,g){var _=Yo();or.flags|=o,_.memoizedState=Cd(1|a,h,void 0,g===void 0?null:g)}function dh(o,a,h,g){var _=to();g=g===void 0?null:g;var j=void 0;if(Cr!==null){var M=Cr.memoizedState;if(j=M.destroy,g!==null&&qm(g,M.deps)){_.memoizedState=Cd(a,h,j,g);return}}or.flags|=o,_.memoizedState=Cd(1|a,h,j,g)}function Rx(o,a){return ch(8390656,8,o,a)}function Km(o,a){return dh(2048,8,o,a)}function Ax(o,a){return dh(4,2,o,a)}function Ox(o,a){return dh(4,4,o,a)}function Mx(o,a){if(typeof a=="function")return o=o(),a(o),function(){a(null)};if(a!=null)return o=o(),a.current=o,function(){a.current=null}}function Lx(o,a,h){return h=h!=null?h.concat([o]):null,dh(4,4,Mx.bind(null,a,o),h)}function Zm(){}function Ix(o,a){var h=to();a=a===void 0?null:a;var g=h.memoizedState;return g!==null&&a!==null&&qm(a,g[1])?g[0]:(h.memoizedState=[o,a],o)}function Dx(o,a){var h=to();a=a===void 0?null:a;var g=h.memoizedState;return g!==null&&a!==null&&qm(a,g[1])?g[0]:(o=o(),h.memoizedState=[o,a],o)}function Bx(o,a,h){return(Ea&21)===0?(o.baseState&&(o.baseState=!1,vn=!0),o.memoizedState=h):(Mn(h,a)||(h=Nu(),or.lanes|=h,Na|=h,o.baseState=!0),a)}function JS(o,a){var h=yt;yt=h!==0&&4>h?h:4,o(!0);var g=Um.transition;Um.transition={};try{o(!1),a()}finally{yt=h,Um.transition=g}}function zx(){return to().memoizedState}function YS(o,a,h){var g=Pi(o);if(h={lane:g,action:h,hasEagerState:!1,eagerState:null,next:null},$x(o))Fx(a,h);else if(h=vx(o,a,h,g),h!==null){var _=sn();jo(h,o,g,_),Ux(h,a,g)}}function XS(o,a,h){var g=Pi(o),_={lane:g,action:h,hasEagerState:!1,eagerState:null,next:null};if($x(o))Fx(a,_);else{var j=o.alternate;if(o.lanes===0&&(j===null||j.lanes===0)&&(j=a.lastRenderedReducer,j!==null))try{var M=a.lastRenderedState,K=j(M,h);if(_.hasEagerState=!0,_.eagerState=K,Mn(K,M)){var te=a.interleaved;te===null?(_.next=_,Im(a)):(_.next=te.next,te.next=_),a.interleaved=_;return}}catch{}finally{}h=vx(o,a,_,g),h!==null&&(_=sn(),jo(h,o,g,_),Ux(h,a,g))}}function $x(o){var a=o.alternate;return o===or||a!==null&&a===or}function Fx(o,a){Sd=lh=!0;var h=o.pending;h===null?a.next=a:(a.next=h.next,h.next=a),o.pending=a}function Ux(o,a,h){if((h&4194240)!==0){var g=a.lanes;g&=o.pendingLanes,h|=g,a.lanes=h,mo(o,h)}}var uh={readContext:eo,useCallback:Zr,useContext:Zr,useEffect:Zr,useImperativeHandle:Zr,useInsertionEffect:Zr,useLayoutEffect:Zr,useMemo:Zr,useReducer:Zr,useRef:Zr,useState:Zr,useDebugValue:Zr,useDeferredValue:Zr,useTransition:Zr,useMutableSource:Zr,useSyncExternalStore:Zr,useId:Zr,unstable_isNewReconciler:!1},eE={readContext:eo,useCallback:function(o,a){return Yo().memoizedState=[o,a===void 0?null:a],o},useContext:eo,useEffect:Rx,useImperativeHandle:function(o,a,h){return h=h!=null?h.concat([o]):null,ch(4194308,4,Mx.bind(null,a,o),h)},useLayoutEffect:function(o,a){return ch(4194308,4,o,a)},useInsertionEffect:function(o,a){return ch(4,2,o,a)},useMemo:function(o,a){var h=Yo();return a=a===void 0?null:a,o=o(),h.memoizedState=[o,a],o},useReducer:function(o,a,h){var g=Yo();return a=h!==void 0?h(a):a,g.memoizedState=g.baseState=a,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:a},g.queue=o,o=o.dispatch=YS.bind(null,or,o),[g.memoizedState,o]},useRef:function(o){var a=Yo();return o={current:o},a.memoizedState=o},useState:Px,useDebugValue:Zm,useDeferredValue:function(o){return Yo().memoizedState=o},useTransition:function(){var o=Px(!1),a=o[0];return o=JS.bind(null,o[1]),Yo().memoizedState=o,[a,o]},useMutableSource:function(){},useSyncExternalStore:function(o,a,h){var g=or,_=Yo();if(Jt){if(h===void 0)throw Error(r(407));h=h()}else{if(h=a(),Mr===null)throw Error(r(349));(Ea&30)!==0||Sx(g,a,h)}_.memoizedState=h;var j={value:h,getSnapshot:a};return _.queue=j,Rx(Nx.bind(null,g,j,o),[o]),g.flags|=2048,Cd(9,Ex.bind(null,g,j,h,a),void 0,null),h},useId:function(){var o=Yo(),a=Mr.identifierPrefix;if(Jt){var h=Ts,g=Ps;h=(g&~(1<<32-ht(g)-1)).toString(32)+h,a=":"+a+"R"+h,h=Ed++,0<h&&(a+="H"+h.toString(32)),a+=":"}else h=QS++,a=":"+a+"r"+h.toString(32)+":";return o.memoizedState=a},unstable_isNewReconciler:!1},tE={readContext:eo,useCallback:Ix,useContext:eo,useEffect:Km,useImperativeHandle:Lx,useInsertionEffect:Ax,useLayoutEffect:Ox,useMemo:Dx,useReducer:Vm,useRef:Tx,useState:function(){return Vm(Nd)},useDebugValue:Zm,useDeferredValue:function(o){var a=to();return Bx(a,Cr.memoizedState,o)},useTransition:function(){var o=Vm(Nd)[0],a=to().memoizedState;return[o,a]},useMutableSource:wx,useSyncExternalStore:jx,useId:zx,unstable_isNewReconciler:!1},rE={readContext:eo,useCallback:Ix,useContext:eo,useEffect:Km,useImperativeHandle:Lx,useInsertionEffect:Ax,useLayoutEffect:Ox,useMemo:Dx,useReducer:Gm,useRef:Tx,useState:function(){return Gm(Nd)},useDebugValue:Zm,useDeferredValue:function(o){var a=to();return Cr===null?a.memoizedState=o:Bx(a,Cr.memoizedState,o)},useTransition:function(){var o=Gm(Nd)[0],a=to().memoizedState;return[o,a]},useMutableSource:wx,useSyncExternalStore:jx,useId:zx,unstable_isNewReconciler:!1};function bo(o,a){if(o&&o.defaultProps){a=le({},a),o=o.defaultProps;for(var h in o)a[h]===void 0&&(a[h]=o[h]);return a}return a}function Qm(o,a,h,g){a=o.memoizedState,h=h(g,a),h=h==null?a:le({},a,h),o.memoizedState=h,o.lanes===0&&(o.updateQueue.baseState=h)}var hh={isMounted:function(o){return(o=o._reactInternals)?Uo(o)===o:!1},enqueueSetState:function(o,a,h){o=o._reactInternals;var g=sn(),_=Pi(o),j=As(g,_);j.payload=a,h!=null&&(j.callback=h),a=Ei(o,j,_),a!==null&&(jo(a,o,_,g),oh(a,o,_))},enqueueReplaceState:function(o,a,h){o=o._reactInternals;var g=sn(),_=Pi(o),j=As(g,_);j.tag=1,j.payload=a,h!=null&&(j.callback=h),a=Ei(o,j,_),a!==null&&(jo(a,o,_,g),oh(a,o,_))},enqueueForceUpdate:function(o,a){o=o._reactInternals;var h=sn(),g=Pi(o),_=As(h,g);_.tag=2,a!=null&&(_.callback=a),a=Ei(o,_,g),a!==null&&(jo(a,o,g,h),oh(a,o,g))}};function qx(o,a,h,g,_,j,M){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(g,j,M):a.prototype&&a.prototype.isPureReactComponent?!Go(h,g)||!Go(_,j):!0}function Wx(o,a,h){var g=!1,_=wi,j=a.contextType;return typeof j=="object"&&j!==null?j=eo(j):(_=gn(a)?ba:Kr.current,g=a.contextTypes,j=(g=g!=null)?Ml(o,_):wi),a=new a(h,j),o.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=hh,o.stateNode=a,a._reactInternals=o,g&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=_,o.__reactInternalMemoizedMaskedChildContext=j),a}function Hx(o,a,h,g){o=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(h,g),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(h,g),a.state!==o&&hh.enqueueReplaceState(a,a.state,null)}function Jm(o,a,h,g){var _=o.stateNode;_.props=h,_.state=o.memoizedState,_.refs={},Dm(o);var j=a.contextType;typeof j=="object"&&j!==null?_.context=eo(j):(j=gn(a)?ba:Kr.current,_.context=Ml(o,j)),_.state=o.memoizedState,j=a.getDerivedStateFromProps,typeof j=="function"&&(Qm(o,a,j,h),_.state=o.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(a=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),a!==_.state&&hh.enqueueReplaceState(_,_.state,null),sh(o,h,_,g),_.state=o.memoizedState),typeof _.componentDidMount=="function"&&(o.flags|=4194308)}function Ul(o,a){try{var h="",g=a;do h+=ce(g),g=g.return;while(g);var _=h}catch(j){_=`
Error generating stack: `+j.message+`
`+j.stack}return{value:o,source:a,stack:_,digest:null}}function Ym(o,a,h){return{value:o,source:null,stack:h??null,digest:a??null}}function Xm(o,a){try{console.error(a.value)}catch(h){setTimeout(function(){throw h})}}var nE=typeof WeakMap=="function"?WeakMap:Map;function Vx(o,a,h){h=As(-1,h),h.tag=3,h.payload={element:null};var g=a.value;return h.callback=function(){yh||(yh=!0,mp=g),Xm(o,a)},h}function Gx(o,a,h){h=As(-1,h),h.tag=3;var g=o.type.getDerivedStateFromError;if(typeof g=="function"){var _=a.value;h.payload=function(){return g(_)},h.callback=function(){Xm(o,a)}}var j=o.stateNode;return j!==null&&typeof j.componentDidCatch=="function"&&(h.callback=function(){Xm(o,a),typeof g!="function"&&(Ci===null?Ci=new Set([this]):Ci.add(this));var M=a.stack;this.componentDidCatch(a.value,{componentStack:M!==null?M:""})}),h}function Kx(o,a,h){var g=o.pingCache;if(g===null){g=o.pingCache=new nE;var _=new Set;g.set(a,_)}else _=g.get(a),_===void 0&&(_=new Set,g.set(a,_));_.has(h)||(_.add(h),o=vE.bind(null,o,a,h),a.then(o,o))}function Zx(o){do{var a;if((a=o.tag===13)&&(a=o.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return o;o=o.return}while(o!==null);return null}function Qx(o,a,h,g,_){return(o.mode&1)===0?(o===a?o.flags|=65536:(o.flags|=128,h.flags|=131072,h.flags&=-52805,h.tag===1&&(h.alternate===null?h.tag=17:(a=As(-1,1),a.tag=2,Ei(h,a,1))),h.lanes|=1),o):(o.flags|=65536,o.lanes=_,o)}var oE=z.ReactCurrentOwner,vn=!1;function on(o,a,h,g){a.child=o===null?gx(a,null,h,g):Bl(a,o.child,h,g)}function Jx(o,a,h,g,_){h=h.render;var j=a.ref;return $l(a,_),g=Wm(o,a,h,g,j,_),h=Hm(),o!==null&&!vn?(a.updateQueue=o.updateQueue,a.flags&=-2053,o.lanes&=~_,Os(o,a,_)):(Jt&&h&&Cm(a),a.flags|=1,on(o,a,g,_),a.child)}function Yx(o,a,h,g,_){if(o===null){var j=h.type;return typeof j=="function"&&!_p(j)&&j.defaultProps===void 0&&h.compare===null&&h.defaultProps===void 0?(a.tag=15,a.type=j,Xx(o,a,j,g,_)):(o=Eh(h.type,null,g,a,a.mode,_),o.ref=a.ref,o.return=a,a.child=o)}if(j=o.child,(o.lanes&_)===0){var M=j.memoizedProps;if(h=h.compare,h=h!==null?h:Go,h(M,g)&&o.ref===a.ref)return Os(o,a,_)}return a.flags|=1,o=Ri(j,g),o.ref=a.ref,o.return=a,a.child=o}function Xx(o,a,h,g,_){if(o!==null){var j=o.memoizedProps;if(Go(j,g)&&o.ref===a.ref)if(vn=!1,a.pendingProps=g=j,(o.lanes&_)!==0)(o.flags&131072)!==0&&(vn=!0);else return a.lanes=o.lanes,Os(o,a,_)}return ep(o,a,h,g,_)}function e0(o,a,h){var g=a.pendingProps,_=g.children,j=o!==null?o.memoizedState:null;if(g.mode==="hidden")if((a.mode&1)===0)a.memoizedState={baseLanes:0,cachePool:null,transitions:null},Wt(Wl,Bn),Bn|=h;else{if((h&1073741824)===0)return o=j!==null?j.baseLanes|h:h,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:o,cachePool:null,transitions:null},a.updateQueue=null,Wt(Wl,Bn),Bn|=o,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},g=j!==null?j.baseLanes:h,Wt(Wl,Bn),Bn|=g}else j!==null?(g=j.baseLanes|h,a.memoizedState=null):g=h,Wt(Wl,Bn),Bn|=g;return on(o,a,_,h),a.child}function t0(o,a){var h=a.ref;(o===null&&h!==null||o!==null&&o.ref!==h)&&(a.flags|=512,a.flags|=2097152)}function ep(o,a,h,g,_){var j=gn(h)?ba:Kr.current;return j=Ml(a,j),$l(a,_),h=Wm(o,a,h,g,j,_),g=Hm(),o!==null&&!vn?(a.updateQueue=o.updateQueue,a.flags&=-2053,o.lanes&=~_,Os(o,a,_)):(Jt&&g&&Cm(a),a.flags|=1,on(o,a,h,_),a.child)}function r0(o,a,h,g,_){if(gn(h)){var j=!0;Qu(a)}else j=!1;if($l(a,_),a.stateNode===null)mh(o,a),Wx(a,h,g),Jm(a,h,g,_),g=!0;else if(o===null){var M=a.stateNode,K=a.memoizedProps;M.props=K;var te=M.context,ye=h.contextType;typeof ye=="object"&&ye!==null?ye=eo(ye):(ye=gn(h)?ba:Kr.current,ye=Ml(a,ye));var ke=h.getDerivedStateFromProps,Ae=typeof ke=="function"||typeof M.getSnapshotBeforeUpdate=="function";Ae||typeof M.UNSAFE_componentWillReceiveProps!="function"&&typeof M.componentWillReceiveProps!="function"||(K!==g||te!==ye)&&Hx(a,M,g,ye),Si=!1;var Ce=a.memoizedState;M.state=Ce,sh(a,g,M,_),te=a.memoizedState,K!==g||Ce!==te||pn.current||Si?(typeof ke=="function"&&(Qm(a,h,ke,g),te=a.memoizedState),(K=Si||qx(a,h,K,g,Ce,te,ye))?(Ae||typeof M.UNSAFE_componentWillMount!="function"&&typeof M.componentWillMount!="function"||(typeof M.componentWillMount=="function"&&M.componentWillMount(),typeof M.UNSAFE_componentWillMount=="function"&&M.UNSAFE_componentWillMount()),typeof M.componentDidMount=="function"&&(a.flags|=4194308)):(typeof M.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=g,a.memoizedState=te),M.props=g,M.state=te,M.context=ye,g=K):(typeof M.componentDidMount=="function"&&(a.flags|=4194308),g=!1)}else{M=a.stateNode,xx(o,a),K=a.memoizedProps,ye=a.type===a.elementType?K:bo(a.type,K),M.props=ye,Ae=a.pendingProps,Ce=M.context,te=h.contextType,typeof te=="object"&&te!==null?te=eo(te):(te=gn(h)?ba:Kr.current,te=Ml(a,te));var Fe=h.getDerivedStateFromProps;(ke=typeof Fe=="function"||typeof M.getSnapshotBeforeUpdate=="function")||typeof M.UNSAFE_componentWillReceiveProps!="function"&&typeof M.componentWillReceiveProps!="function"||(K!==Ae||Ce!==te)&&Hx(a,M,g,te),Si=!1,Ce=a.memoizedState,M.state=Ce,sh(a,g,M,_);var We=a.memoizedState;K!==Ae||Ce!==We||pn.current||Si?(typeof Fe=="function"&&(Qm(a,h,Fe,g),We=a.memoizedState),(ye=Si||qx(a,h,ye,g,Ce,We,te)||!1)?(ke||typeof M.UNSAFE_componentWillUpdate!="function"&&typeof M.componentWillUpdate!="function"||(typeof M.componentWillUpdate=="function"&&M.componentWillUpdate(g,We,te),typeof M.UNSAFE_componentWillUpdate=="function"&&M.UNSAFE_componentWillUpdate(g,We,te)),typeof M.componentDidUpdate=="function"&&(a.flags|=4),typeof M.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof M.componentDidUpdate!="function"||K===o.memoizedProps&&Ce===o.memoizedState||(a.flags|=4),typeof M.getSnapshotBeforeUpdate!="function"||K===o.memoizedProps&&Ce===o.memoizedState||(a.flags|=1024),a.memoizedProps=g,a.memoizedState=We),M.props=g,M.state=We,M.context=te,g=ye):(typeof M.componentDidUpdate!="function"||K===o.memoizedProps&&Ce===o.memoizedState||(a.flags|=4),typeof M.getSnapshotBeforeUpdate!="function"||K===o.memoizedProps&&Ce===o.memoizedState||(a.flags|=1024),g=!1)}return tp(o,a,h,g,j,_)}function tp(o,a,h,g,_,j){t0(o,a);var M=(a.flags&128)!==0;if(!g&&!M)return _&&ax(a,h,!1),Os(o,a,j);g=a.stateNode,oE.current=a;var K=M&&typeof h.getDerivedStateFromError!="function"?null:g.render();return a.flags|=1,o!==null&&M?(a.child=Bl(a,o.child,null,j),a.child=Bl(a,null,K,j)):on(o,a,K,j),a.memoizedState=g.state,_&&ax(a,h,!0),a.child}function n0(o){var a=o.stateNode;a.pendingContext?sx(o,a.pendingContext,a.pendingContext!==a.context):a.context&&sx(o,a.context,!1),Bm(o,a.containerInfo)}function o0(o,a,h,g,_){return Dl(),Rm(_),a.flags|=256,on(o,a,h,g),a.child}var rp={dehydrated:null,treeContext:null,retryLane:0};function np(o){return{baseLanes:o,cachePool:null,transitions:null}}function s0(o,a,h){var g=a.pendingProps,_=nr.current,j=!1,M=(a.flags&128)!==0,K;if((K=M)||(K=o!==null&&o.memoizedState===null?!1:(_&2)!==0),K?(j=!0,a.flags&=-129):(o===null||o.memoizedState!==null)&&(_|=1),Wt(nr,_&1),o===null)return Tm(a),o=a.memoizedState,o!==null&&(o=o.dehydrated,o!==null)?((a.mode&1)===0?a.lanes=1:o.data==="$!"?a.lanes=8:a.lanes=1073741824,null):(M=g.children,o=g.fallback,j?(g=a.mode,j=a.child,M={mode:"hidden",children:M},(g&1)===0&&j!==null?(j.childLanes=0,j.pendingProps=M):j=Nh(M,g,0,null),o=Ta(o,g,h,null),j.return=a,o.return=a,j.sibling=o,a.child=j,a.child.memoizedState=np(h),a.memoizedState=rp,o):op(a,M));if(_=o.memoizedState,_!==null&&(K=_.dehydrated,K!==null))return sE(o,a,M,g,K,_,h);if(j){j=g.fallback,M=a.mode,_=o.child,K=_.sibling;var te={mode:"hidden",children:g.children};return(M&1)===0&&a.child!==_?(g=a.child,g.childLanes=0,g.pendingProps=te,a.deletions=null):(g=Ri(_,te),g.subtreeFlags=_.subtreeFlags&14680064),K!==null?j=Ri(K,j):(j=Ta(j,M,h,null),j.flags|=2),j.return=a,g.return=a,g.sibling=j,a.child=g,g=j,j=a.child,M=o.child.memoizedState,M=M===null?np(h):{baseLanes:M.baseLanes|h,cachePool:null,transitions:M.transitions},j.memoizedState=M,j.childLanes=o.childLanes&~h,a.memoizedState=rp,g}return j=o.child,o=j.sibling,g=Ri(j,{mode:"visible",children:g.children}),(a.mode&1)===0&&(g.lanes=h),g.return=a,g.sibling=null,o!==null&&(h=a.deletions,h===null?(a.deletions=[o],a.flags|=16):h.push(o)),a.child=g,a.memoizedState=null,g}function op(o,a){return a=Nh({mode:"visible",children:a},o.mode,0,null),a.return=o,o.child=a}function fh(o,a,h,g){return g!==null&&Rm(g),Bl(a,o.child,null,h),o=op(a,a.pendingProps.children),o.flags|=2,a.memoizedState=null,o}function sE(o,a,h,g,_,j,M){if(h)return a.flags&256?(a.flags&=-257,g=Ym(Error(r(422))),fh(o,a,M,g)):a.memoizedState!==null?(a.child=o.child,a.flags|=128,null):(j=g.fallback,_=a.mode,g=Nh({mode:"visible",children:g.children},_,0,null),j=Ta(j,_,M,null),j.flags|=2,g.return=a,j.return=a,g.sibling=j,a.child=g,(a.mode&1)!==0&&Bl(a,o.child,null,M),a.child.memoizedState=np(M),a.memoizedState=rp,j);if((a.mode&1)===0)return fh(o,a,M,null);if(_.data==="$!"){if(g=_.nextSibling&&_.nextSibling.dataset,g)var K=g.dgst;return g=K,j=Error(r(419)),g=Ym(j,g,void 0),fh(o,a,M,g)}if(K=(M&o.childLanes)!==0,vn||K){if(g=Mr,g!==null){switch(M&-M){case 4:_=2;break;case 16:_=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:_=32;break;case 536870912:_=268435456;break;default:_=0}_=(_&(g.suspendedLanes|M))!==0?0:_,_!==0&&_!==j.retryLane&&(j.retryLane=_,Rs(o,_),jo(g,o,_,-1))}return bp(),g=Ym(Error(r(421))),fh(o,a,M,g)}return _.data==="$?"?(a.flags|=128,a.child=o.child,a=xE.bind(null,o),_._reactRetry=a,null):(o=j.treeContext,Dn=Qo(_.nextSibling),In=a,Jt=!0,yo=null,o!==null&&(Yn[Xn++]=Ps,Yn[Xn++]=Ts,Yn[Xn++]=_a,Ps=o.id,Ts=o.overflow,_a=a),a=op(a,g.children),a.flags|=4096,a)}function i0(o,a,h){o.lanes|=a;var g=o.alternate;g!==null&&(g.lanes|=a),Lm(o.return,a,h)}function sp(o,a,h,g,_){var j=o.memoizedState;j===null?o.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:g,tail:h,tailMode:_}:(j.isBackwards=a,j.rendering=null,j.renderingStartTime=0,j.last=g,j.tail=h,j.tailMode=_)}function a0(o,a,h){var g=a.pendingProps,_=g.revealOrder,j=g.tail;if(on(o,a,g.children,h),g=nr.current,(g&2)!==0)g=g&1|2,a.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=a.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&i0(o,h,a);else if(o.tag===19)i0(o,h,a);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break e;for(;o.sibling===null;){if(o.return===null||o.return===a)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}g&=1}if(Wt(nr,g),(a.mode&1)===0)a.memoizedState=null;else switch(_){case"forwards":for(h=a.child,_=null;h!==null;)o=h.alternate,o!==null&&ih(o)===null&&(_=h),h=h.sibling;h=_,h===null?(_=a.child,a.child=null):(_=h.sibling,h.sibling=null),sp(a,!1,_,h,j);break;case"backwards":for(h=null,_=a.child,a.child=null;_!==null;){if(o=_.alternate,o!==null&&ih(o)===null){a.child=_;break}o=_.sibling,_.sibling=h,h=_,_=o}sp(a,!0,h,null,j);break;case"together":sp(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function mh(o,a){(a.mode&1)===0&&o!==null&&(o.alternate=null,a.alternate=null,a.flags|=2)}function Os(o,a,h){if(o!==null&&(a.dependencies=o.dependencies),Na|=a.lanes,(h&a.childLanes)===0)return null;if(o!==null&&a.child!==o.child)throw Error(r(153));if(a.child!==null){for(o=a.child,h=Ri(o,o.pendingProps),a.child=h,h.return=a;o.sibling!==null;)o=o.sibling,h=h.sibling=Ri(o,o.pendingProps),h.return=a;h.sibling=null}return a.child}function iE(o,a,h){switch(a.tag){case 3:n0(a),Dl();break;case 5:_x(a);break;case 1:gn(a.type)&&Qu(a);break;case 4:Bm(a,a.stateNode.containerInfo);break;case 10:var g=a.type._context,_=a.memoizedProps.value;Wt(rh,g._currentValue),g._currentValue=_;break;case 13:if(g=a.memoizedState,g!==null)return g.dehydrated!==null?(Wt(nr,nr.current&1),a.flags|=128,null):(h&a.child.childLanes)!==0?s0(o,a,h):(Wt(nr,nr.current&1),o=Os(o,a,h),o!==null?o.sibling:null);Wt(nr,nr.current&1);break;case 19:if(g=(h&a.childLanes)!==0,(o.flags&128)!==0){if(g)return a0(o,a,h);a.flags|=128}if(_=a.memoizedState,_!==null&&(_.rendering=null,_.tail=null,_.lastEffect=null),Wt(nr,nr.current),g)break;return null;case 22:case 23:return a.lanes=0,e0(o,a,h)}return Os(o,a,h)}var l0,ip,c0,d0;l0=function(o,a){for(var h=a.child;h!==null;){if(h.tag===5||h.tag===6)o.appendChild(h.stateNode);else if(h.tag!==4&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===a)break;for(;h.sibling===null;){if(h.return===null||h.return===a)return;h=h.return}h.sibling.return=h.return,h=h.sibling}},ip=function(){},c0=function(o,a,h,g){var _=o.memoizedProps;if(_!==g){o=a.stateNode,Sa(Jo.current);var j=null;switch(h){case"input":_=it(o,_),g=it(o,g),j=[];break;case"select":_=le({},_,{value:void 0}),g=le({},g,{value:void 0}),j=[];break;case"textarea":_=jt(o,_),g=jt(o,g),j=[];break;default:typeof _.onClick!="function"&&typeof g.onClick=="function"&&(o.onclick=Ne)}Re(h,g);var M;h=null;for(ye in _)if(!g.hasOwnProperty(ye)&&_.hasOwnProperty(ye)&&_[ye]!=null)if(ye==="style"){var K=_[ye];for(M in K)K.hasOwnProperty(M)&&(h||(h={}),h[M]="")}else ye!=="dangerouslySetInnerHTML"&&ye!=="children"&&ye!=="suppressContentEditableWarning"&&ye!=="suppressHydrationWarning"&&ye!=="autoFocus"&&(l.hasOwnProperty(ye)?j||(j=[]):(j=j||[]).push(ye,null));for(ye in g){var te=g[ye];if(K=_!=null?_[ye]:void 0,g.hasOwnProperty(ye)&&te!==K&&(te!=null||K!=null))if(ye==="style")if(K){for(M in K)!K.hasOwnProperty(M)||te&&te.hasOwnProperty(M)||(h||(h={}),h[M]="");for(M in te)te.hasOwnProperty(M)&&K[M]!==te[M]&&(h||(h={}),h[M]=te[M])}else h||(j||(j=[]),j.push(ye,h)),h=te;else ye==="dangerouslySetInnerHTML"?(te=te?te.__html:void 0,K=K?K.__html:void 0,te!=null&&K!==te&&(j=j||[]).push(ye,te)):ye==="children"?typeof te!="string"&&typeof te!="number"||(j=j||[]).push(ye,""+te):ye!=="suppressContentEditableWarning"&&ye!=="suppressHydrationWarning"&&(l.hasOwnProperty(ye)?(te!=null&&ye==="onScroll"&&Bt("scroll",o),j||K===te||(j=[])):(j=j||[]).push(ye,te))}h&&(j=j||[]).push("style",h);var ye=j;(a.updateQueue=ye)&&(a.flags|=4)}},d0=function(o,a,h,g){h!==g&&(a.flags|=4)};function kd(o,a){if(!Jt)switch(o.tailMode){case"hidden":a=o.tail;for(var h=null;a!==null;)a.alternate!==null&&(h=a),a=a.sibling;h===null?o.tail=null:h.sibling=null;break;case"collapsed":h=o.tail;for(var g=null;h!==null;)h.alternate!==null&&(g=h),h=h.sibling;g===null?a||o.tail===null?o.tail=null:o.tail.sibling=null:g.sibling=null}}function Qr(o){var a=o.alternate!==null&&o.alternate.child===o.child,h=0,g=0;if(a)for(var _=o.child;_!==null;)h|=_.lanes|_.childLanes,g|=_.subtreeFlags&14680064,g|=_.flags&14680064,_.return=o,_=_.sibling;else for(_=o.child;_!==null;)h|=_.lanes|_.childLanes,g|=_.subtreeFlags,g|=_.flags,_.return=o,_=_.sibling;return o.subtreeFlags|=g,o.childLanes=h,a}function aE(o,a,h){var g=a.pendingProps;switch(km(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qr(a),null;case 1:return gn(a.type)&&Zu(),Qr(a),null;case 3:return g=a.stateNode,Fl(),Zt(pn),Zt(Kr),Fm(),g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),(o===null||o.child===null)&&(eh(a)?a.flags|=4:o===null||o.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,yo!==null&&(vp(yo),yo=null))),ip(o,a),Qr(a),null;case 5:zm(a);var _=Sa(jd.current);if(h=a.type,o!==null&&a.stateNode!=null)c0(o,a,h,g,_),o.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!g){if(a.stateNode===null)throw Error(r(166));return Qr(a),null}if(o=Sa(Jo.current),eh(a)){g=a.stateNode,h=a.type;var j=a.memoizedProps;switch(g[Jn]=a,g[yi]=j,o=(a.mode&1)!==0,h){case"dialog":Bt("cancel",g),Bt("close",g);break;case"iframe":case"object":case"embed":Bt("load",g);break;case"video":case"audio":for(_=0;_<gi.length;_++)Bt(gi[_],g);break;case"source":Bt("error",g);break;case"img":case"image":case"link":Bt("error",g),Bt("load",g);break;case"details":Bt("toggle",g);break;case"input":Lt(g,j),Bt("invalid",g);break;case"select":g._wrapperState={wasMultiple:!!j.multiple},Bt("invalid",g);break;case"textarea":Gt(g,j),Bt("invalid",g)}Re(h,j),_=null;for(var M in j)if(j.hasOwnProperty(M)){var K=j[M];M==="children"?typeof K=="string"?g.textContent!==K&&(j.suppressHydrationWarning!==!0&&ve(g.textContent,K,o),_=["children",K]):typeof K=="number"&&g.textContent!==""+K&&(j.suppressHydrationWarning!==!0&&ve(g.textContent,K,o),_=["children",""+K]):l.hasOwnProperty(M)&&K!=null&&M==="onScroll"&&Bt("scroll",g)}switch(h){case"input":$e(g),_t(g,j,!0);break;case"textarea":$e(g),Un(g);break;case"select":case"option":break;default:typeof j.onClick=="function"&&(g.onclick=Ne)}g=_,a.updateQueue=g,g!==null&&(a.flags|=4)}else{M=_.nodeType===9?_:_.ownerDocument,o==="http://www.w3.org/1999/xhtml"&&(o=Ar(h)),o==="http://www.w3.org/1999/xhtml"?h==="script"?(o=M.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild)):typeof g.is=="string"?o=M.createElement(h,{is:g.is}):(o=M.createElement(h),h==="select"&&(M=o,g.multiple?M.multiple=!0:g.size&&(M.size=g.size))):o=M.createElementNS(o,h),o[Jn]=a,o[yi]=g,l0(o,a,!1,!1),a.stateNode=o;e:{switch(M=at(h,g),h){case"dialog":Bt("cancel",o),Bt("close",o),_=g;break;case"iframe":case"object":case"embed":Bt("load",o),_=g;break;case"video":case"audio":for(_=0;_<gi.length;_++)Bt(gi[_],o);_=g;break;case"source":Bt("error",o),_=g;break;case"img":case"image":case"link":Bt("error",o),Bt("load",o),_=g;break;case"details":Bt("toggle",o),_=g;break;case"input":Lt(o,g),_=it(o,g),Bt("invalid",o);break;case"option":_=g;break;case"select":o._wrapperState={wasMultiple:!!g.multiple},_=le({},g,{value:void 0}),Bt("invalid",o);break;case"textarea":Gt(o,g),_=jt(o,g),Bt("invalid",o);break;default:_=g}Re(h,_),K=_;for(j in K)if(K.hasOwnProperty(j)){var te=K[j];j==="style"?ge(o,te):j==="dangerouslySetInnerHTML"?(te=te?te.__html:void 0,te!=null&&Ee(o,te)):j==="children"?typeof te=="string"?(h!=="textarea"||te!=="")&&G(o,te):typeof te=="number"&&G(o,""+te):j!=="suppressContentEditableWarning"&&j!=="suppressHydrationWarning"&&j!=="autoFocus"&&(l.hasOwnProperty(j)?te!=null&&j==="onScroll"&&Bt("scroll",o):te!=null&&R(o,j,te,M))}switch(h){case"input":$e(o),_t(o,g,!1);break;case"textarea":$e(o),Un(o);break;case"option":g.value!=null&&o.setAttribute("value",""+ie(g.value));break;case"select":o.multiple=!!g.multiple,j=g.value,j!=null?gr(o,!!g.multiple,j,!1):g.defaultValue!=null&&gr(o,!!g.multiple,g.defaultValue,!0);break;default:typeof _.onClick=="function"&&(o.onclick=Ne)}switch(h){case"button":case"input":case"select":case"textarea":g=!!g.autoFocus;break e;case"img":g=!0;break e;default:g=!1}}g&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return Qr(a),null;case 6:if(o&&a.stateNode!=null)d0(o,a,o.memoizedProps,g);else{if(typeof g!="string"&&a.stateNode===null)throw Error(r(166));if(h=Sa(jd.current),Sa(Jo.current),eh(a)){if(g=a.stateNode,h=a.memoizedProps,g[Jn]=a,(j=g.nodeValue!==h)&&(o=In,o!==null))switch(o.tag){case 3:ve(g.nodeValue,h,(o.mode&1)!==0);break;case 5:o.memoizedProps.suppressHydrationWarning!==!0&&ve(g.nodeValue,h,(o.mode&1)!==0)}j&&(a.flags|=4)}else g=(h.nodeType===9?h:h.ownerDocument).createTextNode(g),g[Jn]=a,a.stateNode=g}return Qr(a),null;case 13:if(Zt(nr),g=a.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(Jt&&Dn!==null&&(a.mode&1)!==0&&(a.flags&128)===0)fx(),Dl(),a.flags|=98560,j=!1;else if(j=eh(a),g!==null&&g.dehydrated!==null){if(o===null){if(!j)throw Error(r(318));if(j=a.memoizedState,j=j!==null?j.dehydrated:null,!j)throw Error(r(317));j[Jn]=a}else Dl(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Qr(a),j=!1}else yo!==null&&(vp(yo),yo=null),j=!0;if(!j)return a.flags&65536?a:null}return(a.flags&128)!==0?(a.lanes=h,a):(g=g!==null,g!==(o!==null&&o.memoizedState!==null)&&g&&(a.child.flags|=8192,(a.mode&1)!==0&&(o===null||(nr.current&1)!==0?kr===0&&(kr=3):bp())),a.updateQueue!==null&&(a.flags|=4),Qr(a),null);case 4:return Fl(),ip(o,a),o===null&&vi(a.stateNode.containerInfo),Qr(a),null;case 10:return Mm(a.type._context),Qr(a),null;case 17:return gn(a.type)&&Zu(),Qr(a),null;case 19:if(Zt(nr),j=a.memoizedState,j===null)return Qr(a),null;if(g=(a.flags&128)!==0,M=j.rendering,M===null)if(g)kd(j,!1);else{if(kr!==0||o!==null&&(o.flags&128)!==0)for(o=a.child;o!==null;){if(M=ih(o),M!==null){for(a.flags|=128,kd(j,!1),g=M.updateQueue,g!==null&&(a.updateQueue=g,a.flags|=4),a.subtreeFlags=0,g=h,h=a.child;h!==null;)j=h,o=g,j.flags&=14680066,M=j.alternate,M===null?(j.childLanes=0,j.lanes=o,j.child=null,j.subtreeFlags=0,j.memoizedProps=null,j.memoizedState=null,j.updateQueue=null,j.dependencies=null,j.stateNode=null):(j.childLanes=M.childLanes,j.lanes=M.lanes,j.child=M.child,j.subtreeFlags=0,j.deletions=null,j.memoizedProps=M.memoizedProps,j.memoizedState=M.memoizedState,j.updateQueue=M.updateQueue,j.type=M.type,o=M.dependencies,j.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),h=h.sibling;return Wt(nr,nr.current&1|2),a.child}o=o.sibling}j.tail!==null&&tr()>Hl&&(a.flags|=128,g=!0,kd(j,!1),a.lanes=4194304)}else{if(!g)if(o=ih(M),o!==null){if(a.flags|=128,g=!0,h=o.updateQueue,h!==null&&(a.updateQueue=h,a.flags|=4),kd(j,!0),j.tail===null&&j.tailMode==="hidden"&&!M.alternate&&!Jt)return Qr(a),null}else 2*tr()-j.renderingStartTime>Hl&&h!==1073741824&&(a.flags|=128,g=!0,kd(j,!1),a.lanes=4194304);j.isBackwards?(M.sibling=a.child,a.child=M):(h=j.last,h!==null?h.sibling=M:a.child=M,j.last=M)}return j.tail!==null?(a=j.tail,j.rendering=a,j.tail=a.sibling,j.renderingStartTime=tr(),a.sibling=null,h=nr.current,Wt(nr,g?h&1|2:h&1),a):(Qr(a),null);case 22:case 23:return yp(),g=a.memoizedState!==null,o!==null&&o.memoizedState!==null!==g&&(a.flags|=8192),g&&(a.mode&1)!==0?(Bn&1073741824)!==0&&(Qr(a),a.subtreeFlags&6&&(a.flags|=8192)):Qr(a),null;case 24:return null;case 25:return null}throw Error(r(156,a.tag))}function lE(o,a){switch(km(a),a.tag){case 1:return gn(a.type)&&Zu(),o=a.flags,o&65536?(a.flags=o&-65537|128,a):null;case 3:return Fl(),Zt(pn),Zt(Kr),Fm(),o=a.flags,(o&65536)!==0&&(o&128)===0?(a.flags=o&-65537|128,a):null;case 5:return zm(a),null;case 13:if(Zt(nr),o=a.memoizedState,o!==null&&o.dehydrated!==null){if(a.alternate===null)throw Error(r(340));Dl()}return o=a.flags,o&65536?(a.flags=o&-65537|128,a):null;case 19:return Zt(nr),null;case 4:return Fl(),null;case 10:return Mm(a.type._context),null;case 22:case 23:return yp(),null;case 24:return null;default:return null}}var ph=!1,Jr=!1,cE=typeof WeakSet=="function"?WeakSet:Set,Ue=null;function ql(o,a){var h=o.ref;if(h!==null)if(typeof h=="function")try{h(null)}catch(g){cr(o,a,g)}else h.current=null}function ap(o,a,h){try{h()}catch(g){cr(o,a,g)}}var u0=!1;function dE(o,a){if(De=ha,o=ud(),hd(o)){if("selectionStart"in o)var h={start:o.selectionStart,end:o.selectionEnd};else e:{h=(h=o.ownerDocument)&&h.defaultView||window;var g=h.getSelection&&h.getSelection();if(g&&g.rangeCount!==0){h=g.anchorNode;var _=g.anchorOffset,j=g.focusNode;g=g.focusOffset;try{h.nodeType,j.nodeType}catch{h=null;break e}var M=0,K=-1,te=-1,ye=0,ke=0,Ae=o,Ce=null;t:for(;;){for(var Fe;Ae!==h||_!==0&&Ae.nodeType!==3||(K=M+_),Ae!==j||g!==0&&Ae.nodeType!==3||(te=M+g),Ae.nodeType===3&&(M+=Ae.nodeValue.length),(Fe=Ae.firstChild)!==null;)Ce=Ae,Ae=Fe;for(;;){if(Ae===o)break t;if(Ce===h&&++ye===_&&(K=M),Ce===j&&++ke===g&&(te=M),(Fe=Ae.nextSibling)!==null)break;Ae=Ce,Ce=Ae.parentNode}Ae=Fe}h=K===-1||te===-1?null:{start:K,end:te}}else h=null}h=h||{start:0,end:0}}else h=null;for(et={focusedElem:o,selectionRange:h},ha=!1,Ue=a;Ue!==null;)if(a=Ue,o=a.child,(a.subtreeFlags&1028)!==0&&o!==null)o.return=a,Ue=o;else for(;Ue!==null;){a=Ue;try{var We=a.alternate;if((a.flags&1024)!==0)switch(a.tag){case 0:case 11:case 15:break;case 1:if(We!==null){var Ge=We.memoizedProps,mr=We.memoizedState,he=a.stateNode,oe=he.getSnapshotBeforeUpdate(a.elementType===a.type?Ge:bo(a.type,Ge),mr);he.__reactInternalSnapshotBeforeUpdate=oe}break;case 3:var fe=a.stateNode.containerInfo;fe.nodeType===1?fe.textContent="":fe.nodeType===9&&fe.documentElement&&fe.removeChild(fe.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(Oe){cr(a,a.return,Oe)}if(o=a.sibling,o!==null){o.return=a.return,Ue=o;break}Ue=a.return}return We=u0,u0=!1,We}function Pd(o,a,h){var g=a.updateQueue;if(g=g!==null?g.lastEffect:null,g!==null){var _=g=g.next;do{if((_.tag&o)===o){var j=_.destroy;_.destroy=void 0,j!==void 0&&ap(a,h,j)}_=_.next}while(_!==g)}}function gh(o,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var h=a=a.next;do{if((h.tag&o)===o){var g=h.create;h.destroy=g()}h=h.next}while(h!==a)}}function lp(o){var a=o.ref;if(a!==null){var h=o.stateNode;switch(o.tag){case 5:o=h;break;default:o=h}typeof a=="function"?a(o):a.current=o}}function h0(o){var a=o.alternate;a!==null&&(o.alternate=null,h0(a)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(a=o.stateNode,a!==null&&(delete a[Jn],delete a[yi],delete a[bi],delete a[jm],delete a[Sm])),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}function f0(o){return o.tag===5||o.tag===3||o.tag===4}function m0(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||f0(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function cp(o,a,h){var g=o.tag;if(g===5||g===6)o=o.stateNode,a?h.nodeType===8?h.parentNode.insertBefore(o,a):h.insertBefore(o,a):(h.nodeType===8?(a=h.parentNode,a.insertBefore(o,h)):(a=h,a.appendChild(o)),h=h._reactRootContainer,h!=null||a.onclick!==null||(a.onclick=Ne));else if(g!==4&&(o=o.child,o!==null))for(cp(o,a,h),o=o.sibling;o!==null;)cp(o,a,h),o=o.sibling}function dp(o,a,h){var g=o.tag;if(g===5||g===6)o=o.stateNode,a?h.insertBefore(o,a):h.appendChild(o);else if(g!==4&&(o=o.child,o!==null))for(dp(o,a,h),o=o.sibling;o!==null;)dp(o,a,h),o=o.sibling}var $r=null,_o=!1;function Ni(o,a,h){for(h=h.child;h!==null;)p0(o,a,h),h=h.sibling}function p0(o,a,h){if(kn&&typeof kn.onCommitFiberUnmount=="function")try{kn.onCommitFiberUnmount(ia,h)}catch{}switch(h.tag){case 5:Jr||ql(h,a);case 6:var g=$r,_=_o;$r=null,Ni(o,a,h),$r=g,_o=_,$r!==null&&(_o?(o=$r,h=h.stateNode,o.nodeType===8?o.parentNode.removeChild(h):o.removeChild(h)):$r.removeChild(h.stateNode));break;case 18:$r!==null&&(_o?(o=$r,h=h.stateNode,o.nodeType===8?yd(o.parentNode,h):o.nodeType===1&&yd(o,h),Rn(o)):yd($r,h.stateNode));break;case 4:g=$r,_=_o,$r=h.stateNode.containerInfo,_o=!0,Ni(o,a,h),$r=g,_o=_;break;case 0:case 11:case 14:case 15:if(!Jr&&(g=h.updateQueue,g!==null&&(g=g.lastEffect,g!==null))){_=g=g.next;do{var j=_,M=j.destroy;j=j.tag,M!==void 0&&((j&2)!==0||(j&4)!==0)&&ap(h,a,M),_=_.next}while(_!==g)}Ni(o,a,h);break;case 1:if(!Jr&&(ql(h,a),g=h.stateNode,typeof g.componentWillUnmount=="function"))try{g.props=h.memoizedProps,g.state=h.memoizedState,g.componentWillUnmount()}catch(K){cr(h,a,K)}Ni(o,a,h);break;case 21:Ni(o,a,h);break;case 22:h.mode&1?(Jr=(g=Jr)||h.memoizedState!==null,Ni(o,a,h),Jr=g):Ni(o,a,h);break;default:Ni(o,a,h)}}function g0(o){var a=o.updateQueue;if(a!==null){o.updateQueue=null;var h=o.stateNode;h===null&&(h=o.stateNode=new cE),a.forEach(function(g){var _=yE.bind(null,o,g);h.has(g)||(h.add(g),g.then(_,_))})}}function wo(o,a){var h=a.deletions;if(h!==null)for(var g=0;g<h.length;g++){var _=h[g];try{var j=o,M=a,K=M;e:for(;K!==null;){switch(K.tag){case 5:$r=K.stateNode,_o=!1;break e;case 3:$r=K.stateNode.containerInfo,_o=!0;break e;case 4:$r=K.stateNode.containerInfo,_o=!0;break e}K=K.return}if($r===null)throw Error(r(160));p0(j,M,_),$r=null,_o=!1;var te=_.alternate;te!==null&&(te.return=null),_.return=null}catch(ye){cr(_,a,ye)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)v0(a,o),a=a.sibling}function v0(o,a){var h=o.alternate,g=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:if(wo(a,o),Xo(o),g&4){try{Pd(3,o,o.return),gh(3,o)}catch(Ge){cr(o,o.return,Ge)}try{Pd(5,o,o.return)}catch(Ge){cr(o,o.return,Ge)}}break;case 1:wo(a,o),Xo(o),g&512&&h!==null&&ql(h,h.return);break;case 5:if(wo(a,o),Xo(o),g&512&&h!==null&&ql(h,h.return),o.flags&32){var _=o.stateNode;try{G(_,"")}catch(Ge){cr(o,o.return,Ge)}}if(g&4&&(_=o.stateNode,_!=null)){var j=o.memoizedProps,M=h!==null?h.memoizedProps:j,K=o.type,te=o.updateQueue;if(o.updateQueue=null,te!==null)try{K==="input"&&j.type==="radio"&&j.name!=null&&$t(_,j),at(K,M);var ye=at(K,j);for(M=0;M<te.length;M+=2){var ke=te[M],Ae=te[M+1];ke==="style"?ge(_,Ae):ke==="dangerouslySetInnerHTML"?Ee(_,Ae):ke==="children"?G(_,Ae):R(_,ke,Ae,ye)}switch(K){case"input":Pt(_,j);break;case"textarea":Cn(_,j);break;case"select":var Ce=_._wrapperState.wasMultiple;_._wrapperState.wasMultiple=!!j.multiple;var Fe=j.value;Fe!=null?gr(_,!!j.multiple,Fe,!1):Ce!==!!j.multiple&&(j.defaultValue!=null?gr(_,!!j.multiple,j.defaultValue,!0):gr(_,!!j.multiple,j.multiple?[]:"",!1))}_[yi]=j}catch(Ge){cr(o,o.return,Ge)}}break;case 6:if(wo(a,o),Xo(o),g&4){if(o.stateNode===null)throw Error(r(162));_=o.stateNode,j=o.memoizedProps;try{_.nodeValue=j}catch(Ge){cr(o,o.return,Ge)}}break;case 3:if(wo(a,o),Xo(o),g&4&&h!==null&&h.memoizedState.isDehydrated)try{Rn(a.containerInfo)}catch(Ge){cr(o,o.return,Ge)}break;case 4:wo(a,o),Xo(o);break;case 13:wo(a,o),Xo(o),_=o.child,_.flags&8192&&(j=_.memoizedState!==null,_.stateNode.isHidden=j,!j||_.alternate!==null&&_.alternate.memoizedState!==null||(fp=tr())),g&4&&g0(o);break;case 22:if(ke=h!==null&&h.memoizedState!==null,o.mode&1?(Jr=(ye=Jr)||ke,wo(a,o),Jr=ye):wo(a,o),Xo(o),g&8192){if(ye=o.memoizedState!==null,(o.stateNode.isHidden=ye)&&!ke&&(o.mode&1)!==0)for(Ue=o,ke=o.child;ke!==null;){for(Ae=Ue=ke;Ue!==null;){switch(Ce=Ue,Fe=Ce.child,Ce.tag){case 0:case 11:case 14:case 15:Pd(4,Ce,Ce.return);break;case 1:ql(Ce,Ce.return);var We=Ce.stateNode;if(typeof We.componentWillUnmount=="function"){g=Ce,h=Ce.return;try{a=g,We.props=a.memoizedProps,We.state=a.memoizedState,We.componentWillUnmount()}catch(Ge){cr(g,h,Ge)}}break;case 5:ql(Ce,Ce.return);break;case 22:if(Ce.memoizedState!==null){b0(Ae);continue}}Fe!==null?(Fe.return=Ce,Ue=Fe):b0(Ae)}ke=ke.sibling}e:for(ke=null,Ae=o;;){if(Ae.tag===5){if(ke===null){ke=Ae;try{_=Ae.stateNode,ye?(j=_.style,typeof j.setProperty=="function"?j.setProperty("display","none","important"):j.display="none"):(K=Ae.stateNode,te=Ae.memoizedProps.style,M=te!=null&&te.hasOwnProperty("display")?te.display:null,K.style.display=de("display",M))}catch(Ge){cr(o,o.return,Ge)}}}else if(Ae.tag===6){if(ke===null)try{Ae.stateNode.nodeValue=ye?"":Ae.memoizedProps}catch(Ge){cr(o,o.return,Ge)}}else if((Ae.tag!==22&&Ae.tag!==23||Ae.memoizedState===null||Ae===o)&&Ae.child!==null){Ae.child.return=Ae,Ae=Ae.child;continue}if(Ae===o)break e;for(;Ae.sibling===null;){if(Ae.return===null||Ae.return===o)break e;ke===Ae&&(ke=null),Ae=Ae.return}ke===Ae&&(ke=null),Ae.sibling.return=Ae.return,Ae=Ae.sibling}}break;case 19:wo(a,o),Xo(o),g&4&&g0(o);break;case 21:break;default:wo(a,o),Xo(o)}}function Xo(o){var a=o.flags;if(a&2){try{e:{for(var h=o.return;h!==null;){if(f0(h)){var g=h;break e}h=h.return}throw Error(r(160))}switch(g.tag){case 5:var _=g.stateNode;g.flags&32&&(G(_,""),g.flags&=-33);var j=m0(o);dp(o,j,_);break;case 3:case 4:var M=g.stateNode.containerInfo,K=m0(o);cp(o,K,M);break;default:throw Error(r(161))}}catch(te){cr(o,o.return,te)}o.flags&=-3}a&4096&&(o.flags&=-4097)}function uE(o,a,h){Ue=o,x0(o)}function x0(o,a,h){for(var g=(o.mode&1)!==0;Ue!==null;){var _=Ue,j=_.child;if(_.tag===22&&g){var M=_.memoizedState!==null||ph;if(!M){var K=_.alternate,te=K!==null&&K.memoizedState!==null||Jr;K=ph;var ye=Jr;if(ph=M,(Jr=te)&&!ye)for(Ue=_;Ue!==null;)M=Ue,te=M.child,M.tag===22&&M.memoizedState!==null?_0(_):te!==null?(te.return=M,Ue=te):_0(_);for(;j!==null;)Ue=j,x0(j),j=j.sibling;Ue=_,ph=K,Jr=ye}y0(o)}else(_.subtreeFlags&8772)!==0&&j!==null?(j.return=_,Ue=j):y0(o)}}function y0(o){for(;Ue!==null;){var a=Ue;if((a.flags&8772)!==0){var h=a.alternate;try{if((a.flags&8772)!==0)switch(a.tag){case 0:case 11:case 15:Jr||gh(5,a);break;case 1:var g=a.stateNode;if(a.flags&4&&!Jr)if(h===null)g.componentDidMount();else{var _=a.elementType===a.type?h.memoizedProps:bo(a.type,h.memoizedProps);g.componentDidUpdate(_,h.memoizedState,g.__reactInternalSnapshotBeforeUpdate)}var j=a.updateQueue;j!==null&&bx(a,j,g);break;case 3:var M=a.updateQueue;if(M!==null){if(h=null,a.child!==null)switch(a.child.tag){case 5:h=a.child.stateNode;break;case 1:h=a.child.stateNode}bx(a,M,h)}break;case 5:var K=a.stateNode;if(h===null&&a.flags&4){h=K;var te=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":te.autoFocus&&h.focus();break;case"img":te.src&&(h.src=te.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var ye=a.alternate;if(ye!==null){var ke=ye.memoizedState;if(ke!==null){var Ae=ke.dehydrated;Ae!==null&&Rn(Ae)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}Jr||a.flags&512&&lp(a)}catch(Ce){cr(a,a.return,Ce)}}if(a===o){Ue=null;break}if(h=a.sibling,h!==null){h.return=a.return,Ue=h;break}Ue=a.return}}function b0(o){for(;Ue!==null;){var a=Ue;if(a===o){Ue=null;break}var h=a.sibling;if(h!==null){h.return=a.return,Ue=h;break}Ue=a.return}}function _0(o){for(;Ue!==null;){var a=Ue;try{switch(a.tag){case 0:case 11:case 15:var h=a.return;try{gh(4,a)}catch(te){cr(a,h,te)}break;case 1:var g=a.stateNode;if(typeof g.componentDidMount=="function"){var _=a.return;try{g.componentDidMount()}catch(te){cr(a,_,te)}}var j=a.return;try{lp(a)}catch(te){cr(a,j,te)}break;case 5:var M=a.return;try{lp(a)}catch(te){cr(a,M,te)}}}catch(te){cr(a,a.return,te)}if(a===o){Ue=null;break}var K=a.sibling;if(K!==null){K.return=a.return,Ue=K;break}Ue=a.return}}var hE=Math.ceil,vh=z.ReactCurrentDispatcher,up=z.ReactCurrentOwner,ro=z.ReactCurrentBatchConfig,Et=0,Mr=null,yr=null,Fr=0,Bn=0,Wl=_i(0),kr=0,Td=null,Na=0,xh=0,hp=0,Rd=null,xn=null,fp=0,Hl=1/0,Ms=null,yh=!1,mp=null,Ci=null,bh=!1,ki=null,_h=0,Ad=0,pp=null,wh=-1,jh=0;function sn(){return(Et&6)!==0?tr():wh!==-1?wh:wh=tr()}function Pi(o){return(o.mode&1)===0?1:(Et&2)!==0&&Fr!==0?Fr&-Fr:ZS.transition!==null?(jh===0&&(jh=Nu()),jh):(o=yt,o!==0||(o=window.event,o=o===void 0?16:vt(o.type)),o)}function jo(o,a,h,g){if(50<Ad)throw Ad=0,pp=null,Error(r(185));Pn(o,h,g),((Et&2)===0||o!==Mr)&&(o===Mr&&((Et&2)===0&&(xh|=h),kr===4&&Ti(o,Fr)),yn(o,g),h===1&&Et===0&&(a.mode&1)===0&&(Hl=tr()+500,Ju&&ji()))}function yn(o,a){var h=o.callbackNode;ul(o,a);var g=qt(o,o===Mr?Fr:0);if(g===0)h!==null&&Gc(h),o.callbackNode=null,o.callbackPriority=0;else if(a=g&-g,o.callbackPriority!==a){if(h!=null&&Gc(h),a===1)o.tag===0?KS(j0.bind(null,o)):lx(j0.bind(null,o)),Gr(function(){(Et&6)===0&&ji()}),h=null;else{switch(oi(g)){case 1:h=Kc;break;case 4:h=Eu;break;case 16:h=cl;break;case 536870912:h=ei;break;default:h=cl}h=R0(h,w0.bind(null,o))}o.callbackPriority=a,o.callbackNode=h}}function w0(o,a){if(wh=-1,jh=0,(Et&6)!==0)throw Error(r(327));var h=o.callbackNode;if(Vl()&&o.callbackNode!==h)return null;var g=qt(o,o===Mr?Fr:0);if(g===0)return null;if((g&30)!==0||(g&o.expiredLanes)!==0||a)a=Sh(o,g);else{a=g;var _=Et;Et|=2;var j=E0();(Mr!==o||Fr!==a)&&(Ms=null,Hl=tr()+500,ka(o,a));do try{pE();break}catch(K){S0(o,K)}while(!0);Om(),vh.current=j,Et=_,yr!==null?a=0:(Mr=null,Fr=0,a=kr)}if(a!==0){if(a===2&&(_=Hr(o),_!==0&&(g=_,a=gp(o,_))),a===1)throw h=Td,ka(o,0),Ti(o,g),yn(o,tr()),h;if(a===6)Ti(o,g);else{if(_=o.current.alternate,(g&30)===0&&!fE(_)&&(a=Sh(o,g),a===2&&(j=Hr(o),j!==0&&(g=j,a=gp(o,j))),a===1))throw h=Td,ka(o,0),Ti(o,g),yn(o,tr()),h;switch(o.finishedWork=_,o.finishedLanes=g,a){case 0:case 1:throw Error(r(345));case 2:Pa(o,xn,Ms);break;case 3:if(Ti(o,g),(g&130023424)===g&&(a=fp+500-tr(),10<a)){if(qt(o,0)!==0)break;if(_=o.suspendedLanes,(_&g)!==g){sn(),o.pingedLanes|=o.suspendedLanes&_;break}o.timeoutHandle=Nr(Pa.bind(null,o,xn,Ms),a);break}Pa(o,xn,Ms);break;case 4:if(Ti(o,g),(g&4194240)===g)break;for(a=o.eventTimes,_=-1;0<g;){var M=31-ht(g);j=1<<M,M=a[M],M>_&&(_=M),g&=~j}if(g=_,g=tr()-g,g=(120>g?120:480>g?480:1080>g?1080:1920>g?1920:3e3>g?3e3:4320>g?4320:1960*hE(g/1960))-g,10<g){o.timeoutHandle=Nr(Pa.bind(null,o,xn,Ms),g);break}Pa(o,xn,Ms);break;case 5:Pa(o,xn,Ms);break;default:throw Error(r(329))}}}return yn(o,tr()),o.callbackNode===h?w0.bind(null,o):null}function gp(o,a){var h=Rd;return o.current.memoizedState.isDehydrated&&(ka(o,a).flags|=256),o=Sh(o,a),o!==2&&(a=xn,xn=h,a!==null&&vp(a)),o}function vp(o){xn===null?xn=o:xn.push.apply(xn,o)}function fE(o){for(var a=o;;){if(a.flags&16384){var h=a.updateQueue;if(h!==null&&(h=h.stores,h!==null))for(var g=0;g<h.length;g++){var _=h[g],j=_.getSnapshot;_=_.value;try{if(!Mn(j(),_))return!1}catch{return!1}}}if(h=a.child,a.subtreeFlags&16384&&h!==null)h.return=a,a=h;else{if(a===o)break;for(;a.sibling===null;){if(a.return===null||a.return===o)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Ti(o,a){for(a&=~hp,a&=~xh,o.suspendedLanes|=a,o.pingedLanes&=~a,o=o.expirationTimes;0<a;){var h=31-ht(a),g=1<<h;o[h]=-1,a&=~g}}function j0(o){if((Et&6)!==0)throw Error(r(327));Vl();var a=qt(o,0);if((a&1)===0)return yn(o,tr()),null;var h=Sh(o,a);if(o.tag!==0&&h===2){var g=Hr(o);g!==0&&(a=g,h=gp(o,g))}if(h===1)throw h=Td,ka(o,0),Ti(o,a),yn(o,tr()),h;if(h===6)throw Error(r(345));return o.finishedWork=o.current.alternate,o.finishedLanes=a,Pa(o,xn,Ms),yn(o,tr()),null}function xp(o,a){var h=Et;Et|=1;try{return o(a)}finally{Et=h,Et===0&&(Hl=tr()+500,Ju&&ji())}}function Ca(o){ki!==null&&ki.tag===0&&(Et&6)===0&&Vl();var a=Et;Et|=1;var h=ro.transition,g=yt;try{if(ro.transition=null,yt=1,o)return o()}finally{yt=g,ro.transition=h,Et=a,(Et&6)===0&&ji()}}function yp(){Bn=Wl.current,Zt(Wl)}function ka(o,a){o.finishedWork=null,o.finishedLanes=0;var h=o.timeoutHandle;if(h!==-1&&(o.timeoutHandle=-1,xr(h)),yr!==null)for(h=yr.return;h!==null;){var g=h;switch(km(g),g.tag){case 1:g=g.type.childContextTypes,g!=null&&Zu();break;case 3:Fl(),Zt(pn),Zt(Kr),Fm();break;case 5:zm(g);break;case 4:Fl();break;case 13:Zt(nr);break;case 19:Zt(nr);break;case 10:Mm(g.type._context);break;case 22:case 23:yp()}h=h.return}if(Mr=o,yr=o=Ri(o.current,null),Fr=Bn=a,kr=0,Td=null,hp=xh=Na=0,xn=Rd=null,ja!==null){for(a=0;a<ja.length;a++)if(h=ja[a],g=h.interleaved,g!==null){h.interleaved=null;var _=g.next,j=h.pending;if(j!==null){var M=j.next;j.next=_,g.next=M}h.pending=g}ja=null}return o}function S0(o,a){do{var h=yr;try{if(Om(),ah.current=uh,lh){for(var g=or.memoizedState;g!==null;){var _=g.queue;_!==null&&(_.pending=null),g=g.next}lh=!1}if(Ea=0,Or=Cr=or=null,Sd=!1,Ed=0,up.current=null,h===null||h.return===null){kr=1,Td=a,yr=null;break}e:{var j=o,M=h.return,K=h,te=a;if(a=Fr,K.flags|=32768,te!==null&&typeof te=="object"&&typeof te.then=="function"){var ye=te,ke=K,Ae=ke.tag;if((ke.mode&1)===0&&(Ae===0||Ae===11||Ae===15)){var Ce=ke.alternate;Ce?(ke.updateQueue=Ce.updateQueue,ke.memoizedState=Ce.memoizedState,ke.lanes=Ce.lanes):(ke.updateQueue=null,ke.memoizedState=null)}var Fe=Zx(M);if(Fe!==null){Fe.flags&=-257,Qx(Fe,M,K,j,a),Fe.mode&1&&Kx(j,ye,a),a=Fe,te=ye;var We=a.updateQueue;if(We===null){var Ge=new Set;Ge.add(te),a.updateQueue=Ge}else We.add(te);break e}else{if((a&1)===0){Kx(j,ye,a),bp();break e}te=Error(r(426))}}else if(Jt&&K.mode&1){var mr=Zx(M);if(mr!==null){(mr.flags&65536)===0&&(mr.flags|=256),Qx(mr,M,K,j,a),Rm(Ul(te,K));break e}}j=te=Ul(te,K),kr!==4&&(kr=2),Rd===null?Rd=[j]:Rd.push(j),j=M;do{switch(j.tag){case 3:j.flags|=65536,a&=-a,j.lanes|=a;var he=Vx(j,te,a);yx(j,he);break e;case 1:K=te;var oe=j.type,fe=j.stateNode;if((j.flags&128)===0&&(typeof oe.getDerivedStateFromError=="function"||fe!==null&&typeof fe.componentDidCatch=="function"&&(Ci===null||!Ci.has(fe)))){j.flags|=65536,a&=-a,j.lanes|=a;var Oe=Gx(j,K,a);yx(j,Oe);break e}}j=j.return}while(j!==null)}C0(h)}catch(Ze){a=Ze,yr===h&&h!==null&&(yr=h=h.return);continue}break}while(!0)}function E0(){var o=vh.current;return vh.current=uh,o===null?uh:o}function bp(){(kr===0||kr===3||kr===2)&&(kr=4),Mr===null||(Na&268435455)===0&&(xh&268435455)===0||Ti(Mr,Fr)}function Sh(o,a){var h=Et;Et|=2;var g=E0();(Mr!==o||Fr!==a)&&(Ms=null,ka(o,a));do try{mE();break}catch(_){S0(o,_)}while(!0);if(Om(),Et=h,vh.current=g,yr!==null)throw Error(r(261));return Mr=null,Fr=0,kr}function mE(){for(;yr!==null;)N0(yr)}function pE(){for(;yr!==null&&!am();)N0(yr)}function N0(o){var a=T0(o.alternate,o,Bn);o.memoizedProps=o.pendingProps,a===null?C0(o):yr=a,up.current=null}function C0(o){var a=o;do{var h=a.alternate;if(o=a.return,(a.flags&32768)===0){if(h=aE(h,a,Bn),h!==null){yr=h;return}}else{if(h=lE(h,a),h!==null){h.flags&=32767,yr=h;return}if(o!==null)o.flags|=32768,o.subtreeFlags=0,o.deletions=null;else{kr=6,yr=null;return}}if(a=a.sibling,a!==null){yr=a;return}yr=a=o}while(a!==null);kr===0&&(kr=5)}function Pa(o,a,h){var g=yt,_=ro.transition;try{ro.transition=null,yt=1,gE(o,a,h,g)}finally{ro.transition=_,yt=g}return null}function gE(o,a,h,g){do Vl();while(ki!==null);if((Et&6)!==0)throw Error(r(327));h=o.finishedWork;var _=o.finishedLanes;if(h===null)return null;if(o.finishedWork=null,o.finishedLanes=0,h===o.current)throw Error(r(177));o.callbackNode=null,o.callbackPriority=0;var j=h.lanes|h.childLanes;if(lr(o,j),o===Mr&&(yr=Mr=null,Fr=0),(h.subtreeFlags&2064)===0&&(h.flags&2064)===0||bh||(bh=!0,R0(cl,function(){return Vl(),null})),j=(h.flags&15990)!==0,(h.subtreeFlags&15990)!==0||j){j=ro.transition,ro.transition=null;var M=yt;yt=1;var K=Et;Et|=4,up.current=null,dE(o,h),v0(h,o),Zn(et),ha=!!De,et=De=null,o.current=h,uE(h),ll(),Et=K,yt=M,ro.transition=j}else o.current=h;if(bh&&(bh=!1,ki=o,_h=_),j=o.pendingLanes,j===0&&(Ci=null),aa(h.stateNode),yn(o,tr()),a!==null)for(g=o.onRecoverableError,h=0;h<a.length;h++)_=a[h],g(_.value,{componentStack:_.stack,digest:_.digest});if(yh)throw yh=!1,o=mp,mp=null,o;return(_h&1)!==0&&o.tag!==0&&Vl(),j=o.pendingLanes,(j&1)!==0?o===pp?Ad++:(Ad=0,pp=o):Ad=0,ji(),null}function Vl(){if(ki!==null){var o=oi(_h),a=ro.transition,h=yt;try{if(ro.transition=null,yt=16>o?16:o,ki===null)var g=!1;else{if(o=ki,ki=null,_h=0,(Et&6)!==0)throw Error(r(331));var _=Et;for(Et|=4,Ue=o.current;Ue!==null;){var j=Ue,M=j.child;if((Ue.flags&16)!==0){var K=j.deletions;if(K!==null){for(var te=0;te<K.length;te++){var ye=K[te];for(Ue=ye;Ue!==null;){var ke=Ue;switch(ke.tag){case 0:case 11:case 15:Pd(8,ke,j)}var Ae=ke.child;if(Ae!==null)Ae.return=ke,Ue=Ae;else for(;Ue!==null;){ke=Ue;var Ce=ke.sibling,Fe=ke.return;if(h0(ke),ke===ye){Ue=null;break}if(Ce!==null){Ce.return=Fe,Ue=Ce;break}Ue=Fe}}}var We=j.alternate;if(We!==null){var Ge=We.child;if(Ge!==null){We.child=null;do{var mr=Ge.sibling;Ge.sibling=null,Ge=mr}while(Ge!==null)}}Ue=j}}if((j.subtreeFlags&2064)!==0&&M!==null)M.return=j,Ue=M;else e:for(;Ue!==null;){if(j=Ue,(j.flags&2048)!==0)switch(j.tag){case 0:case 11:case 15:Pd(9,j,j.return)}var he=j.sibling;if(he!==null){he.return=j.return,Ue=he;break e}Ue=j.return}}var oe=o.current;for(Ue=oe;Ue!==null;){M=Ue;var fe=M.child;if((M.subtreeFlags&2064)!==0&&fe!==null)fe.return=M,Ue=fe;else e:for(M=oe;Ue!==null;){if(K=Ue,(K.flags&2048)!==0)try{switch(K.tag){case 0:case 11:case 15:gh(9,K)}}catch(Ze){cr(K,K.return,Ze)}if(K===M){Ue=null;break e}var Oe=K.sibling;if(Oe!==null){Oe.return=K.return,Ue=Oe;break e}Ue=K.return}}if(Et=_,ji(),kn&&typeof kn.onPostCommitFiberRoot=="function")try{kn.onPostCommitFiberRoot(ia,o)}catch{}g=!0}return g}finally{yt=h,ro.transition=a}}return!1}function k0(o,a,h){a=Ul(h,a),a=Vx(o,a,1),o=Ei(o,a,1),a=sn(),o!==null&&(Pn(o,1,a),yn(o,a))}function cr(o,a,h){if(o.tag===3)k0(o,o,h);else for(;a!==null;){if(a.tag===3){k0(a,o,h);break}else if(a.tag===1){var g=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(Ci===null||!Ci.has(g))){o=Ul(h,o),o=Gx(a,o,1),a=Ei(a,o,1),o=sn(),a!==null&&(Pn(a,1,o),yn(a,o));break}}a=a.return}}function vE(o,a,h){var g=o.pingCache;g!==null&&g.delete(a),a=sn(),o.pingedLanes|=o.suspendedLanes&h,Mr===o&&(Fr&h)===h&&(kr===4||kr===3&&(Fr&130023424)===Fr&&500>tr()-fp?ka(o,0):hp|=h),yn(o,a)}function P0(o,a){a===0&&((o.mode&1)===0?a=1:(a=ri,ri<<=1,(ri&130023424)===0&&(ri=4194304)));var h=sn();o=Rs(o,a),o!==null&&(Pn(o,a,h),yn(o,h))}function xE(o){var a=o.memoizedState,h=0;a!==null&&(h=a.retryLane),P0(o,h)}function yE(o,a){var h=0;switch(o.tag){case 13:var g=o.stateNode,_=o.memoizedState;_!==null&&(h=_.retryLane);break;case 19:g=o.stateNode;break;default:throw Error(r(314))}g!==null&&g.delete(a),P0(o,h)}var T0;T0=function(o,a,h){if(o!==null)if(o.memoizedProps!==a.pendingProps||pn.current)vn=!0;else{if((o.lanes&h)===0&&(a.flags&128)===0)return vn=!1,iE(o,a,h);vn=(o.flags&131072)!==0}else vn=!1,Jt&&(a.flags&1048576)!==0&&cx(a,Xu,a.index);switch(a.lanes=0,a.tag){case 2:var g=a.type;mh(o,a),o=a.pendingProps;var _=Ml(a,Kr.current);$l(a,h),_=Wm(null,a,g,o,_,h);var j=Hm();return a.flags|=1,typeof _=="object"&&_!==null&&typeof _.render=="function"&&_.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,gn(g)?(j=!0,Qu(a)):j=!1,a.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,Dm(a),_.updater=hh,a.stateNode=_,_._reactInternals=a,Jm(a,g,o,h),a=tp(null,a,g,!0,j,h)):(a.tag=0,Jt&&j&&Cm(a),on(null,a,_,h),a=a.child),a;case 16:g=a.elementType;e:{switch(mh(o,a),o=a.pendingProps,_=g._init,g=_(g._payload),a.type=g,_=a.tag=_E(g),o=bo(g,o),_){case 0:a=ep(null,a,g,o,h);break e;case 1:a=r0(null,a,g,o,h);break e;case 11:a=Jx(null,a,g,o,h);break e;case 14:a=Yx(null,a,g,bo(g.type,o),h);break e}throw Error(r(306,g,""))}return a;case 0:return g=a.type,_=a.pendingProps,_=a.elementType===g?_:bo(g,_),ep(o,a,g,_,h);case 1:return g=a.type,_=a.pendingProps,_=a.elementType===g?_:bo(g,_),r0(o,a,g,_,h);case 3:e:{if(n0(a),o===null)throw Error(r(387));g=a.pendingProps,j=a.memoizedState,_=j.element,xx(o,a),sh(a,g,null,h);var M=a.memoizedState;if(g=M.element,j.isDehydrated)if(j={element:g,isDehydrated:!1,cache:M.cache,pendingSuspenseBoundaries:M.pendingSuspenseBoundaries,transitions:M.transitions},a.updateQueue.baseState=j,a.memoizedState=j,a.flags&256){_=Ul(Error(r(423)),a),a=o0(o,a,g,h,_);break e}else if(g!==_){_=Ul(Error(r(424)),a),a=o0(o,a,g,h,_);break e}else for(Dn=Qo(a.stateNode.containerInfo.firstChild),In=a,Jt=!0,yo=null,h=gx(a,null,g,h),a.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling;else{if(Dl(),g===_){a=Os(o,a,h);break e}on(o,a,g,h)}a=a.child}return a;case 5:return _x(a),o===null&&Tm(a),g=a.type,_=a.pendingProps,j=o!==null?o.memoizedProps:null,M=_.children,ft(g,_)?M=null:j!==null&&ft(g,j)&&(a.flags|=32),t0(o,a),on(o,a,M,h),a.child;case 6:return o===null&&Tm(a),null;case 13:return s0(o,a,h);case 4:return Bm(a,a.stateNode.containerInfo),g=a.pendingProps,o===null?a.child=Bl(a,null,g,h):on(o,a,g,h),a.child;case 11:return g=a.type,_=a.pendingProps,_=a.elementType===g?_:bo(g,_),Jx(o,a,g,_,h);case 7:return on(o,a,a.pendingProps,h),a.child;case 8:return on(o,a,a.pendingProps.children,h),a.child;case 12:return on(o,a,a.pendingProps.children,h),a.child;case 10:e:{if(g=a.type._context,_=a.pendingProps,j=a.memoizedProps,M=_.value,Wt(rh,g._currentValue),g._currentValue=M,j!==null)if(Mn(j.value,M)){if(j.children===_.children&&!pn.current){a=Os(o,a,h);break e}}else for(j=a.child,j!==null&&(j.return=a);j!==null;){var K=j.dependencies;if(K!==null){M=j.child;for(var te=K.firstContext;te!==null;){if(te.context===g){if(j.tag===1){te=As(-1,h&-h),te.tag=2;var ye=j.updateQueue;if(ye!==null){ye=ye.shared;var ke=ye.pending;ke===null?te.next=te:(te.next=ke.next,ke.next=te),ye.pending=te}}j.lanes|=h,te=j.alternate,te!==null&&(te.lanes|=h),Lm(j.return,h,a),K.lanes|=h;break}te=te.next}}else if(j.tag===10)M=j.type===a.type?null:j.child;else if(j.tag===18){if(M=j.return,M===null)throw Error(r(341));M.lanes|=h,K=M.alternate,K!==null&&(K.lanes|=h),Lm(M,h,a),M=j.sibling}else M=j.child;if(M!==null)M.return=j;else for(M=j;M!==null;){if(M===a){M=null;break}if(j=M.sibling,j!==null){j.return=M.return,M=j;break}M=M.return}j=M}on(o,a,_.children,h),a=a.child}return a;case 9:return _=a.type,g=a.pendingProps.children,$l(a,h),_=eo(_),g=g(_),a.flags|=1,on(o,a,g,h),a.child;case 14:return g=a.type,_=bo(g,a.pendingProps),_=bo(g.type,_),Yx(o,a,g,_,h);case 15:return Xx(o,a,a.type,a.pendingProps,h);case 17:return g=a.type,_=a.pendingProps,_=a.elementType===g?_:bo(g,_),mh(o,a),a.tag=1,gn(g)?(o=!0,Qu(a)):o=!1,$l(a,h),Wx(a,g,_),Jm(a,g,_,h),tp(null,a,g,!0,o,h);case 19:return a0(o,a,h);case 22:return e0(o,a,h)}throw Error(r(156,a.tag))};function R0(o,a){return Su(o,a)}function bE(o,a,h,g){this.tag=o,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function no(o,a,h,g){return new bE(o,a,h,g)}function _p(o){return o=o.prototype,!(!o||!o.isReactComponent)}function _E(o){if(typeof o=="function")return _p(o)?1:0;if(o!=null){if(o=o.$$typeof,o===re)return 11;if(o===be)return 14}return 2}function Ri(o,a){var h=o.alternate;return h===null?(h=no(o.tag,a,o.key,o.mode),h.elementType=o.elementType,h.type=o.type,h.stateNode=o.stateNode,h.alternate=o,o.alternate=h):(h.pendingProps=a,h.type=o.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=o.flags&14680064,h.childLanes=o.childLanes,h.lanes=o.lanes,h.child=o.child,h.memoizedProps=o.memoizedProps,h.memoizedState=o.memoizedState,h.updateQueue=o.updateQueue,a=o.dependencies,h.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},h.sibling=o.sibling,h.index=o.index,h.ref=o.ref,h}function Eh(o,a,h,g,_,j){var M=2;if(g=o,typeof o=="function")_p(o)&&(M=1);else if(typeof o=="string")M=5;else e:switch(o){case J:return Ta(h.children,_,j,a);case ne:M=8,_|=8;break;case we:return o=no(12,h,a,_|2),o.elementType=we,o.lanes=j,o;case U:return o=no(13,h,a,_),o.elementType=U,o.lanes=j,o;case W:return o=no(19,h,a,_),o.elementType=W,o.lanes=j,o;case _e:return Nh(h,_,j,a);default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case Z:M=10;break e;case $:M=9;break e;case re:M=11;break e;case be:M=14;break e;case me:M=16,g=null;break e}throw Error(r(130,o==null?o:typeof o,""))}return a=no(M,h,a,_),a.elementType=o,a.type=g,a.lanes=j,a}function Ta(o,a,h,g){return o=no(7,o,g,a),o.lanes=h,o}function Nh(o,a,h,g){return o=no(22,o,g,a),o.elementType=_e,o.lanes=h,o.stateNode={isHidden:!1},o}function wp(o,a,h){return o=no(6,o,null,a),o.lanes=h,o}function jp(o,a,h){return a=no(4,o.children!==null?o.children:[],o.key,a),a.lanes=h,a.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},a}function wE(o,a,h,g,_){this.tag=a,this.containerInfo=o,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ni(0),this.expirationTimes=ni(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ni(0),this.identifierPrefix=g,this.onRecoverableError=_,this.mutableSourceEagerHydrationData=null}function Sp(o,a,h,g,_,j,M,K,te){return o=new wE(o,a,h,K,te),a===1?(a=1,j===!0&&(a|=8)):a=0,j=no(3,null,null,a),o.current=j,j.stateNode=o,j.memoizedState={element:g,isDehydrated:h,cache:null,transitions:null,pendingSuspenseBoundaries:null},Dm(j),o}function jE(o,a,h){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:D,key:g==null?null:""+g,children:o,containerInfo:a,implementation:h}}function A0(o){if(!o)return wi;o=o._reactInternals;e:{if(Uo(o)!==o||o.tag!==1)throw Error(r(170));var a=o;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(gn(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(r(171))}if(o.tag===1){var h=o.type;if(gn(h))return ix(o,h,a)}return a}function O0(o,a,h,g,_,j,M,K,te){return o=Sp(h,g,!0,o,_,j,M,K,te),o.context=A0(null),h=o.current,g=sn(),_=Pi(h),j=As(g,_),j.callback=a??null,Ei(h,j,_),o.current.lanes=_,Pn(o,_,g),yn(o,g),o}function Ch(o,a,h,g){var _=a.current,j=sn(),M=Pi(_);return h=A0(h),a.context===null?a.context=h:a.pendingContext=h,a=As(j,M),a.payload={element:o},g=g===void 0?null:g,g!==null&&(a.callback=g),o=Ei(_,a,M),o!==null&&(jo(o,_,M,j),oh(o,_,M)),M}function kh(o){if(o=o.current,!o.child)return null;switch(o.child.tag){case 5:return o.child.stateNode;default:return o.child.stateNode}}function M0(o,a){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var h=o.retryLane;o.retryLane=h!==0&&h<a?h:a}}function Ep(o,a){M0(o,a),(o=o.alternate)&&M0(o,a)}function SE(){return null}var L0=typeof reportError=="function"?reportError:function(o){console.error(o)};function Np(o){this._internalRoot=o}Ph.prototype.render=Np.prototype.render=function(o){var a=this._internalRoot;if(a===null)throw Error(r(409));Ch(o,a,null,null)},Ph.prototype.unmount=Np.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var a=o.containerInfo;Ca(function(){Ch(null,o,null,null)}),a[Rt]=null}};function Ph(o){this._internalRoot=o}Ph.prototype.unstable_scheduleHydration=function(o){if(o){var a=ml();o={blockedOn:null,target:o,priority:a};for(var h=0;h<Er.length&&a!==0&&a<Er[h].priority;h++);Er.splice(h,0,o),h===0&&pl(o)}};function Cp(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function Th(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11&&(o.nodeType!==8||o.nodeValue!==" react-mount-point-unstable "))}function I0(){}function EE(o,a,h,g,_){if(_){if(typeof g=="function"){var j=g;g=function(){var ye=kh(M);j.call(ye)}}var M=O0(a,g,o,0,null,!1,!1,"",I0);return o._reactRootContainer=M,o[Rt]=M.current,vi(o.nodeType===8?o.parentNode:o),Ca(),M}for(;_=o.lastChild;)o.removeChild(_);if(typeof g=="function"){var K=g;g=function(){var ye=kh(te);K.call(ye)}}var te=Sp(o,0,!1,null,null,!1,!1,"",I0);return o._reactRootContainer=te,o[Rt]=te.current,vi(o.nodeType===8?o.parentNode:o),Ca(function(){Ch(a,te,h,g)}),te}function Rh(o,a,h,g,_){var j=h._reactRootContainer;if(j){var M=j;if(typeof _=="function"){var K=_;_=function(){var te=kh(M);K.call(te)}}Ch(a,M,o,_)}else M=EE(h,a,o,_,g);return kh(M)}hl=function(o){switch(o.tag){case 3:var a=o.stateNode;if(a.current.memoizedState.isDehydrated){var h=ut(a.pendingLanes);h!==0&&(mo(a,h|1),yn(a,tr()),(Et&6)===0&&(Hl=tr()+500,ji()))}break;case 13:Ca(function(){var g=Rs(o,1);if(g!==null){var _=sn();jo(g,o,1,_)}}),Ep(o,1)}},gs=function(o){if(o.tag===13){var a=Rs(o,134217728);if(a!==null){var h=sn();jo(a,o,134217728,h)}Ep(o,134217728)}},fl=function(o){if(o.tag===13){var a=Pi(o),h=Rs(o,a);if(h!==null){var g=sn();jo(h,o,a,g)}Ep(o,a)}},ml=function(){return yt},la=function(o,a){var h=yt;try{return yt=o,a()}finally{yt=h}},Tt=function(o,a,h){switch(a){case"input":if(Pt(o,h),a=h.name,h.type==="radio"&&a!=null){for(h=o;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<h.length;a++){var g=h[a];if(g!==o&&g.form===o.form){var _=Al(g);if(!_)throw Error(r(90));Ie(g),Pt(g,_)}}}break;case"textarea":Cn(o,h);break;case"select":a=h.value,a!=null&&gr(o,!!h.multiple,a,!1)}},St=xp,vr=Ca;var NE={usingClientEntryPoint:!1,Events:[Ns,Cs,Al,st,Ft,xp]},Od={findFiberByHostInstance:Es,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},CE={bundleType:Od.bundleType,version:Od.version,rendererPackageName:Od.rendererPackageName,rendererConfig:Od.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:z.ReactCurrentDispatcher,findHostInstanceByFiber:function(o){return o=wu(o),o===null?null:o.stateNode},findFiberByHostInstance:Od.findFiberByHostInstance||SE,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ah=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ah.isDisabled&&Ah.supportsFiber)try{ia=Ah.inject(CE),kn=Ah}catch{}}return bn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=NE,bn.createPortal=function(o,a){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Cp(a))throw Error(r(200));return jE(o,a,null,h)},bn.createRoot=function(o,a){if(!Cp(o))throw Error(r(299));var h=!1,g="",_=L0;return a!=null&&(a.unstable_strictMode===!0&&(h=!0),a.identifierPrefix!==void 0&&(g=a.identifierPrefix),a.onRecoverableError!==void 0&&(_=a.onRecoverableError)),a=Sp(o,1,!1,null,null,h,!1,g,_),o[Rt]=a.current,vi(o.nodeType===8?o.parentNode:o),new Np(a)},bn.findDOMNode=function(o){if(o==null)return null;if(o.nodeType===1)return o;var a=o._reactInternals;if(a===void 0)throw typeof o.render=="function"?Error(r(188)):(o=Object.keys(o).join(","),Error(r(268,o)));return o=wu(a),o=o===null?null:o.stateNode,o},bn.flushSync=function(o){return Ca(o)},bn.hydrate=function(o,a,h){if(!Th(a))throw Error(r(200));return Rh(null,o,a,!0,h)},bn.hydrateRoot=function(o,a,h){if(!Cp(o))throw Error(r(405));var g=h!=null&&h.hydratedSources||null,_=!1,j="",M=L0;if(h!=null&&(h.unstable_strictMode===!0&&(_=!0),h.identifierPrefix!==void 0&&(j=h.identifierPrefix),h.onRecoverableError!==void 0&&(M=h.onRecoverableError)),a=O0(a,null,o,1,h??null,_,!1,j,M),o[Rt]=a.current,vi(o),g)for(o=0;o<g.length;o++)h=g[o],_=h._getVersion,_=_(h._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[h,_]:a.mutableSourceEagerHydrationData.push(h,_);return new Ph(a)},bn.render=function(o,a,h){if(!Th(a))throw Error(r(200));return Rh(null,o,a,!1,h)},bn.unmountComponentAtNode=function(o){if(!Th(o))throw Error(r(40));return o._reactRootContainer?(Ca(function(){Rh(null,null,o,!1,function(){o._reactRootContainer=null,o[Rt]=null})}),!0):!1},bn.unstable_batchedUpdates=xp,bn.unstable_renderSubtreeIntoContainer=function(o,a,h,g){if(!Th(h))throw Error(r(200));if(o==null||o._reactInternals===void 0)throw Error(r(38));return Rh(o,a,h,!1,g)},bn.version="18.3.1-next-f1338f8080-20240426",bn}var H0;function Qb(){if(H0)return Rp.exports;H0=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Rp.exports=ME(),Rp.exports}var V0;function LE(){if(V0)return Mh;V0=1;var t=Qb();return Mh.createRoot=t.createRoot,Mh.hydrateRoot=t.hydrateRoot,Mh}var IE=LE();const DE=du(IE);/**
 * react-router v7.9.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var G0="popstate";function BE(t={}){function e(s,l){let{pathname:c,search:u,hash:p}=s.location;return ig("",{pathname:c,search:u,hash:p},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function r(s,l){return typeof l=="string"?l:Jd(l)}return $E(e,r,null,t)}function er(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function co(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function zE(){return Math.random().toString(36).substring(2,10)}function K0(t,e){return{usr:t.state,key:t.key,idx:e}}function ig(t,e,r=null,s){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Pc(e):e,state:r,key:e&&e.key||s||zE()}}function Jd({pathname:t="/",search:e="",hash:r=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Pc(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substring(r),t=t.substring(0,r));let s=t.indexOf("?");s>=0&&(e.search=t.substring(s),t=t.substring(0,s)),t&&(e.pathname=t)}return e}function $E(t,e,r,s={}){let{window:l=document.defaultView,v5Compat:c=!1}=s,u=l.history,p="POP",m=null,v=y();v==null&&(v=0,u.replaceState({...u.state,idx:v},""));function y(){return(u.state||{idx:null}).idx}function x(){p="POP";let P=y(),O=P==null?null:P-v;v=P,m&&m({action:p,location:N.location,delta:O})}function E(P,O){p="PUSH";let T=ig(N.location,P,O);v=y()+1;let R=K0(T,v),z=N.createHref(T);try{u.pushState(R,"",z)}catch(Y){if(Y instanceof DOMException&&Y.name==="DataCloneError")throw Y;l.location.assign(z)}c&&m&&m({action:p,location:N.location,delta:1})}function S(P,O){p="REPLACE";let T=ig(N.location,P,O);v=y();let R=K0(T,v),z=N.createHref(T);u.replaceState(R,"",z),c&&m&&m({action:p,location:N.location,delta:0})}function k(P){return FE(P)}let N={get action(){return p},get location(){return t(l,u)},listen(P){if(m)throw new Error("A history only accepts one active listener");return l.addEventListener(G0,x),m=P,()=>{l.removeEventListener(G0,x),m=null}},createHref(P){return e(l,P)},createURL:k,encodeLocation(P){let O=k(P);return{pathname:O.pathname,search:O.search,hash:O.hash}},push:E,replace:S,go(P){return u.go(P)}};return N}function FE(t,e=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),er(r,"No window.location.(origin|href) available to create URL");let s=typeof t=="string"?t:Jd(t);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=r+s),new URL(s,r)}function Jb(t,e,r="/"){return UE(t,e,r,!1)}function UE(t,e,r,s){let l=typeof e=="string"?Pc(e):e,c=Zs(l.pathname||"/",r);if(c==null)return null;let u=Yb(t);qE(u);let p=null;for(let m=0;p==null&&m<u.length;++m){let v=eN(c);p=YE(u[m],v,s)}return p}function Yb(t,e=[],r=[],s="",l=!1){let c=(u,p,m=l,v)=>{let y={relativePath:v===void 0?u.path||"":v,caseSensitive:u.caseSensitive===!0,childrenIndex:p,route:u};if(y.relativePath.startsWith("/")){if(!y.relativePath.startsWith(s)&&m)return;er(y.relativePath.startsWith(s),`Absolute route path "${y.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(s.length)}let x=Vs([s,y.relativePath]),E=r.concat(y);u.children&&u.children.length>0&&(er(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${x}".`),Yb(u.children,e,E,x,m)),!(u.path==null&&!u.index)&&e.push({path:x,score:QE(x,u.index),routesMeta:E})};return t.forEach((u,p)=>{var m;if(u.path===""||!((m=u.path)!=null&&m.includes("?")))c(u,p);else for(let v of Xb(u.path))c(u,p,!0,v)}),e}function Xb(t){let e=t.split("/");if(e.length===0)return[];let[r,...s]=e,l=r.endsWith("?"),c=r.replace(/\?$/,"");if(s.length===0)return l?[c,""]:[c];let u=Xb(s.join("/")),p=[];return p.push(...u.map(m=>m===""?c:[c,m].join("/"))),l&&p.push(...u),p.map(m=>t.startsWith("/")&&m===""?"/":m)}function qE(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:JE(e.routesMeta.map(s=>s.childrenIndex),r.routesMeta.map(s=>s.childrenIndex)))}var WE=/^:[\w-]+$/,HE=3,VE=2,GE=1,KE=10,ZE=-2,Z0=t=>t==="*";function QE(t,e){let r=t.split("/"),s=r.length;return r.some(Z0)&&(s+=ZE),e&&(s+=VE),r.filter(l=>!Z0(l)).reduce((l,c)=>l+(WE.test(c)?HE:c===""?GE:KE),s)}function JE(t,e){return t.length===e.length&&t.slice(0,-1).every((s,l)=>s===e[l])?t[t.length-1]-e[e.length-1]:0}function YE(t,e,r=!1){let{routesMeta:s}=t,l={},c="/",u=[];for(let p=0;p<s.length;++p){let m=s[p],v=p===s.length-1,y=c==="/"?e:e.slice(c.length)||"/",x=mf({path:m.relativePath,caseSensitive:m.caseSensitive,end:v},y),E=m.route;if(!x&&v&&r&&!s[s.length-1].route.index&&(x=mf({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},y)),!x)return null;Object.assign(l,x.params),u.push({params:l,pathname:Vs([c,x.pathname]),pathnameBase:oN(Vs([c,x.pathnameBase])),route:E}),x.pathnameBase!=="/"&&(c=Vs([c,x.pathnameBase]))}return u}function mf(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,s]=XE(t.path,t.caseSensitive,t.end),l=e.match(r);if(!l)return null;let c=l[0],u=c.replace(/(.)\/+$/,"$1"),p=l.slice(1);return{params:s.reduce((v,{paramName:y,isOptional:x},E)=>{if(y==="*"){let k=p[E]||"";u=c.slice(0,c.length-k.length).replace(/(.)\/+$/,"$1")}const S=p[E];return x&&!S?v[y]=void 0:v[y]=(S||"").replace(/%2F/g,"/"),v},{}),pathname:c,pathnameBase:u,pattern:t}}function XE(t,e=!1,r=!0){co(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let s=[],l="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,p,m)=>(s.push({paramName:p,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(s.push({paramName:"*"}),l+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?l+="\\/*$":t!==""&&t!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,e?void 0:"i"),s]}function eN(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return co(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Zs(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,s=t.charAt(r);return s&&s!=="/"?null:t.slice(r)||"/"}function tN(t,e="/"){let{pathname:r,search:s="",hash:l=""}=typeof t=="string"?Pc(t):t;return{pathname:r?r.startsWith("/")?r:rN(r,e):e,search:sN(s),hash:iN(l)}}function rN(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(l=>{l===".."?r.length>1&&r.pop():l!=="."&&r.push(l)}),r.length>1?r.join("/"):"/"}function Mp(t,e,r,s){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function nN(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function ov(t){let e=nN(t);return e.map((r,s)=>s===e.length-1?r.pathname:r.pathnameBase)}function sv(t,e,r,s=!1){let l;typeof t=="string"?l=Pc(t):(l={...t},er(!l.pathname||!l.pathname.includes("?"),Mp("?","pathname","search",l)),er(!l.pathname||!l.pathname.includes("#"),Mp("#","pathname","hash",l)),er(!l.search||!l.search.includes("#"),Mp("#","search","hash",l)));let c=t===""||l.pathname==="",u=c?"/":l.pathname,p;if(u==null)p=r;else{let x=e.length-1;if(!s&&u.startsWith("..")){let E=u.split("/");for(;E[0]==="..";)E.shift(),x-=1;l.pathname=E.join("/")}p=x>=0?e[x]:"/"}let m=tN(l,p),v=u&&u!=="/"&&u.endsWith("/"),y=(c||u===".")&&r.endsWith("/");return!m.pathname.endsWith("/")&&(v||y)&&(m.pathname+="/"),m}var Vs=t=>t.join("/").replace(/\/\/+/g,"/"),oN=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),sN=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,iN=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function aN(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var e_=["POST","PUT","PATCH","DELETE"];new Set(e_);var lN=["GET",...e_];new Set(lN);var Tc=w.createContext(null);Tc.displayName="DataRouter";var Lf=w.createContext(null);Lf.displayName="DataRouterState";w.createContext(!1);var t_=w.createContext({isTransitioning:!1});t_.displayName="ViewTransition";var cN=w.createContext(new Map);cN.displayName="Fetchers";var dN=w.createContext(null);dN.displayName="Await";var Do=w.createContext(null);Do.displayName="Navigation";var hu=w.createContext(null);hu.displayName="Location";var Bo=w.createContext({outlet:null,matches:[],isDataRoute:!1});Bo.displayName="Route";var iv=w.createContext(null);iv.displayName="RouteError";function uN(t,{relative:e}={}){er(Rc(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:s}=w.useContext(Do),{hash:l,pathname:c,search:u}=fu(t,{relative:e}),p=c;return r!=="/"&&(p=c==="/"?r:Vs([r,c])),s.createHref({pathname:p,search:u,hash:l})}function Rc(){return w.useContext(hu)!=null}function zo(){return er(Rc(),"useLocation() may be used only in the context of a <Router> component."),w.useContext(hu).location}var r_="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function n_(t){w.useContext(Do).static||w.useLayoutEffect(t)}function Sr(){let{isDataRoute:t}=w.useContext(Bo);return t?EN():hN()}function hN(){er(Rc(),"useNavigate() may be used only in the context of a <Router> component.");let t=w.useContext(Tc),{basename:e,navigator:r}=w.useContext(Do),{matches:s}=w.useContext(Bo),{pathname:l}=zo(),c=JSON.stringify(ov(s)),u=w.useRef(!1);return n_(()=>{u.current=!0}),w.useCallback((m,v={})=>{if(co(u.current,r_),!u.current)return;if(typeof m=="number"){r.go(m);return}let y=sv(m,JSON.parse(c),l,v.relative==="path");t==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:Vs([e,y.pathname])),(v.replace?r.replace:r.push)(y,v.state,v)},[e,r,c,l,t])}w.createContext(null);function fN(){let{matches:t}=w.useContext(Bo),e=t[t.length-1];return e?e.params:{}}function fu(t,{relative:e}={}){let{matches:r}=w.useContext(Bo),{pathname:s}=zo(),l=JSON.stringify(ov(r));return w.useMemo(()=>sv(t,JSON.parse(l),s,e==="path"),[t,l,s,e])}function mN(t,e){return o_(t,e)}function o_(t,e,r,s,l){var T;er(Rc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:c}=w.useContext(Do),{matches:u}=w.useContext(Bo),p=u[u.length-1],m=p?p.params:{},v=p?p.pathname:"/",y=p?p.pathnameBase:"/",x=p&&p.route;{let R=x&&x.path||"";s_(v,!x||R.endsWith("*")||R.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${v}" (under <Route path="${R}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${R}"> to <Route path="${R==="/"?"*":`${R}/*`}">.`)}let E=zo(),S;if(e){let R=typeof e=="string"?Pc(e):e;er(y==="/"||((T=R.pathname)==null?void 0:T.startsWith(y)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${R.pathname}" was given in the \`location\` prop.`),S=R}else S=E;let k=S.pathname||"/",N=k;if(y!=="/"){let R=y.replace(/^\//,"").split("/");N="/"+k.replace(/^\//,"").split("/").slice(R.length).join("/")}let P=Jb(t,{pathname:N});co(x||P!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),co(P==null||P[P.length-1].route.element!==void 0||P[P.length-1].route.Component!==void 0||P[P.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let O=yN(P&&P.map(R=>Object.assign({},R,{params:Object.assign({},m,R.params),pathname:Vs([y,c.encodeLocation?c.encodeLocation(R.pathname).pathname:R.pathname]),pathnameBase:R.pathnameBase==="/"?y:Vs([y,c.encodeLocation?c.encodeLocation(R.pathnameBase).pathname:R.pathnameBase])})),u,r,s,l);return e&&O?w.createElement(hu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...S},navigationType:"POP"}},O):O}function pN(){let t=SN(),e=aN(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,s="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:s},c={padding:"2px 4px",backgroundColor:s},u=null;return console.error("Error handled by React Router default ErrorBoundary:",t),u=w.createElement(w.Fragment,null,w.createElement("p",null," Hey developer "),w.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",w.createElement("code",{style:c},"ErrorBoundary")," or"," ",w.createElement("code",{style:c},"errorElement")," prop on your route.")),w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},e),r?w.createElement("pre",{style:l},r):null,u)}var gN=w.createElement(pN,null),vN=class extends w.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?w.createElement(Bo.Provider,{value:this.props.routeContext},w.createElement(iv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function xN({routeContext:t,match:e,children:r}){let s=w.useContext(Tc);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),w.createElement(Bo.Provider,{value:t},r)}function yN(t,e=[],r=null,s=null,l=null){if(t==null){if(!r)return null;if(r.errors)t=r.matches;else if(e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let c=t,u=r==null?void 0:r.errors;if(u!=null){let v=c.findIndex(y=>y.route.id&&(u==null?void 0:u[y.route.id])!==void 0);er(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),c=c.slice(0,Math.min(c.length,v+1))}let p=!1,m=-1;if(r)for(let v=0;v<c.length;v++){let y=c[v];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(m=v),y.route.id){let{loaderData:x,errors:E}=r,S=y.route.loader&&!x.hasOwnProperty(y.route.id)&&(!E||E[y.route.id]===void 0);if(y.route.lazy||S){p=!0,m>=0?c=c.slice(0,m+1):c=[c[0]];break}}}return c.reduceRight((v,y,x)=>{let E,S=!1,k=null,N=null;r&&(E=u&&y.route.id?u[y.route.id]:void 0,k=y.route.errorElement||gN,p&&(m<0&&x===0?(s_("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,N=null):m===x&&(S=!0,N=y.route.hydrateFallbackElement||null)));let P=e.concat(c.slice(0,x+1)),O=()=>{let T;return E?T=k:S?T=N:y.route.Component?T=w.createElement(y.route.Component,null):y.route.element?T=y.route.element:T=v,w.createElement(xN,{match:y,routeContext:{outlet:v,matches:P,isDataRoute:r!=null},children:T})};return r&&(y.route.ErrorBoundary||y.route.errorElement||x===0)?w.createElement(vN,{location:r.location,revalidation:r.revalidation,component:k,error:E,children:O(),routeContext:{outlet:null,matches:P,isDataRoute:!0},unstable_onError:s}):O()},null)}function av(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function bN(t){let e=w.useContext(Tc);return er(e,av(t)),e}function _N(t){let e=w.useContext(Lf);return er(e,av(t)),e}function wN(t){let e=w.useContext(Bo);return er(e,av(t)),e}function lv(t){let e=wN(t),r=e.matches[e.matches.length-1];return er(r.route.id,`${t} can only be used on routes that contain a unique "id"`),r.route.id}function jN(){return lv("useRouteId")}function SN(){var s;let t=w.useContext(iv),e=_N("useRouteError"),r=lv("useRouteError");return t!==void 0?t:(s=e.errors)==null?void 0:s[r]}function EN(){let{router:t}=bN("useNavigate"),e=lv("useNavigate"),r=w.useRef(!1);return n_(()=>{r.current=!0}),w.useCallback(async(l,c={})=>{co(r.current,r_),r.current&&(typeof l=="number"?t.navigate(l):await t.navigate(l,{fromRouteId:e,...c}))},[t,e])}var Q0={};function s_(t,e,r){!e&&!Q0[t]&&(Q0[t]=!0,co(!1,r))}w.memo(NN);function NN({routes:t,future:e,state:r,unstable_onError:s}){return o_(t,void 0,r,s,e)}function pf({to:t,replace:e,state:r,relative:s}){er(Rc(),"<Navigate> may be used only in the context of a <Router> component.");let{static:l}=w.useContext(Do);co(!l,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:c}=w.useContext(Bo),{pathname:u}=zo(),p=Sr(),m=sv(t,ov(c),u,s==="path"),v=JSON.stringify(m);return w.useEffect(()=>{p(JSON.parse(v),{replace:e,state:r,relative:s})},[p,v,s,e,r]),null}function br(t){er(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function CN({basename:t="/",children:e=null,location:r,navigationType:s="POP",navigator:l,static:c=!1}){er(!Rc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=t.replace(/^\/*/,"/"),p=w.useMemo(()=>({basename:u,navigator:l,static:c,future:{}}),[u,l,c]);typeof r=="string"&&(r=Pc(r));let{pathname:m="/",search:v="",hash:y="",state:x=null,key:E="default"}=r,S=w.useMemo(()=>{let k=Zs(m,u);return k==null?null:{location:{pathname:k,search:v,hash:y,state:x,key:E},navigationType:s}},[u,m,v,y,x,E,s]);return co(S!=null,`<Router basename="${u}"> is not able to match the URL "${m}${v}${y}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:w.createElement(Do.Provider,{value:p},w.createElement(hu.Provider,{children:e,value:S}))}function J0({children:t,location:e}){return mN(ag(t),e)}function ag(t,e=[]){let r=[];return w.Children.forEach(t,(s,l)=>{if(!w.isValidElement(s))return;let c=[...e,l];if(s.type===w.Fragment){r.push.apply(r,ag(s.props.children,c));return}er(s.type===br,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),er(!s.props.index||!s.props.children,"An index route cannot have child routes.");let u={id:s.props.id||c.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(u.children=ag(s.props.children,c)),r.push(u)}),r}var nf="get",of="application/x-www-form-urlencoded";function If(t){return t!=null&&typeof t.tagName=="string"}function kN(t){return If(t)&&t.tagName.toLowerCase()==="button"}function PN(t){return If(t)&&t.tagName.toLowerCase()==="form"}function TN(t){return If(t)&&t.tagName.toLowerCase()==="input"}function RN(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function AN(t,e){return t.button===0&&(!e||e==="_self")&&!RN(t)}function lg(t=""){return new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,r)=>{let s=t[r];return e.concat(Array.isArray(s)?s.map(l=>[r,l]):[[r,s]])},[]))}function ON(t,e){let r=lg(t);return e&&e.forEach((s,l)=>{r.has(l)||e.getAll(l).forEach(c=>{r.append(l,c)})}),r}var Lh=null;function MN(){if(Lh===null)try{new FormData(document.createElement("form"),0),Lh=!1}catch{Lh=!0}return Lh}var LN=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Lp(t){return t!=null&&!LN.has(t)?(co(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${of}"`),null):t}function IN(t,e){let r,s,l,c,u;if(PN(t)){let p=t.getAttribute("action");s=p?Zs(p,e):null,r=t.getAttribute("method")||nf,l=Lp(t.getAttribute("enctype"))||of,c=new FormData(t)}else if(kN(t)||TN(t)&&(t.type==="submit"||t.type==="image")){let p=t.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=t.getAttribute("formaction")||p.getAttribute("action");if(s=m?Zs(m,e):null,r=t.getAttribute("formmethod")||p.getAttribute("method")||nf,l=Lp(t.getAttribute("formenctype"))||Lp(p.getAttribute("enctype"))||of,c=new FormData(p,t),!MN()){let{name:v,type:y,value:x}=t;if(y==="image"){let E=v?`${v}.`:"";c.append(`${E}x`,"0"),c.append(`${E}y`,"0")}else v&&c.append(v,x)}}else{if(If(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=nf,s=null,l=of,u=t}return c&&l==="text/plain"&&(u=c,c=void 0),{action:s,method:r.toLowerCase(),encType:l,formData:c,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function cv(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function DN(t,e,r){let s=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return s.pathname==="/"?s.pathname=`_root.${r}`:e&&Zs(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${r}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${r}`,s}async function BN(t,e){if(t.id in e)return e[t.id];try{let r=await import(t.module);return e[t.id]=r,r}catch(r){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function zN(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function $N(t,e,r){let s=await Promise.all(t.map(async l=>{let c=e.routes[l.route.id];if(c){let u=await BN(c,r);return u.links?u.links():[]}return[]}));return WN(s.flat(1).filter(zN).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function Y0(t,e,r,s,l,c){let u=(m,v)=>r[v]?m.route.id!==r[v].route.id:!0,p=(m,v)=>{var y;return r[v].pathname!==m.pathname||((y=r[v].route.path)==null?void 0:y.endsWith("*"))&&r[v].params["*"]!==m.params["*"]};return c==="assets"?e.filter((m,v)=>u(m,v)||p(m,v)):c==="data"?e.filter((m,v)=>{var x;let y=s.routes[m.route.id];if(!y||!y.hasLoader)return!1;if(u(m,v)||p(m,v))return!0;if(m.route.shouldRevalidate){let E=m.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:((x=r[0])==null?void 0:x.params)||{},nextUrl:new URL(t,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof E=="boolean")return E}return!0}):[]}function FN(t,e,{includeHydrateFallback:r}={}){return UN(t.map(s=>{let l=e.routes[s.route.id];if(!l)return[];let c=[l.module];return l.clientActionModule&&(c=c.concat(l.clientActionModule)),l.clientLoaderModule&&(c=c.concat(l.clientLoaderModule)),r&&l.hydrateFallbackModule&&(c=c.concat(l.hydrateFallbackModule)),l.imports&&(c=c.concat(l.imports)),c}).flat(1))}function UN(t){return[...new Set(t)]}function qN(t){let e={},r=Object.keys(t).sort();for(let s of r)e[s]=t[s];return e}function WN(t,e){let r=new Set;return new Set(e),t.reduce((s,l)=>{let c=JSON.stringify(qN(l));return r.has(c)||(r.add(c),s.push({key:c,link:l})),s},[])}function i_(){let t=w.useContext(Tc);return cv(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function HN(){let t=w.useContext(Lf);return cv(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var dv=w.createContext(void 0);dv.displayName="FrameworkContext";function a_(){let t=w.useContext(dv);return cv(t,"You must render this element inside a <HydratedRouter> element"),t}function VN(t,e){let r=w.useContext(dv),[s,l]=w.useState(!1),[c,u]=w.useState(!1),{onFocus:p,onBlur:m,onMouseEnter:v,onMouseLeave:y,onTouchStart:x}=e,E=w.useRef(null);w.useEffect(()=>{if(t==="render"&&u(!0),t==="viewport"){let N=O=>{O.forEach(T=>{u(T.isIntersecting)})},P=new IntersectionObserver(N,{threshold:.5});return E.current&&P.observe(E.current),()=>{P.disconnect()}}},[t]),w.useEffect(()=>{if(s){let N=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(N)}}},[s]);let S=()=>{l(!0)},k=()=>{l(!1),u(!1)};return r?t!=="intent"?[c,E,{}]:[c,E,{onFocus:Ld(p,S),onBlur:Ld(m,k),onMouseEnter:Ld(v,S),onMouseLeave:Ld(y,k),onTouchStart:Ld(x,S)}]:[!1,E,{}]}function Ld(t,e){return r=>{t&&t(r),r.defaultPrevented||e(r)}}function GN({page:t,...e}){let{router:r}=i_(),s=w.useMemo(()=>Jb(r.routes,t,r.basename),[r.routes,t,r.basename]);return s?w.createElement(ZN,{page:t,matches:s,...e}):null}function KN(t){let{manifest:e,routeModules:r}=a_(),[s,l]=w.useState([]);return w.useEffect(()=>{let c=!1;return $N(t,e,r).then(u=>{c||l(u)}),()=>{c=!0}},[t,e,r]),s}function ZN({page:t,matches:e,...r}){let s=zo(),{manifest:l,routeModules:c}=a_(),{basename:u}=i_(),{loaderData:p,matches:m}=HN(),v=w.useMemo(()=>Y0(t,e,m,l,s,"data"),[t,e,m,l,s]),y=w.useMemo(()=>Y0(t,e,m,l,s,"assets"),[t,e,m,l,s]),x=w.useMemo(()=>{if(t===s.pathname+s.search+s.hash)return[];let k=new Set,N=!1;if(e.forEach(O=>{var R;let T=l.routes[O.route.id];!T||!T.hasLoader||(!v.some(z=>z.route.id===O.route.id)&&O.route.id in p&&((R=c[O.route.id])!=null&&R.shouldRevalidate)||T.hasClientLoader?N=!0:k.add(O.route.id))}),k.size===0)return[];let P=DN(t,u,"data");return N&&k.size>0&&P.searchParams.set("_routes",e.filter(O=>k.has(O.route.id)).map(O=>O.route.id).join(",")),[P.pathname+P.search]},[u,p,s,l,v,e,t,c]),E=w.useMemo(()=>FN(y,l),[y,l]),S=KN(y);return w.createElement(w.Fragment,null,x.map(k=>w.createElement("link",{key:k,rel:"prefetch",as:"fetch",href:k,...r})),E.map(k=>w.createElement("link",{key:k,rel:"modulepreload",href:k,...r})),S.map(({key:k,link:N})=>w.createElement("link",{key:k,nonce:r.nonce,...N})))}function QN(...t){return e=>{t.forEach(r=>{typeof r=="function"?r(e):r!=null&&(r.current=e)})}}var l_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{l_&&(window.__reactRouterVersion="7.9.1")}catch{}function JN({basename:t,children:e,window:r}){let s=w.useRef();s.current==null&&(s.current=BE({window:r,v5Compat:!0}));let l=s.current,[c,u]=w.useState({action:l.action,location:l.location}),p=w.useCallback(m=>{w.startTransition(()=>u(m))},[u]);return w.useLayoutEffect(()=>l.listen(p),[l,p]),w.createElement(CN,{basename:t,children:e,location:c.location,navigationType:c.action,navigator:l})}var c_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,qs=w.forwardRef(function({onClick:e,discover:r="render",prefetch:s="none",relative:l,reloadDocument:c,replace:u,state:p,target:m,to:v,preventScrollReset:y,viewTransition:x,...E},S){let{basename:k}=w.useContext(Do),N=typeof v=="string"&&c_.test(v),P,O=!1;if(typeof v=="string"&&N&&(P=v,l_))try{let we=new URL(window.location.href),Z=v.startsWith("//")?new URL(we.protocol+v):new URL(v),$=Zs(Z.pathname,k);Z.origin===we.origin&&$!=null?v=$+Z.search+Z.hash:O=!0}catch{co(!1,`<Link to="${v}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let T=uN(v,{relative:l}),[R,z,Y]=VN(s,E),D=tC(v,{replace:u,state:p,target:m,preventScrollReset:y,relative:l,viewTransition:x});function J(we){e&&e(we),we.defaultPrevented||D(we)}let ne=w.createElement("a",{...E,...Y,href:P||T,onClick:O||c?e:J,ref:QN(S,z),target:m,"data-discover":!N&&r==="render"?"true":void 0});return R&&!N?w.createElement(w.Fragment,null,ne,w.createElement(GN,{page:T})):ne});qs.displayName="Link";var YN=w.forwardRef(function({"aria-current":e="page",caseSensitive:r=!1,className:s="",end:l=!1,style:c,to:u,viewTransition:p,children:m,...v},y){let x=fu(u,{relative:v.relative}),E=zo(),S=w.useContext(Lf),{navigator:k,basename:N}=w.useContext(Do),P=S!=null&&iC(x)&&p===!0,O=k.encodeLocation?k.encodeLocation(x).pathname:x.pathname,T=E.pathname,R=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;r||(T=T.toLowerCase(),R=R?R.toLowerCase():null,O=O.toLowerCase()),R&&N&&(R=Zs(R,N)||R);const z=O!=="/"&&O.endsWith("/")?O.length-1:O.length;let Y=T===O||!l&&T.startsWith(O)&&T.charAt(z)==="/",D=R!=null&&(R===O||!l&&R.startsWith(O)&&R.charAt(O.length)==="/"),J={isActive:Y,isPending:D,isTransitioning:P},ne=Y?e:void 0,we;typeof s=="function"?we=s(J):we=[s,Y?"active":null,D?"pending":null,P?"transitioning":null].filter(Boolean).join(" ");let Z=typeof c=="function"?c(J):c;return w.createElement(qs,{...v,"aria-current":ne,className:we,ref:y,style:Z,to:u,viewTransition:p},typeof m=="function"?m(J):m)});YN.displayName="NavLink";var XN=w.forwardRef(({discover:t="render",fetcherKey:e,navigate:r,reloadDocument:s,replace:l,state:c,method:u=nf,action:p,onSubmit:m,relative:v,preventScrollReset:y,viewTransition:x,...E},S)=>{let k=oC(),N=sC(p,{relative:v}),P=u.toLowerCase()==="get"?"get":"post",O=typeof p=="string"&&c_.test(p),T=R=>{if(m&&m(R),R.defaultPrevented)return;R.preventDefault();let z=R.nativeEvent.submitter,Y=(z==null?void 0:z.getAttribute("formmethod"))||u;k(z||R.currentTarget,{fetcherKey:e,method:Y,navigate:r,replace:l,state:c,relative:v,preventScrollReset:y,viewTransition:x})};return w.createElement("form",{ref:S,method:P,action:N,onSubmit:s?m:T,...E,"data-discover":!O&&t==="render"?"true":void 0})});XN.displayName="Form";function eC(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function d_(t){let e=w.useContext(Tc);return er(e,eC(t)),e}function tC(t,{target:e,replace:r,state:s,preventScrollReset:l,relative:c,viewTransition:u}={}){let p=Sr(),m=zo(),v=fu(t,{relative:c});return w.useCallback(y=>{if(AN(y,e)){y.preventDefault();let x=r!==void 0?r:Jd(m)===Jd(v);p(t,{replace:x,state:s,preventScrollReset:l,relative:c,viewTransition:u})}},[m,p,v,r,s,e,t,l,c,u])}function u_(t){co(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=w.useRef(lg(t)),r=w.useRef(!1),s=zo(),l=w.useMemo(()=>ON(s.search,r.current?null:e.current),[s.search]),c=Sr(),u=w.useCallback((p,m)=>{const v=lg(typeof p=="function"?p(new URLSearchParams(l)):p);r.current=!0,c("?"+v,m)},[c,l]);return[l,u]}var rC=0,nC=()=>`__${String(++rC)}__`;function oC(){let{router:t}=d_("useSubmit"),{basename:e}=w.useContext(Do),r=jN();return w.useCallback(async(s,l={})=>{let{action:c,method:u,encType:p,formData:m,body:v}=IN(s,e);if(l.navigate===!1){let y=l.fetcherKey||nC();await t.fetch(y,r,l.action||c,{preventScrollReset:l.preventScrollReset,formData:m,body:v,formMethod:l.method||u,formEncType:l.encType||p,flushSync:l.flushSync})}else await t.navigate(l.action||c,{preventScrollReset:l.preventScrollReset,formData:m,body:v,formMethod:l.method||u,formEncType:l.encType||p,replace:l.replace,state:l.state,fromRouteId:r,flushSync:l.flushSync,viewTransition:l.viewTransition})},[t,e,r])}function sC(t,{relative:e}={}){let{basename:r}=w.useContext(Do),s=w.useContext(Bo);er(s,"useFormAction must be used inside a RouteContext");let[l]=s.matches.slice(-1),c={...fu(t||".",{relative:e})},u=zo();if(t==null){c.search=u.search;let p=new URLSearchParams(c.search),m=p.getAll("index");if(m.some(y=>y==="")){p.delete("index"),m.filter(x=>x).forEach(x=>p.append("index",x));let y=p.toString();c.search=y?`?${y}`:""}}return(!t||t===".")&&l.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(c.pathname=c.pathname==="/"?r:Vs([r,c.pathname])),Jd(c)}function iC(t,{relative:e}={}){let r=w.useContext(t_);er(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=d_("useViewTransitionState"),l=fu(t,{relative:e});if(!r.isTransitioning)return!1;let c=Zs(r.currentLocation.pathname,s)||r.currentLocation.pathname,u=Zs(r.nextLocation.pathname,s)||r.nextLocation.pathname;return mf(l.pathname,u)!=null||mf(l.pathname,c)!=null}var Ac=Qb();const h_=du(Ac);function aC(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}const lC=t=>{switch(t){case"success":return uC;case"info":return fC;case"warning":return hC;case"error":return mC;default:return null}},cC=Array(12).fill(0),dC=({visible:t,className:e})=>Te.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},Te.createElement("div",{className:"sonner-spinner"},cC.map((r,s)=>Te.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${s}`})))),uC=Te.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Te.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),hC=Te.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},Te.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),fC=Te.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Te.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),mC=Te.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Te.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),pC=Te.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},Te.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),Te.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),gC=()=>{const[t,e]=Te.useState(document.hidden);return Te.useEffect(()=>{const r=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),t};let cg=1;class vC{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const r=this.subscribers.indexOf(e);this.subscribers.splice(r,1)}),this.publish=e=>{this.subscribers.forEach(r=>r(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var r;const{message:s,...l}=e,c=typeof(e==null?void 0:e.id)=="number"||((r=e.id)==null?void 0:r.length)>0?e.id:cg++,u=this.toasts.find(m=>m.id===c),p=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(c)&&this.dismissedToasts.delete(c),u?this.toasts=this.toasts.map(m=>m.id===c?(this.publish({...m,...e,id:c,title:s}),{...m,...e,id:c,dismissible:p,title:s}):m):this.addToast({title:s,...l,dismissible:p,id:c}),c},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(r=>r({id:e,dismiss:!0})))):this.toasts.forEach(r=>{this.subscribers.forEach(s=>s({id:r.id,dismiss:!0}))}),e),this.message=(e,r)=>this.create({...r,message:e}),this.error=(e,r)=>this.create({...r,message:e,type:"error"}),this.success=(e,r)=>this.create({...r,type:"success",message:e}),this.info=(e,r)=>this.create({...r,type:"info",message:e}),this.warning=(e,r)=>this.create({...r,type:"warning",message:e}),this.loading=(e,r)=>this.create({...r,type:"loading",message:e}),this.promise=(e,r)=>{if(!r)return;let s;r.loading!==void 0&&(s=this.create({...r,promise:e,type:"loading",message:r.loading,description:typeof r.description!="function"?r.description:void 0}));const l=Promise.resolve(e instanceof Function?e():e);let c=s!==void 0,u;const p=l.then(async v=>{if(u=["resolve",v],Te.isValidElement(v))c=!1,this.create({id:s,type:"default",message:v});else if(yC(v)&&!v.ok){c=!1;const x=typeof r.error=="function"?await r.error(`HTTP error! status: ${v.status}`):r.error,E=typeof r.description=="function"?await r.description(`HTTP error! status: ${v.status}`):r.description,k=typeof x=="object"&&!Te.isValidElement(x)?x:{message:x};this.create({id:s,type:"error",description:E,...k})}else if(v instanceof Error){c=!1;const x=typeof r.error=="function"?await r.error(v):r.error,E=typeof r.description=="function"?await r.description(v):r.description,k=typeof x=="object"&&!Te.isValidElement(x)?x:{message:x};this.create({id:s,type:"error",description:E,...k})}else if(r.success!==void 0){c=!1;const x=typeof r.success=="function"?await r.success(v):r.success,E=typeof r.description=="function"?await r.description(v):r.description,k=typeof x=="object"&&!Te.isValidElement(x)?x:{message:x};this.create({id:s,type:"success",description:E,...k})}}).catch(async v=>{if(u=["reject",v],r.error!==void 0){c=!1;const y=typeof r.error=="function"?await r.error(v):r.error,x=typeof r.description=="function"?await r.description(v):r.description,S=typeof y=="object"&&!Te.isValidElement(y)?y:{message:y};this.create({id:s,type:"error",description:x,...S})}}).finally(()=>{c&&(this.dismiss(s),s=void 0),r.finally==null||r.finally.call(r)}),m=()=>new Promise((v,y)=>p.then(()=>u[0]==="reject"?y(u[1]):v(u[1])).catch(y));return typeof s!="string"&&typeof s!="number"?{unwrap:m}:Object.assign(s,{unwrap:m})},this.custom=(e,r)=>{const s=(r==null?void 0:r.id)||cg++;return this.create({jsx:e(s),id:s,...r}),s},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const En=new vC,xC=(t,e)=>{const r=(e==null?void 0:e.id)||cg++;return En.addToast({title:t,...e,id:r}),r},yC=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",bC=xC,_C=()=>En.toasts,wC=()=>En.getActiveToasts(),Se=Object.assign(bC,{success:En.success,info:En.info,warning:En.warning,error:En.error,custom:En.custom,message:En.message,promise:En.promise,dismiss:En.dismiss,loading:En.loading},{getHistory:_C,getToasts:wC});aC("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function Ih(t){return t.label!==void 0}const jC=3,SC="24px",EC="16px",X0=4e3,NC=356,CC=14,kC=45,PC=200;function es(...t){return t.filter(Boolean).join(" ")}function TC(t){const[e,r]=t.split("-"),s=[];return e&&s.push(e),r&&s.push(r),s}const RC=t=>{var e,r,s,l,c,u,p,m,v;const{invert:y,toast:x,unstyled:E,interacting:S,setHeights:k,visibleToasts:N,heights:P,index:O,toasts:T,expanded:R,removeToast:z,defaultRichColors:Y,closeButton:D,style:J,cancelButtonStyle:ne,actionButtonStyle:we,className:Z="",descriptionClassName:$="",duration:re,position:U,gap:W,expandByDefault:be,classNames:me,icons:_e,closeButtonAriaLabel:q="Close toast"}=t,[je,le]=Te.useState(null),[A,H]=Te.useState(null),[V,F]=Te.useState(!1),[ce,xe]=Te.useState(!1),[pe,ie]=Te.useState(!1),[Pe,Me]=Te.useState(!1),[$e,Ie]=Te.useState(!1),[nt,it]=Te.useState(0),[Lt,$t]=Te.useState(0),Pt=Te.useRef(x.duration||re||X0),_t=Te.useRef(null),Nt=Te.useRef(null),ur=O===0,gr=O+1<=N,jt=x.type,Gt=x.dismissible!==!1,Cn=x.className||"",Un=x.descriptionClassName||"",Ar=Te.useMemo(()=>P.findIndex(st=>st.toastId===x.id)||0,[P,x.id]),Wr=Te.useMemo(()=>{var st;return(st=x.closeButton)!=null?st:D},[x.closeButton,D]),se=Te.useMemo(()=>x.duration||re||X0,[x.duration,re]),Ee=Te.useRef(0),G=Te.useRef(0),B=Te.useRef(0),Q=Te.useRef(null),[de,ge]=U.split("-"),Ke=Te.useMemo(()=>P.reduce((st,Ft,St)=>St>=Ar?st:st+Ft.height,0),[P,Ar]),Re=gC(),at=x.invert||y,dt=jt==="loading";G.current=Te.useMemo(()=>Ar*W+Ke,[Ar,Ke]),Te.useEffect(()=>{Pt.current=se},[se]),Te.useEffect(()=>{F(!0)},[]),Te.useEffect(()=>{const st=Nt.current;if(st){const Ft=st.getBoundingClientRect().height;return $t(Ft),k(St=>[{toastId:x.id,height:Ft,position:x.position},...St]),()=>k(St=>St.filter(vr=>vr.toastId!==x.id))}},[k,x.id]),Te.useLayoutEffect(()=>{if(!V)return;const st=Nt.current,Ft=st.style.height;st.style.height="auto";const St=st.getBoundingClientRect().height;st.style.height=Ft,$t(St),k(vr=>vr.find(Ut=>Ut.toastId===x.id)?vr.map(Ut=>Ut.toastId===x.id?{...Ut,height:St}:Ut):[{toastId:x.id,height:St,position:x.position},...vr])},[V,x.title,x.description,k,x.id,x.jsx,x.action,x.cancel]);const Xe=Te.useCallback(()=>{xe(!0),it(G.current),k(st=>st.filter(Ft=>Ft.toastId!==x.id)),setTimeout(()=>{z(x)},PC)},[x,z,k,G]);Te.useEffect(()=>{if(x.promise&&jt==="loading"||x.duration===1/0||x.type==="loading")return;let st;return R||S||Re?(()=>{if(B.current<Ee.current){const vr=new Date().getTime()-Ee.current;Pt.current=Pt.current-vr}B.current=new Date().getTime()})():(()=>{Pt.current!==1/0&&(Ee.current=new Date().getTime(),st=setTimeout(()=>{x.onAutoClose==null||x.onAutoClose.call(x,x),Xe()},Pt.current))})(),()=>clearTimeout(st)},[R,S,x,jt,Re,Xe]),Te.useEffect(()=>{x.delete&&(Xe(),x.onDismiss==null||x.onDismiss.call(x,x))},[Xe,x.delete]);function Tt(){var st;if(_e!=null&&_e.loading){var Ft;return Te.createElement("div",{className:es(me==null?void 0:me.loader,x==null||(Ft=x.classNames)==null?void 0:Ft.loader,"sonner-loader"),"data-visible":jt==="loading"},_e.loading)}return Te.createElement(dC,{className:es(me==null?void 0:me.loader,x==null||(st=x.classNames)==null?void 0:st.loader),visible:jt==="loading"})}const It=x.icon||(_e==null?void 0:_e[jt])||lC(jt);var Br,qn;return Te.createElement("li",{tabIndex:0,ref:Nt,className:es(Z,Cn,me==null?void 0:me.toast,x==null||(e=x.classNames)==null?void 0:e.toast,me==null?void 0:me.default,me==null?void 0:me[jt],x==null||(r=x.classNames)==null?void 0:r[jt]),"data-sonner-toast":"","data-rich-colors":(Br=x.richColors)!=null?Br:Y,"data-styled":!(x.jsx||x.unstyled||E),"data-mounted":V,"data-promise":!!x.promise,"data-swiped":$e,"data-removed":ce,"data-visible":gr,"data-y-position":de,"data-x-position":ge,"data-index":O,"data-front":ur,"data-swiping":pe,"data-dismissible":Gt,"data-type":jt,"data-invert":at,"data-swipe-out":Pe,"data-swipe-direction":A,"data-expanded":!!(R||be&&V),"data-testid":x.testId,style:{"--index":O,"--toasts-before":O,"--z-index":T.length-O,"--offset":`${ce?nt:G.current}px`,"--initial-height":be?"auto":`${Lt}px`,...J,...x.style},onDragEnd:()=>{ie(!1),le(null),Q.current=null},onPointerDown:st=>{st.button!==2&&(dt||!Gt||(_t.current=new Date,it(G.current),st.target.setPointerCapture(st.pointerId),st.target.tagName!=="BUTTON"&&(ie(!0),Q.current={x:st.clientX,y:st.clientY})))},onPointerUp:()=>{var st,Ft,St;if(Pe||!Gt)return;Q.current=null;const vr=Number(((st=Nt.current)==null?void 0:st.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Wn=Number(((Ft=Nt.current)==null?void 0:Ft.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Ut=new Date().getTime()-((St=_t.current)==null?void 0:St.getTime()),ar=je==="x"?vr:Wn,Hn=Math.abs(ar)/Ut;if(Math.abs(ar)>=kC||Hn>.11){it(G.current),x.onDismiss==null||x.onDismiss.call(x,x),H(je==="x"?vr>0?"right":"left":Wn>0?"down":"up"),Xe(),Me(!0);return}else{var hr,zr;(hr=Nt.current)==null||hr.style.setProperty("--swipe-amount-x","0px"),(zr=Nt.current)==null||zr.style.setProperty("--swipe-amount-y","0px")}Ie(!1),ie(!1),le(null)},onPointerMove:st=>{var Ft,St,vr;if(!Q.current||!Gt||((Ft=window.getSelection())==null?void 0:Ft.toString().length)>0)return;const Ut=st.clientY-Q.current.y,ar=st.clientX-Q.current.x;var Hn;const hr=(Hn=t.swipeDirections)!=null?Hn:TC(U);!je&&(Math.abs(ar)>1||Math.abs(Ut)>1)&&le(Math.abs(ar)>Math.abs(Ut)?"x":"y");let zr={x:0,y:0};const fr=ze=>1/(1.5+Math.abs(ze)/20);if(je==="y"){if(hr.includes("top")||hr.includes("bottom"))if(hr.includes("top")&&Ut<0||hr.includes("bottom")&&Ut>0)zr.y=Ut;else{const ze=Ut*fr(Ut);zr.y=Math.abs(ze)<Math.abs(Ut)?ze:Ut}}else if(je==="x"&&(hr.includes("left")||hr.includes("right")))if(hr.includes("left")&&ar<0||hr.includes("right")&&ar>0)zr.x=ar;else{const ze=ar*fr(ar);zr.x=Math.abs(ze)<Math.abs(ar)?ze:ar}(Math.abs(zr.x)>0||Math.abs(zr.y)>0)&&Ie(!0),(St=Nt.current)==null||St.style.setProperty("--swipe-amount-x",`${zr.x}px`),(vr=Nt.current)==null||vr.style.setProperty("--swipe-amount-y",`${zr.y}px`)}},Wr&&!x.jsx&&jt!=="loading"?Te.createElement("button",{"aria-label":q,"data-disabled":dt,"data-close-button":!0,onClick:dt||!Gt?()=>{}:()=>{Xe(),x.onDismiss==null||x.onDismiss.call(x,x)},className:es(me==null?void 0:me.closeButton,x==null||(s=x.classNames)==null?void 0:s.closeButton)},(qn=_e==null?void 0:_e.close)!=null?qn:pC):null,(jt||x.icon||x.promise)&&x.icon!==null&&((_e==null?void 0:_e[jt])!==null||x.icon)?Te.createElement("div",{"data-icon":"",className:es(me==null?void 0:me.icon,x==null||(l=x.classNames)==null?void 0:l.icon)},x.promise||x.type==="loading"&&!x.icon?x.icon||Tt():null,x.type!=="loading"?It:null):null,Te.createElement("div",{"data-content":"",className:es(me==null?void 0:me.content,x==null||(c=x.classNames)==null?void 0:c.content)},Te.createElement("div",{"data-title":"",className:es(me==null?void 0:me.title,x==null||(u=x.classNames)==null?void 0:u.title)},x.jsx?x.jsx:typeof x.title=="function"?x.title():x.title),x.description?Te.createElement("div",{"data-description":"",className:es($,Un,me==null?void 0:me.description,x==null||(p=x.classNames)==null?void 0:p.description)},typeof x.description=="function"?x.description():x.description):null),Te.isValidElement(x.cancel)?x.cancel:x.cancel&&Ih(x.cancel)?Te.createElement("button",{"data-button":!0,"data-cancel":!0,style:x.cancelButtonStyle||ne,onClick:st=>{Ih(x.cancel)&&Gt&&(x.cancel.onClick==null||x.cancel.onClick.call(x.cancel,st),Xe())},className:es(me==null?void 0:me.cancelButton,x==null||(m=x.classNames)==null?void 0:m.cancelButton)},x.cancel.label):null,Te.isValidElement(x.action)?x.action:x.action&&Ih(x.action)?Te.createElement("button",{"data-button":!0,"data-action":!0,style:x.actionButtonStyle||we,onClick:st=>{Ih(x.action)&&(x.action.onClick==null||x.action.onClick.call(x.action,st),!st.defaultPrevented&&Xe())},className:es(me==null?void 0:me.actionButton,x==null||(v=x.classNames)==null?void 0:v.actionButton)},x.action.label):null)};function ey(){if(typeof window>"u"||typeof document>"u")return"ltr";const t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function AC(t,e){const r={};return[t,e].forEach((s,l)=>{const c=l===1,u=c?"--mobile-offset":"--offset",p=c?EC:SC;function m(v){["top","right","bottom","left"].forEach(y=>{r[`${u}-${y}`]=typeof v=="number"?`${v}px`:v})}typeof s=="number"||typeof s=="string"?m(s):typeof s=="object"?["top","right","bottom","left"].forEach(v=>{s[v]===void 0?r[`${u}-${v}`]=p:r[`${u}-${v}`]=typeof s[v]=="number"?`${s[v]}px`:s[v]}):m(p)}),r}const OC=Te.forwardRef(function(e,r){const{id:s,invert:l,position:c="bottom-right",hotkey:u=["altKey","KeyT"],expand:p,closeButton:m,className:v,offset:y,mobileOffset:x,theme:E="light",richColors:S,duration:k,style:N,visibleToasts:P=jC,toastOptions:O,dir:T=ey(),gap:R=CC,icons:z,containerAriaLabel:Y="Notifications"}=e,[D,J]=Te.useState([]),ne=Te.useMemo(()=>s?D.filter(V=>V.toasterId===s):D.filter(V=>!V.toasterId),[D,s]),we=Te.useMemo(()=>Array.from(new Set([c].concat(ne.filter(V=>V.position).map(V=>V.position)))),[ne,c]),[Z,$]=Te.useState([]),[re,U]=Te.useState(!1),[W,be]=Te.useState(!1),[me,_e]=Te.useState(E!=="system"?E:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),q=Te.useRef(null),je=u.join("+").replace(/Key/g,"").replace(/Digit/g,""),le=Te.useRef(null),A=Te.useRef(!1),H=Te.useCallback(V=>{J(F=>{var ce;return(ce=F.find(xe=>xe.id===V.id))!=null&&ce.delete||En.dismiss(V.id),F.filter(({id:xe})=>xe!==V.id)})},[]);return Te.useEffect(()=>En.subscribe(V=>{if(V.dismiss){requestAnimationFrame(()=>{J(F=>F.map(ce=>ce.id===V.id?{...ce,delete:!0}:ce))});return}setTimeout(()=>{h_.flushSync(()=>{J(F=>{const ce=F.findIndex(xe=>xe.id===V.id);return ce!==-1?[...F.slice(0,ce),{...F[ce],...V},...F.slice(ce+1)]:[V,...F]})})})}),[D]),Te.useEffect(()=>{if(E!=="system"){_e(E);return}if(E==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?_e("dark"):_e("light")),typeof window>"u")return;const V=window.matchMedia("(prefers-color-scheme: dark)");try{V.addEventListener("change",({matches:F})=>{_e(F?"dark":"light")})}catch{V.addListener(({matches:ce})=>{try{_e(ce?"dark":"light")}catch(xe){console.error(xe)}})}},[E]),Te.useEffect(()=>{D.length<=1&&U(!1)},[D]),Te.useEffect(()=>{const V=F=>{var ce;if(u.every(ie=>F[ie]||F.code===ie)){var pe;U(!0),(pe=q.current)==null||pe.focus()}F.code==="Escape"&&(document.activeElement===q.current||(ce=q.current)!=null&&ce.contains(document.activeElement))&&U(!1)};return document.addEventListener("keydown",V),()=>document.removeEventListener("keydown",V)},[u]),Te.useEffect(()=>{if(q.current)return()=>{le.current&&(le.current.focus({preventScroll:!0}),le.current=null,A.current=!1)}},[q.current]),Te.createElement("section",{ref:r,"aria-label":`${Y} ${je}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},we.map((V,F)=>{var ce;const[xe,pe]=V.split("-");return ne.length?Te.createElement("ol",{key:V,dir:T==="auto"?ey():T,tabIndex:-1,ref:q,className:v,"data-sonner-toaster":!0,"data-sonner-theme":me,"data-y-position":xe,"data-x-position":pe,style:{"--front-toast-height":`${((ce=Z[0])==null?void 0:ce.height)||0}px`,"--width":`${NC}px`,"--gap":`${R}px`,...N,...AC(y,x)},onBlur:ie=>{A.current&&!ie.currentTarget.contains(ie.relatedTarget)&&(A.current=!1,le.current&&(le.current.focus({preventScroll:!0}),le.current=null))},onFocus:ie=>{ie.target instanceof HTMLElement&&ie.target.dataset.dismissible==="false"||A.current||(A.current=!0,le.current=ie.relatedTarget)},onMouseEnter:()=>U(!0),onMouseMove:()=>U(!0),onMouseLeave:()=>{W||U(!1)},onDragEnd:()=>U(!1),onPointerDown:ie=>{ie.target instanceof HTMLElement&&ie.target.dataset.dismissible==="false"||be(!0)},onPointerUp:()=>be(!1)},ne.filter(ie=>!ie.position&&F===0||ie.position===V).map((ie,Pe)=>{var Me,$e;return Te.createElement(RC,{key:ie.id,icons:z,index:Pe,toast:ie,defaultRichColors:S,duration:(Me=O==null?void 0:O.duration)!=null?Me:k,className:O==null?void 0:O.className,descriptionClassName:O==null?void 0:O.descriptionClassName,invert:l,visibleToasts:P,closeButton:($e=O==null?void 0:O.closeButton)!=null?$e:m,interacting:W,position:V,style:O==null?void 0:O.style,unstyled:O==null?void 0:O.unstyled,classNames:O==null?void 0:O.classNames,cancelButtonStyle:O==null?void 0:O.cancelButtonStyle,actionButtonStyle:O==null?void 0:O.actionButtonStyle,closeButtonAriaLabel:O==null?void 0:O.closeButtonAriaLabel,removeToast:H,toasts:ne.filter(Ie=>Ie.position==ie.position),heights:Z.filter(Ie=>Ie.position==ie.position),setHeights:$,expandByDefault:p,gap:R,expanded:re,swipeDirections:e.swipeDirections})})):null}))});var Oc=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},MC={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},zi,rv,Db,LC=(Db=class{constructor(){Ye(this,zi,MC);Ye(this,rv,!1)}setTimeoutProvider(t){Be(this,zi,t)}setTimeout(t,e){return ee(this,zi).setTimeout(t,e)}clearTimeout(t){ee(this,zi).clearTimeout(t)}setInterval(t,e){return ee(this,zi).setInterval(t,e)}clearInterval(t){ee(this,zi).clearInterval(t)}},zi=new WeakMap,rv=new WeakMap,Db),$a=new LC;function IC(t){setTimeout(t,0)}var el=typeof window>"u"||"Deno"in globalThis;function cn(){}function DC(t,e){return typeof t=="function"?t(e):t}function dg(t){return typeof t=="number"&&t>=0&&t!==1/0}function f_(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Qi(t,e){return typeof t=="function"?t(e):t}function so(t,e){return typeof t=="function"?t(e):t}function ty(t,e){const{type:r="all",exact:s,fetchStatus:l,predicate:c,queryKey:u,stale:p}=t;if(u){if(s){if(e.queryHash!==uv(u,e.options))return!1}else if(!Yd(e.queryKey,u))return!1}if(r!=="all"){const m=e.isActive();if(r==="active"&&!m||r==="inactive"&&m)return!1}return!(typeof p=="boolean"&&e.isStale()!==p||l&&l!==e.state.fetchStatus||c&&!c(e))}function ry(t,e){const{exact:r,status:s,predicate:l,mutationKey:c}=t;if(c){if(!e.options.mutationKey)return!1;if(r){if(tl(e.options.mutationKey)!==tl(c))return!1}else if(!Yd(e.options.mutationKey,c))return!1}return!(s&&e.state.status!==s||l&&!l(e))}function uv(t,e){return((e==null?void 0:e.queryKeyHashFn)||tl)(t)}function tl(t){return JSON.stringify(t,(e,r)=>ug(r)?Object.keys(r).sort().reduce((s,l)=>(s[l]=r[l],s),{}):r)}function Yd(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(r=>Yd(t[r],e[r])):!1}var BC=Object.prototype.hasOwnProperty;function m_(t,e){if(t===e)return t;const r=ny(t)&&ny(e);if(!r&&!(ug(t)&&ug(e)))return e;const l=(r?t:Object.keys(t)).length,c=r?e:Object.keys(e),u=c.length,p=r?new Array(u):{};let m=0;for(let v=0;v<u;v++){const y=r?v:c[v],x=t[y],E=e[y];if(x===E){p[y]=x,(r?v<l:BC.call(t,y))&&m++;continue}if(x===null||E===null||typeof x!="object"||typeof E!="object"){p[y]=E;continue}const S=m_(x,E);p[y]=S,S===x&&m++}return l===u&&m===l?t:p}function gf(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const r in t)if(t[r]!==e[r])return!1;return!0}function ny(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function ug(t){if(!oy(t))return!1;const e=t.constructor;if(e===void 0)return!0;const r=e.prototype;return!(!oy(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function oy(t){return Object.prototype.toString.call(t)==="[object Object]"}function zC(t){return new Promise(e=>{$a.setTimeout(e,t)})}function hg(t,e,r){return typeof r.structuralSharing=="function"?r.structuralSharing(t,e):r.structuralSharing!==!1?m_(t,e):e}function $C(t,e,r=0){const s=[...t,e];return r&&s.length>r?s.slice(1):s}function FC(t,e,r=0){const s=[e,...t];return r&&s.length>r?s.slice(0,-1):s}var hv=Symbol();function p_(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===hv?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function g_(t,e){return typeof t=="function"?t(...e):!!t}var Wa,$i,uc,Bb,UC=(Bb=class extends Oc{constructor(){super();Ye(this,Wa);Ye(this,$i);Ye(this,uc);Be(this,uc,e=>{if(!el&&window.addEventListener){const r=()=>e();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){ee(this,$i)||this.setEventListener(ee(this,uc))}onUnsubscribe(){var e;this.hasListeners()||((e=ee(this,$i))==null||e.call(this),Be(this,$i,void 0))}setEventListener(e){var r;Be(this,uc,e),(r=ee(this,$i))==null||r.call(this),Be(this,$i,e(s=>{typeof s=="boolean"?this.setFocused(s):this.onFocus()}))}setFocused(e){ee(this,Wa)!==e&&(Be(this,Wa,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(r=>{r(e)})}isFocused(){var e;return typeof ee(this,Wa)=="boolean"?ee(this,Wa):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Wa=new WeakMap,$i=new WeakMap,uc=new WeakMap,Bb),fv=new UC;function fg(){let t,e;const r=new Promise((l,c)=>{t=l,e=c});r.status="pending",r.catch(()=>{});function s(l){Object.assign(r,l),delete r.resolve,delete r.reject}return r.resolve=l=>{s({status:"fulfilled",value:l}),t(l)},r.reject=l=>{s({status:"rejected",reason:l}),e(l)},r}var qC=IC;function WC(){let t=[],e=0,r=p=>{p()},s=p=>{p()},l=qC;const c=p=>{e?t.push(p):l(()=>{r(p)})},u=()=>{const p=t;t=[],p.length&&l(()=>{s(()=>{p.forEach(m=>{r(m)})})})};return{batch:p=>{let m;e++;try{m=p()}finally{e--,e||u()}return m},batchCalls:p=>(...m)=>{c(()=>{p(...m)})},schedule:c,setNotifyFunction:p=>{r=p},setBatchNotifyFunction:p=>{s=p},setScheduler:p=>{l=p}}}var Tr=WC(),hc,Fi,fc,zb,HC=(zb=class extends Oc{constructor(){super();Ye(this,hc,!0);Ye(this,Fi);Ye(this,fc);Be(this,fc,e=>{if(!el&&window.addEventListener){const r=()=>e(!0),s=()=>e(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",s,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",s)}}})}onSubscribe(){ee(this,Fi)||this.setEventListener(ee(this,fc))}onUnsubscribe(){var e;this.hasListeners()||((e=ee(this,Fi))==null||e.call(this),Be(this,Fi,void 0))}setEventListener(e){var r;Be(this,fc,e),(r=ee(this,Fi))==null||r.call(this),Be(this,Fi,e(this.setOnline.bind(this)))}setOnline(e){ee(this,hc)!==e&&(Be(this,hc,e),this.listeners.forEach(s=>{s(e)}))}isOnline(){return ee(this,hc)}},hc=new WeakMap,Fi=new WeakMap,fc=new WeakMap,zb),vf=new HC;function VC(t){return Math.min(1e3*2**t,3e4)}function v_(t){return(t??"online")==="online"?vf.isOnline():!0}var mg=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function x_(t){let e=!1,r=0,s;const l=fg(),c=()=>l.status!=="pending",u=N=>{var P;if(!c()){const O=new mg(N);E(O),(P=t.onCancel)==null||P.call(t,O)}},p=()=>{e=!0},m=()=>{e=!1},v=()=>fv.isFocused()&&(t.networkMode==="always"||vf.isOnline())&&t.canRun(),y=()=>v_(t.networkMode)&&t.canRun(),x=N=>{c()||(s==null||s(),l.resolve(N))},E=N=>{c()||(s==null||s(),l.reject(N))},S=()=>new Promise(N=>{var P;s=O=>{(c()||v())&&N(O)},(P=t.onPause)==null||P.call(t)}).then(()=>{var N;s=void 0,c()||(N=t.onContinue)==null||N.call(t)}),k=()=>{if(c())return;let N;const P=r===0?t.initialPromise:void 0;try{N=P??t.fn()}catch(O){N=Promise.reject(O)}Promise.resolve(N).then(x).catch(O=>{var D;if(c())return;const T=t.retry??(el?0:3),R=t.retryDelay??VC,z=typeof R=="function"?R(r,O):R,Y=T===!0||typeof T=="number"&&r<T||typeof T=="function"&&T(r,O);if(e||!Y){E(O);return}r++,(D=t.onFail)==null||D.call(t,r,O),zC(z).then(()=>v()?void 0:S()).then(()=>{e?E(O):k()})})};return{promise:l,status:()=>l.status,cancel:u,continue:()=>(s==null||s(),l),cancelRetry:p,continueRetry:m,canStart:y,start:()=>(y()?k():S().then(k),l)}}var Ha,$b,y_=($b=class{constructor(){Ye(this,Ha)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),dg(this.gcTime)&&Be(this,Ha,$a.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(el?1/0:300*1e3))}clearGcTimeout(){ee(this,Ha)&&($a.clearTimeout(ee(this,Ha)),Be(this,Ha,void 0))}},Ha=new WeakMap,$b),Va,mc,oo,Ga,Ir,su,Ka,Co,Bs,Fb,GC=(Fb=class extends y_{constructor(e){super();Ye(this,Co);Ye(this,Va);Ye(this,mc);Ye(this,oo);Ye(this,Ga);Ye(this,Ir);Ye(this,su);Ye(this,Ka);Be(this,Ka,!1),Be(this,su,e.defaultOptions),this.setOptions(e.options),this.observers=[],Be(this,Ga,e.client),Be(this,oo,ee(this,Ga).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,Be(this,Va,sy(this.options)),this.state=e.state??ee(this,Va),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=ee(this,Ir))==null?void 0:e.promise}setOptions(e){if(this.options={...ee(this,su),...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=sy(this.options);r.data!==void 0&&(this.setData(r.data,{updatedAt:r.dataUpdatedAt,manual:!0}),Be(this,Va,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&ee(this,oo).remove(this)}setData(e,r){const s=hg(this.state.data,e,this.options);return mt(this,Co,Bs).call(this,{data:s,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),s}setState(e,r){mt(this,Co,Bs).call(this,{type:"setState",state:e,setStateOptions:r})}cancel(e){var s,l;const r=(s=ee(this,Ir))==null?void 0:s.promise;return(l=ee(this,Ir))==null||l.cancel(e),r?r.then(cn).catch(cn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(ee(this,Va))}isActive(){return this.observers.some(e=>so(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===hv||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>Qi(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!f_(this.state.dataUpdatedAt,e)}onFocus(){var r;const e=this.observers.find(s=>s.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(r=ee(this,Ir))==null||r.continue()}onOnline(){var r;const e=this.observers.find(s=>s.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(r=ee(this,Ir))==null||r.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),ee(this,oo).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(r=>r!==e),this.observers.length||(ee(this,Ir)&&(ee(this,Ka)?ee(this,Ir).cancel({revert:!0}):ee(this,Ir).cancelRetry()),this.scheduleGc()),ee(this,oo).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||mt(this,Co,Bs).call(this,{type:"invalidate"})}async fetch(e,r){var m,v,y,x,E,S,k,N,P,O,T,R;if(this.state.fetchStatus!=="idle"&&((m=ee(this,Ir))==null?void 0:m.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(ee(this,Ir))return ee(this,Ir).continueRetry(),ee(this,Ir).promise}if(e&&this.setOptions(e),!this.options.queryFn){const z=this.observers.find(Y=>Y.options.queryFn);z&&this.setOptions(z.options)}const s=new AbortController,l=z=>{Object.defineProperty(z,"signal",{enumerable:!0,get:()=>(Be(this,Ka,!0),s.signal)})},c=()=>{const z=p_(this.options,r),D=(()=>{const J={client:ee(this,Ga),queryKey:this.queryKey,meta:this.meta};return l(J),J})();return Be(this,Ka,!1),this.options.persister?this.options.persister(z,D,this):z(D)},p=(()=>{const z={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:ee(this,Ga),state:this.state,fetchFn:c};return l(z),z})();(v=this.options.behavior)==null||v.onFetch(p,this),Be(this,mc,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((y=p.fetchOptions)==null?void 0:y.meta))&&mt(this,Co,Bs).call(this,{type:"fetch",meta:(x=p.fetchOptions)==null?void 0:x.meta}),Be(this,Ir,x_({initialPromise:r==null?void 0:r.initialPromise,fn:p.fetchFn,onCancel:z=>{z instanceof mg&&z.revert&&this.setState({...ee(this,mc),fetchStatus:"idle"}),s.abort()},onFail:(z,Y)=>{mt(this,Co,Bs).call(this,{type:"failed",failureCount:z,error:Y})},onPause:()=>{mt(this,Co,Bs).call(this,{type:"pause"})},onContinue:()=>{mt(this,Co,Bs).call(this,{type:"continue"})},retry:p.options.retry,retryDelay:p.options.retryDelay,networkMode:p.options.networkMode,canRun:()=>!0}));try{const z=await ee(this,Ir).start();if(z===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(z),(S=(E=ee(this,oo).config).onSuccess)==null||S.call(E,z,this),(N=(k=ee(this,oo).config).onSettled)==null||N.call(k,z,this.state.error,this),z}catch(z){if(z instanceof mg){if(z.silent)return ee(this,Ir).promise;if(z.revert){if(this.state.data===void 0)throw z;return this.state.data}}throw mt(this,Co,Bs).call(this,{type:"error",error:z}),(O=(P=ee(this,oo).config).onError)==null||O.call(P,z,this),(R=(T=ee(this,oo).config).onSettled)==null||R.call(T,this.state.data,z,this),z}finally{this.scheduleGc()}}},Va=new WeakMap,mc=new WeakMap,oo=new WeakMap,Ga=new WeakMap,Ir=new WeakMap,su=new WeakMap,Ka=new WeakMap,Co=new WeakSet,Bs=function(e){const r=s=>{switch(e.type){case"failed":return{...s,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...b_(s.data,this.options),fetchMeta:e.meta??null};case"success":const l={...s,data:e.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return Be(this,mc,e.manual?l:void 0),l;case"error":const c=e.error;return{...s,error:c,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:c,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...e.state}}};this.state=r(this.state),Tr.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),ee(this,oo).notify({query:this,type:"updated",action:e})})},Fb);function b_(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:v_(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function sy(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,r=e!==void 0,s=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?s??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var jn,bt,iu,an,Za,pc,zs,Ui,au,gc,vc,Qa,Ja,qi,xc,At,Ud,pg,gg,vg,xg,yg,bg,_g,__,Ub,KC=(Ub=class extends Oc{constructor(e,r){super();Ye(this,At);Ye(this,jn);Ye(this,bt);Ye(this,iu);Ye(this,an);Ye(this,Za);Ye(this,pc);Ye(this,zs);Ye(this,Ui);Ye(this,au);Ye(this,gc);Ye(this,vc);Ye(this,Qa);Ye(this,Ja);Ye(this,qi);Ye(this,xc,new Set);this.options=r,Be(this,jn,e),Be(this,Ui,null),Be(this,zs,fg()),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(ee(this,bt).addObserver(this),iy(ee(this,bt),this.options)?mt(this,At,Ud).call(this):this.updateResult(),mt(this,At,xg).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return wg(ee(this,bt),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return wg(ee(this,bt),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,mt(this,At,yg).call(this),mt(this,At,bg).call(this),ee(this,bt).removeObserver(this)}setOptions(e){const r=this.options,s=ee(this,bt);if(this.options=ee(this,jn).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof so(this.options.enabled,ee(this,bt))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");mt(this,At,_g).call(this),ee(this,bt).setOptions(this.options),r._defaulted&&!gf(this.options,r)&&ee(this,jn).getQueryCache().notify({type:"observerOptionsUpdated",query:ee(this,bt),observer:this});const l=this.hasListeners();l&&ay(ee(this,bt),s,this.options,r)&&mt(this,At,Ud).call(this),this.updateResult(),l&&(ee(this,bt)!==s||so(this.options.enabled,ee(this,bt))!==so(r.enabled,ee(this,bt))||Qi(this.options.staleTime,ee(this,bt))!==Qi(r.staleTime,ee(this,bt)))&&mt(this,At,pg).call(this);const c=mt(this,At,gg).call(this);l&&(ee(this,bt)!==s||so(this.options.enabled,ee(this,bt))!==so(r.enabled,ee(this,bt))||c!==ee(this,qi))&&mt(this,At,vg).call(this,c)}getOptimisticResult(e){const r=ee(this,jn).getQueryCache().build(ee(this,jn),e),s=this.createResult(r,e);return QC(this,s)&&(Be(this,an,s),Be(this,pc,this.options),Be(this,Za,ee(this,bt).state)),s}getCurrentResult(){return ee(this,an)}trackResult(e,r){return new Proxy(e,{get:(s,l)=>(this.trackProp(l),r==null||r(l),l==="promise"&&!this.options.experimental_prefetchInRender&&ee(this,zs).status==="pending"&&ee(this,zs).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),Reflect.get(s,l))})}trackProp(e){ee(this,xc).add(e)}getCurrentQuery(){return ee(this,bt)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const r=ee(this,jn).defaultQueryOptions(e),s=ee(this,jn).getQueryCache().build(ee(this,jn),r);return s.fetch().then(()=>this.createResult(s,r))}fetch(e){return mt(this,At,Ud).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),ee(this,an)))}createResult(e,r){var we;const s=ee(this,bt),l=this.options,c=ee(this,an),u=ee(this,Za),p=ee(this,pc),v=e!==s?e.state:ee(this,iu),{state:y}=e;let x={...y},E=!1,S;if(r._optimisticResults){const Z=this.hasListeners(),$=!Z&&iy(e,r),re=Z&&ay(e,s,r,l);($||re)&&(x={...x,...b_(y.data,e.options)}),r._optimisticResults==="isRestoring"&&(x.fetchStatus="idle")}let{error:k,errorUpdatedAt:N,status:P}=x;S=x.data;let O=!1;if(r.placeholderData!==void 0&&S===void 0&&P==="pending"){let Z;c!=null&&c.isPlaceholderData&&r.placeholderData===(p==null?void 0:p.placeholderData)?(Z=c.data,O=!0):Z=typeof r.placeholderData=="function"?r.placeholderData((we=ee(this,vc))==null?void 0:we.state.data,ee(this,vc)):r.placeholderData,Z!==void 0&&(P="success",S=hg(c==null?void 0:c.data,Z,r),E=!0)}if(r.select&&S!==void 0&&!O)if(c&&S===(u==null?void 0:u.data)&&r.select===ee(this,au))S=ee(this,gc);else try{Be(this,au,r.select),S=r.select(S),S=hg(c==null?void 0:c.data,S,r),Be(this,gc,S),Be(this,Ui,null)}catch(Z){Be(this,Ui,Z)}ee(this,Ui)&&(k=ee(this,Ui),S=ee(this,gc),N=Date.now(),P="error");const T=x.fetchStatus==="fetching",R=P==="pending",z=P==="error",Y=R&&T,D=S!==void 0,ne={status:P,fetchStatus:x.fetchStatus,isPending:R,isSuccess:P==="success",isError:z,isInitialLoading:Y,isLoading:Y,data:S,dataUpdatedAt:x.dataUpdatedAt,error:k,errorUpdatedAt:N,failureCount:x.fetchFailureCount,failureReason:x.fetchFailureReason,errorUpdateCount:x.errorUpdateCount,isFetched:x.dataUpdateCount>0||x.errorUpdateCount>0,isFetchedAfterMount:x.dataUpdateCount>v.dataUpdateCount||x.errorUpdateCount>v.errorUpdateCount,isFetching:T,isRefetching:T&&!R,isLoadingError:z&&!D,isPaused:x.fetchStatus==="paused",isPlaceholderData:E,isRefetchError:z&&D,isStale:mv(e,r),refetch:this.refetch,promise:ee(this,zs),isEnabled:so(r.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const Z=U=>{ne.status==="error"?U.reject(ne.error):ne.data!==void 0&&U.resolve(ne.data)},$=()=>{const U=Be(this,zs,ne.promise=fg());Z(U)},re=ee(this,zs);switch(re.status){case"pending":e.queryHash===s.queryHash&&Z(re);break;case"fulfilled":(ne.status==="error"||ne.data!==re.value)&&$();break;case"rejected":(ne.status!=="error"||ne.error!==re.reason)&&$();break}}return ne}updateResult(){const e=ee(this,an),r=this.createResult(ee(this,bt),this.options);if(Be(this,Za,ee(this,bt).state),Be(this,pc,this.options),ee(this,Za).data!==void 0&&Be(this,vc,ee(this,bt)),gf(r,e))return;Be(this,an,r);const s=()=>{if(!e)return!0;const{notifyOnChangeProps:l}=this.options,c=typeof l=="function"?l():l;if(c==="all"||!c&&!ee(this,xc).size)return!0;const u=new Set(c??ee(this,xc));return this.options.throwOnError&&u.add("error"),Object.keys(ee(this,an)).some(p=>{const m=p;return ee(this,an)[m]!==e[m]&&u.has(m)})};mt(this,At,__).call(this,{listeners:s()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&mt(this,At,xg).call(this)}},jn=new WeakMap,bt=new WeakMap,iu=new WeakMap,an=new WeakMap,Za=new WeakMap,pc=new WeakMap,zs=new WeakMap,Ui=new WeakMap,au=new WeakMap,gc=new WeakMap,vc=new WeakMap,Qa=new WeakMap,Ja=new WeakMap,qi=new WeakMap,xc=new WeakMap,At=new WeakSet,Ud=function(e){mt(this,At,_g).call(this);let r=ee(this,bt).fetch(this.options,e);return e!=null&&e.throwOnError||(r=r.catch(cn)),r},pg=function(){mt(this,At,yg).call(this);const e=Qi(this.options.staleTime,ee(this,bt));if(el||ee(this,an).isStale||!dg(e))return;const s=f_(ee(this,an).dataUpdatedAt,e)+1;Be(this,Qa,$a.setTimeout(()=>{ee(this,an).isStale||this.updateResult()},s))},gg=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(ee(this,bt)):this.options.refetchInterval)??!1},vg=function(e){mt(this,At,bg).call(this),Be(this,qi,e),!(el||so(this.options.enabled,ee(this,bt))===!1||!dg(ee(this,qi))||ee(this,qi)===0)&&Be(this,Ja,$a.setInterval(()=>{(this.options.refetchIntervalInBackground||fv.isFocused())&&mt(this,At,Ud).call(this)},ee(this,qi)))},xg=function(){mt(this,At,pg).call(this),mt(this,At,vg).call(this,mt(this,At,gg).call(this))},yg=function(){ee(this,Qa)&&($a.clearTimeout(ee(this,Qa)),Be(this,Qa,void 0))},bg=function(){ee(this,Ja)&&($a.clearInterval(ee(this,Ja)),Be(this,Ja,void 0))},_g=function(){const e=ee(this,jn).getQueryCache().build(ee(this,jn),this.options);if(e===ee(this,bt))return;const r=ee(this,bt);Be(this,bt,e),Be(this,iu,e.state),this.hasListeners()&&(r==null||r.removeObserver(this),e.addObserver(this))},__=function(e){Tr.batch(()=>{e.listeners&&this.listeners.forEach(r=>{r(ee(this,an))}),ee(this,jn).getQueryCache().notify({query:ee(this,bt),type:"observerResultsUpdated"})})},Ub);function ZC(t,e){return so(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function iy(t,e){return ZC(t,e)||t.state.data!==void 0&&wg(t,e,e.refetchOnMount)}function wg(t,e,r){if(so(e.enabled,t)!==!1&&Qi(e.staleTime,t)!=="static"){const s=typeof r=="function"?r(t):r;return s==="always"||s!==!1&&mv(t,e)}return!1}function ay(t,e,r,s){return(t!==e||so(s.enabled,t)===!1)&&(!r.suspense||t.state.status!=="error")&&mv(t,r)}function mv(t,e){return so(e.enabled,t)!==!1&&t.isStaleByTime(Qi(e.staleTime,t))}function QC(t,e){return!gf(t.getCurrentResult(),e)}function ly(t){return{onFetch:(e,r)=>{var y,x,E,S,k;const s=e.options,l=(E=(x=(y=e.fetchOptions)==null?void 0:y.meta)==null?void 0:x.fetchMore)==null?void 0:E.direction,c=((S=e.state.data)==null?void 0:S.pages)||[],u=((k=e.state.data)==null?void 0:k.pageParams)||[];let p={pages:[],pageParams:[]},m=0;const v=async()=>{let N=!1;const P=R=>{Object.defineProperty(R,"signal",{enumerable:!0,get:()=>(e.signal.aborted?N=!0:e.signal.addEventListener("abort",()=>{N=!0}),e.signal)})},O=p_(e.options,e.fetchOptions),T=async(R,z,Y)=>{if(N)return Promise.reject();if(z==null&&R.pages.length)return Promise.resolve(R);const J=(()=>{const $={client:e.client,queryKey:e.queryKey,pageParam:z,direction:Y?"backward":"forward",meta:e.options.meta};return P($),$})(),ne=await O(J),{maxPages:we}=e.options,Z=Y?FC:$C;return{pages:Z(R.pages,ne,we),pageParams:Z(R.pageParams,z,we)}};if(l&&c.length){const R=l==="backward",z=R?JC:cy,Y={pages:c,pageParams:u},D=z(s,Y);p=await T(Y,D,R)}else{const R=t??c.length;do{const z=m===0?u[0]??s.initialPageParam:cy(s,p);if(m>0&&z==null)break;p=await T(p,z),m++}while(m<R)}return p};e.options.persister?e.fetchFn=()=>{var N,P;return(P=(N=e.options).persister)==null?void 0:P.call(N,v,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},r)}:e.fetchFn=v}}}function cy(t,{pages:e,pageParams:r}){const s=e.length-1;return e.length>0?t.getNextPageParam(e[s],e,r[s],r):void 0}function JC(t,{pages:e,pageParams:r}){var s;return e.length>0?(s=t.getPreviousPageParam)==null?void 0:s.call(t,e[0],e,r[0],r):void 0}var lu,ns,ln,Ya,os,Li,qb,YC=(qb=class extends y_{constructor(e){super();Ye(this,os);Ye(this,lu);Ye(this,ns);Ye(this,ln);Ye(this,Ya);Be(this,lu,e.client),this.mutationId=e.mutationId,Be(this,ln,e.mutationCache),Be(this,ns,[]),this.state=e.state||w_(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){ee(this,ns).includes(e)||(ee(this,ns).push(e),this.clearGcTimeout(),ee(this,ln).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){Be(this,ns,ee(this,ns).filter(r=>r!==e)),this.scheduleGc(),ee(this,ln).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){ee(this,ns).length||(this.state.status==="pending"?this.scheduleGc():ee(this,ln).remove(this))}continue(){var e;return((e=ee(this,Ya))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var u,p,m,v,y,x,E,S,k,N,P,O,T,R,z,Y,D,J,ne,we;const r=()=>{mt(this,os,Li).call(this,{type:"continue"})},s={client:ee(this,lu),meta:this.options.meta,mutationKey:this.options.mutationKey};Be(this,Ya,x_({fn:()=>this.options.mutationFn?this.options.mutationFn(e,s):Promise.reject(new Error("No mutationFn found")),onFail:(Z,$)=>{mt(this,os,Li).call(this,{type:"failed",failureCount:Z,error:$})},onPause:()=>{mt(this,os,Li).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>ee(this,ln).canRun(this)}));const l=this.state.status==="pending",c=!ee(this,Ya).canStart();try{if(l)r();else{mt(this,os,Li).call(this,{type:"pending",variables:e,isPaused:c}),await((p=(u=ee(this,ln).config).onMutate)==null?void 0:p.call(u,e,this,s));const $=await((v=(m=this.options).onMutate)==null?void 0:v.call(m,e,s));$!==this.state.context&&mt(this,os,Li).call(this,{type:"pending",context:$,variables:e,isPaused:c})}const Z=await ee(this,Ya).start();return await((x=(y=ee(this,ln).config).onSuccess)==null?void 0:x.call(y,Z,e,this.state.context,this,s)),await((S=(E=this.options).onSuccess)==null?void 0:S.call(E,Z,e,this.state.context,s)),await((N=(k=ee(this,ln).config).onSettled)==null?void 0:N.call(k,Z,null,this.state.variables,this.state.context,this,s)),await((O=(P=this.options).onSettled)==null?void 0:O.call(P,Z,null,e,this.state.context,s)),mt(this,os,Li).call(this,{type:"success",data:Z}),Z}catch(Z){try{throw await((R=(T=ee(this,ln).config).onError)==null?void 0:R.call(T,Z,e,this.state.context,this,s)),await((Y=(z=this.options).onError)==null?void 0:Y.call(z,Z,e,this.state.context,s)),await((J=(D=ee(this,ln).config).onSettled)==null?void 0:J.call(D,void 0,Z,this.state.variables,this.state.context,this,s)),await((we=(ne=this.options).onSettled)==null?void 0:we.call(ne,void 0,Z,e,this.state.context,s)),Z}finally{mt(this,os,Li).call(this,{type:"error",error:Z})}}finally{ee(this,ln).runNext(this)}}},lu=new WeakMap,ns=new WeakMap,ln=new WeakMap,Ya=new WeakMap,os=new WeakSet,Li=function(e){const r=s=>{switch(e.type){case"failed":return{...s,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...s,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:e.error,failureCount:s.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Tr.batch(()=>{ee(this,ns).forEach(s=>{s.onMutationUpdate(e)}),ee(this,ln).notify({mutation:this,type:"updated",action:e})})},qb);function w_(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var $s,ko,cu,Wb,XC=(Wb=class extends Oc{constructor(e={}){super();Ye(this,$s);Ye(this,ko);Ye(this,cu);this.config=e,Be(this,$s,new Set),Be(this,ko,new Map),Be(this,cu,0)}build(e,r,s){const l=new YC({client:e,mutationCache:this,mutationId:++Oh(this,cu)._,options:e.defaultMutationOptions(r),state:s});return this.add(l),l}add(e){ee(this,$s).add(e);const r=Dh(e);if(typeof r=="string"){const s=ee(this,ko).get(r);s?s.push(e):ee(this,ko).set(r,[e])}this.notify({type:"added",mutation:e})}remove(e){if(ee(this,$s).delete(e)){const r=Dh(e);if(typeof r=="string"){const s=ee(this,ko).get(r);if(s)if(s.length>1){const l=s.indexOf(e);l!==-1&&s.splice(l,1)}else s[0]===e&&ee(this,ko).delete(r)}}this.notify({type:"removed",mutation:e})}canRun(e){const r=Dh(e);if(typeof r=="string"){const s=ee(this,ko).get(r),l=s==null?void 0:s.find(c=>c.state.status==="pending");return!l||l===e}else return!0}runNext(e){var s;const r=Dh(e);if(typeof r=="string"){const l=(s=ee(this,ko).get(r))==null?void 0:s.find(c=>c!==e&&c.state.isPaused);return(l==null?void 0:l.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Tr.batch(()=>{ee(this,$s).forEach(e=>{this.notify({type:"removed",mutation:e})}),ee(this,$s).clear(),ee(this,ko).clear()})}getAll(){return Array.from(ee(this,$s))}find(e){const r={exact:!0,...e};return this.getAll().find(s=>ry(r,s))}findAll(e={}){return this.getAll().filter(r=>ry(e,r))}notify(e){Tr.batch(()=>{this.listeners.forEach(r=>{r(e)})})}resumePausedMutations(){const e=this.getAll().filter(r=>r.state.isPaused);return Tr.batch(()=>Promise.all(e.map(r=>r.continue().catch(cn))))}},$s=new WeakMap,ko=new WeakMap,cu=new WeakMap,Wb);function Dh(t){var e;return(e=t.options.scope)==null?void 0:e.id}var Fs,Wi,Sn,Us,Ks,sf,jg,Hb,e2=(Hb=class extends Oc{constructor(r,s){super();Ye(this,Ks);Ye(this,Fs);Ye(this,Wi);Ye(this,Sn);Ye(this,Us);Be(this,Fs,r),this.setOptions(s),this.bindMethods(),mt(this,Ks,sf).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var l;const s=this.options;this.options=ee(this,Fs).defaultMutationOptions(r),gf(this.options,s)||ee(this,Fs).getMutationCache().notify({type:"observerOptionsUpdated",mutation:ee(this,Sn),observer:this}),s!=null&&s.mutationKey&&this.options.mutationKey&&tl(s.mutationKey)!==tl(this.options.mutationKey)?this.reset():((l=ee(this,Sn))==null?void 0:l.state.status)==="pending"&&ee(this,Sn).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=ee(this,Sn))==null||r.removeObserver(this)}onMutationUpdate(r){mt(this,Ks,sf).call(this),mt(this,Ks,jg).call(this,r)}getCurrentResult(){return ee(this,Wi)}reset(){var r;(r=ee(this,Sn))==null||r.removeObserver(this),Be(this,Sn,void 0),mt(this,Ks,sf).call(this),mt(this,Ks,jg).call(this)}mutate(r,s){var l;return Be(this,Us,s),(l=ee(this,Sn))==null||l.removeObserver(this),Be(this,Sn,ee(this,Fs).getMutationCache().build(ee(this,Fs),this.options)),ee(this,Sn).addObserver(this),ee(this,Sn).execute(r)}},Fs=new WeakMap,Wi=new WeakMap,Sn=new WeakMap,Us=new WeakMap,Ks=new WeakSet,sf=function(){var s;const r=((s=ee(this,Sn))==null?void 0:s.state)??w_();Be(this,Wi,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},jg=function(r){Tr.batch(()=>{var s,l,c,u,p,m,v,y;if(ee(this,Us)&&this.hasListeners()){const x=ee(this,Wi).variables,E=ee(this,Wi).context,S={client:ee(this,Fs),meta:this.options.meta,mutationKey:this.options.mutationKey};(r==null?void 0:r.type)==="success"?((l=(s=ee(this,Us)).onSuccess)==null||l.call(s,r.data,x,E,S),(u=(c=ee(this,Us)).onSettled)==null||u.call(c,r.data,null,x,E,S)):(r==null?void 0:r.type)==="error"&&((m=(p=ee(this,Us)).onError)==null||m.call(p,r.error,x,E,S),(y=(v=ee(this,Us)).onSettled)==null||y.call(v,void 0,r.error,x,E,S))}this.listeners.forEach(x=>{x(ee(this,Wi))})})},Hb),ss,Vb,t2=(Vb=class extends Oc{constructor(e={}){super();Ye(this,ss);this.config=e,Be(this,ss,new Map)}build(e,r,s){const l=r.queryKey,c=r.queryHash??uv(l,r);let u=this.get(c);return u||(u=new GC({client:e,queryKey:l,queryHash:c,options:e.defaultQueryOptions(r),state:s,defaultOptions:e.getQueryDefaults(l)}),this.add(u)),u}add(e){ee(this,ss).has(e.queryHash)||(ee(this,ss).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const r=ee(this,ss).get(e.queryHash);r&&(e.destroy(),r===e&&ee(this,ss).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Tr.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return ee(this,ss).get(e)}getAll(){return[...ee(this,ss).values()]}find(e){const r={exact:!0,...e};return this.getAll().find(s=>ty(r,s))}findAll(e={}){const r=this.getAll();return Object.keys(e).length>0?r.filter(s=>ty(e,s)):r}notify(e){Tr.batch(()=>{this.listeners.forEach(r=>{r(e)})})}onFocus(){Tr.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Tr.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},ss=new WeakMap,Vb),dr,Hi,Vi,yc,bc,Gi,_c,wc,Gb,r2=(Gb=class{constructor(t={}){Ye(this,dr);Ye(this,Hi);Ye(this,Vi);Ye(this,yc);Ye(this,bc);Ye(this,Gi);Ye(this,_c);Ye(this,wc);Be(this,dr,t.queryCache||new t2),Be(this,Hi,t.mutationCache||new XC),Be(this,Vi,t.defaultOptions||{}),Be(this,yc,new Map),Be(this,bc,new Map),Be(this,Gi,0)}mount(){Oh(this,Gi)._++,ee(this,Gi)===1&&(Be(this,_c,fv.subscribe(async t=>{t&&(await this.resumePausedMutations(),ee(this,dr).onFocus())})),Be(this,wc,vf.subscribe(async t=>{t&&(await this.resumePausedMutations(),ee(this,dr).onOnline())})))}unmount(){var t,e;Oh(this,Gi)._--,ee(this,Gi)===0&&((t=ee(this,_c))==null||t.call(this),Be(this,_c,void 0),(e=ee(this,wc))==null||e.call(this),Be(this,wc,void 0))}isFetching(t){return ee(this,dr).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return ee(this,Hi).findAll({...t,status:"pending"}).length}getQueryData(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=ee(this,dr).get(e.queryHash))==null?void 0:r.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),r=ee(this,dr).build(this,e),s=r.state.data;return s===void 0?this.fetchQuery(t):(t.revalidateIfStale&&r.isStaleByTime(Qi(e.staleTime,r))&&this.prefetchQuery(e),Promise.resolve(s))}getQueriesData(t){return ee(this,dr).findAll(t).map(({queryKey:e,state:r})=>{const s=r.data;return[e,s]})}setQueryData(t,e,r){const s=this.defaultQueryOptions({queryKey:t}),l=ee(this,dr).get(s.queryHash),c=l==null?void 0:l.state.data,u=DC(e,c);if(u!==void 0)return ee(this,dr).build(this,s).setData(u,{...r,manual:!0})}setQueriesData(t,e,r){return Tr.batch(()=>ee(this,dr).findAll(t).map(({queryKey:s})=>[s,this.setQueryData(s,e,r)]))}getQueryState(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=ee(this,dr).get(e.queryHash))==null?void 0:r.state}removeQueries(t){const e=ee(this,dr);Tr.batch(()=>{e.findAll(t).forEach(r=>{e.remove(r)})})}resetQueries(t,e){const r=ee(this,dr);return Tr.batch(()=>(r.findAll(t).forEach(s=>{s.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const r={revert:!0,...e},s=Tr.batch(()=>ee(this,dr).findAll(t).map(l=>l.cancel(r)));return Promise.all(s).then(cn).catch(cn)}invalidateQueries(t,e={}){return Tr.batch(()=>(ee(this,dr).findAll(t).forEach(r=>{r.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const r={...e,cancelRefetch:e.cancelRefetch??!0},s=Tr.batch(()=>ee(this,dr).findAll(t).filter(l=>!l.isDisabled()&&!l.isStatic()).map(l=>{let c=l.fetch(void 0,r);return r.throwOnError||(c=c.catch(cn)),l.state.fetchStatus==="paused"?Promise.resolve():c}));return Promise.all(s).then(cn)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const r=ee(this,dr).build(this,e);return r.isStaleByTime(Qi(e.staleTime,r))?r.fetch(e):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(cn).catch(cn)}fetchInfiniteQuery(t){return t.behavior=ly(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(cn).catch(cn)}ensureInfiniteQueryData(t){return t.behavior=ly(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return vf.isOnline()?ee(this,Hi).resumePausedMutations():Promise.resolve()}getQueryCache(){return ee(this,dr)}getMutationCache(){return ee(this,Hi)}getDefaultOptions(){return ee(this,Vi)}setDefaultOptions(t){Be(this,Vi,t)}setQueryDefaults(t,e){ee(this,yc).set(tl(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...ee(this,yc).values()],r={};return e.forEach(s=>{Yd(t,s.queryKey)&&Object.assign(r,s.defaultOptions)}),r}setMutationDefaults(t,e){ee(this,bc).set(tl(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...ee(this,bc).values()],r={};return e.forEach(s=>{Yd(t,s.mutationKey)&&Object.assign(r,s.defaultOptions)}),r}defaultQueryOptions(t){if(t._defaulted)return t;const e={...ee(this,Vi).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=uv(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===hv&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...ee(this,Vi).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){ee(this,dr).clear(),ee(this,Hi).clear()}},dr=new WeakMap,Hi=new WeakMap,Vi=new WeakMap,yc=new WeakMap,bc=new WeakMap,Gi=new WeakMap,_c=new WeakMap,wc=new WeakMap,Gb),j_=w.createContext(void 0),ho=t=>{const e=w.useContext(j_);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},n2=({client:t,children:e})=>(w.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),n.jsx(j_.Provider,{value:t,children:e})),S_=w.createContext(!1),o2=()=>w.useContext(S_);S_.Provider;function s2(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var i2=w.createContext(s2()),a2=()=>w.useContext(i2),l2=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},c2=t=>{w.useEffect(()=>{t.clearReset()},[t])},d2=({result:t,errorResetBoundary:e,throwOnError:r,query:s,suspense:l})=>t.isError&&!e.isReset()&&!t.isFetching&&s&&(l&&t.data===void 0||g_(r,[t.error,s])),u2=t=>{if(t.suspense){const r=l=>l==="static"?l:Math.max(l??1e3,1e3),s=t.staleTime;t.staleTime=typeof s=="function"?(...l)=>r(s(...l)):r(s),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},h2=(t,e)=>t.isLoading&&t.isFetching&&!e,f2=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,dy=(t,e,r)=>e.fetchOptimistic(t).catch(()=>{r.clearReset()});function m2(t,e,r){var x,E,S,k,N;const s=o2(),l=a2(),c=ho(),u=c.defaultQueryOptions(t);(E=(x=c.getDefaultOptions().queries)==null?void 0:x._experimental_beforeQuery)==null||E.call(x,u),u._optimisticResults=s?"isRestoring":"optimistic",u2(u),l2(u,l),c2(l);const p=!c.getQueryCache().get(u.queryHash),[m]=w.useState(()=>new e(c,u)),v=m.getOptimisticResult(u),y=!s&&t.subscribed!==!1;if(w.useSyncExternalStore(w.useCallback(P=>{const O=y?m.subscribe(Tr.batchCalls(P)):cn;return m.updateResult(),O},[m,y]),()=>m.getCurrentResult(),()=>m.getCurrentResult()),w.useEffect(()=>{m.setOptions(u)},[u,m]),f2(u,v))throw dy(u,m,l);if(d2({result:v,errorResetBoundary:l,throwOnError:u.throwOnError,query:c.getQueryCache().get(u.queryHash),suspense:u.suspense}))throw v.error;if((k=(S=c.getDefaultOptions().queries)==null?void 0:S._experimental_afterQuery)==null||k.call(S,u,v),u.experimental_prefetchInRender&&!el&&h2(v,s)){const P=p?dy(u,m,l):(N=c.getQueryCache().get(u.queryHash))==null?void 0:N.promise;P==null||P.catch(cn).finally(()=>{m.updateResult()})}return u.notifyOnChangeProps?v:m.trackResult(v)}function hn(t,e){return m2(t,KC)}function Xr(t,e){const r=ho(),[s]=w.useState(()=>new e2(r,t));w.useEffect(()=>{s.setOptions(t)},[s,t]);const l=w.useSyncExternalStore(w.useCallback(u=>s.subscribe(Tr.batchCalls(u)),[s]),()=>s.getCurrentResult(),()=>s.getCurrentResult()),c=w.useCallback((u,p)=>{s.mutate(u,p).catch(cn)},[s]);if(l.error&&g_(s.options.throwOnError,[l.error]))throw l.error;return{...l,mutate:c,mutateAsync:l.mutate}}var Ls={},Bh={},Sg=function(t,e){return Sg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,s){r.__proto__=s}||function(r,s){for(var l in s)Object.prototype.hasOwnProperty.call(s,l)&&(r[l]=s[l])},Sg(t,e)};function E_(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Sg(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var io=function(){return io=Object.assign||function(e){for(var r,s=1,l=arguments.length;s<l;s++){r=arguments[s];for(var c in r)Object.prototype.hasOwnProperty.call(r,c)&&(e[c]=r[c])}return e},io.apply(this,arguments)};function ra(t,e){var r={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(r[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,s=Object.getOwnPropertySymbols(t);l<s.length;l++)e.indexOf(s[l])<0&&Object.prototype.propertyIsEnumerable.call(t,s[l])&&(r[s[l]]=t[s[l]]);return r}function N_(t,e,r,s){var l=arguments.length,c=l<3?e:s===null?s=Object.getOwnPropertyDescriptor(e,r):s,u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")c=Reflect.decorate(t,e,r,s);else for(var p=t.length-1;p>=0;p--)(u=t[p])&&(c=(l<3?u(c):l>3?u(e,r,c):u(e,r))||c);return l>3&&c&&Object.defineProperty(e,r,c),c}function C_(t,e){return function(r,s){e(r,s,t)}}function k_(t,e,r,s,l,c){function u(O){if(O!==void 0&&typeof O!="function")throw new TypeError("Function expected");return O}for(var p=s.kind,m=p==="getter"?"get":p==="setter"?"set":"value",v=!e&&t?s.static?t:t.prototype:null,y=e||(v?Object.getOwnPropertyDescriptor(v,s.name):{}),x,E=!1,S=r.length-1;S>=0;S--){var k={};for(var N in s)k[N]=N==="access"?{}:s[N];for(var N in s.access)k.access[N]=s.access[N];k.addInitializer=function(O){if(E)throw new TypeError("Cannot add initializers after decoration has completed");c.push(u(O||null))};var P=(0,r[S])(p==="accessor"?{get:y.get,set:y.set}:y[m],k);if(p==="accessor"){if(P===void 0)continue;if(P===null||typeof P!="object")throw new TypeError("Object expected");(x=u(P.get))&&(y.get=x),(x=u(P.set))&&(y.set=x),(x=u(P.init))&&l.unshift(x)}else(x=u(P))&&(p==="field"?l.unshift(x):y[m]=x)}v&&Object.defineProperty(v,s.name,y),E=!0}function P_(t,e,r){for(var s=arguments.length>2,l=0;l<e.length;l++)r=s?e[l].call(t,r):e[l].call(t);return s?r:void 0}function T_(t){return typeof t=="symbol"?t:"".concat(t)}function R_(t,e,r){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:r?"".concat(r," ",e):e})}function A_(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function qe(t,e,r,s){function l(c){return c instanceof r?c:new r(function(u){u(c)})}return new(r||(r=Promise))(function(c,u){function p(y){try{v(s.next(y))}catch(x){u(x)}}function m(y){try{v(s.throw(y))}catch(x){u(x)}}function v(y){y.done?c(y.value):l(y.value).then(p,m)}v((s=s.apply(t,e||[])).next())})}function O_(t,e){var r={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},s,l,c,u=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return u.next=p(0),u.throw=p(1),u.return=p(2),typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function p(v){return function(y){return m([v,y])}}function m(v){if(s)throw new TypeError("Generator is already executing.");for(;u&&(u=0,v[0]&&(r=0)),r;)try{if(s=1,l&&(c=v[0]&2?l.return:v[0]?l.throw||((c=l.return)&&c.call(l),0):l.next)&&!(c=c.call(l,v[1])).done)return c;switch(l=0,c&&(v=[v[0]&2,c.value]),v[0]){case 0:case 1:c=v;break;case 4:return r.label++,{value:v[1],done:!1};case 5:r.label++,l=v[1],v=[0];continue;case 7:v=r.ops.pop(),r.trys.pop();continue;default:if(c=r.trys,!(c=c.length>0&&c[c.length-1])&&(v[0]===6||v[0]===2)){r=0;continue}if(v[0]===3&&(!c||v[1]>c[0]&&v[1]<c[3])){r.label=v[1];break}if(v[0]===6&&r.label<c[1]){r.label=c[1],c=v;break}if(c&&r.label<c[2]){r.label=c[2],r.ops.push(v);break}c[2]&&r.ops.pop(),r.trys.pop();continue}v=e.call(t,r)}catch(y){v=[6,y],l=0}finally{s=c=0}if(v[0]&5)throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}}var Df=Object.create?(function(t,e,r,s){s===void 0&&(s=r);var l=Object.getOwnPropertyDescriptor(e,r);(!l||("get"in l?!e.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,s,l)}):(function(t,e,r,s){s===void 0&&(s=r),t[s]=e[r]});function M_(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&Df(e,t,r)}function xf(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],s=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&s>=t.length&&(t=void 0),{value:t&&t[s++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function pv(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var s=r.call(t),l,c=[],u;try{for(;(e===void 0||e-- >0)&&!(l=s.next()).done;)c.push(l.value)}catch(p){u={error:p}}finally{try{l&&!l.done&&(r=s.return)&&r.call(s)}finally{if(u)throw u.error}}return c}function L_(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(pv(arguments[e]));return t}function I_(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var s=Array(t),l=0,e=0;e<r;e++)for(var c=arguments[e],u=0,p=c.length;u<p;u++,l++)s[l]=c[u];return s}function gv(t,e,r){if(r||arguments.length===2)for(var s=0,l=e.length,c;s<l;s++)(c||!(s in e))&&(c||(c=Array.prototype.slice.call(e,0,s)),c[s]=e[s]);return t.concat(c||Array.prototype.slice.call(e))}function jc(t){return this instanceof jc?(this.v=t,this):new jc(t)}function D_(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=r.apply(t,e||[]),l,c=[];return l=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),p("next"),p("throw"),p("return",u),l[Symbol.asyncIterator]=function(){return this},l;function u(S){return function(k){return Promise.resolve(k).then(S,x)}}function p(S,k){s[S]&&(l[S]=function(N){return new Promise(function(P,O){c.push([S,N,P,O])>1||m(S,N)})},k&&(l[S]=k(l[S])))}function m(S,k){try{v(s[S](k))}catch(N){E(c[0][3],N)}}function v(S){S.value instanceof jc?Promise.resolve(S.value.v).then(y,x):E(c[0][2],S)}function y(S){m("next",S)}function x(S){m("throw",S)}function E(S,k){S(k),c.shift(),c.length&&m(c[0][0],c[0][1])}}function B_(t){var e,r;return e={},s("next"),s("throw",function(l){throw l}),s("return"),e[Symbol.iterator]=function(){return this},e;function s(l,c){e[l]=t[l]?function(u){return(r=!r)?{value:jc(t[l](u)),done:!1}:c?c(u):u}:c}}function z_(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof xf=="function"?xf(t):t[Symbol.iterator](),r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r);function s(c){r[c]=t[c]&&function(u){return new Promise(function(p,m){u=t[c](u),l(p,m,u.done,u.value)})}}function l(c,u,p,m){Promise.resolve(m).then(function(v){c({value:v,done:p})},u)}}function $_(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var p2=Object.create?(function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}):function(t,e){t.default=e},Eg=function(t){return Eg=Object.getOwnPropertyNames||function(e){var r=[];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(r[r.length]=s);return r},Eg(t)};function F_(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r=Eg(t),s=0;s<r.length;s++)r[s]!=="default"&&Df(e,t,r[s]);return p2(e,t),e}function U_(t){return t&&t.__esModule?t:{default:t}}function q_(t,e,r,s){if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?s:r==="a"?s.call(t):s?s.value:e.get(t)}function W_(t,e,r,s,l){if(s==="m")throw new TypeError("Private method is not writable");if(s==="a"&&!l)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!l:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return s==="a"?l.call(t,r):l?l.value=r:e.set(t,r),r}function H_(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function V_(t,e,r){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var s,l;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");s=e[Symbol.asyncDispose]}if(s===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");s=e[Symbol.dispose],r&&(l=s)}if(typeof s!="function")throw new TypeError("Object not disposable.");l&&(s=function(){try{l.call(this)}catch(c){return Promise.reject(c)}}),t.stack.push({value:e,dispose:s,async:r})}else r&&t.stack.push({async:!0});return e}var g2=typeof SuppressedError=="function"?SuppressedError:function(t,e,r){var s=new Error(r);return s.name="SuppressedError",s.error=t,s.suppressed=e,s};function G_(t){function e(c){t.error=t.hasError?new g2(c,t.error,"An error was suppressed during disposal."):c,t.hasError=!0}var r,s=0;function l(){for(;r=t.stack.pop();)try{if(!r.async&&s===1)return s=0,t.stack.push(r),Promise.resolve().then(l);if(r.dispose){var c=r.dispose.call(r.value);if(r.async)return s|=2,Promise.resolve(c).then(l,function(u){return e(u),l()})}else s|=1}catch(u){e(u)}if(s===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return l()}function K_(t,e){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,s,l,c,u){return s?e?".jsx":".js":l&&(!c||!u)?r:l+c+"."+u.toLowerCase()+"js"}):t}const v2={__extends:E_,__assign:io,__rest:ra,__decorate:N_,__param:C_,__esDecorate:k_,__runInitializers:P_,__propKey:T_,__setFunctionName:R_,__metadata:A_,__awaiter:qe,__generator:O_,__createBinding:Df,__exportStar:M_,__values:xf,__read:pv,__spread:L_,__spreadArrays:I_,__spreadArray:gv,__await:jc,__asyncGenerator:D_,__asyncDelegator:B_,__asyncValues:z_,__makeTemplateObject:$_,__importStar:F_,__importDefault:U_,__classPrivateFieldGet:q_,__classPrivateFieldSet:W_,__classPrivateFieldIn:H_,__addDisposableResource:V_,__disposeResources:G_,__rewriteRelativeImportExtension:K_},x2=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:V_,get __assign(){return io},__asyncDelegator:B_,__asyncGenerator:D_,__asyncValues:z_,__await:jc,__awaiter:qe,__classPrivateFieldGet:q_,__classPrivateFieldIn:H_,__classPrivateFieldSet:W_,__createBinding:Df,__decorate:N_,__disposeResources:G_,__esDecorate:k_,__exportStar:M_,__extends:E_,__generator:O_,__importDefault:U_,__importStar:F_,__makeTemplateObject:$_,__metadata:A_,__param:C_,__propKey:T_,__read:pv,__rest:ra,__rewriteRelativeImportExtension:K_,__runInitializers:P_,__setFunctionName:R_,__spread:L_,__spreadArray:gv,__spreadArrays:I_,__values:xf,default:v2},Symbol.toStringTag,{value:"Module"})),y2=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);let Bf=class extends Error{constructor(e,r="FunctionsError",s){super(e),this.name=r,this.context=s}},Z_=class extends Bf{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}},Ng=class extends Bf{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}},Cg=class extends Bf{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}};var yf;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(yf||(yf={}));class b2{constructor(e,{headers:r={},customFetch:s,region:l=yf.Any}={}){this.url=e,this.headers=r,this.region=l,this.fetch=y2(s)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return qe(this,arguments,void 0,function*(r,s={}){var l;let c,u;try{const{headers:p,method:m,body:v,signal:y,timeout:x}=s;let E={},{region:S}=s;S||(S=this.region);const k=new URL(`${this.url}/${r}`);S&&S!=="any"&&(E["x-region"]=S,k.searchParams.set("forceFunctionRegion",S));let N;v&&(p&&!Object.prototype.hasOwnProperty.call(p,"Content-Type")||!p)?typeof Blob<"u"&&v instanceof Blob||v instanceof ArrayBuffer?(E["Content-Type"]="application/octet-stream",N=v):typeof v=="string"?(E["Content-Type"]="text/plain",N=v):typeof FormData<"u"&&v instanceof FormData?N=v:(E["Content-Type"]="application/json",N=JSON.stringify(v)):N=v;let P=y;x&&(u=new AbortController,c=setTimeout(()=>u.abort(),x),y?(P=u.signal,y.addEventListener("abort",()=>u.abort())):P=u.signal);const O=yield this.fetch(k.toString(),{method:m||"POST",headers:Object.assign(Object.assign(Object.assign({},E),this.headers),p),body:N,signal:P}).catch(Y=>{throw new Z_(Y)}),T=O.headers.get("x-relay-error");if(T&&T==="true")throw new Ng(O);if(!O.ok)throw new Cg(O);let R=((l=O.headers.get("Content-Type"))!==null&&l!==void 0?l:"text/plain").split(";")[0].trim(),z;return R==="application/json"?z=yield O.json():R==="application/octet-stream"||R==="application/pdf"?z=yield O.blob():R==="text/event-stream"?z=O:R==="multipart/form-data"?z=yield O.formData():z=yield O.text(),{data:z,error:null,response:O}}catch(p){return{data:null,error:p,response:p instanceof Cg||p instanceof Ng?p.context:void 0}}finally{c&&clearTimeout(c)}})}}const _2=Object.freeze(Object.defineProperty({__proto__:null,get FunctionRegion(){return yf},FunctionsClient:b2,FunctionsError:Bf,FunctionsFetchError:Z_,FunctionsHttpError:Cg,FunctionsRelayError:Ng},Symbol.toStringTag,{value:"Module"})),Q_=uu(_2);var Yr={};const Mc=uu(x2);var zh={},$h={},Fh={},Uh={},qh={},Wh={},uy;function J_(){if(uy)return Wh;uy=1,Object.defineProperty(Wh,"__esModule",{value:!0});class t extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return Wh.default=t,Wh}var hy;function Y_(){if(hy)return qh;hy=1,Object.defineProperty(qh,"__esModule",{value:!0});const e=Mc.__importDefault(J_());let r=class{constructor(l){var c,u;this.shouldThrowOnError=!1,this.method=l.method,this.url=l.url,this.headers=new Headers(l.headers),this.schema=l.schema,this.body=l.body,this.shouldThrowOnError=(c=l.shouldThrowOnError)!==null&&c!==void 0?c:!1,this.signal=l.signal,this.isMaybeSingle=(u=l.isMaybeSingle)!==null&&u!==void 0?u:!1,l.fetch?this.fetch=l.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(l,c){return this.headers=new Headers(this.headers),this.headers.set(l,c),this}then(l,c){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const u=this.fetch;let p=u(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async m=>{var v,y,x,E;let S=null,k=null,N=null,P=m.status,O=m.statusText;if(m.ok){if(this.method!=="HEAD"){const Y=await m.text();Y===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((v=this.headers.get("Accept"))===null||v===void 0)&&v.includes("application/vnd.pgrst.plan+text"))?k=Y:k=JSON.parse(Y))}const R=(y=this.headers.get("Prefer"))===null||y===void 0?void 0:y.match(/count=(exact|planned|estimated)/),z=(x=m.headers.get("content-range"))===null||x===void 0?void 0:x.split("/");R&&z&&z.length>1&&(N=parseInt(z[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(k)&&(k.length>1?(S={code:"PGRST116",details:`Results contain ${k.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},k=null,N=null,P=406,O="Not Acceptable"):k.length===1?k=k[0]:k=null)}else{const R=await m.text();try{S=JSON.parse(R),Array.isArray(S)&&m.status===404&&(k=[],S=null,P=200,O="OK")}catch{m.status===404&&R===""?(P=204,O="No Content"):S={message:R}}if(S&&this.isMaybeSingle&&(!((E=S==null?void 0:S.details)===null||E===void 0)&&E.includes("0 rows"))&&(S=null,P=200,O="OK"),S&&this.shouldThrowOnError)throw new e.default(S)}return{error:S,data:k,count:N,status:P,statusText:O}});return this.shouldThrowOnError||(p=p.catch(m=>{var v,y,x,E,S,k;let N="";const P=m==null?void 0:m.cause;if(P){const O=(v=P==null?void 0:P.message)!==null&&v!==void 0?v:"",T=(y=P==null?void 0:P.code)!==null&&y!==void 0?y:"";N=`${(x=m==null?void 0:m.name)!==null&&x!==void 0?x:"FetchError"}: ${m==null?void 0:m.message}`,N+=`

Caused by: ${(E=P==null?void 0:P.name)!==null&&E!==void 0?E:"Error"}: ${O}`,T&&(N+=` (${T})`),P!=null&&P.stack&&(N+=`
${P.stack}`)}else N=(S=m==null?void 0:m.stack)!==null&&S!==void 0?S:"";return{error:{message:`${(k=m==null?void 0:m.name)!==null&&k!==void 0?k:"FetchError"}: ${m==null?void 0:m.message}`,details:N,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),p.then(l,c)}returns(){return this}overrideTypes(){return this}};return qh.default=r,qh}var fy;function X_(){if(fy)return Uh;fy=1,Object.defineProperty(Uh,"__esModule",{value:!0});const e=Mc.__importDefault(Y_());let r=class extends e.default{select(l){let c=!1;const u=(l??"*").split("").map(p=>/\s/.test(p)&&!c?"":(p==='"'&&(c=!c),p)).join("");return this.url.searchParams.set("select",u),this.headers.append("Prefer","return=representation"),this}order(l,{ascending:c=!0,nullsFirst:u,foreignTable:p,referencedTable:m=p}={}){const v=m?`${m}.order`:"order",y=this.url.searchParams.get(v);return this.url.searchParams.set(v,`${y?`${y},`:""}${l}.${c?"asc":"desc"}${u===void 0?"":u?".nullsfirst":".nullslast"}`),this}limit(l,{foreignTable:c,referencedTable:u=c}={}){const p=typeof u>"u"?"limit":`${u}.limit`;return this.url.searchParams.set(p,`${l}`),this}range(l,c,{foreignTable:u,referencedTable:p=u}={}){const m=typeof p>"u"?"offset":`${p}.offset`,v=typeof p>"u"?"limit":`${p}.limit`;return this.url.searchParams.set(m,`${l}`),this.url.searchParams.set(v,`${c-l+1}`),this}abortSignal(l){return this.signal=l,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:l=!1,verbose:c=!1,settings:u=!1,buffers:p=!1,wal:m=!1,format:v="text"}={}){var y;const x=[l?"analyze":null,c?"verbose":null,u?"settings":null,p?"buffers":null,m?"wal":null].filter(Boolean).join("|"),E=(y=this.headers.get("Accept"))!==null&&y!==void 0?y:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${v}; for="${E}"; options=${x};`),v==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(l){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${l}`),this}};return Uh.default=r,Uh}var my;function vv(){if(my)return Fh;my=1,Object.defineProperty(Fh,"__esModule",{value:!0});const e=Mc.__importDefault(X_()),r=new RegExp("[,()]");let s=class extends e.default{eq(c,u){return this.url.searchParams.append(c,`eq.${u}`),this}neq(c,u){return this.url.searchParams.append(c,`neq.${u}`),this}gt(c,u){return this.url.searchParams.append(c,`gt.${u}`),this}gte(c,u){return this.url.searchParams.append(c,`gte.${u}`),this}lt(c,u){return this.url.searchParams.append(c,`lt.${u}`),this}lte(c,u){return this.url.searchParams.append(c,`lte.${u}`),this}like(c,u){return this.url.searchParams.append(c,`like.${u}`),this}likeAllOf(c,u){return this.url.searchParams.append(c,`like(all).{${u.join(",")}}`),this}likeAnyOf(c,u){return this.url.searchParams.append(c,`like(any).{${u.join(",")}}`),this}ilike(c,u){return this.url.searchParams.append(c,`ilike.${u}`),this}ilikeAllOf(c,u){return this.url.searchParams.append(c,`ilike(all).{${u.join(",")}}`),this}ilikeAnyOf(c,u){return this.url.searchParams.append(c,`ilike(any).{${u.join(",")}}`),this}regexMatch(c,u){return this.url.searchParams.append(c,`match.${u}`),this}regexIMatch(c,u){return this.url.searchParams.append(c,`imatch.${u}`),this}is(c,u){return this.url.searchParams.append(c,`is.${u}`),this}isDistinct(c,u){return this.url.searchParams.append(c,`isdistinct.${u}`),this}in(c,u){const p=Array.from(new Set(u)).map(m=>typeof m=="string"&&r.test(m)?`"${m}"`:`${m}`).join(",");return this.url.searchParams.append(c,`in.(${p})`),this}contains(c,u){return typeof u=="string"?this.url.searchParams.append(c,`cs.${u}`):Array.isArray(u)?this.url.searchParams.append(c,`cs.{${u.join(",")}}`):this.url.searchParams.append(c,`cs.${JSON.stringify(u)}`),this}containedBy(c,u){return typeof u=="string"?this.url.searchParams.append(c,`cd.${u}`):Array.isArray(u)?this.url.searchParams.append(c,`cd.{${u.join(",")}}`):this.url.searchParams.append(c,`cd.${JSON.stringify(u)}`),this}rangeGt(c,u){return this.url.searchParams.append(c,`sr.${u}`),this}rangeGte(c,u){return this.url.searchParams.append(c,`nxl.${u}`),this}rangeLt(c,u){return this.url.searchParams.append(c,`sl.${u}`),this}rangeLte(c,u){return this.url.searchParams.append(c,`nxr.${u}`),this}rangeAdjacent(c,u){return this.url.searchParams.append(c,`adj.${u}`),this}overlaps(c,u){return typeof u=="string"?this.url.searchParams.append(c,`ov.${u}`):this.url.searchParams.append(c,`ov.{${u.join(",")}}`),this}textSearch(c,u,{config:p,type:m}={}){let v="";m==="plain"?v="pl":m==="phrase"?v="ph":m==="websearch"&&(v="w");const y=p===void 0?"":`(${p})`;return this.url.searchParams.append(c,`${v}fts${y}.${u}`),this}match(c){return Object.entries(c).forEach(([u,p])=>{this.url.searchParams.append(u,`eq.${p}`)}),this}not(c,u,p){return this.url.searchParams.append(c,`not.${u}.${p}`),this}or(c,{foreignTable:u,referencedTable:p=u}={}){const m=p?`${p}.or`:"or";return this.url.searchParams.append(m,`(${c})`),this}filter(c,u,p){return this.url.searchParams.append(c,`${u}.${p}`),this}};return Fh.default=s,Fh}var py;function ew(){if(py)return $h;py=1,Object.defineProperty($h,"__esModule",{value:!0});const e=Mc.__importDefault(vv());let r=class{constructor(l,{headers:c={},schema:u,fetch:p}){this.url=l,this.headers=new Headers(c),this.schema=u,this.fetch=p}select(l,c){const{head:u=!1,count:p}=c??{},m=u?"HEAD":"GET";let v=!1;const y=(l??"*").split("").map(x=>/\s/.test(x)&&!v?"":(x==='"'&&(v=!v),x)).join("");return this.url.searchParams.set("select",y),p&&this.headers.append("Prefer",`count=${p}`),new e.default({method:m,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(l,{count:c,defaultToNull:u=!0}={}){var p;const m="POST";if(c&&this.headers.append("Prefer",`count=${c}`),u||this.headers.append("Prefer","missing=default"),Array.isArray(l)){const v=l.reduce((y,x)=>y.concat(Object.keys(x)),[]);if(v.length>0){const y=[...new Set(v)].map(x=>`"${x}"`);this.url.searchParams.set("columns",y.join(","))}}return new e.default({method:m,url:this.url,headers:this.headers,schema:this.schema,body:l,fetch:(p=this.fetch)!==null&&p!==void 0?p:fetch})}upsert(l,{onConflict:c,ignoreDuplicates:u=!1,count:p,defaultToNull:m=!0}={}){var v;const y="POST";if(this.headers.append("Prefer",`resolution=${u?"ignore":"merge"}-duplicates`),c!==void 0&&this.url.searchParams.set("on_conflict",c),p&&this.headers.append("Prefer",`count=${p}`),m||this.headers.append("Prefer","missing=default"),Array.isArray(l)){const x=l.reduce((E,S)=>E.concat(Object.keys(S)),[]);if(x.length>0){const E=[...new Set(x)].map(S=>`"${S}"`);this.url.searchParams.set("columns",E.join(","))}}return new e.default({method:y,url:this.url,headers:this.headers,schema:this.schema,body:l,fetch:(v=this.fetch)!==null&&v!==void 0?v:fetch})}update(l,{count:c}={}){var u;const p="PATCH";return c&&this.headers.append("Prefer",`count=${c}`),new e.default({method:p,url:this.url,headers:this.headers,schema:this.schema,body:l,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}delete({count:l}={}){var c;const u="DELETE";return l&&this.headers.append("Prefer",`count=${l}`),new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}};return $h.default=r,$h}var gy;function w2(){if(gy)return zh;gy=1,Object.defineProperty(zh,"__esModule",{value:!0});const t=Mc,e=t.__importDefault(ew()),r=t.__importDefault(vv());let s=class tw{constructor(c,{headers:u={},schema:p,fetch:m}={}){this.url=c,this.headers=new Headers(u),this.schemaName=p,this.fetch=m}from(c){if(!c||typeof c!="string"||c.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const u=new URL(`${this.url}/${c}`);return new e.default(u,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(c){return new tw(this.url,{headers:this.headers,schema:c,fetch:this.fetch})}rpc(c,u={},{head:p=!1,get:m=!1,count:v}={}){var y;let x;const E=new URL(`${this.url}/rpc/${c}`);let S;p||m?(x=p?"HEAD":"GET",Object.entries(u).filter(([N,P])=>P!==void 0).map(([N,P])=>[N,Array.isArray(P)?`{${P.join(",")}}`:`${P}`]).forEach(([N,P])=>{E.searchParams.append(N,P)})):(x="POST",S=u);const k=new Headers(this.headers);return v&&k.set("Prefer",`count=${v}`),new r.default({method:x,url:E,headers:k,schema:this.schemaName,body:S,fetch:(y=this.fetch)!==null&&y!==void 0?y:fetch})}};return zh.default=s,zh}var vy;function rw(){if(vy)return Yr;vy=1,Object.defineProperty(Yr,"__esModule",{value:!0}),Yr.PostgrestError=Yr.PostgrestBuilder=Yr.PostgrestTransformBuilder=Yr.PostgrestFilterBuilder=Yr.PostgrestQueryBuilder=Yr.PostgrestClient=void 0;const t=Mc,e=t.__importDefault(w2());Yr.PostgrestClient=e.default;const r=t.__importDefault(ew());Yr.PostgrestQueryBuilder=r.default;const s=t.__importDefault(vv());Yr.PostgrestFilterBuilder=s.default;const l=t.__importDefault(X_());Yr.PostgrestTransformBuilder=l.default;const c=t.__importDefault(Y_());Yr.PostgrestBuilder=c.default;const u=t.__importDefault(J_());return Yr.PostgrestError=u.default,Yr.default={PostgrestClient:e.default,PostgrestQueryBuilder:r.default,PostgrestFilterBuilder:s.default,PostgrestTransformBuilder:l.default,PostgrestBuilder:c.default,PostgrestError:u.default},Yr}class nw{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const s=r.node,l=parseInt(s.replace(/^v/,"").split(".")[0]);return l>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${l} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${l} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const s=this.getWebSocketConstructor();return new s(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const j2="2.87.1",S2=`realtime-js/${j2}`,ow="1.0.0",E2="2.0.0",xy=ow,kg=1e4,N2=1e3,C2=100;var Ba;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Ba||(Ba={}));var _r;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(_r||(_r={}));var Po;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Po||(Po={}));var Pg;(function(t){t.websocket="websocket"})(Pg||(Pg={}));var za;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(za||(za={}));class k2{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,r){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(e));let s=[e.join_ref,e.ref,e.topic,e.event,e.payload];return r(JSON.stringify(s))}_binaryEncodeUserBroadcastPush(e){var r;return this._isArrayBuffer((r=e.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var r,s;const l=(s=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&s!==void 0?s:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,l)}_encodeJsonUserBroadcastPush(e){var r,s;const l=(s=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&s!==void 0?s:{},u=new TextEncoder().encode(JSON.stringify(l)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,u)}_encodeUserBroadcastPush(e,r,s){var l,c;const u=e.topic,p=(l=e.ref)!==null&&l!==void 0?l:"",m=(c=e.join_ref)!==null&&c!==void 0?c:"",v=e.payload.event,y=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},x=Object.keys(y).length===0?"":JSON.stringify(y);if(m.length>255)throw new Error(`joinRef length ${m.length} exceeds maximum of 255`);if(p.length>255)throw new Error(`ref length ${p.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`topic length ${u.length} exceeds maximum of 255`);if(v.length>255)throw new Error(`userEvent length ${v.length} exceeds maximum of 255`);if(x.length>255)throw new Error(`metadata length ${x.length} exceeds maximum of 255`);const E=this.USER_BROADCAST_PUSH_META_LENGTH+m.length+p.length+u.length+v.length+x.length,S=new ArrayBuffer(this.HEADER_LENGTH+E);let k=new DataView(S),N=0;k.setUint8(N++,this.KINDS.userBroadcastPush),k.setUint8(N++,m.length),k.setUint8(N++,p.length),k.setUint8(N++,u.length),k.setUint8(N++,v.length),k.setUint8(N++,x.length),k.setUint8(N++,r),Array.from(m,O=>k.setUint8(N++,O.charCodeAt(0))),Array.from(p,O=>k.setUint8(N++,O.charCodeAt(0))),Array.from(u,O=>k.setUint8(N++,O.charCodeAt(0))),Array.from(v,O=>k.setUint8(N++,O.charCodeAt(0))),Array.from(x,O=>k.setUint8(N++,O.charCodeAt(0)));var P=new Uint8Array(S.byteLength+s.byteLength);return P.set(new Uint8Array(S),0),P.set(new Uint8Array(s),S.byteLength),P.buffer}decode(e,r){if(this._isArrayBuffer(e)){let s=this._binaryDecode(e);return r(s)}if(typeof e=="string"){const s=JSON.parse(e),[l,c,u,p,m]=s;return r({join_ref:l,ref:c,topic:u,event:p,payload:m})}return r({})}_binaryDecode(e){const r=new DataView(e),s=r.getUint8(0),l=new TextDecoder;switch(s){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,r,l)}}_decodeUserBroadcast(e,r,s){const l=r.getUint8(1),c=r.getUint8(2),u=r.getUint8(3),p=r.getUint8(4);let m=this.HEADER_LENGTH+4;const v=s.decode(e.slice(m,m+l));m=m+l;const y=s.decode(e.slice(m,m+c));m=m+c;const x=s.decode(e.slice(m,m+u));m=m+u;const E=e.slice(m,e.byteLength),S=p===this.JSON_ENCODING?JSON.parse(s.decode(E)):E,k={type:this.BROADCAST_EVENT,event:y,payload:S};return u>0&&(k.meta=JSON.parse(x)),{join_ref:null,ref:null,topic:v,event:this.BROADCAST_EVENT,payload:k}}_isArrayBuffer(e){var r;return e instanceof ArrayBuffer||((r=e==null?void 0:e.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(e,r){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([s])=>r.includes(s)))}}class sw{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ht;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Ht||(Ht={}));const yy=(t,e,r={})=>{var s;const l=(s=r.skipTypes)!==null&&s!==void 0?s:[];return e?Object.keys(e).reduce((c,u)=>(c[u]=P2(u,t,e,l),c),{}):{}},P2=(t,e,r,s)=>{const l=e.find(p=>p.name===t),c=l==null?void 0:l.type,u=r[t];return c&&!s.includes(c)?iw(c,u):Tg(u)},iw=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return O2(e,r)}switch(t){case Ht.bool:return T2(e);case Ht.float4:case Ht.float8:case Ht.int2:case Ht.int4:case Ht.int8:case Ht.numeric:case Ht.oid:return R2(e);case Ht.json:case Ht.jsonb:return A2(e);case Ht.timestamp:return M2(e);case Ht.abstime:case Ht.date:case Ht.daterange:case Ht.int4range:case Ht.int8range:case Ht.money:case Ht.reltime:case Ht.text:case Ht.time:case Ht.timestamptz:case Ht.timetz:case Ht.tsrange:case Ht.tstzrange:return Tg(e);default:return Tg(e)}},Tg=t=>t,T2=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},R2=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},A2=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},O2=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,s=t[r];if(t[0]==="{"&&s==="}"){let c;const u=t.slice(1,r);try{c=JSON.parse("["+u+"]")}catch{c=u?u.split(","):[]}return c.map(p=>iw(e,p))}return t},M2=t=>typeof t=="string"?t.replace(" ","T"):t,aw=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class Ip{constructor(e,r,s={},l=kg){this.channel=e,this.event=r,this.payload=s,this.timeout=l,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var s;return this._hasReceived(e)&&r((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(s=>s.status===e).forEach(s=>s.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Rg;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Rg||(Rg={}));let lw=class af{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},l=>{const{onJoin:c,onLeave:u,onSync:p}=this.caller;this.joinRef=this.channel._joinRef(),this.state=af.syncState(this.state,l,c,u),this.pendingDiffs.forEach(m=>{this.state=af.syncDiff(this.state,m,c,u)}),this.pendingDiffs=[],p()}),this.channel._on(s.diff,{},l=>{const{onJoin:c,onLeave:u,onSync:p}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(l):(this.state=af.syncDiff(this.state,l,c,u),p())}),this.onJoin((l,c,u)=>{this.channel._trigger("presence",{event:"join",key:l,currentPresences:c,newPresences:u})}),this.onLeave((l,c,u)=>{this.channel._trigger("presence",{event:"leave",key:l,currentPresences:c,leftPresences:u})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,s,l){const c=this.cloneDeep(e),u=this.transformState(r),p={},m={};return this.map(c,(v,y)=>{u[v]||(m[v]=y)}),this.map(u,(v,y)=>{const x=c[v];if(x){const E=y.map(P=>P.presence_ref),S=x.map(P=>P.presence_ref),k=y.filter(P=>S.indexOf(P.presence_ref)<0),N=x.filter(P=>E.indexOf(P.presence_ref)<0);k.length>0&&(p[v]=k),N.length>0&&(m[v]=N)}else p[v]=y}),this.syncDiff(c,{joins:p,leaves:m},s,l)}static syncDiff(e,r,s,l){const{joins:c,leaves:u}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return s||(s=()=>{}),l||(l=()=>{}),this.map(c,(p,m)=>{var v;const y=(v=e[p])!==null&&v!==void 0?v:[];if(e[p]=this.cloneDeep(m),y.length>0){const x=e[p].map(S=>S.presence_ref),E=y.filter(S=>x.indexOf(S.presence_ref)<0);e[p].unshift(...E)}s(p,y,m)}),this.map(u,(p,m)=>{let v=e[p];if(!v)return;const y=m.map(x=>x.presence_ref);v=v.filter(x=>y.indexOf(x.presence_ref)<0),e[p]=v,l(p,v,m),v.length===0&&delete e[p]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(s=>r(s,e[s]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,s)=>{const l=e[s];return"metas"in l?r[s]=l.metas.map(c=>(c.presence_ref=c.phx_ref,delete c.phx_ref,delete c.phx_ref_prev,c)):r[s]=l,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var Ag;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Ag||(Ag={}));var oc;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(oc||(oc={}));var ts;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(ts||(ts={}));const L2=_r;let cw=class qd{constructor(e,r={config:{}},s){var l,c;if(this.topic=e,this.params=r,this.socket=s,this.bindings={},this.state=_r.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Ip(this,Po.join,this.params,this.timeout),this.rejoinTimer=new sw(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=_r.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(u=>u.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=_r.closed,this.socket._remove(this)}),this._onError(u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=_r.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=_r.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=_r.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Po.reply,{},(u,p)=>{this._trigger(this._replyEventName(p),u)}),this.presence=new lw(this),this.broadcastEndpointURL=aw(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((c=(l=this.params.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,r=this.timeout){var s,l,c;if(this.socket.isConnected()||this.socket.connect(),this.state==_r.closed){const{config:{broadcast:u,presence:p,private:m}}=this.params,v=(l=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(S=>S.filter))!==null&&l!==void 0?l:[],y=!!this.bindings[oc.PRESENCE]&&this.bindings[oc.PRESENCE].length>0||((c=this.params.config.presence)===null||c===void 0?void 0:c.enabled)===!0,x={},E={broadcast:u,presence:Object.assign(Object.assign({},p),{enabled:y}),postgres_changes:v,private:m};this.socket.accessTokenValue&&(x.access_token=this.socket.accessTokenValue),this._onError(S=>e==null?void 0:e(ts.CHANNEL_ERROR,S)),this._onClose(()=>e==null?void 0:e(ts.CLOSED)),this.updateJoinPayload(Object.assign({config:E},x)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:S})=>{var k;if(this.socket._isManualToken()||this.socket.setAuth(),S===void 0){e==null||e(ts.SUBSCRIBED);return}else{const N=this.bindings.postgres_changes,P=(k=N==null?void 0:N.length)!==null&&k!==void 0?k:0,O=[];for(let T=0;T<P;T++){const R=N[T],{filter:{event:z,schema:Y,table:D,filter:J}}=R,ne=S&&S[T];if(ne&&ne.event===z&&qd.isFilterValueEqual(ne.schema,Y)&&qd.isFilterValueEqual(ne.table,D)&&qd.isFilterValueEqual(ne.filter,J))O.push(Object.assign(Object.assign({},R),{id:ne.id}));else{this.unsubscribe(),this.state=_r.errored,e==null||e(ts.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=O,e&&e(ts.SUBSCRIBED);return}}).receive("error",S=>{this.state=_r.errored,e==null||e(ts.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(S).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(ts.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,s){return this.state===_r.joined&&e===oc.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,r,s)}async httpSend(e,r,s={}){var l;const c=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const u={method:"POST",headers:{Authorization:c,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:r,private:this.private}]})},p=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(l=s.timeout)!==null&&l!==void 0?l:this.timeout);if(p.status===202)return{success:!0};let m=p.statusText;try{const v=await p.json();m=v.error||v.message||m}catch{}return Promise.reject(new Error(m))}async send(e,r={}){var s,l;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:c,payload:u}=e,m={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:c,payload:u,private:this.private}]})};try{const v=await this._fetchWithTimeout(this.broadcastEndpointURL,m,(s=r.timeout)!==null&&s!==void 0?s:this.timeout);return await((l=v.body)===null||l===void 0?void 0:l.cancel()),v.ok?"ok":"error"}catch(v){return v.name==="AbortError"?"timed out":"error"}}else return new Promise(c=>{var u,p,m;const v=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((m=(p=(u=this.params)===null||u===void 0?void 0:u.config)===null||p===void 0?void 0:p.broadcast)===null||m===void 0)&&m.ack)&&c("ok"),v.receive("ok",()=>c("ok")),v.receive("error",()=>c("error")),v.receive("timeout",()=>c("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=_r.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Po.close,"leave",this._joinRef())};this.joinPush.destroy();let s=null;return new Promise(l=>{s=new Ip(this,Po.leave,{},e),s.receive("ok",()=>{r(),l("ok")}).receive("timeout",()=>{r(),l("timed out")}).receive("error",()=>{l("error")}),s.send(),this._canPush()||s.trigger("ok",{})}).finally(()=>{s==null||s.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=_r.closed,this.bindings={}}async _fetchWithTimeout(e,r,s){const l=new AbortController,c=setTimeout(()=>l.abort(),s),u=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:l.signal}));return clearTimeout(c),u}_push(e,r,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let l=new Ip(this,e,r,s);return this._canPush()?l.send():this._addToPushBuffer(l),l}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>C2){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,s){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,s){var l,c;const u=e.toLocaleLowerCase(),{close:p,error:m,leave:v,join:y}=Po;if(s&&[p,m,v,y].indexOf(u)>=0&&s!==this._joinRef())return;let E=this._onMessage(u,r,s);if(r&&!E)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(u)?(l=this.bindings.postgres_changes)===null||l===void 0||l.filter(S=>{var k,N,P;return((k=S.filter)===null||k===void 0?void 0:k.event)==="*"||((P=(N=S.filter)===null||N===void 0?void 0:N.event)===null||P===void 0?void 0:P.toLocaleLowerCase())===u}).map(S=>S.callback(E,s)):(c=this.bindings[u])===null||c===void 0||c.filter(S=>{var k,N,P,O,T,R;if(["broadcast","presence","postgres_changes"].includes(u))if("id"in S){const z=S.id,Y=(k=S.filter)===null||k===void 0?void 0:k.event;return z&&((N=r.ids)===null||N===void 0?void 0:N.includes(z))&&(Y==="*"||(Y==null?void 0:Y.toLocaleLowerCase())===((P=r.data)===null||P===void 0?void 0:P.type.toLocaleLowerCase()))}else{const z=(T=(O=S==null?void 0:S.filter)===null||O===void 0?void 0:O.event)===null||T===void 0?void 0:T.toLocaleLowerCase();return z==="*"||z===((R=r==null?void 0:r.event)===null||R===void 0?void 0:R.toLocaleLowerCase())}else return S.type.toLocaleLowerCase()===u}).map(S=>{if(typeof E=="object"&&"ids"in E){const k=E.data,{schema:N,table:P,commit_timestamp:O,type:T,errors:R}=k;E=Object.assign(Object.assign({},{schema:N,table:P,commit_timestamp:O,eventType:T,new:{},old:{},errors:R}),this._getPayloadRecords(k))}S.callback(E,s)})}_isClosed(){return this.state===_r.closed}_isJoined(){return this.state===_r.joined}_isJoining(){return this.state===_r.joining}_isLeaving(){return this.state===_r.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,s){const l=e.toLocaleLowerCase(),c={type:l,filter:r,callback:s};return this.bindings[l]?this.bindings[l].push(c):this.bindings[l]=[c],this}_off(e,r){const s=e.toLocaleLowerCase();return this.bindings[s]&&(this.bindings[s]=this.bindings[s].filter(l=>{var c;return!(((c=l.type)===null||c===void 0?void 0:c.toLocaleLowerCase())===s&&qd.isEqual(l.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const s in e)if(e[s]!==r[s])return!1;return!0}static isFilterValueEqual(e,r){return(e??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Po.close,{},e)}_onError(e){this._on(Po.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=_r.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=yy(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=yy(e.columns,e.old_record)),r}};const Dp=()=>{},Hh={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},I2=[1e3,2e3,5e3,1e4],D2=1e4,B2=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;let z2=class{constructor(e,r){var s;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=kg,this.transport=null,this.heartbeatIntervalMs=Hh.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Dp,this.ref=0,this.reconnectTimer=null,this.vsn=xy,this.logger=Dp,this.conn=null,this.sendBuffer=[],this.serializer=new k2,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=l=>l?(...c)=>l(...c):(...c)=>fetch(...c),!(!((s=r==null?void 0:r.params)===null||s===void 0)&&s.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${Pg.websocket}`,this.httpEndpoint=aw(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=nw.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const s=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(s),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,s){this.logger(e,r,s)}connectionState(){switch(this.conn&&this.conn.readyState){case Ba.connecting:return za.Connecting;case Ba.open:return za.Open;case Ba.closing:return za.Closing;default:return za.Closed}}isConnected(){return this.connectionState()===za.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const s=`realtime:${e}`,l=this.getChannels().find(c=>c.topic===s);if(l)return l;{const c=new cw(`realtime:${e}`,r,this);return this.channels.push(c),c}}push(e){const{topic:r,event:s,payload:l,ref:c}=e,u=()=>{this.encode(e,p=>{var m;(m=this.conn)===null||m===void 0||m.send(p)})};this.log("push",`${r} ${s} (${c})`,l),this.isConnected()?u():this.sendBuffer.push(u)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(N2,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Hh.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(s=>s.topic===e&&(s._isJoined()||s._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(v){this.log("error","error in heartbeat callback",v)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:s,event:l,payload:c,ref:u}=r,p=u?`(${u})`:"",m=c.status||"";this.log("receive",`${m} ${s} ${l} ${p}`.trim(),c),this.channels.filter(v=>v._isMember(s)).forEach(v=>v._trigger(l,c,u)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){if(this.conn){if(this.conn.readyState===Ba.open||this.conn.readyState===Ba.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Po.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const s=e.match(/\?/)?"&":"?",l=new URLSearchParams(r);return`${e}${s}${l}`}_workerObjectUrl(e){let r;if(e)r=e;else{const s=new Blob([B2],{type:"application/javascript"});r=URL.createObjectURL(s)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r,s=!1;if(e)r=e,s=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(l){this.log("error","Error fetching access token from callback",l),r=this.accessTokenValue}else r=this.accessTokenValue;s?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(l=>{const c={access_token:r,version:S2};r&&l.updateJoinPayload(c),l.joinedOnce&&l._isJoined()&&l._push(Po.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(s=>{try{s(r)}catch(l){this.log("error",`error in ${e} callback`,l)}})}catch(s){this.log("error",`error triggering ${e} callbacks`,s)}}_setupReconnectionTimer(){this.reconnectTimer=new sw(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Hh.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,s,l,c,u,p,m,v,y,x,E,S;switch(this.transport=(r=e==null?void 0:e.transport)!==null&&r!==void 0?r:null,this.timeout=(s=e==null?void 0:e.timeout)!==null&&s!==void 0?s:kg,this.heartbeatIntervalMs=(l=e==null?void 0:e.heartbeatIntervalMs)!==null&&l!==void 0?l:Hh.HEARTBEAT_INTERVAL,this.worker=(c=e==null?void 0:e.worker)!==null&&c!==void 0?c:!1,this.accessToken=(u=e==null?void 0:e.accessToken)!==null&&u!==void 0?u:null,this.heartbeatCallback=(p=e==null?void 0:e.heartbeatCallback)!==null&&p!==void 0?p:Dp,this.vsn=(m=e==null?void 0:e.vsn)!==null&&m!==void 0?m:xy,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(v=e==null?void 0:e.reconnectAfterMs)!==null&&v!==void 0?v:(k=>I2[k-1]||D2),this.vsn){case ow:this.encode=(y=e==null?void 0:e.encode)!==null&&y!==void 0?y:((k,N)=>N(JSON.stringify(k))),this.decode=(x=e==null?void 0:e.decode)!==null&&x!==void 0?x:((k,N)=>N(JSON.parse(k)));break;case E2:this.encode=(E=e==null?void 0:e.encode)!==null&&E!==void 0?E:this.serializer.encode.bind(this.serializer),this.decode=(S=e==null?void 0:e.decode)!==null&&S!==void 0?S:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}};const $2=Object.freeze(Object.defineProperty({__proto__:null,REALTIME_CHANNEL_STATES:L2,get REALTIME_LISTEN_TYPES(){return oc},get REALTIME_POSTGRES_CHANGES_LISTEN_EVENT(){return Ag},get REALTIME_PRESENCE_LISTEN_EVENTS(){return Rg},get REALTIME_SUBSCRIBE_STATES(){return ts},RealtimeChannel:cw,RealtimeClient:z2,RealtimePresence:lw,WebSocketFactory:nw},Symbol.toStringTag,{value:"Module"})),dw=uu($2);class mu extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Yt(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class uw extends mu{constructor(e,r,s){super(e),this.name="StorageApiError",this.status=r,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class bf extends mu{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}const xv=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),F2=()=>Response,Og=t=>{if(Array.isArray(t))return t.map(r=>Og(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,s])=>{const l=r.replace(/([-_][a-z])/gi,c=>c.toUpperCase().replace(/[-_]/g,""));e[l]=Og(s)}),e},U2=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},q2=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t),Bp=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},W2=(t,e,r)=>qe(void 0,void 0,void 0,function*(){const s=yield F2();t instanceof s&&!(r!=null&&r.noResolveJson)?t.json().then(l=>{const c=t.status||500,u=(l==null?void 0:l.statusCode)||c+"";e(new uw(Bp(l),c,u))}).catch(l=>{e(new bf(Bp(l),l))}):e(new bf(Bp(t),t))}),H2=(t,e,r,s)=>{const l={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!s?l:(U2(s)?(l.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),l.body=JSON.stringify(s)):l.body=s,e!=null&&e.duplex&&(l.duplex=e.duplex),Object.assign(Object.assign({},l),r))};function pu(t,e,r,s,l,c){return qe(this,void 0,void 0,function*(){return new Promise((u,p)=>{t(r,H2(e,s,l,c)).then(m=>{if(!m.ok)throw m;return s!=null&&s.noResolveJson?m:m.json()}).then(m=>u(m)).catch(m=>W2(m,p,s))})})}function Xd(t,e,r,s){return qe(this,void 0,void 0,function*(){return pu(t,"GET",e,r,s)})}function No(t,e,r,s,l){return qe(this,void 0,void 0,function*(){return pu(t,"POST",e,s,l,r)})}function Mg(t,e,r,s,l){return qe(this,void 0,void 0,function*(){return pu(t,"PUT",e,s,l,r)})}function V2(t,e,r,s){return qe(this,void 0,void 0,function*(){return pu(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),s)})}function yv(t,e,r,s,l){return qe(this,void 0,void 0,function*(){return pu(t,"DELETE",e,s,l,r)})}class G2{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r}then(e,r){return this.execute().then(e,r)}execute(){return qe(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Yt(e))return{data:null,error:e};throw e}})}}var hw;class K2{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r,this[hw]="BlobDownloadBuilder",this.promise=null}asStream(){return new G2(this.downloadFn,this.shouldThrowOnError)}then(e,r){return this.getPromise().then(e,r)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return qe(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Yt(e))return{data:null,error:e};throw e}})}}hw=Symbol.toStringTag;const Z2={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},by={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Q2{constructor(e,r={},s,l){this.shouldThrowOnError=!1,this.url=e,this.headers=r,this.bucketId=s,this.fetch=xv(l)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,r,s,l){return qe(this,void 0,void 0,function*(){try{let c;const u=Object.assign(Object.assign({},by),l);let p=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(u.upsert)});const m=u.metadata;typeof Blob<"u"&&s instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),m&&c.append("metadata",this.encodeMetadata(m)),c.append("",s)):typeof FormData<"u"&&s instanceof FormData?(c=s,c.has("cacheControl")||c.append("cacheControl",u.cacheControl),m&&!c.has("metadata")&&c.append("metadata",this.encodeMetadata(m))):(c=s,p["cache-control"]=`max-age=${u.cacheControl}`,p["content-type"]=u.contentType,m&&(p["x-metadata"]=this.toBase64(this.encodeMetadata(m))),(typeof ReadableStream<"u"&&c instanceof ReadableStream||c&&typeof c=="object"&&"pipe"in c&&typeof c.pipe=="function")&&!u.duplex&&(u.duplex="half")),l!=null&&l.headers&&(p=Object.assign(Object.assign({},p),l.headers));const v=this._removeEmptyFolders(r),y=this._getFinalPath(v),x=yield(e=="PUT"?Mg:No)(this.fetch,`${this.url}/object/${y}`,c,Object.assign({headers:p},u!=null&&u.duplex?{duplex:u.duplex}:{}));return{data:{path:v,id:x.Id,fullPath:x.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(Yt(c))return{data:null,error:c};throw c}})}upload(e,r,s){return qe(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,s)})}uploadToSignedUrl(e,r,s,l){return qe(this,void 0,void 0,function*(){const c=this._removeEmptyFolders(e),u=this._getFinalPath(c),p=new URL(this.url+`/object/upload/sign/${u}`);p.searchParams.set("token",r);try{let m;const v=Object.assign({upsert:by.upsert},l),y=Object.assign(Object.assign({},this.headers),{"x-upsert":String(v.upsert)});typeof Blob<"u"&&s instanceof Blob?(m=new FormData,m.append("cacheControl",v.cacheControl),m.append("",s)):typeof FormData<"u"&&s instanceof FormData?(m=s,m.append("cacheControl",v.cacheControl)):(m=s,y["cache-control"]=`max-age=${v.cacheControl}`,y["content-type"]=v.contentType);const x=yield Mg(this.fetch,p.toString(),m,{headers:y});return{data:{path:c,fullPath:x.Key},error:null}}catch(m){if(this.shouldThrowOnError)throw m;if(Yt(m))return{data:null,error:m};throw m}})}createSignedUploadUrl(e,r){return qe(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e);const l=Object.assign({},this.headers);r!=null&&r.upsert&&(l["x-upsert"]="true");const c=yield No(this.fetch,`${this.url}/object/upload/sign/${s}`,{},{headers:l}),u=new URL(this.url+c.url),p=u.searchParams.get("token");if(!p)throw new mu("No token returned by API");return{data:{signedUrl:u.toString(),path:e,token:p},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Yt(s))return{data:null,error:s};throw s}})}update(e,r,s){return qe(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,s)})}move(e,r,s){return qe(this,void 0,void 0,function*(){try{return{data:yield No(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:s==null?void 0:s.destinationBucket},{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Yt(l))return{data:null,error:l};throw l}})}copy(e,r,s){return qe(this,void 0,void 0,function*(){try{return{data:{path:(yield No(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:s==null?void 0:s.destinationBucket},{headers:this.headers})).Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Yt(l))return{data:null,error:l};throw l}})}createSignedUrl(e,r,s){return qe(this,void 0,void 0,function*(){try{let l=this._getFinalPath(e),c=yield No(this.fetch,`${this.url}/object/sign/${l}`,Object.assign({expiresIn:r},s!=null&&s.transform?{transform:s.transform}:{}),{headers:this.headers});const u=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return c={signedUrl:encodeURI(`${this.url}${c.signedURL}${u}`)},{data:c,error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Yt(l))return{data:null,error:l};throw l}})}createSignedUrls(e,r,s){return qe(this,void 0,void 0,function*(){try{const l=yield No(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),c=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return{data:l.map(u=>Object.assign(Object.assign({},u),{signedUrl:u.signedURL?encodeURI(`${this.url}${u.signedURL}${c}`):null})),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Yt(l))return{data:null,error:l};throw l}})}download(e,r){const l=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),u=c?`?${c}`:"",p=this._getFinalPath(e),m=()=>Xd(this.fetch,`${this.url}/${l}/${p}${u}`,{headers:this.headers,noResolveJson:!0});return new K2(m,this.shouldThrowOnError)}info(e){return qe(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const s=yield Xd(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Og(s),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Yt(s))return{data:null,error:s};throw s}})}exists(e){return qe(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield V2(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Yt(s)&&s instanceof bf){const l=s.originalError;if([400,404].includes(l==null?void 0:l.status))return{data:!1,error:s}}throw s}})}getPublicUrl(e,r){const s=this._getFinalPath(e),l=[],c=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";c!==""&&l.push(c);const p=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",m=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});m!==""&&l.push(m);let v=l.join("&");return v!==""&&(v=`?${v}`),{data:{publicUrl:encodeURI(`${this.url}/${p}/public/${s}${v}`)}}}remove(e){return qe(this,void 0,void 0,function*(){try{return{data:yield yv(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Yt(r))return{data:null,error:r};throw r}})}list(e,r,s){return qe(this,void 0,void 0,function*(){try{const l=Object.assign(Object.assign(Object.assign({},Z2),r),{prefix:e||""});return{data:yield No(this.fetch,`${this.url}/object/list/${this.bucketId}`,l,{headers:this.headers},s),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Yt(l))return{data:null,error:l};throw l}})}listV2(e,r){return qe(this,void 0,void 0,function*(){try{const s=Object.assign({},e);return{data:yield No(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Yt(s))return{data:null,error:s};throw s}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const fw="2.87.1",mw={"X-Client-Info":`storage-js/${fw}`};class J2{constructor(e,r={},s,l){this.shouldThrowOnError=!1;const c=new URL(e);l!=null&&l.useNewHostname&&/supabase\.(co|in|red)$/.test(c.hostname)&&!c.hostname.includes("storage.supabase.")&&(c.hostname=c.hostname.replace("supabase.","storage.supabase.")),this.url=c.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},mw),r),this.fetch=xv(s)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return qe(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(e);return{data:yield Xd(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Yt(r))return{data:null,error:r};throw r}})}getBucket(e){return qe(this,void 0,void 0,function*(){try{return{data:yield Xd(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Yt(r))return{data:null,error:r};throw r}})}createBucket(e){return qe(this,arguments,void 0,function*(r,s={public:!1}){try{return{data:yield No(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:s.type,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Yt(l))return{data:null,error:l};throw l}})}updateBucket(e,r){return qe(this,void 0,void 0,function*(){try{return{data:yield Mg(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Yt(s))return{data:null,error:s};throw s}})}emptyBucket(e){return qe(this,void 0,void 0,function*(){try{return{data:yield No(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Yt(r))return{data:null,error:r};throw r}})}deleteBucket(e){return qe(this,void 0,void 0,function*(){try{return{data:yield yv(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Yt(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(e){const r={};return e&&("limit"in e&&(r.limit=String(e.limit)),"offset"in e&&(r.offset=String(e.offset)),e.search&&(r.search=e.search),e.sortColumn&&(r.sortColumn=e.sortColumn),e.sortOrder&&(r.sortOrder=e.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}var eu=class extends Error{constructor(t,e){var r;super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&((r=e.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function Y2(t,e,r){const s=new URL(e,t);if(r)for(const[l,c]of Object.entries(r))c!==void 0&&s.searchParams.set(l,c);return s.toString()}async function X2(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function ek(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:r,path:s,query:l,body:c,headers:u}){const p=Y2(t.baseUrl,s,l),m=await X2(t.auth),v=await e(p,{method:r,headers:{...c?{"Content-Type":"application/json"}:{},...m,...u},body:c?JSON.stringify(c):void 0}),y=await v.text(),x=(v.headers.get("content-type")||"").includes("application/json"),E=x&&y?JSON.parse(y):y;if(!v.ok){const S=x?E:void 0,k=S==null?void 0:S.error;throw new eu((k==null?void 0:k.message)??`Request failed with status ${v.status}`,{status:v.status,icebergType:k==null?void 0:k.type,icebergCode:k==null?void 0:k.code,details:S})}return{status:v.status,headers:v.headers,data:E}}}}function Vh(t){return t.join("")}var tk=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:Vh(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(s=>({namespace:s}))}async createNamespace(t,e){const r={namespace:t.namespace,properties:e==null?void 0:e.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Vh(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Vh(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Vh(t.namespace)}`}),!0}catch(e){if(e instanceof eu&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(r){if(r instanceof eu&&r.status===409)return;throw r}}};function Gl(t){return t.join("")}var rk=class{constructor(t,e="",r){this.client=t,this.prefix=e,this.accessDelegation=r}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Gl(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Gl(t.namespace)}/tables`,body:e,headers:r})).data.metadata}async updateTable(t,e){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Gl(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Gl(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String((e==null?void 0:e.purge)??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Gl(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Gl(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(r){if(r instanceof eu&&r.status===404)return!1;throw r}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(r){if(r instanceof eu&&r.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw r}}},nk=class{constructor(t){var s;let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const r=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=ek({baseUrl:r,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=(s=t.accessDelegation)==null?void 0:s.join(","),this.namespaceOps=new tk(this.client,e),this.tableOps=new rk(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}};class pw{constructor(e,r={},s){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},mw),r),this.fetch=xv(s)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return qe(this,void 0,void 0,function*(){try{return{data:yield No(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Yt(r))return{data:null,error:r};throw r}})}listBuckets(e){return qe(this,void 0,void 0,function*(){try{const r=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&r.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&r.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&r.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&r.set("sortOrder",e.sortOrder),e!=null&&e.search&&r.set("search",e.search);const s=r.toString(),l=s?`${this.url}/bucket?${s}`:`${this.url}/bucket`;return{data:yield Xd(this.fetch,l,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Yt(r))return{data:null,error:r};throw r}})}deleteBucket(e){return qe(this,void 0,void 0,function*(){try{return{data:yield yv(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Yt(r))return{data:null,error:r};throw r}})}from(e){if(!q2(e))throw new mu("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new nk({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:()=>qe(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch}),s=this.shouldThrowOnError;return new Proxy(r,{get(c,u){const p=c[u];return typeof p!="function"?p:(...m)=>qe(this,void 0,void 0,function*(){try{return{data:yield p.apply(c,m),error:null}}catch(v){if(s)throw v;return{data:null,error:v}}})}})}}const bv={"X-Client-Info":`storage-js/${fw}`,"Content-Type":"application/json"};class _v extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Nn(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}class lf extends _v{constructor(e,r,s){super(e),this.name="StorageVectorsApiError",this.status=r,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class gw extends _v{constructor(e,r){super(e),this.name="StorageVectorsUnknownError",this.originalError=r}}var Lg;(function(t){t.InternalError="InternalError",t.S3VectorConflictException="S3VectorConflictException",t.S3VectorNotFoundException="S3VectorNotFoundException",t.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",t.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",t.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(Lg||(Lg={}));const zf=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),ok=()=>Response,vw=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},sk=t=>Array.from(new Float32Array(t)),ik=(t,e)=>{if(e!==void 0&&t.float32.length!==e)throw new Error(`Vector dimension mismatch: expected ${e}, got ${t.float32.length}`)},_y=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),ak=(t,e,r)=>qe(void 0,void 0,void 0,function*(){if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(r!=null&&r.noResolveJson)){const l=t.status||500,c=t;if(typeof c.json=="function")c.json().then(u=>{const p=(u==null?void 0:u.statusCode)||(u==null?void 0:u.code)||l+"";e(new lf(_y(u),l,p))}).catch(()=>{const u=l+"",p=c.statusText||`HTTP ${l} error`;e(new lf(p,l,u))});else{const u=l+"",p=c.statusText||`HTTP ${l} error`;e(new lf(p,l,u))}}else e(new gw(_y(t),t))}),lk=(t,e,r,s)=>{const l={method:t,headers:(e==null?void 0:e.headers)||{}};return s?(vw(s)?(l.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),l.body=JSON.stringify(s)):l.body=s,Object.assign(Object.assign({},l),r)):l};function ck(t,e,r,s,l,c){return qe(this,void 0,void 0,function*(){return new Promise((u,p)=>{t(r,lk(e,s,l,c)).then(m=>{if(!m.ok)throw m;if(s!=null&&s.noResolveJson)return m;const v=m.headers.get("content-type");return!v||!v.includes("application/json")?{}:m.json()}).then(m=>u(m)).catch(m=>ak(m,p,s))})})}function $n(t,e,r,s,l){return qe(this,void 0,void 0,function*(){return ck(t,"POST",e,s,l,r)})}class xw{constructor(e,r={},s){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},bv),r),this.fetch=zf(s)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return qe(this,void 0,void 0,function*(){try{return{data:(yield $n(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Nn(r))return{data:null,error:r};throw r}})}getIndex(e,r){return qe(this,void 0,void 0,function*(){try{return{data:yield $n(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Nn(s))return{data:null,error:s};throw s}})}listIndexes(e){return qe(this,void 0,void 0,function*(){try{return{data:yield $n(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Nn(r))return{data:null,error:r};throw r}})}deleteIndex(e,r){return qe(this,void 0,void 0,function*(){try{return{data:(yield $n(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Nn(s))return{data:null,error:s};throw s}})}}class yw{constructor(e,r={},s){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},bv),r),this.fetch=zf(s)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return qe(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield $n(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Nn(r))return{data:null,error:r};throw r}})}getVectors(e){return qe(this,void 0,void 0,function*(){try{return{data:yield $n(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Nn(r))return{data:null,error:r};throw r}})}listVectors(e){return qe(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield $n(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Nn(r))return{data:null,error:r};throw r}})}queryVectors(e){return qe(this,void 0,void 0,function*(){try{return{data:yield $n(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Nn(r))return{data:null,error:r};throw r}})}deleteVectors(e){return qe(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield $n(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Nn(r))return{data:null,error:r};throw r}})}}class bw{constructor(e,r={},s){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},bv),r),this.fetch=zf(s)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return qe(this,void 0,void 0,function*(){try{return{data:(yield $n(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Nn(r))return{data:null,error:r};throw r}})}getBucket(e){return qe(this,void 0,void 0,function*(){try{return{data:yield $n(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Nn(r))return{data:null,error:r};throw r}})}listBuckets(){return qe(this,arguments,void 0,function*(e={}){try{return{data:yield $n(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Nn(r))return{data:null,error:r};throw r}})}deleteBucket(e){return qe(this,void 0,void 0,function*(){try{return{data:(yield $n(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Nn(r))return{data:null,error:r};throw r}})}}class _w extends bw{constructor(e,r={}){super(e,r.headers||{},r.fetch)}from(e){return new ww(this.url,this.headers,e,this.fetch)}createBucket(e){const r=Object.create(null,{createBucket:{get:()=>super.createBucket}});return qe(this,void 0,void 0,function*(){return r.createBucket.call(this,e)})}getBucket(e){const r=Object.create(null,{getBucket:{get:()=>super.getBucket}});return qe(this,void 0,void 0,function*(){return r.getBucket.call(this,e)})}listBuckets(){const e=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return qe(this,arguments,void 0,function*(r={}){return e.listBuckets.call(this,r)})}deleteBucket(e){const r=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return qe(this,void 0,void 0,function*(){return r.deleteBucket.call(this,e)})}}class ww extends xw{constructor(e,r,s,l){super(e,r,l),this.vectorBucketName=s}createIndex(e){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return qe(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return qe(this,arguments,void 0,function*(r={}){return e.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return qe(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return qe(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new jw(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class jw extends yw{constructor(e,r,s,l,c){super(e,r,c),this.vectorBucketName=s,this.indexName=l}putVectors(e){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return qe(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return qe(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return qe(this,arguments,void 0,function*(r={}){return e.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return qe(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return qe(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class dk extends J2{constructor(e,r={},s,l){super(e,r,s,l)}from(e){return new Q2(this.url,this.headers,e,this.fetch)}get vectors(){return new _w(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new pw(this.url+"/iceberg",this.headers,this.fetch)}}const uk=Object.freeze(Object.defineProperty({__proto__:null,StorageAnalyticsClient:pw,StorageApiError:uw,StorageClient:dk,StorageError:mu,StorageUnknownError:bf,StorageVectorsApiError:lf,StorageVectorsClient:_w,StorageVectorsError:_v,get StorageVectorsErrorCode(){return Lg},StorageVectorsUnknownError:gw,VectorBucketApi:bw,VectorBucketScope:ww,VectorDataApi:yw,VectorIndexApi:xw,VectorIndexScope:jw,isPlainObject:vw,isStorageError:Yt,isStorageVectorsError:Nn,normalizeToFloat32:sk,resolveFetch:zf,resolveResponse:ok,validateVectorDimension:ik},Symbol.toStringTag,{value:"Module"})),hk=uu(uk);var zp={},Id={},wy;function fk(){return wy||(wy=1,Object.defineProperty(Id,"__esModule",{value:!0}),Id.version=void 0,Id.version="2.87.1"),Id}var jy;function mk(){return jy||(jy=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_REALTIME_OPTIONS=t.DEFAULT_AUTH_OPTIONS=t.DEFAULT_DB_OPTIONS=t.DEFAULT_GLOBAL_OPTIONS=t.DEFAULT_HEADERS=void 0;const e=fk();let r="";typeof Deno<"u"?r="deno":typeof document<"u"?r="web":typeof navigator<"u"&&navigator.product==="ReactNative"?r="react-native":r="node",t.DEFAULT_HEADERS={"X-Client-Info":`supabase-js-${r}/${e.version}`},t.DEFAULT_GLOBAL_OPTIONS={headers:t.DEFAULT_HEADERS},t.DEFAULT_DB_OPTIONS={schema:"public"},t.DEFAULT_AUTH_OPTIONS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},t.DEFAULT_REALTIME_OPTIONS={}})(zp)),zp}var $p={},Sy;function pk(){return Sy||(Sy=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.fetchWithAuth=t.resolveHeadersConstructor=t.resolveFetch=void 0;const e=l=>l?(...c)=>l(...c):(...c)=>fetch(...c);t.resolveFetch=e;const r=()=>Headers;t.resolveHeadersConstructor=r;const s=(l,c,u)=>{const p=(0,t.resolveFetch)(u),m=(0,t.resolveHeadersConstructor)();return async(v,y)=>{var x;const E=(x=await c())!==null&&x!==void 0?x:l;let S=new m(y==null?void 0:y.headers);return S.has("apikey")||S.set("apikey",l),S.has("Authorization")||S.set("Authorization",`Bearer ${E}`),p(v,Object.assign(Object.assign({},y),{headers:S}))}};t.fetchWithAuth=s})($p)),$p}var Is={},Ey;function gk(){if(Ey)return Is;Ey=1,Object.defineProperty(Is,"__esModule",{value:!0}),Is.isBrowser=void 0,Is.uuid=t,Is.ensureTrailingSlash=e,Is.applySettingDefaults=s,Is.validateSupabaseUrl=l;function t(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(c){var u=Math.random()*16|0,p=c=="x"?u:u&3|8;return p.toString(16)})}function e(c){return c.endsWith("/")?c:c+"/"}const r=()=>typeof window<"u";Is.isBrowser=r;function s(c,u){var p,m;const{db:v,auth:y,realtime:x,global:E}=c,{db:S,auth:k,realtime:N,global:P}=u,O={db:Object.assign(Object.assign({},S),v),auth:Object.assign(Object.assign({},k),y),realtime:Object.assign(Object.assign({},N),x),storage:{},global:Object.assign(Object.assign(Object.assign({},P),E),{headers:Object.assign(Object.assign({},(p=P==null?void 0:P.headers)!==null&&p!==void 0?p:{}),(m=E==null?void 0:E.headers)!==null&&m!==void 0?m:{})}),accessToken:async()=>""};return c.accessToken?O.accessToken=c.accessToken:delete O.accessToken,O}function l(c){const u=c==null?void 0:c.trim();if(!u)throw new Error("supabaseUrl is required.");if(!u.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(e(u))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}return Is}var Dd={};const Sw="2.87.1",rc=30*1e3,Ig=3,Fp=Ig*rc,vk="http://localhost:9999",xk="supabase.auth.token",yk={"X-Client-Info":`gotrue-js/${Sw}`},Dg="X-Supabase-Api-Version",Ew={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},bk=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,_k=600*1e3;let Sc=class extends Error{constructor(e,r,s){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=s}};function Qe(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}let Nw=class extends Sc{constructor(e,r,s){super(e,r,s),this.name="AuthApiError",this.status=r,this.code=s}};function Cw(t){return Qe(t)&&t.name==="AuthApiError"}let Di=class extends Sc{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}},Ys=class extends Sc{constructor(e,r,s,l){super(e,s,l),this.name=r,this.status=s}},wn=class extends Ys{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function kw(t){return Qe(t)&&t.name==="AuthSessionMissingError"}let Ma=class extends Ys{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},Wd=class extends Ys{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}},Hd=class extends Ys{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function Pw(t){return Qe(t)&&t.name==="AuthImplicitGrantRedirectError"}let Bg=class extends Ys{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},_f=class extends Ys{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}};function cf(t){return Qe(t)&&t.name==="AuthRetryableFetchError"}let zg=class extends Ys{constructor(e,r,s){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=s}};function wk(t){return Qe(t)&&t.name==="AuthWeakPasswordError"}let wf=class extends Ys{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}};const jf="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Ny=` 	
\r=`.split(""),jk=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Ny.length;e+=1)t[Ny[e].charCodeAt(0)]=-2;for(let e=0;e<jf.length;e+=1)t[jf[e].charCodeAt(0)]=e;return t})();function Cy(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const s=e.queue>>e.queuedBits-6&63;r(jf[s]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const s=e.queue>>e.queuedBits-6&63;r(jf[s]),e.queuedBits-=6}}function Tw(t,e,r){const s=jk[t];if(s>-1)for(e.queue=e.queue<<6|s,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(s===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function ky(t){const e=[],r=u=>{e.push(String.fromCodePoint(u))},s={utf8seq:0,codepoint:0},l={queue:0,queuedBits:0},c=u=>{Nk(u,s,r)};for(let u=0;u<t.length;u+=1)Tw(t.charCodeAt(u),l,c);return e.join("")}function Sk(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function Ek(t,e){for(let r=0;r<t.length;r+=1){let s=t.charCodeAt(r);if(s>55295&&s<=56319){const l=(s-55296)*1024&65535;s=(t.charCodeAt(r+1)-56320&65535|l)+65536,r+=1}Sk(s,e)}}function Nk(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let s=1;s<6;s+=1)if((t>>7-s&1)===0){e.utf8seq=s;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function sc(t){const e=[],r={queue:0,queuedBits:0},s=l=>{e.push(l)};for(let l=0;l<t.length;l+=1)Tw(t.charCodeAt(l),r,s);return new Uint8Array(e)}function Ck(t){const e=[];return Ek(t,r=>e.push(r)),new Uint8Array(e)}function Fa(t){const e=[],r={queue:0,queuedBits:0},s=l=>{e.push(l)};return t.forEach(l=>Cy(l,r,s)),Cy(null,r,s),e.join("")}function kk(t){return Math.round(Date.now()/1e3)+t}function Pk(){return Symbol("auth-callback")}const qr=()=>typeof window<"u"&&typeof document<"u",Ra={tested:!1,writable:!1},Rw=()=>{if(!qr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ra.tested)return Ra.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Ra.tested=!0,Ra.writable=!0}catch{Ra.tested=!0,Ra.writable=!1}return Ra.writable};function Tk(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((l,c)=>{e[c]=l})}catch{}return r.searchParams.forEach((s,l)=>{e[l]=s}),e}const Aw=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),Rk=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",nc=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},Aa=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Ur=async(t,e)=>{await t.removeItem(e)};class $f{constructor(){this.promise=new $f.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}$f.promiseConstructor=Promise;function Up(t){const e=t.split(".");if(e.length!==3)throw new wf("Invalid JWT structure");for(let s=0;s<e.length;s++)if(!bk.test(e[s]))throw new wf("JWT not in base64url format");return{header:JSON.parse(ky(e[0])),payload:JSON.parse(ky(e[1])),signature:sc(e[2]),raw:{header:e[0],payload:e[1]}}}async function Ak(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function Ok(t,e){return new Promise((s,l)=>{(async()=>{for(let c=0;c<1/0;c++)try{const u=await t(c);if(!e(c,null,u)){s(u);return}}catch(u){if(!e(c,u)){l(u);return}}})()})}function Mk(t){return("0"+t.toString(16)).substr(-2)}function Lk(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=r.length;let l="";for(let c=0;c<56;c++)l+=r.charAt(Math.floor(Math.random()*s));return l}return crypto.getRandomValues(e),Array.from(e,Mk).join("")}async function Ik(t){const r=new TextEncoder().encode(t),s=await crypto.subtle.digest("SHA-256",r),l=new Uint8Array(s);return Array.from(l).map(c=>String.fromCharCode(c)).join("")}async function Dk(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await Ik(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Kl(t,e,r=!1){const s=Lk();let l=s;r&&(l+="/PASSWORD_RECOVERY"),await nc(t,`${e}-code-verifier`,l);const c=await Dk(s);return[c,s===c?"plain":"s256"]}const Bk=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function zk(t){const e=t.headers.get(Dg);if(!e||!e.match(Bk))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function $k(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function Fk(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Uk=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Zl(t){if(!Uk.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function qp(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const s=r.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function qk(t,e){return new Proxy(t,{get:(r,s,l)=>{if(s==="__isInsecureUserWarningProxy")return!0;if(typeof s=="symbol"){const c=s.toString();if(c==="Symbol(Symbol.toPrimitive)"||c==="Symbol(Symbol.toStringTag)"||c==="Symbol(util.inspect.custom)"||c==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,s,l)}return!e.value&&typeof s=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(r,s,l)}})}function Py(t){return JSON.parse(JSON.stringify(t))}const La=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Wk=[502,503,504];async function Ty(t){var e;if(!Rk(t))throw new _f(La(t),0);if(Wk.includes(t.status))throw new _f(La(t),t.status);let r;try{r=await t.json()}catch(c){throw new Di(La(c),c)}let s;const l=zk(t);if(l&&l.getTime()>=Ew["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?s=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(s=r.error_code),s){if(s==="weak_password")throw new zg(La(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(s==="session_not_found")throw new wn}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((c,u)=>c&&typeof u=="string",!0))throw new zg(La(r),t.status,r.weak_password.reasons);throw new Nw(La(r),t.status||500,s)}const Hk=(t,e,r,s)=>{const l={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?l:(l.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),l.body=JSON.stringify(s),Object.assign(Object.assign({},l),r))};async function ot(t,e,r,s){var l;const c=Object.assign({},s==null?void 0:s.headers);c[Dg]||(c[Dg]=Ew["2024-01-01"].name),s!=null&&s.jwt&&(c.Authorization=`Bearer ${s.jwt}`);const u=(l=s==null?void 0:s.query)!==null&&l!==void 0?l:{};s!=null&&s.redirectTo&&(u.redirect_to=s.redirectTo);const p=Object.keys(u).length?"?"+new URLSearchParams(u).toString():"",m=await Vk(t,e,r+p,{headers:c,noResolveJson:s==null?void 0:s.noResolveJson},{},s==null?void 0:s.body);return s!=null&&s.xform?s==null?void 0:s.xform(m):{data:Object.assign({},m),error:null}}async function Vk(t,e,r,s,l,c){const u=Hk(e,s,l,c);let p;try{p=await t(r,Object.assign({},u))}catch(m){throw console.error(m),new _f(La(m),0)}if(p.ok||await Ty(p),s!=null&&s.noResolveJson)return p;try{return await p.json()}catch(m){await Ty(m)}}function So(t){var e;let r=null;Zk(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=kk(t.expires_in)));const s=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:s},error:null}}function Ry(t){const e=So(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,s)=>r&&typeof s=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Bi(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function Gk(t){return{data:t,error:null}}function Kk(t){const{action_link:e,email_otp:r,hashed_token:s,redirect_to:l,verification_type:c}=t,u=ra(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),p={action_link:e,email_otp:r,hashed_token:s,redirect_to:l,verification_type:c},m=Object.assign({},u);return{data:{properties:p,user:m},error:null}}function Ay(t){return t}function Zk(t){return t.access_token&&t.refresh_token&&t.expires_in}const df=["global","local","others"];let wv=class{constructor({url:e="",headers:r={},fetch:s}){this.url=e,this.headers=r,this.fetch=Aw(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,r=df[0]){if(df.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${df.join(", ")}`);try{return await ot(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(s){if(Qe(s))return{data:null,error:s};throw s}}async inviteUserByEmail(e,r={}){try{return await ot(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Bi})}catch(s){if(Qe(s))return{data:{user:null},error:s};throw s}}async generateLink(e){try{const{options:r}=e,s=ra(e,["options"]),l=Object.assign(Object.assign({},s),r);return"newEmail"in s&&(l.new_email=s==null?void 0:s.newEmail,delete l.newEmail),await ot(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:l,headers:this.headers,xform:Kk,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(Qe(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await ot(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Bi})}catch(r){if(Qe(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,s,l,c,u,p,m;try{const v={nextPage:null,lastPage:0,total:0},y=await ot(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&s!==void 0?s:"",per_page:(c=(l=e==null?void 0:e.perPage)===null||l===void 0?void 0:l.toString())!==null&&c!==void 0?c:""},xform:Ay});if(y.error)throw y.error;const x=await y.json(),E=(u=y.headers.get("x-total-count"))!==null&&u!==void 0?u:0,S=(m=(p=y.headers.get("link"))===null||p===void 0?void 0:p.split(","))!==null&&m!==void 0?m:[];return S.length>0&&(S.forEach(k=>{const N=parseInt(k.split(";")[0].split("=")[1].substring(0,1)),P=JSON.parse(k.split(";")[1].split("=")[1]);v[`${P}Page`]=N}),v.total=parseInt(E)),{data:Object.assign(Object.assign({},x),v),error:null}}catch(v){if(Qe(v))return{data:{users:[]},error:v};throw v}}async getUserById(e){Zl(e);try{return await ot(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Bi})}catch(r){if(Qe(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){Zl(e);try{return await ot(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:Bi})}catch(s){if(Qe(s))return{data:{user:null},error:s};throw s}}async deleteUser(e,r=!1){Zl(e);try{return await ot(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:Bi})}catch(s){if(Qe(s))return{data:{user:null},error:s};throw s}}async _listFactors(e){Zl(e.userId);try{const{data:r,error:s}=await ot(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:l=>({data:{factors:l},error:null})});return{data:r,error:s}}catch(r){if(Qe(r))return{data:null,error:r};throw r}}async _deleteFactor(e){Zl(e.userId),Zl(e.id);try{return{data:await ot(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(Qe(r))return{data:null,error:r};throw r}}async _listOAuthClients(e){var r,s,l,c,u,p,m;try{const v={nextPage:null,lastPage:0,total:0},y=await ot(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&s!==void 0?s:"",per_page:(c=(l=e==null?void 0:e.perPage)===null||l===void 0?void 0:l.toString())!==null&&c!==void 0?c:""},xform:Ay});if(y.error)throw y.error;const x=await y.json(),E=(u=y.headers.get("x-total-count"))!==null&&u!==void 0?u:0,S=(m=(p=y.headers.get("link"))===null||p===void 0?void 0:p.split(","))!==null&&m!==void 0?m:[];return S.length>0&&(S.forEach(k=>{const N=parseInt(k.split(";")[0].split("=")[1].substring(0,1)),P=JSON.parse(k.split(";")[1].split("=")[1]);v[`${P}Page`]=N}),v.total=parseInt(E)),{data:Object.assign(Object.assign({},x),v),error:null}}catch(v){if(Qe(v))return{data:{clients:[]},error:v};throw v}}async _createOAuthClient(e){try{return await ot(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Qe(r))return{data:null,error:r};throw r}}async _getOAuthClient(e){try{return await ot(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Qe(r))return{data:null,error:r};throw r}}async _updateOAuthClient(e,r){try{return await ot(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:r,headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(Qe(s))return{data:null,error:s};throw s}}async _deleteOAuthClient(e){try{return await ot(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Qe(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(e){try{return await ot(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Qe(r))return{data:null,error:r};throw r}}};function Oy(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}const Ia={debug:!!(globalThis&&Rw()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class jv extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}let Ow=class extends jv{};class Qk extends jv{}async function Mw(t,e,r){Ia.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const s=new globalThis.AbortController;return e>0&&setTimeout(()=>{s.abort(),Ia.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async l=>{if(l){Ia.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,l.name);try{return await r()}finally{Ia.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,l.name)}}else{if(e===0)throw Ia.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new Ow(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Ia.debug)try{const c=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(c,null,"  "))}catch(c){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",c)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}const My={};async function Jk(t,e,r){var s;const l=(s=My[t])!==null&&s!==void 0?s:Promise.resolve(),c=Promise.race([l.catch(()=>null),e>=0?new Promise((u,p)=>{setTimeout(()=>{p(new Qk(`Acquring process lock with name "${t}" timed out`))},e)}):null].filter(u=>u)).catch(u=>{if(u&&u.isAcquireTimeout)throw u;return null}).then(async()=>await r());return My[t]=c.catch(async u=>{if(u&&u.isAcquireTimeout)return await l,null;throw u}),await c}function Yk(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Lw(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function Xk(t){return parseInt(t,16)}function eP(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,s=>s.toString(16).padStart(2,"0")).join("")}function tP(t){var e;const{chainId:r,domain:s,expirationTime:l,issuedAt:c=new Date,nonce:u,notBefore:p,requestId:m,resources:v,scheme:y,uri:x,version:E}=t;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!s)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(u&&u.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${u}`);if(!x)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(E!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${E}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const S=Lw(t.address),k=y?`${y}://${s}`:s,N=t.statement?`${t.statement}
`:"",P=`${k} wants you to sign in with your Ethereum account:
${S}

${N}`;let O=`URI: ${x}
Version: ${E}
Chain ID: ${r}${u?`
Nonce: ${u}`:""}
Issued At: ${c.toISOString()}`;if(l&&(O+=`
Expiration Time: ${l.toISOString()}`),p&&(O+=`
Not Before: ${p.toISOString()}`),m&&(O+=`
Request ID: ${m}`),v){let T=`
Resources:`;for(const R of v){if(!R||typeof R!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${R}`);T+=`
- ${R}`}O+=T}return`${P}
${O}`}class wr extends Error{constructor({message:e,code:r,cause:s,name:l}){var c;super(e,{cause:s}),this.__isWebAuthnError=!0,this.name=(c=l??(s instanceof Error?s.name:void 0))!==null&&c!==void 0?c:"Unknown Error",this.code=r}}class Sf extends wr{constructor(e,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:e}),this.name="WebAuthnUnknownError",this.originalError=r}}function rP({error:t,options:e}){var r,s,l;const{publicKey:c}=e;if(!c)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new wr({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((r=c.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new wr({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((s=c.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new wr({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((l=c.authenticatorSelection)===null||l===void 0?void 0:l.userVerification)==="required")return new wr({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new wr({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new wr({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return c.pubKeyCredParams.filter(p=>p.type==="public-key").length===0?new wr({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new wr({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const u=window.location.hostname;if(Iw(u)){if(c.rp.id!==u)return new wr({message:`The RP ID "${c.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new wr({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(c.user.id.byteLength<1||c.user.id.byteLength>64)return new wr({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new wr({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new wr({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function nP({error:t,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new wr({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new wr({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const s=window.location.hostname;if(Iw(s)){if(r.rpId!==s)return new wr({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new wr({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new wr({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new wr({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class oP{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const sP=new oP;function iP(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:r,excludeCredentials:s}=t,l=ra(t,["challenge","user","excludeCredentials"]),c=sc(e).buffer,u=Object.assign(Object.assign({},r),{id:sc(r.id).buffer}),p=Object.assign(Object.assign({},l),{challenge:c,user:u});if(s&&s.length>0){p.excludeCredentials=new Array(s.length);for(let m=0;m<s.length;m++){const v=s[m];p.excludeCredentials[m]=Object.assign(Object.assign({},v),{id:sc(v.id).buffer,type:v.type||"public-key",transports:v.transports})}}return p}function aP(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:r}=t,s=ra(t,["challenge","allowCredentials"]),l=sc(e).buffer,c=Object.assign(Object.assign({},s),{challenge:l});if(r&&r.length>0){c.allowCredentials=new Array(r.length);for(let u=0;u<r.length;u++){const p=r[u];c.allowCredentials[u]=Object.assign(Object.assign({},p),{id:sc(p.id).buffer,type:p.type||"public-key",transports:p.transports})}}return c}function lP(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t;return{id:t.id,rawId:t.id,response:{attestationObject:Fa(new Uint8Array(t.response.attestationObject)),clientDataJSON:Fa(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function cP(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t,s=t.getClientExtensionResults(),l=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:Fa(new Uint8Array(l.authenticatorData)),clientDataJSON:Fa(new Uint8Array(l.clientDataJSON)),signature:Fa(new Uint8Array(l.signature)),userHandle:l.userHandle?Fa(new Uint8Array(l.userHandle)):void 0},type:"public-key",clientExtensionResults:s,authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Iw(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function Ly(){var t,e;return!!(qr()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function dP(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Sf("Browser returned unexpected credential type",e)}:{data:null,error:new Sf("Empty credential response",e)}}catch(e){return{data:null,error:rP({error:e,options:t})}}}async function uP(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Sf("Browser returned unexpected credential type",e)}:{data:null,error:new Sf("Empty credential response",e)}}catch(e){return{data:null,error:nP({error:e,options:t})}}}const hP={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},fP={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Ef(...t){const e=l=>l!==null&&typeof l=="object"&&!Array.isArray(l),r=l=>l instanceof ArrayBuffer||ArrayBuffer.isView(l),s={};for(const l of t)if(l)for(const c in l){const u=l[c];if(u!==void 0)if(Array.isArray(u))s[c]=u;else if(r(u))s[c]=u;else if(e(u)){const p=s[c];e(p)?s[c]=Ef(p,u):s[c]=Ef(u)}else s[c]=u}return s}function mP(t,e){return Ef(hP,t,e||{})}function pP(t,e){return Ef(fP,t,e||{})}class gP{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:r,friendlyName:s,signal:l},c){try{const{data:u,error:p}=await this.client.mfa.challenge({factorId:e,webauthn:r});if(!u)return{data:null,error:p};const m=l??sP.createNewAbortSignal();if(u.webauthn.type==="create"){const{user:v}=u.webauthn.credential_options.publicKey;v.name||(v.name=`${v.id}:${s}`),v.displayName||(v.displayName=v.name)}switch(u.webauthn.type){case"create":{const v=mP(u.webauthn.credential_options.publicKey,c==null?void 0:c.create),{data:y,error:x}=await dP({publicKey:v,signal:m});return y?{data:{factorId:e,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:y}},error:null}:{data:null,error:x}}case"request":{const v=pP(u.webauthn.credential_options.publicKey,c==null?void 0:c.request),{data:y,error:x}=await uP(Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:v,signal:m}));return y?{data:{factorId:e,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:y}},error:null}:{data:null,error:x}}}}catch(u){return Qe(u)?{data:null,error:u}:{data:null,error:new Di("Unexpected error in challenge",u)}}}async _verify({challengeId:e,factorId:r,webauthn:s}){return this.client.mfa.verify({factorId:r,challengeId:e,webauthn:s})}async _authenticate({factorId:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:l}={}},c){if(!r)return{data:null,error:new Sc("rpId is required for WebAuthn authentication")};try{if(!Ly())return{data:null,error:new Di("Browser does not support WebAuthn",null)};const{data:u,error:p}=await this.challenge({factorId:e,webauthn:{rpId:r,rpOrigins:s},signal:l},{request:c});if(!u)return{data:null,error:p};const{webauthn:m}=u;return this._verify({factorId:e,challengeId:u.challengeId,webauthn:{type:m.type,rpId:r,rpOrigins:s,credential_response:m.credential_response}})}catch(u){return Qe(u)?{data:null,error:u}:{data:null,error:new Di("Unexpected error in authenticate",u)}}}async _register({friendlyName:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:l}={}},c){if(!r)return{data:null,error:new Sc("rpId is required for WebAuthn registration")};try{if(!Ly())return{data:null,error:new Di("Browser does not support WebAuthn",null)};const{data:u,error:p}=await this._enroll({friendlyName:e});if(!u)return await this.client.mfa.listFactors().then(y=>{var x;return(x=y.data)===null||x===void 0?void 0:x.all.find(E=>E.factor_type==="webauthn"&&E.friendly_name===e&&E.status!=="unverified")}).then(y=>y?this.client.mfa.unenroll({factorId:y==null?void 0:y.id}):void 0),{data:null,error:p};const{data:m,error:v}=await this._challenge({factorId:u.id,friendlyName:u.friendly_name,webauthn:{rpId:r,rpOrigins:s},signal:l},{create:c});return m?this._verify({factorId:u.id,challengeId:m.challengeId,webauthn:{rpId:r,rpOrigins:s,type:m.webauthn.type,credential_response:m.webauthn.credential_response}}):{data:null,error:v}}catch(u){return Qe(u)?{data:null,error:u}:{data:null,error:new Di("Unexpected error in register",u)}}}}Yk();const vP={url:vk,storageKey:xk,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:yk,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function Iy(t,e,r){return await r()}const Ql={};let Sv=class $g{get jwks(){var e,r;return(r=(e=Ql[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){Ql[this.storageKey]=Object.assign(Object.assign({},Ql[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=Ql[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Ql[this.storageKey]=Object.assign(Object.assign({},Ql[this.storageKey]),{cachedAt:e})}constructor(e){var r,s,l;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const c=Object.assign(Object.assign({},vP),e);if(this.storageKey=c.storageKey,this.instanceID=(r=$g.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,$g.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!c.debug,typeof c.debug=="function"&&(this.logger=c.debug),this.instanceID>0&&qr()){const u=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(u),this.logDebugMessages&&console.trace(u)}if(this.persistSession=c.persistSession,this.autoRefreshToken=c.autoRefreshToken,this.admin=new wv({url:c.url,headers:c.headers,fetch:c.fetch}),this.url=c.url,this.headers=c.headers,this.fetch=Aw(c.fetch),this.lock=c.lock||Iy,this.detectSessionInUrl=c.detectSessionInUrl,this.flowType=c.flowType,this.hasCustomAuthorizationHeader=c.hasCustomAuthorizationHeader,this.throwOnError=c.throwOnError,c.lock?this.lock=c.lock:this.persistSession&&qr()&&(!((s=globalThis==null?void 0:globalThis.navigator)===null||s===void 0)&&s.locks)?this.lock=Mw:this.lock=Iy,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new gP(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(c.storage?this.storage=c.storage:Rw()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Oy(this.memoryStorage)),c.userStorage&&(this.userStorage=c.userStorage)):(this.memoryStorage={},this.storage=Oy(this.memoryStorage)),qr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(u){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",u)}(l=this.broadcastChannel)===null||l===void 0||l.addEventListener("message",async u=>{this._debug("received broadcast notification from other tab or client",u),await this._notifyAllSubscribers(u.data.event,u.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Sw}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let r={},s="none";if(qr()&&(r=Tk(window.location.href),this._isImplicitGrantCallback(r)?s="implicit":await this._isPKCECallback(r)&&(s="pkce")),qr()&&this.detectSessionInUrl&&s!=="none"){const{data:l,error:c}=await this._getSessionFromURL(r,s);if(c){if(this._debug("#_initialize()","error detecting session from URL",c),Pw(c)){const m=(e=c.details)===null||e===void 0?void 0:e.code;if(m==="identity_already_exists"||m==="identity_not_found"||m==="single_identity_not_deletable")return{error:c}}return await this._removeSession(),{error:c}}const{session:u,redirectType:p}=l;return this._debug("#_initialize()","detected session in URL",u,"redirect type",p),await this._saveSession(u),setTimeout(async()=>{p==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",u):await this._notifyAllSubscribers("SIGNED_IN",u)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Qe(r)?this._returnResult({error:r}):this._returnResult({error:new Di("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,s,l;try{const c=await ot(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(l=e==null?void 0:e.options)===null||l===void 0?void 0:l.captchaToken}},xform:So}),{data:u,error:p}=c;if(p||!u)return this._returnResult({data:{user:null,session:null},error:p});const m=u.session,v=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",m)),this._returnResult({data:{user:v,session:m},error:null})}catch(c){if(Qe(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async signUp(e){var r,s,l;try{let c;if("email"in e){const{email:y,password:x,options:E}=e;let S=null,k=null;this.flowType==="pkce"&&([S,k]=await Kl(this.storage,this.storageKey)),c=await ot(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:E==null?void 0:E.emailRedirectTo,body:{email:y,password:x,data:(r=E==null?void 0:E.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:E==null?void 0:E.captchaToken},code_challenge:S,code_challenge_method:k},xform:So})}else if("phone"in e){const{phone:y,password:x,options:E}=e;c=await ot(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:y,password:x,data:(s=E==null?void 0:E.data)!==null&&s!==void 0?s:{},channel:(l=E==null?void 0:E.channel)!==null&&l!==void 0?l:"sms",gotrue_meta_security:{captcha_token:E==null?void 0:E.captchaToken}},xform:So})}else throw new Wd("You must provide either an email or phone number and a password");const{data:u,error:p}=c;if(p||!u)return await Ur(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:p});const m=u.session,v=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",m)),this._returnResult({data:{user:v,session:m},error:null})}catch(c){if(await Ur(this.storage,`${this.storageKey}-code-verifier`),Qe(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async signInWithPassword(e){try{let r;if("email"in e){const{email:c,password:u,options:p}=e;r=await ot(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:c,password:u,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:Ry})}else if("phone"in e){const{phone:c,password:u,options:p}=e;r=await ot(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:c,password:u,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:Ry})}else throw new Wd("You must provide either an email or phone number and a password");const{data:s,error:l}=r;if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!s||!s.session||!s.user){const c=new Ma;return this._returnResult({data:{user:null,session:null},error:c})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:l})}catch(r){if(Qe(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(e){var r,s,l,c;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(s=e.options)===null||s===void 0?void 0:s.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:(c=e.options)===null||c===void 0?void 0:c.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,s,l,c,u,p,m,v,y,x,E;let S,k;if("message"in e)S=e.message,k=e.signature;else{const{chain:N,wallet:P,statement:O,options:T}=e;let R;if(qr())if(typeof P=="object")R=P;else{const we=window;if("ethereum"in we&&typeof we.ethereum=="object"&&"request"in we.ethereum&&typeof we.ethereum.request=="function")R=we.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof P!="object"||!(T!=null&&T.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");R=P}const z=new URL((r=T==null?void 0:T.url)!==null&&r!==void 0?r:window.location.href),Y=await R.request({method:"eth_requestAccounts"}).then(we=>we).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!Y||Y.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const D=Lw(Y[0]);let J=(s=T==null?void 0:T.signInWithEthereum)===null||s===void 0?void 0:s.chainId;if(!J){const we=await R.request({method:"eth_chainId"});J=Xk(we)}const ne={domain:z.host,address:D,statement:O,uri:z.href,version:"1",chainId:J,nonce:(l=T==null?void 0:T.signInWithEthereum)===null||l===void 0?void 0:l.nonce,issuedAt:(u=(c=T==null?void 0:T.signInWithEthereum)===null||c===void 0?void 0:c.issuedAt)!==null&&u!==void 0?u:new Date,expirationTime:(p=T==null?void 0:T.signInWithEthereum)===null||p===void 0?void 0:p.expirationTime,notBefore:(m=T==null?void 0:T.signInWithEthereum)===null||m===void 0?void 0:m.notBefore,requestId:(v=T==null?void 0:T.signInWithEthereum)===null||v===void 0?void 0:v.requestId,resources:(y=T==null?void 0:T.signInWithEthereum)===null||y===void 0?void 0:y.resources};S=tP(ne),k=await R.request({method:"personal_sign",params:[eP(S),D]})}try{const{data:N,error:P}=await ot(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:S,signature:k},!((x=e.options)===null||x===void 0)&&x.captchaToken?{gotrue_meta_security:{captcha_token:(E=e.options)===null||E===void 0?void 0:E.captchaToken}}:null),xform:So});if(P)throw P;if(!N||!N.session||!N.user){const O=new Ma;return this._returnResult({data:{user:null,session:null},error:O})}return N.session&&(await this._saveSession(N.session),await this._notifyAllSubscribers("SIGNED_IN",N.session)),this._returnResult({data:Object.assign({},N),error:P})}catch(N){if(Qe(N))return this._returnResult({data:{user:null,session:null},error:N});throw N}}async signInWithSolana(e){var r,s,l,c,u,p,m,v,y,x,E,S;let k,N;if("message"in e)k=e.message,N=e.signature;else{const{chain:P,wallet:O,statement:T,options:R}=e;let z;if(qr())if(typeof O=="object")z=O;else{const D=window;if("solana"in D&&typeof D.solana=="object"&&("signIn"in D.solana&&typeof D.solana.signIn=="function"||"signMessage"in D.solana&&typeof D.solana.signMessage=="function"))z=D.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof O!="object"||!(R!=null&&R.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");z=O}const Y=new URL((r=R==null?void 0:R.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in z&&z.signIn){const D=await z.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},R==null?void 0:R.signInWithSolana),{version:"1",domain:Y.host,uri:Y.href}),T?{statement:T}:null));let J;if(Array.isArray(D)&&D[0]&&typeof D[0]=="object")J=D[0];else if(D&&typeof D=="object"&&"signedMessage"in D&&"signature"in D)J=D;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in J&&"signature"in J&&(typeof J.signedMessage=="string"||J.signedMessage instanceof Uint8Array)&&J.signature instanceof Uint8Array)k=typeof J.signedMessage=="string"?J.signedMessage:new TextDecoder().decode(J.signedMessage),N=J.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in z)||typeof z.signMessage!="function"||!("publicKey"in z)||typeof z!="object"||!z.publicKey||!("toBase58"in z.publicKey)||typeof z.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");k=[`${Y.host} wants you to sign in with your Solana account:`,z.publicKey.toBase58(),...T?["",T,""]:[""],"Version: 1",`URI: ${Y.href}`,`Issued At: ${(l=(s=R==null?void 0:R.signInWithSolana)===null||s===void 0?void 0:s.issuedAt)!==null&&l!==void 0?l:new Date().toISOString()}`,...!((c=R==null?void 0:R.signInWithSolana)===null||c===void 0)&&c.notBefore?[`Not Before: ${R.signInWithSolana.notBefore}`]:[],...!((u=R==null?void 0:R.signInWithSolana)===null||u===void 0)&&u.expirationTime?[`Expiration Time: ${R.signInWithSolana.expirationTime}`]:[],...!((p=R==null?void 0:R.signInWithSolana)===null||p===void 0)&&p.chainId?[`Chain ID: ${R.signInWithSolana.chainId}`]:[],...!((m=R==null?void 0:R.signInWithSolana)===null||m===void 0)&&m.nonce?[`Nonce: ${R.signInWithSolana.nonce}`]:[],...!((v=R==null?void 0:R.signInWithSolana)===null||v===void 0)&&v.requestId?[`Request ID: ${R.signInWithSolana.requestId}`]:[],...!((x=(y=R==null?void 0:R.signInWithSolana)===null||y===void 0?void 0:y.resources)===null||x===void 0)&&x.length?["Resources",...R.signInWithSolana.resources.map(J=>`- ${J}`)]:[]].join(`
`);const D=await z.signMessage(new TextEncoder().encode(k),"utf8");if(!D||!(D instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");N=D}}try{const{data:P,error:O}=await ot(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:k,signature:Fa(N)},!((E=e.options)===null||E===void 0)&&E.captchaToken?{gotrue_meta_security:{captcha_token:(S=e.options)===null||S===void 0?void 0:S.captchaToken}}:null),xform:So});if(O)throw O;if(!P||!P.session||!P.user){const T=new Ma;return this._returnResult({data:{user:null,session:null},error:T})}return P.session&&(await this._saveSession(P.session),await this._notifyAllSubscribers("SIGNED_IN",P.session)),this._returnResult({data:Object.assign({},P),error:O})}catch(P){if(Qe(P))return this._returnResult({data:{user:null,session:null},error:P});throw P}}async _exchangeCodeForSession(e){const r=await Aa(this.storage,`${this.storageKey}-code-verifier`),[s,l]=(r??"").split("/");try{const{data:c,error:u}=await ot(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:s},xform:So});if(await Ur(this.storage,`${this.storageKey}-code-verifier`),u)throw u;if(!c||!c.session||!c.user){const p=new Ma;return this._returnResult({data:{user:null,session:null,redirectType:null},error:p})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:Object.assign(Object.assign({},c),{redirectType:l??null}),error:u})}catch(c){if(await Ur(this.storage,`${this.storageKey}-code-verifier`),Qe(c))return this._returnResult({data:{user:null,session:null,redirectType:null},error:c});throw c}}async signInWithIdToken(e){try{const{options:r,provider:s,token:l,access_token:c,nonce:u}=e,p=await ot(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:l,access_token:c,nonce:u,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:So}),{data:m,error:v}=p;if(v)return this._returnResult({data:{user:null,session:null},error:v});if(!m||!m.session||!m.user){const y=new Ma;return this._returnResult({data:{user:null,session:null},error:y})}return m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),this._returnResult({data:m,error:v})}catch(r){if(Qe(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(e){var r,s,l,c,u;try{if("email"in e){const{email:p,options:m}=e;let v=null,y=null;this.flowType==="pkce"&&([v,y]=await Kl(this.storage,this.storageKey));const{error:x}=await ot(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:p,data:(r=m==null?void 0:m.data)!==null&&r!==void 0?r:{},create_user:(s=m==null?void 0:m.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:v,code_challenge_method:y},redirectTo:m==null?void 0:m.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:x})}if("phone"in e){const{phone:p,options:m}=e,{data:v,error:y}=await ot(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:p,data:(l=m==null?void 0:m.data)!==null&&l!==void 0?l:{},create_user:(c=m==null?void 0:m.shouldCreateUser)!==null&&c!==void 0?c:!0,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},channel:(u=m==null?void 0:m.channel)!==null&&u!==void 0?u:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:v==null?void 0:v.message_id},error:y})}throw new Wd("You must provide either an email or phone number.")}catch(p){if(await Ur(this.storage,`${this.storageKey}-code-verifier`),Qe(p))return this._returnResult({data:{user:null,session:null},error:p});throw p}}async verifyOtp(e){var r,s;try{let l,c;"options"in e&&(l=(r=e.options)===null||r===void 0?void 0:r.redirectTo,c=(s=e.options)===null||s===void 0?void 0:s.captchaToken);const{data:u,error:p}=await ot(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:c}}),redirectTo:l,xform:So});if(p)throw p;if(!u)throw new Error("An error occurred on token verification.");const m=u.session,v=u.user;return m!=null&&m.access_token&&(await this._saveSession(m),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",m)),this._returnResult({data:{user:v,session:m},error:null})}catch(l){if(Qe(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signInWithSSO(e){var r,s,l,c,u;try{let p=null,m=null;this.flowType==="pkce"&&([p,m]=await Kl(this.storage,this.storageKey));const v=await ot(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(s=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&s!==void 0?s:void 0}),!((l=e==null?void 0:e.options)===null||l===void 0)&&l.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:p,code_challenge_method:m}),headers:this.headers,xform:Gk});return!((c=v.data)===null||c===void 0)&&c.url&&qr()&&!(!((u=e.options)===null||u===void 0)&&u.skipBrowserRedirect)&&window.location.assign(v.data.url),this._returnResult(v)}catch(p){if(await Ur(this.storage,`${this.storageKey}-code-verifier`),Qe(p))return this._returnResult({data:null,error:p});throw p}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:s}=e;if(s)throw s;if(!r)throw new wn;const{error:l}=await ot(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:l})})}catch(e){if(Qe(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:s,type:l,options:c}=e,{error:u}=await ot(this.fetch,"POST",r,{headers:this.headers,body:{email:s,type:l,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},redirectTo:c==null?void 0:c.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:u})}else if("phone"in e){const{phone:s,type:l,options:c}=e,{data:u,error:p}=await ot(this.fetch,"POST",r,{headers:this.headers,body:{phone:s,type:l,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:p})}throw new Wd("You must provide either an email or phone number and a type")}catch(r){if(Qe(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),l=(async()=>(await s,await r()))();return this.pendingInLock.push((async()=>{try{await l}catch{}})()),l}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=r();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const l=[...this.pendingInLock];await Promise.all(l),this.pendingInLock.splice(0,l.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await Aa(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const s=e.expires_at?e.expires_at*1e3-Date.now()<Fp:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",e.expires_at),!s){if(this.userStorage){const u=await Aa(this.userStorage,this.storageKey+"-user");u!=null&&u.user?e.user=u.user:e.user=qp()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const u={value:this.suppressGetSessionWarning};e.user=qk(e.user,u),u.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:l,error:c}=await this._callRefreshToken(e.refresh_token);return c?this._returnResult({data:{session:null},error:c}):this._returnResult({data:{session:l},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const r=await this._acquireLock(-1,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(e){try{return e?await ot(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Bi}):await this._useSession(async r=>{var s,l,c;const{data:u,error:p}=r;if(p)throw p;return!(!((s=u.session)===null||s===void 0)&&s.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new wn}:await ot(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(c=(l=u.session)===null||l===void 0?void 0:l.access_token)!==null&&c!==void 0?c:void 0,xform:Bi})})}catch(r){if(Qe(r))return kw(r)&&(await this._removeSession(),await Ur(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async s=>{const{data:l,error:c}=s;if(c)throw c;if(!l.session)throw new wn;const u=l.session;let p=null,m=null;this.flowType==="pkce"&&e.email!=null&&([p,m]=await Kl(this.storage,this.storageKey));const{data:v,error:y}=await ot(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:p,code_challenge_method:m}),jwt:u.access_token,xform:Bi});if(y)throw y;return u.user=v.user,await this._saveSession(u),await this._notifyAllSubscribers("USER_UPDATED",u),this._returnResult({data:{user:u.user},error:null})})}catch(s){if(await Ur(this.storage,`${this.storageKey}-code-verifier`),Qe(s))return this._returnResult({data:{user:null},error:s});throw s}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new wn;const r=Date.now()/1e3;let s=r,l=!0,c=null;const{payload:u}=Up(e.access_token);if(u.exp&&(s=u.exp,l=s<=r),l){const{data:p,error:m}=await this._callRefreshToken(e.refresh_token);if(m)return this._returnResult({data:{user:null,session:null},error:m});if(!p)return{data:{user:null,session:null},error:null};c=p}else{const{data:p,error:m}=await this._getUser(e.access_token);if(m)throw m;c={access_token:e.access_token,refresh_token:e.refresh_token,user:p.user,token_type:"bearer",expires_in:s-r,expires_at:s},await this._saveSession(c),await this._notifyAllSubscribers("SIGNED_IN",c)}return this._returnResult({data:{user:c.user,session:c},error:null})}catch(r){if(Qe(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var s;if(!e){const{data:u,error:p}=r;if(p)throw p;e=(s=u.session)!==null&&s!==void 0?s:void 0}if(!(e!=null&&e.refresh_token))throw new wn;const{data:l,error:c}=await this._callRefreshToken(e.refresh_token);return c?this._returnResult({data:{user:null,session:null},error:c}):l?this._returnResult({data:{user:l.user,session:l},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(Qe(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(e,r){try{if(!qr())throw new Hd("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Hd(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Bg("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Hd("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Bg("No code detected.");const{data:T,error:R}=await this._exchangeCodeForSession(e.code);if(R)throw R;const z=new URL(window.location.href);return z.searchParams.delete("code"),window.history.replaceState(window.history.state,"",z.toString()),{data:{session:T.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:l,access_token:c,refresh_token:u,expires_in:p,expires_at:m,token_type:v}=e;if(!c||!p||!u||!v)throw new Hd("No session defined in URL");const y=Math.round(Date.now()/1e3),x=parseInt(p);let E=y+x;m&&(E=parseInt(m));const S=E-y;S*1e3<=rc&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${S}s, should have been closer to ${x}s`);const k=E-x;y-k>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",k,E,y):y-k<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",k,E,y);const{data:N,error:P}=await this._getUser(c);if(P)throw P;const O={provider_token:s,provider_refresh_token:l,access_token:c,expires_in:x,expires_at:E,refresh_token:u,token_type:v,user:N.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:O,redirectType:e.type},error:null})}catch(s){if(Qe(s))return this._returnResult({data:{session:null,redirectType:null},error:s});throw s}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await Aa(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var s;const{data:l,error:c}=r;if(c)return this._returnResult({error:c});const u=(s=l.session)===null||s===void 0?void 0:s.access_token;if(u){const{error:p}=await this.admin.signOut(u,e);if(p&&!(Cw(p)&&(p.status===404||p.status===401||p.status===403)))return this._returnResult({error:p})}return e!=="others"&&(await this._removeSession(),await Ur(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const r=Pk(),s={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,s),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:s}}}async _emitInitialSession(e){return await this._useSession(async r=>{var s,l;try{const{data:{session:c},error:u}=r;if(u)throw u;await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",c)),this._debug("INITIAL_SESSION","callback id",e,"session",c)}catch(c){await((l=this.stateChangeEmitters.get(e))===null||l===void 0?void 0:l.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",c),console.error(c)}})}async resetPasswordForEmail(e,r={}){let s=null,l=null;this.flowType==="pkce"&&([s,l]=await Kl(this.storage,this.storageKey,!0));try{return await ot(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:s,code_challenge_method:l,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(c){if(await Ur(this.storage,`${this.storageKey}-code-verifier`),Qe(c))return this._returnResult({data:null,error:c});throw c}}async getUserIdentities(){var e;try{const{data:r,error:s}=await this.getUser();if(s)throw s;return this._returnResult({data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(r){if(Qe(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var r;try{const{data:s,error:l}=await this._useSession(async c=>{var u,p,m,v,y;const{data:x,error:E}=c;if(E)throw E;const S=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(u=e.options)===null||u===void 0?void 0:u.redirectTo,scopes:(p=e.options)===null||p===void 0?void 0:p.scopes,queryParams:(m=e.options)===null||m===void 0?void 0:m.queryParams,skipBrowserRedirect:!0});return await ot(this.fetch,"GET",S,{headers:this.headers,jwt:(y=(v=x.session)===null||v===void 0?void 0:v.access_token)!==null&&y!==void 0?y:void 0})});if(l)throw l;return qr()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(s==null?void 0:s.url),this._returnResult({data:{provider:e.provider,url:s==null?void 0:s.url},error:null})}catch(s){if(Qe(s))return this._returnResult({data:{provider:e.provider,url:null},error:s});throw s}}async linkIdentityIdToken(e){return await this._useSession(async r=>{var s;try{const{error:l,data:{session:c}}=r;if(l)throw l;const{options:u,provider:p,token:m,access_token:v,nonce:y}=e,x=await ot(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(s=c==null?void 0:c.access_token)!==null&&s!==void 0?s:void 0,body:{provider:p,id_token:m,access_token:v,nonce:y,link_identity:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:So}),{data:E,error:S}=x;return S?this._returnResult({data:{user:null,session:null},error:S}):!E||!E.session||!E.user?this._returnResult({data:{user:null,session:null},error:new Ma}):(E.session&&(await this._saveSession(E.session),await this._notifyAllSubscribers("USER_UPDATED",E.session)),this._returnResult({data:E,error:S}))}catch(l){if(await Ur(this.storage,`${this.storageKey}-code-verifier`),Qe(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}})}async unlinkIdentity(e){try{return await this._useSession(async r=>{var s,l;const{data:c,error:u}=r;if(u)throw u;return await ot(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(l=(s=c.session)===null||s===void 0?void 0:s.access_token)!==null&&l!==void 0?l:void 0})})}catch(r){if(Qe(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const s=Date.now();return await Ok(async l=>(l>0&&await Ak(200*Math.pow(2,l-1)),this._debug(r,"refreshing attempt",l),await ot(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:So})),(l,c)=>{const u=200*Math.pow(2,l);return c&&cf(c)&&Date.now()+u-s<rc})}catch(s){if(this._debug(r,"error",s),Qe(s))return this._returnResult({data:{session:null,user:null},error:s});throw s}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const s=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",s),qr()&&!r.skipBrowserRedirect&&window.location.assign(s),{data:{provider:e,url:s},error:null}}async _recoverAndRefresh(){var e,r;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const l=await Aa(this.storage,this.storageKey);if(l&&this.userStorage){let u=await Aa(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!u&&(u={user:l.user},await nc(this.userStorage,this.storageKey+"-user",u)),l.user=(e=u==null?void 0:u.user)!==null&&e!==void 0?e:qp()}else if(l&&!l.user&&!l.user){const u=await Aa(this.storage,this.storageKey+"-user");u&&(u!=null&&u.user)?(l.user=u.user,await Ur(this.storage,this.storageKey+"-user"),await nc(this.storage,this.storageKey,l)):l.user=qp()}if(this._debug(s,"session from storage",l),!this._isValidSession(l)){this._debug(s,"session is not valid"),l!==null&&await this._removeSession();return}const c=((r=l.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Fp;if(this._debug(s,`session has${c?"":" not"} expired with margin of ${Fp}s`),c){if(this.autoRefreshToken&&l.refresh_token){const{error:u}=await this._callRefreshToken(l.refresh_token);u&&(console.error(u),cf(u)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",u),await this._removeSession()))}}else if(l.user&&l.user.__isUserNotAvailableProxy===!0)try{const{data:u,error:p}=await this._getUser(l.access_token);!p&&(u!=null&&u.user)?(l.user=u.user,await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)):this._debug(s,"could not get user data, skipping SIGNED_IN notification")}catch(u){console.error("Error getting user data:",u),this._debug(s,"error getting user data, skipping SIGNED_IN notification",u)}else await this._notifyAllSubscribers("SIGNED_IN",l)}catch(l){this._debug(s,"error",l),console.error(l);return}finally{this._debug(s,"end")}}async _callRefreshToken(e){var r,s;if(!e)throw new wn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const l=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(l,"begin");try{this.refreshingDeferred=new $f;const{data:c,error:u}=await this._refreshAccessToken(e);if(u)throw u;if(!c.session)throw new wn;await this._saveSession(c.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",c.session);const p={data:c.session,error:null};return this.refreshingDeferred.resolve(p),p}catch(c){if(this._debug(l,"error",c),Qe(c)){const u={data:null,error:c};return cf(c)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(u),u}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(c),c}finally{this.refreshingDeferred=null,this._debug(l,"end")}}async _notifyAllSubscribers(e,r,s=!0){const l=`#_notifyAllSubscribers(${e})`;this._debug(l,"begin",r,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:e,session:r});const c=[],u=Array.from(this.stateChangeEmitters.values()).map(async p=>{try{await p.callback(e,r)}catch(m){c.push(m)}});if(await Promise.all(u),c.length>0){for(let p=0;p<c.length;p+=1)console.error(c[p]);throw c[0]}}finally{this._debug(l,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await Ur(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},e),s=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!s&&r.user&&await nc(this.userStorage,this.storageKey+"-user",{user:r.user});const l=Object.assign({},r);delete l.user;const c=Py(l);await nc(this.storage,this.storageKey,c)}else{const l=Py(r);await nc(this.storage,this.storageKey,l)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Ur(this.storage,this.storageKey),await Ur(this.storage,this.storageKey+"-code-verifier"),await Ur(this.storage,this.storageKey+"-user"),this.userStorage&&await Ur(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&qr()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),rc);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:s}}=r;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const l=Math.floor((s.expires_at*1e3-e)/rc);this._debug("#_autoRefreshTokenTick()",`access token expires in ${l} ticks, a tick lasts ${rc}ms, refresh threshold is ${Ig} ticks`),l<=Ig&&await this._callRefreshToken(s.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof jv)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!qr()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,s){const l=[`provider=${encodeURIComponent(r)}`];if(s!=null&&s.redirectTo&&l.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s!=null&&s.scopes&&l.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const[c,u]=await Kl(this.storage,this.storageKey),p=new URLSearchParams({code_challenge:`${encodeURIComponent(c)}`,code_challenge_method:`${encodeURIComponent(u)}`});l.push(p.toString())}if(s!=null&&s.queryParams){const c=new URLSearchParams(s.queryParams);l.push(c.toString())}return s!=null&&s.skipBrowserRedirect&&l.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${e}?${l.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var s;const{data:l,error:c}=r;return c?this._returnResult({data:null,error:c}):await ot(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(s=l==null?void 0:l.session)===null||s===void 0?void 0:s.access_token})})}catch(r){if(Qe(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(e){try{return await this._useSession(async r=>{var s,l;const{data:c,error:u}=r;if(u)return this._returnResult({data:null,error:u});const p=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:m,error:v}=await ot(this.fetch,"POST",`${this.url}/factors`,{body:p,headers:this.headers,jwt:(s=c==null?void 0:c.session)===null||s===void 0?void 0:s.access_token});return v?this._returnResult({data:null,error:v}):(e.factorType==="totp"&&m.type==="totp"&&(!((l=m==null?void 0:m.totp)===null||l===void 0)&&l.qr_code)&&(m.totp.qr_code=`data:image/svg+xml;utf-8,${m.totp.qr_code}`),this._returnResult({data:m,error:null}))})}catch(r){if(Qe(r))return this._returnResult({data:null,error:r});throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var s;const{data:l,error:c}=r;if(c)return this._returnResult({data:null,error:c});const u=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?lP(e.webauthn.credential_response):cP(e.webauthn.credential_response)})}:{code:e.code}),{data:p,error:m}=await ot(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:u,headers:this.headers,jwt:(s=l==null?void 0:l.session)===null||s===void 0?void 0:s.access_token});return m?this._returnResult({data:null,error:m}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+p.expires_in},p)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",p),this._returnResult({data:p,error:m}))})}catch(r){if(Qe(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var s;const{data:l,error:c}=r;if(c)return this._returnResult({data:null,error:c});const u=await ot(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(s=l==null?void 0:l.session)===null||s===void 0?void 0:s.access_token});if(u.error)return u;const{data:p}=u;if(p.type!=="webauthn")return{data:p,error:null};switch(p.webauthn.type){case"create":return{data:Object.assign(Object.assign({},p),{webauthn:Object.assign(Object.assign({},p.webauthn),{credential_options:Object.assign(Object.assign({},p.webauthn.credential_options),{publicKey:iP(p.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},p),{webauthn:Object.assign(Object.assign({},p.webauthn),{credential_options:Object.assign(Object.assign({},p.webauthn.credential_options),{publicKey:aP(p.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(Qe(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(e){const{data:r,error:s}=await this._challenge({factorId:e.factorId});return s?this._returnResult({data:null,error:s}):await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){var e;const{data:{user:r},error:s}=await this.getUser();if(s)return{data:null,error:s};const l={all:[],phone:[],totp:[],webauthn:[]};for(const c of(e=r==null?void 0:r.factors)!==null&&e!==void 0?e:[])l.all.push(c),c.status==="verified"&&l[c.factor_type].push(c);return{data:l,error:null}}async _getAuthenticatorAssuranceLevel(){var e,r;const{data:{session:s},error:l}=await this.getSession();if(l)return this._returnResult({data:null,error:l});if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:c}=Up(s.access_token);let u=null;c.aal&&(u=c.aal);let p=u;((r=(e=s.user.factors)===null||e===void 0?void 0:e.filter(y=>y.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(p="aal2");const v=c.amr||[];return{data:{currentLevel:u,nextLevel:p,currentAuthenticationMethods:v},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async r=>{const{data:{session:s},error:l}=r;return l?this._returnResult({data:null,error:l}):s?await ot(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:s.access_token,xform:c=>({data:c,error:null})}):this._returnResult({data:null,error:new wn})})}catch(r){if(Qe(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(e,r){try{return await this._useSession(async s=>{const{data:{session:l},error:c}=s;if(c)return this._returnResult({data:null,error:c});if(!l)return this._returnResult({data:null,error:new wn});const u=await ot(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:l.access_token,body:{action:"approve"},xform:p=>({data:p,error:null})});return u.data&&u.data.redirect_url&&qr()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(u.data.redirect_url),u})}catch(s){if(Qe(s))return this._returnResult({data:null,error:s});throw s}}async _denyAuthorization(e,r){try{return await this._useSession(async s=>{const{data:{session:l},error:c}=s;if(c)return this._returnResult({data:null,error:c});if(!l)return this._returnResult({data:null,error:new wn});const u=await ot(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:l.access_token,body:{action:"deny"},xform:p=>({data:p,error:null})});return u.data&&u.data.redirect_url&&qr()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(u.data.redirect_url),u})}catch(s){if(Qe(s))return this._returnResult({data:null,error:s});throw s}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:r},error:s}=e;return s?this._returnResult({data:null,error:s}):r?await ot(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:l=>({data:l,error:null})}):this._returnResult({data:null,error:new wn})})}catch(e){if(Qe(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async r=>{const{data:{session:s},error:l}=r;return l?this._returnResult({data:null,error:l}):s?(await ot(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:s.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new wn})})}catch(r){if(Qe(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(e,r={keys:[]}){let s=r.keys.find(p=>p.kid===e);if(s)return s;const l=Date.now();if(s=this.jwks.keys.find(p=>p.kid===e),s&&this.jwks_cached_at+_k>l)return s;const{data:c,error:u}=await ot(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(u)throw u;return!c.keys||c.keys.length===0||(this.jwks=c,this.jwks_cached_at=l,s=c.keys.find(p=>p.kid===e),!s)?null:s}async getClaims(e,r={}){try{let s=e;if(!s){const{data:S,error:k}=await this.getSession();if(k||!S.session)return this._returnResult({data:null,error:k});s=S.session.access_token}const{header:l,payload:c,signature:u,raw:{header:p,payload:m}}=Up(s);r!=null&&r.allowExpired||$k(c.exp);const v=!l.alg||l.alg.startsWith("HS")||!l.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(l.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!v){const{error:S}=await this.getUser(s);if(S)throw S;return{data:{claims:c,header:l,signature:u},error:null}}const y=Fk(l.alg),x=await crypto.subtle.importKey("jwk",v,y,!0,["verify"]);if(!await crypto.subtle.verify(y,x,u,Ck(`${p}.${m}`)))throw new wf("Invalid JWT signature");return{data:{claims:c,header:l,signature:u},error:null}}catch(s){if(Qe(s))return this._returnResult({data:null,error:s});throw s}}};Sv.nextInstanceID={};const xP=wv,yP=Sv,bP=Object.freeze(Object.defineProperty({__proto__:null,AuthAdminApi:xP,AuthApiError:Nw,AuthClient:yP,AuthError:Sc,AuthImplicitGrantRedirectError:Hd,AuthInvalidCredentialsError:Wd,AuthInvalidJwtError:wf,AuthInvalidTokenResponseError:Ma,AuthPKCEGrantCodeExchangeError:Bg,AuthRetryableFetchError:_f,AuthSessionMissingError:wn,AuthUnknownError:Di,AuthWeakPasswordError:zg,CustomAuthError:Ys,GoTrueAdminApi:wv,GoTrueClient:Sv,NavigatorLockAcquireTimeoutError:Ow,SIGN_OUT_SCOPES:df,isAuthApiError:Cw,isAuthError:Qe,isAuthImplicitGrantRedirectError:Pw,isAuthRetryableFetchError:cf,isAuthSessionMissingError:kw,isAuthWeakPasswordError:wk,lockInternals:Ia,navigatorLock:Mw,processLock:Jk},Symbol.toStringTag,{value:"Module"})),Dw=uu(bP);var Dy;function _P(){if(Dy)return Dd;Dy=1,Object.defineProperty(Dd,"__esModule",{value:!0}),Dd.SupabaseAuthClient=void 0;const t=Dw;let e=class extends t.AuthClient{constructor(s){super(s)}};return Dd.SupabaseAuthClient=e,Dd}var By;function zy(){if(By)return Bh;By=1,Object.defineProperty(Bh,"__esModule",{value:!0});const t=Q_,e=rw(),r=dw,s=hk,l=mk(),c=pk(),u=gk(),p=_P();class m{constructor(y,x,E){var S,k,N;this.supabaseUrl=y,this.supabaseKey=x;const P=(0,u.validateSupabaseUrl)(y);if(!x)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",P),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",P),this.storageUrl=new URL("storage/v1",P),this.functionsUrl=new URL("functions/v1",P);const O=`sb-${P.hostname.split(".")[0]}-auth-token`,T={db:l.DEFAULT_DB_OPTIONS,realtime:l.DEFAULT_REALTIME_OPTIONS,auth:Object.assign(Object.assign({},l.DEFAULT_AUTH_OPTIONS),{storageKey:O}),global:l.DEFAULT_GLOBAL_OPTIONS},R=(0,u.applySettingDefaults)(E??{},T);this.storageKey=(S=R.auth.storageKey)!==null&&S!==void 0?S:"",this.headers=(k=R.global.headers)!==null&&k!==void 0?k:{},R.accessToken?(this.accessToken=R.accessToken,this.auth=new Proxy({},{get:(z,Y)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(Y)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((N=R.auth)!==null&&N!==void 0?N:{},this.headers,R.global.fetch),this.fetch=(0,c.fetchWithAuth)(x,this._getAccessToken.bind(this),R.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},R.realtime)),this.accessToken&&this.accessToken().then(z=>this.realtime.setAuth(z)).catch(z=>console.warn("Failed to set initial Realtime auth token:",z)),this.rest=new e.PostgrestClient(new URL("rest/v1",P).href,{headers:this.headers,schema:R.db.schema,fetch:this.fetch}),this.storage=new s.StorageClient(this.storageUrl.href,this.headers,this.fetch,E==null?void 0:E.storage),R.accessToken||this._listenForAuthEvents()}get functions(){return new t.FunctionsClient(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(y){return this.rest.from(y)}schema(y){return this.rest.schema(y)}rpc(y,x={},E={head:!1,get:!1,count:void 0}){return this.rest.rpc(y,x,E)}channel(y,x={config:{}}){return this.realtime.channel(y,x)}getChannels(){return this.realtime.getChannels()}removeChannel(y){return this.realtime.removeChannel(y)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var y,x;if(this.accessToken)return await this.accessToken();const{data:E}=await this.auth.getSession();return(x=(y=E.session)===null||y===void 0?void 0:y.access_token)!==null&&x!==void 0?x:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:y,persistSession:x,detectSessionInUrl:E,storage:S,userStorage:k,storageKey:N,flowType:P,lock:O,debug:T,throwOnError:R},z,Y){const D={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new p.SupabaseAuthClient({url:this.authUrl.href,headers:Object.assign(Object.assign({},D),z),storageKey:N,autoRefreshToken:y,persistSession:x,detectSessionInUrl:E,storage:S,userStorage:k,flowType:P,lock:O,debug:T,throwOnError:R,fetch:Y,hasCustomAuthorizationHeader:Object.keys(this.headers).some(J=>J.toLowerCase()==="authorization")})}_initRealtimeClient(y){return new r.RealtimeClient(this.realtimeUrl.href,Object.assign(Object.assign({},y),{params:Object.assign({apikey:this.supabaseKey},y==null?void 0:y.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((x,E)=>{this._handleTokenChanged(x,"CLIENT",E==null?void 0:E.access_token)})}_handleTokenChanged(y,x,E){(y==="TOKEN_REFRESHED"||y==="SIGNED_IN")&&this.changedAccessToken!==E?(this.changedAccessToken=E,this.realtime.setAuth(E)):y==="SIGNED_OUT"&&(this.realtime.setAuth(),x=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}return Bh.default=m,Bh}var $y;function wP(){return $y||($y=1,(function(t){var e=Ls&&Ls.__createBinding||(Object.create?(function(y,x,E,S){S===void 0&&(S=E);var k=Object.getOwnPropertyDescriptor(x,E);(!k||("get"in k?!x.__esModule:k.writable||k.configurable))&&(k={enumerable:!0,get:function(){return x[E]}}),Object.defineProperty(y,S,k)}):(function(y,x,E,S){S===void 0&&(S=E),y[S]=x[E]})),r=Ls&&Ls.__exportStar||function(y,x){for(var E in y)E!=="default"&&!Object.prototype.hasOwnProperty.call(x,E)&&e(x,y,E)},s=Ls&&Ls.__importDefault||function(y){return y&&y.__esModule?y:{default:y}};Object.defineProperty(t,"__esModule",{value:!0}),t.createClient=t.SupabaseClient=t.FunctionRegion=t.FunctionsError=t.FunctionsRelayError=t.FunctionsFetchError=t.FunctionsHttpError=t.PostgrestError=void 0;const l=s(zy());r(Dw,t);var c=rw();Object.defineProperty(t,"PostgrestError",{enumerable:!0,get:function(){return c.PostgrestError}});var u=Q_;Object.defineProperty(t,"FunctionsHttpError",{enumerable:!0,get:function(){return u.FunctionsHttpError}}),Object.defineProperty(t,"FunctionsFetchError",{enumerable:!0,get:function(){return u.FunctionsFetchError}}),Object.defineProperty(t,"FunctionsRelayError",{enumerable:!0,get:function(){return u.FunctionsRelayError}}),Object.defineProperty(t,"FunctionsError",{enumerable:!0,get:function(){return u.FunctionsError}}),Object.defineProperty(t,"FunctionRegion",{enumerable:!0,get:function(){return u.FunctionRegion}}),r(dw,t);var p=zy();Object.defineProperty(t,"SupabaseClient",{enumerable:!0,get:function(){return s(p).default}});const m=(y,x,E)=>new l.default(y,x,E);t.createClient=m;function v(){if(typeof window<"u"||typeof process>"u")return!1;const y=process.version;if(y==null)return!1;const x=y.match(/^v(\d+)\./);return x?parseInt(x[1],10)<=18:!1}v()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217")})(Ls)),Ls}var Bw=wP();const zw=du(Bw),jP=Kb({__proto__:null,default:zw},[Bw]),{PostgrestError:c3,FunctionsHttpError:d3,FunctionsFetchError:u3,FunctionsRelayError:h3,FunctionsError:f3,FunctionRegion:m3,SupabaseClient:p3,createClient:SP,GoTrueAdminApi:g3,GoTrueClient:v3,AuthAdminApi:x3,AuthClient:y3,navigatorLock:b3,NavigatorLockAcquireTimeoutError:_3,lockInternals:w3,processLock:j3,SIGN_OUT_SCOPES:S3,AuthError:E3,AuthApiError:N3,AuthUnknownError:C3,CustomAuthError:k3,AuthSessionMissingError:P3,AuthInvalidTokenResponseError:T3,AuthInvalidCredentialsError:R3,AuthImplicitGrantRedirectError:A3,AuthPKCEGrantCodeExchangeError:O3,AuthRetryableFetchError:M3,AuthWeakPasswordError:L3,AuthInvalidJwtError:I3,isAuthError:D3,isAuthApiError:B3,isAuthSessionMissingError:z3,isAuthImplicitGrantRedirectError:$3,isAuthRetryableFetchError:F3,isAuthWeakPasswordError:U3,RealtimePresence:q3,RealtimeChannel:W3,RealtimeClient:H3,REALTIME_LISTEN_TYPES:V3,REALTIME_POSTGRES_CHANGES_LISTEN_EVENT:G3,REALTIME_PRESENCE_LISTEN_EVENTS:K3,REALTIME_SUBSCRIBE_STATES:Z3,REALTIME_CHANNEL_STATES:Q3}=zw||jP,EP="https://ccnbkympqhtgfotrmguz.supabase.co",NP="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImNjbmJreW1wcWh0Z2ZvdHJtZ3V6Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjU1NzAxNzcsImV4cCI6MjA4MTE0NjE3N30.2uhxv75YfnO_eqsCR_-r2v78S-fe_sWAYp6vKOUrWm0",Le=SP(EP,NP),$w=w.createContext(),CP=({children:t})=>{const[e,r]=w.useState(null),[s,l]=w.useState(!0),[c,u]=w.useState(null);w.useEffect(()=>{p()},[]);const p=async()=>{try{const y=localStorage.getItem("formedica_user"),x=localStorage.getItem("formedica_user_type");y&&(r(JSON.parse(y)),u(x))}catch(y){console.error("Erro ao verificar usurio:",y)}finally{l(!1)}},m=async(y,x)=>{try{const{data:E,error:S}=await Le.from("dispositivos").select("*").eq("usuario",y).eq("senha",x).limit(1);if(S)return console.error("Erro ao buscar usurio:",S),{success:!1,error:"Erro ao conectar"};if(!E||E.length===0)return{success:!1,error:"Usurio ou senha invlidos"};const k=E[0];if(k.status!=="Autorizado")return{success:!1,error:"Usurio aguardando autorizao. Entre em contato com o administrador."};const N={id:k.id,usuario:k.usuario,nome:k.nome,tipo_usuario:k.tipo_usuario,nome_motoboy:k.nome_motoboy,nome_atendente:k.nome_atendente};return r(N),localStorage.setItem("formedica_user",JSON.stringify(N)),u(k.tipo_usuario||"atendente"),localStorage.setItem("formedica_user_type",k.tipo_usuario||"atendente"),await Le.from("dispositivos").update({ultimo_acesso:new Date().toISOString()}).eq("id",k.id),{success:!0}}catch(E){return console.error("Erro no login:",E),{success:!1,error:E.message}}},v=()=>{r(null),u(null),localStorage.removeItem("formedica_user"),localStorage.removeItem("formedica_user_type")};return n.jsx($w.Provider,{value:{user:e,userType:c,loading:s,login:m,logout:v},children:t})},al=()=>{const t=w.useContext($w);if(!t)throw new Error("useAuth deve ser usado dentro de AuthProvider");return t},ae={colors:{primary:"#457bba",secondary:"#890d5d",danger:"#ef4444",background:"#f8fafc",text:"#1e293b",textLight:"#64748b",border:"#e2e8f0"}},kP={entregas:()=>n.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[n.jsx("path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"}),n.jsx("polyline",{points:"3.27 6.96 12 12.01 20.73 6.96"}),n.jsx("line",{x1:"12",y1:"22.08",x2:"12",y2:"12"})]}),aviao:()=>n.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:n.jsx("path",{d:"M21 16v-2l-8-5V3.5a1.5 1.5 0 0 0-3 0V9l-8 5v2l8-2.5V19l-2 1.5V22l3.5-1 3.5 1v-1.5L13 19v-5.5l8 2.5z"})}),adicionar:()=>n.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[n.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),n.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),usuarios:()=>n.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[n.jsx("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),n.jsx("circle",{cx:"9",cy:"7",r:"4"}),n.jsx("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),n.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]}),historico:()=>n.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[n.jsx("circle",{cx:"12",cy:"12",r:"10"}),n.jsx("polyline",{points:"12 6 12 12 16 14"})]}),grafico:()=>n.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[n.jsx("line",{x1:"18",y1:"20",x2:"18",y2:"10"}),n.jsx("line",{x1:"12",y1:"20",x2:"12",y2:"4"}),n.jsx("line",{x1:"6",y1:"20",x2:"6",y2:"14"})]}),documento:()=>n.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[n.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),n.jsx("polyline",{points:"14 2 14 8 20 8"}),n.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),n.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),n.jsx("polyline",{points:"10 9 9 9 8 9"})]}),dinheiro:()=>n.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[n.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),n.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),calendario:()=>n.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[n.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),n.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),n.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),n.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]}),moto:()=>n.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[n.jsx("circle",{cx:"5",cy:"18",r:"3"}),n.jsx("circle",{cx:"19",cy:"18",r:"3"}),n.jsx("path",{d:"M5.59 13.51l2.53-2.53L10 13v5l-.47-.53L7 15 5.59 13.51z"}),n.jsx("path",{d:"M12 13v5l2-2 2.5 2.5 1-1L15 15"}),n.jsx("path",{d:"M16 8h2l2 5"})]}),celular:()=>n.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[n.jsx("rect",{x:"5",y:"2",width:"14",height:"20",rx:"2",ry:"2"}),n.jsx("line",{x1:"12",y1:"18",x2:"12.01",y2:"18"})]})};function PP({children:t}){var y;const{user:e,userType:r,logout:s}=al(),l=Sr(),c=zo(),[u,p]=w.useState(!1),m={admin:[{icon:"entregas",label:"Entregas Moto",path:"/"},{icon:"aviao",label:"Sedex/Disktenha",path:"/sedex"},{icon:"adicionar",label:"Novo Romaneio",path:"/novo-romaneio"},{icon:"usuarios",label:"Clientes",path:"/clientes"},{icon:"grafico",label:"Relatrios",path:"/relatorios"},{icon:"documento",label:"Receitas",path:"/receitas"},{icon:"dinheiro",label:"Pagamentos",path:"/pagamentos"},{icon:"calendario",label:"Planilha Diria",path:"/planilha-diaria"},{icon:"moto",label:"Painel dos Motoboys",path:"/painel-motoboys"},{icon:"celular",label:"Dispositivos",path:"/dispositivos"}],atendente:[{icon:"entregas",label:"Entregas Moto",path:"/"},{icon:"aviao",label:"Sedex/Disktenha",path:"/sedex"},{icon:"adicionar",label:"Novo Romaneio",path:"/novo-romaneio"},{icon:"usuarios",label:"Clientes",path:"/clientes"},{icon:"grafico",label:"Relatrios",path:"/relatorios"},{icon:"dinheiro",label:"Pagamentos",path:"/pagamentos"}],motoboy:[{icon:"moto",label:"Minhas Entregas",path:"/painel-motoboys"}]},v=m[r]||m.admin;return n.jsxs("div",{style:{display:"flex",minHeight:"100vh",background:ae.colors.background},children:[n.jsx("style",{children:`
        @media print {
          .no-print {
            display: none !important;
          }
        }
      `}),n.jsxs("div",{className:"no-print",style:{width:u?"200px":"64px",background:"white",borderRight:`1px solid ${ae.colors.border}`,display:"flex",flexDirection:"column",transition:"width 0.3s ease",position:"sticky",top:0,height:"100vh",overflowY:"auto",flexShrink:0},children:[n.jsxs("div",{style:{padding:"2rem 1rem",borderBottom:`1px solid ${ae.colors.border}`,display:"flex",alignItems:"center",justifyContent:u?"flex-start":"center",gap:"0.75rem",height:"132px",boxSizing:"border-box"},children:[n.jsx("div",{style:{width:"36px",height:"36px",background:ae.colors.primary,borderRadius:"0.375rem",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontWeight:"bold",fontSize:"1.125rem",flexShrink:0},children:"F"}),u&&n.jsxs("div",{style:{overflow:"hidden",transition:"opacity 0.3s ease",flex:1},children:[n.jsx("h2",{style:{fontSize:"1rem",fontWeight:"600",color:ae.colors.text,margin:0,lineHeight:1.2,whiteSpace:"nowrap"},children:"Formdica"}),n.jsx("p",{style:{fontSize:"0.75rem",color:ae.colors.textLight,margin:0,lineHeight:1.2,whiteSpace:"nowrap"},children:"Entregas"})]})]}),n.jsx("div",{style:{padding:"0.75rem 1rem",borderBottom:`1px solid ${ae.colors.border}`},children:n.jsx("button",{onClick:()=>p(!u),style:{padding:"0.5rem",background:"transparent",border:`1px solid ${ae.colors.border}`,cursor:"pointer",color:ae.colors.primary,display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"0.375rem",transition:"background 0.15s",width:"100%"},onMouseEnter:x=>x.currentTarget.style.background="#f0f0f0",onMouseLeave:x=>x.currentTarget.style.background="transparent",title:u?"Recolher menu":"Expandir menu",children:n.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:u?n.jsx("path",{d:"M11 19l-7-7 7-7m8 14l-7-7 7-7"}):n.jsx("path",{d:"M13 5l7 7-7 7M5 5l7 7-7 7"})})})}),n.jsxs("nav",{style:{flex:1,padding:"0.5rem 0",overflowY:"auto"},children:[u&&n.jsx("p",{style:{padding:"0.5rem 1rem",fontSize:"0.6875rem",fontWeight:"600",color:ae.colors.textLight,textTransform:"uppercase",letterSpacing:"0.05em",marginBottom:"0.25rem"},children:"Menu Principal"}),v.map(x=>{const E=c.pathname===x.path,S=kP[x.icon];return n.jsxs("button",{onClick:()=>l(x.path),title:u?"":x.label,style:{width:"100%",padding:u?"0.625rem 1rem":"0.625rem 0",display:"flex",alignItems:"center",justifyContent:u?"flex-start":"center",gap:"0.75rem",border:"none",background:E?`${ae.colors.primary}10`:"transparent",color:E?ae.colors.primary:ae.colors.text,cursor:"pointer",transition:"all 0.15s",fontSize:"0.875rem",fontWeight:E?"500":"400",borderLeft:E?`3px solid ${ae.colors.primary}`:"3px solid transparent",textAlign:"left",position:"relative"},onMouseEnter:k=>{E||(k.currentTarget.style.background="#f8fafc")},onMouseLeave:k=>{E||(k.currentTarget.style.background="transparent")},children:[n.jsx("span",{style:{display:"flex",alignItems:"center",flexShrink:0},children:S&&n.jsx(S,{})}),u&&n.jsx("span",{style:{flex:1,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:x.label})]},x.path)})]}),n.jsxs("div",{style:{padding:"1rem",borderTop:`1px solid ${ae.colors.border}`},children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:u?"flex-start":"center",gap:"0.75rem",marginBottom:"0.75rem"},children:[n.jsx("div",{style:{width:"36px",height:"36px",background:ae.colors.secondary,borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontWeight:"600",fontSize:"0.875rem",flexShrink:0},title:u?"":(e==null?void 0:e.nome)||"Usurio",children:((y=e==null?void 0:e.nome)==null?void 0:y.charAt(0))||"U"}),u&&n.jsxs("div",{style:{flex:1,minWidth:0},children:[n.jsx("p",{style:{margin:0,fontSize:"0.8125rem",fontWeight:"500",color:ae.colors.text,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:(e==null?void 0:e.nome)||"Usurio"}),n.jsx("p",{style:{margin:0,fontSize:"0.6875rem",color:ae.colors.textLight,textTransform:"capitalize"},children:r})]})]}),n.jsxs("button",{onClick:s,title:u?"":"Sair",style:{width:"100%",padding:"0.5rem",background:"transparent",border:`1px solid ${ae.colors.border}`,borderRadius:"0.375rem",color:ae.colors.text,cursor:"pointer",fontSize:"0.8125rem",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",fontWeight:"500"},children:[n.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[n.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),n.jsx("polyline",{points:"16 17 21 12 16 7"}),n.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),u&&n.jsx("span",{children:"Sair"})]})]})]}),n.jsx("div",{style:{flex:1,overflowY:"auto"},children:t})]})}class TP extends Te.Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(e){var r,s;return(r=e==null?void 0:e.message)!=null&&r.includes("removeChild")||(s=e==null?void 0:e.message)!=null&&s.includes("The node to be removed is not a child")?(console.warn(" [ErrorBoundary] Erro de removeChild capturado e ignorado:",e.message),{hasError:!1}):(console.error(" [ErrorBoundary] Erro capturado:",e),{hasError:!1})}componentDidCatch(e,r){var s,l;!((s=e==null?void 0:e.message)!=null&&s.includes("removeChild"))&&!((l=e==null?void 0:e.message)!=null&&l.includes("The node to be removed is not a child"))&&console.error(" [ErrorBoundary] Detalhes:",e,r)}render(){return this.props.children}}function RP(){const[t,e]=w.useState(""),[r,s]=w.useState(""),[l,c]=w.useState(""),[u,p]=w.useState(!1),{login:m}=al(),v=Sr(),y=async x=>{x.preventDefault(),c(""),p(!0);const E=await m(t,r);E.success?v("/"):c(E.error||"Email ou senha invlidos"),p(!1)};return n.jsx("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:`linear-gradient(135deg, ${ae.colors.primary} 0%, ${ae.colors.secondary} 100%)`},children:n.jsxs("div",{style:{background:"white",padding:"2rem",borderRadius:"1rem",boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1)",width:"100%",maxWidth:"400px"},children:[n.jsxs("div",{style:{textAlign:"center",marginBottom:"2rem"},children:[n.jsx("h1",{style:{fontSize:"1.875rem",fontWeight:"bold",color:ae.colors.primary,marginBottom:"0.5rem"},children:"Formdica Entregas"}),n.jsx("p",{style:{color:ae.colors.textLight},children:"Entre com suas credenciais"})]}),n.jsxs("form",{onSubmit:y,children:[l&&n.jsx("div",{style:{background:"#fee2e2",color:"#991b1b",padding:"0.75rem",borderRadius:"0.5rem",marginBottom:"1rem",fontSize:"0.875rem"},children:l}),n.jsxs("div",{style:{marginBottom:"1rem"},children:[n.jsx("label",{style:{display:"block",marginBottom:"0.5rem",color:ae.colors.text,fontWeight:"500"},children:"Usurio"}),n.jsx("input",{type:"text",value:t,onChange:x=>e(x.target.value),placeholder:"Digite seu usurio",required:!0,style:{width:"100%",padding:"0.75rem",border:`1px solid ${ae.colors.border}`,borderRadius:"0.5rem",fontSize:"1rem"}})]}),n.jsxs("div",{style:{marginBottom:"1.5rem"},children:[n.jsx("label",{style:{display:"block",marginBottom:"0.5rem",color:ae.colors.text,fontWeight:"500"},children:"Senha"}),n.jsx("input",{type:"password",value:r,onChange:x=>s(x.target.value),placeholder:"Digite sua senha",required:!0,style:{width:"100%",padding:"0.75rem",border:`1px solid ${ae.colors.border}`,borderRadius:"0.5rem",fontSize:"1rem"}})]}),n.jsx("button",{type:"submit",disabled:u,style:{width:"100%",padding:"0.75rem",background:ae.colors.primary,color:"white",border:"none",borderRadius:"0.5rem",fontSize:"1rem",fontWeight:"600",cursor:u?"not-allowed":"pointer",opacity:u?.7:1},children:u?"Entrando...":"Entrar"})]})]})})}function zt(t,e,{checkForDefaultPrevented:r=!0}={}){return function(l){if(t==null||t(l),r===!1||!l.defaultPrevented)return e==null?void 0:e(l)}}function Fy(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Fw(...t){return e=>{let r=!1;const s=t.map(l=>{const c=Fy(l,e);return!r&&typeof c=="function"&&(r=!0),c});if(r)return()=>{for(let l=0;l<s.length;l++){const c=s[l];typeof c=="function"?c():Fy(t[l],null)}}}}function Qt(...t){return w.useCallback(Fw(...t),t)}function AP(t,e){const r=w.createContext(e),s=c=>{const{children:u,...p}=c,m=w.useMemo(()=>p,Object.values(p));return n.jsx(r.Provider,{value:m,children:u})};s.displayName=t+"Provider";function l(c){const u=w.useContext(r);if(u)return u;if(e!==void 0)return e;throw new Error(`\`${c}\` must be used within \`${t}\``)}return[s,l]}function Lc(t,e=[]){let r=[];function s(c,u){const p=w.createContext(u),m=r.length;r=[...r,u];const v=x=>{var O;const{scope:E,children:S,...k}=x,N=((O=E==null?void 0:E[t])==null?void 0:O[m])||p,P=w.useMemo(()=>k,Object.values(k));return n.jsx(N.Provider,{value:P,children:S})};v.displayName=c+"Provider";function y(x,E){var N;const S=((N=E==null?void 0:E[t])==null?void 0:N[m])||p,k=w.useContext(S);if(k)return k;if(u!==void 0)return u;throw new Error(`\`${x}\` must be used within \`${c}\``)}return[v,y]}const l=()=>{const c=r.map(u=>w.createContext(u));return function(p){const m=(p==null?void 0:p[t])||c;return w.useMemo(()=>({[`__scope${t}`]:{...p,[t]:m}}),[p,m])}};return l.scopeName=t,[s,OP(l,...e)]}function OP(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const s=t.map(l=>({useScope:l(),scopeName:l.scopeName}));return function(c){const u=s.reduce((p,{useScope:m,scopeName:v})=>{const x=m(c)[`__scope${v}`];return{...p,...x}},{});return w.useMemo(()=>({[`__scope${e.scopeName}`]:u}),[u])}};return r.scopeName=e.scopeName,r}var en=globalThis!=null&&globalThis.document?w.useLayoutEffect:()=>{},MP=Zb[" useId ".trim().toString()]||(()=>{}),LP=0;function ic(t){const[e,r]=w.useState(MP());return en(()=>{r(s=>s??String(LP++))},[t]),e?`radix-${e}`:""}var IP=Zb[" useInsertionEffect ".trim().toString()]||en;function Nf({prop:t,defaultProp:e,onChange:r=()=>{},caller:s}){const[l,c,u]=DP({defaultProp:e,onChange:r}),p=t!==void 0,m=p?t:l;{const y=w.useRef(t!==void 0);w.useEffect(()=>{const x=y.current;x!==p&&console.warn(`${s} is changing from ${x?"controlled":"uncontrolled"} to ${p?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),y.current=p},[p,s])}const v=w.useCallback(y=>{var x;if(p){const E=BP(y)?y(t):y;E!==t&&((x=u.current)==null||x.call(u,E))}else c(y)},[p,t,c,u]);return[m,v]}function DP({defaultProp:t,onChange:e}){const[r,s]=w.useState(t),l=w.useRef(r),c=w.useRef(e);return IP(()=>{c.current=e},[e]),w.useEffect(()=>{var u;l.current!==r&&((u=c.current)==null||u.call(c,r),l.current=r)},[r,l]),[r,s,c]}function BP(t){return typeof t=="function"}function Ec(t){const e=$P(t),r=w.forwardRef((s,l)=>{const{children:c,...u}=s,p=w.Children.toArray(c),m=p.find(UP);if(m){const v=m.props.children,y=p.map(x=>x===m?w.Children.count(v)>1?w.Children.only(null):w.isValidElement(v)?v.props.children:null:x);return n.jsx(e,{...u,ref:l,children:w.isValidElement(v)?w.cloneElement(v,void 0,y):null})}return n.jsx(e,{...u,ref:l,children:c})});return r.displayName=`${t}.Slot`,r}var zP=Ec("Slot");function $P(t){const e=w.forwardRef((r,s)=>{const{children:l,...c}=r;if(w.isValidElement(l)){const u=WP(l),p=qP(c,l.props);return l.type!==w.Fragment&&(p.ref=s?Fw(s,u):u),w.cloneElement(l,p)}return w.Children.count(l)>1?w.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var Uw=Symbol("radix.slottable");function FP(t){const e=({children:r})=>n.jsx(n.Fragment,{children:r});return e.displayName=`${t}.Slottable`,e.__radixId=Uw,e}function UP(t){return w.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Uw}function qP(t,e){const r={...e};for(const s in e){const l=t[s],c=e[s];/^on[A-Z]/.test(s)?l&&c?r[s]=(...p)=>{const m=c(...p);return l(...p),m}:l&&(r[s]=l):s==="style"?r[s]={...l,...c}:s==="className"&&(r[s]=[l,c].filter(Boolean).join(" "))}return{...t,...r}}function WP(t){var s,l;let e=(s=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:s.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(l=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:l.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var HP=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ot=HP.reduce((t,e)=>{const r=Ec(`Primitive.${e}`),s=w.forwardRef((l,c)=>{const{asChild:u,...p}=l,m=u?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),n.jsx(m,{...p,ref:c})});return s.displayName=`Primitive.${e}`,{...t,[e]:s}},{});function VP(t,e){t&&Ac.flushSync(()=>t.dispatchEvent(e))}function rl(t){const e=w.useRef(t);return w.useEffect(()=>{e.current=t}),w.useMemo(()=>(...r)=>{var s;return(s=e.current)==null?void 0:s.call(e,...r)},[])}function GP(t,e=globalThis==null?void 0:globalThis.document){const r=rl(t);w.useEffect(()=>{const s=l=>{l.key==="Escape"&&r(l)};return e.addEventListener("keydown",s,{capture:!0}),()=>e.removeEventListener("keydown",s,{capture:!0})},[r,e])}var KP="DismissableLayer",Fg="dismissableLayer.update",ZP="dismissableLayer.pointerDownOutside",QP="dismissableLayer.focusOutside",Uy,qw=w.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Ev=w.forwardRef((t,e)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:s,onPointerDownOutside:l,onFocusOutside:c,onInteractOutside:u,onDismiss:p,...m}=t,v=w.useContext(qw),[y,x]=w.useState(null),E=(y==null?void 0:y.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,S]=w.useState({}),k=Qt(e,J=>x(J)),N=Array.from(v.layers),[P]=[...v.layersWithOutsidePointerEventsDisabled].slice(-1),O=N.indexOf(P),T=y?N.indexOf(y):-1,R=v.layersWithOutsidePointerEventsDisabled.size>0,z=T>=O,Y=XP(J=>{const ne=J.target,we=[...v.branches].some(Z=>Z.contains(ne));!z||we||(l==null||l(J),u==null||u(J),J.defaultPrevented||p==null||p())},E),D=eT(J=>{const ne=J.target;[...v.branches].some(Z=>Z.contains(ne))||(c==null||c(J),u==null||u(J),J.defaultPrevented||p==null||p())},E);return GP(J=>{T===v.layers.size-1&&(s==null||s(J),!J.defaultPrevented&&p&&(J.preventDefault(),p()))},E),w.useEffect(()=>{if(y)return r&&(v.layersWithOutsidePointerEventsDisabled.size===0&&(Uy=E.body.style.pointerEvents,E.body.style.pointerEvents="none"),v.layersWithOutsidePointerEventsDisabled.add(y)),v.layers.add(y),qy(),()=>{r&&v.layersWithOutsidePointerEventsDisabled.size===1&&(E.body.style.pointerEvents=Uy)}},[y,E,r,v]),w.useEffect(()=>()=>{y&&(v.layers.delete(y),v.layersWithOutsidePointerEventsDisabled.delete(y),qy())},[y,v]),w.useEffect(()=>{const J=()=>S({});return document.addEventListener(Fg,J),()=>document.removeEventListener(Fg,J)},[]),n.jsx(Ot.div,{...m,ref:k,style:{pointerEvents:R?z?"auto":"none":void 0,...t.style},onFocusCapture:zt(t.onFocusCapture,D.onFocusCapture),onBlurCapture:zt(t.onBlurCapture,D.onBlurCapture),onPointerDownCapture:zt(t.onPointerDownCapture,Y.onPointerDownCapture)})});Ev.displayName=KP;var JP="DismissableLayerBranch",YP=w.forwardRef((t,e)=>{const r=w.useContext(qw),s=w.useRef(null),l=Qt(e,s);return w.useEffect(()=>{const c=s.current;if(c)return r.branches.add(c),()=>{r.branches.delete(c)}},[r.branches]),n.jsx(Ot.div,{...t,ref:l})});YP.displayName=JP;function XP(t,e=globalThis==null?void 0:globalThis.document){const r=rl(t),s=w.useRef(!1),l=w.useRef(()=>{});return w.useEffect(()=>{const c=p=>{if(p.target&&!s.current){let m=function(){Ww(ZP,r,v,{discrete:!0})};const v={originalEvent:p};p.pointerType==="touch"?(e.removeEventListener("click",l.current),l.current=m,e.addEventListener("click",l.current,{once:!0})):m()}else e.removeEventListener("click",l.current);s.current=!1},u=window.setTimeout(()=>{e.addEventListener("pointerdown",c)},0);return()=>{window.clearTimeout(u),e.removeEventListener("pointerdown",c),e.removeEventListener("click",l.current)}},[e,r]),{onPointerDownCapture:()=>s.current=!0}}function eT(t,e=globalThis==null?void 0:globalThis.document){const r=rl(t),s=w.useRef(!1);return w.useEffect(()=>{const l=c=>{c.target&&!s.current&&Ww(QP,r,{originalEvent:c},{discrete:!1})};return e.addEventListener("focusin",l),()=>e.removeEventListener("focusin",l)},[e,r]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function qy(){const t=new CustomEvent(Fg);document.dispatchEvent(t)}function Ww(t,e,r,{discrete:s}){const l=r.originalEvent.target,c=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});e&&l.addEventListener(t,e,{once:!0}),s?VP(l,c):l.dispatchEvent(c)}var Wp="focusScope.autoFocusOnMount",Hp="focusScope.autoFocusOnUnmount",Wy={bubbles:!1,cancelable:!0},tT="FocusScope",Nv=w.forwardRef((t,e)=>{const{loop:r=!1,trapped:s=!1,onMountAutoFocus:l,onUnmountAutoFocus:c,...u}=t,[p,m]=w.useState(null),v=rl(l),y=rl(c),x=w.useRef(null),E=Qt(e,N=>m(N)),S=w.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;w.useEffect(()=>{if(s){let N=function(R){if(S.paused||!p)return;const z=R.target;p.contains(z)?x.current=z:Ii(x.current,{select:!0})},P=function(R){if(S.paused||!p)return;const z=R.relatedTarget;z!==null&&(p.contains(z)||Ii(x.current,{select:!0}))},O=function(R){if(document.activeElement===document.body)for(const Y of R)Y.removedNodes.length>0&&Ii(p)};document.addEventListener("focusin",N),document.addEventListener("focusout",P);const T=new MutationObserver(O);return p&&T.observe(p,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",N),document.removeEventListener("focusout",P),T.disconnect()}}},[s,p,S.paused]),w.useEffect(()=>{if(p){Vy.add(S);const N=document.activeElement;if(!p.contains(N)){const O=new CustomEvent(Wp,Wy);p.addEventListener(Wp,v),p.dispatchEvent(O),O.defaultPrevented||(rT(aT(Hw(p)),{select:!0}),document.activeElement===N&&Ii(p))}return()=>{p.removeEventListener(Wp,v),setTimeout(()=>{const O=new CustomEvent(Hp,Wy);p.addEventListener(Hp,y),p.dispatchEvent(O),O.defaultPrevented||Ii(N??document.body,{select:!0}),p.removeEventListener(Hp,y),Vy.remove(S)},0)}}},[p,v,y,S]);const k=w.useCallback(N=>{if(!r&&!s||S.paused)return;const P=N.key==="Tab"&&!N.altKey&&!N.ctrlKey&&!N.metaKey,O=document.activeElement;if(P&&O){const T=N.currentTarget,[R,z]=nT(T);R&&z?!N.shiftKey&&O===z?(N.preventDefault(),r&&Ii(R,{select:!0})):N.shiftKey&&O===R&&(N.preventDefault(),r&&Ii(z,{select:!0})):O===T&&N.preventDefault()}},[r,s,S.paused]);return n.jsx(Ot.div,{tabIndex:-1,...u,ref:E,onKeyDown:k})});Nv.displayName=tT;function rT(t,{select:e=!1}={}){const r=document.activeElement;for(const s of t)if(Ii(s,{select:e}),document.activeElement!==r)return}function nT(t){const e=Hw(t),r=Hy(e,t),s=Hy(e.reverse(),t);return[r,s]}function Hw(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const l=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||l?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function Hy(t,e){for(const r of t)if(!oT(r,{upTo:e}))return r}function oT(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function sT(t){return t instanceof HTMLInputElement&&"select"in t}function Ii(t,{select:e=!1}={}){if(t&&t.focus){const r=document.activeElement;t.focus({preventScroll:!0}),t!==r&&sT(t)&&e&&t.select()}}var Vy=iT();function iT(){let t=[];return{add(e){const r=t[0];e!==r&&(r==null||r.pause()),t=Gy(t,e),t.unshift(e)},remove(e){var r;t=Gy(t,e),(r=t[0])==null||r.resume()}}}function Gy(t,e){const r=[...t],s=r.indexOf(e);return s!==-1&&r.splice(s,1),r}function aT(t){return t.filter(e=>e.tagName!=="A")}var lT="Portal",Cv=w.forwardRef((t,e)=>{var p;const{container:r,...s}=t,[l,c]=w.useState(!1);en(()=>c(!0),[]);const u=r||l&&((p=globalThis==null?void 0:globalThis.document)==null?void 0:p.body);return u?h_.createPortal(n.jsx(Ot.div,{...s,ref:e}),u):null});Cv.displayName=lT;function cT(t,e){return w.useReducer((r,s)=>e[r][s]??r,t)}var gu=t=>{const{present:e,children:r}=t,s=dT(e),l=typeof r=="function"?r({present:s.isPresent}):w.Children.only(r),c=Qt(s.ref,uT(l));return typeof r=="function"||s.isPresent?w.cloneElement(l,{ref:c}):null};gu.displayName="Presence";function dT(t){const[e,r]=w.useState(),s=w.useRef(null),l=w.useRef(t),c=w.useRef("none"),u=t?"mounted":"unmounted",[p,m]=cT(u,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return w.useEffect(()=>{const v=Gh(s.current);c.current=p==="mounted"?v:"none"},[p]),en(()=>{const v=s.current,y=l.current;if(y!==t){const E=c.current,S=Gh(v);t?m("MOUNT"):S==="none"||(v==null?void 0:v.display)==="none"?m("UNMOUNT"):m(y&&E!==S?"ANIMATION_OUT":"UNMOUNT"),l.current=t}},[t,m]),en(()=>{if(e){let v;const y=e.ownerDocument.defaultView??window,x=S=>{const N=Gh(s.current).includes(CSS.escape(S.animationName));if(S.target===e&&N&&(m("ANIMATION_END"),!l.current)){const P=e.style.animationFillMode;e.style.animationFillMode="forwards",v=y.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=P)})}},E=S=>{S.target===e&&(c.current=Gh(s.current))};return e.addEventListener("animationstart",E),e.addEventListener("animationcancel",x),e.addEventListener("animationend",x),()=>{y.clearTimeout(v),e.removeEventListener("animationstart",E),e.removeEventListener("animationcancel",x),e.removeEventListener("animationend",x)}}else m("ANIMATION_END")},[e,m]),{isPresent:["mounted","unmountSuspended"].includes(p),ref:w.useCallback(v=>{s.current=v?getComputedStyle(v):null,r(v)},[])}}function Gh(t){return(t==null?void 0:t.animationName)||"none"}function uT(t){var s,l;let e=(s=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:s.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(l=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:l.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var Vp=0;function Vw(){w.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??Ky()),document.body.insertAdjacentElement("beforeend",t[1]??Ky()),Vp++,()=>{Vp===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Vp--}},[])}function Ky(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var uf="right-scroll-bar-position",hf="width-before-scroll-bar",hT="with-scroll-bars-hidden",fT="--removed-body-scroll-bar-size";function Gp(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function mT(t,e){var r=w.useState(function(){return{value:t,callback:e,facade:{get current(){return r.value},set current(s){var l=r.value;l!==s&&(r.value=s,r.callback(s,l))}}}})[0];return r.callback=e,r.facade}var pT=typeof window<"u"?w.useLayoutEffect:w.useEffect,Zy=new WeakMap;function gT(t,e){var r=mT(null,function(s){return t.forEach(function(l){return Gp(l,s)})});return pT(function(){var s=Zy.get(r);if(s){var l=new Set(s),c=new Set(t),u=r.current;l.forEach(function(p){c.has(p)||Gp(p,null)}),c.forEach(function(p){l.has(p)||Gp(p,u)})}Zy.set(r,t)},[t]),r}function vT(t){return t}function xT(t,e){e===void 0&&(e=vT);var r=[],s=!1,l={read:function(){if(s)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:t},useMedium:function(c){var u=e(c,s);return r.push(u),function(){r=r.filter(function(p){return p!==u})}},assignSyncMedium:function(c){for(s=!0;r.length;){var u=r;r=[],u.forEach(c)}r={push:function(p){return c(p)},filter:function(){return r}}},assignMedium:function(c){s=!0;var u=[];if(r.length){var p=r;r=[],p.forEach(c),u=r}var m=function(){var y=u;u=[],y.forEach(c)},v=function(){return Promise.resolve().then(m)};v(),r={push:function(y){u.push(y),v()},filter:function(y){return u=u.filter(y),r}}}};return l}function yT(t){t===void 0&&(t={});var e=xT(null);return e.options=io({async:!0,ssr:!1},t),e}var Gw=function(t){var e=t.sideCar,r=ra(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var s=e.read();if(!s)throw new Error("Sidecar medium not found");return w.createElement(s,io({},r))};Gw.isSideCarExport=!0;function bT(t,e){return t.useMedium(e),Gw}var Kw=yT(),Kp=function(){},Ff=w.forwardRef(function(t,e){var r=w.useRef(null),s=w.useState({onScrollCapture:Kp,onWheelCapture:Kp,onTouchMoveCapture:Kp}),l=s[0],c=s[1],u=t.forwardProps,p=t.children,m=t.className,v=t.removeScrollBar,y=t.enabled,x=t.shards,E=t.sideCar,S=t.noRelative,k=t.noIsolation,N=t.inert,P=t.allowPinchZoom,O=t.as,T=O===void 0?"div":O,R=t.gapMode,z=ra(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),Y=E,D=gT([r,e]),J=io(io({},z),l);return w.createElement(w.Fragment,null,y&&w.createElement(Y,{sideCar:Kw,removeScrollBar:v,shards:x,noRelative:S,noIsolation:k,inert:N,setCallbacks:c,allowPinchZoom:!!P,lockRef:r,gapMode:R}),u?w.cloneElement(w.Children.only(p),io(io({},J),{ref:D})):w.createElement(T,io({},J,{className:m,ref:D}),p))});Ff.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Ff.classNames={fullWidth:hf,zeroRight:uf};var _T=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function wT(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=_T();return e&&t.setAttribute("nonce",e),t}function jT(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function ST(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var ET=function(){var t=0,e=null;return{add:function(r){t==0&&(e=wT())&&(jT(e,r),ST(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},NT=function(){var t=ET();return function(e,r){w.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&r])}},Zw=function(){var t=NT(),e=function(r){var s=r.styles,l=r.dynamic;return t(s,l),null};return e},CT={left:0,top:0,right:0,gap:0},Zp=function(t){return parseInt(t||"",10)||0},kT=function(t){var e=window.getComputedStyle(document.body),r=e[t==="padding"?"paddingLeft":"marginLeft"],s=e[t==="padding"?"paddingTop":"marginTop"],l=e[t==="padding"?"paddingRight":"marginRight"];return[Zp(r),Zp(s),Zp(l)]},PT=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return CT;var e=kT(t),r=document.documentElement.clientWidth,s=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,s-r+e[2]-e[0])}},TT=Zw(),ac="data-scroll-locked",RT=function(t,e,r,s){var l=t.left,c=t.top,u=t.right,p=t.gap;return r===void 0&&(r="margin"),`
  .`.concat(hT,` {
   overflow: hidden `).concat(s,`;
   padding-right: `).concat(p,"px ").concat(s,`;
  }
  body[`).concat(ac,`] {
    overflow: hidden `).concat(s,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(s,";"),r==="margin"&&`
    padding-left: `.concat(l,`px;
    padding-top: `).concat(c,`px;
    padding-right: `).concat(u,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(p,"px ").concat(s,`;
    `),r==="padding"&&"padding-right: ".concat(p,"px ").concat(s,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(uf,` {
    right: `).concat(p,"px ").concat(s,`;
  }
  
  .`).concat(hf,` {
    margin-right: `).concat(p,"px ").concat(s,`;
  }
  
  .`).concat(uf," .").concat(uf,` {
    right: 0 `).concat(s,`;
  }
  
  .`).concat(hf," .").concat(hf,` {
    margin-right: 0 `).concat(s,`;
  }
  
  body[`).concat(ac,`] {
    `).concat(fT,": ").concat(p,`px;
  }
`)},Qy=function(){var t=parseInt(document.body.getAttribute(ac)||"0",10);return isFinite(t)?t:0},AT=function(){w.useEffect(function(){return document.body.setAttribute(ac,(Qy()+1).toString()),function(){var t=Qy()-1;t<=0?document.body.removeAttribute(ac):document.body.setAttribute(ac,t.toString())}},[])},OT=function(t){var e=t.noRelative,r=t.noImportant,s=t.gapMode,l=s===void 0?"margin":s;AT();var c=w.useMemo(function(){return PT(l)},[l]);return w.createElement(TT,{styles:RT(c,!e,l,r?"":"!important")})},Ug=!1;if(typeof window<"u")try{var Kh=Object.defineProperty({},"passive",{get:function(){return Ug=!0,!0}});window.addEventListener("test",Kh,Kh),window.removeEventListener("test",Kh,Kh)}catch{Ug=!1}var Jl=Ug?{passive:!1}:!1,MT=function(t){return t.tagName==="TEXTAREA"},Qw=function(t,e){if(!(t instanceof Element))return!1;var r=window.getComputedStyle(t);return r[e]!=="hidden"&&!(r.overflowY===r.overflowX&&!MT(t)&&r[e]==="visible")},LT=function(t){return Qw(t,"overflowY")},IT=function(t){return Qw(t,"overflowX")},Jy=function(t,e){var r=e.ownerDocument,s=e;do{typeof ShadowRoot<"u"&&s instanceof ShadowRoot&&(s=s.host);var l=Jw(t,s);if(l){var c=Yw(t,s),u=c[1],p=c[2];if(u>p)return!0}s=s.parentNode}while(s&&s!==r.body);return!1},DT=function(t){var e=t.scrollTop,r=t.scrollHeight,s=t.clientHeight;return[e,r,s]},BT=function(t){var e=t.scrollLeft,r=t.scrollWidth,s=t.clientWidth;return[e,r,s]},Jw=function(t,e){return t==="v"?LT(e):IT(e)},Yw=function(t,e){return t==="v"?DT(e):BT(e)},zT=function(t,e){return t==="h"&&e==="rtl"?-1:1},$T=function(t,e,r,s,l){var c=zT(t,window.getComputedStyle(e).direction),u=c*s,p=r.target,m=e.contains(p),v=!1,y=u>0,x=0,E=0;do{if(!p)break;var S=Yw(t,p),k=S[0],N=S[1],P=S[2],O=N-P-c*k;(k||O)&&Jw(t,p)&&(x+=O,E+=k);var T=p.parentNode;p=T&&T.nodeType===Node.DOCUMENT_FRAGMENT_NODE?T.host:T}while(!m&&p!==document.body||m&&(e.contains(p)||e===p));return(y&&Math.abs(x)<1||!y&&Math.abs(E)<1)&&(v=!0),v},Zh=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},Yy=function(t){return[t.deltaX,t.deltaY]},Xy=function(t){return t&&"current"in t?t.current:t},FT=function(t,e){return t[0]===e[0]&&t[1]===e[1]},UT=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},qT=0,Yl=[];function WT(t){var e=w.useRef([]),r=w.useRef([0,0]),s=w.useRef(),l=w.useState(qT++)[0],c=w.useState(Zw)[0],u=w.useRef(t);w.useEffect(function(){u.current=t},[t]),w.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(l));var N=gv([t.lockRef.current],(t.shards||[]).map(Xy),!0).filter(Boolean);return N.forEach(function(P){return P.classList.add("allow-interactivity-".concat(l))}),function(){document.body.classList.remove("block-interactivity-".concat(l)),N.forEach(function(P){return P.classList.remove("allow-interactivity-".concat(l))})}}},[t.inert,t.lockRef.current,t.shards]);var p=w.useCallback(function(N,P){if("touches"in N&&N.touches.length===2||N.type==="wheel"&&N.ctrlKey)return!u.current.allowPinchZoom;var O=Zh(N),T=r.current,R="deltaX"in N?N.deltaX:T[0]-O[0],z="deltaY"in N?N.deltaY:T[1]-O[1],Y,D=N.target,J=Math.abs(R)>Math.abs(z)?"h":"v";if("touches"in N&&J==="h"&&D.type==="range")return!1;var ne=Jy(J,D);if(!ne)return!0;if(ne?Y=J:(Y=J==="v"?"h":"v",ne=Jy(J,D)),!ne)return!1;if(!s.current&&"changedTouches"in N&&(R||z)&&(s.current=Y),!Y)return!0;var we=s.current||Y;return $T(we,P,N,we==="h"?R:z)},[]),m=w.useCallback(function(N){var P=N;if(!(!Yl.length||Yl[Yl.length-1]!==c)){var O="deltaY"in P?Yy(P):Zh(P),T=e.current.filter(function(Y){return Y.name===P.type&&(Y.target===P.target||P.target===Y.shadowParent)&&FT(Y.delta,O)})[0];if(T&&T.should){P.cancelable&&P.preventDefault();return}if(!T){var R=(u.current.shards||[]).map(Xy).filter(Boolean).filter(function(Y){return Y.contains(P.target)}),z=R.length>0?p(P,R[0]):!u.current.noIsolation;z&&P.cancelable&&P.preventDefault()}}},[]),v=w.useCallback(function(N,P,O,T){var R={name:N,delta:P,target:O,should:T,shadowParent:HT(O)};e.current.push(R),setTimeout(function(){e.current=e.current.filter(function(z){return z!==R})},1)},[]),y=w.useCallback(function(N){r.current=Zh(N),s.current=void 0},[]),x=w.useCallback(function(N){v(N.type,Yy(N),N.target,p(N,t.lockRef.current))},[]),E=w.useCallback(function(N){v(N.type,Zh(N),N.target,p(N,t.lockRef.current))},[]);w.useEffect(function(){return Yl.push(c),t.setCallbacks({onScrollCapture:x,onWheelCapture:x,onTouchMoveCapture:E}),document.addEventListener("wheel",m,Jl),document.addEventListener("touchmove",m,Jl),document.addEventListener("touchstart",y,Jl),function(){Yl=Yl.filter(function(N){return N!==c}),document.removeEventListener("wheel",m,Jl),document.removeEventListener("touchmove",m,Jl),document.removeEventListener("touchstart",y,Jl)}},[]);var S=t.removeScrollBar,k=t.inert;return w.createElement(w.Fragment,null,k?w.createElement(c,{styles:UT(l)}):null,S?w.createElement(OT,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function HT(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const VT=bT(Kw,WT);var kv=w.forwardRef(function(t,e){return w.createElement(Ff,io({},t,{ref:e,sideCar:VT}))});kv.classNames=Ff.classNames;var GT=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Xl=new WeakMap,Qh=new WeakMap,Jh={},Qp=0,Xw=function(t){return t&&(t.host||Xw(t.parentNode))},KT=function(t,e){return e.map(function(r){if(t.contains(r))return r;var s=Xw(r);return s&&t.contains(s)?s:(console.error("aria-hidden",r,"in not contained inside",t,". Doing nothing"),null)}).filter(function(r){return!!r})},ZT=function(t,e,r,s){var l=KT(e,Array.isArray(t)?t:[t]);Jh[r]||(Jh[r]=new WeakMap);var c=Jh[r],u=[],p=new Set,m=new Set(l),v=function(x){!x||p.has(x)||(p.add(x),v(x.parentNode))};l.forEach(v);var y=function(x){!x||m.has(x)||Array.prototype.forEach.call(x.children,function(E){if(p.has(E))y(E);else try{var S=E.getAttribute(s),k=S!==null&&S!=="false",N=(Xl.get(E)||0)+1,P=(c.get(E)||0)+1;Xl.set(E,N),c.set(E,P),u.push(E),N===1&&k&&Qh.set(E,!0),P===1&&E.setAttribute(r,"true"),k||E.setAttribute(s,"true")}catch(O){console.error("aria-hidden: cannot operate on ",E,O)}})};return y(e),p.clear(),Qp++,function(){u.forEach(function(x){var E=Xl.get(x)-1,S=c.get(x)-1;Xl.set(x,E),c.set(x,S),E||(Qh.has(x)||x.removeAttribute(s),Qh.delete(x)),S||x.removeAttribute(r)}),Qp--,Qp||(Xl=new WeakMap,Xl=new WeakMap,Qh=new WeakMap,Jh={})}},e1=function(t,e,r){r===void 0&&(r="data-aria-hidden");var s=Array.from(Array.isArray(t)?t:[t]),l=GT(t);return l?(s.push.apply(s,Array.from(l.querySelectorAll("[aria-live], script"))),ZT(s,l,r,"aria-hidden")):function(){return null}},Uf="Dialog",[t1,r1]=Lc(Uf),[QT,$o]=t1(Uf),n1=t=>{const{__scopeDialog:e,children:r,open:s,defaultOpen:l,onOpenChange:c,modal:u=!0}=t,p=w.useRef(null),m=w.useRef(null),[v,y]=Nf({prop:s,defaultProp:l??!1,onChange:c,caller:Uf});return n.jsx(QT,{scope:e,triggerRef:p,contentRef:m,contentId:ic(),titleId:ic(),descriptionId:ic(),open:v,onOpenChange:y,onOpenToggle:w.useCallback(()=>y(x=>!x),[y]),modal:u,children:r})};n1.displayName=Uf;var o1="DialogTrigger",s1=w.forwardRef((t,e)=>{const{__scopeDialog:r,...s}=t,l=$o(o1,r),c=Qt(e,l.triggerRef);return n.jsx(Ot.button,{type:"button","aria-haspopup":"dialog","aria-expanded":l.open,"aria-controls":l.contentId,"data-state":Rv(l.open),...s,ref:c,onClick:zt(t.onClick,l.onOpenToggle)})});s1.displayName=o1;var Pv="DialogPortal",[JT,i1]=t1(Pv,{forceMount:void 0}),a1=t=>{const{__scopeDialog:e,forceMount:r,children:s,container:l}=t,c=$o(Pv,e);return n.jsx(JT,{scope:e,forceMount:r,children:w.Children.map(s,u=>n.jsx(gu,{present:r||c.open,children:n.jsx(Cv,{asChild:!0,container:l,children:u})}))})};a1.displayName=Pv;var Cf="DialogOverlay",l1=w.forwardRef((t,e)=>{const r=i1(Cf,t.__scopeDialog),{forceMount:s=r.forceMount,...l}=t,c=$o(Cf,t.__scopeDialog);return c.modal?n.jsx(gu,{present:s||c.open,children:n.jsx(XT,{...l,ref:e})}):null});l1.displayName=Cf;var YT=Ec("DialogOverlay.RemoveScroll"),XT=w.forwardRef((t,e)=>{const{__scopeDialog:r,...s}=t,l=$o(Cf,r);return n.jsx(kv,{as:YT,allowPinchZoom:!0,shards:[l.contentRef],children:n.jsx(Ot.div,{"data-state":Rv(l.open),...s,ref:e,style:{pointerEvents:"auto",...s.style}})})}),nl="DialogContent",c1=w.forwardRef((t,e)=>{const r=i1(nl,t.__scopeDialog),{forceMount:s=r.forceMount,...l}=t,c=$o(nl,t.__scopeDialog);return n.jsx(gu,{present:s||c.open,children:c.modal?n.jsx(eR,{...l,ref:e}):n.jsx(tR,{...l,ref:e})})});c1.displayName=nl;var eR=w.forwardRef((t,e)=>{const r=$o(nl,t.__scopeDialog),s=w.useRef(null),l=Qt(e,r.contentRef,s);return w.useEffect(()=>{const c=s.current;if(c)return e1(c)},[]),n.jsx(d1,{...t,ref:l,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:zt(t.onCloseAutoFocus,c=>{var u;c.preventDefault(),(u=r.triggerRef.current)==null||u.focus()}),onPointerDownOutside:zt(t.onPointerDownOutside,c=>{const u=c.detail.originalEvent,p=u.button===0&&u.ctrlKey===!0;(u.button===2||p)&&c.preventDefault()}),onFocusOutside:zt(t.onFocusOutside,c=>c.preventDefault())})}),tR=w.forwardRef((t,e)=>{const r=$o(nl,t.__scopeDialog),s=w.useRef(!1),l=w.useRef(!1);return n.jsx(d1,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:c=>{var u,p;(u=t.onCloseAutoFocus)==null||u.call(t,c),c.defaultPrevented||(s.current||(p=r.triggerRef.current)==null||p.focus(),c.preventDefault()),s.current=!1,l.current=!1},onInteractOutside:c=>{var m,v;(m=t.onInteractOutside)==null||m.call(t,c),c.defaultPrevented||(s.current=!0,c.detail.originalEvent.type==="pointerdown"&&(l.current=!0));const u=c.target;((v=r.triggerRef.current)==null?void 0:v.contains(u))&&c.preventDefault(),c.detail.originalEvent.type==="focusin"&&l.current&&c.preventDefault()}})}),d1=w.forwardRef((t,e)=>{const{__scopeDialog:r,trapFocus:s,onOpenAutoFocus:l,onCloseAutoFocus:c,...u}=t,p=$o(nl,r),m=w.useRef(null),v=Qt(e,m);return Vw(),n.jsxs(n.Fragment,{children:[n.jsx(Nv,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:l,onUnmountAutoFocus:c,children:n.jsx(Ev,{role:"dialog",id:p.contentId,"aria-describedby":p.descriptionId,"aria-labelledby":p.titleId,"data-state":Rv(p.open),...u,ref:v,onDismiss:()=>p.onOpenChange(!1)})}),n.jsxs(n.Fragment,{children:[n.jsx(nR,{titleId:p.titleId}),n.jsx(sR,{contentRef:m,descriptionId:p.descriptionId})]})]})}),Tv="DialogTitle",u1=w.forwardRef((t,e)=>{const{__scopeDialog:r,...s}=t,l=$o(Tv,r);return n.jsx(Ot.h2,{id:l.titleId,...s,ref:e})});u1.displayName=Tv;var h1="DialogDescription",f1=w.forwardRef((t,e)=>{const{__scopeDialog:r,...s}=t,l=$o(h1,r);return n.jsx(Ot.p,{id:l.descriptionId,...s,ref:e})});f1.displayName=h1;var m1="DialogClose",p1=w.forwardRef((t,e)=>{const{__scopeDialog:r,...s}=t,l=$o(m1,r);return n.jsx(Ot.button,{type:"button",...s,ref:e,onClick:zt(t.onClick,()=>l.onOpenChange(!1))})});p1.displayName=m1;function Rv(t){return t?"open":"closed"}var g1="DialogTitleWarning",[rR,v1]=AP(g1,{contentName:nl,titleName:Tv,docsSlug:"dialog"}),nR=({titleId:t})=>{const e=v1(g1),r=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return w.useEffect(()=>{t&&(document.getElementById(t)||console.error(r))},[r,t]),null},oR="DialogDescriptionWarning",sR=({contentRef:t,descriptionId:e})=>{const s=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${v1(oR).contentName}}.`;return w.useEffect(()=>{var c;const l=(c=t.current)==null?void 0:c.getAttribute("aria-describedby");e&&l&&(document.getElementById(e)||console.warn(s))},[s,t,e]),null},x1=n1,iR=s1,y1=a1,Av=l1,Ov=c1,Mv=u1,Lv=f1,Iv=p1;/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aR=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),b1=(...t)=>t.filter((e,r,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===r).join(" ").trim();/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var lR={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cR=w.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:s,className:l="",children:c,iconNode:u,...p},m)=>w.createElement("svg",{ref:m,...lR,width:e,height:e,stroke:t,strokeWidth:s?Number(r)*24/Number(e):r,className:b1("lucide",l),...p},[...u.map(([v,y])=>w.createElement(v,y)),...Array.isArray(c)?c:[c]]));/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Je=(t,e)=>{const r=w.forwardRef(({className:s,...l},c)=>w.createElement(cR,{ref:c,iconNode:e,className:b1(`lucide-${aR(t)}`,s),...l}));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dR=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],uR=Je("ArrowLeft",dR);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hR=[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]],qg=Je("Banknote",hR);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fR=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Ic=Je("Calendar",fR);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mR=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Xi=Je("Check",mR);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pR=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],_1=Je("ChevronDown",pR);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gR=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],jr=Je("ChevronLeft",gR);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vR=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],vu=Je("ChevronRight",vR);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xR=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],yR=Je("ChevronUp",xR);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bR=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],w1=Je("CircleAlert",bR);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _R=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Xa=Je("CircleCheckBig",_R);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wR=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Kd=Je("CircleX",wR);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jR=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],Ji=Je("ClipboardList",jR);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SR=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],Ro=Je("Clock",SR);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ER=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],j1=Je("CreditCard",ER);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NR=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Dc=Je("DollarSign",NR);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CR=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],kR=Je("Download",CR);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PR=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],TR=Je("ExternalLink",PR);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RR=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],AR=Je("EyeOff",RR);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OR=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],S1=Je("Eye",OR);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MR=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],dn=Je("FileText",MR);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LR=[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]],IR=Je("Filter",LR);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DR=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],E1=Je("GripVertical",DR);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BR=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],eb=Je("Image",BR);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zR=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],$R=Je("Mail",zR);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FR=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Nc=Je("MapPin",FR);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UR=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],tb=Je("Map",UR);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qR=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],Zd=Je("Monitor",qR);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WR=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],HR=Je("Moon",WR);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VR=[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]],GR=Je("Navigation",VR);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KR=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],ao=Je("Package",KR);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZR=[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]],N1=Je("Pause",ZR);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QR=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],C1=Je("Pencil",QR);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JR=[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]],tu=Je("Phone",JR);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YR=[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]],k1=Je("Play",YR);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XR=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],qf=Je("Plus",XR);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eA=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],xu=Je("Printer",eA);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tA=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],rA=Je("RefreshCw",tA);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nA=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],P1=Je("RotateCcw",nA);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oA=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],uo=Je("Search",oA);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sA=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],rb=Je("Send",sA);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iA=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],T1=Je("Smartphone",iA);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aA=[["path",{d:"m10 20-1.25-2.5L6 18",key:"18frcb"}],["path",{d:"M10 4 8.75 6.5 6 6",key:"7mghy3"}],["path",{d:"m14 20 1.25-2.5L18 18",key:"1chtki"}],["path",{d:"m14 4 1.25 2.5L18 6",key:"1b4wsy"}],["path",{d:"m17 21-3-6h-4",key:"15hhxa"}],["path",{d:"m17 3-3 6 1.5 3",key:"11697g"}],["path",{d:"M2 12h6.5L10 9",key:"kv9z4n"}],["path",{d:"m20 10-1.5 2 1.5 2",key:"1swlpi"}],["path",{d:"M22 12h-6.5L14 15",key:"1mxi28"}],["path",{d:"m4 10 1.5 2L4 14",key:"k9enpj"}],["path",{d:"m7 21 3-6-1.5-3",key:"j8hb9u"}],["path",{d:"m7 3 3 6h4",key:"1otusx"}]],nb=Je("Snowflake",aA);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lA=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Wf=Je("SquarePen",lA);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cA=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],Dv=Je("Sun",cA);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dA=[["path",{d:"M12 2v8",key:"1q4o3n"}],["path",{d:"m4.93 10.93 1.41 1.41",key:"2a7f42"}],["path",{d:"M2 18h2",key:"j10viu"}],["path",{d:"M20 18h2",key:"wocana"}],["path",{d:"m19.07 10.93-1.41 1.41",key:"15zs5n"}],["path",{d:"M22 22H2",key:"19qnx5"}],["path",{d:"m8 6 4-4 4 4",key:"ybng9g"}],["path",{d:"M16 18a4 4 0 0 0-8 0",key:"1lzouq"}]],uA=Je("Sunrise",dA);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hA=[["path",{d:"M12 10V2",key:"16sf7g"}],["path",{d:"m4.93 10.93 1.41 1.41",key:"2a7f42"}],["path",{d:"M2 18h2",key:"j10viu"}],["path",{d:"M20 18h2",key:"wocana"}],["path",{d:"m19.07 10.93-1.41 1.41",key:"15zs5n"}],["path",{d:"M22 22H2",key:"19qnx5"}],["path",{d:"m16 6-4 4-4-4",key:"6wukr"}],["path",{d:"M16 18a4 4 0 0 0-8 0",key:"1lzouq"}]],fA=Je("Sunset",hA);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mA=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],Bc=Je("Trash2",mA);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pA=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],gA=Je("TrendingUp",pA);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vA=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],ob=Je("TriangleAlert",vA);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xA=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],To=Je("Truck",xA);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yA=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],bA=Je("Upload",yA);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _A=[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]],wA=Je("UserCog",_A);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jA=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],sb=Je("UserPlus",jA);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SA=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],lo=Je("User",SA);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EA=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],NA=Je("Users",EA);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CA=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],ib=Je("Wallet",CA);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kA=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Bv=Je("X",kA);function R1(t){var e,r,s="";if(typeof t=="string"||typeof t=="number")s+=t;else if(typeof t=="object")if(Array.isArray(t)){var l=t.length;for(e=0;e<l;e++)t[e]&&(r=R1(t[e]))&&(s&&(s+=" "),s+=r)}else for(r in t)t[r]&&(s&&(s+=" "),s+=r);return s}function A1(){for(var t,e,r=0,s="",l=arguments.length;r<l;r++)(t=arguments[r])&&(e=R1(t))&&(s&&(s+=" "),s+=e);return s}const zv="-",PA=t=>{const e=RA(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:s}=t;return{getClassGroupId:u=>{const p=u.split(zv);return p[0]===""&&p.length!==1&&p.shift(),O1(p,e)||TA(u)},getConflictingClassGroupIds:(u,p)=>{const m=r[u]||[];return p&&s[u]?[...m,...s[u]]:m}}},O1=(t,e)=>{var u;if(t.length===0)return e.classGroupId;const r=t[0],s=e.nextPart.get(r),l=s?O1(t.slice(1),s):void 0;if(l)return l;if(e.validators.length===0)return;const c=t.join(zv);return(u=e.validators.find(({validator:p})=>p(c)))==null?void 0:u.classGroupId},ab=/^\[(.+)\]$/,TA=t=>{if(ab.test(t)){const e=ab.exec(t)[1],r=e==null?void 0:e.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}},RA=t=>{const{theme:e,classGroups:r}=t,s={nextPart:new Map,validators:[]};for(const l in r)Wg(r[l],s,l,e);return s},Wg=(t,e,r,s)=>{t.forEach(l=>{if(typeof l=="string"){const c=l===""?e:lb(e,l);c.classGroupId=r;return}if(typeof l=="function"){if(AA(l)){Wg(l(s),e,r,s);return}e.validators.push({validator:l,classGroupId:r});return}Object.entries(l).forEach(([c,u])=>{Wg(u,lb(e,c),r,s)})})},lb=(t,e)=>{let r=t;return e.split(zv).forEach(s=>{r.nextPart.has(s)||r.nextPart.set(s,{nextPart:new Map,validators:[]}),r=r.nextPart.get(s)}),r},AA=t=>t.isThemeGetter,OA=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=new Map,s=new Map;const l=(c,u)=>{r.set(c,u),e++,e>t&&(e=0,s=r,r=new Map)};return{get(c){let u=r.get(c);if(u!==void 0)return u;if((u=s.get(c))!==void 0)return l(c,u),u},set(c,u){r.has(c)?r.set(c,u):l(c,u)}}},Hg="!",Vg=":",MA=Vg.length,LA=t=>{const{prefix:e,experimentalParseClassName:r}=t;let s=l=>{const c=[];let u=0,p=0,m=0,v;for(let k=0;k<l.length;k++){let N=l[k];if(u===0&&p===0){if(N===Vg){c.push(l.slice(m,k)),m=k+MA;continue}if(N==="/"){v=k;continue}}N==="["?u++:N==="]"?u--:N==="("?p++:N===")"&&p--}const y=c.length===0?l:l.substring(m),x=IA(y),E=x!==y,S=v&&v>m?v-m:void 0;return{modifiers:c,hasImportantModifier:E,baseClassName:x,maybePostfixModifierPosition:S}};if(e){const l=e+Vg,c=s;s=u=>u.startsWith(l)?c(u.substring(l.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:u,maybePostfixModifierPosition:void 0}}if(r){const l=s;s=c=>r({className:c,parseClassName:l})}return s},IA=t=>t.endsWith(Hg)?t.substring(0,t.length-1):t.startsWith(Hg)?t.substring(1):t,DA=t=>{const e=Object.fromEntries(t.orderSensitiveModifiers.map(s=>[s,!0]));return s=>{if(s.length<=1)return s;const l=[];let c=[];return s.forEach(u=>{u[0]==="["||e[u]?(l.push(...c.sort(),u),c=[]):c.push(u)}),l.push(...c.sort()),l}},BA=t=>({cache:OA(t.cacheSize),parseClassName:LA(t),sortModifiers:DA(t),...PA(t)}),zA=/\s+/,$A=(t,e)=>{const{parseClassName:r,getClassGroupId:s,getConflictingClassGroupIds:l,sortModifiers:c}=e,u=[],p=t.trim().split(zA);let m="";for(let v=p.length-1;v>=0;v-=1){const y=p[v],{isExternal:x,modifiers:E,hasImportantModifier:S,baseClassName:k,maybePostfixModifierPosition:N}=r(y);if(x){m=y+(m.length>0?" "+m:m);continue}let P=!!N,O=s(P?k.substring(0,N):k);if(!O){if(!P){m=y+(m.length>0?" "+m:m);continue}if(O=s(k),!O){m=y+(m.length>0?" "+m:m);continue}P=!1}const T=c(E).join(":"),R=S?T+Hg:T,z=R+O;if(u.includes(z))continue;u.push(z);const Y=l(O,P);for(let D=0;D<Y.length;++D){const J=Y[D];u.push(R+J)}m=y+(m.length>0?" "+m:m)}return m};function FA(){let t=0,e,r,s="";for(;t<arguments.length;)(e=arguments[t++])&&(r=M1(e))&&(s&&(s+=" "),s+=r);return s}const M1=t=>{if(typeof t=="string")return t;let e,r="";for(let s=0;s<t.length;s++)t[s]&&(e=M1(t[s]))&&(r&&(r+=" "),r+=e);return r};function UA(t,...e){let r,s,l,c=u;function u(m){const v=e.reduce((y,x)=>x(y),t());return r=BA(v),s=r.cache.get,l=r.cache.set,c=p,p(m)}function p(m){const v=s(m);if(v)return v;const y=$A(m,r);return l(m,y),y}return function(){return c(FA.apply(null,arguments))}}const Pr=t=>{const e=r=>r[t]||[];return e.isThemeGetter=!0,e},L1=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,I1=/^\((?:(\w[\w-]*):)?(.+)\)$/i,qA=/^\d+\/\d+$/,WA=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,HA=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,VA=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,GA=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,KA=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ec=t=>qA.test(t),pt=t=>!!t&&!Number.isNaN(Number(t)),Oi=t=>!!t&&Number.isInteger(Number(t)),Jp=t=>t.endsWith("%")&&pt(t.slice(0,-1)),Ds=t=>WA.test(t),ZA=()=>!0,QA=t=>HA.test(t)&&!VA.test(t),D1=()=>!1,JA=t=>GA.test(t),YA=t=>KA.test(t),XA=t=>!He(t)&&!Ve(t),eO=t=>zc(t,$1,D1),He=t=>L1.test(t),Oa=t=>zc(t,F1,QA),Yp=t=>zc(t,sO,pt),cb=t=>zc(t,B1,D1),tO=t=>zc(t,z1,YA),Yh=t=>zc(t,U1,JA),Ve=t=>I1.test(t),Bd=t=>$c(t,F1),rO=t=>$c(t,iO),db=t=>$c(t,B1),nO=t=>$c(t,$1),oO=t=>$c(t,z1),Xh=t=>$c(t,U1,!0),zc=(t,e,r)=>{const s=L1.exec(t);return s?s[1]?e(s[1]):r(s[2]):!1},$c=(t,e,r=!1)=>{const s=I1.exec(t);return s?s[1]?e(s[1]):r:!1},B1=t=>t==="position"||t==="percentage",z1=t=>t==="image"||t==="url",$1=t=>t==="length"||t==="size"||t==="bg-size",F1=t=>t==="length",sO=t=>t==="number",iO=t=>t==="family-name",U1=t=>t==="shadow",aO=()=>{const t=Pr("color"),e=Pr("font"),r=Pr("text"),s=Pr("font-weight"),l=Pr("tracking"),c=Pr("leading"),u=Pr("breakpoint"),p=Pr("container"),m=Pr("spacing"),v=Pr("radius"),y=Pr("shadow"),x=Pr("inset-shadow"),E=Pr("text-shadow"),S=Pr("drop-shadow"),k=Pr("blur"),N=Pr("perspective"),P=Pr("aspect"),O=Pr("ease"),T=Pr("animate"),R=()=>["auto","avoid","all","avoid-page","page","left","right","column"],z=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],Y=()=>[...z(),Ve,He],D=()=>["auto","hidden","clip","visible","scroll"],J=()=>["auto","contain","none"],ne=()=>[Ve,He,m],we=()=>[ec,"full","auto",...ne()],Z=()=>[Oi,"none","subgrid",Ve,He],$=()=>["auto",{span:["full",Oi,Ve,He]},Oi,Ve,He],re=()=>[Oi,"auto",Ve,He],U=()=>["auto","min","max","fr",Ve,He],W=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],be=()=>["start","end","center","stretch","center-safe","end-safe"],me=()=>["auto",...ne()],_e=()=>[ec,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...ne()],q=()=>[t,Ve,He],je=()=>[...z(),db,cb,{position:[Ve,He]}],le=()=>["no-repeat",{repeat:["","x","y","space","round"]}],A=()=>["auto","cover","contain",nO,eO,{size:[Ve,He]}],H=()=>[Jp,Bd,Oa],V=()=>["","none","full",v,Ve,He],F=()=>["",pt,Bd,Oa],ce=()=>["solid","dashed","dotted","double"],xe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],pe=()=>[pt,Jp,db,cb],ie=()=>["","none",k,Ve,He],Pe=()=>["none",pt,Ve,He],Me=()=>["none",pt,Ve,He],$e=()=>[pt,Ve,He],Ie=()=>[ec,"full",...ne()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Ds],breakpoint:[Ds],color:[ZA],container:[Ds],"drop-shadow":[Ds],ease:["in","out","in-out"],font:[XA],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Ds],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Ds],shadow:[Ds],spacing:["px",pt],text:[Ds],"text-shadow":[Ds],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",ec,He,Ve,P]}],container:["container"],columns:[{columns:[pt,He,Ve,p]}],"break-after":[{"break-after":R()}],"break-before":[{"break-before":R()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:Y()}],overflow:[{overflow:D()}],"overflow-x":[{"overflow-x":D()}],"overflow-y":[{"overflow-y":D()}],overscroll:[{overscroll:J()}],"overscroll-x":[{"overscroll-x":J()}],"overscroll-y":[{"overscroll-y":J()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:we()}],"inset-x":[{"inset-x":we()}],"inset-y":[{"inset-y":we()}],start:[{start:we()}],end:[{end:we()}],top:[{top:we()}],right:[{right:we()}],bottom:[{bottom:we()}],left:[{left:we()}],visibility:["visible","invisible","collapse"],z:[{z:[Oi,"auto",Ve,He]}],basis:[{basis:[ec,"full","auto",p,...ne()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[pt,ec,"auto","initial","none",He]}],grow:[{grow:["",pt,Ve,He]}],shrink:[{shrink:["",pt,Ve,He]}],order:[{order:[Oi,"first","last","none",Ve,He]}],"grid-cols":[{"grid-cols":Z()}],"col-start-end":[{col:$()}],"col-start":[{"col-start":re()}],"col-end":[{"col-end":re()}],"grid-rows":[{"grid-rows":Z()}],"row-start-end":[{row:$()}],"row-start":[{"row-start":re()}],"row-end":[{"row-end":re()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":U()}],"auto-rows":[{"auto-rows":U()}],gap:[{gap:ne()}],"gap-x":[{"gap-x":ne()}],"gap-y":[{"gap-y":ne()}],"justify-content":[{justify:[...W(),"normal"]}],"justify-items":[{"justify-items":[...be(),"normal"]}],"justify-self":[{"justify-self":["auto",...be()]}],"align-content":[{content:["normal",...W()]}],"align-items":[{items:[...be(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...be(),{baseline:["","last"]}]}],"place-content":[{"place-content":W()}],"place-items":[{"place-items":[...be(),"baseline"]}],"place-self":[{"place-self":["auto",...be()]}],p:[{p:ne()}],px:[{px:ne()}],py:[{py:ne()}],ps:[{ps:ne()}],pe:[{pe:ne()}],pt:[{pt:ne()}],pr:[{pr:ne()}],pb:[{pb:ne()}],pl:[{pl:ne()}],m:[{m:me()}],mx:[{mx:me()}],my:[{my:me()}],ms:[{ms:me()}],me:[{me:me()}],mt:[{mt:me()}],mr:[{mr:me()}],mb:[{mb:me()}],ml:[{ml:me()}],"space-x":[{"space-x":ne()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":ne()}],"space-y-reverse":["space-y-reverse"],size:[{size:_e()}],w:[{w:[p,"screen",..._e()]}],"min-w":[{"min-w":[p,"screen","none",..._e()]}],"max-w":[{"max-w":[p,"screen","none","prose",{screen:[u]},..._e()]}],h:[{h:["screen","lh",..._e()]}],"min-h":[{"min-h":["screen","lh","none",..._e()]}],"max-h":[{"max-h":["screen","lh",..._e()]}],"font-size":[{text:["base",r,Bd,Oa]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[s,Ve,Yp]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Jp,He]}],"font-family":[{font:[rO,He,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[l,Ve,He]}],"line-clamp":[{"line-clamp":[pt,"none",Ve,Yp]}],leading:[{leading:[c,...ne()]}],"list-image":[{"list-image":["none",Ve,He]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Ve,He]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:q()}],"text-color":[{text:q()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ce(),"wavy"]}],"text-decoration-thickness":[{decoration:[pt,"from-font","auto",Ve,Oa]}],"text-decoration-color":[{decoration:q()}],"underline-offset":[{"underline-offset":[pt,"auto",Ve,He]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:ne()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ve,He]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ve,He]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:je()}],"bg-repeat":[{bg:le()}],"bg-size":[{bg:A()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Oi,Ve,He],radial:["",Ve,He],conic:[Oi,Ve,He]},oO,tO]}],"bg-color":[{bg:q()}],"gradient-from-pos":[{from:H()}],"gradient-via-pos":[{via:H()}],"gradient-to-pos":[{to:H()}],"gradient-from":[{from:q()}],"gradient-via":[{via:q()}],"gradient-to":[{to:q()}],rounded:[{rounded:V()}],"rounded-s":[{"rounded-s":V()}],"rounded-e":[{"rounded-e":V()}],"rounded-t":[{"rounded-t":V()}],"rounded-r":[{"rounded-r":V()}],"rounded-b":[{"rounded-b":V()}],"rounded-l":[{"rounded-l":V()}],"rounded-ss":[{"rounded-ss":V()}],"rounded-se":[{"rounded-se":V()}],"rounded-ee":[{"rounded-ee":V()}],"rounded-es":[{"rounded-es":V()}],"rounded-tl":[{"rounded-tl":V()}],"rounded-tr":[{"rounded-tr":V()}],"rounded-br":[{"rounded-br":V()}],"rounded-bl":[{"rounded-bl":V()}],"border-w":[{border:F()}],"border-w-x":[{"border-x":F()}],"border-w-y":[{"border-y":F()}],"border-w-s":[{"border-s":F()}],"border-w-e":[{"border-e":F()}],"border-w-t":[{"border-t":F()}],"border-w-r":[{"border-r":F()}],"border-w-b":[{"border-b":F()}],"border-w-l":[{"border-l":F()}],"divide-x":[{"divide-x":F()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":F()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...ce(),"hidden","none"]}],"divide-style":[{divide:[...ce(),"hidden","none"]}],"border-color":[{border:q()}],"border-color-x":[{"border-x":q()}],"border-color-y":[{"border-y":q()}],"border-color-s":[{"border-s":q()}],"border-color-e":[{"border-e":q()}],"border-color-t":[{"border-t":q()}],"border-color-r":[{"border-r":q()}],"border-color-b":[{"border-b":q()}],"border-color-l":[{"border-l":q()}],"divide-color":[{divide:q()}],"outline-style":[{outline:[...ce(),"none","hidden"]}],"outline-offset":[{"outline-offset":[pt,Ve,He]}],"outline-w":[{outline:["",pt,Bd,Oa]}],"outline-color":[{outline:q()}],shadow:[{shadow:["","none",y,Xh,Yh]}],"shadow-color":[{shadow:q()}],"inset-shadow":[{"inset-shadow":["none",x,Xh,Yh]}],"inset-shadow-color":[{"inset-shadow":q()}],"ring-w":[{ring:F()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:q()}],"ring-offset-w":[{"ring-offset":[pt,Oa]}],"ring-offset-color":[{"ring-offset":q()}],"inset-ring-w":[{"inset-ring":F()}],"inset-ring-color":[{"inset-ring":q()}],"text-shadow":[{"text-shadow":["none",E,Xh,Yh]}],"text-shadow-color":[{"text-shadow":q()}],opacity:[{opacity:[pt,Ve,He]}],"mix-blend":[{"mix-blend":[...xe(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":xe()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[pt]}],"mask-image-linear-from-pos":[{"mask-linear-from":pe()}],"mask-image-linear-to-pos":[{"mask-linear-to":pe()}],"mask-image-linear-from-color":[{"mask-linear-from":q()}],"mask-image-linear-to-color":[{"mask-linear-to":q()}],"mask-image-t-from-pos":[{"mask-t-from":pe()}],"mask-image-t-to-pos":[{"mask-t-to":pe()}],"mask-image-t-from-color":[{"mask-t-from":q()}],"mask-image-t-to-color":[{"mask-t-to":q()}],"mask-image-r-from-pos":[{"mask-r-from":pe()}],"mask-image-r-to-pos":[{"mask-r-to":pe()}],"mask-image-r-from-color":[{"mask-r-from":q()}],"mask-image-r-to-color":[{"mask-r-to":q()}],"mask-image-b-from-pos":[{"mask-b-from":pe()}],"mask-image-b-to-pos":[{"mask-b-to":pe()}],"mask-image-b-from-color":[{"mask-b-from":q()}],"mask-image-b-to-color":[{"mask-b-to":q()}],"mask-image-l-from-pos":[{"mask-l-from":pe()}],"mask-image-l-to-pos":[{"mask-l-to":pe()}],"mask-image-l-from-color":[{"mask-l-from":q()}],"mask-image-l-to-color":[{"mask-l-to":q()}],"mask-image-x-from-pos":[{"mask-x-from":pe()}],"mask-image-x-to-pos":[{"mask-x-to":pe()}],"mask-image-x-from-color":[{"mask-x-from":q()}],"mask-image-x-to-color":[{"mask-x-to":q()}],"mask-image-y-from-pos":[{"mask-y-from":pe()}],"mask-image-y-to-pos":[{"mask-y-to":pe()}],"mask-image-y-from-color":[{"mask-y-from":q()}],"mask-image-y-to-color":[{"mask-y-to":q()}],"mask-image-radial":[{"mask-radial":[Ve,He]}],"mask-image-radial-from-pos":[{"mask-radial-from":pe()}],"mask-image-radial-to-pos":[{"mask-radial-to":pe()}],"mask-image-radial-from-color":[{"mask-radial-from":q()}],"mask-image-radial-to-color":[{"mask-radial-to":q()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":z()}],"mask-image-conic-pos":[{"mask-conic":[pt]}],"mask-image-conic-from-pos":[{"mask-conic-from":pe()}],"mask-image-conic-to-pos":[{"mask-conic-to":pe()}],"mask-image-conic-from-color":[{"mask-conic-from":q()}],"mask-image-conic-to-color":[{"mask-conic-to":q()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:je()}],"mask-repeat":[{mask:le()}],"mask-size":[{mask:A()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Ve,He]}],filter:[{filter:["","none",Ve,He]}],blur:[{blur:ie()}],brightness:[{brightness:[pt,Ve,He]}],contrast:[{contrast:[pt,Ve,He]}],"drop-shadow":[{"drop-shadow":["","none",S,Xh,Yh]}],"drop-shadow-color":[{"drop-shadow":q()}],grayscale:[{grayscale:["",pt,Ve,He]}],"hue-rotate":[{"hue-rotate":[pt,Ve,He]}],invert:[{invert:["",pt,Ve,He]}],saturate:[{saturate:[pt,Ve,He]}],sepia:[{sepia:["",pt,Ve,He]}],"backdrop-filter":[{"backdrop-filter":["","none",Ve,He]}],"backdrop-blur":[{"backdrop-blur":ie()}],"backdrop-brightness":[{"backdrop-brightness":[pt,Ve,He]}],"backdrop-contrast":[{"backdrop-contrast":[pt,Ve,He]}],"backdrop-grayscale":[{"backdrop-grayscale":["",pt,Ve,He]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[pt,Ve,He]}],"backdrop-invert":[{"backdrop-invert":["",pt,Ve,He]}],"backdrop-opacity":[{"backdrop-opacity":[pt,Ve,He]}],"backdrop-saturate":[{"backdrop-saturate":[pt,Ve,He]}],"backdrop-sepia":[{"backdrop-sepia":["",pt,Ve,He]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":ne()}],"border-spacing-x":[{"border-spacing-x":ne()}],"border-spacing-y":[{"border-spacing-y":ne()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Ve,He]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[pt,"initial",Ve,He]}],ease:[{ease:["linear","initial",O,Ve,He]}],delay:[{delay:[pt,Ve,He]}],animate:[{animate:["none",T,Ve,He]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[N,Ve,He]}],"perspective-origin":[{"perspective-origin":Y()}],rotate:[{rotate:Pe()}],"rotate-x":[{"rotate-x":Pe()}],"rotate-y":[{"rotate-y":Pe()}],"rotate-z":[{"rotate-z":Pe()}],scale:[{scale:Me()}],"scale-x":[{"scale-x":Me()}],"scale-y":[{"scale-y":Me()}],"scale-z":[{"scale-z":Me()}],"scale-3d":["scale-3d"],skew:[{skew:$e()}],"skew-x":[{"skew-x":$e()}],"skew-y":[{"skew-y":$e()}],transform:[{transform:[Ve,He,"","none","gpu","cpu"]}],"transform-origin":[{origin:Y()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Ie()}],"translate-x":[{"translate-x":Ie()}],"translate-y":[{"translate-y":Ie()}],"translate-z":[{"translate-z":Ie()}],"translate-none":["translate-none"],accent:[{accent:q()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:q()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ve,He]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":ne()}],"scroll-mx":[{"scroll-mx":ne()}],"scroll-my":[{"scroll-my":ne()}],"scroll-ms":[{"scroll-ms":ne()}],"scroll-me":[{"scroll-me":ne()}],"scroll-mt":[{"scroll-mt":ne()}],"scroll-mr":[{"scroll-mr":ne()}],"scroll-mb":[{"scroll-mb":ne()}],"scroll-ml":[{"scroll-ml":ne()}],"scroll-p":[{"scroll-p":ne()}],"scroll-px":[{"scroll-px":ne()}],"scroll-py":[{"scroll-py":ne()}],"scroll-ps":[{"scroll-ps":ne()}],"scroll-pe":[{"scroll-pe":ne()}],"scroll-pt":[{"scroll-pt":ne()}],"scroll-pr":[{"scroll-pr":ne()}],"scroll-pb":[{"scroll-pb":ne()}],"scroll-pl":[{"scroll-pl":ne()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ve,He]}],fill:[{fill:["none",...q()]}],"stroke-w":[{stroke:[pt,Bd,Oa,Yp]}],stroke:[{stroke:["none",...q()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},lO=UA(aO);function xt(...t){return lO(A1(t))}const ds=x1,cO=y1,q1=w.forwardRef(({className:t,...e},r)=>n.jsx(Av,{ref:r,className:xt("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));q1.displayName=Av.displayName;const Ao=w.forwardRef(({className:t,children:e,...r},s)=>n.jsxs(cO,{children:[n.jsx(q1,{}),n.jsxs(Ov,{ref:s,className:xt("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...r,children:[e,n.jsxs(Iv,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[n.jsx(Bv,{className:"h-4 w-4"}),n.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Ao.displayName=Ov.displayName;const Oo=({className:t,...e})=>n.jsx("div",{className:xt("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});Oo.displayName="DialogHeader";const $v=({className:t,...e})=>n.jsx("div",{className:xt("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});$v.displayName="DialogFooter";const Mo=w.forwardRef(({className:t,...e},r)=>n.jsx(Mv,{ref:r,className:xt("text-lg font-semibold leading-none tracking-tight",t),...e}));Mo.displayName=Mv.displayName;const Hf=w.forwardRef(({className:t,...e},r)=>n.jsx(Lv,{ref:r,className:xt("text-sm text-muted-foreground",t),...e}));Hf.displayName=Lv.displayName;const ub=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,hb=A1,Fv=(t,e)=>r=>{var s;if((e==null?void 0:e.variants)==null)return hb(t,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:l,defaultVariants:c}=e,u=Object.keys(l).map(v=>{const y=r==null?void 0:r[v],x=c==null?void 0:c[v];if(y===null)return null;const E=ub(y)||ub(x);return l[v][E]}),p=r&&Object.entries(r).reduce((v,y)=>{let[x,E]=y;return E===void 0||(v[x]=E),v},{}),m=e==null||(s=e.compoundVariants)===null||s===void 0?void 0:s.reduce((v,y)=>{let{class:x,className:E,...S}=y;return Object.entries(S).every(k=>{let[N,P]=k;return Array.isArray(P)?P.includes({...c,...p}[N]):{...c,...p}[N]===P})?[...v,x,E]:v},[]);return hb(t,u,m,r==null?void 0:r.class,r==null?void 0:r.className)},Uv=Fv("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),pr=w.forwardRef(({className:t,variant:e,size:r,asChild:s=!1,...l},c)=>{const u=s?zP:"button";return n.jsx(u,{className:xt(Uv({variant:e,size:r,className:t})),ref:c,...l})});pr.displayName="Button";function zd({options:t,value:e,onChange:r,placeholder:s}){const[l,c]=w.useState(!1),u=Te.useRef(null);w.useEffect(()=>{function v(y){u.current&&!u.current.contains(y.target)&&c(!1)}return document.addEventListener("mousedown",v),()=>document.removeEventListener("mousedown",v)},[]);const p=t.find(v=>v.value===e),m=p?p.label:s;return n.jsxs("div",{ref:u,style:{position:"relative"},children:[n.jsxs("button",{onClick:()=>c(!l),className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-100 bg-white",style:{display:"flex",alignItems:"center",justifyContent:"space-between",textAlign:"left"},children:[n.jsx("span",{className:"text-sm text-slate-700",children:m}),n.jsx("svg",{className:`w-4 h-4 text-slate-500 transition-transform flex-shrink-0 ml-2 ${l?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),l&&n.jsx("div",{className:"absolute z-50 w-full mt-2 bg-white rounded-lg shadow-lg overflow-hidden",style:{border:"1px solid #376295"},children:t.map(v=>n.jsx("div",{onClick:()=>{r(v.value),c(!1)},className:"px-4 py-3 cursor-pointer transition-colors text-sm text-slate-700 hover:bg-blue-50",style:{backgroundColor:e===v.value?"#E8F0F8":"white",fontWeight:e===v.value?"600":"normal"},children:v.label},v.value))})]})}function dO(){var le;const t=Sr(),{user:e}=al(),[r,s]=w.useState("day"),[l,c]=w.useState(new Date),[u,p]=w.useState(new Date),[m,v]=w.useState([]),[y,x]=w.useState(!0),[E,S]=w.useState(""),[k,N]=w.useState(""),[P,O]=w.useState("total"),[T,R]=w.useState({status:"",atendente:"",motoboy:"",regiao:"",periodo:""}),[z,Y]=w.useState(!1),[D,J]=w.useState(null),ne=A=>{const H=A.getFullYear(),V=A.getMonth(),F=new Date(H,V,1),xe=new Date(H,V+1,0).getDate(),pe=F.getDay(),ie=[];for(let Pe=0;Pe<pe;Pe++)ie.push({day:"",isCurrentMonth:!1});for(let Pe=1;Pe<=xe;Pe++){const Me=new Date(H,V,Pe);ie.push({day:Pe,isCurrentMonth:!0,isSelected:Pe===l.getDate()&&V===l.getMonth()&&H===l.getFullYear(),date:Me})}return ie},we=async()=>{x(!0);try{let A=Le.from("entregas").select(`
          *,
          cliente:clientes(id, nome, telefone),
          endereco:enderecos(id, logradouro, numero, bairro, cidade, complemento),
          motoboy:motoboys(id, nome)
        `).eq("tipo","moto").order("data_entrega",{ascending:!0});const{data:H,error:V}=await A;if(V)throw V;const ce=await Promise.all((H||[]).map(async pe=>{let ie=[];if(pe.clientes_adicionais&&pe.clientes_adicionais.length>0){const{data:Me}=await Le.from("clientes").select("id, nome, telefone").in("id",pe.clientes_adicionais);ie=Me||[]}const Pe=pe.endereco_logradouro?{id:pe.endereco_id,logradouro:pe.endereco_logradouro,numero:pe.endereco_numero,complemento:pe.endereco_complemento,bairro:pe.endereco_bairro,cidade:pe.endereco_cidade,cep:pe.endereco_cep}:pe.endereco;return{...pe,endereco:Pe,clientes_adicionais_data:ie}}))||[],xe=[{id:"exemplo-1",status:"A Caminho",requisicao:"12345",atendente:"Maria Isabel",data_entrega:l.toISOString(),regiao:"Centro",periodo:"Manh",valor:45.5,forma_pagamento:"Dinheiro",cliente:{nome:"Maria Silva Santos",telefone:"(11) 98765-4321"},endereco:{logradouro:"Rua das Flores",numero:"123",complemento:"Apto 45",bairro:"Jardim Paulista",cidade:"So Paulo"},motoboy:{nome:"Marcio"}},{id:"exemplo-2",status:"Produzindo no Laboratrio",requisicao:"12346",atendente:"Joo Silva",data_entrega:l.toISOString(),regiao:"Zona Sul",periodo:"Tarde",valor:32,forma_pagamento:"Carto",cliente:{nome:"Carlos Eduardo Oliveira",telefone:"(11) 97654-3210"},endereco:{logradouro:"Avenida Paulista",numero:"1578",complemento:"Sala 201",bairro:"Bela Vista",cidade:"So Paulo"},motoboy:{nome:"Bruno"}},{id:"exemplo-3",status:"Entregue",requisicao:"12347",atendente:"Ana Paula",data_entrega:l.toISOString(),regiao:"Zona Norte",periodo:"Manh",valor:28.75,forma_pagamento:"Pix",cliente:{nome:"Ana Paula Costa",telefone:"(11) 96543-2109"},endereco:{logradouro:"Rua Augusta",numero:"789",bairro:"Consolao",cidade:"So Paulo"},motoboy:{nome:"Marcio"}},{id:"exemplo-4",status:"A Caminho",requisicao:"REQ-001",atendente:"Carlos Santos",data_entrega:l.toISOString(),regiao:"ITAJA",periodo:"Tarde",valor:52,forma_pagamento:"Boleto",item_geladeira:!0,cliente:{nome:"Roberto Santos Silva",telefone:"(47) 99876-5432"},endereco:{logradouro:"Rua das Accias",numero:"456",complemento:"Casa",bairro:"Centro",cidade:"Itaja"},motoboy:{nome:"Marcio"}},{id:"exemplo-5",status:"Produzindo no Laboratrio",requisicao:"REQ-002",atendente:"Maria Isabel",data_entrega:l.toISOString(),regiao:"PRAIA BRAVA",periodo:"Manh",valor:65,forma_pagamento:"Pix - Aguardando",buscar_receita:!0,cliente:{nome:"Fernanda Lima Costa",telefone:"(47) 98888-7777"},endereco:{logradouro:"Avenida Atlntica",numero:"2000",complemento:"Apto 302",bairro:"Praia Brava",cidade:"Balnerio Cambori"},motoboy:{nome:"Bruno"}},{id:"exemplo-6",status:"A Caminho",requisicao:"REQ-003",atendente:"Joo Silva",data_entrega:l.toISOString(),regiao:"Centro",periodo:"Tarde",valor:38,forma_pagamento:"Carto",cliente:{nome:"Pedro Henrique Alves",telefone:"(11) 99123-4567"},endereco:{logradouro:"Rua Oscar Freire",numero:"500",bairro:"Jardins",cidade:"So Paulo"},motoboy:{nome:"Bruno"}},{id:"exemplo-7",status:"Entregue",requisicao:"REQ-004",atendente:"Ana Paula",data_entrega:l.toISOString(),regiao:"Zona Norte",periodo:"Manh",valor:42.5,forma_pagamento:"Pix",item_geladeira:!0,cliente:{nome:"Juliana Martins",telefone:"(11) 98234-5678"},endereco:{logradouro:"Avenida Pacaembu",numero:"1200",complemento:"Bloco A",bairro:"Pacaembu",cidade:"So Paulo"},motoboy:{nome:"Marcio"}},{id:"exemplo-8",status:"Produzindo no Laboratrio",requisicao:"REQ-005",atendente:"Carlos Santos",data_entrega:l.toISOString(),regiao:"ITAJA",periodo:"Tarde",valor:55,forma_pagamento:"Dinheiro",buscar_receita:!0,cliente:{nome:"Ricardo Souza Lima",telefone:"(47) 99345-6789"},endereco:{logradouro:"Rua Alberto Werner",numero:"800",bairro:"So Joo",cidade:"Itaja"},motoboy:{nome:"Bruno"}},{id:"exemplo-9",status:"A Caminho",requisicao:"REQ-006",atendente:"Maria Isabel",data_entrega:l.toISOString(),regiao:"PRAIA BRAVA",periodo:"Manh",valor:72,forma_pagamento:"Pix",item_geladeira:!0,buscar_receita:!0,cliente:{nome:"Beatriz Oliveira Santos",telefone:"(47) 98456-7890"},endereco:{logradouro:"Avenida Central",numero:"3500",complemento:"Apto 1502",bairro:"Praia Brava",cidade:"Balnerio Cambori"},motoboy:{nome:"Marcio"}},{id:"exemplo-10",status:"Entregue",requisicao:"REQ-007",atendente:"Joo Silva",data_entrega:l.toISOString(),regiao:"Zona Sul",periodo:"Tarde",valor:31.5,forma_pagamento:"Boleto",cliente:{nome:"Gustavo Ferreira Costa",telefone:"(11) 97567-8901"},endereco:{logradouro:"Avenida Ibirapuera",numero:"2500",bairro:"Moema",cidade:"So Paulo"},motoboy:{nome:"Bruno"}}];v(ce)}catch(A){console.error("Erro ao carregar entregas:",A),Se.error("Erro ao carregar entregas")}finally{x(!1)}};w.useEffect(()=>{we()},[]);const Z=A=>A.sort((H,V)=>{var $e,Ie,nt,it;const F=(($e=H.motoboy)==null?void 0:$e.nome)||"",ce=((Ie=V.motoboy)==null?void 0:Ie.nome)||"";if(F!==ce)return F.localeCompare(ce);const xe={"Produzindo no Laboratrio":1,"A Caminho":2,Entregue:3},pe=xe[H.status]||999,ie=xe[V.status]||999;if(pe!==ie)return pe-ie;const Pe=((nt=H.cliente)==null?void 0:nt.nome)||"",Me=((it=V.cliente)==null?void 0:it.nome)||"";return Pe.localeCompare(Me)}),$=A=>{var V;const H=[((V=A.cliente)==null?void 0:V.nome)||"Cliente no informado"];return A.clientes_adicionais_data&&A.clientes_adicionais_data.length>0&&A.clientes_adicionais_data.forEach(F=>{H.push(F.nome)}),H},re=A=>{const H=$(A);return H.length===1?H[0]:H.join(", ")},U=m.filter(A=>{var H,V,F,ce;if(r==="day"){if(!A.data_entrega)return!1;const xe=A.data_entrega.split("T")[0],pe=l.toISOString().split("T")[0];if(xe!==pe)return!1}if(k){if(k==="A Caminho"){if(A.status!=="A Caminho"&&A.status!=="Em Rota")return!1}else if(A.status!==k)return!1}if(E){const xe=E.toLowerCase(),ie=$(A).some($e=>$e.toLowerCase().includes(xe)),Pe=(H=A.requisicao)==null?void 0:H.toLowerCase().includes(xe),Me=(F=(V=A.cliente)==null?void 0:V.telefone)==null?void 0:F.includes(E);if(!ie&&!Pe&&!Me)return!1}return!(T.atendente&&A.atendente!==T.atendente||T.motoboy&&((ce=A.motoboy)==null?void 0:ce.nome)!==T.motoboy||T.regiao&&A.regiao!==T.regiao||T.periodo&&A.periodo!==T.periodo)}),W=Z(U.filter(A=>A.periodo==="Manh")),be=Z(U.filter(A=>A.periodo==="Tarde")),me=m.filter(A=>{if(r==="day"){if(!A.data_entrega)return!1;const H=A.data_entrega.split("T")[0],V=l.toISOString().split("T")[0];if(H!==V)return!1}return!0}),_e={total:me.length,producao:me.filter(A=>A.status==="Produzindo no Laboratrio").length,caminho:me.filter(A=>A.status==="A Caminho"||A.status==="Em Rota").length,entregues:me.filter(A=>A.status==="Entregue").length,iniciar:me.filter(A=>A.status==="Iniciar").length,pendente:me.filter(A=>A.status==="Pendente").length,voltou:me.filter(A=>A.status==="Voltou p/ Farmcia").length},q=async(A,H)=>{const V=Se.loading("Alterando status...");try{const{error:F}=await Le.from("entregas").update({status:H}).eq("id",A.id);if(F)throw F;Se.success("Status alterado com sucesso!",{id:V}),we(),Y(!1)}catch(F){console.error("Erro ao alterar status:",F),Se.error("Erro ao alterar status",{id:V})}},je=A=>{t(`/detalhes-romaneio?id=${A.id}`)};return n.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100",children:[n.jsx("div",{className:"py-8 shadow-sm",style:{background:"linear-gradient(135deg, #457bba 0%, #890d5d 100%)"},children:n.jsx("div",{className:"max-w-7xl mx-auto px-6",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("button",{onClick:()=>t(-1),className:"p-2 rounded-lg bg-white/20 hover:bg-white/30 transition-colors",children:n.jsx(jr,{className:"w-6 h-6 text-white"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-4xl font-bold text-white",children:"Entregas Moto"}),n.jsxs("p",{className:"text-base text-white opacity-90 mt-1",children:["Ol, ",(e==null?void 0:e.nome)||(e==null?void 0:e.usuario)||"Usurio"]})]})]})})}),n.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-6 flex flex-col lg:flex-row gap-6",children:[n.jsx("div",{className:"w-full lg:w-80 flex-shrink-0",children:n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6 sticky top-6",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[n.jsxs("button",{onClick:()=>s("day"),className:"flex-1 flex items-center justify-center gap-2 px-4 py-2 rounded-lg font-semibold text-sm transition-all",style:{backgroundColor:r==="day"?"#376295":"white",color:r==="day"?"white":"#64748b",border:r==="day"?"none":"1px solid #e2e8f0"},children:[n.jsx(Ic,{className:"w-4 h-4"}),"Por Dia"]}),n.jsxs("button",{onClick:()=>{s("all"),N("")},className:"flex-1 flex items-center justify-center gap-2 px-4 py-2 rounded-lg font-semibold text-sm transition-all",style:{backgroundColor:r==="all"?"#376295":"white",color:r==="all"?"white":"#64748b",border:r==="all"?"none":"1px solid #e2e8f0"},children:[n.jsx(Ji,{className:"w-4 h-4"}),"Todos"]})]}),n.jsxs("div",{className:"border rounded-xl p-3 mb-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsx("button",{onClick:()=>{const A=new Date(u);A.setMonth(A.getMonth()-1),p(A)},className:"p-2 hover:bg-slate-100 rounded-lg transition-colors",children:n.jsx(jr,{className:"w-5 h-5 text-slate-600"})}),n.jsx("span",{className:"text-sm font-semibold text-slate-700",children:u.toLocaleDateString("pt-BR",{month:"long",year:"numeric"}).replace(/^\w/,A=>A.toUpperCase())}),n.jsx("button",{onClick:()=>{const A=new Date(u);A.setMonth(A.getMonth()+1),p(A)},className:"p-2 hover:bg-slate-100 rounded-lg transition-colors",children:n.jsx(vu,{className:"w-5 h-5 text-slate-600"})})]}),n.jsxs("div",{className:"grid grid-cols-7 gap-1",children:[["dom","seg","ter","qua","qui","sex","sb"].map(A=>n.jsx("div",{className:"text-center text-xs font-semibold text-slate-500 py-2",children:A},A)),ne(u).map((A,H)=>{var ce;if(!A.isCurrentMonth)return n.jsx("div",{className:"aspect-square"},H);const V=A.isSelected,F=((ce=A.date)==null?void 0:ce.toDateString())===new Date().toDateString();return n.jsx("button",{onClick:()=>{c(A.date),s("day")},className:"aspect-square rounded-lg text-sm font-medium transition-all flex items-center justify-center hover:bg-blue-50",style:{backgroundColor:V?"#376295":"transparent",color:V?"white":F?"#376295":"#1e293b",fontWeight:F||V?"bold":"normal"},children:A.day},H)})]})]}),n.jsxs("div",{className:"text-center pt-4 border-t border-slate-200",children:[n.jsx("div",{className:"text-base font-semibold text-slate-700",children:l.toLocaleDateString("pt-BR",{day:"numeric",month:"long"})}),n.jsxs("div",{className:"text-sm text-slate-500",children:[_e.total," entregas"]})]}),n.jsxs("button",{onClick:()=>{const A=l.toISOString().split("T")[0];t(`/relatorios?data=${A}`)},className:"w-full mt-4 flex items-center justify-center gap-2 px-4 py-3 border border-slate-300 rounded-lg hover:bg-slate-50 transition-colors",children:[n.jsx(Ji,{className:"w-4 h-4 text-slate-600"}),n.jsx("span",{className:"text-sm font-medium text-slate-700",children:"Relatrio do Dia"})]}),n.jsxs("button",{onClick:()=>{const A=l.toISOString().split("T")[0];t(`/romaneios-do-dia?data=${A}`)},className:"w-full mt-2 flex items-center justify-center gap-2 px-4 py-3 border border-slate-300 rounded-lg hover:bg-slate-50 transition-colors",style:{borderColor:"#890d5d"},children:[n.jsx(dn,{className:"w-4 h-4",style:{color:"#890d5d"}}),n.jsx("span",{className:"text-sm font-medium",style:{color:"#890d5d"},children:"Romaneios do Dia"})]})]})}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"grid grid-cols-5 gap-4 mb-6",children:[n.jsxs("div",{className:"col-span-4 space-y-3",children:[n.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[n.jsxs("div",{onClick:()=>{N(""),O("total")},className:"bg-white rounded-xl shadow-sm p-5 cursor-pointer transition-all hover:shadow-md",style:{border:P==="total"?"2px solid #376295":"2px solid transparent"},children:[n.jsxs("div",{className:"flex items-center justify-center gap-2 mb-3",children:[n.jsx("div",{className:"p-2 rounded-lg",style:{backgroundColor:"#E8F0F8"},children:n.jsx(Ji,{className:"w-6 h-6",style:{color:"#376295"}})}),n.jsx("span",{className:"text-sm font-bold text-slate-700",children:"Total"})]}),n.jsx("div",{className:"text-4xl font-bold text-center",style:{color:"#376295"},children:_e.total})]}),n.jsxs("div",{onClick:()=>{N("Produzindo no Laboratrio"),O("producao")},className:"bg-white rounded-xl shadow-sm p-5 cursor-pointer transition-all hover:shadow-md",style:{border:P==="producao"?"2px solid #890d5d":"2px solid transparent"},children:[n.jsxs("div",{className:"flex items-center justify-center gap-2 mb-3",children:[n.jsx("div",{className:"p-2 rounded-lg",style:{backgroundColor:"#F5E8F5"},children:n.jsx(ao,{className:"w-6 h-6",style:{color:"#890d5d"}})}),n.jsx("span",{className:"text-sm font-bold text-slate-700",children:"Produo"})]}),n.jsx("div",{className:"text-4xl font-bold text-center",style:{color:"#890d5d"},children:_e.producao})]}),n.jsxs("div",{onClick:()=>{N("A Caminho"),O("caminho")},className:"bg-white rounded-xl shadow-sm p-5 cursor-pointer transition-all hover:shadow-md",style:{border:P==="caminho"?"2px solid #f97316":"2px solid transparent"},children:[n.jsxs("div",{className:"flex items-center justify-center gap-2 mb-3",children:[n.jsx("div",{className:"p-2 rounded-lg",style:{backgroundColor:"#FEF3E8"},children:n.jsx(To,{className:"w-6 h-6",style:{color:"#f97316"}})}),n.jsx("span",{className:"text-sm font-bold text-slate-700",children:"A Caminho"})]}),n.jsx("div",{className:"text-4xl font-bold text-center",style:{color:"#f97316"},children:_e.caminho})]}),n.jsxs("div",{onClick:()=>{N("Entregue"),O("entregues")},className:"bg-white rounded-xl shadow-sm p-5 cursor-pointer transition-all hover:shadow-md",style:{border:P==="entregues"?"2px solid #3dac38":"2px solid transparent"},children:[n.jsxs("div",{className:"flex items-center justify-center gap-2 mb-3",children:[n.jsx("div",{className:"p-2 rounded-lg",style:{backgroundColor:"#E8F5E8"},children:n.jsx(Xi,{className:"w-6 h-6",style:{color:"#3dac38"}})}),n.jsx("span",{className:"text-sm font-bold text-slate-700",children:"Entregues"})]}),n.jsx("div",{className:"text-4xl font-bold text-center",style:{color:"#3dac38"},children:_e.entregues})]})]}),n.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[n.jsxs("div",{className:"bg-slate-100 rounded-lg shadow-sm px-4 py-3 flex items-center justify-center gap-2",children:[n.jsx(To,{className:"w-5 h-5 text-slate-500"}),n.jsx("span",{className:"text-sm font-semibold text-slate-600",children:"Filtros Motoboy"})]}),n.jsxs("div",{onClick:()=>{N("Iniciar"),O("iniciar")},className:"bg-white rounded-lg shadow-sm px-4 py-3 cursor-pointer transition-all hover:shadow-md flex items-center justify-center gap-2",style:{border:P==="iniciar"?"2px solid #ca8a04":"2px solid transparent"},children:[n.jsx(k1,{className:"w-5 h-5",style:{color:"#ca8a04"}}),n.jsx("span",{className:"text-sm font-semibold text-slate-700",children:"Iniciar"}),n.jsx("span",{className:"text-lg font-bold",style:{color:"#ca8a04"},children:_e.iniciar})]}),n.jsxs("div",{onClick:()=>{N("Pendente"),O("pendente")},className:"bg-white rounded-lg shadow-sm px-4 py-3 cursor-pointer transition-all hover:shadow-md flex items-center justify-center gap-2",style:{border:P==="pendente"?"2px solid #c2410c":"2px solid transparent"},children:[n.jsx(N1,{className:"w-5 h-5",style:{color:"#c2410c"}}),n.jsx("span",{className:"text-sm font-semibold text-slate-700",children:"Pendente"}),n.jsx("span",{className:"text-lg font-bold",style:{color:"#c2410c"},children:_e.pendente})]}),n.jsxs("div",{onClick:()=>{N("Voltou p/ Farmcia"),O("voltou")},className:"bg-white rounded-lg shadow-sm px-4 py-3 cursor-pointer transition-all hover:shadow-md flex items-center justify-center gap-2",style:{border:P==="voltou"?"2px solid #b91c1c":"2px solid transparent"},children:[n.jsx(P1,{className:"w-5 h-5",style:{color:"#b91c1c"}}),n.jsx("span",{className:"text-sm font-semibold text-slate-700",children:"Voltou"}),n.jsx("span",{className:"text-lg font-bold",style:{color:"#b91c1c"},children:_e.voltou})]})]})]}),n.jsxs("div",{onClick:()=>t("/novo-romaneio"),className:"bg-white rounded-xl shadow-sm cursor-pointer transition-all hover:shadow-md flex flex-col items-center justify-center text-center",style:{background:"linear-gradient(135deg, #890d5d 0%, #6E0A4A 100%)"},children:[n.jsx("div",{className:"mb-1",children:n.jsx("span",{className:"text-sm font-bold text-white uppercase",children:"Novo Romaneio"})}),n.jsx("div",{className:"text-5xl font-bold text-white",children:"+"})]})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6 mb-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h2",{className:"text-lg font-bold text-slate-900",children:"Buscar e Filtrar"}),(E||k||T.motoboy||T.regiao||T.periodo||T.atendente)&&n.jsxs("button",{onClick:()=>{S(""),N(""),O("total"),R({status:"",atendente:"",motoboy:"",regiao:"",periodo:""})},className:"px-4 py-2 text-sm font-medium text-slate-700 bg-slate-100 hover:bg-slate-200 rounded-lg transition-colors flex items-center gap-2",children:[n.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),"Limpar Filtros"]})]}),(E||k||T.motoboy||T.regiao||T.periodo||T.atendente)&&n.jsxs("div",{className:"mb-4 flex flex-wrap items-center gap-2",children:[n.jsx("span",{className:"text-sm font-medium text-slate-600",children:"Filtros ativos:"}),E&&n.jsxs("span",{className:"inline-flex items-center gap-1.5 px-3 py-1.5 bg-blue-100 text-blue-700 rounded text-sm font-medium",children:[n.jsx(uo,{className:"w-3.5 h-3.5"}),'Busca: "',E,'"',n.jsx("button",{onClick:()=>S(""),className:"ml-1 hover:bg-blue-200 rounded p-0.5 transition-colors",children:n.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),k&&n.jsxs("span",{className:"inline-flex items-center gap-1.5 px-3 py-1.5 rounded text-sm font-medium",style:{backgroundColor:k==="Entregue"?"#E8F5E8":k==="A Caminho"?"#FEF3E8":"#F5E8F5",color:k==="Entregue"?"#3dac38":k==="A Caminho"?"#f97316":"#890d5d"},children:["Status: ",k==="Produzindo no Laboratrio"?"Produo":k,n.jsx("button",{onClick:()=>{N(""),O("total")},className:"ml-1 hover:opacity-70 rounded p-0.5 transition-opacity",children:n.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),T.motoboy&&n.jsxs("span",{className:"inline-flex items-center gap-1.5 px-3 py-1.5 bg-orange-100 text-orange-700 rounded text-sm font-medium",children:[n.jsx(To,{className:"w-3.5 h-3.5"}),"Motoboy: ",T.motoboy,n.jsx("button",{onClick:()=>R({...T,motoboy:""}),className:"ml-1 hover:bg-orange-200 rounded p-0.5 transition-colors",children:n.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),T.regiao&&n.jsxs("span",{className:"inline-flex items-center gap-1.5 px-3 py-1.5 rounded text-sm font-medium",style:{backgroundColor:"#F5E8F5",color:"#890d5d"},children:[n.jsx(Nc,{className:"w-3.5 h-3.5"}),"Regio: ",T.regiao,n.jsx("button",{onClick:()=>R({...T,regiao:""}),className:"ml-1 hover:opacity-70 rounded p-0.5 transition-opacity",children:n.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),T.periodo&&n.jsxs("span",{className:"inline-flex items-center gap-1.5 px-3 py-1.5 bg-amber-100 text-amber-700 rounded text-sm font-medium",children:[n.jsx(Ro,{className:"w-3.5 h-3.5"}),"Perodo: ",T.periodo,n.jsx("button",{onClick:()=>R({...T,periodo:""}),className:"ml-1 hover:bg-amber-200 rounded p-0.5 transition-colors",children:n.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),T.atendente&&n.jsxs("span",{className:"inline-flex items-center gap-1.5 px-3 py-1.5 bg-green-100 text-green-700 rounded text-sm font-medium",children:[n.jsx(lo,{className:"w-3.5 h-3.5"}),"Atendente: ",T.atendente,n.jsx("button",{onClick:()=>R({...T,atendente:""}),className:"ml-1 hover:bg-green-200 rounded p-0.5 transition-colors",children:n.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"relative",children:[n.jsx(uo,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),n.jsx("input",{type:"text",value:E,onChange:A=>S(A.target.value),placeholder:"Buscar por cliente, requisio, atendente ou telefone...",className:"w-full pl-10 pr-4 py-3 border border-slate-300 rounded-lg focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-100 transition-all"})]}),n.jsxs("div",{className:"grid grid-cols-5 gap-4",children:[n.jsx(zd,{options:[{value:"",label:"Status"},{value:"Produzindo no Laboratrio",label:"Produo"},{value:"A Caminho",label:"A Caminho"},{value:"Entregue",label:"Entregue"},{value:"Iniciar",label:"Iniciar"},{value:"Pendente",label:"Pendente"},{value:"Voltou p/ Farmcia",label:"Voltou"}],value:k,onChange:A=>{N(A),O("")},placeholder:"Status"}),n.jsx(zd,{options:[{value:"",label:"Atendentes"},{value:"Maria Isabel",label:"Maria Isabel"},{value:"Joo Silva",label:"Joo Silva"},{value:"Ana Paula",label:"Ana Paula"},{value:"Carlos Santos",label:"Carlos Santos"}],value:T.atendente,onChange:A=>R({...T,atendente:A}),placeholder:"Atendentes"}),n.jsx(zd,{options:[{value:"",label:"Motoboys"},...Array.from(new Set(m.map(A=>{var H;return(H=A.motoboy)==null?void 0:H.nome}).filter(Boolean))).map(A=>({value:A,label:A}))],value:T.motoboy,onChange:A=>R({...T,motoboy:A}),placeholder:"Motoboys"}),n.jsx(zd,{options:[{value:"",label:"Regies"},...Array.from(new Set(m.map(A=>A.regiao).filter(Boolean))).map(A=>({value:A,label:A}))],value:T.regiao,onChange:A=>R({...T,regiao:A}),placeholder:"Regies"}),n.jsx(zd,{options:[{value:"",label:"Perodos"},{value:"Manh",label:"Manh"},{value:"Tarde",label:"Tarde"}],value:T.periodo,onChange:A=>R({...T,periodo:A}),placeholder:"Perodos"})]})]})]}),n.jsx("div",{className:"space-y-6",children:y?n.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:n.jsxs("div",{className:"py-24 text-center",children:[n.jsx("div",{className:"inline-block w-8 h-8 border-4 border-slate-200 border-t-4 rounded-full animate-spin mb-4",style:{borderTopColor:"#376295"}}),n.jsx("p",{className:"text-slate-600",children:"Carregando entregas..."})]})}):U.length===0?n.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:n.jsxs("div",{className:"py-24 text-center",children:[n.jsx(ao,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:"Nenhuma entrega encontrada"}),n.jsx("p",{className:"text-sm text-slate-600",children:E||T.motoboy||T.regiao||T.periodo?"Tente ajustar os filtros de busca":r==="day"?"No h entregas para esta data":"No h entregas cadastradas"})]})}):n.jsxs(n.Fragment,{children:[W.length>0&&n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border-2 border-slate-300 p-6",children:[n.jsx("div",{className:"mb-6",children:n.jsxs("h2",{className:"text-2xl font-bold text-slate-900 flex items-center gap-2",children:[n.jsx(uA,{className:"w-7 h-7",style:{color:"#eab308"}}),"Entregas da Manh",n.jsx("span",{className:"text-lg font-semibold px-3 py-1 rounded-full bg-slate-100 text-slate-700",children:W.length})]})}),W.map(A=>{var H,V;return n.jsx("div",{onClick:()=>je(A),className:"p-5 mb-4 bg-white rounded-lg border border-slate-200 hover:border-slate-300 transition-all cursor-pointer hover:shadow-md last:mb-0",children:n.jsxs("div",{className:"flex items-center justify-between gap-6",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[n.jsxs("span",{className:"text-base font-semibold",style:{color:"#376295"},children:["#",A.requisicao]}),A.atendente&&n.jsxs(n.Fragment,{children:[n.jsx("span",{className:"text-slate-400",children:""}),n.jsxs("span",{className:"text-sm font-medium text-slate-600 flex items-center gap-1.5",children:[n.jsx(lo,{className:"w-3.5 h-3.5"}),A.atendente]})]}),n.jsx("span",{className:"px-3 py-1 rounded text-xs font-medium",style:{backgroundColor:A.status==="Entregue"?"#E8F5E8":A.status==="A Caminho"?"#FEF3E8":"#F5E8F5",color:A.status==="Entregue"?"#3dac38":A.status==="A Caminho"?"#f97316":"#890d5d"},children:A.status==="Produzindo no Laboratrio"?"Produo":A.status})]}),n.jsx("h3",{className:"text-lg font-bold text-slate-900 mb-2",children:re(A)}),n.jsx("div",{className:"mb-3 text-sm text-slate-600",children:n.jsx("span",{children:A.endereco?`${A.endereco.logradouro}, ${A.endereco.numero} - ${A.endereco.bairro} - ${A.endereco.cidade}`:A.endereco_destino||"Endereo no informado"})}),n.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-slate-900",children:[A.motoboy&&n.jsxs("div",{className:"flex items-center gap-1.5",children:[n.jsx(To,{className:"w-4 h-4",style:{color:"#1e293b"}}),n.jsx("span",{children:A.motoboy.nome})]}),A.periodo&&n.jsxs("div",{className:"flex items-center gap-1.5",children:[n.jsx(Ro,{className:"w-4 h-4",style:{color:"#1e293b"}}),n.jsx("span",{children:A.periodo})]}),A.forma_pagamento&&n.jsxs("div",{className:"flex items-center gap-1.5 flex-wrap",children:[n.jsx(qg,{className:"w-4 h-4",style:{color:"#1e293b"}}),n.jsx("span",{children:A.forma_pagamento}),A.valor_venda>0&&["Receber Dinheiro","Receber Mquina","Pagar MP"].includes(A.forma_pagamento)&&n.jsxs("span",{style:{backgroundColor:"#e8f5e9",color:"#1b5e20",padding:"2px 8px",borderRadius:"4px",fontSize:"0.75rem",fontWeight:"bold",marginLeft:"4px",border:"1px solid #4caf50",display:"inline-flex",alignItems:"center",gap:"4px"},children:["COBRAR: R$ ",A.valor_venda.toFixed(2)]}),A.precisa_troco&&A.valor_troco>0&&n.jsxs("span",{style:{backgroundColor:"#fff3e0",color:"#e65100",padding:"2px 8px",borderRadius:"4px",fontSize:"0.75rem",fontWeight:"bold",marginLeft:"4px",border:"1px solid #ff9800",display:"inline-flex",alignItems:"center",gap:"4px"},children:[n.jsx(ob,{className:"w-3 h-3"}),"TROCO: R$ ",A.valor_troco.toFixed(2)]})]}),((H=A.cliente)==null?void 0:H.telefone)&&n.jsxs("div",{className:"flex items-center gap-1.5",children:[n.jsx(tu,{className:"w-4 h-4",style:{color:"#1e293b"}}),n.jsx("span",{children:A.cliente.telefone})]})]}),A.observacoes&&n.jsxs("div",{className:"mt-2 text-sm text-slate-600 italic bg-slate-50 p-2 rounded",children:[n.jsx("span",{className:"font-medium",children:"Obs:"})," ",A.observacoes]})]}),n.jsxs("div",{className:"flex flex-col items-center gap-3",children:[(A.item_geladeira||A.buscar_receita)&&n.jsxs("div",{className:"flex items-center gap-2",children:[A.item_geladeira&&n.jsxs("span",{className:"px-4 py-2 rounded text-sm font-semibold flex items-center gap-2",style:{backgroundColor:"#cffafe",color:"#0c4a6e"},children:[n.jsx(nb,{className:"w-5 h-5"}),"Geladeira"]}),A.buscar_receita&&n.jsxs("span",{className:"px-4 py-2 rounded text-sm font-semibold flex items-center gap-2",style:{backgroundColor:"#fef3c7",color:"#92400e"},children:[n.jsx(dn,{className:"w-5 h-5"}),"Reter Receita"]})]}),n.jsxs("div",{className:"text-right",children:[n.jsxs("div",{className:"text-2xl font-bold",style:{color:"#376295"},children:["R$ ",((V=A.valor)==null?void 0:V.toFixed(2))||"0.00"]}),n.jsx("div",{className:"text-sm font-medium",style:{color:"#376295"},children:A.regiao}),n.jsx("div",{className:"text-sm text-slate-500 mt-1",children:A.data_entrega?new Date(A.data_entrega+"T12:00:00").toLocaleDateString("pt-BR"):"-"})]})]})]})},A.id)})]}),be.length>0&&n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[n.jsx("div",{className:"mb-6",children:n.jsxs("h2",{className:"text-2xl font-bold text-slate-900 flex items-center gap-2",children:[n.jsx(Dv,{className:"w-7 h-7",style:{color:"#f97316"}}),"Entregas da Tarde",n.jsx("span",{className:"text-lg font-semibold px-3 py-1 rounded-full bg-slate-100 text-slate-700",children:be.length})]})}),be.map(A=>{var H,V;return n.jsx("div",{onClick:()=>je(A),className:"p-5 mb-4 bg-white rounded-lg border border-slate-200 hover:border-slate-300 transition-all cursor-pointer hover:shadow-md last:mb-0",children:n.jsxs("div",{className:"flex items-center justify-between gap-6",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[n.jsxs("span",{className:"text-base font-semibold",style:{color:"#376295"},children:["#",A.requisicao]}),A.atendente&&n.jsxs(n.Fragment,{children:[n.jsx("span",{className:"text-slate-400",children:""}),n.jsxs("span",{className:"text-sm font-medium text-slate-600 flex items-center gap-1.5",children:[n.jsx(lo,{className:"w-3.5 h-3.5"}),A.atendente]})]}),n.jsx("span",{className:"px-3 py-1 rounded text-xs font-medium",style:{backgroundColor:A.status==="Entregue"?"#E8F5E8":A.status==="A Caminho"?"#FEF3E8":"#F5E8F5",color:A.status==="Entregue"?"#3dac38":A.status==="A Caminho"?"#f97316":"#890d5d"},children:A.status==="Produzindo no Laboratrio"?"Produo":A.status})]}),n.jsx("h3",{className:"text-lg font-bold text-slate-900 mb-2",children:re(A)}),n.jsx("div",{className:"mb-3 text-sm text-slate-600",children:n.jsx("span",{children:A.endereco?`${A.endereco.logradouro}, ${A.endereco.numero} - ${A.endereco.bairro} - ${A.endereco.cidade}`:A.endereco_destino||"Endereo no informado"})}),n.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-slate-900",children:[A.motoboy&&n.jsxs("div",{className:"flex items-center gap-1.5",children:[n.jsx(To,{className:"w-4 h-4",style:{color:"#1e293b"}}),n.jsx("span",{children:A.motoboy.nome})]}),A.periodo&&n.jsxs("div",{className:"flex items-center gap-1.5",children:[n.jsx(Ro,{className:"w-4 h-4",style:{color:"#1e293b"}}),n.jsx("span",{children:A.periodo})]}),A.forma_pagamento&&n.jsxs("div",{className:"flex items-center gap-1.5 flex-wrap",children:[n.jsx(qg,{className:"w-4 h-4",style:{color:"#1e293b"}}),n.jsx("span",{children:A.forma_pagamento}),A.valor_venda>0&&["Receber Dinheiro","Receber Mquina","Pagar MP"].includes(A.forma_pagamento)&&n.jsxs("span",{style:{backgroundColor:"#e8f5e9",color:"#1b5e20",padding:"2px 8px",borderRadius:"4px",fontSize:"0.75rem",fontWeight:"bold",marginLeft:"4px",border:"1px solid #4caf50",display:"inline-flex",alignItems:"center",gap:"4px"},children:["COBRAR: R$ ",A.valor_venda.toFixed(2)]}),A.precisa_troco&&A.valor_troco>0&&n.jsxs("span",{style:{backgroundColor:"#fff3e0",color:"#e65100",padding:"2px 8px",borderRadius:"4px",fontSize:"0.75rem",fontWeight:"bold",marginLeft:"4px",border:"1px solid #ff9800",display:"inline-flex",alignItems:"center",gap:"4px"},children:[n.jsx(ob,{className:"w-3 h-3"}),"TROCO: R$ ",A.valor_troco.toFixed(2)]})]}),((H=A.cliente)==null?void 0:H.telefone)&&n.jsxs("div",{className:"flex items-center gap-1.5",children:[n.jsx(tu,{className:"w-4 h-4",style:{color:"#1e293b"}}),n.jsx("span",{children:A.cliente.telefone})]})]}),A.observacoes&&n.jsxs("div",{className:"mt-2 text-sm text-slate-600 italic bg-slate-50 p-2 rounded",children:[n.jsx("span",{className:"font-medium",children:"Obs:"})," ",A.observacoes]})]}),n.jsxs("div",{className:"flex flex-col items-center gap-3",children:[(A.item_geladeira||A.buscar_receita)&&n.jsxs("div",{className:"flex items-center gap-2",children:[A.item_geladeira&&n.jsxs("span",{className:"px-4 py-2 rounded text-sm font-semibold flex items-center gap-2",style:{backgroundColor:"#cffafe",color:"#0c4a6e"},children:[n.jsx(nb,{className:"w-5 h-5"}),"Geladeira"]}),A.buscar_receita&&n.jsxs("span",{className:"px-4 py-2 rounded text-sm font-semibold flex items-center gap-2",style:{backgroundColor:"#fef3c7",color:"#92400e"},children:[n.jsx(dn,{className:"w-5 h-5"}),"Reter Receita"]})]}),n.jsxs("div",{className:"text-right",children:[n.jsxs("div",{className:"text-2xl font-bold",style:{color:"#376295"},children:["R$ ",((V=A.valor)==null?void 0:V.toFixed(2))||"0.00"]}),n.jsx("div",{className:"text-sm font-medium",style:{color:"#376295"},children:A.regiao}),n.jsx("div",{className:"text-sm text-slate-500 mt-1",children:A.data_entrega?new Date(A.data_entrega+"T12:00:00").toLocaleDateString("pt-BR"):"-"})]})]})]})},A.id)})]})]})})]})]}),n.jsx(ds,{open:z,onOpenChange:Y,children:n.jsxs(Ao,{className:"max-w-2xl",children:[n.jsx(Oo,{children:n.jsx(Mo,{style:{color:"#376295"},children:"Detalhes da Entrega"})}),D&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-slate-600 block mb-2",children:"Status Atual"}),n.jsx("span",{className:"inline-block px-4 py-2 rounded-lg text-sm font-semibold",style:{backgroundColor:D.status==="Entregue"?"#E8F5E8":D.status==="A Caminho"?"#F5E8F5":"#FEF9E8",color:D.status==="Entregue"?"#629537":D.status==="A Caminho"?"#6E0A4A":"#D8CA15"},children:D.status})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"text-sm font-medium text-slate-600 block mb-1",children:["Cliente",$(D).length>1?"s":""]}),n.jsx("div",{className:"text-slate-900",children:re(D)}),((le=D.cliente)==null?void 0:le.telefone)&&n.jsx("div",{className:"text-sm text-slate-600",children:D.cliente.telefone}),D.clientes_adicionais_data&&D.clientes_adicionais_data.length>0&&n.jsx("div",{className:"text-sm text-slate-600 mt-1",children:D.clientes_adicionais_data.map((A,H)=>n.jsx("div",{children:A.telefone},H))})]}),D.endereco&&n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-slate-600 block mb-1",children:"Endereo"}),n.jsxs("div",{className:"text-slate-900",children:[D.endereco.logradouro,", ",D.endereco.numero,D.endereco.complemento&&` - ${D.endereco.complemento}`,n.jsx("br",{}),D.endereco.bairro," - ",D.endereco.cidade]})]}),n.jsxs("div",{className:"flex gap-2 pt-4 border-t border-slate-200",children:[D.status!=="Entregue"&&n.jsxs(pr,{onClick:()=>q(D,"Entregue"),style:{backgroundColor:"#629537"},className:"text-white hover:opacity-90",children:[n.jsx(Xi,{className:"w-4 h-4 mr-2"}),"Marcar como Entregue"]}),D.status!=="A Caminho"&&n.jsxs(pr,{onClick:()=>q(D,"A Caminho"),style:{backgroundColor:"#6E0A4A"},className:"text-white hover:opacity-90",children:[n.jsx(To,{className:"w-4 h-4 mr-2"}),"Marcar como A Caminho"]})]})]})]})})]})}const uO={Marcio:{BC:9,"NOVA ESPERANA":11,CAMBORI:16,TABULEIRO:11,"MONTE ALEGRE":11,BARRA:11,ESTALEIRO:16,TAQUARAS:16,LARANJEIRAS:16,ITAJAI:19,ESPINHEIROS:23,"PRAIA DOS AMORES":13.5,"PRAIA BRAVA":13.5,ITAPEMA:27,NAVEGANTES:30,PENHA:52,"PORTO BELO":52,TIJUCAS:52,PIARRAS:52,BOMBINHAS:72,CLINICA:9},Bruno:{BC:7,"NOVA ESPERANA":9,CAMBORI:14,TABULEIRO:9,"MONTE ALEGRE":9,BARRA:9,ESTALEIRO:14,TAQUARAS:14,LARANJEIRAS:14,ITAJAI:17,ESPINHEIROS:21,"PRAIA DOS AMORES":11.5,"PRAIA BRAVA":11.5,ITAPEMA:25,NAVEGANTES:40,PENHA:50,"PORTO BELO":30,TIJUCAS:50,PIARRAS:50,BOMBINHAS:50,CLINICA:7}},hO={BC:12,"NOVA ESPERANA":15,CAMBORI:20,TABULEIRO:15,"MONTE ALEGRE":15,BARRA:15,ESTALEIRO:25,TAQUARAS:25,LARANJEIRAS:25,ITAJAI:25,ESPINHEIROS:35,"PRAIA DOS AMORES":15,"PRAIA BRAVA":15,ITAPEMA:35,NAVEGANTES:50,PENHA:75,"PORTO BELO":60,TIJUCAS:87,PIARRAS:80,BOMBINHAS:90,CLINICA:12},fO={BC:"Marcio","NOVA ESPERANA":"Marcio",CAMBORI:"Marcio",TABULEIRO:"Marcio","MONTE ALEGRE":"Marcio",BARRA:"Marcio",ESTALEIRO:"Marcio",CLINICA:"Marcio",TAQUARAS:"Bruno",LARANJEIRAS:"Bruno",ITAJAI:"Bruno",ESPINHEIROS:"Bruno","PRAIA DOS AMORES":"Bruno","PRAIA BRAVA":"Bruno",ITAPEMA:"Bruno",NAVEGANTES:"Bruno",PENHA:"Bruno","PORTO BELO":"Bruno",TIJUCAS:"Bruno",PIARRAS:"Bruno",BOMBINHAS:"Bruno"},mO=["BC","NOVA ESPERANA","CAMBORI","TABULEIRO","MONTE ALEGRE","BARRA","ESTALEIRO","TAQUARAS","LARANJEIRAS","ITAJAI","ESPINHEIROS","PRAIA DOS AMORES","PRAIA BRAVA","ITAPEMA","NAVEGANTES","PENHA","PORTO BELO","TIJUCAS","PIARRAS","BOMBINHAS","CLINICA","OUTRO"],Xp=["Aguardando","Boleto","Link Aguardando","Pagar MP","Pago Dinheiro","Pago Link","Pago Mquina","Pago Pix","Pix Aguardando","Receber Dinheiro","Receber Mquina","S Entregar","Via na Pasta"],fb={"balnerio cambori":{centro:"BC",estados:"BC",pioneiros:"BC","nova esperana":"NOVA ESPERANA",naes:"BC",barra:"BARRA","barra sul":"BARRA",estaleiro:"ESTALEIRO",estaleirinho:"ESTALEIRO",taquaras:"TAQUARAS",laranjeiras:"LARANJEIRAS","praia dos amores":"PRAIA DOS AMORES","praia brava":"PRAIA BRAVA",tabuleiro:"TABULEIRO","monte alegre":"MONTE ALEGRE",default:"BC"},bc:{default:"BC"},"balneario camboriu":{centro:"BC",estados:"BC",pioneiros:"BC","nova esperana":"NOVA ESPERANA","nova esperanca":"NOVA ESPERANA",naes:"BC",nacoes:"BC",barra:"BARRA","barra sul":"BARRA",estaleiro:"ESTALEIRO",estaleirinho:"ESTALEIRO",taquaras:"TAQUARAS",laranjeiras:"LARANJEIRAS","praia dos amores":"PRAIA DOS AMORES","praia brava":"PRAIA BRAVA",tabuleiro:"TABULEIRO","monte alegre":"MONTE ALEGRE",default:"BC"},cambori:{default:"CAMBORI"},camboriu:{default:"CAMBORI"},itaja:{centro:"ITAJAI","vila real":"ITAJAI",espinheiros:"ESPINHEIROS",default:"ITAJAI"},itajai:{centro:"ITAJAI","vila real":"ITAJAI",espinheiros:"ESPINHEIROS",default:"ITAJAI"},itapema:{default:"ITAPEMA"},navegantes:{default:"NAVEGANTES"},penha:{default:"PENHA"},"porto belo":{default:"PORTO BELO"},tijucas:{default:"TIJUCAS"},piarras:{default:"PIARRAS"},picarras:{default:"PIARRAS"},bombinhas:{default:"BOMBINHAS"}},$d=(t,e)=>{const r=(t==null?void 0:t.toLowerCase().trim())||"",s=(e==null?void 0:e.toLowerCase().trim())||"";if(console.log(" Detectando regio:",{cidade:r,bairro:s}),fb[r]){const l=fb[r];return s==="centro"?(console.log(" Bairro Centro - usando regio padro da cidade:",l.default),l.default):s&&l[s]&&l[s]!==l.default?(console.log(" Regio detectada por bairro cadastrado:",l[s]),l[s]):(console.log(" Regio detectada por cidade (default):",l.default),l.default)}return console.log(" Nenhuma regio detectada"),""};function pO(){const t=Sr(),e=ho(),[r,s]=w.useState(!1),[l,c]=w.useState(""),[u,p]=w.useState([]),[m,v]=w.useState(!1),[y,x]=w.useState({nome:"",cpf:"",telefone:"",email:"",enderecos:[{logradouro:"",numero:"",complemento:"",bairro:"",cidade:"",cep:"",is_principal:!0}]}),[E,S]=w.useState([]),[k,N]=w.useState([]),[P,O]=w.useState(null),[T,R]=w.useState(-1),[z,Y]=w.useState(""),[D,J]=w.useState([]),[ne,we]=w.useState(-1),[Z,$]=w.useState(!1),[re,U]=w.useState(null),[W,be]=w.useState({logradouro:"",numero:"",complemento:"",bairro:"",cidade:"",cep:"",regiao:""}),[me,_e]=w.useState(null),[q,je]=w.useState({logradouro:"",numero:"",complemento:"",bairro:"",cidade:"",cep:"",regiao:""}),[le,A]=w.useState(!1),[H,V]=w.useState(!1),[F,ce]=w.useState({numero_requisicao:"",regiao:"",outra_cidade:"",data_entrega:new Date().toISOString().split("T")[0],periodo:"Tarde",forma_pagamento:"",motoboy:"",valor_entrega:0,item_geladeira:!1,buscar_receita:!1,observacoes:"",precisa_troco:!1,valor_troco:0,valor_venda:0}),[xe,pe]=w.useState({}),ie=async B=>{if(c(B),R(-1),B.length<2){p([]);return}try{const{data:Q,error:de}=await Le.from("clientes").select("*").ilike("nome",`%${B}%`).limit(5);if(de)throw de;p(Q||[])}catch(Q){console.error("Erro ao buscar clientes:",Q)}},Pe=B=>{u.length!==0&&(B.key==="ArrowDown"?(B.preventDefault(),R(Q=>Q<u.length-1?Q+1:Q)):B.key==="ArrowUp"?(B.preventDefault(),R(Q=>Q>0?Q-1:-1)):B.key==="Enter"&&T>=0&&(B.preventDefault(),nt(u[T])))},Me=B=>{if(Y(B),we(-1),$(!0),B.length===0)J(Xp);else{const Q=Xp.filter(de=>de.toLowerCase().includes(B.toLowerCase()));J(Q)}},$e=B=>{D.length!==0&&(B.key==="ArrowDown"?(B.preventDefault(),we(Q=>Q<D.length-1?Q+1:0)):B.key==="ArrowUp"?(B.preventDefault(),we(Q=>Q>0?Q-1:D.length-1)):B.key==="Enter"&&ne>=0?(B.preventDefault(),Ie(D[ne])):B.key==="Escape"&&$(!1))},Ie=B=>{ce({...F,forma_pagamento:B}),Y(B),$(!1),J([]),we(-1)},nt=async B=>{if(E.find(Q=>Q.id===B.id)){Se.error("Cliente j adicionado!");return}try{const{data:Q,error:de}=await Le.from("enderecos").select("*").eq("cliente_id",B.id).order("is_principal",{ascending:!1});if(de)throw de;if(S([...E,B]),Q&&Q.length>0){const ge=Q.map(Ke=>({...Ke,cliente_nome:B.nome}));N(Ke=>{const Re=[...Ke,...ge];return Ke.length===0&&ge.length>0&&(O(ge[0]),ge[0].regiao&&Gt(ge[0].regiao)),Re})}c(""),p([]),R(-1),Se.success(`Cliente ${B.nome} adicionado!`)}catch(Q){console.error("Erro ao buscar endereos:",Q),Se.error("Erro ao carregar endereos do cliente")}},it=B=>{k.find(ge=>ge.id===me&&ge.cliente_id===B)&&_t(),S(E.filter(ge=>ge.id!==B));const de=k.filter(ge=>ge.cliente_id!==B);N(de),P&&P.cliente_id===B&&O(null),re===B&&U(null)},Lt=B=>{O(B);const Q=$d(B.cidade,B.bairro);Q?Gt(Q):B.regiao&&Gt(B.regiao)},$t=async B=>{try{if(!W.logradouro||!W.numero||!W.bairro||!W.cidade){Se.error("Preencha todos os campos obrigatrios do endereo");return}const de=$d(W.cidade,W.bairro)||W.regiao||"",ge={cliente_id:B,logradouro:W.logradouro,numero:W.numero,complemento:W.complemento,bairro:W.bairro,cidade:W.cidade,cep:W.cep,regiao:de,is_principal:!1},{data:Ke,error:Re}=await Le.from("enderecos").insert([ge]).select();if(Re)throw Re;if(Ke&&Ke.length>0){const at=Ke[0],dt=E.find(Tt=>Tt.id===B),Xe={...at,cliente_nome:dt==null?void 0:dt.nome};N([...k,Xe]),O(Xe),de&&Gt(de),be({logradouro:"",numero:"",complemento:"",bairro:"",cidade:"",cep:"",regiao:""}),U(null),Se.success("Endereo cadastrado com sucesso!")}}catch(Q){console.error("Erro ao salvar endereo:",Q),Se.error("Erro ao salvar endereo")}},Pt=B=>{_e(B.id),je({logradouro:B.logradouro||"",numero:B.numero||"",complemento:B.complemento||"",bairro:B.bairro||"",cidade:B.cidade||"",cep:B.cep||"",regiao:B.regiao||""}),U(null)},_t=()=>{_e(null),je({logradouro:"",numero:"",complemento:"",bairro:"",cidade:"",cep:"",regiao:""})},Nt=async()=>{try{if(!q.logradouro||!q.numero||!q.bairro||!q.cidade){Se.error("Preencha todos os campos obrigatrios do endereo");return}const Q=$d(q.cidade,q.bairro)||q.regiao||"",de={logradouro:q.logradouro,numero:q.numero,complemento:q.complemento,bairro:q.bairro,cidade:q.cidade,cep:q.cep,regiao:Q};console.log(" Atualizando endereo:",me,de);const{data:ge,error:Ke}=await Le.from("enderecos").update(de).eq("id",me).select();if(Ke)throw Ke;console.log(" Endereo atualizado no banco:",ge);const Re=k.find(Xe=>Xe.id===me);console.log(" Endereo antigo encontrado:",Re);const at={id:me,cliente_id:Re==null?void 0:Re.cliente_id,cliente_nome:Re==null?void 0:Re.cliente_nome,logradouro:q.logradouro,numero:q.numero,complemento:q.complemento,bairro:q.bairro,cidade:q.cidade,cep:q.cep,regiao:Q,is_principal:(Re==null?void 0:Re.is_principal)||!1};console.log(" Endereo completo para atualizar:",at);const dt=k.map(Xe=>Xe.id===me?at:Xe);console.log(" Novos endereos:",dt),N(dt),(P==null?void 0:P.id)===me&&(console.log(" Atualizando endereo selecionado"),O(at),Q&&Gt(Q)),_t(),Se.success("Endereo atualizado com sucesso!")}catch(B){console.error(" Erro ao atualizar endereo:",B),Se.error("Erro ao atualizar endereo")}};w.useEffect(()=>{if(W.cidade||W.bairro){const B=$d(W.cidade,W.bairro);B&&be(Q=>({...Q,regiao:B}))}},[W.cidade,W.bairro]),w.useEffect(()=>{re===null&&be({logradouro:"",numero:"",complemento:"",bairro:"",cidade:"",cep:"",regiao:""})},[re]),w.useEffect(()=>{if(me&&(q.cidade||q.bairro)){const B=$d(q.cidade,q.bairro);B&&je(Q=>({...Q,regiao:B}))}},[q.cidade,q.bairro,me]),w.useEffect(()=>{F.forma_pagamento&&F.forma_pagamento!==z&&Y(F.forma_pagamento)},[F.forma_pagamento]),w.useEffect(()=>{F.forma_pagamento!=="Receber Dinheiro"&&ce(B=>({...B,precisa_troco:!1,valor_troco:0}))},[F.forma_pagamento]);const ur=["Receber Dinheiro","Receber Mquina","Pagar MP"];w.useEffect(()=>{ur.includes(F.forma_pagamento)||ce(B=>({...B,valor_venda:0}))},[F.forma_pagamento]);const gr=async(B,Q,de)=>{if(de!=="Bruno")return A(!1),!1;V(!0);try{const{data:ge}=await Le.from("motoboys").select("id").eq("nome","Bruno").single();if(!ge)return A(!1),!1;const{count:Ke}=await Le.from("entregas").select("*",{count:"exact",head:!0}).eq("motoboy_id",ge.id).eq("data_entrega",B).eq("periodo","Manh"),{count:Re}=await Le.from("entregas").select("*",{count:"exact",head:!0}).eq("motoboy_id",ge.id).eq("data_entrega",B).eq("periodo","Tarde"),Xe=(Q==="Manh"?Ke===0:Re===0)&&(Q==="Manh"?Re===0||Re===1:Ke===0||Ke===1);return A(Xe),Xe}catch(ge){return console.error("Erro ao verificar entrega nica:",ge),A(!1),!1}finally{V(!1)}};w.useEffect(()=>{F.motoboy==="Bruno"&&F.data_entrega&&F.periodo?gr(F.data_entrega,F.periodo,F.motoboy):A(!1)},[F.motoboy,F.data_entrega,F.periodo]);const jt=(B,Q,de=le)=>{var ge;return B==="OUTRO"||!B||!Q?0:Q==="Bruno"&&de?hO[B]||0:((ge=uO[Q])==null?void 0:ge[B])||0};w.useEffect(()=>{if(F.motoboy==="Bruno"&&F.regiao&&F.regiao!=="OUTRO"){const B=jt(F.regiao,F.motoboy,le);ce(Q=>({...Q,valor_entrega:B}))}},[le]);const Gt=B=>{console.log("Mudando regio para:",B),ce(Q=>{const de=B==="OUTRO"?Q.motoboy:fO[B]||"Marcio",ge=jt(B,de,de==="Bruno"?le:!1);return console.log("Novo motoboy:",de,"Novo valor:",ge,"Entrega nica:",le),{...Q,regiao:B,motoboy:de,valor_entrega:ge}})},Cn=B=>{const Q=jt(F.regiao,B,B==="Bruno"?le:!1);ce({...F,motoboy:B,valor_entrega:Q})},Un=()=>{const B={};return E.length===0&&(B.cliente="Adicione pelo menos um cliente"),P||(B.endereco="Selecione um endereo para a entrega"),F.numero_requisicao||(B.requisicao="Nmero de requisio obrigatrio"),F.regiao||(B.regiao="Selecione a regio"),F.regiao==="OUTRO"&&!F.outra_cidade&&(B.outra_cidade="Informe a cidade"),F.data_entrega||(B.data="Data obrigatria"),F.forma_pagamento||(B.pagamento="Forma de pagamento obrigatria"),F.motoboy||(B.motoboy="Selecione o motoboy"),F.forma_pagamento==="Receber Dinheiro"&&F.precisa_troco&&(!F.valor_troco||F.valor_troco<=0)&&(B.valor_troco="Informe o valor do troco"),ur.includes(F.forma_pagamento)&&(!F.valor_venda||F.valor_venda<=0)&&(B.valor_venda="Informe o valor a cobrar"),pe(B),Object.keys(B).length===0},Ar=()=>{x({...y,enderecos:[...y.enderecos,{logradouro:"",numero:"",complemento:"",bairro:"",cidade:"",cep:"",is_principal:!1}]})},Wr=B=>{if(y.enderecos.length===1){Se.error(" necessrio pelo menos um endereo");return}x({...y,enderecos:y.enderecos.filter((Q,de)=>de!==B)})},se=(B,Q,de)=>{const ge=[...y.enderecos];ge[B]={...ge[B],[Q]:de},x({...y,enderecos:ge})},Ee=async()=>{if(!y.nome||!y.telefone){Se.error("Preencha nome e telefone");return}if(!y.enderecos.some(Q=>Q.logradouro&&Q.numero&&Q.cidade)){Se.error("Preencha pelo menos um endereo completo (Rua, Nmero e Cidade)");return}const B=Se.loading("Cadastrando cliente...");try{const{data:Q}=await Le.from("clientes").select("id, nome").ilike("nome",y.nome.trim()).limit(1);if(Q&&Q.length>0){Se.error(`J existe um cliente cadastrado com o nome "${Q[0].nome}"`,{id:B});return}const{data:de,error:ge}=await Le.from("clientes").insert([{nome:y.nome,cpf:y.cpf||null,telefone:y.telefone,email:y.email||null}]).select().single();if(ge)throw ge;const Ke=y.enderecos.filter(Re=>Re.logradouro&&Re.numero&&Re.cidade).map((Re,at)=>({cliente_id:de.id,logradouro:Re.logradouro,numero:Re.numero,complemento:Re.complemento||null,bairro:Re.bairro||null,cidade:Re.cidade,cep:Re.cep||null,regiao:Re.regiao||null,is_principal:at===0}));if(Ke.length>0){const{error:Re}=await Le.from("enderecos").insert(Ke);if(Re)throw Re}Se.success("Cliente cadastrado com sucesso!",{id:B}),nt(de),x({nome:"",cpf:"",telefone:"",email:"",enderecos:[{logradouro:"",numero:"",complemento:"",bairro:"",cidade:"",cep:"",is_principal:!0}]}),v(!1),c(""),p([])}catch(Q){console.error("Erro ao cadastrar cliente:",Q),Se.error("Erro ao cadastrar cliente: "+Q.message,{id:B})}},G=async B=>{var de;if(B.preventDefault(),!Un()){Se.error("Por favor, preencha todos os campos obrigatrios");return}s(!0);const Q=Se.loading("Criando romaneio...");try{let ge=null;if(F.motoboy){const{data:It}=await Le.from("motoboys").select("id").eq("nome",F.motoboy).limit(1);ge=((de=It==null?void 0:It[0])==null?void 0:de.id)||null}const Ke=P.endereco_completo||`${P.logradouro}, ${P.numero} - ${P.bairro}, ${P.cidade}`,Re=F.data_entrega+"T12:00:00",at=E.slice(1).map(It=>It.id),dt={cliente_id:E[0].id,endereco_id:P.id,requisicao:F.numero_requisicao,endereco_destino:Ke,regiao:F.regiao,outra_cidade:F.regiao==="OUTRO"?F.outra_cidade:null,tipo:"moto",data_criacao:new Date().toISOString(),data_entrega:Re,periodo:F.periodo,status:"Produzindo no Laboratrio",motoboy_id:ge,forma_pagamento:F.forma_pagamento,valor:F.valor_entrega,item_geladeira:F.item_geladeira,buscar_receita:F.buscar_receita,observacoes:F.observacoes,clientes_adicionais:at,precisa_troco:F.forma_pagamento==="Receber Dinheiro"?F.precisa_troco:!1,valor_troco:F.forma_pagamento==="Receber Dinheiro"&&F.precisa_troco?F.valor_troco:0,valor_venda:ur.includes(F.forma_pagamento)?F.valor_venda:0,endereco_logradouro:P.logradouro,endereco_numero:P.numero,endereco_complemento:P.complemento,endereco_bairro:P.bairro,endereco_cidade:P.cidade,endereco_cep:P.cep},{data:Xe,error:Tt}=await Le.from("entregas").insert([dt]).select();if(Tt)throw Tt;console.log("Entregas criadas:",Xe),await e.invalidateQueries({queryKey:["entregas"]}),await e.invalidateQueries({queryKey:["receitas"]}),await e.refetchQueries({queryKey:["entregas"]}),Se.success("Romaneio criado com sucesso!",{id:Q}),setTimeout(()=>t("/"),1e3)}catch(ge){console.error("Erro ao criar romaneio:",ge),Se.error("Erro ao criar romaneio: "+ge.message,{id:Q})}finally{s(!1)}};return n.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100",children:[n.jsx("div",{className:"py-8 shadow-sm",style:{background:"linear-gradient(135deg, #457bba 0%, #890d5d 100%)"},children:n.jsx("div",{className:"max-w-7xl mx-auto px-6",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("button",{onClick:()=>t(-1),className:"p-2 rounded-lg bg-white/20 hover:bg-white/30 transition-colors",children:n.jsx(jr,{className:"w-6 h-6 text-white"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-4xl font-bold text-white",children:"Novo Romaneio"}),n.jsx("p",{className:"text-base text-white opacity-90 mt-1",children:"Crie uma nova ordem de entrega"})]})]})})}),n.jsx("div",{className:"max-w-7xl mx-auto px-6 py-6",children:n.jsxs("form",{onSubmit:G,children:[n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6 mb-6",children:[n.jsx("h3",{className:"text-lg font-bold text-slate-900 mb-6",children:"Informaes do Romaneio"}),n.jsxs("div",{style:{marginBottom:"1rem"},children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:ae.colors.text,marginBottom:"0.5rem"},children:"Cliente(s) *"}),n.jsx("input",{type:"text",value:l,onChange:B=>ie(B.target.value),onKeyDown:Pe,placeholder:"Buscar cliente por nome, CPF ou telefone...",style:{width:"100%",padding:"0.75rem",border:`1px solid ${xe.cliente?ae.colors.danger:ae.colors.border}`,borderRadius:"0.5rem",fontSize:"0.875rem"}}),u.length>0&&n.jsx("div",{style:{position:"absolute",zIndex:10,background:"white",border:`1px solid ${ae.colors.border}`,borderRadius:"0.5rem",marginTop:"0.25rem",maxHeight:"200px",overflowY:"auto",boxShadow:"0 4px 6px rgba(0,0,0,0.1)",width:"100%"},children:u.map((B,Q)=>n.jsxs("div",{onClick:()=>nt(B),onMouseEnter:()=>R(Q),style:{padding:"0.75rem",cursor:"pointer",borderBottom:`1px solid ${ae.colors.border}`,background:Q===T?"#e3f2fd":"white",transition:"background 0.15s"},children:[n.jsx("p",{style:{fontWeight:"500",margin:0},children:B.nome}),n.jsx("p",{style:{fontSize:"0.75rem",color:ae.colors.textLight,margin:0},children:B.telefone})]},B.id))}),l.length>=2&&u.length===0&&n.jsx("button",{type:"button",onClick:()=>v(!0),style:{marginTop:"0.5rem",padding:"0.5rem 1rem",background:ae.colors.primary,color:"white",border:"none",borderRadius:"0.5rem",fontSize:"0.875rem",cursor:"pointer"},children:"+ Cadastrar Novo Cliente"}),xe.cliente&&n.jsx("p",{style:{color:ae.colors.danger,fontSize:"0.75rem",marginTop:"0.25rem"},children:xe.cliente})]}),E.length>0&&n.jsxs("div",{style:{marginBottom:"1rem"},children:[n.jsxs("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:ae.colors.text,marginBottom:"0.5rem"},children:["Clientes Selecionados (",E.length,")"]}),n.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"0.5rem"},children:E.map(B=>n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.5rem 0.75rem",background:"#e3f2fd",borderRadius:"1rem",fontSize:"0.875rem"},children:[n.jsx("span",{children:B.nome}),n.jsx("button",{type:"button",onClick:()=>it(B.id),style:{background:"none",border:"none",color:ae.colors.danger,cursor:"pointer",padding:"0.25rem",display:"flex",alignItems:"center",fontSize:"1rem"},children:""})]},B.id))})]}),E.length>0&&n.jsxs("div",{style:{marginBottom:"1rem"},children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:ae.colors.text,marginBottom:"0.5rem"},children:"Endereo de Entrega *"}),E.map(B=>{const Q=k.filter(de=>de.cliente_id===B.id);return n.jsxs("div",{style:{marginBottom:"1.5rem",padding:"1rem",border:`1px solid ${ae.colors.border}`,borderRadius:"0.5rem",background:"#f8fafc"},children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.75rem"},children:[n.jsx("h4",{style:{margin:0,fontSize:"0.875rem",fontWeight:"600",color:ae.colors.primary},children:B.nome}),n.jsx("button",{type:"button",onClick:()=>{re===B.id?U(null):(U(B.id),me&&_t())},style:{padding:"0.375rem 0.75rem",fontSize:"0.75rem",fontWeight:"500",color:ae.colors.primary,background:"white",border:`1px solid ${ae.colors.primary}`,borderRadius:"0.5rem",cursor:"pointer"},children:re===B.id?"Cancelar":"+ Novo Endereo"})]}),re===B.id&&n.jsxs("div",{style:{padding:"1rem",background:"white",borderRadius:"0.5rem",marginBottom:"0.75rem",border:`1px solid ${ae.colors.border}`},children:[n.jsx("h5",{style:{margin:"0 0 0.75rem 0",fontSize:"0.8rem",fontWeight:"600",color:ae.colors.text},children:"Cadastrar Novo Endereo"}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"0.75rem"},children:[n.jsx("div",{style:{gridColumn:"1 / -1"},children:n.jsx("input",{type:"text",placeholder:"Rua *",value:W.logradouro,onChange:de=>be({...W,logradouro:de.target.value}),style:{width:"100%",padding:"0.5rem",border:`1px solid ${ae.colors.border}`,borderRadius:"0.5rem",fontSize:"0.75rem"}})}),n.jsx("div",{children:n.jsx("input",{type:"text",placeholder:"Nmero *",value:W.numero,onChange:de=>be({...W,numero:de.target.value}),style:{width:"100%",padding:"0.5rem",border:`1px solid ${ae.colors.border}`,borderRadius:"0.5rem",fontSize:"0.75rem"}})}),n.jsx("div",{children:n.jsx("input",{type:"text",placeholder:"Complemento",value:W.complemento,onChange:de=>be({...W,complemento:de.target.value}),style:{width:"100%",padding:"0.5rem",border:`1px solid ${ae.colors.border}`,borderRadius:"0.5rem",fontSize:"0.75rem"}})}),n.jsx("div",{children:n.jsx("input",{type:"text",placeholder:"Bairro *",value:W.bairro,onChange:de=>be({...W,bairro:de.target.value}),style:{width:"100%",padding:"0.5rem",border:`1px solid ${ae.colors.border}`,borderRadius:"0.5rem",fontSize:"0.75rem"}})}),n.jsx("div",{children:n.jsx("input",{type:"text",placeholder:"Cidade *",value:W.cidade,onChange:de=>be({...W,cidade:de.target.value}),style:{width:"100%",padding:"0.5rem",border:`1px solid ${ae.colors.border}`,borderRadius:"0.5rem",fontSize:"0.75rem"}})}),n.jsx("div",{children:n.jsx("input",{type:"text",placeholder:"CEP",value:W.cep,onChange:de=>be({...W,cep:de.target.value}),style:{width:"100%",padding:"0.5rem",border:`1px solid ${ae.colors.border}`,borderRadius:"0.5rem",fontSize:"0.75rem"}})}),n.jsx("div",{children:n.jsx("input",{type:"text",placeholder:"Regio (auto-detectada)",value:W.regiao,readOnly:!0,style:{width:"100%",padding:"0.5rem",border:`1px solid ${ae.colors.border}`,borderRadius:"0.5rem",fontSize:"0.75rem",background:"#f1f5f9"}})})]}),n.jsx("button",{type:"button",onClick:()=>$t(B.id),style:{marginTop:"0.75rem",padding:"0.5rem 1rem",fontSize:"0.75rem",fontWeight:"500",color:"white",background:ae.colors.primary,border:"none",borderRadius:"0.5rem",cursor:"pointer",width:"100%"},children:"Salvar Endereo"})]}),Q.length>0?Q.map(de=>me===de.id?n.jsxs("div",{style:{padding:"1rem",background:"white",borderRadius:"0.5rem",marginBottom:"0.75rem",border:`2px solid ${ae.colors.primary}`},children:[n.jsx("h5",{style:{margin:"0 0 0.75rem 0",fontSize:"0.8rem",fontWeight:"600",color:ae.colors.text},children:"Editando Endereo"}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"0.75rem"},children:[n.jsx("div",{style:{gridColumn:"1 / -1"},children:n.jsx("input",{type:"text",placeholder:"Rua *",value:q.logradouro,onChange:ge=>je({...q,logradouro:ge.target.value}),style:{width:"100%",padding:"0.5rem",border:`1px solid ${ae.colors.border}`,borderRadius:"0.5rem",fontSize:"0.75rem"}})}),n.jsx("div",{children:n.jsx("input",{type:"text",placeholder:"Nmero *",value:q.numero,onChange:ge=>je({...q,numero:ge.target.value}),style:{width:"100%",padding:"0.5rem",border:`1px solid ${ae.colors.border}`,borderRadius:"0.5rem",fontSize:"0.75rem"}})}),n.jsx("div",{children:n.jsx("input",{type:"text",placeholder:"Complemento",value:q.complemento,onChange:ge=>je({...q,complemento:ge.target.value}),style:{width:"100%",padding:"0.5rem",border:`1px solid ${ae.colors.border}`,borderRadius:"0.5rem",fontSize:"0.75rem"}})}),n.jsx("div",{children:n.jsx("input",{type:"text",placeholder:"Bairro *",value:q.bairro,onChange:ge=>je({...q,bairro:ge.target.value}),style:{width:"100%",padding:"0.5rem",border:`1px solid ${ae.colors.border}`,borderRadius:"0.5rem",fontSize:"0.75rem"}})}),n.jsx("div",{children:n.jsx("input",{type:"text",placeholder:"Cidade *",value:q.cidade,onChange:ge=>je({...q,cidade:ge.target.value}),style:{width:"100%",padding:"0.5rem",border:`1px solid ${ae.colors.border}`,borderRadius:"0.5rem",fontSize:"0.75rem"}})}),n.jsx("div",{children:n.jsx("input",{type:"text",placeholder:"CEP",value:q.cep,onChange:ge=>je({...q,cep:ge.target.value}),style:{width:"100%",padding:"0.5rem",border:`1px solid ${ae.colors.border}`,borderRadius:"0.5rem",fontSize:"0.75rem"}})}),n.jsx("div",{children:n.jsx("input",{type:"text",placeholder:"Regio (auto-detectada)",value:q.regiao,readOnly:!0,style:{width:"100%",padding:"0.5rem",border:`1px solid ${ae.colors.border}`,borderRadius:"0.5rem",fontSize:"0.75rem",background:"#f1f5f9"}})})]}),n.jsxs("div",{style:{display:"flex",gap:"0.5rem",marginTop:"0.75rem"},children:[n.jsx("button",{type:"button",onClick:Nt,style:{flex:1,padding:"0.5rem 1rem",fontSize:"0.75rem",fontWeight:"500",color:"white",background:ae.colors.primary,border:"none",borderRadius:"0.5rem",cursor:"pointer"},children:"Salvar"}),n.jsx("button",{type:"button",onClick:_t,style:{flex:1,padding:"0.5rem 1rem",fontSize:"0.75rem",fontWeight:"500",color:ae.colors.text,background:"white",border:`1px solid ${ae.colors.border}`,borderRadius:"0.5rem",cursor:"pointer"},children:"Cancelar"})]})]},de.id):n.jsxs("div",{style:{padding:"0.75rem",border:`2px solid ${(P==null?void 0:P.id)===de.id?ae.colors.primary:ae.colors.border}`,borderRadius:"0.5rem",marginBottom:"0.5rem",background:(P==null?void 0:P.id)===de.id?"#f0f9ff":"white",display:"flex",alignItems:"center",gap:"0.75rem"},children:[n.jsx("input",{type:"radio",name:"endereco",checked:(P==null?void 0:P.id)===de.id,onChange:()=>Lt(de),style:{cursor:"pointer"}}),n.jsxs("div",{onClick:()=>Lt(de),style:{flex:1,cursor:"pointer"},children:[n.jsx("p",{style:{margin:0,fontSize:"0.875rem",fontWeight:"500"},children:de.endereco_completo||`${de.logradouro}, ${de.numero} - ${de.bairro}, ${de.cidade}`}),de.regiao&&n.jsxs("p",{style:{margin:0,fontSize:"0.75rem",color:ae.colors.textLight,marginTop:"0.25rem"},children:["Regio: ",de.regiao]})]}),n.jsx("button",{type:"button",onClick:ge=>{ge.stopPropagation(),Pt(de)},style:{padding:"0.375rem 0.75rem",fontSize:"0.7rem",fontWeight:"500",color:ae.colors.primary,background:"white",border:`1px solid ${ae.colors.primary}`,borderRadius:"0.5rem",cursor:"pointer"},children:"Editar"})]},de.id)):n.jsx("p",{style:{margin:0,fontSize:"0.75rem",color:ae.colors.textLight,fontStyle:"italic"},children:'Nenhum endereo cadastrado. Clique em "+ Novo Endereo" para adicionar.'})]},B.id)}),xe.endereco&&n.jsx("p",{style:{color:ae.colors.danger,fontSize:"0.75rem",marginTop:"0.25rem"},children:xe.endereco})]}),n.jsxs("div",{style:{marginBottom:"1rem"},children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:ae.colors.text,marginBottom:"0.5rem"},children:"Nmero da Requisio *"}),n.jsx("input",{type:"text",value:F.numero_requisicao,onChange:B=>ce({...F,numero_requisicao:B.target.value}),placeholder:"Ex: REQ-001",style:{width:"100%",padding:"0.75rem",border:`1px solid ${xe.requisicao?ae.colors.danger:ae.colors.border}`,borderRadius:"0.5rem",fontSize:"0.875rem"}}),xe.requisicao&&n.jsx("p",{style:{color:ae.colors.danger,fontSize:"0.75rem",marginTop:"0.25rem"},children:xe.requisicao})]}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem",marginBottom:"1rem"},children:[n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:ae.colors.text,marginBottom:"0.5rem"},children:"Cidade/Regio *"}),n.jsxs("select",{value:F.regiao,onChange:B=>Gt(B.target.value),style:{width:"100%",padding:"0.75rem",border:`1px solid ${xe.regiao?ae.colors.danger:ae.colors.border}`,borderRadius:"0.5rem",fontSize:"0.875rem"},children:[n.jsx("option",{value:"",children:"Selecione a cidade"}),mO.map(B=>n.jsx("option",{value:B,children:B},B))]})]}),n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:ae.colors.text,marginBottom:"0.5rem"},children:"Data de Entrega *"}),n.jsx("input",{type:"date",value:F.data_entrega,onChange:B=>ce({...F,data_entrega:B.target.value}),style:{width:"100%",padding:"0.75rem",border:`1px solid ${ae.colors.border}`,borderRadius:"0.5rem",fontSize:"0.875rem"}})]})]}),F.regiao==="OUTRO"&&n.jsxs("div",{style:{marginBottom:"1rem"},children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:ae.colors.text,marginBottom:"0.5rem"},children:"Nome da Cidade *"}),n.jsx("input",{type:"text",value:F.outra_cidade,onChange:B=>ce({...F,outra_cidade:B.target.value}),placeholder:"Digite o nome da cidade",style:{width:"100%",padding:"0.75rem",border:`1px solid ${xe.outra_cidade?ae.colors.danger:ae.colors.border}`,borderRadius:"0.5rem",fontSize:"0.875rem"}})]}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem",marginBottom:"1rem"},children:[n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:ae.colors.text,marginBottom:"0.5rem"},children:"Perodo de Entrega *"}),n.jsxs("select",{value:F.periodo,onChange:B=>ce({...F,periodo:B.target.value}),style:{width:"100%",padding:"0.75rem",border:`1px solid ${ae.colors.border}`,borderRadius:"0.5rem",fontSize:"0.875rem"},children:[n.jsx("option",{value:"Manh",children:"Manh"}),n.jsx("option",{value:"Tarde",children:"Tarde"})]})]}),n.jsxs("div",{style:{position:"relative"},children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:ae.colors.text,marginBottom:"0.5rem"},children:"Forma de Pagamento *"}),n.jsx("input",{type:"text",value:z,onChange:B=>Me(B.target.value),onKeyDown:$e,onFocus:()=>{$(!0),D.length===0&&J(Xp)},onBlur:()=>{setTimeout(()=>$(!1),200)},placeholder:"Digite ou selecione a forma de pagamento...",style:{width:"100%",padding:"0.75rem",border:`1px solid ${xe.pagamento?ae.colors.danger:ae.colors.border}`,borderRadius:"0.5rem",fontSize:"0.875rem"}}),Z&&D.length>0&&n.jsx("div",{style:{position:"absolute",top:"100%",left:0,right:0,background:"white",border:`1px solid ${ae.colors.border}`,borderRadius:"0.5rem",marginTop:"0.25rem",maxHeight:"200px",overflowY:"auto",boxShadow:"0 4px 6px rgba(0,0,0,0.1)",zIndex:1e3},children:D.map((B,Q)=>n.jsx("div",{onClick:()=>Ie(B),onMouseEnter:()=>we(Q),style:{padding:"0.75rem",cursor:"pointer",borderBottom:Q<D.length-1?`1px solid ${ae.colors.border}`:"none",background:Q===ne?"#e3f2fd":"white",transition:"background 0.15s"},children:n.jsx("p",{style:{margin:0,fontSize:"0.875rem"},children:B})},B))})]})]}),ur.includes(F.forma_pagamento)&&n.jsxs("div",{style:{marginBottom:"1rem",padding:"1rem",background:"#e8f5e9",border:"2px solid #4caf50",borderRadius:"0.5rem"},children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"600",color:"#2e7d32",marginBottom:"0.5rem"},children:"Valor a Cobrar (R$) *"}),n.jsx("input",{type:"number",step:"0.01",min:"0",value:F.valor_venda||"",onChange:B=>ce({...F,valor_venda:parseFloat(B.target.value)||0}),placeholder:"Ex: 150.00",style:{width:"100%",padding:"0.75rem",border:`2px solid ${xe.valor_venda?ae.colors.danger:"#4caf50"}`,borderRadius:"0.5rem",fontSize:"0.875rem",background:"white"}}),xe.valor_venda&&n.jsx("p",{style:{color:ae.colors.danger,fontSize:"0.75rem",marginTop:"0.25rem"},children:xe.valor_venda}),!xe.valor_venda&&F.valor_venda>0&&n.jsxs("div",{style:{marginTop:"0.75rem",padding:"0.75rem",background:"#1b5e20",borderRadius:"0.5rem",textAlign:"center"},children:[n.jsx("p",{style:{margin:0,color:"white",fontSize:"0.875rem",fontWeight:"500"},children:F.forma_pagamento==="Receber Mquina"?"Receber na Mquina:":F.forma_pagamento==="Pagar MP"?"Cobrar via MP:":"Valor a Receber:"}),n.jsxs("p",{style:{margin:"0.25rem 0 0 0",color:"white",fontSize:"1.5rem",fontWeight:"700"},children:["R$ ",F.valor_venda.toFixed(2).replace(".",",")]})]}),!F.valor_venda&&n.jsx("p",{style:{fontSize:"0.75rem",color:"#2e7d32",marginTop:"0.25rem",fontWeight:"500"},children:"Informe o valor a ser cobrado nesta entrega."})]}),F.forma_pagamento==="Receber Dinheiro"&&n.jsxs("div",{style:{marginBottom:"1rem",padding:"1rem",background:"#fff9e6",border:"2px solid #ffc107",borderRadius:"0.5rem"},children:[n.jsxs("div",{style:{marginBottom:"0.75rem"},children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"600",color:"#f57c00",marginBottom:"0.5rem"},children:"Precisa de troco?"}),n.jsxs("div",{style:{display:"flex",gap:"1rem"},children:[n.jsxs("label",{style:{display:"flex",alignItems:"center",cursor:"pointer",fontSize:"0.875rem"},children:[n.jsx("input",{type:"radio",name:"precisa_troco",checked:F.precisa_troco===!0,onChange:()=>ce({...F,precisa_troco:!0}),style:{marginRight:"0.5rem"}}),"Sim"]}),n.jsxs("label",{style:{display:"flex",alignItems:"center",cursor:"pointer",fontSize:"0.875rem"},children:[n.jsx("input",{type:"radio",name:"precisa_troco",checked:F.precisa_troco===!1,onChange:()=>ce({...F,precisa_troco:!1,valor_troco:0}),style:{marginRight:"0.5rem"}}),"No"]})]})]}),F.precisa_troco&&n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"600",color:"#f57c00",marginBottom:"0.5rem"},children:"Valor do Troco (R$) *"}),n.jsx("input",{type:"number",step:"0.01",min:"0",value:F.valor_troco||"",onChange:B=>ce({...F,valor_troco:parseFloat(B.target.value)||0}),placeholder:"Ex: 50.00",style:{width:"100%",padding:"0.75rem",border:`2px solid ${xe.valor_troco?ae.colors.danger:"#ffc107"}`,borderRadius:"0.5rem",fontSize:"0.875rem",background:"white"}}),n.jsx("p",{style:{fontSize:"0.75rem",color:"#f57c00",marginTop:"0.25rem",fontWeight:"500"},children:"Cliente pagar com quanto? Informe o valor para calcular o troco."})]})]}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem",marginBottom:"1rem"},children:[n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:ae.colors.text,marginBottom:"0.5rem"},children:"Motoboy *"}),n.jsxs("select",{value:F.motoboy,onChange:B=>Cn(B.target.value),style:{width:"100%",padding:"0.75rem",border:`1px solid ${xe.motoboy?ae.colors.danger:ae.colors.border}`,borderRadius:"0.5rem",fontSize:"0.875rem"},children:[n.jsx("option",{value:"",children:"Selecione o motoboy"}),n.jsx("option",{value:"Marcio",children:"Marcio"}),n.jsx("option",{value:"Bruno",children:"Bruno"})]}),n.jsx("p",{style:{fontSize:"0.75rem",color:ae.colors.textLight,marginTop:"0.25rem"},children:"Valor calculado automaticamente"})]}),n.jsxs("div",{children:[n.jsxs("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:ae.colors.text,marginBottom:"0.5rem"},children:["Valor da Entrega (R$)",F.motoboy==="Bruno"&&le&&n.jsx("span",{style:{marginLeft:"0.5rem",padding:"2px 8px",backgroundColor:"#fef3c7",color:"#92400e",fontSize:"0.7rem",fontWeight:"bold",borderRadius:"4px",border:"1px solid #fbbf24"},children:"ENTREGA NICA"}),H&&n.jsx("span",{style:{marginLeft:"0.5rem",fontSize:"0.7rem",color:ae.colors.muted},children:"verificando..."})]}),n.jsx("input",{type:"number",step:"0.01",value:F.valor_entrega,onChange:B=>ce({...F,valor_entrega:parseFloat(B.target.value)||0}),style:{width:"100%",padding:"0.75rem",border:`1px solid ${le&&F.motoboy==="Bruno"?"#fbbf24":ae.colors.border}`,borderRadius:"0.5rem",fontSize:"0.875rem",fontWeight:"600",color:ae.colors.primary,backgroundColor:le&&F.motoboy==="Bruno"?"#fffbeb":"white"}})]})]}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem",marginBottom:"1rem"},children:[n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:ae.colors.text,marginBottom:"0.5rem"},children:"Item de Geladeira? *"}),n.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[n.jsx("button",{type:"button",onClick:()=>ce({...F,item_geladeira:!0}),style:{padding:"0.5rem 1.5rem",border:F.item_geladeira?"2px solid #0891b2":"2px solid #e2e8f0",borderRadius:"0.5rem",background:F.item_geladeira?"#cffafe":"white",color:F.item_geladeira?"#0891b2":"#64748b",fontWeight:F.item_geladeira?"600":"400",fontSize:"0.875rem",cursor:"pointer",transition:"all 0.15s"},children:"Sim"}),n.jsx("button",{type:"button",onClick:()=>ce({...F,item_geladeira:!1}),style:{padding:"0.5rem 1.5rem",border:F.item_geladeira?"2px solid #e2e8f0":"2px solid #64748b",borderRadius:"0.5rem",background:F.item_geladeira?"white":"#f1f5f9",color:F.item_geladeira?"#64748b":"#1e293b",fontWeight:F.item_geladeira?"400":"600",fontSize:"0.875rem",cursor:"pointer",transition:"all 0.15s"},children:"No"})]})]}),n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:ae.colors.text,marginBottom:"0.5rem"},children:"Reter Receita? *"}),n.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[n.jsx("button",{type:"button",onClick:()=>ce({...F,buscar_receita:!0}),style:{padding:"0.5rem 1.5rem",border:F.buscar_receita?"2px solid #f97316":"2px solid #e2e8f0",borderRadius:"0.5rem",background:F.buscar_receita?"#ffedd5":"white",color:F.buscar_receita?"#c2410c":"#64748b",fontWeight:F.buscar_receita?"600":"400",fontSize:"0.875rem",cursor:"pointer",transition:"all 0.15s"},children:"Sim"}),n.jsx("button",{type:"button",onClick:()=>ce({...F,buscar_receita:!1}),style:{padding:"0.5rem 1.5rem",border:F.buscar_receita?"2px solid #e2e8f0":"2px solid #64748b",borderRadius:"0.5rem",background:F.buscar_receita?"white":"#f1f5f9",color:F.buscar_receita?"#64748b":"#1e293b",fontWeight:F.buscar_receita?"400":"600",fontSize:"0.875rem",cursor:"pointer",transition:"all 0.15s"},children:"No"})]})]})]}),n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:ae.colors.text,marginBottom:"0.5rem"},children:"Observaes"}),n.jsx("textarea",{value:F.observacoes,onChange:B=>ce({...F,observacoes:B.target.value}),placeholder:"Informaes adicionais sobre a entrega",rows:4,style:{width:"100%",padding:"0.75rem",border:`1px solid ${ae.colors.border}`,borderRadius:"0.5rem",fontSize:"0.875rem",resize:"vertical"}})]})]}),n.jsxs("div",{style:{display:"flex",gap:"1rem",justifyContent:"flex-end"},children:[n.jsx("button",{type:"button",onClick:()=>t("/"),style:{padding:"0.75rem 1.5rem",background:"white",color:ae.colors.text,border:`1px solid ${ae.colors.border}`,borderRadius:"0.5rem",fontSize:"0.9375rem",fontWeight:"600",cursor:"pointer"},children:"Cancelar"}),n.jsx("button",{type:"submit",disabled:r,style:{padding:"0.75rem 1.5rem",background:r?ae.colors.textLight:ae.colors.primary,color:"white",border:"none",borderRadius:"0.5rem",fontSize:"0.9375rem",fontWeight:"600",cursor:r?"not-allowed":"pointer"},children:r?"Criando...":"Criar Romaneio"})]})]})}),n.jsx(ds,{open:m,onOpenChange:v,children:n.jsxs(Ao,{style:{maxWidth:"900px",maxHeight:"90vh",overflowY:"auto"},children:[n.jsx(Oo,{children:n.jsx(Mo,{style:{color:"#376295"},children:"Cadastrar Novo Cliente"})}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Nome Completo *"}),n.jsx("input",{type:"text",value:y.nome,onChange:B=>x({...y,nome:B.target.value}),placeholder:"Digite o nome completo",className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-100"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"CPF"}),n.jsx("input",{type:"text",value:y.cpf,onChange:B=>x({...y,cpf:B.target.value}),placeholder:"000.000.000-00",className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-100"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Telefone *"}),n.jsx("input",{type:"text",value:y.telefone,onChange:B=>x({...y,telefone:B.target.value}),placeholder:"(00) 00000-0000",className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-100"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"E-mail"}),n.jsx("input",{type:"email",value:y.email,onChange:B=>x({...y,email:B.target.value}),placeholder:"cliente@email.com",className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-100"})]})]}),n.jsxs("div",{className:"space-y-3 pt-2 border-t border-slate-200",children:[n.jsxs("div",{className:"flex justify-between items-center pt-2",children:[n.jsx("h3",{className:"text-sm font-semibold text-slate-700",children:"Endereos"}),n.jsxs("button",{type:"button",onClick:Ar,className:"flex items-center gap-2 px-3 py-1.5 text-sm border border-slate-300 rounded-lg font-medium text-slate-700 hover:bg-slate-50 transition-colors",children:[n.jsx(qf,{className:"w-4 h-4"}),"Adicionar Endereo"]})]}),y.enderecos.map((B,Q)=>n.jsxs("div",{className:"bg-slate-50 rounded-lg border border-slate-200 p-4",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsxs("h4",{className:"text-sm font-semibold text-slate-700",children:["Endereo ",Q+1," ",Q===0&&"(Principal)"]}),y.enderecos.length>1&&n.jsx("button",{type:"button",onClick:()=>Wr(Q),className:"p-1.5 hover:bg-red-50 rounded transition-colors",children:n.jsx(Trash2,{className:"w-4 h-4 text-red-500"})})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"CEP"}),n.jsx("input",{type:"text",value:B.cep||"",onChange:de=>se(Q,"cep",de.target.value),placeholder:"00000-000",className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-100"})]}),n.jsxs("div",{className:"grid grid-cols-[2fr_1fr] gap-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Rua/Logradouro *"}),n.jsx("input",{type:"text",value:B.logradouro,onChange:de=>se(Q,"logradouro",de.target.value),placeholder:"Nome da rua",className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-100"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Nmero *"}),n.jsx("input",{type:"text",value:B.numero,onChange:de=>se(Q,"numero",de.target.value),placeholder:"123",className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-100"})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Bairro"}),n.jsx("input",{type:"text",value:B.bairro,onChange:de=>se(Q,"bairro",de.target.value),placeholder:"Nome do bairro",className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-100"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Cidade *"}),n.jsx("input",{type:"text",value:B.cidade,onChange:de=>se(Q,"cidade",de.target.value),placeholder:"Ex: Balnerio Cambori",className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-100"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Complemento"}),n.jsx("input",{type:"text",value:B.complemento,onChange:de=>se(Q,"complemento",de.target.value),placeholder:"Apto, Bloco, etc.",className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-100"})]})]})]},`endereco-${Q}`))]}),n.jsxs("div",{className:"flex gap-3 pt-4",children:[n.jsx("button",{type:"button",onClick:()=>{v(!1),x({nome:"",cpf:"",telefone:"",email:"",enderecos:[{logradouro:"",numero:"",complemento:"",bairro:"",cidade:"",cep:"",is_principal:!0}]})},className:"flex-1 px-4 py-2 border border-slate-300 rounded-lg font-medium text-slate-700 hover:bg-slate-50 transition-colors",children:"Cancelar"}),n.jsx("button",{type:"button",onClick:Ee,className:"flex-1 px-4 py-2 rounded-lg font-medium text-white transition-colors",style:{backgroundColor:"#376295"},children:"Cadastrar"})]})]})]})})]})}const gO={Marcio:{BC:9,"NOVA ESPERANA":11,CAMBORI:16,TABULEIRO:11,"MONTE ALEGRE":11,BARRA:11,ESTALEIRO:16,TAQUARAS:16,LARANJEIRAS:16,ITAJAI:19,ESPINHEIROS:23,"PRAIA DOS AMORES":13.5,"PRAIA BRAVA":13.5,ITAPEMA:27,NAVEGANTES:30,PENHA:52,"PORTO BELO":52,TIJUCAS:52,PIARRAS:52,BOMBINHAS:72,CLINICA:9},Bruno:{BC:7,"NOVA ESPERANA":9,CAMBORI:14,TABULEIRO:9,"MONTE ALEGRE":9,BARRA:9,ESTALEIRO:14,TAQUARAS:14,LARANJEIRAS:14,ITAJAI:17,ESPINHEIROS:21,"PRAIA DOS AMORES":11.5,"PRAIA BRAVA":11.5,ITAPEMA:25,NAVEGANTES:40,PENHA:50,"PORTO BELO":30,TIJUCAS:50,PIARRAS:50,BOMBINHAS:50,CLINICA:7}},vO={BC:12,"NOVA ESPERANA":15,CAMBORI:20,TABULEIRO:15,"MONTE ALEGRE":15,BARRA:15,ESTALEIRO:25,TAQUARAS:25,LARANJEIRAS:25,ITAJAI:25,ESPINHEIROS:35,"PRAIA DOS AMORES":15,"PRAIA BRAVA":15,ITAPEMA:35,NAVEGANTES:50,PENHA:75,"PORTO BELO":60,TIJUCAS:87,PIARRAS:80,BOMBINHAS:90,CLINICA:12},xO={BC:"Marcio","NOVA ESPERANA":"Marcio",CAMBORI:"Marcio",TABULEIRO:"Marcio","MONTE ALEGRE":"Marcio",BARRA:"Marcio",ESTALEIRO:"Marcio",CLINICA:"Marcio",TAQUARAS:"Bruno",LARANJEIRAS:"Bruno",ITAJAI:"Bruno",ESPINHEIROS:"Bruno","PRAIA DOS AMORES":"Bruno","PRAIA BRAVA":"Bruno",ITAPEMA:"Bruno",NAVEGANTES:"Bruno",PENHA:"Bruno","PORTO BELO":"Bruno",TIJUCAS:"Bruno",PIARRAS:"Bruno",BOMBINHAS:"Bruno"},mb=["BC","NOVA ESPERANA","CAMBORI","TABULEIRO","MONTE ALEGRE","BARRA","ESTALEIRO","TAQUARAS","LARANJEIRAS","ITAJAI","ESPINHEIROS","PRAIA DOS AMORES","PRAIA BRAVA","ITAPEMA","NAVEGANTES","PENHA","PORTO BELO","TIJUCAS","PIARRAS","BOMBINHAS","CLINICA","OUTRO"],eg=["Aguardando","Boleto","Link Aguardando","Pagar MP","Pago Dinheiro","Pago Link","Pago Mquina","Pago Pix","Pix Aguardando","Receber Dinheiro","Receber Mquina","S Entregar","Via na Pasta"],pb={"balnerio cambori":{centro:"BC",estados:"BC",pioneiros:"BC","nova esperana":"NOVA ESPERANA",naes:"BC",barra:"BARRA","barra sul":"BARRA",estaleiro:"ESTALEIRO",estaleirinho:"ESTALEIRO",taquaras:"TAQUARAS",laranjeiras:"LARANJEIRAS","praia dos amores":"PRAIA DOS AMORES","praia brava":"PRAIA BRAVA",tabuleiro:"TABULEIRO","monte alegre":"MONTE ALEGRE",default:"BC"},bc:{default:"BC"},"balneario camboriu":{centro:"BC",estados:"BC",pioneiros:"BC","nova esperana":"NOVA ESPERANA","nova esperanca":"NOVA ESPERANA",naes:"BC",nacoes:"BC",barra:"BARRA","barra sul":"BARRA",estaleiro:"ESTALEIRO",estaleirinho:"ESTALEIRO",taquaras:"TAQUARAS",laranjeiras:"LARANJEIRAS","praia dos amores":"PRAIA DOS AMORES","praia brava":"PRAIA BRAVA",tabuleiro:"TABULEIRO","monte alegre":"MONTE ALEGRE",default:"BC"},cambori:{default:"CAMBORI"},camboriu:{default:"CAMBORI"},itaja:{centro:"ITAJAI","vila real":"ITAJAI",espinheiros:"ESPINHEIROS",default:"ITAJAI"},itajai:{centro:"ITAJAI","vila real":"ITAJAI",espinheiros:"ESPINHEIROS",default:"ITAJAI"},itapema:{default:"ITAPEMA"},navegantes:{default:"NAVEGANTES"},penha:{default:"PENHA"},"porto belo":{default:"PORTO BELO"},tijucas:{default:"TIJUCAS"},piarras:{default:"PIARRAS"},picarras:{default:"PIARRAS"},bombinhas:{default:"BOMBINHAS"}},gb=t=>{const e=(t==null?void 0:t.trim())||"";return e.toUpperCase()==="BC"?"Balnerio Cambori":e},ef=(t,e)=>{const r=(t==null?void 0:t.toLowerCase().trim())||"",s=(e==null?void 0:e.toLowerCase().trim())||"";if(console.log(" Detectando regio:",{cidade:r,bairro:s}),pb[r]){const l=pb[r];return s==="centro"?(console.log(" Bairro Centro - usando regio padro da cidade:",l.default),l.default):s&&l[s]&&l[s]!==l.default?(console.log(" Regio detectada por bairro cadastrado:",l[s]),l[s]):(console.log(" Regio detectada por cidade (default):",l.default),l.default)}return console.log(" Nenhuma regio detectada"),""};function yO(){const t=Sr(),[e]=u_(),r=e.get("id"),s=ho(),[l,c]=w.useState(!1),[u,p]=w.useState(!0),[m,v]=w.useState(""),[y,x]=w.useState([]),[E,S]=w.useState(!1),[k,N]=w.useState({nome:"",cpf:"",telefone:"",email:"",enderecos:[{logradouro:"",numero:"",complemento:"",bairro:"",cidade:"",cep:"",regiao:"",ponto_referencia:"",observacoes:"",is_principal:!0}]}),[P,O]=w.useState([]),[T,R]=w.useState([]),[z,Y]=w.useState([]),[D,J]=w.useState(null),[ne,we]=w.useState(!1),[Z,$]=w.useState(null),[re,U]=w.useState({logradouro:"",numero:"",complemento:"",bairro:"",cidade:"",cep:"",observacoes:""}),[W,be]=w.useState({cliente_id:"",cliente_nome:"",numero_requisicao:"",endereco_id:"",endereco:"",regiao:"",outra_cidade:"",data_entrega:new Date().toISOString().split("T")[0],periodo:"Tarde",forma_pagamento:"",motoboy:"",valor_entrega:0,item_geladeira:!1,buscar_receita:!1,observacoes:"",valor_venda:0}),me=["Receber Dinheiro","Receber Mquina","Pagar MP"],[_e,q]=w.useState({}),[je,le]=w.useState(!1),[A,H]=w.useState(!1),[V,F]=w.useState(""),[ce,xe]=w.useState([]),[pe,ie]=w.useState(-1),[Pe,Me]=w.useState(!1),$e=async(G,B,Q,de)=>{if(Q!=="Bruno")return le(!1),!1;H(!0);try{const{data:ge}=await Le.from("motoboys").select("id").eq("nome","Bruno").single();if(!ge)return le(!1),!1;let Ke=Le.from("entregas").select("*",{count:"exact",head:!0}).eq("motoboy_id",ge.id).eq("data_entrega",G).eq("periodo","Manh");de&&(Ke=Ke.neq("id",de));const{count:Re}=await Ke;let at=Le.from("entregas").select("*",{count:"exact",head:!0}).eq("motoboy_id",ge.id).eq("data_entrega",G).eq("periodo","Tarde");de&&(at=at.neq("id",de));const{count:dt}=await at,It=(B==="Manh"?Re===0:dt===0)&&(B==="Manh"?dt===0||dt===1:Re===0||Re===1);return le(It),It}catch(ge){return console.error("Erro ao verificar entrega nica:",ge),le(!1),!1}finally{H(!1)}},Ie=()=>{N({...k,enderecos:[...k.enderecos,{logradouro:"",numero:"",complemento:"",bairro:"",cidade:"",cep:"",regiao:"",ponto_referencia:"",observacoes:"",is_principal:!1}]})},nt=G=>{if(k.enderecos.length===1){Se.error(" necessrio pelo menos um endereo");return}const B=k.enderecos.filter((Q,de)=>de!==G);N({...k,enderecos:B})},it=(G,B,Q)=>{const de=[...k.enderecos];de[G]={...de[G],[B]:Q},N({...k,enderecos:de})};w.useEffect(()=>{if(re.cidade&&re.bairro&&ne){const G=ef(re.cidade,re.bairro);console.log(" useEffect detectando regio:",{cidade:re.cidade,bairro:re.bairro,regiaoDetectada:G}),G&&G!==W.regiao&&(console.log(" Atualizando regio para:",G),jt(G))}},[re.cidade,re.bairro,ne]),w.useEffect(()=>{if(!r){Se.error("ID da entrega no fornecido"),t("/");return}async function G(){var B,Q,de;try{p(!0);const{data:ge,error:Ke}=await Le.from("entregas").select(`
            *,
            cliente:clientes(id, nome, telefone),
            endereco:enderecos(id, endereco_completo, logradouro, numero, complemento, bairro, cidade, cep, regiao),
            motoboy:motoboys(id, nome)
          `).eq("id",r).single();if(Ke)throw Ke;if(!ge){Se.error("Entrega no encontrada"),t("/");return}const Re=ge.endereco_logradouro?{id:ge.endereco_id,logradouro:ge.endereco_logradouro,numero:ge.endereco_numero,complemento:ge.endereco_complemento,bairro:ge.endereco_bairro,cidade:ge.endereco_cidade,cep:ge.endereco_cep,regiao:ge.regiao,endereco_completo:`${ge.endereco_logradouro}, ${ge.endereco_numero}${ge.endereco_complemento?" - "+ge.endereco_complemento:""} - ${ge.endereco_bairro}, ${ge.endereco_cidade}`}:ge.endereco;be({cliente_id:ge.cliente_id,cliente_nome:((B=ge.cliente)==null?void 0:B.nome)||"",numero_requisicao:ge.requisicao,endereco_id:ge.endereco_id||"",endereco:(Re==null?void 0:Re.endereco_completo)||ge.endereco_destino||"",regiao:ge.regiao||"",outra_cidade:ge.outra_cidade||"",data_entrega:ge.data_entrega||"",periodo:ge.periodo||"Tarde",forma_pagamento:ge.forma_pagamento||"",motoboy:((Q=ge.motoboy)==null?void 0:Q.nome)||"",valor_entrega:ge.valor||0,item_geladeira:ge.item_geladeira||!1,buscar_receita:ge.buscar_receita||!1,observacoes:ge.observacoes||"",valor_venda:ge.valor_venda||0}),F(ge.forma_pagamento||"");const at=[];if(ge.cliente&&at.push(ge.cliente),ge.clientes_adicionais&&ge.clientes_adicionais.length>0){const{data:Xe,error:Tt}=await Le.from("clientes").select("id, nome, telefone").in("id",ge.clientes_adicionais);!Tt&&Xe&&at.push(...Xe)}O(at),v("");const dt=[];for(const Xe of at){const{data:Tt,error:It}=await Le.from("enderecos").select("*").eq("cliente_id",Xe.id).order("is_principal",{ascending:!1});if(!It&&Tt){const Br=Tt.map(qn=>({...qn,cliente_nome:Xe.nome}));dt.push(...Br)}}if(Y(dt),ge.cliente_id&&await _t(ge.cliente_id),ge.endereco_id){const Xe=dt.find(Tt=>Tt.id===ge.endereco_id);Xe?J(Xe):Re&&J({...Re,cliente_id:ge.cliente_id,cliente_nome:((de=ge.cliente)==null?void 0:de.nome)||""})}p(!1)}catch(ge){console.error("Erro ao carregar entrega:",ge),Se.error("Erro ao carregar dados da entrega"),p(!1)}}G()},[r,t]);const Lt=async G=>{if(v(G),G.length<2){x([]);return}try{const{data:B,error:Q}=await Le.from("clientes").select("*").ilike("nome",`%${G}%`).limit(5);if(Q)throw Q;x(B||[])}catch(B){console.error("Erro ao buscar clientes:",B)}},$t=async G=>{if(P.find(B=>B.id===G.id)){Se.error("Cliente j adicionado!");return}O([...P,G]),P.length===0&&(be({...W,cliente_id:G.id,cliente_nome:G.nome,endereco_id:"",endereco:""}),await _t(G.id));try{const{data:B,error:Q}=await Le.from("enderecos").select("*").eq("cliente_id",G.id).order("is_principal",{ascending:!1});if(!Q&&B){const de=B.map(ge=>({...ge,cliente_nome:G.nome}));Y(ge=>{const Ke=[...ge,...de];return ge.length===0&&de.length>0&&J(de[0]),Ke})}}catch(B){console.error("Erro ao buscar endereos do cliente:",B)}v(""),x([]),Se.success(`Cliente ${G.nome} adicionado!`)},Pt=G=>{if(P.length===1){Se.error("Deve haver pelo menos um cliente!");return}z.find(de=>de.id===(Z==null?void 0:Z.id)&&de.cliente_id===G)&&$(null),O(P.filter(de=>de.id!==G));const Q=z.filter(de=>de.cliente_id!==G);if(Y(Q),D&&D.cliente_id===G&&J(null),W.cliente_id===G){const de=P.find(ge=>ge.id!==G);de&&(be({...W,cliente_id:de.id,cliente_nome:de.nome}),_t(de.id))}},_t=async G=>{console.log("Buscando endereos para cliente ID:",G);try{const{data:B,error:Q}=await Le.from("enderecos").select("*").eq("cliente_id",G).order("is_principal",{ascending:!1});if(console.log("Endereos encontrados:",B),console.log("Erro ao buscar endereos:",Q),Q)throw Q;R(B||[]),B&&B.length===1&&(console.log("Selecionando endereo automaticamente:",B[0]),Nt(B[0]))}catch(B){console.error("Erro ao buscar endereos:",B),R([])}},Nt=G=>{console.log("Selecionando endereo:",G),J(G),be(B=>({...B,endereco_id:G.id,endereco:G.endereco_completo||`${G.logradouro}, ${G.numero} - ${G.bairro}`,regiao:G.regiao||""})),we(!1),G.regiao&&jt(G.regiao)},ur=G=>{$({id:G.id,logradouro:G.logradouro||"",numero:G.numero||"",complemento:G.complemento||"",bairro:G.bairro||"",cidade:G.cidade||"",cep:G.cep||"",regiao:G.regiao||""})},gr=(G,B,Q=je)=>{var de;return G==="OUTRO"||!G||!B?0:B==="Bruno"&&Q?vO[G]||0:((de=gO[B])==null?void 0:de[G])||0};w.useEffect(()=>{W.motoboy==="Bruno"&&W.data_entrega&&W.periodo?$e(W.data_entrega,W.periodo,W.motoboy,r):le(!1)},[W.motoboy,W.data_entrega,W.periodo]),w.useEffect(()=>{if(W.motoboy==="Bruno"&&W.regiao&&W.regiao!=="OUTRO"){const G=gr(W.regiao,W.motoboy,je);be(B=>({...B,valor_entrega:G}))}},[je]);const jt=G=>{console.log("Mudando regio para:",G),be(B=>{const Q=G==="OUTRO"?B.motoboy:xO[G]||"Marcio",de=gr(G,Q,Q==="Bruno"?je:!1);return console.log("Novo motoboy:",Q,"Novo valor:",de,"Entrega nica:",je),{...B,regiao:G,motoboy:Q,valor_entrega:de}})},Gt=G=>{const B=gr(W.regiao,G,G==="Bruno"?je:!1);be({...W,motoboy:G,valor_entrega:B})},Cn=()=>{const G={};return P.length===0&&(G.cliente="Adicione pelo menos um cliente"),W.numero_requisicao||(G.requisicao="Nmero de requisio obrigatrio"),D||(G.endereco="Selecione um endereo para a entrega"),W.regiao||(G.regiao="Selecione a regio"),W.regiao==="OUTRO"&&!W.outra_cidade&&(G.outra_cidade="Informe a cidade"),W.data_entrega||(G.data="Data obrigatria"),W.forma_pagamento||(G.pagamento="Forma de pagamento obrigatria"),W.motoboy||(G.motoboy="Selecione o motoboy"),me.includes(W.forma_pagamento)&&(!W.valor_venda||W.valor_venda<=0)&&(G.valor_venda="Informe o valor a cobrar"),q(G),Object.keys(G).length===0},Un=G=>{if(F(G),be(B=>({...B,forma_pagamento:G})),ie(-1),Me(!0),G.length===0)xe(eg);else{const B=eg.filter(Q=>Q.toLowerCase().includes(G.toLowerCase()));xe(B)}},Ar=G=>{ce.length!==0&&(G.key==="ArrowDown"?(G.preventDefault(),ie(B=>B<ce.length-1?B+1:0)):G.key==="ArrowUp"?(G.preventDefault(),ie(B=>B>0?B-1:ce.length-1)):G.key==="Enter"&&pe>=0?(G.preventDefault(),Wr(ce[pe])):G.key==="Escape"&&Me(!1))},Wr=G=>{be(B=>({...B,forma_pagamento:G})),F(G),Me(!1),xe([]),ie(-1)},se=async()=>{if(!k.nome||!k.telefone){Se.error("Preencha pelo menos nome e telefone");return}if(!k.enderecos.some(B=>B.logradouro&&B.numero&&B.cidade)){Se.error("Preencha pelo menos um endereo completo (Rua, Nmero e Cidade)");return}try{const{data:B}=await Le.from("clientes").select("id, nome").ilike("nome",k.nome.trim()).limit(1);if(B&&B.length>0){Se.error(`J existe um cliente cadastrado com o nome "${B[0].nome}"`);return}const{data:Q,error:de}=await Le.from("clientes").insert([{nome:k.nome,cpf:k.cpf||null,telefone:k.telefone,email:k.email||null}]).select().single();if(de)throw de;const ge=k.enderecos.filter(Re=>Re.logradouro&&Re.numero&&Re.cidade).map((Re,at)=>{const dt=`${Re.logradouro}, ${Re.numero}${Re.complemento?" - "+Re.complemento:""} - ${Re.bairro}, ${Re.cidade} - SC`,Xe=ef(Re.cidade,Re.bairro);return{cliente_id:Q.id,logradouro:Re.logradouro,numero:Re.numero,complemento:Re.complemento||null,bairro:Re.bairro||null,cidade:Re.cidade,estado:"SC",cep:Re.cep||null,regiao:Xe||Re.regiao||null,ponto_referencia:Re.ponto_referencia||null,observacoes:Re.observacoes||null,is_principal:at===0,endereco_completo:dt}}),{error:Ke}=await Le.from("enderecos").insert(ge);if(Ke)throw Ke;Se.success("Cliente cadastrado com sucesso!"),$t(Q),N({nome:"",cpf:"",telefone:"",email:"",enderecos:[{logradouro:"",numero:"",complemento:"",bairro:"",cidade:"",cep:"",regiao:"",ponto_referencia:"",observacoes:"",is_principal:!0}]}),S(!1),v(""),x([])}catch(B){console.error("Erro ao cadastrar cliente:",B),Se.error("Erro ao cadastrar cliente: "+B.message)}},Ee=async G=>{var Q;if(G.preventDefault(),!Cn()){Se.error("Por favor, preencha todos os campos obrigatrios");return}c(!0);const B=Se.loading("Salvando alteraes...");try{const{data:de}=await Le.from("entregas").select("id").eq("requisicao",W.numero_requisicao).neq("id",r).maybeSingle();if(de){Se.error("J existe um romaneio com esse nmero de requisio!",{id:B}),c(!1);return}const ge=D.endereco_completo||`${D.logradouro}, ${D.numero} - ${D.bairro}, ${D.cidade}`,Ke={endereco_logradouro:D.logradouro,endereco_numero:D.numero,endereco_complemento:D.complemento,endereco_bairro:D.bairro,endereco_cidade:D.cidade,endereco_cep:D.cep};let Re=null;if(W.motoboy){const{data:Tt,error:It}=await Le.from("motoboys").select("id").eq("nome",W.motoboy).limit(1);It&&console.error("Erro ao buscar motoboy:",It),Re=((Q=Tt==null?void 0:Tt[0])==null?void 0:Q.id)||null,console.log("Motoboy selecionado:",W.motoboy,"ID encontrado:",Re)}const at=P.slice(1).map(Tt=>Tt.id);console.log("Salvando entrega com:",{motoboy_id:Re,valor:W.valor_entrega,regiao:W.regiao});const{data:dt,error:Xe}=await Le.from("entregas").update({cliente_id:W.cliente_id,endereco_id:D.id,requisicao:W.numero_requisicao,endereco_destino:ge,regiao:W.regiao,outra_cidade:W.regiao==="OUTRO"?W.outra_cidade:null,data_entrega:W.data_entrega,periodo:W.periodo,motoboy_id:Re,forma_pagamento:W.forma_pagamento,valor:W.valor_entrega,item_geladeira:W.item_geladeira,buscar_receita:W.buscar_receita,observacoes:W.observacoes,clientes_adicionais:at,valor_venda:me.includes(W.forma_pagamento)?W.valor_venda:0,...Ke}).eq("id",r).select().single();if(Xe)throw Xe;s.invalidateQueries({queryKey:["entregas"]}),s.invalidateQueries({queryKey:["receitas"]}),Se.success("Romaneio atualizado com sucesso!",{id:B}),setTimeout(()=>t("/"),800)}catch(de){console.error("Erro ao criar romaneio:",de),Se.error("Erro ao criar romaneio: "+de.message,{id:B})}finally{c(!1)}};return u?n.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100",children:[n.jsx("div",{className:"py-8 shadow-sm mb-6",style:{background:"linear-gradient(135deg, #457bba 0%, #890d5d 100%)"},children:n.jsx("div",{className:"max-w-7xl mx-auto px-6",children:n.jsx("h1",{className:"text-4xl font-bold text-white",children:"Editar Romaneio"})})}),n.jsx("div",{className:"max-w-4xl mx-auto px-6",children:n.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-12 text-center",children:n.jsx("div",{className:"text-xl text-slate-600",children:"Carregando dados da entrega..."})})})]}):n.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 pb-8",children:[n.jsx("div",{className:"py-8 shadow-sm mb-6",style:{background:"linear-gradient(135deg, #457bba 0%, #890d5d 100%)"},children:n.jsx("div",{className:"max-w-4xl mx-auto px-6",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("button",{onClick:()=>t(-1),className:"p-2 rounded-lg bg-white/20 hover:bg-white/30 transition-colors",children:n.jsx(jr,{className:"w-6 h-6 text-white"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-4xl font-bold text-white",children:"Editar Romaneio"}),n.jsx("p",{className:"text-base text-white opacity-90 mt-1",children:"Edite as informaes da ordem de entrega"})]})]})})}),n.jsx("div",{className:"max-w-4xl mx-auto px-6",children:n.jsxs("form",{onSubmit:Ee,children:[n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6 mb-6",children:[n.jsx("h3",{className:"text-lg font-bold text-slate-900 mb-6",style:{color:"#376295"},children:"Informaes do Romaneio"}),n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Cliente(s) *"}),n.jsx("input",{type:"text",value:m,onChange:G=>Lt(G.target.value),placeholder:"Buscar cliente por nome, CPF ou telefone...",className:"w-full px-4 py-3 border rounded-lg text-sm focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-100",style:{borderColor:_e.cliente?"#ef4444":"#cbd5e1"}}),y.length>0&&n.jsx("div",{className:"absolute z-50 bg-white border border-slate-300 rounded-lg mt-1 max-h-[200px] overflow-y-auto shadow-lg",children:y.map(G=>n.jsxs("div",{onClick:()=>$t(G),className:"p-3 cursor-pointer border-b border-slate-200 hover:bg-slate-50 transition-colors",children:[n.jsx("p",{className:"font-semibold text-slate-900 m-0",children:G.nome}),n.jsx("p",{className:"text-xs text-slate-600 m-0",children:G.telefone})]},G.id))}),m.length>=2&&y.length===0&&n.jsx("button",{type:"button",onClick:()=>S(!0),className:"mt-2 px-4 py-2 rounded-lg font-semibold text-sm",style:{backgroundColor:"#376295",color:"white"},children:"+ Cadastrar Novo Cliente"}),_e.cliente&&n.jsx("p",{className:"text-red-600 text-xs mt-1",children:_e.cliente})]}),P.length>0&&n.jsxs("div",{className:"mb-4",children:[n.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:["Clientes Selecionados (",P.length,")"]}),n.jsx("div",{className:"flex flex-wrap gap-2",children:P.map((G,B)=>n.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 bg-blue-50 rounded-full text-sm",children:[n.jsxs("span",{className:"font-medium text-slate-900",children:[G.nome,B===0&&n.jsx("span",{className:"ml-1 text-xs text-slate-500",children:"(Principal)"})]}),n.jsx("button",{type:"button",onClick:()=>Pt(G.id),className:"text-red-600 hover:text-red-800 font-bold text-lg leading-none",title:"Remover cliente",children:""})]},G.id))})]}),P.length>0&&n.jsxs("div",{style:{marginBottom:"1rem"},children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"600",color:ae.colors.text,marginBottom:"0.75rem"},children:"Endereo de Entrega *"}),P.map(G=>{const B=z.filter(Q=>Q.cliente_id===G.id);return n.jsxs("div",{style:{marginBottom:"1rem",padding:"1rem",background:ae.colors.background,borderRadius:"0.5rem",border:`1px solid ${ae.colors.border}`},children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.75rem"},children:[n.jsx("h4",{style:{margin:0,fontSize:"0.875rem",fontWeight:"600",color:ae.colors.primary},children:G.nome}),n.jsx("button",{type:"button",onClick:()=>we(ne===G.id?null:G.id),style:{padding:"0.25rem 0.75rem",background:"white",color:ae.colors.primary,border:`1px solid ${ae.colors.primary}`,borderRadius:"0.25rem",fontSize:"0.75rem",cursor:"pointer"},children:ne===G.id?"Cancelar":"+ Novo Endereo"})]}),ne===G.id&&n.jsxs("div",{style:{padding:"1rem",background:"white",borderRadius:"0.5rem",border:`1px solid ${ae.colors.border}`,marginBottom:"0.75rem"},children:[n.jsx("h5",{style:{fontSize:"0.8rem",fontWeight:"600",marginBottom:"0.75rem"},children:"Cadastrar Novo Endereo"}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"2fr 1fr",gap:"0.5rem",marginBottom:"0.5rem"},children:[n.jsx("input",{type:"text",value:re.logradouro,onChange:Q=>U({...re,logradouro:Q.target.value}),placeholder:"Rua *",style:{padding:"0.5rem",border:`1px solid ${ae.colors.border}`,borderRadius:"0.5rem",fontSize:"0.875rem"}}),n.jsx("input",{type:"text",value:re.numero,onChange:Q=>U({...re,numero:Q.target.value}),placeholder:"Nmero *",style:{padding:"0.5rem",border:`1px solid ${ae.colors.border}`,borderRadius:"0.5rem",fontSize:"0.875rem"}})]}),n.jsx("input",{type:"text",value:re.complemento,onChange:Q=>U({...re,complemento:Q.target.value}),placeholder:"Complemento",style:{width:"100%",padding:"0.5rem",border:`1px solid ${ae.colors.border}`,borderRadius:"0.5rem",fontSize:"0.875rem",marginBottom:"0.5rem"}}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"0.5rem",marginBottom:"0.5rem"},children:[n.jsx("input",{type:"text",value:re.bairro,onChange:Q=>U({...re,bairro:Q.target.value}),placeholder:"Bairro *",list:"bairros-sugestoes",style:{padding:"0.5rem",border:`1px solid ${ae.colors.border}`,borderRadius:"0.5rem",fontSize:"0.875rem"}}),n.jsx("input",{type:"text",value:re.cidade,onChange:Q=>{const de=gb(Q.target.value);U({...re,cidade:de})},placeholder:"Cidade *",list:"cidades-sugestoes",style:{padding:"0.5rem",border:`1px solid ${ae.colors.border}`,borderRadius:"0.5rem",fontSize:"0.875rem"}})]}),n.jsx("input",{type:"text",value:re.cep,onChange:Q=>U({...re,cep:Q.target.value}),placeholder:"CEP",style:{width:"100%",padding:"0.5rem",border:`1px solid ${ae.colors.border}`,borderRadius:"0.5rem",fontSize:"0.875rem",marginBottom:"0.5rem"}}),n.jsx("textarea",{value:re.observacoes,onChange:Q=>U({...re,observacoes:Q.target.value}),placeholder:"Observaes (opcional)",rows:2,style:{width:"100%",padding:"0.5rem",border:`1px solid ${ae.colors.border}`,borderRadius:"0.5rem",fontSize:"0.875rem",marginBottom:"0.75rem",resize:"vertical"}}),n.jsx("button",{type:"button",onClick:async()=>{if(!re.logradouro||!re.numero||!re.bairro||!re.cidade){Se.error("Preencha todos os campos obrigatrios");return}try{const Q=`${re.logradouro}, ${re.numero}${re.complemento?" - "+re.complemento:""} - ${re.bairro}, ${re.cidade} - SC`,de=ef(re.cidade,re.bairro),{data:ge,error:Ke}=await Le.from("enderecos").insert([{cliente_id:G.id,logradouro:re.logradouro,numero:re.numero,complemento:re.complemento||null,bairro:re.bairro,cidade:re.cidade,estado:"SC",cep:re.cep||null,regiao:de||"",is_principal:!1,endereco_completo:Q,observacoes:re.observacoes||null}]).select().single();if(Ke)throw Ke;const Re={...ge,cliente_nome:G.nome};Y([...z,Re]),J(Re),de&&jt(de),U({logradouro:"",numero:"",complemento:"",bairro:"",cidade:"",cep:"",observacoes:""}),we(null),Se.success("Endereo cadastrado com sucesso!")}catch(Q){console.error("Erro ao salvar endereo:",Q),Se.error("Erro ao salvar endereo")}},style:{padding:"0.5rem 1rem",background:ae.colors.primary,color:"white",border:"none",borderRadius:"0.5rem",fontSize:"0.875rem",cursor:"pointer"},children:"Salvar Endereo"})]}),B.length>0?B.map(Q=>(Z==null?void 0:Z.id)===Q.id?n.jsxs("div",{style:{padding:"0.75rem",border:`2px solid ${ae.colors.primary}`,borderRadius:"0.5rem",marginBottom:"0.5rem",background:"white"},children:[n.jsx("h5",{style:{fontSize:"0.8rem",fontWeight:"600",marginBottom:"0.75rem"},children:"Editando Endereo"}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"2fr 1fr",gap:"0.5rem",marginBottom:"0.5rem"},children:[n.jsx("input",{type:"text",value:Z.logradouro,onChange:de=>$({...Z,logradouro:de.target.value}),placeholder:"Rua *",style:{padding:"0.5rem",border:`1px solid ${ae.colors.border}`,borderRadius:"0.5rem",fontSize:"0.875rem"}}),n.jsx("input",{type:"text",value:Z.numero,onChange:de=>$({...Z,numero:de.target.value}),placeholder:"Nmero *",style:{padding:"0.5rem",border:`1px solid ${ae.colors.border}`,borderRadius:"0.5rem",fontSize:"0.875rem"}})]}),n.jsx("input",{type:"text",value:Z.complemento,onChange:de=>$({...Z,complemento:de.target.value}),placeholder:"Complemento",style:{width:"100%",padding:"0.5rem",border:`1px solid ${ae.colors.border}`,borderRadius:"0.5rem",fontSize:"0.875rem",marginBottom:"0.5rem"}}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"0.5rem",marginBottom:"0.5rem"},children:[n.jsx("input",{type:"text",value:Z.bairro,onChange:de=>$({...Z,bairro:de.target.value}),placeholder:"Bairro *",list:"bairros-sugestoes-edit",style:{padding:"0.5rem",border:`1px solid ${ae.colors.border}`,borderRadius:"0.5rem",fontSize:"0.875rem"}}),n.jsx("input",{type:"text",value:Z.cidade,onChange:de=>{const ge=gb(de.target.value);$({...Z,cidade:ge})},placeholder:"Cidade *",list:"cidades-sugestoes-edit",style:{padding:"0.5rem",border:`1px solid ${ae.colors.border}`,borderRadius:"0.5rem",fontSize:"0.875rem"}})]}),n.jsx("input",{type:"text",value:Z.cep,onChange:de=>$({...Z,cep:de.target.value}),placeholder:"CEP",style:{width:"100%",padding:"0.5rem",border:`1px solid ${ae.colors.border}`,borderRadius:"0.5rem",fontSize:"0.875rem",marginBottom:"0.75rem"}}),n.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[n.jsx("button",{type:"button",onClick:async()=>{if(!Z.logradouro||!Z.numero||!Z.bairro||!Z.cidade){Se.error("Preencha todos os campos obrigatrios");return}try{const de=`${Z.logradouro}, ${Z.numero}${Z.complemento?" - "+Z.complemento:""} - ${Z.bairro}, ${Z.cidade} - SC`,ge=ef(Z.cidade,Z.bairro),{error:Ke}=await Le.from("enderecos").update({logradouro:Z.logradouro,numero:Z.numero,complemento:Z.complemento||null,bairro:Z.bairro,cidade:Z.cidade,cep:Z.cep||null,regiao:ge||Z.regiao,endereco_completo:de}).eq("id",Z.id);if(Ke)throw Ke;const Re={...Q,...Z,endereco_completo:de,regiao:ge||Z.regiao};Y(z.map(at=>at.id===Z.id?Re:at)),(D==null?void 0:D.id)===Z.id&&(J(Re),ge&&jt(ge)),$(null),Se.success("Endereo atualizado com sucesso!")}catch(de){console.error("Erro ao atualizar endereo:",de),Se.error("Erro ao atualizar endereo")}},style:{flex:1,padding:"0.5rem",background:ae.colors.primary,color:"white",border:"none",borderRadius:"0.5rem",fontSize:"0.875rem",cursor:"pointer"},children:"Salvar"}),n.jsx("button",{type:"button",onClick:()=>$(null),style:{flex:1,padding:"0.5rem",background:"white",color:ae.colors.text,border:`1px solid ${ae.colors.border}`,borderRadius:"0.5rem",fontSize:"0.875rem",cursor:"pointer"},children:"Cancelar"})]})]},Q.id):n.jsx("div",{style:{padding:"0.75rem",border:`2px solid ${(D==null?void 0:D.id)===Q.id?ae.colors.primary:ae.colors.border}`,borderRadius:"0.5rem",marginBottom:"0.5rem",background:(D==null?void 0:D.id)===Q.id?"#f0f9ff":"white",cursor:"pointer"},onClick:()=>Nt(Q),children:n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"start"},children:[n.jsxs("div",{style:{flex:1,display:"flex",alignItems:"center",gap:"0.5rem"},children:[n.jsx("input",{type:"radio",name:"endereco",checked:(D==null?void 0:D.id)===Q.id,onChange:()=>Nt(Q),style:{cursor:"pointer"}}),n.jsxs("div",{children:[n.jsx("p",{style:{margin:0,fontWeight:"500",fontSize:"0.875rem"},children:Q.endereco_completo||`${Q.logradouro}, ${Q.numero} - ${Q.bairro}, ${Q.cidade}`}),Q.regiao&&n.jsxs("p",{style:{margin:0,fontSize:"0.75rem",color:ae.colors.textLight},children:["Regio: ",Q.regiao]})]})]}),n.jsx("button",{type:"button",onClick:de=>{de.stopPropagation(),ur(Q)},style:{padding:"0.25rem 0.5rem",background:"white",color:ae.colors.primary,border:`1px solid ${ae.colors.primary}`,borderRadius:"0.25rem",fontSize:"0.75rem",cursor:"pointer"},children:"Editar"})]})},Q.id)):n.jsx("p",{style:{color:ae.colors.textLight,fontSize:"0.875rem",fontStyle:"italic",margin:0},children:'Nenhum endereo cadastrado. Clique em "+ Novo Endereo" para adicionar.'})]},G.id)}),_e.endereco&&n.jsx("p",{style:{color:ae.colors.danger,fontSize:"0.75rem",marginTop:"0.25rem"},children:_e.endereco}),n.jsxs("datalist",{id:"bairros-sugestoes",children:[n.jsx("option",{value:"Centro"}),n.jsx("option",{value:"Estados"}),n.jsx("option",{value:"Pioneiros"}),n.jsx("option",{value:"Nova Esperana"}),n.jsx("option",{value:"Naes"}),n.jsx("option",{value:"Barra"}),n.jsx("option",{value:"Barra Sul"}),n.jsx("option",{value:"Estaleiro"}),n.jsx("option",{value:"Estaleirinho"}),n.jsx("option",{value:"Taquaras"}),n.jsx("option",{value:"Laranjeiras"}),n.jsx("option",{value:"Praia dos Amores"}),n.jsx("option",{value:"Praia Brava"}),n.jsx("option",{value:"Tabuleiro"}),n.jsx("option",{value:"Monte Alegre"}),n.jsx("option",{value:"Vila Real"}),n.jsx("option",{value:"Espinheiros"})]}),n.jsxs("datalist",{id:"cidades-sugestoes",children:[n.jsx("option",{value:"Balnerio Cambori"}),n.jsx("option",{value:"Cambori"}),n.jsx("option",{value:"Itaja"}),n.jsx("option",{value:"Itapema"}),n.jsx("option",{value:"Navegantes"}),n.jsx("option",{value:"Penha"}),n.jsx("option",{value:"Porto Belo"}),n.jsx("option",{value:"Tijucas"}),n.jsx("option",{value:"Piarras"}),n.jsx("option",{value:"Bombinhas"})]}),n.jsxs("datalist",{id:"bairros-sugestoes-edit",children:[n.jsx("option",{value:"Centro"}),n.jsx("option",{value:"Estados"}),n.jsx("option",{value:"Pioneiros"}),n.jsx("option",{value:"Nova Esperana"}),n.jsx("option",{value:"Naes"}),n.jsx("option",{value:"Barra"}),n.jsx("option",{value:"Barra Sul"}),n.jsx("option",{value:"Estaleiro"}),n.jsx("option",{value:"Estaleirinho"}),n.jsx("option",{value:"Taquaras"}),n.jsx("option",{value:"Laranjeiras"}),n.jsx("option",{value:"Praia dos Amores"}),n.jsx("option",{value:"Praia Brava"}),n.jsx("option",{value:"Tabuleiro"}),n.jsx("option",{value:"Monte Alegre"}),n.jsx("option",{value:"Vila Real"}),n.jsx("option",{value:"Espinheiros"})]}),n.jsxs("datalist",{id:"cidades-sugestoes-edit",children:[n.jsx("option",{value:"Balnerio Cambori"}),n.jsx("option",{value:"Cambori"}),n.jsx("option",{value:"Itaja"}),n.jsx("option",{value:"Itapema"}),n.jsx("option",{value:"Navegantes"}),n.jsx("option",{value:"Penha"}),n.jsx("option",{value:"Porto Belo"}),n.jsx("option",{value:"Tijucas"}),n.jsx("option",{value:"Piarras"}),n.jsx("option",{value:"Bombinhas"})]})]}),n.jsxs("div",{style:{marginBottom:"1rem"},children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:ae.colors.text,marginBottom:"0.5rem"},children:"Nmero da Requisio *"}),n.jsx("input",{type:"text",value:W.numero_requisicao,onChange:G=>be({...W,numero_requisicao:G.target.value}),placeholder:"Ex: REQ-001",style:{width:"100%",padding:"0.75rem",border:`1px solid ${_e.requisicao?ae.colors.danger:ae.colors.border}`,borderRadius:"0.5rem",fontSize:"0.875rem"}}),_e.requisicao&&n.jsx("p",{style:{color:ae.colors.danger,fontSize:"0.75rem",marginTop:"0.25rem"},children:_e.requisicao})]}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem",marginBottom:"1rem"},children:[n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:ae.colors.text,marginBottom:"0.5rem"},children:"Cidade/Regio *"}),n.jsxs("select",{value:W.regiao,onChange:G=>jt(G.target.value),style:{width:"100%",padding:"0.75rem",border:`1px solid ${_e.regiao?ae.colors.danger:ae.colors.border}`,borderRadius:"0.5rem",fontSize:"0.875rem"},children:[n.jsx("option",{value:"",children:"Selecione a cidade"}),mb.map(G=>n.jsx("option",{value:G,children:G},G))]})]}),n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:ae.colors.text,marginBottom:"0.5rem"},children:"Data de Entrega *"}),n.jsx("input",{type:"date",value:W.data_entrega,onChange:G=>be({...W,data_entrega:G.target.value}),style:{width:"100%",padding:"0.75rem",border:`1px solid ${ae.colors.border}`,borderRadius:"0.5rem",fontSize:"0.875rem"}})]})]}),W.regiao==="OUTRO"&&n.jsxs("div",{style:{marginBottom:"1rem"},children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:ae.colors.text,marginBottom:"0.5rem"},children:"Nome da Cidade *"}),n.jsx("input",{type:"text",value:W.outra_cidade,onChange:G=>be({...W,outra_cidade:G.target.value}),placeholder:"Digite o nome da cidade",style:{width:"100%",padding:"0.75rem",border:`1px solid ${_e.outra_cidade?ae.colors.danger:ae.colors.border}`,borderRadius:"0.5rem",fontSize:"0.875rem"}})]}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem",marginBottom:"1rem"},children:[n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:ae.colors.text,marginBottom:"0.5rem"},children:"Perodo de Entrega *"}),n.jsxs("select",{value:W.periodo,onChange:G=>be({...W,periodo:G.target.value}),style:{width:"100%",padding:"0.75rem",border:`1px solid ${ae.colors.border}`,borderRadius:"0.5rem",fontSize:"0.875rem"},children:[n.jsx("option",{value:"Manh",children:"Manh"}),n.jsx("option",{value:"Tarde",children:"Tarde"})]})]}),n.jsxs("div",{style:{position:"relative"},children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:ae.colors.text,marginBottom:"0.5rem"},children:"Forma de Pagamento *"}),n.jsx("input",{type:"text",value:V,onChange:G=>Un(G.target.value),onKeyDown:Ar,onFocus:()=>{Me(!0),ce.length===0&&xe(eg)},onBlur:()=>{setTimeout(()=>Me(!1),200)},placeholder:"Digite ou selecione a forma de pagamento...",style:{width:"100%",padding:"0.75rem",border:`1px solid ${_e.pagamento?ae.colors.danger:ae.colors.border}`,borderRadius:"0.5rem",fontSize:"0.875rem"}}),Pe&&ce.length>0&&n.jsx("div",{style:{position:"absolute",top:"100%",left:0,right:0,background:"white",border:`1px solid ${ae.colors.border}`,borderRadius:"0.5rem",marginTop:"0.25rem",maxHeight:"200px",overflowY:"auto",boxShadow:"0 4px 6px rgba(0,0,0,0.1)",zIndex:1e3},children:ce.map((G,B)=>n.jsx("div",{onClick:()=>Wr(G),onMouseEnter:()=>ie(B),style:{padding:"0.75rem",cursor:"pointer",borderBottom:B<ce.length-1?`1px solid ${ae.colors.border}`:"none",background:B===pe?"#e3f2fd":"white",transition:"background 0.15s"},children:n.jsx("p",{style:{margin:0,fontSize:"0.875rem"},children:G})},G))})]})]}),me.includes(W.forma_pagamento)&&n.jsxs("div",{style:{marginBottom:"1rem",padding:"1rem",background:"#e8f5e9",border:"2px solid #4caf50",borderRadius:"0.5rem"},children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"600",color:"#2e7d32",marginBottom:"0.5rem"},children:"Valor a Cobrar (R$) *"}),n.jsx("input",{type:"number",step:"0.01",min:"0",value:W.valor_venda||"",onChange:G=>be({...W,valor_venda:parseFloat(G.target.value)||0}),placeholder:"Ex: 150.00",style:{width:"100%",padding:"0.75rem",border:`2px solid ${_e.valor_venda?ae.colors.danger:"#4caf50"}`,borderRadius:"0.5rem",fontSize:"0.875rem",background:"white"}}),_e.valor_venda&&n.jsx("p",{style:{color:ae.colors.danger,fontSize:"0.75rem",marginTop:"0.25rem"},children:_e.valor_venda}),!_e.valor_venda&&W.valor_venda>0&&n.jsxs("div",{style:{marginTop:"0.75rem",padding:"0.75rem",background:"#1b5e20",borderRadius:"0.5rem",textAlign:"center"},children:[n.jsx("p",{style:{margin:0,color:"white",fontSize:"0.875rem",fontWeight:"500"},children:W.forma_pagamento==="Receber Mquina"?"Receber na Mquina:":W.forma_pagamento==="Pagar MP"?"Cobrar via MP:":"Valor a Receber:"}),n.jsxs("p",{style:{margin:"0.25rem 0 0 0",color:"white",fontSize:"1.5rem",fontWeight:"700"},children:["R$ ",W.valor_venda.toFixed(2).replace(".",",")]})]}),!W.valor_venda&&n.jsx("p",{style:{fontSize:"0.75rem",color:"#2e7d32",marginTop:"0.25rem",fontWeight:"500"},children:"Informe o valor a ser cobrado nesta entrega."})]}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem",marginBottom:"1rem"},children:[n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:ae.colors.text,marginBottom:"0.5rem"},children:"Motoboy *"}),n.jsxs("select",{value:W.motoboy,onChange:G=>Gt(G.target.value),style:{width:"100%",padding:"0.75rem",border:`1px solid ${_e.motoboy?ae.colors.danger:ae.colors.border}`,borderRadius:"0.5rem",fontSize:"0.875rem"},children:[n.jsx("option",{value:"",children:"Selecione o motoboy"}),n.jsx("option",{value:"Marcio",children:"Marcio"}),n.jsx("option",{value:"Bruno",children:"Bruno"})]}),n.jsx("p",{style:{fontSize:"0.75rem",color:ae.colors.textLight,marginTop:"0.25rem"},children:"Valor calculado automaticamente"})]}),n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:ae.colors.text,marginBottom:"0.5rem"},children:"Valor da Entrega (R$)"}),n.jsx("input",{type:"number",step:"0.01",value:W.valor_entrega,onChange:G=>be({...W,valor_entrega:parseFloat(G.target.value)||0}),style:{width:"100%",padding:"0.75rem",border:`1px solid ${ae.colors.border}`,borderRadius:"0.5rem",fontSize:"0.875rem",fontWeight:"600",color:ae.colors.primary}})]})]}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem",marginBottom:"1rem"},children:[n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"600",color:ae.colors.text,marginBottom:"0.5rem"},children:"Item de Geladeira? *"}),n.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[n.jsx("button",{type:"button",onClick:()=>be(G=>({...G,item_geladeira:!0})),style:{padding:"0.5rem 1.5rem",border:W.item_geladeira?"2px solid #0891b2":"2px solid #e2e8f0",borderRadius:"0.5rem",background:W.item_geladeira?"#cffafe":"white",color:W.item_geladeira?"#0891b2":"#64748b",fontWeight:W.item_geladeira?"600":"400",fontSize:"0.875rem",cursor:"pointer",transition:"all 0.15s"},children:"Sim"}),n.jsx("button",{type:"button",onClick:()=>be(G=>({...G,item_geladeira:!1})),style:{padding:"0.5rem 1.5rem",border:W.item_geladeira?"2px solid #e2e8f0":"2px solid #64748b",borderRadius:"0.5rem",background:W.item_geladeira?"white":"#f1f5f9",color:W.item_geladeira?"#64748b":"#1e293b",fontWeight:W.item_geladeira?"400":"600",fontSize:"0.875rem",cursor:"pointer",transition:"all 0.15s"},children:"No"})]})]}),n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"600",color:ae.colors.text,marginBottom:"0.5rem"},children:"Reter Receita? *"}),n.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[n.jsx("button",{type:"button",onClick:()=>be(G=>({...G,buscar_receita:!0})),style:{padding:"0.5rem 1.5rem",border:W.buscar_receita?"2px solid #f97316":"2px solid #e2e8f0",borderRadius:"0.5rem",background:W.buscar_receita?"#ffedd5":"white",color:W.buscar_receita?"#c2410c":"#64748b",fontWeight:W.buscar_receita?"600":"400",fontSize:"0.875rem",cursor:"pointer",transition:"all 0.15s"},children:"Sim"}),n.jsx("button",{type:"button",onClick:()=>be(G=>({...G,buscar_receita:!1})),style:{padding:"0.5rem 1.5rem",border:W.buscar_receita?"2px solid #e2e8f0":"2px solid #64748b",borderRadius:"0.5rem",background:W.buscar_receita?"white":"#f1f5f9",color:W.buscar_receita?"#64748b":"#1e293b",fontWeight:W.buscar_receita?"400":"600",fontSize:"0.875rem",cursor:"pointer",transition:"all 0.15s"},children:"No"})]})]})]}),n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:ae.colors.text,marginBottom:"0.5rem"},children:"Observaes"}),n.jsx("textarea",{value:W.observacoes,onChange:G=>be({...W,observacoes:G.target.value}),placeholder:"Informaes adicionais sobre a entrega",rows:4,style:{width:"100%",padding:"0.75rem",border:`1px solid ${ae.colors.border}`,borderRadius:"0.5rem",fontSize:"0.875rem",resize:"vertical"}})]})]}),n.jsxs("div",{className:"flex gap-4 justify-end mt-6",children:[n.jsx("button",{type:"button",onClick:()=>t("/"),className:"px-6 py-3 bg-white border border-slate-300 rounded-lg font-semibold text-sm text-slate-700 hover:bg-slate-50 transition-colors",children:"Cancelar"}),n.jsx("button",{type:"submit",disabled:l,className:"px-6 py-3 rounded-lg font-semibold text-sm text-white transition-colors",style:{backgroundColor:l?"#94a3b8":"#376295",cursor:l?"not-allowed":"pointer"},children:l?"Salvando...":"Salvar Alteraes"})]})]})}),n.jsx(ds,{open:E,onOpenChange:S,children:n.jsxs(Ao,{style:{maxWidth:"900px"},children:[n.jsx(Oo,{children:n.jsx(Mo,{style:{color:"#376295"},children:"Cadastrar Novo Cliente"})}),n.jsxs("div",{className:"space-y-4 max-h-[70vh] overflow-y-auto px-1",children:[n.jsxs("div",{className:"bg-slate-50 p-4 rounded-lg",children:[n.jsx("h3",{className:"text-sm font-semibold text-slate-700 mb-3",children:"Dados do Cliente"}),n.jsxs("div",{className:"mb-3",children:[n.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Nome Completo *"}),n.jsx("input",{type:"text",value:k.nome,onChange:G=>N({...k,nome:G.target.value}),placeholder:"Digite o nome completo",className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-100"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"CPF"}),n.jsx("input",{type:"text",value:k.cpf,onChange:G=>N({...k,cpf:G.target.value}),placeholder:"000.000.000-00",className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-100"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Telefone *"}),n.jsx("input",{type:"text",value:k.telefone,onChange:G=>N({...k,telefone:G.target.value}),placeholder:"(00) 00000-0000",className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-100"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"E-mail"}),n.jsx("input",{type:"email",value:k.email,onChange:G=>N({...k,email:G.target.value}),placeholder:"email@exemplo.com",className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-100"})]})]}),n.jsxs("div",{className:"bg-slate-50 p-4 rounded-lg",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsx("h3",{className:"text-sm font-semibold text-slate-700",children:"Endereos *"}),n.jsx("button",{type:"button",onClick:Ie,className:"px-3 py-1 text-xs font-medium rounded-lg transition-colors",style:{backgroundColor:"#376295",color:"white"},children:"+ Adicionar Endereo"})]}),k.enderecos.map((G,B)=>n.jsxs("div",{className:"bg-white p-4 rounded-lg mb-3 border border-slate-200",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsxs("h4",{className:"text-xs font-semibold text-slate-600",children:["Endereo ",B+1," ",B===0&&"(Principal)"]}),k.enderecos.length>1&&n.jsx("button",{type:"button",onClick:()=>nt(B),className:"text-red-600 hover:text-red-800 text-xs font-medium",children:"Remover"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-slate-700 mb-1",children:"CEP"}),n.jsx("input",{type:"text",value:G.cep,onChange:Q=>it(B,"cep",Q.target.value),placeholder:"00000-000",className:"w-full px-3 py-2 border border-slate-300 rounded-lg text-sm focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-100"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-slate-700 mb-1",children:"Regio"}),n.jsxs("select",{value:G.regiao,onChange:Q=>it(B,"regiao",Q.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-lg text-sm focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-100",children:[n.jsx("option",{value:"",children:"Selecione"}),mb.map(Q=>n.jsx("option",{value:Q,children:Q},Q))]})]})]}),n.jsxs("div",{className:"grid grid-cols-3 gap-3 mb-3",children:[n.jsxs("div",{className:"col-span-2",children:[n.jsx("label",{className:"block text-xs font-medium text-slate-700 mb-1",children:"Rua/Logradouro *"}),n.jsx("input",{type:"text",value:G.logradouro,onChange:Q=>it(B,"logradouro",Q.target.value),placeholder:"Nome da rua",className:"w-full px-3 py-2 border border-slate-300 rounded-lg text-sm focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-100"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-slate-700 mb-1",children:"Nmero *"}),n.jsx("input",{type:"text",value:G.numero,onChange:Q=>it(B,"numero",Q.target.value),placeholder:"123",className:"w-full px-3 py-2 border border-slate-300 rounded-lg text-sm focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-100"})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-slate-700 mb-1",children:"Bairro"}),n.jsx("input",{type:"text",value:G.bairro,onChange:Q=>it(B,"bairro",Q.target.value),placeholder:"Nome do bairro",className:"w-full px-3 py-2 border border-slate-300 rounded-lg text-sm focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-100"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-slate-700 mb-1",children:"Cidade *"}),n.jsx("input",{type:"text",value:G.cidade,onChange:Q=>it(B,"cidade",Q.target.value),placeholder:"Nome da cidade",className:"w-full px-3 py-2 border border-slate-300 rounded-lg text-sm focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-100"})]})]}),n.jsxs("div",{className:"mb-3",children:[n.jsx("label",{className:"block text-xs font-medium text-slate-700 mb-1",children:"Complemento"}),n.jsx("input",{type:"text",value:G.complemento,onChange:Q=>it(B,"complemento",Q.target.value),placeholder:"Apto, Bloco, etc.",className:"w-full px-3 py-2 border border-slate-300 rounded-lg text-sm focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-100"})]}),n.jsxs("div",{className:"mb-3",children:[n.jsx("label",{className:"block text-xs font-medium text-slate-700 mb-1",children:"Ponto de Referncia"}),n.jsx("input",{type:"text",value:G.ponto_referencia,onChange:Q=>it(B,"ponto_referencia",Q.target.value),placeholder:"Prximo a...",className:"w-full px-3 py-2 border border-slate-300 rounded-lg text-sm focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-100"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-slate-700 mb-1",children:"Observaes"}),n.jsx("textarea",{value:G.observacoes,onChange:Q=>it(B,"observacoes",Q.target.value),placeholder:"Informaes adicionais",rows:2,className:"w-full px-3 py-2 border border-slate-300 rounded-lg text-sm focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-100"})]})]},B))]}),n.jsxs("div",{className:"flex gap-3 pt-4",children:[n.jsx("button",{type:"button",onClick:()=>{S(!1),N({nome:"",cpf:"",telefone:"",email:"",enderecos:[{logradouro:"",numero:"",complemento:"",bairro:"",cidade:"",cep:"",regiao:"",ponto_referencia:"",observacoes:"",is_principal:!0}]})},className:"flex-1 px-4 py-2 border border-slate-300 rounded-lg font-medium text-slate-700 hover:bg-slate-50 transition-colors",children:"Cancelar"}),n.jsx("button",{type:"button",onClick:se,className:"flex-1 px-4 py-2 rounded-lg font-medium text-white transition-colors",style:{backgroundColor:"#376295"},children:"Cadastrar Cliente"})]})]})]})})]})}function bO({romaneio:t}){var l,c,u,p,m,v,y,x,E,S,k,N;if(!t)return null;const e=new Date;e.toLocaleString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"});const r=e.toLocaleString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"}),s=P=>P?new Date(P+"T12:00:00").toLocaleDateString("pt-BR"):"-";return n.jsxs("div",{className:"print-only",children:[n.jsx("style",{children:`
        /* Esconder na tela */
        @media screen {
          .print-only {
            display: none !important;
          }
        }

        @media print {
          @page {
            margin: 5mm;
            size: auto;
          }
          html, body {
            height: auto !important;
            overflow: visible !important;
          }
          body * {
            visibility: hidden;
          }
          .print-only, .print-only * {
            visibility: visible !important;
          }
          .print-only {
            display: block !important;
            position: absolute !important;
            top: 0 !important;
            left: 0 !important;
            width: 100% !important;
            background: white !important;
          }
          .no-print {
            display: none !important;
          }
        }

        .print-page {
          font-family: Arial, sans-serif;
          font-size: 12px;
          color: #000;
          padding: 20px;
          max-width: 800px;
          margin: 0 auto;
          position: relative;
        }

        .print-header-top {
          display: flex;
          justify-content: space-between;
          font-size: 11px;
          color: #000;
          padding-bottom: 10px;
          border-bottom: 1px solid #000;
          margin-bottom: 20px;
        }

        .print-title {
          text-align: center;
          margin-bottom: 15px;
          display: flex;
          flex-direction: column;
          align-items: center;
          justify-content: center;
          width: 100%;
        }

        .print-logo-img {
          width: 150px;
          height: auto;
          margin-bottom: 10px;
        }

        .print-title h1 {
          font-size: 18px;
          font-weight: bold;
          margin: 0;
          color: #000;
        }

        .print-box {
          border: 1px solid #000;
          padding: 12px;
          margin-bottom: 10px;
        }

        .print-row {
          display: flex;
          justify-content: space-between;
          margin-bottom: 5px;
          color: #000;
        }

        .print-row:last-child {
          margin-bottom: 0;
        }

        .print-label {
          color: #000;
          font-size: 11px;
        }

        .print-value {
          text-align: right;
        }

        .print-value-bold {
          font-weight: bold;
          text-align: right;
        }

        .print-grid {
          display: flex;
          gap: 10px;
          margin-bottom: 10px;
        }

        .print-grid-col {
          flex: 1;
          border: 1px solid #000;
          padding: 12px 15px;
        }

        .print-section-title {
          font-weight: bold;
          font-size: 11px;
          margin-bottom: 10px;
          padding-bottom: 6px;
          border-bottom: 1px solid #000;
          color: #000;
        }

        .print-section-row {
          display: flex;
          justify-content: space-between;
          margin-bottom: 6px;
          font-size: 11px;
          color: #000;
        }

        .print-section-row:last-child {
          margin-bottom: 0;
        }

        .print-section-label {
          color: #000;
        }

        .print-section-value {
          text-align: right;
          color: #000;
        }

        .print-endereco-main {
          font-weight: bold;
          font-size: 12px;
          margin-bottom: 3px;
          color: #000;
        }

        .print-endereco-line {
          font-size: 11px;
          margin-bottom: 2px;
          color: #000;
        }

        .print-endereco-ref {
          font-size: 11px;
          color: #000;
          font-style: italic;
          margin-top: 3px;
        }

        .print-endereco-ac {
          font-size: 11px;
          margin-top: 3px;
          color: #000;
        }

        .print-geladeira {
          display: flex;
          align-items: center;
          justify-content: center;
          gap: 12px;
          padding: 12px 15px;
          margin-bottom: 10px;
          font-size: 14px;
          font-weight: bold;
          text-transform: uppercase;
          border: 2px solid #000;
          background-color: #fff;
          color: #000;
        }

        .print-geladeira-icon {
          font-size: 20px;
        }

        .print-receita {
          display: flex;
          align-items: center;
          justify-content: center;
          gap: 12px;
          padding: 12px 15px;
          margin-bottom: 10px;
          font-size: 14px;
          font-weight: bold;
          text-transform: uppercase;
          border: 2px solid #000;
          background-color: #fff;
          color: #000;
        }

        .print-receita-icon {
          font-size: 20px;
        }

        .print-valor-box {
          background-color: #fff;
          border: 2px solid #000;
          padding: 10px;
          margin-bottom: 10px;
          text-align: center;
          font-size: 14px;
          font-weight: bold;
          color: #000;
        }

        .print-valor-icon {
          margin-right: 8px;
        }

        .print-footer {
          text-align: center;
          font-size: 9px;
          color: #000;
          padding-top: 8px;
          border-top: 1px solid #000;
          margin-top: 10px;
        }

        .print-footer div {
          margin-bottom: 2px;
        }

        .print-carimbo-pago {
          position: absolute;
          top: 50%;
          left: 50%;
          transform: translate(-50%, -50%) rotate(-25deg);
          font-size: 80px;
          font-weight: bold;
          text-transform: uppercase;
          color: #000;
          border: 8px solid #000;
          padding: 10px 40px;
          opacity: 0.3;
          pointer-events: none;
          z-index: 100;
          letter-spacing: 10px;
        }
      `}),n.jsxs("div",{className:"print-page",children:[t.forma_pagamento&&["Pago","S Entregar"].includes(t.forma_pagamento)&&n.jsx("div",{className:"print-carimbo-pago",children:"PAGO"}),n.jsxs("div",{className:"print-title",children:[n.jsx("img",{src:"/logo-formedica.png",alt:"Formdica",className:"print-logo-img"}),n.jsx("h1",{children:"ROMANEIO DE ENTREGA"})]}),n.jsxs("div",{className:"print-grid",children:[n.jsxs("div",{className:"print-grid-col",children:[n.jsx("div",{className:"print-section-title",children:"DADOS DA ENTREGA"}),n.jsxs("div",{className:"print-section-row",children:[n.jsx("span",{className:"print-section-label",children:"N. Requisio:"}),n.jsxs("span",{className:"print-section-value",style:{fontWeight:"bold"},children:["# ",t.requisicao||"0000"]})]}),n.jsxs("div",{className:"print-section-row",children:[n.jsx("span",{className:"print-section-label",children:"Data:"}),n.jsxs("span",{className:"print-section-value",children:[s(t.data_entrega)," - ",t.periodo||"-"]})]}),n.jsxs("div",{className:"print-section-row",children:[n.jsx("span",{className:"print-section-label",children:"Motoboy:"}),n.jsx("span",{className:"print-section-value",children:((l=t.motoboy)==null?void 0:l.nome)||"-"})]}),n.jsxs("div",{className:"print-section-row",children:[n.jsx("span",{className:"print-section-label",children:"Atendente:"}),n.jsx("span",{className:"print-section-value",children:((c=t.atendente)==null?void 0:c.nome)||((u=t.atendente)==null?void 0:u.email)||"-"})]})]}),n.jsxs("div",{className:"print-grid-col",children:[n.jsx("div",{className:"print-section-title",children:"CLIENTE"}),n.jsxs("div",{className:"print-section-row",children:[n.jsx("span",{className:"print-section-label",children:"Nome:"}),n.jsx("span",{className:"print-section-value",children:((p=t.cliente)==null?void 0:p.nome)||"-"})]}),n.jsxs("div",{className:"print-section-row",children:[n.jsx("span",{className:"print-section-label",children:"Telefone:"}),n.jsx("span",{className:"print-section-value",children:((m=t.cliente)==null?void 0:m.telefone)||"-"})]})]})]}),n.jsxs("div",{className:"print-grid",children:[n.jsxs("div",{className:"print-grid-col",children:[n.jsx("div",{className:"print-section-title",children:"ENDERECO DE ENTREGA"}),n.jsxs("div",{className:"print-endereco-main",children:[((v=t.endereco)==null?void 0:v.logradouro)||"-"," , ",((y=t.endereco)==null?void 0:y.numero)||"S/N"]}),n.jsxs("div",{className:"print-endereco-line",children:[((x=t.endereco)==null?void 0:x.bairro)||"-"," - ",((E=t.endereco)==null?void 0:E.cidade)||t.regiao||"-"]}),((S=t.endereco)==null?void 0:S.complemento)&&n.jsxs("div",{className:"print-endereco-line",children:["Compl.: ",t.endereco.complemento]}),((k=t.endereco)==null?void 0:k.ponto_referencia)&&n.jsxs("div",{className:"print-endereco-ref",children:["Ref.: ",t.endereco.ponto_referencia]}),((N=t.cliente)==null?void 0:N.nome)&&n.jsxs("div",{className:"print-endereco-ac",children:["A/C: ",t.cliente.nome]})]}),n.jsxs("div",{className:"print-grid-col",children:[n.jsx("div",{className:"print-section-title",children:"PAGAMENTO"}),n.jsxs("div",{className:"print-section-row",children:[n.jsx("span",{className:"print-section-label",children:"Forma de Pagamento:"}),n.jsx("span",{className:"print-section-value",children:t.forma_pagamento||"-"})]})]})]}),t.observacoes&&n.jsxs("div",{className:"print-box",children:[n.jsx("div",{className:"print-section-title",children:"OBSERVAES"}),n.jsx("div",{className:"print-section-row",style:{justifyContent:"flex-start"},children:n.jsx("span",{className:"print-section-value",style:{textAlign:"left"},children:t.observacoes})})]}),(t.item_geladeira||t.buscar_receita)&&n.jsxs("div",{style:{display:"flex",gap:"10px",marginBottom:"10px"},children:[t.item_geladeira&&n.jsxs("div",{className:"print-geladeira",style:{flex:1,marginBottom:0},children:[n.jsx("span",{className:"print-geladeira-icon",children:""}),n.jsx("span",{children:"ITEM DE GELADEIRA"}),n.jsx("span",{className:"print-geladeira-icon",children:""})]}),t.buscar_receita&&n.jsxs("div",{className:"print-receita",style:{flex:1,marginBottom:0},children:[n.jsxs("svg",{className:"print-receita-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",style:{width:"20px",height:"20px"},children:[n.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),n.jsx("polyline",{points:"14 2 14 8 20 8"}),n.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),n.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),n.jsx("polyline",{points:"10 9 9 9 8 9"})]}),n.jsx("span",{children:"RETER RECEITA"}),n.jsxs("svg",{className:"print-receita-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",style:{width:"20px",height:"20px"},children:[n.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),n.jsx("polyline",{points:"14 2 14 8 20 8"}),n.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),n.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),n.jsx("polyline",{points:"10 9 9 9 8 9"})]})]})]}),t.valor_venda>0&&["Receber Dinheiro","Receber Mquina","Pagar MP"].includes(t.forma_pagamento)||t.precisa_troco&&t.valor_troco>0?n.jsxs("div",{style:{display:"flex",gap:"10px",marginBottom:"10px"},children:[t.valor_venda>0&&["Receber Dinheiro","Receber Mquina","Pagar MP"].includes(t.forma_pagamento)&&n.jsxs("div",{className:"print-valor-box",style:{flex:1,marginBottom:0},children:[n.jsx("span",{className:"print-valor-icon",children:"$"}),"COBRAR NA ENTREGA: R$ ",t.valor_venda.toFixed(2).replace(".",",")]}),t.precisa_troco&&t.valor_troco>0&&n.jsxs("div",{className:"print-valor-box",style:{flex:1,marginBottom:0},children:["TROCO: R$ ",t.valor_troco.toFixed(2).replace(".",",")]})]}):null,n.jsx("div",{className:"print-footer",children:n.jsxs("div",{children:["Impressao em: ",r]})})]})]})}function vb(){var O,T,R,z,Y,D,J,ne,we;const t=Sr(),e=ho(),{id:r}=fN(),s=r||new URLSearchParams(window.location.search).get("id"),[l,c]=w.useState("Aguardando"),[u,p]=w.useState(!1),{data:m,isLoading:v,error:y}=hn({queryKey:["romaneio",s],queryFn:async()=>{if(console.log(" Buscando romaneio com ID:",s),!s)throw console.error(" ID do romaneio no fornecido"),new Error("ID do romaneio no fornecido");const{data:Z,error:$}=await Le.from("entregas").select(`
          *,
          cliente:clientes(id, nome, telefone, cpf, email),
          endereco:enderecos(id, logradouro, numero, bairro, cidade, complemento, cep, regiao),
          motoboy:motoboys(id, nome)
        `).eq("id",s).single();if($)throw console.error(" Erro ao buscar romaneio:",$),$;console.log(" Romaneio encontrado:",Z);let re=[];if(Z.clientes_adicionais&&Z.clientes_adicionais.length>0){const{data:be}=await Le.from("clientes").select("id, nome, telefone").in("id",Z.clientes_adicionais);re=be||[]}const U=Z.endereco_logradouro?{id:Z.endereco_id,logradouro:Z.endereco_logradouro,numero:Z.endereco_numero,complemento:Z.endereco_complemento,bairro:Z.endereco_bairro,cidade:Z.endereco_cidade,cep:Z.endereco_cep,regiao:Z.regiao}:Z.endereco;let W=null;if(Z.atendente_id){const{data:be}=await Le.from("usuarios").select("id, nome, email").eq("id",Z.atendente_id).single();W=be}return{...Z,endereco:U,clientesAdicionais:re,atendente:W}},enabled:!!s});w.useEffect(()=>{y&&console.error(" Erro na query:",y)},[y]),w.useEffect(()=>{m&&p(m.pagamento_recebido||!1)},[m]);const x=async()=>{if(confirm("Tem certeza que deseja excluir este romaneio?"))try{const{error:Z}=await Le.from("entregas").delete().eq("id",s);if(Z)throw Z;Se.success("Romaneio excludo com sucesso!"),t("/")}catch(Z){console.error("Erro ao excluir:",Z),Se.error("Erro ao excluir romaneio")}},E=async Z=>{p(Z);try{const{error:$}=await Le.from("entregas").update({pagamento_recebido:Z}).eq("id",s);if($)throw $;Se.success("Pagamento atualizado!"),e.invalidateQueries(["romaneio",s])}catch($){console.error("Erro ao atualizar pagamento:",$),Se.error("Erro ao atualizar pagamento"),p(!Z)}};if(v)return n.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100",children:[n.jsx("div",{className:"py-8 shadow-sm mb-6",style:{background:"linear-gradient(135deg, #457bba 0%, #890d5d 100%)"},children:n.jsx("div",{className:"max-w-7xl mx-auto px-6",children:n.jsx("h1",{className:"text-4xl font-bold text-white",children:"Detalhes do Romaneio"})})}),n.jsx("div",{className:"max-w-7xl mx-auto px-6",children:n.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-12 text-center",children:n.jsx("div",{className:"text-xl text-slate-600",children:"Carregando..."})})})]});if(!m&&!v)return n.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100",children:[n.jsx("div",{className:"py-8 shadow-sm mb-6",style:{background:"linear-gradient(135deg, #457bba 0%, #890d5d 100%)"},children:n.jsx("div",{className:"max-w-7xl mx-auto px-6",children:n.jsx("h1",{className:"text-4xl font-bold text-white",children:"Detalhes do Romaneio"})})}),n.jsx("div",{className:"max-w-7xl mx-auto px-6",children:n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-12",children:[n.jsx("div",{className:"text-2xl font-bold text-slate-900 mb-4",children:"Romaneio no encontrado"}),n.jsxs("div",{className:"text-sm text-slate-600 mb-4",children:["ID buscado: ",s||"Nenhum ID fornecido"]}),y&&n.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg mb-4",children:n.jsxs("div",{className:"text-sm text-red-600",children:["Erro: ",y.message]})}),n.jsx("button",{onClick:()=>t("/"),className:"px-4 py-2 rounded-lg font-semibold text-sm",style:{backgroundColor:"#376295",color:"white"},children:"Voltar"})]})})]});const S=m.requisicao||"",k=[m.cliente,...m.clientesAdicionais||[]].filter(Boolean),N=k.map(Z=>Z.nome).join(", "),P=k.map(Z=>Z.telefone).filter(Boolean).join(", ");return n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 pb-8",children:[n.jsx("div",{className:"py-8 shadow-sm mb-6",style:{background:"linear-gradient(135deg, #457bba 0%, #890d5d 100%)"},children:n.jsx("div",{className:"max-w-7xl mx-auto px-6",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("button",{onClick:()=>t(-1),className:"p-2 rounded-lg bg-white/20 hover:bg-white/30 transition-colors",children:n.jsx(jr,{className:"w-6 h-6 text-white"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-4xl font-bold text-white",children:"Detalhes do Romaneio"}),n.jsx("p",{className:"text-base text-white opacity-90 mt-1",children:"Visualizao completa da entrega"})]})]})})}),n.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[n.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6 mb-6",children:n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[n.jsxs("div",{children:[n.jsxs("h1",{className:"text-2xl font-bold text-slate-900",children:["Romaneio #",S]}),n.jsxs("p",{className:"text-sm text-slate-600 mt-1",children:["Criado em ",m.data_criacao?new Date(m.data_criacao).toLocaleDateString("pt-BR"):"-"," s ",m.data_criacao?new Date(m.data_criacao).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"}):"-"]})]}),n.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[n.jsxs("button",{onClick:()=>t(`/editar-romaneio?id=${s}`),className:"flex items-center gap-2 px-4 py-2 rounded-lg font-semibold text-sm transition-all",style:{backgroundColor:"#376295",color:"white"},title:"Editar",children:[n.jsx(Wf,{size:16}),"Editar"]}),n.jsxs("button",{onClick:()=>window.print(),className:"flex items-center gap-2 px-4 py-2 rounded-lg font-semibold text-sm transition-all",style:{backgroundColor:"#890d5d",color:"white"},title:"Imprimir",children:[n.jsx(xu,{size:16}),"Imprimir"]}),n.jsxs("button",{onClick:x,className:"flex items-center gap-2 px-4 py-2 rounded-lg font-semibold text-sm transition-all",style:{backgroundColor:"#ef4444",color:"white"},title:"Excluir",children:[n.jsx(Bc,{size:16}),"Excluir"]})]})]})}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-[1fr_400px] gap-6",children:[n.jsxs("div",{className:"flex flex-col gap-6",children:[n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-4",style:{color:"#376295"},children:[n.jsx(dn,{size:18}),n.jsx("h2",{className:"text-lg font-bold",children:"Informaes do Romaneio"})]}),n.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-2 md:grid-cols-4 gap-6",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-xs text-slate-500 mb-2",children:"Nmero da Requisio"}),n.jsxs("div",{className:"text-base font-semibold",style:{color:"#376295"},children:["#",S]})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-xs text-slate-500 mb-2",children:"Status"}),n.jsx("div",{children:n.jsx("span",{className:"px-3 py-1 rounded text-xs font-medium",style:{backgroundColor:m.status==="Entregue"?"#E8F5E8":m.status==="A Caminho"?"#FEF3E8":"#F5E8F5",color:m.status==="Entregue"?"#3dac38":m.status==="A Caminho"?"#f97316":"#890d5d"},children:m.status==="Produzindo no Laboratrio"?"Produo":m.status})})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-xs text-slate-500 mb-2",children:"Data de Entrega Prevista"}),n.jsxs("div",{className:"text-base font-semibold text-slate-900",children:[m.data_entrega?new Date(m.data_entrega+"T12:00:00").toLocaleDateString("pt-BR"):"-"," - ",m.periodo]})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-xs text-slate-500 mb-2",children:"Valor da Entrega"}),n.jsxs("div",{className:"text-2xl font-bold",style:{color:"#376295"},children:["R$ ",(m.valor||0).toFixed(2)]})]})]})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-4",style:{color:"#376295"},children:[n.jsx(lo,{size:18}),n.jsx("h2",{className:"text-lg font-bold",children:"Cliente"})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-lg font-bold text-slate-900 mb-2",children:N}),n.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600",children:[n.jsx(tu,{size:14}),P]})]})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-4",style:{color:"#376295"},children:[n.jsx(Nc,{size:18}),n.jsx("h2",{className:"text-lg font-bold",children:"Endereo de Entrega"})]}),n.jsxs("div",{className:"text-sm text-slate-600",children:[n.jsxs("div",{className:"font-bold text-slate-900 mb-1",children:[(O=m.endereco)==null?void 0:O.logradouro,", ",(T=m.endereco)==null?void 0:T.numero]}),n.jsxs("div",{className:"mb-3",children:[(R=m.endereco)==null?void 0:R.bairro," - ",(z=m.endereco)==null?void 0:z.cidade]}),((Y=m.endereco)==null?void 0:Y.complemento)&&n.jsxs("div",{className:"text-sm text-slate-600",children:["Complemento: ",m.endereco.complemento]})]})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-4",style:{color:"#376295"},children:[n.jsx(dn,{size:18}),n.jsx("h2",{className:"text-lg font-bold",children:"Observaes"})]}),n.jsx("div",{className:"text-sm text-slate-600",children:m.observacoes||"Nenhuma observao"})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("div",{className:"flex items-center gap-2",style:{color:"#376295"},children:[n.jsx(eb,{size:18}),n.jsx("h2",{className:"text-lg font-bold",children:"Imagens Anexadas"})]}),n.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 rounded-lg font-semibold text-sm transition-all",style:{backgroundColor:"#376295",color:"white"},children:[n.jsx(kR,{size:14}),"Anexar Imagens"]})]}),n.jsxs("div",{className:"flex flex-col items-center justify-center py-12 border-2 border-dashed border-slate-300 rounded-lg text-slate-400",children:[n.jsx(eb,{size:48,className:"mb-2 opacity-30"}),n.jsx("div",{className:"text-sm",children:"Nenhuma imagem anexada"})]})]})]}),n.jsxs("div",{className:"flex flex-col gap-6",children:[n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-4",style:{color:"#376295"},children:[n.jsx(dn,{size:20}),n.jsx("h2",{className:"text-xl font-bold",children:"Informaes"})]}),n.jsxs("div",{className:"flex flex-col gap-5",children:[n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(Nc,{size:20,className:"text-slate-500 mt-1 flex-shrink-0"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("div",{className:"text-sm text-slate-500 mb-1",children:"Regio"}),n.jsx("div",{className:"text-base font-semibold",style:{color:"#376295"},children:m.regiao||((D=m.endereco)==null?void 0:D.regiao)||"-"})]})]}),n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(Dc,{size:20,className:"text-slate-500 mt-1 flex-shrink-0"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("div",{className:"text-sm text-slate-500 mb-1",children:"Pagamento"}),n.jsx("div",{className:"text-base font-semibold text-slate-900",children:m.forma_pagamento}),m.valor_venda>0&&["Receber Dinheiro","Receber Mquina","Pagar MP"].includes(m.forma_pagamento)?n.jsxs("div",{style:{marginTop:"0.5rem",padding:"0.75rem",background:"#1b5e20",borderRadius:"0.375rem",textAlign:"center"},children:[n.jsx("div",{style:{color:"white",fontSize:"0.75rem",fontWeight:"500"},children:m.forma_pagamento==="Receber Mquina"?"Receber na Mquina:":m.forma_pagamento==="Pagar MP"?"Cobrar via MP:":"Valor a Receber:"}),n.jsxs("div",{style:{color:"white",fontSize:"1.25rem",fontWeight:"700"},children:["R$ ",m.valor_venda.toFixed(2).replace(".",",")]})]}):n.jsxs("div",{className:"text-lg font-bold mt-1",style:{color:"#376295"},children:["R$ ",(m.valor||0).toFixed(2)]})]})]}),n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(Ro,{size:20,className:"text-slate-500 mt-1 flex-shrink-0"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("div",{className:"text-sm text-slate-500 mb-1",children:"Perodo"}),n.jsx("div",{className:"text-base font-semibold text-slate-900",children:m.periodo})]})]}),n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(To,{size:20,className:"text-slate-500 mt-1 flex-shrink-0"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("div",{className:"text-sm text-slate-500 mb-1",children:"Motoboy"}),n.jsx("div",{className:"text-base font-semibold text-slate-900",children:((J=m.motoboy)==null?void 0:J.nome)||"-"})]})]}),n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(lo,{size:20,className:"text-slate-500 mt-1 flex-shrink-0"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("div",{className:"text-sm text-slate-500 mb-1",children:"Atendente"}),n.jsx("div",{className:"text-base font-semibold text-slate-900",children:((ne=m.atendente)==null?void 0:ne.email)||((we=m.atendente)==null?void 0:we.nome)||"-"})]})]}),m.item_geladeira&&n.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"12px",padding:"12px 15px",fontSize:"14px",fontWeight:"bold",textTransform:"uppercase",border:"2px solid #2196F3",backgroundColor:"#E3F2FD",color:"#1565C0",borderRadius:"8px"},children:[n.jsx("span",{style:{fontSize:"20px"},children:""}),n.jsx("span",{children:"ITEM DE GELADEIRA"}),n.jsx("span",{style:{fontSize:"20px"},children:""})]}),m.buscar_receita&&n.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"12px",padding:"12px 15px",fontSize:"14px",fontWeight:"bold",textTransform:"uppercase",border:"2px solid #FF9800",backgroundColor:"#FFF3E0",color:"#E65100",borderRadius:"8px"},children:[n.jsx(dn,{size:20}),n.jsx("span",{children:"RETER RECEITA"}),n.jsx(dn,{size:20})]}),n.jsxs("div",{className:"border-t border-slate-200 pt-4 mt-2",children:[n.jsx("div",{className:"text-xs text-slate-500 mb-2",children:"Pagamento Motoboy"}),n.jsxs("select",{value:l,onChange:Z=>c(Z.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-lg text-sm text-slate-700 focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-100",children:[n.jsx("option",{value:"Aguardando",children:"Aguardando"}),n.jsx("option",{value:"Pago",children:"Pago"}),n.jsx("option",{value:"Pendente",children:"Pendente"})]})]}),n.jsx("div",{children:n.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:u,onChange:Z=>E(Z.target.checked),className:"w-4 h-4",style:{accentColor:"#376295"}}),n.jsx("span",{className:"text-sm text-slate-700 font-medium",children:"Pagamento Recebido"})]})})]})]}),n.jsxs("div",{className:"rounded-xl shadow-lg p-6",style:{background:"linear-gradient(135deg, #890d5d 0%, #457bba 100%)"},children:[n.jsx("div",{className:"text-sm font-semibold text-white opacity-90 mb-4 text-center",children:"Cdigo de Rastreio"}),n.jsx("div",{className:"bg-white bg-opacity-20 p-6 rounded-lg text-center backdrop-blur-sm",children:n.jsx("div",{className:"text-2xl font-bold text-white tracking-widest font-mono",children:m.codigo_rastreio||"54NVT9NS"})})]})]})]})]})]}),n.jsx(bO,{romaneio:m})]})}const Xt=w.forwardRef(({className:t,...e},r)=>n.jsx("div",{ref:r,className:xt("rounded-xl border bg-card text-card-foreground shadow",t),...e}));Xt.displayName="Card";const Ws=w.forwardRef(({className:t,...e},r)=>n.jsx("div",{ref:r,className:xt("flex flex-col space-y-1.5 p-6",t),...e}));Ws.displayName="CardHeader";const Hs=w.forwardRef(({className:t,...e},r)=>n.jsx("div",{ref:r,className:xt("font-semibold leading-none tracking-tight",t),...e}));Hs.displayName="CardTitle";const _O=w.forwardRef(({className:t,...e},r)=>n.jsx("div",{ref:r,className:xt("text-sm text-muted-foreground",t),...e}));_O.displayName="CardDescription";const ir=w.forwardRef(({className:t,...e},r)=>n.jsx("div",{ref:r,className:xt("p-6 pt-0",t),...e}));ir.displayName="CardContent";const wO=w.forwardRef(({className:t,...e},r)=>n.jsx("div",{ref:r,className:xt("flex items-center p-6 pt-0",t),...e}));wO.displayName="CardFooter";const Vt=w.forwardRef(({className:t,type:e,...r},s)=>n.jsx("input",{type:e,className:xt("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:s,...r}));Vt.displayName="Input";var jO="Label",W1=w.forwardRef((t,e)=>n.jsx(Ot.label,{...t,ref:e,onMouseDown:r=>{var l;r.target.closest("button, input, select, textarea")||((l=t.onMouseDown)==null||l.call(t,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));W1.displayName=jO;var H1=W1;const SO=Fv("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),kt=w.forwardRef(({className:t,...e},r)=>n.jsx(H1,{ref:r,className:xt(SO(),t),...e}));kt.displayName=H1.displayName;const Vf=w.forwardRef(({className:t,...e},r)=>n.jsx("textarea",{className:xt("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...e}));Vf.displayName="Textarea";const EO=Fv("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function rs({className:t,variant:e,...r}){return n.jsx("div",{className:xt(EO({variant:e}),t),...r})}function xb(t,[e,r]){return Math.min(r,Math.max(e,t))}function NO(t){const e=t+"CollectionProvider",[r,s]=Lc(e),[l,c]=r(e,{collectionRef:{current:null},itemMap:new Map}),u=N=>{const{scope:P,children:O}=N,T=Te.useRef(null),R=Te.useRef(new Map).current;return n.jsx(l,{scope:P,itemMap:R,collectionRef:T,children:O})};u.displayName=e;const p=t+"CollectionSlot",m=Ec(p),v=Te.forwardRef((N,P)=>{const{scope:O,children:T}=N,R=c(p,O),z=Qt(P,R.collectionRef);return n.jsx(m,{ref:z,children:T})});v.displayName=p;const y=t+"CollectionItemSlot",x="data-radix-collection-item",E=Ec(y),S=Te.forwardRef((N,P)=>{const{scope:O,children:T,...R}=N,z=Te.useRef(null),Y=Qt(P,z),D=c(y,O);return Te.useEffect(()=>(D.itemMap.set(z,{ref:z,...R}),()=>void D.itemMap.delete(z))),n.jsx(E,{[x]:"",ref:Y,children:T})});S.displayName=y;function k(N){const P=c(t+"CollectionConsumer",N);return Te.useCallback(()=>{const T=P.collectionRef.current;if(!T)return[];const R=Array.from(T.querySelectorAll(`[${x}]`));return Array.from(P.itemMap.values()).sort((D,J)=>R.indexOf(D.ref.current)-R.indexOf(J.ref.current))},[P.collectionRef,P.itemMap])}return[{Provider:u,Slot:v,ItemSlot:S},k,s]}var CO=w.createContext(void 0);function kO(t){const e=w.useContext(CO);return t||e||"ltr"}const PO=["top","right","bottom","left"],ea=Math.min,zn=Math.max,kf=Math.round,tf=Math.floor,cs=t=>({x:t,y:t}),TO={left:"right",right:"left",bottom:"top",top:"bottom"},RO={start:"end",end:"start"};function Gg(t,e,r){return zn(t,ea(e,r))}function Qs(t,e){return typeof t=="function"?t(e):t}function Js(t){return t.split("-")[0]}function Fc(t){return t.split("-")[1]}function qv(t){return t==="x"?"y":"x"}function Wv(t){return t==="y"?"height":"width"}const AO=new Set(["top","bottom"]);function ls(t){return AO.has(Js(t))?"y":"x"}function Hv(t){return qv(ls(t))}function OO(t,e,r){r===void 0&&(r=!1);const s=Fc(t),l=Hv(t),c=Wv(l);let u=l==="x"?s===(r?"end":"start")?"right":"left":s==="start"?"bottom":"top";return e.reference[c]>e.floating[c]&&(u=Pf(u)),[u,Pf(u)]}function MO(t){const e=Pf(t);return[Kg(t),e,Kg(e)]}function Kg(t){return t.replace(/start|end/g,e=>RO[e])}const yb=["left","right"],bb=["right","left"],LO=["top","bottom"],IO=["bottom","top"];function DO(t,e,r){switch(t){case"top":case"bottom":return r?e?bb:yb:e?yb:bb;case"left":case"right":return e?LO:IO;default:return[]}}function BO(t,e,r,s){const l=Fc(t);let c=DO(Js(t),r==="start",s);return l&&(c=c.map(u=>u+"-"+l),e&&(c=c.concat(c.map(Kg)))),c}function Pf(t){return t.replace(/left|right|bottom|top/g,e=>TO[e])}function zO(t){return{top:0,right:0,bottom:0,left:0,...t}}function V1(t){return typeof t!="number"?zO(t):{top:t,right:t,bottom:t,left:t}}function Tf(t){const{x:e,y:r,width:s,height:l}=t;return{width:s,height:l,top:r,left:e,right:e+s,bottom:r+l,x:e,y:r}}function _b(t,e,r){let{reference:s,floating:l}=t;const c=ls(e),u=Hv(e),p=Wv(u),m=Js(e),v=c==="y",y=s.x+s.width/2-l.width/2,x=s.y+s.height/2-l.height/2,E=s[p]/2-l[p]/2;let S;switch(m){case"top":S={x:y,y:s.y-l.height};break;case"bottom":S={x:y,y:s.y+s.height};break;case"right":S={x:s.x+s.width,y:x};break;case"left":S={x:s.x-l.width,y:x};break;default:S={x:s.x,y:s.y}}switch(Fc(e)){case"start":S[u]-=E*(r&&v?-1:1);break;case"end":S[u]+=E*(r&&v?-1:1);break}return S}const $O=async(t,e,r)=>{const{placement:s="bottom",strategy:l="absolute",middleware:c=[],platform:u}=r,p=c.filter(Boolean),m=await(u.isRTL==null?void 0:u.isRTL(e));let v=await u.getElementRects({reference:t,floating:e,strategy:l}),{x:y,y:x}=_b(v,s,m),E=s,S={},k=0;for(let N=0;N<p.length;N++){const{name:P,fn:O}=p[N],{x:T,y:R,data:z,reset:Y}=await O({x:y,y:x,initialPlacement:s,placement:E,strategy:l,middlewareData:S,rects:v,platform:u,elements:{reference:t,floating:e}});y=T??y,x=R??x,S={...S,[P]:{...S[P],...z}},Y&&k<=50&&(k++,typeof Y=="object"&&(Y.placement&&(E=Y.placement),Y.rects&&(v=Y.rects===!0?await u.getElementRects({reference:t,floating:e,strategy:l}):Y.rects),{x:y,y:x}=_b(v,E,m)),N=-1)}return{x:y,y:x,placement:E,strategy:l,middlewareData:S}};async function ru(t,e){var r;e===void 0&&(e={});const{x:s,y:l,platform:c,rects:u,elements:p,strategy:m}=t,{boundary:v="clippingAncestors",rootBoundary:y="viewport",elementContext:x="floating",altBoundary:E=!1,padding:S=0}=Qs(e,t),k=V1(S),P=p[E?x==="floating"?"reference":"floating":x],O=Tf(await c.getClippingRect({element:(r=await(c.isElement==null?void 0:c.isElement(P)))==null||r?P:P.contextElement||await(c.getDocumentElement==null?void 0:c.getDocumentElement(p.floating)),boundary:v,rootBoundary:y,strategy:m})),T=x==="floating"?{x:s,y:l,width:u.floating.width,height:u.floating.height}:u.reference,R=await(c.getOffsetParent==null?void 0:c.getOffsetParent(p.floating)),z=await(c.isElement==null?void 0:c.isElement(R))?await(c.getScale==null?void 0:c.getScale(R))||{x:1,y:1}:{x:1,y:1},Y=Tf(c.convertOffsetParentRelativeRectToViewportRelativeRect?await c.convertOffsetParentRelativeRectToViewportRelativeRect({elements:p,rect:T,offsetParent:R,strategy:m}):T);return{top:(O.top-Y.top+k.top)/z.y,bottom:(Y.bottom-O.bottom+k.bottom)/z.y,left:(O.left-Y.left+k.left)/z.x,right:(Y.right-O.right+k.right)/z.x}}const FO=t=>({name:"arrow",options:t,async fn(e){const{x:r,y:s,placement:l,rects:c,platform:u,elements:p,middlewareData:m}=e,{element:v,padding:y=0}=Qs(t,e)||{};if(v==null)return{};const x=V1(y),E={x:r,y:s},S=Hv(l),k=Wv(S),N=await u.getDimensions(v),P=S==="y",O=P?"top":"left",T=P?"bottom":"right",R=P?"clientHeight":"clientWidth",z=c.reference[k]+c.reference[S]-E[S]-c.floating[k],Y=E[S]-c.reference[S],D=await(u.getOffsetParent==null?void 0:u.getOffsetParent(v));let J=D?D[R]:0;(!J||!await(u.isElement==null?void 0:u.isElement(D)))&&(J=p.floating[R]||c.floating[k]);const ne=z/2-Y/2,we=J/2-N[k]/2-1,Z=ea(x[O],we),$=ea(x[T],we),re=Z,U=J-N[k]-$,W=J/2-N[k]/2+ne,be=Gg(re,W,U),me=!m.arrow&&Fc(l)!=null&&W!==be&&c.reference[k]/2-(W<re?Z:$)-N[k]/2<0,_e=me?W<re?W-re:W-U:0;return{[S]:E[S]+_e,data:{[S]:be,centerOffset:W-be-_e,...me&&{alignmentOffset:_e}},reset:me}}}),UO=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var r,s;const{placement:l,middlewareData:c,rects:u,initialPlacement:p,platform:m,elements:v}=e,{mainAxis:y=!0,crossAxis:x=!0,fallbackPlacements:E,fallbackStrategy:S="bestFit",fallbackAxisSideDirection:k="none",flipAlignment:N=!0,...P}=Qs(t,e);if((r=c.arrow)!=null&&r.alignmentOffset)return{};const O=Js(l),T=ls(p),R=Js(p)===p,z=await(m.isRTL==null?void 0:m.isRTL(v.floating)),Y=E||(R||!N?[Pf(p)]:MO(p)),D=k!=="none";!E&&D&&Y.push(...BO(p,N,k,z));const J=[p,...Y],ne=await ru(e,P),we=[];let Z=((s=c.flip)==null?void 0:s.overflows)||[];if(y&&we.push(ne[O]),x){const W=OO(l,u,z);we.push(ne[W[0]],ne[W[1]])}if(Z=[...Z,{placement:l,overflows:we}],!we.every(W=>W<=0)){var $,re;const W=((($=c.flip)==null?void 0:$.index)||0)+1,be=J[W];if(be&&(!(x==="alignment"?T!==ls(be):!1)||Z.every(q=>ls(q.placement)===T?q.overflows[0]>0:!0)))return{data:{index:W,overflows:Z},reset:{placement:be}};let me=(re=Z.filter(_e=>_e.overflows[0]<=0).sort((_e,q)=>_e.overflows[1]-q.overflows[1])[0])==null?void 0:re.placement;if(!me)switch(S){case"bestFit":{var U;const _e=(U=Z.filter(q=>{if(D){const je=ls(q.placement);return je===T||je==="y"}return!0}).map(q=>[q.placement,q.overflows.filter(je=>je>0).reduce((je,le)=>je+le,0)]).sort((q,je)=>q[1]-je[1])[0])==null?void 0:U[0];_e&&(me=_e);break}case"initialPlacement":me=p;break}if(l!==me)return{reset:{placement:me}}}return{}}}};function wb(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function jb(t){return PO.some(e=>t[e]>=0)}const qO=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:r}=e,{strategy:s="referenceHidden",...l}=Qs(t,e);switch(s){case"referenceHidden":{const c=await ru(e,{...l,elementContext:"reference"}),u=wb(c,r.reference);return{data:{referenceHiddenOffsets:u,referenceHidden:jb(u)}}}case"escaped":{const c=await ru(e,{...l,altBoundary:!0}),u=wb(c,r.floating);return{data:{escapedOffsets:u,escaped:jb(u)}}}default:return{}}}}},G1=new Set(["left","top"]);async function WO(t,e){const{placement:r,platform:s,elements:l}=t,c=await(s.isRTL==null?void 0:s.isRTL(l.floating)),u=Js(r),p=Fc(r),m=ls(r)==="y",v=G1.has(u)?-1:1,y=c&&m?-1:1,x=Qs(e,t);let{mainAxis:E,crossAxis:S,alignmentAxis:k}=typeof x=="number"?{mainAxis:x,crossAxis:0,alignmentAxis:null}:{mainAxis:x.mainAxis||0,crossAxis:x.crossAxis||0,alignmentAxis:x.alignmentAxis};return p&&typeof k=="number"&&(S=p==="end"?k*-1:k),m?{x:S*y,y:E*v}:{x:E*v,y:S*y}}const HO=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var r,s;const{x:l,y:c,placement:u,middlewareData:p}=e,m=await WO(e,t);return u===((r=p.offset)==null?void 0:r.placement)&&(s=p.arrow)!=null&&s.alignmentOffset?{}:{x:l+m.x,y:c+m.y,data:{...m,placement:u}}}}},VO=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:r,y:s,placement:l}=e,{mainAxis:c=!0,crossAxis:u=!1,limiter:p={fn:P=>{let{x:O,y:T}=P;return{x:O,y:T}}},...m}=Qs(t,e),v={x:r,y:s},y=await ru(e,m),x=ls(Js(l)),E=qv(x);let S=v[E],k=v[x];if(c){const P=E==="y"?"top":"left",O=E==="y"?"bottom":"right",T=S+y[P],R=S-y[O];S=Gg(T,S,R)}if(u){const P=x==="y"?"top":"left",O=x==="y"?"bottom":"right",T=k+y[P],R=k-y[O];k=Gg(T,k,R)}const N=p.fn({...e,[E]:S,[x]:k});return{...N,data:{x:N.x-r,y:N.y-s,enabled:{[E]:c,[x]:u}}}}}},GO=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:r,y:s,placement:l,rects:c,middlewareData:u}=e,{offset:p=0,mainAxis:m=!0,crossAxis:v=!0}=Qs(t,e),y={x:r,y:s},x=ls(l),E=qv(x);let S=y[E],k=y[x];const N=Qs(p,e),P=typeof N=="number"?{mainAxis:N,crossAxis:0}:{mainAxis:0,crossAxis:0,...N};if(m){const R=E==="y"?"height":"width",z=c.reference[E]-c.floating[R]+P.mainAxis,Y=c.reference[E]+c.reference[R]-P.mainAxis;S<z?S=z:S>Y&&(S=Y)}if(v){var O,T;const R=E==="y"?"width":"height",z=G1.has(Js(l)),Y=c.reference[x]-c.floating[R]+(z&&((O=u.offset)==null?void 0:O[x])||0)+(z?0:P.crossAxis),D=c.reference[x]+c.reference[R]+(z?0:((T=u.offset)==null?void 0:T[x])||0)-(z?P.crossAxis:0);k<Y?k=Y:k>D&&(k=D)}return{[E]:S,[x]:k}}}},KO=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var r,s;const{placement:l,rects:c,platform:u,elements:p}=e,{apply:m=()=>{},...v}=Qs(t,e),y=await ru(e,v),x=Js(l),E=Fc(l),S=ls(l)==="y",{width:k,height:N}=c.floating;let P,O;x==="top"||x==="bottom"?(P=x,O=E===(await(u.isRTL==null?void 0:u.isRTL(p.floating))?"start":"end")?"left":"right"):(O=x,P=E==="end"?"top":"bottom");const T=N-y.top-y.bottom,R=k-y.left-y.right,z=ea(N-y[P],T),Y=ea(k-y[O],R),D=!e.middlewareData.shift;let J=z,ne=Y;if((r=e.middlewareData.shift)!=null&&r.enabled.x&&(ne=R),(s=e.middlewareData.shift)!=null&&s.enabled.y&&(J=T),D&&!E){const Z=zn(y.left,0),$=zn(y.right,0),re=zn(y.top,0),U=zn(y.bottom,0);S?ne=k-2*(Z!==0||$!==0?Z+$:zn(y.left,y.right)):J=N-2*(re!==0||U!==0?re+U:zn(y.top,y.bottom))}await m({...e,availableWidth:ne,availableHeight:J});const we=await u.getDimensions(p.floating);return k!==we.width||N!==we.height?{reset:{rects:!0}}:{}}}};function Gf(){return typeof window<"u"}function Uc(t){return K1(t)?(t.nodeName||"").toLowerCase():"#document"}function Fn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function ms(t){var e;return(e=(K1(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function K1(t){return Gf()?t instanceof Node||t instanceof Fn(t).Node:!1}function Lo(t){return Gf()?t instanceof Element||t instanceof Fn(t).Element:!1}function us(t){return Gf()?t instanceof HTMLElement||t instanceof Fn(t).HTMLElement:!1}function Sb(t){return!Gf()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Fn(t).ShadowRoot}const ZO=new Set(["inline","contents"]);function yu(t){const{overflow:e,overflowX:r,overflowY:s,display:l}=Io(t);return/auto|scroll|overlay|hidden|clip/.test(e+s+r)&&!ZO.has(l)}const QO=new Set(["table","td","th"]);function JO(t){return QO.has(Uc(t))}const YO=[":popover-open",":modal"];function Kf(t){return YO.some(e=>{try{return t.matches(e)}catch{return!1}})}const XO=["transform","translate","scale","rotate","perspective"],e5=["transform","translate","scale","rotate","perspective","filter"],t5=["paint","layout","strict","content"];function Vv(t){const e=Gv(),r=Lo(t)?Io(t):t;return XO.some(s=>r[s]?r[s]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!e&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!e&&(r.filter?r.filter!=="none":!1)||e5.some(s=>(r.willChange||"").includes(s))||t5.some(s=>(r.contain||"").includes(s))}function r5(t){let e=ta(t);for(;us(e)&&!Cc(e);){if(Vv(e))return e;if(Kf(e))return null;e=ta(e)}return null}function Gv(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const n5=new Set(["html","body","#document"]);function Cc(t){return n5.has(Uc(t))}function Io(t){return Fn(t).getComputedStyle(t)}function Zf(t){return Lo(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function ta(t){if(Uc(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Sb(t)&&t.host||ms(t);return Sb(e)?e.host:e}function Z1(t){const e=ta(t);return Cc(e)?t.ownerDocument?t.ownerDocument.body:t.body:us(e)&&yu(e)?e:Z1(e)}function nu(t,e,r){var s;e===void 0&&(e=[]),r===void 0&&(r=!0);const l=Z1(t),c=l===((s=t.ownerDocument)==null?void 0:s.body),u=Fn(l);if(c){const p=Zg(u);return e.concat(u,u.visualViewport||[],yu(l)?l:[],p&&r?nu(p):[])}return e.concat(l,nu(l,[],r))}function Zg(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function Q1(t){const e=Io(t);let r=parseFloat(e.width)||0,s=parseFloat(e.height)||0;const l=us(t),c=l?t.offsetWidth:r,u=l?t.offsetHeight:s,p=kf(r)!==c||kf(s)!==u;return p&&(r=c,s=u),{width:r,height:s,$:p}}function Kv(t){return Lo(t)?t:t.contextElement}function lc(t){const e=Kv(t);if(!us(e))return cs(1);const r=e.getBoundingClientRect(),{width:s,height:l,$:c}=Q1(e);let u=(c?kf(r.width):r.width)/s,p=(c?kf(r.height):r.height)/l;return(!u||!Number.isFinite(u))&&(u=1),(!p||!Number.isFinite(p))&&(p=1),{x:u,y:p}}const o5=cs(0);function J1(t){const e=Fn(t);return!Gv()||!e.visualViewport?o5:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function s5(t,e,r){return e===void 0&&(e=!1),!r||e&&r!==Fn(t)?!1:e}function ol(t,e,r,s){e===void 0&&(e=!1),r===void 0&&(r=!1);const l=t.getBoundingClientRect(),c=Kv(t);let u=cs(1);e&&(s?Lo(s)&&(u=lc(s)):u=lc(t));const p=s5(c,r,s)?J1(c):cs(0);let m=(l.left+p.x)/u.x,v=(l.top+p.y)/u.y,y=l.width/u.x,x=l.height/u.y;if(c){const E=Fn(c),S=s&&Lo(s)?Fn(s):s;let k=E,N=Zg(k);for(;N&&s&&S!==k;){const P=lc(N),O=N.getBoundingClientRect(),T=Io(N),R=O.left+(N.clientLeft+parseFloat(T.paddingLeft))*P.x,z=O.top+(N.clientTop+parseFloat(T.paddingTop))*P.y;m*=P.x,v*=P.y,y*=P.x,x*=P.y,m+=R,v+=z,k=Fn(N),N=Zg(k)}}return Tf({width:y,height:x,x:m,y:v})}function Qf(t,e){const r=Zf(t).scrollLeft;return e?e.left+r:ol(ms(t)).left+r}function Y1(t,e){const r=t.getBoundingClientRect(),s=r.left+e.scrollLeft-Qf(t,r),l=r.top+e.scrollTop;return{x:s,y:l}}function i5(t){let{elements:e,rect:r,offsetParent:s,strategy:l}=t;const c=l==="fixed",u=ms(s),p=e?Kf(e.floating):!1;if(s===u||p&&c)return r;let m={scrollLeft:0,scrollTop:0},v=cs(1);const y=cs(0),x=us(s);if((x||!x&&!c)&&((Uc(s)!=="body"||yu(u))&&(m=Zf(s)),us(s))){const S=ol(s);v=lc(s),y.x=S.x+s.clientLeft,y.y=S.y+s.clientTop}const E=u&&!x&&!c?Y1(u,m):cs(0);return{width:r.width*v.x,height:r.height*v.y,x:r.x*v.x-m.scrollLeft*v.x+y.x+E.x,y:r.y*v.y-m.scrollTop*v.y+y.y+E.y}}function a5(t){return Array.from(t.getClientRects())}function l5(t){const e=ms(t),r=Zf(t),s=t.ownerDocument.body,l=zn(e.scrollWidth,e.clientWidth,s.scrollWidth,s.clientWidth),c=zn(e.scrollHeight,e.clientHeight,s.scrollHeight,s.clientHeight);let u=-r.scrollLeft+Qf(t);const p=-r.scrollTop;return Io(s).direction==="rtl"&&(u+=zn(e.clientWidth,s.clientWidth)-l),{width:l,height:c,x:u,y:p}}const Eb=25;function c5(t,e){const r=Fn(t),s=ms(t),l=r.visualViewport;let c=s.clientWidth,u=s.clientHeight,p=0,m=0;if(l){c=l.width,u=l.height;const y=Gv();(!y||y&&e==="fixed")&&(p=l.offsetLeft,m=l.offsetTop)}const v=Qf(s);if(v<=0){const y=s.ownerDocument,x=y.body,E=getComputedStyle(x),S=y.compatMode==="CSS1Compat"&&parseFloat(E.marginLeft)+parseFloat(E.marginRight)||0,k=Math.abs(s.clientWidth-x.clientWidth-S);k<=Eb&&(c-=k)}else v<=Eb&&(c+=v);return{width:c,height:u,x:p,y:m}}const d5=new Set(["absolute","fixed"]);function u5(t,e){const r=ol(t,!0,e==="fixed"),s=r.top+t.clientTop,l=r.left+t.clientLeft,c=us(t)?lc(t):cs(1),u=t.clientWidth*c.x,p=t.clientHeight*c.y,m=l*c.x,v=s*c.y;return{width:u,height:p,x:m,y:v}}function Nb(t,e,r){let s;if(e==="viewport")s=c5(t,r);else if(e==="document")s=l5(ms(t));else if(Lo(e))s=u5(e,r);else{const l=J1(t);s={x:e.x-l.x,y:e.y-l.y,width:e.width,height:e.height}}return Tf(s)}function X1(t,e){const r=ta(t);return r===e||!Lo(r)||Cc(r)?!1:Io(r).position==="fixed"||X1(r,e)}function h5(t,e){const r=e.get(t);if(r)return r;let s=nu(t,[],!1).filter(p=>Lo(p)&&Uc(p)!=="body"),l=null;const c=Io(t).position==="fixed";let u=c?ta(t):t;for(;Lo(u)&&!Cc(u);){const p=Io(u),m=Vv(u);!m&&p.position==="fixed"&&(l=null),(c?!m&&!l:!m&&p.position==="static"&&!!l&&d5.has(l.position)||yu(u)&&!m&&X1(t,u))?s=s.filter(y=>y!==u):l=p,u=ta(u)}return e.set(t,s),s}function f5(t){let{element:e,boundary:r,rootBoundary:s,strategy:l}=t;const u=[...r==="clippingAncestors"?Kf(e)?[]:h5(e,this._c):[].concat(r),s],p=u[0],m=u.reduce((v,y)=>{const x=Nb(e,y,l);return v.top=zn(x.top,v.top),v.right=ea(x.right,v.right),v.bottom=ea(x.bottom,v.bottom),v.left=zn(x.left,v.left),v},Nb(e,p,l));return{width:m.right-m.left,height:m.bottom-m.top,x:m.left,y:m.top}}function m5(t){const{width:e,height:r}=Q1(t);return{width:e,height:r}}function p5(t,e,r){const s=us(e),l=ms(e),c=r==="fixed",u=ol(t,!0,c,e);let p={scrollLeft:0,scrollTop:0};const m=cs(0);function v(){m.x=Qf(l)}if(s||!s&&!c)if((Uc(e)!=="body"||yu(l))&&(p=Zf(e)),s){const S=ol(e,!0,c,e);m.x=S.x+e.clientLeft,m.y=S.y+e.clientTop}else l&&v();c&&!s&&l&&v();const y=l&&!s&&!c?Y1(l,p):cs(0),x=u.left+p.scrollLeft-m.x-y.x,E=u.top+p.scrollTop-m.y-y.y;return{x,y:E,width:u.width,height:u.height}}function tg(t){return Io(t).position==="static"}function Cb(t,e){if(!us(t)||Io(t).position==="fixed")return null;if(e)return e(t);let r=t.offsetParent;return ms(t)===r&&(r=r.ownerDocument.body),r}function ej(t,e){const r=Fn(t);if(Kf(t))return r;if(!us(t)){let l=ta(t);for(;l&&!Cc(l);){if(Lo(l)&&!tg(l))return l;l=ta(l)}return r}let s=Cb(t,e);for(;s&&JO(s)&&tg(s);)s=Cb(s,e);return s&&Cc(s)&&tg(s)&&!Vv(s)?r:s||r5(t)||r}const g5=async function(t){const e=this.getOffsetParent||ej,r=this.getDimensions,s=await r(t.floating);return{reference:p5(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:s.width,height:s.height}}};function v5(t){return Io(t).direction==="rtl"}const x5={convertOffsetParentRelativeRectToViewportRelativeRect:i5,getDocumentElement:ms,getClippingRect:f5,getOffsetParent:ej,getElementRects:g5,getClientRects:a5,getDimensions:m5,getScale:lc,isElement:Lo,isRTL:v5};function tj(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function y5(t,e){let r=null,s;const l=ms(t);function c(){var p;clearTimeout(s),(p=r)==null||p.disconnect(),r=null}function u(p,m){p===void 0&&(p=!1),m===void 0&&(m=1),c();const v=t.getBoundingClientRect(),{left:y,top:x,width:E,height:S}=v;if(p||e(),!E||!S)return;const k=tf(x),N=tf(l.clientWidth-(y+E)),P=tf(l.clientHeight-(x+S)),O=tf(y),R={rootMargin:-k+"px "+-N+"px "+-P+"px "+-O+"px",threshold:zn(0,ea(1,m))||1};let z=!0;function Y(D){const J=D[0].intersectionRatio;if(J!==m){if(!z)return u();J?u(!1,J):s=setTimeout(()=>{u(!1,1e-7)},1e3)}J===1&&!tj(v,t.getBoundingClientRect())&&u(),z=!1}try{r=new IntersectionObserver(Y,{...R,root:l.ownerDocument})}catch{r=new IntersectionObserver(Y,R)}r.observe(t)}return u(!0),c}function b5(t,e,r,s){s===void 0&&(s={});const{ancestorScroll:l=!0,ancestorResize:c=!0,elementResize:u=typeof ResizeObserver=="function",layoutShift:p=typeof IntersectionObserver=="function",animationFrame:m=!1}=s,v=Kv(t),y=l||c?[...v?nu(v):[],...nu(e)]:[];y.forEach(O=>{l&&O.addEventListener("scroll",r,{passive:!0}),c&&O.addEventListener("resize",r)});const x=v&&p?y5(v,r):null;let E=-1,S=null;u&&(S=new ResizeObserver(O=>{let[T]=O;T&&T.target===v&&S&&(S.unobserve(e),cancelAnimationFrame(E),E=requestAnimationFrame(()=>{var R;(R=S)==null||R.observe(e)})),r()}),v&&!m&&S.observe(v),S.observe(e));let k,N=m?ol(t):null;m&&P();function P(){const O=ol(t);N&&!tj(N,O)&&r(),N=O,k=requestAnimationFrame(P)}return r(),()=>{var O;y.forEach(T=>{l&&T.removeEventListener("scroll",r),c&&T.removeEventListener("resize",r)}),x==null||x(),(O=S)==null||O.disconnect(),S=null,m&&cancelAnimationFrame(k)}}const _5=HO,w5=VO,j5=UO,S5=KO,E5=qO,kb=FO,N5=GO,C5=(t,e,r)=>{const s=new Map,l={platform:x5,...r},c={...l.platform,_c:s};return $O(t,e,{...l,platform:c})};var k5=typeof document<"u",P5=function(){},ff=k5?w.useLayoutEffect:P5;function Rf(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let r,s,l;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(r=t.length,r!==e.length)return!1;for(s=r;s--!==0;)if(!Rf(t[s],e[s]))return!1;return!0}if(l=Object.keys(t),r=l.length,r!==Object.keys(e).length)return!1;for(s=r;s--!==0;)if(!{}.hasOwnProperty.call(e,l[s]))return!1;for(s=r;s--!==0;){const c=l[s];if(!(c==="_owner"&&t.$$typeof)&&!Rf(t[c],e[c]))return!1}return!0}return t!==t&&e!==e}function rj(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function Pb(t,e){const r=rj(t);return Math.round(e*r)/r}function rg(t){const e=w.useRef(t);return ff(()=>{e.current=t}),e}function T5(t){t===void 0&&(t={});const{placement:e="bottom",strategy:r="absolute",middleware:s=[],platform:l,elements:{reference:c,floating:u}={},transform:p=!0,whileElementsMounted:m,open:v}=t,[y,x]=w.useState({x:0,y:0,strategy:r,placement:e,middlewareData:{},isPositioned:!1}),[E,S]=w.useState(s);Rf(E,s)||S(s);const[k,N]=w.useState(null),[P,O]=w.useState(null),T=w.useCallback(q=>{q!==D.current&&(D.current=q,N(q))},[]),R=w.useCallback(q=>{q!==J.current&&(J.current=q,O(q))},[]),z=c||k,Y=u||P,D=w.useRef(null),J=w.useRef(null),ne=w.useRef(y),we=m!=null,Z=rg(m),$=rg(l),re=rg(v),U=w.useCallback(()=>{if(!D.current||!J.current)return;const q={placement:e,strategy:r,middleware:E};$.current&&(q.platform=$.current),C5(D.current,J.current,q).then(je=>{const le={...je,isPositioned:re.current!==!1};W.current&&!Rf(ne.current,le)&&(ne.current=le,Ac.flushSync(()=>{x(le)}))})},[E,e,r,$,re]);ff(()=>{v===!1&&ne.current.isPositioned&&(ne.current.isPositioned=!1,x(q=>({...q,isPositioned:!1})))},[v]);const W=w.useRef(!1);ff(()=>(W.current=!0,()=>{W.current=!1}),[]),ff(()=>{if(z&&(D.current=z),Y&&(J.current=Y),z&&Y){if(Z.current)return Z.current(z,Y,U);U()}},[z,Y,U,Z,we]);const be=w.useMemo(()=>({reference:D,floating:J,setReference:T,setFloating:R}),[T,R]),me=w.useMemo(()=>({reference:z,floating:Y}),[z,Y]),_e=w.useMemo(()=>{const q={position:r,left:0,top:0};if(!me.floating)return q;const je=Pb(me.floating,y.x),le=Pb(me.floating,y.y);return p?{...q,transform:"translate("+je+"px, "+le+"px)",...rj(me.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:je,top:le}},[r,p,me.floating,y.x,y.y]);return w.useMemo(()=>({...y,update:U,refs:be,elements:me,floatingStyles:_e}),[y,U,be,me,_e])}const R5=t=>{function e(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:t,fn(r){const{element:s,padding:l}=typeof t=="function"?t(r):t;return s&&e(s)?s.current!=null?kb({element:s.current,padding:l}).fn(r):{}:s?kb({element:s,padding:l}).fn(r):{}}}},A5=(t,e)=>({..._5(t),options:[t,e]}),O5=(t,e)=>({...w5(t),options:[t,e]}),M5=(t,e)=>({...N5(t),options:[t,e]}),L5=(t,e)=>({...j5(t),options:[t,e]}),I5=(t,e)=>({...S5(t),options:[t,e]}),D5=(t,e)=>({...E5(t),options:[t,e]}),B5=(t,e)=>({...R5(t),options:[t,e]});var z5="Arrow",nj=w.forwardRef((t,e)=>{const{children:r,width:s=10,height:l=5,...c}=t;return n.jsx(Ot.svg,{...c,ref:e,width:s,height:l,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?r:n.jsx("polygon",{points:"0,0 30,0 15,10"})})});nj.displayName=z5;var $5=nj;function oj(t){const[e,r]=w.useState(void 0);return en(()=>{if(t){r({width:t.offsetWidth,height:t.offsetHeight});const s=new ResizeObserver(l=>{if(!Array.isArray(l)||!l.length)return;const c=l[0];let u,p;if("borderBoxSize"in c){const m=c.borderBoxSize,v=Array.isArray(m)?m[0]:m;u=v.inlineSize,p=v.blockSize}else u=t.offsetWidth,p=t.offsetHeight;r({width:u,height:p})});return s.observe(t,{box:"border-box"}),()=>s.unobserve(t)}else r(void 0)},[t]),e}var Zv="Popper",[sj,ij]=Lc(Zv),[F5,aj]=sj(Zv),lj=t=>{const{__scopePopper:e,children:r}=t,[s,l]=w.useState(null);return n.jsx(F5,{scope:e,anchor:s,onAnchorChange:l,children:r})};lj.displayName=Zv;var cj="PopperAnchor",dj=w.forwardRef((t,e)=>{const{__scopePopper:r,virtualRef:s,...l}=t,c=aj(cj,r),u=w.useRef(null),p=Qt(e,u),m=w.useRef(null);return w.useEffect(()=>{const v=m.current;m.current=(s==null?void 0:s.current)||u.current,v!==m.current&&c.onAnchorChange(m.current)}),s?null:n.jsx(Ot.div,{...l,ref:p})});dj.displayName=cj;var Qv="PopperContent",[U5,q5]=sj(Qv),uj=w.forwardRef((t,e)=>{var pe,ie,Pe,Me,$e,Ie;const{__scopePopper:r,side:s="bottom",sideOffset:l=0,align:c="center",alignOffset:u=0,arrowPadding:p=0,avoidCollisions:m=!0,collisionBoundary:v=[],collisionPadding:y=0,sticky:x="partial",hideWhenDetached:E=!1,updatePositionStrategy:S="optimized",onPlaced:k,...N}=t,P=aj(Qv,r),[O,T]=w.useState(null),R=Qt(e,nt=>T(nt)),[z,Y]=w.useState(null),D=oj(z),J=(D==null?void 0:D.width)??0,ne=(D==null?void 0:D.height)??0,we=s+(c!=="center"?"-"+c:""),Z=typeof y=="number"?y:{top:0,right:0,bottom:0,left:0,...y},$=Array.isArray(v)?v:[v],re=$.length>0,U={padding:Z,boundary:$.filter(H5),altBoundary:re},{refs:W,floatingStyles:be,placement:me,isPositioned:_e,middlewareData:q}=T5({strategy:"fixed",placement:we,whileElementsMounted:(...nt)=>b5(...nt,{animationFrame:S==="always"}),elements:{reference:P.anchor},middleware:[A5({mainAxis:l+ne,alignmentAxis:u}),m&&O5({mainAxis:!0,crossAxis:!1,limiter:x==="partial"?M5():void 0,...U}),m&&L5({...U}),I5({...U,apply:({elements:nt,rects:it,availableWidth:Lt,availableHeight:$t})=>{const{width:Pt,height:_t}=it.reference,Nt=nt.floating.style;Nt.setProperty("--radix-popper-available-width",`${Lt}px`),Nt.setProperty("--radix-popper-available-height",`${$t}px`),Nt.setProperty("--radix-popper-anchor-width",`${Pt}px`),Nt.setProperty("--radix-popper-anchor-height",`${_t}px`)}}),z&&B5({element:z,padding:p}),V5({arrowWidth:J,arrowHeight:ne}),E&&D5({strategy:"referenceHidden",...U})]}),[je,le]=mj(me),A=rl(k);en(()=>{_e&&(A==null||A())},[_e,A]);const H=(pe=q.arrow)==null?void 0:pe.x,V=(ie=q.arrow)==null?void 0:ie.y,F=((Pe=q.arrow)==null?void 0:Pe.centerOffset)!==0,[ce,xe]=w.useState();return en(()=>{O&&xe(window.getComputedStyle(O).zIndex)},[O]),n.jsx("div",{ref:W.setFloating,"data-radix-popper-content-wrapper":"",style:{...be,transform:_e?be.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ce,"--radix-popper-transform-origin":[(Me=q.transformOrigin)==null?void 0:Me.x,($e=q.transformOrigin)==null?void 0:$e.y].join(" "),...((Ie=q.hide)==null?void 0:Ie.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:n.jsx(U5,{scope:r,placedSide:je,onArrowChange:Y,arrowX:H,arrowY:V,shouldHideArrow:F,children:n.jsx(Ot.div,{"data-side":je,"data-align":le,...N,ref:R,style:{...N.style,animation:_e?void 0:"none"}})})})});uj.displayName=Qv;var hj="PopperArrow",W5={top:"bottom",right:"left",bottom:"top",left:"right"},fj=w.forwardRef(function(e,r){const{__scopePopper:s,...l}=e,c=q5(hj,s),u=W5[c.placedSide];return n.jsx("span",{ref:c.onArrowChange,style:{position:"absolute",left:c.arrowX,top:c.arrowY,[u]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[c.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[c.placedSide],visibility:c.shouldHideArrow?"hidden":void 0},children:n.jsx($5,{...l,ref:r,style:{...l.style,display:"block"}})})});fj.displayName=hj;function H5(t){return t!==null}var V5=t=>({name:"transformOrigin",options:t,fn(e){var P,O,T;const{placement:r,rects:s,middlewareData:l}=e,u=((P=l.arrow)==null?void 0:P.centerOffset)!==0,p=u?0:t.arrowWidth,m=u?0:t.arrowHeight,[v,y]=mj(r),x={start:"0%",center:"50%",end:"100%"}[y],E=(((O=l.arrow)==null?void 0:O.x)??0)+p/2,S=(((T=l.arrow)==null?void 0:T.y)??0)+m/2;let k="",N="";return v==="bottom"?(k=u?x:`${E}px`,N=`${-m}px`):v==="top"?(k=u?x:`${E}px`,N=`${s.floating.height+m}px`):v==="right"?(k=`${-m}px`,N=u?x:`${S}px`):v==="left"&&(k=`${s.floating.width+m}px`,N=u?x:`${S}px`),{data:{x:k,y:N}}}});function mj(t){const[e,r="center"]=t.split("-");return[e,r]}var G5=lj,K5=dj,Z5=uj,Q5=fj;function pj(t){const e=w.useRef({value:t,previous:t});return w.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var gj=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),J5="VisuallyHidden",Y5=w.forwardRef((t,e)=>n.jsx(Ot.span,{...t,ref:e,style:{...gj,...t.style}}));Y5.displayName=J5;var X5=[" ","Enter","ArrowUp","ArrowDown"],eM=[" ","Enter"],sl="Select",[Jf,Yf,tM]=NO(sl),[qc]=Lc(sl,[tM,ij]),Xf=ij(),[rM,na]=qc(sl),[nM,oM]=qc(sl),vj=t=>{const{__scopeSelect:e,children:r,open:s,defaultOpen:l,onOpenChange:c,value:u,defaultValue:p,onValueChange:m,dir:v,name:y,autoComplete:x,disabled:E,required:S,form:k}=t,N=Xf(e),[P,O]=w.useState(null),[T,R]=w.useState(null),[z,Y]=w.useState(!1),D=kO(v),[J,ne]=Nf({prop:s,defaultProp:l??!1,onChange:c,caller:sl}),[we,Z]=Nf({prop:u,defaultProp:p,onChange:m,caller:sl}),$=w.useRef(null),re=P?k||!!P.closest("form"):!0,[U,W]=w.useState(new Set),be=Array.from(U).map(me=>me.props.value).join(";");return n.jsx(G5,{...N,children:n.jsxs(rM,{required:S,scope:e,trigger:P,onTriggerChange:O,valueNode:T,onValueNodeChange:R,valueNodeHasChildren:z,onValueNodeHasChildrenChange:Y,contentId:ic(),value:we,onValueChange:Z,open:J,onOpenChange:ne,dir:D,triggerPointerDownPosRef:$,disabled:E,children:[n.jsx(Jf.Provider,{scope:e,children:n.jsx(nM,{scope:t.__scopeSelect,onNativeOptionAdd:w.useCallback(me=>{W(_e=>new Set(_e).add(me))},[]),onNativeOptionRemove:w.useCallback(me=>{W(_e=>{const q=new Set(_e);return q.delete(me),q})},[]),children:r})}),re?n.jsxs(Fj,{"aria-hidden":!0,required:S,tabIndex:-1,name:y,autoComplete:x,value:we,onChange:me=>Z(me.target.value),disabled:E,form:k,children:[we===void 0?n.jsx("option",{value:""}):null,Array.from(U)]},be):null]})})};vj.displayName=sl;var xj="SelectTrigger",yj=w.forwardRef((t,e)=>{const{__scopeSelect:r,disabled:s=!1,...l}=t,c=Xf(r),u=na(xj,r),p=u.disabled||s,m=Qt(e,u.onTriggerChange),v=Yf(r),y=w.useRef("touch"),[x,E,S]=qj(N=>{const P=v().filter(R=>!R.disabled),O=P.find(R=>R.value===u.value),T=Wj(P,N,O);T!==void 0&&u.onValueChange(T.value)}),k=N=>{p||(u.onOpenChange(!0),S()),N&&(u.triggerPointerDownPosRef.current={x:Math.round(N.pageX),y:Math.round(N.pageY)})};return n.jsx(K5,{asChild:!0,...c,children:n.jsx(Ot.button,{type:"button",role:"combobox","aria-controls":u.contentId,"aria-expanded":u.open,"aria-required":u.required,"aria-autocomplete":"none",dir:u.dir,"data-state":u.open?"open":"closed",disabled:p,"data-disabled":p?"":void 0,"data-placeholder":Uj(u.value)?"":void 0,...l,ref:m,onClick:zt(l.onClick,N=>{N.currentTarget.focus(),y.current!=="mouse"&&k(N)}),onPointerDown:zt(l.onPointerDown,N=>{y.current=N.pointerType;const P=N.target;P.hasPointerCapture(N.pointerId)&&P.releasePointerCapture(N.pointerId),N.button===0&&N.ctrlKey===!1&&N.pointerType==="mouse"&&(k(N),N.preventDefault())}),onKeyDown:zt(l.onKeyDown,N=>{const P=x.current!=="";!(N.ctrlKey||N.altKey||N.metaKey)&&N.key.length===1&&E(N.key),!(P&&N.key===" ")&&X5.includes(N.key)&&(k(),N.preventDefault())})})})});yj.displayName=xj;var bj="SelectValue",_j=w.forwardRef((t,e)=>{const{__scopeSelect:r,className:s,style:l,children:c,placeholder:u="",...p}=t,m=na(bj,r),{onValueNodeHasChildrenChange:v}=m,y=c!==void 0,x=Qt(e,m.onValueNodeChange);return en(()=>{v(y)},[v,y]),n.jsx(Ot.span,{...p,ref:x,style:{pointerEvents:"none"},children:Uj(m.value)?n.jsx(n.Fragment,{children:u}):c})});_j.displayName=bj;var sM="SelectIcon",wj=w.forwardRef((t,e)=>{const{__scopeSelect:r,children:s,...l}=t;return n.jsx(Ot.span,{"aria-hidden":!0,...l,ref:e,children:s||""})});wj.displayName=sM;var iM="SelectPortal",jj=t=>n.jsx(Cv,{asChild:!0,...t});jj.displayName=iM;var il="SelectContent",Sj=w.forwardRef((t,e)=>{const r=na(il,t.__scopeSelect),[s,l]=w.useState();if(en(()=>{l(new DocumentFragment)},[]),!r.open){const c=s;return c?Ac.createPortal(n.jsx(Ej,{scope:t.__scopeSelect,children:n.jsx(Jf.Slot,{scope:t.__scopeSelect,children:n.jsx("div",{children:t.children})})}),c):null}return n.jsx(Nj,{...t,ref:e})});Sj.displayName=il;var Eo=10,[Ej,oa]=qc(il),aM="SelectContentImpl",lM=Ec("SelectContent.RemoveScroll"),Nj=w.forwardRef((t,e)=>{const{__scopeSelect:r,position:s="item-aligned",onCloseAutoFocus:l,onEscapeKeyDown:c,onPointerDownOutside:u,side:p,sideOffset:m,align:v,alignOffset:y,arrowPadding:x,collisionBoundary:E,collisionPadding:S,sticky:k,hideWhenDetached:N,avoidCollisions:P,...O}=t,T=na(il,r),[R,z]=w.useState(null),[Y,D]=w.useState(null),J=Qt(e,pe=>z(pe)),[ne,we]=w.useState(null),[Z,$]=w.useState(null),re=Yf(r),[U,W]=w.useState(!1),be=w.useRef(!1);w.useEffect(()=>{if(R)return e1(R)},[R]),Vw();const me=w.useCallback(pe=>{const[ie,...Pe]=re().map(Ie=>Ie.ref.current),[Me]=Pe.slice(-1),$e=document.activeElement;for(const Ie of pe)if(Ie===$e||(Ie==null||Ie.scrollIntoView({block:"nearest"}),Ie===ie&&Y&&(Y.scrollTop=0),Ie===Me&&Y&&(Y.scrollTop=Y.scrollHeight),Ie==null||Ie.focus(),document.activeElement!==$e))return},[re,Y]),_e=w.useCallback(()=>me([ne,R]),[me,ne,R]);w.useEffect(()=>{U&&_e()},[U,_e]);const{onOpenChange:q,triggerPointerDownPosRef:je}=T;w.useEffect(()=>{if(R){let pe={x:0,y:0};const ie=Me=>{var $e,Ie;pe={x:Math.abs(Math.round(Me.pageX)-((($e=je.current)==null?void 0:$e.x)??0)),y:Math.abs(Math.round(Me.pageY)-(((Ie=je.current)==null?void 0:Ie.y)??0))}},Pe=Me=>{pe.x<=10&&pe.y<=10?Me.preventDefault():R.contains(Me.target)||q(!1),document.removeEventListener("pointermove",ie),je.current=null};return je.current!==null&&(document.addEventListener("pointermove",ie),document.addEventListener("pointerup",Pe,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ie),document.removeEventListener("pointerup",Pe,{capture:!0})}}},[R,q,je]),w.useEffect(()=>{const pe=()=>q(!1);return window.addEventListener("blur",pe),window.addEventListener("resize",pe),()=>{window.removeEventListener("blur",pe),window.removeEventListener("resize",pe)}},[q]);const[le,A]=qj(pe=>{const ie=re().filter($e=>!$e.disabled),Pe=ie.find($e=>$e.ref.current===document.activeElement),Me=Wj(ie,pe,Pe);Me&&setTimeout(()=>Me.ref.current.focus())}),H=w.useCallback((pe,ie,Pe)=>{const Me=!be.current&&!Pe;(T.value!==void 0&&T.value===ie||Me)&&(we(pe),Me&&(be.current=!0))},[T.value]),V=w.useCallback(()=>R==null?void 0:R.focus(),[R]),F=w.useCallback((pe,ie,Pe)=>{const Me=!be.current&&!Pe;(T.value!==void 0&&T.value===ie||Me)&&$(pe)},[T.value]),ce=s==="popper"?Qg:Cj,xe=ce===Qg?{side:p,sideOffset:m,align:v,alignOffset:y,arrowPadding:x,collisionBoundary:E,collisionPadding:S,sticky:k,hideWhenDetached:N,avoidCollisions:P}:{};return n.jsx(Ej,{scope:r,content:R,viewport:Y,onViewportChange:D,itemRefCallback:H,selectedItem:ne,onItemLeave:V,itemTextRefCallback:F,focusSelectedItem:_e,selectedItemText:Z,position:s,isPositioned:U,searchRef:le,children:n.jsx(kv,{as:lM,allowPinchZoom:!0,children:n.jsx(Nv,{asChild:!0,trapped:T.open,onMountAutoFocus:pe=>{pe.preventDefault()},onUnmountAutoFocus:zt(l,pe=>{var ie;(ie=T.trigger)==null||ie.focus({preventScroll:!0}),pe.preventDefault()}),children:n.jsx(Ev,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:pe=>pe.preventDefault(),onDismiss:()=>T.onOpenChange(!1),children:n.jsx(ce,{role:"listbox",id:T.contentId,"data-state":T.open?"open":"closed",dir:T.dir,onContextMenu:pe=>pe.preventDefault(),...O,...xe,onPlaced:()=>W(!0),ref:J,style:{display:"flex",flexDirection:"column",outline:"none",...O.style},onKeyDown:zt(O.onKeyDown,pe=>{const ie=pe.ctrlKey||pe.altKey||pe.metaKey;if(pe.key==="Tab"&&pe.preventDefault(),!ie&&pe.key.length===1&&A(pe.key),["ArrowUp","ArrowDown","Home","End"].includes(pe.key)){let Me=re().filter($e=>!$e.disabled).map($e=>$e.ref.current);if(["ArrowUp","End"].includes(pe.key)&&(Me=Me.slice().reverse()),["ArrowUp","ArrowDown"].includes(pe.key)){const $e=pe.target,Ie=Me.indexOf($e);Me=Me.slice(Ie+1)}setTimeout(()=>me(Me)),pe.preventDefault()}})})})})})})});Nj.displayName=aM;var cM="SelectItemAlignedPosition",Cj=w.forwardRef((t,e)=>{const{__scopeSelect:r,onPlaced:s,...l}=t,c=na(il,r),u=oa(il,r),[p,m]=w.useState(null),[v,y]=w.useState(null),x=Qt(e,J=>y(J)),E=Yf(r),S=w.useRef(!1),k=w.useRef(!0),{viewport:N,selectedItem:P,selectedItemText:O,focusSelectedItem:T}=u,R=w.useCallback(()=>{if(c.trigger&&c.valueNode&&p&&v&&N&&P&&O){const J=c.trigger.getBoundingClientRect(),ne=v.getBoundingClientRect(),we=c.valueNode.getBoundingClientRect(),Z=O.getBoundingClientRect();if(c.dir!=="rtl"){const $e=Z.left-ne.left,Ie=we.left-$e,nt=J.left-Ie,it=J.width+nt,Lt=Math.max(it,ne.width),$t=window.innerWidth-Eo,Pt=xb(Ie,[Eo,Math.max(Eo,$t-Lt)]);p.style.minWidth=it+"px",p.style.left=Pt+"px"}else{const $e=ne.right-Z.right,Ie=window.innerWidth-we.right-$e,nt=window.innerWidth-J.right-Ie,it=J.width+nt,Lt=Math.max(it,ne.width),$t=window.innerWidth-Eo,Pt=xb(Ie,[Eo,Math.max(Eo,$t-Lt)]);p.style.minWidth=it+"px",p.style.right=Pt+"px"}const $=E(),re=window.innerHeight-Eo*2,U=N.scrollHeight,W=window.getComputedStyle(v),be=parseInt(W.borderTopWidth,10),me=parseInt(W.paddingTop,10),_e=parseInt(W.borderBottomWidth,10),q=parseInt(W.paddingBottom,10),je=be+me+U+q+_e,le=Math.min(P.offsetHeight*5,je),A=window.getComputedStyle(N),H=parseInt(A.paddingTop,10),V=parseInt(A.paddingBottom,10),F=J.top+J.height/2-Eo,ce=re-F,xe=P.offsetHeight/2,pe=P.offsetTop+xe,ie=be+me+pe,Pe=je-ie;if(ie<=F){const $e=$.length>0&&P===$[$.length-1].ref.current;p.style.bottom="0px";const Ie=v.clientHeight-N.offsetTop-N.offsetHeight,nt=Math.max(ce,xe+($e?V:0)+Ie+_e),it=ie+nt;p.style.height=it+"px"}else{const $e=$.length>0&&P===$[0].ref.current;p.style.top="0px";const nt=Math.max(F,be+N.offsetTop+($e?H:0)+xe)+Pe;p.style.height=nt+"px",N.scrollTop=ie-F+N.offsetTop}p.style.margin=`${Eo}px 0`,p.style.minHeight=le+"px",p.style.maxHeight=re+"px",s==null||s(),requestAnimationFrame(()=>S.current=!0)}},[E,c.trigger,c.valueNode,p,v,N,P,O,c.dir,s]);en(()=>R(),[R]);const[z,Y]=w.useState();en(()=>{v&&Y(window.getComputedStyle(v).zIndex)},[v]);const D=w.useCallback(J=>{J&&k.current===!0&&(R(),T==null||T(),k.current=!1)},[R,T]);return n.jsx(uM,{scope:r,contentWrapper:p,shouldExpandOnScrollRef:S,onScrollButtonChange:D,children:n.jsx("div",{ref:m,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:z},children:n.jsx(Ot.div,{...l,ref:x,style:{boxSizing:"border-box",maxHeight:"100%",...l.style}})})})});Cj.displayName=cM;var dM="SelectPopperPosition",Qg=w.forwardRef((t,e)=>{const{__scopeSelect:r,align:s="start",collisionPadding:l=Eo,...c}=t,u=Xf(r);return n.jsx(Z5,{...u,...c,ref:e,align:s,collisionPadding:l,style:{boxSizing:"border-box",...c.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Qg.displayName=dM;var[uM,Jv]=qc(il,{}),Jg="SelectViewport",kj=w.forwardRef((t,e)=>{const{__scopeSelect:r,nonce:s,...l}=t,c=oa(Jg,r),u=Jv(Jg,r),p=Qt(e,c.onViewportChange),m=w.useRef(0);return n.jsxs(n.Fragment,{children:[n.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),n.jsx(Jf.Slot,{scope:r,children:n.jsx(Ot.div,{"data-radix-select-viewport":"",role:"presentation",...l,ref:p,style:{position:"relative",flex:1,overflow:"hidden auto",...l.style},onScroll:zt(l.onScroll,v=>{const y=v.currentTarget,{contentWrapper:x,shouldExpandOnScrollRef:E}=u;if(E!=null&&E.current&&x){const S=Math.abs(m.current-y.scrollTop);if(S>0){const k=window.innerHeight-Eo*2,N=parseFloat(x.style.minHeight),P=parseFloat(x.style.height),O=Math.max(N,P);if(O<k){const T=O+S,R=Math.min(k,T),z=T-R;x.style.height=R+"px",x.style.bottom==="0px"&&(y.scrollTop=z>0?z:0,x.style.justifyContent="flex-end")}}}m.current=y.scrollTop})})})]})});kj.displayName=Jg;var Pj="SelectGroup",[hM,fM]=qc(Pj),mM=w.forwardRef((t,e)=>{const{__scopeSelect:r,...s}=t,l=ic();return n.jsx(hM,{scope:r,id:l,children:n.jsx(Ot.div,{role:"group","aria-labelledby":l,...s,ref:e})})});mM.displayName=Pj;var Tj="SelectLabel",Rj=w.forwardRef((t,e)=>{const{__scopeSelect:r,...s}=t,l=fM(Tj,r);return n.jsx(Ot.div,{id:l.id,...s,ref:e})});Rj.displayName=Tj;var Af="SelectItem",[pM,Aj]=qc(Af),Oj=w.forwardRef((t,e)=>{const{__scopeSelect:r,value:s,disabled:l=!1,textValue:c,...u}=t,p=na(Af,r),m=oa(Af,r),v=p.value===s,[y,x]=w.useState(c??""),[E,S]=w.useState(!1),k=Qt(e,T=>{var R;return(R=m.itemRefCallback)==null?void 0:R.call(m,T,s,l)}),N=ic(),P=w.useRef("touch"),O=()=>{l||(p.onValueChange(s),p.onOpenChange(!1))};if(s==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return n.jsx(pM,{scope:r,value:s,disabled:l,textId:N,isSelected:v,onItemTextChange:w.useCallback(T=>{x(R=>R||((T==null?void 0:T.textContent)??"").trim())},[]),children:n.jsx(Jf.ItemSlot,{scope:r,value:s,disabled:l,textValue:y,children:n.jsx(Ot.div,{role:"option","aria-labelledby":N,"data-highlighted":E?"":void 0,"aria-selected":v&&E,"data-state":v?"checked":"unchecked","aria-disabled":l||void 0,"data-disabled":l?"":void 0,tabIndex:l?void 0:-1,...u,ref:k,onFocus:zt(u.onFocus,()=>S(!0)),onBlur:zt(u.onBlur,()=>S(!1)),onClick:zt(u.onClick,()=>{P.current!=="mouse"&&O()}),onPointerUp:zt(u.onPointerUp,()=>{P.current==="mouse"&&O()}),onPointerDown:zt(u.onPointerDown,T=>{P.current=T.pointerType}),onPointerMove:zt(u.onPointerMove,T=>{var R;P.current=T.pointerType,l?(R=m.onItemLeave)==null||R.call(m):P.current==="mouse"&&T.currentTarget.focus({preventScroll:!0})}),onPointerLeave:zt(u.onPointerLeave,T=>{var R;T.currentTarget===document.activeElement&&((R=m.onItemLeave)==null||R.call(m))}),onKeyDown:zt(u.onKeyDown,T=>{var z;((z=m.searchRef)==null?void 0:z.current)!==""&&T.key===" "||(eM.includes(T.key)&&O(),T.key===" "&&T.preventDefault())})})})})});Oj.displayName=Af;var Vd="SelectItemText",Mj=w.forwardRef((t,e)=>{const{__scopeSelect:r,className:s,style:l,...c}=t,u=na(Vd,r),p=oa(Vd,r),m=Aj(Vd,r),v=oM(Vd,r),[y,x]=w.useState(null),E=Qt(e,O=>x(O),m.onItemTextChange,O=>{var T;return(T=p.itemTextRefCallback)==null?void 0:T.call(p,O,m.value,m.disabled)}),S=y==null?void 0:y.textContent,k=w.useMemo(()=>n.jsx("option",{value:m.value,disabled:m.disabled,children:S},m.value),[m.disabled,m.value,S]),{onNativeOptionAdd:N,onNativeOptionRemove:P}=v;return en(()=>(N(k),()=>P(k)),[N,P,k]),n.jsxs(n.Fragment,{children:[n.jsx(Ot.span,{id:m.textId,...c,ref:E}),m.isSelected&&u.valueNode&&!u.valueNodeHasChildren?Ac.createPortal(c.children,u.valueNode):null]})});Mj.displayName=Vd;var Lj="SelectItemIndicator",Ij=w.forwardRef((t,e)=>{const{__scopeSelect:r,...s}=t;return Aj(Lj,r).isSelected?n.jsx(Ot.span,{"aria-hidden":!0,...s,ref:e}):null});Ij.displayName=Lj;var Yg="SelectScrollUpButton",Dj=w.forwardRef((t,e)=>{const r=oa(Yg,t.__scopeSelect),s=Jv(Yg,t.__scopeSelect),[l,c]=w.useState(!1),u=Qt(e,s.onScrollButtonChange);return en(()=>{if(r.viewport&&r.isPositioned){let p=function(){const v=m.scrollTop>0;c(v)};const m=r.viewport;return p(),m.addEventListener("scroll",p),()=>m.removeEventListener("scroll",p)}},[r.viewport,r.isPositioned]),l?n.jsx(zj,{...t,ref:u,onAutoScroll:()=>{const{viewport:p,selectedItem:m}=r;p&&m&&(p.scrollTop=p.scrollTop-m.offsetHeight)}}):null});Dj.displayName=Yg;var Xg="SelectScrollDownButton",Bj=w.forwardRef((t,e)=>{const r=oa(Xg,t.__scopeSelect),s=Jv(Xg,t.__scopeSelect),[l,c]=w.useState(!1),u=Qt(e,s.onScrollButtonChange);return en(()=>{if(r.viewport&&r.isPositioned){let p=function(){const v=m.scrollHeight-m.clientHeight,y=Math.ceil(m.scrollTop)<v;c(y)};const m=r.viewport;return p(),m.addEventListener("scroll",p),()=>m.removeEventListener("scroll",p)}},[r.viewport,r.isPositioned]),l?n.jsx(zj,{...t,ref:u,onAutoScroll:()=>{const{viewport:p,selectedItem:m}=r;p&&m&&(p.scrollTop=p.scrollTop+m.offsetHeight)}}):null});Bj.displayName=Xg;var zj=w.forwardRef((t,e)=>{const{__scopeSelect:r,onAutoScroll:s,...l}=t,c=oa("SelectScrollButton",r),u=w.useRef(null),p=Yf(r),m=w.useCallback(()=>{u.current!==null&&(window.clearInterval(u.current),u.current=null)},[]);return w.useEffect(()=>()=>m(),[m]),en(()=>{var y;const v=p().find(x=>x.ref.current===document.activeElement);(y=v==null?void 0:v.ref.current)==null||y.scrollIntoView({block:"nearest"})},[p]),n.jsx(Ot.div,{"aria-hidden":!0,...l,ref:e,style:{flexShrink:0,...l.style},onPointerDown:zt(l.onPointerDown,()=>{u.current===null&&(u.current=window.setInterval(s,50))}),onPointerMove:zt(l.onPointerMove,()=>{var v;(v=c.onItemLeave)==null||v.call(c),u.current===null&&(u.current=window.setInterval(s,50))}),onPointerLeave:zt(l.onPointerLeave,()=>{m()})})}),gM="SelectSeparator",$j=w.forwardRef((t,e)=>{const{__scopeSelect:r,...s}=t;return n.jsx(Ot.div,{"aria-hidden":!0,...s,ref:e})});$j.displayName=gM;var ev="SelectArrow",vM=w.forwardRef((t,e)=>{const{__scopeSelect:r,...s}=t,l=Xf(r),c=na(ev,r),u=oa(ev,r);return c.open&&u.position==="popper"?n.jsx(Q5,{...l,...s,ref:e}):null});vM.displayName=ev;var xM="SelectBubbleInput",Fj=w.forwardRef(({__scopeSelect:t,value:e,...r},s)=>{const l=w.useRef(null),c=Qt(s,l),u=pj(e);return w.useEffect(()=>{const p=l.current;if(!p)return;const m=window.HTMLSelectElement.prototype,y=Object.getOwnPropertyDescriptor(m,"value").set;if(u!==e&&y){const x=new Event("change",{bubbles:!0});y.call(p,e),p.dispatchEvent(x)}},[u,e]),n.jsx(Ot.select,{...r,style:{...gj,...r.style},ref:c,defaultValue:e})});Fj.displayName=xM;function Uj(t){return t===""||t===void 0}function qj(t){const e=rl(t),r=w.useRef(""),s=w.useRef(0),l=w.useCallback(u=>{const p=r.current+u;e(p),(function m(v){r.current=v,window.clearTimeout(s.current),v!==""&&(s.current=window.setTimeout(()=>m(""),1e3))})(p)},[e]),c=w.useCallback(()=>{r.current="",window.clearTimeout(s.current)},[]);return w.useEffect(()=>()=>window.clearTimeout(s.current),[]),[r,l,c]}function Wj(t,e,r){const l=e.length>1&&Array.from(e).every(v=>v===e[0])?e[0]:e,c=r?t.indexOf(r):-1;let u=yM(t,Math.max(c,0));l.length===1&&(u=u.filter(v=>v!==r));const m=u.find(v=>v.textValue.toLowerCase().startsWith(l.toLowerCase()));return m!==r?m:void 0}function yM(t,e){return t.map((r,s)=>t[(e+s)%t.length])}var bM=vj,Hj=yj,_M=_j,wM=wj,jM=jj,Vj=Sj,SM=kj,Gj=Rj,Kj=Oj,EM=Mj,NM=Ij,Zj=Dj,Qj=Bj,Jj=$j;const Ua=bM,qa=_M,Ki=w.forwardRef(({className:t,children:e,...r},s)=>n.jsxs(Hj,{ref:s,className:xt("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...r,children:[e,n.jsx(wM,{asChild:!0,children:n.jsx(_1,{className:"h-4 w-4 opacity-50"})})]}));Ki.displayName=Hj.displayName;const Yj=w.forwardRef(({className:t,...e},r)=>n.jsx(Zj,{ref:r,className:xt("flex cursor-default items-center justify-center py-1",t),...e,children:n.jsx(yR,{className:"h-4 w-4"})}));Yj.displayName=Zj.displayName;const Xj=w.forwardRef(({className:t,...e},r)=>n.jsx(Qj,{ref:r,className:xt("flex cursor-default items-center justify-center py-1",t),...e,children:n.jsx(_1,{className:"h-4 w-4"})}));Xj.displayName=Qj.displayName;const Zi=w.forwardRef(({className:t,children:e,position:r="popper",...s},l)=>n.jsx(jM,{children:n.jsxs(Vj,{ref:l,className:xt("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:r,...s,children:[n.jsx(Yj,{}),n.jsx(SM,{className:xt("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),n.jsx(Xj,{})]})}));Zi.displayName=Vj.displayName;const CM=w.forwardRef(({className:t,...e},r)=>n.jsx(Gj,{ref:r,className:xt("px-2 py-1.5 text-sm font-semibold",t),...e}));CM.displayName=Gj.displayName;const sr=w.forwardRef(({className:t,children:e,...r},s)=>n.jsxs(Kj,{ref:s,className:xt("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...r,children:[n.jsx("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:n.jsx(NM,{children:n.jsx(Xi,{className:"h-4 w-4"})})}),n.jsx(EM,{children:e})]}));sr.displayName=Kj.displayName;const kM=w.forwardRef(({className:t,...e},r)=>n.jsx(Jj,{ref:r,className:xt("-mx-1 my-1 h-px bg-muted",t),...e}));kM.displayName=Jj.displayName;var eS="AlertDialog",[PM]=Lc(eS,[r1]),Xs=r1(),tS=t=>{const{__scopeAlertDialog:e,...r}=t,s=Xs(e);return n.jsx(x1,{...s,...r,modal:!0})};tS.displayName=eS;var TM="AlertDialogTrigger",RM=w.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...s}=t,l=Xs(r);return n.jsx(iR,{...l,...s,ref:e})});RM.displayName=TM;var AM="AlertDialogPortal",rS=t=>{const{__scopeAlertDialog:e,...r}=t,s=Xs(e);return n.jsx(y1,{...s,...r})};rS.displayName=AM;var OM="AlertDialogOverlay",nS=w.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...s}=t,l=Xs(r);return n.jsx(Av,{...l,...s,ref:e})});nS.displayName=OM;var cc="AlertDialogContent",[MM,LM]=PM(cc),IM=FP("AlertDialogContent"),oS=w.forwardRef((t,e)=>{const{__scopeAlertDialog:r,children:s,...l}=t,c=Xs(r),u=w.useRef(null),p=Qt(e,u),m=w.useRef(null);return n.jsx(rR,{contentName:cc,titleName:sS,docsSlug:"alert-dialog",children:n.jsx(MM,{scope:r,cancelRef:m,children:n.jsxs(Ov,{role:"alertdialog",...c,...l,ref:p,onOpenAutoFocus:zt(l.onOpenAutoFocus,v=>{var y;v.preventDefault(),(y=m.current)==null||y.focus({preventScroll:!0})}),onPointerDownOutside:v=>v.preventDefault(),onInteractOutside:v=>v.preventDefault(),children:[n.jsx(IM,{children:s}),n.jsx(BM,{contentRef:u})]})})})});oS.displayName=cc;var sS="AlertDialogTitle",iS=w.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...s}=t,l=Xs(r);return n.jsx(Mv,{...l,...s,ref:e})});iS.displayName=sS;var aS="AlertDialogDescription",lS=w.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...s}=t,l=Xs(r);return n.jsx(Lv,{...l,...s,ref:e})});lS.displayName=aS;var DM="AlertDialogAction",cS=w.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...s}=t,l=Xs(r);return n.jsx(Iv,{...l,...s,ref:e})});cS.displayName=DM;var dS="AlertDialogCancel",uS=w.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...s}=t,{cancelRef:l}=LM(dS,r),c=Xs(r),u=Qt(e,l);return n.jsx(Iv,{...c,...s,ref:u})});uS.displayName=dS;var BM=({contentRef:t})=>{const e=`\`${cc}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${cc}\` by passing a \`${aS}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${cc}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return w.useEffect(()=>{var s;document.getElementById((s=t.current)==null?void 0:s.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},zM=tS,$M=rS,hS=nS,fS=oS,mS=cS,pS=uS,gS=iS,vS=lS;const FM=zM,UM=$M,xS=w.forwardRef(({className:t,...e},r)=>n.jsx(hS,{className:xt("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:r}));xS.displayName=hS.displayName;const yS=w.forwardRef(({className:t,...e},r)=>n.jsxs(UM,{children:[n.jsx(xS,{}),n.jsx(fS,{ref:r,className:xt("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...e})]}));yS.displayName=fS.displayName;const bS=({className:t,...e})=>n.jsx("div",{className:xt("flex flex-col space-y-2 text-center sm:text-left",t),...e});bS.displayName="AlertDialogHeader";const _S=({className:t,...e})=>n.jsx("div",{className:xt("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});_S.displayName="AlertDialogFooter";const wS=w.forwardRef(({className:t,...e},r)=>n.jsx(gS,{ref:r,className:xt("text-lg font-semibold",t),...e}));wS.displayName=gS.displayName;const jS=w.forwardRef(({className:t,...e},r)=>n.jsx(vS,{ref:r,className:xt("text-sm text-muted-foreground",t),...e}));jS.displayName=vS.displayName;const SS=w.forwardRef(({className:t,...e},r)=>n.jsx(mS,{ref:r,className:xt(Uv(),t),...e}));SS.displayName=mS.displayName;const ES=w.forwardRef(({className:t,...e},r)=>n.jsx(pS,{ref:r,className:xt(Uv({variant:"outline"}),"mt-2 sm:mt-0",t),...e}));ES.displayName=pS.displayName;const qM=[{value:"BC",label:"Balnerio Cambori (BC)"},{value:"NOVA ESPERANA",label:"Nova Esperana"},{value:"CAMBORI",label:"Cambori"},{value:"BARRA",label:"Barra"},{value:"ESTALEIRO",label:"Estaleiro"},{value:"TAQUARAS",label:"Taquaras"},{value:"LARANJEIRAS",label:"Laranjeiras"},{value:"PRAIA DOS AMORES",label:"Praia dos Amores"},{value:"PRAIA BRAVA",label:"Praia Brava"},{value:"ITAJAI",label:"Itaja"},{value:"ITAPEMA",label:"Itapema"},{value:"NAVEGANTES",label:"Navegantes"},{value:"PENHA",label:"Penha"},{value:"PORTO BELO",label:"Porto Belo"},{value:"TIJUCAS",label:"Tijucas"},{value:"PIARRAS",label:"Piarras"},{value:"BOMBINHAS",label:"Bombinhas"},{value:"OUTRO",label:"Outro"}],WM=({cliente:t,onSuccess:e,onCancel:r})=>{const[s,l]=w.useState(t||{nome:"",cpf:"",telefone:"",email:"",enderecos:[{logradouro:"",numero:"",complemento:"",bairro:"",cidade:"",cep:"",regiao:"",ponto_referencia:"",observacoes:"",is_principal:!0}]}),[c,u]=w.useState(!1),p=async x=>{if(x.preventDefault(),!s.nome||!s.telefone){Se.error("Preencha nome e telefone");return}if(!s.enderecos.some(S=>S.logradouro&&S.numero&&S.cidade)){Se.error("Preencha pelo menos um endereo completo");return}u(!0);const E=Se.loading(t!=null&&t.id?"Atualizando cliente...":"Cadastrando cliente...");try{if(!(t!=null&&t.id)){const{data:N}=await Le.from("clientes").select("id, nome").ilike("nome",s.nome.trim()).limit(1);if(N&&N.length>0){Se.error(`J existe um cliente cadastrado com o nome "${N[0].nome}"`,{id:E}),u(!1);return}}let S;if(t!=null&&t.id){const{error:N}=await Le.from("clientes").update({nome:s.nome,cpf:s.cpf||null,telefone:s.telefone,email:s.email||null,updated_at:new Date().toISOString()}).eq("id",t.id);if(N)throw N;S=t.id,await Le.from("enderecos").delete().eq("cliente_id",S)}else{const{data:N,error:P}=await Le.from("clientes").insert([{nome:s.nome,cpf:s.cpf||null,telefone:s.telefone,email:s.email||null}]).select().single();if(P)throw P;S=N.id}const k=s.enderecos.filter(N=>N.logradouro&&N.numero&&N.cidade).map((N,P)=>({cliente_id:S,logradouro:N.logradouro,numero:N.numero,complemento:N.complemento||null,bairro:N.bairro||null,cidade:N.cidade,cep:N.cep||null,regiao:N.regiao||null,ponto_referencia:N.ponto_referencia||null,observacoes:N.observacoes||null,is_principal:P===0}));if(k.length>0){const{error:N}=await Le.from("enderecos").insert(k);if(N)throw N}Se.success(t!=null&&t.id?"Cliente atualizado com sucesso!":"Cliente cadastrado com sucesso!",{id:E}),e()}catch(S){console.error("Erro ao salvar cliente:",S),Se.error("Erro ao salvar cliente: "+S.message,{id:E})}finally{u(!1)}},m=()=>{l({...s,enderecos:[...s.enderecos,{logradouro:"",numero:"",complemento:"",bairro:"",cidade:"",cep:"",regiao:"",ponto_referencia:"",observacoes:"",is_principal:!1}]})},v=x=>{if(s.enderecos.length===1){Se.error(" necessrio pelo menos um endereo");return}l({...s,enderecos:s.enderecos.filter((E,S)=>S!==x)})},y=(x,E,S)=>{const k=[...s.enderecos];k[x]={...k[x],[E]:S},l({...s,enderecos:k})};return n.jsxs("form",{onSubmit:p,className:"space-y-4",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Nome Completo *"}),n.jsx("input",{type:"text",value:s.nome,onChange:x=>l({...s,nome:x.target.value}),placeholder:"Digite o nome completo",className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-100",required:!0})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"CPF"}),n.jsx("input",{type:"text",value:s.cpf,onChange:x=>l({...s,cpf:x.target.value}),placeholder:"000.000.000-00",className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-100"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Telefone *"}),n.jsx("input",{type:"text",value:s.telefone,onChange:x=>l({...s,telefone:x.target.value}),placeholder:"(00) 00000-0000",className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-100",required:!0})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"E-mail"}),n.jsx("input",{type:"email",value:s.email,onChange:x=>l({...s,email:x.target.value}),placeholder:"cliente@email.com",className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-100"})]})]}),n.jsxs("div",{className:"space-y-3 pt-2 border-t border-slate-200",children:[n.jsxs("div",{className:"flex justify-between items-center pt-2",children:[n.jsx("h3",{className:"text-sm font-semibold text-slate-700",children:"Endereos"}),n.jsxs("button",{type:"button",onClick:m,className:"flex items-center gap-2 px-3 py-1.5 text-sm border border-slate-300 rounded-lg font-medium text-slate-700 hover:bg-slate-50 transition-colors",children:[n.jsx(qf,{className:"w-4 h-4"}),"Adicionar Endereo"]})]}),s.enderecos.map((x,E)=>n.jsxs("div",{className:"bg-slate-50 rounded-lg border border-slate-200 p-4",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsxs("h4",{className:"text-sm font-semibold text-slate-700",children:["Endereo ",E+1," ",E===0&&"(Principal)"]}),s.enderecos.length>1&&n.jsx("button",{type:"button",onClick:()=>v(E),className:"p-1.5 hover:bg-red-50 rounded transition-colors",children:n.jsx(Bc,{className:"w-4 h-4 text-red-500"})})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"CEP"}),n.jsx("input",{type:"text",value:x.cep||"",onChange:S=>y(E,"cep",S.target.value),placeholder:"00000-000",className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-100"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Regio"}),n.jsxs("select",{value:x.regiao||"",onChange:S=>y(E,"regiao",S.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-100",children:[n.jsx("option",{value:"",children:"Selecione a regio"}),qM.map(S=>n.jsx("option",{value:S.value,children:S.label},S.value))]})]})]}),n.jsxs("div",{className:"grid grid-cols-[2fr_1fr] gap-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Rua/Logradouro *"}),n.jsx("input",{type:"text",value:x.logradouro,onChange:S=>y(E,"logradouro",S.target.value),placeholder:"Nome da rua",className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-100"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Nmero *"}),n.jsx("input",{type:"text",value:x.numero,onChange:S=>y(E,"numero",S.target.value),placeholder:"123",className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-100"})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Bairro"}),n.jsx("input",{type:"text",value:x.bairro,onChange:S=>y(E,"bairro",S.target.value),placeholder:"Nome do bairro",className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-100"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Cidade *"}),n.jsx("input",{type:"text",value:x.cidade,onChange:S=>y(E,"cidade",S.target.value),placeholder:"Ex: Balnerio Cambori",className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-100"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Complemento"}),n.jsx("input",{type:"text",value:x.complemento,onChange:S=>y(E,"complemento",S.target.value),placeholder:"Apto, Bloco, etc.",className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-100"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Ponto de Referncia"}),n.jsx("input",{type:"text",value:x.ponto_referencia,onChange:S=>y(E,"ponto_referencia",S.target.value),placeholder:"Prximo a...",className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-100"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Observaes"}),n.jsx("textarea",{value:x.observacoes,onChange:S=>y(E,"observacoes",S.target.value),placeholder:"Observaes importantes",rows:2,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-100 resize-vertical"})]})]})]},`endereco-${E}-${x.logradouro||"new"}`))]}),n.jsxs("div",{className:"flex gap-3 pt-4",children:[n.jsx("button",{type:"button",onClick:r,className:"flex-1 px-4 py-2 border border-slate-300 rounded-lg font-medium text-slate-700 hover:bg-slate-50 transition-colors",children:"Cancelar"}),n.jsx("button",{type:"submit",disabled:c,className:"flex-1 px-4 py-2 rounded-lg font-medium text-white transition-colors",style:{backgroundColor:c?"#94a3b8":"#376295",cursor:c?"not-allowed":"pointer"},children:c?"Salvando...":t!=null&&t.id?"Atualizar":"Cadastrar"})]})]})},HM=({status:t})=>{const e={"Produzindo no Laboratrio":{color:"bg-blue-100 text-blue-700",icon:ao},"Preparando no Setor de Entregas":{color:"bg-yellow-100 text-yellow-700",icon:ao},"A Caminho":{color:"bg-purple-100 text-purple-700",icon:ao},Entregue:{color:"bg-green-100 text-green-700",icon:Xa},"No Entregue":{color:"bg-red-100 text-red-700",icon:Ro},Cancelado:{color:"bg-gray-100 text-gray-700",icon:Ro},Pendente:{color:"bg-slate-100 text-slate-700",icon:Ro},Voltou:{color:"bg-orange-100 text-orange-700",icon:Ro}},{color:r,icon:s}=e[t]||e.Pendente;return n.jsxs(rs,{className:r,children:[n.jsx(s,{className:"w-3 h-3 mr-1"}),t]})};function VM(){const t=Sr(),[e,r]=w.useState(!1),[s,l]=w.useState(null),[c,u]=w.useState(""),[p,m]=w.useState([]),[v,y]=w.useState(!0),[x,E]=w.useState(!1),[S,k]=w.useState(null),[N,P]=w.useState(null),[O,T]=w.useState([]),[R,z]=w.useState(!1),[Y,D]=w.useState(""),[J,ne]=w.useState("todas"),we=async()=>{y(!0);try{const{data:V,error:F}=await Le.from("clientes").select(`
          *,
          enderecos (*)
        `).order("nome",{ascending:!0});if(F)throw F;m(V||[]),V&&V.length>0&&!N&&W(V[0])}catch(V){console.error("Erro ao carregar clientes:",V),Se.error("Erro ao carregar clientes")}finally{y(!1)}};w.useEffect(()=>{we()},[]);const Z=p.filter(V=>{var F,ce,xe;return V.nome.toLowerCase().includes(c.toLowerCase())||((F=V.telefone)==null?void 0:F.includes(c))||((ce=V.cpf)==null?void 0:ce.includes(c))||((xe=V.email)==null?void 0:xe.toLowerCase().includes(c.toLowerCase()))}),$=(V,F)=>{F==null||F.stopPropagation(),l(V),r(!0)},re=()=>{r(!1),setTimeout(()=>{l(null)},100)},U=()=>{re(),we()},W=async V=>{P(V),D(""),ne("todas"),await be(V.id)},be=async V=>{z(!0);try{const{data:F,error:ce}=await Le.from("entregas").select(`
          *,
          cliente:clientes(id, nome, telefone),
          endereco:enderecos(id, logradouro, numero, bairro, cidade, complemento),
          motoboy:motoboys(id, nome)
        `).eq("cliente_id",V).order("data_entrega",{ascending:!1});if(ce)throw ce;const xe=(F||[]).map(pe=>{const ie=pe.endereco_logradouro?{id:pe.endereco_id,logradouro:pe.endereco_logradouro,numero:pe.endereco_numero,complemento:pe.endereco_complemento,bairro:pe.endereco_bairro,cidade:pe.endereco_cidade}:pe.endereco;return{...pe,endereco:ie}});T(xe)}catch(F){console.error("Erro ao carregar entregas:",F),Se.error("Erro ao carregar histrico de entregas"),T([])}finally{z(!1)}},me=async()=>{if(!S)return;const V=Se.loading("Excluindo cliente...");try{const{data:F,error:ce}=await Le.from("entregas").select("id").eq("cliente_id",S.id).limit(1);if(ce)throw ce;if(F&&F.length>0){Se.error("No  possvel excluir cliente com entregas cadastradas",{id:V}),E(!1),k(null);return}await Le.from("enderecos").delete().eq("cliente_id",S.id);const{error:xe}=await Le.from("clientes").delete().eq("id",S.id);if(xe)throw xe;Se.success("Cliente excludo com sucesso!",{id:V}),E(!1),k(null),(N==null?void 0:N.id)===S.id&&(P(null),T([])),we()}catch(F){console.error("Erro ao excluir cliente:",F),Se.error("Erro ao excluir cliente: "+F.message,{id:V})}},_e=(V,F)=>{F==null||F.stopPropagation(),k(V),E(!0)},q=O.filter(V=>{var F,ce;if(J!=="todas"&&V.status!==J)return!1;if(Y){const xe=Y.toLowerCase();return((F=V.requisicao)==null?void 0:F.toLowerCase().includes(xe))||((ce=V.observacoes)==null?void 0:ce.toLowerCase().includes(xe))}return!0}),je=O.length,le=O.filter(V=>V.status==="Produzindo no Laboratrio").length,A=O.filter(V=>V.status==="A Caminho").length,H=O.filter(V=>V.status==="Entregue").length;return n.jsxs("div",{className:"bg-gradient-to-br from-slate-50 to-slate-100 min-h-screen",children:[n.jsx("div",{className:"py-8 shadow-sm",style:{background:"linear-gradient(135deg, #457bba 0%, #890d5d 100%)"},children:n.jsx("div",{className:"max-w-7xl mx-auto px-6",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("button",{onClick:()=>t(-1),className:"p-2 rounded-lg bg-white/20 hover:bg-white/30 transition-colors",children:n.jsx(jr,{className:"w-6 h-6 text-white"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-4xl font-bold text-white",children:"Clientes"}),n.jsx("p",{className:"text-base text-white opacity-90 mt-1",children:"Gerencie sua base de clientes"})]})]})})}),n.jsxs("div",{className:"max-w-7xl mx-auto p-4 md:p-8 space-y-6",children:[n.jsx(ds,{open:e,onOpenChange:r,children:n.jsxs(Ao,{style:{maxWidth:"900px",maxHeight:"90vh",overflowY:"auto"},children:[n.jsxs(Oo,{children:[n.jsx(Mo,{style:{color:"#376295"},children:s?"Editar Cliente":"Novo Cliente"}),n.jsx(Hf,{children:s?"Atualize as informaes do cliente e seus endereos.":"Preencha os dados do novo cliente e pelo menos um endereo."})]}),n.jsx(WM,{cliente:s,onSuccess:U,onCancel:re})]},(s==null?void 0:s.id)||"new")}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[n.jsxs(Xt,{className:"border-none shadow-lg",children:[n.jsxs(Ws,{className:"space-y-3",children:[n.jsx(Hs,{children:"Lista de Clientes"}),n.jsxs("div",{className:"relative",children:[n.jsx(uo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400 w-4 h-4"}),n.jsx(Vt,{placeholder:"Buscar cliente...",value:c,onChange:V=>u(V.target.value),className:"pl-10"})]}),n.jsxs(pr,{className:"w-full",style:{background:"#376295",color:"white"},onClick:()=>{r(!0),l(null)},children:[n.jsx(qf,{className:"w-4 h-4 mr-2"}),"Novo Cliente"]})]}),n.jsx(ir,{className:"p-0",children:v?n.jsx("div",{className:"p-6 text-center text-slate-500",children:"Carregando clientes..."}):Z.length===0?n.jsx("div",{className:"p-6 text-center text-slate-500",children:c?"Nenhum cliente encontrado":"Nenhum cliente cadastrado"}):n.jsx("div",{className:"divide-y divide-slate-100 max-h-[600px] overflow-y-auto",children:Z.map(V=>n.jsx("div",{onClick:()=>W(V),className:`p-4 hover:bg-slate-50 transition-colors cursor-pointer ${(N==null?void 0:N.id)===V.id?"bg-blue-50 border-l-4 border-[#457bba]":""}`,children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-[#457bba] to-[#890d5d] flex items-center justify-center flex-shrink-0",children:n.jsx(lo,{className:"w-5 h-5 text-white"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("h3",{className:"font-semibold text-slate-900 truncate",children:V.nome}),n.jsxs("div",{className:"flex items-center gap-1 text-sm text-slate-600 mt-1",children:[n.jsx(tu,{className:"w-3 h-3"}),V.telefone]}),n.jsxs("div",{className:"flex gap-2 mt-2",children:[n.jsxs(pr,{variant:"outline",size:"sm",onClick:F=>$(V,F),className:"h-7 text-xs",children:[n.jsx(Wf,{className:"w-3 h-3 mr-1"}),"Editar"]}),n.jsxs(pr,{variant:"outline",size:"sm",onClick:F=>_e(V,F),className:"h-7 text-xs text-red-600 hover:text-red-700",children:[n.jsx(Bc,{className:"w-3 h-3 mr-1"}),"Excluir"]})]})]})]})},V.id))})})]}),n.jsx("div",{className:"lg:col-span-2 space-y-6",children:N?n.jsxs(n.Fragment,{children:[n.jsx(Xt,{className:"border-none shadow-lg overflow-hidden",children:n.jsx(Ws,{className:"bg-gradient-to-r from-[#457bba] to-[#890d5d] text-white",children:n.jsxs(Hs,{className:"text-2xl flex items-center gap-3",children:[n.jsx(lo,{className:"w-8 h-8"}),n.jsxs("div",{children:[n.jsx("div",{children:N.nome}),n.jsx("div",{className:"text-sm font-normal opacity-90 mt-1",children:N.telefone})]})]})})}),n.jsx(Xt,{className:"border-none shadow-lg",children:n.jsx(ir,{className:"pt-6",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[n.jsx(Nc,{className:"w-5 h-5 text-[#f59e0b]"}),n.jsx("h3",{className:"font-semibold text-slate-900",children:"Endereos"})]}),N.enderecos&&N.enderecos.length>0?n.jsx("div",{className:"space-y-3",children:N.enderecos.map((V,F)=>n.jsxs("div",{className:"p-3 bg-slate-50 rounded-lg text-sm",children:[n.jsxs("div",{className:"font-medium text-slate-900",children:[V.logradouro,", ",V.numero]}),V.complemento&&n.jsx("div",{className:"text-slate-600",children:V.complemento}),n.jsxs("div",{className:"text-slate-600",children:[V.bairro&&`${V.bairro} - `,V.cidade]}),V.cep&&n.jsxs("div",{className:"text-slate-500",children:["CEP: ",V.cep]}),V.regiao&&n.jsx("div",{className:"mt-1",children:n.jsx(rs,{variant:"outline",className:"text-xs",children:V.regiao})}),V.is_principal&&n.jsx("div",{className:"mt-2",children:n.jsx("span",{className:"text-xs bg-green-100 text-green-700 px-2 py-1 rounded",children:"Endereo Principal"})})]},F))}):n.jsx("p",{className:"text-slate-500 text-sm",children:"Nenhum endereo cadastrado"}),n.jsxs("div",{className:"mt-4 space-y-2",children:[N.cpf&&n.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[n.jsx(j1,{className:"w-4 h-4 text-slate-400"}),n.jsxs("span",{className:"text-slate-600",children:["CPF: ",N.cpf]})]}),N.email&&n.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[n.jsx($R,{className:"w-4 h-4 text-slate-400"}),n.jsx("span",{className:"text-slate-600",children:N.email})]})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-lg text-slate-900 mb-4",children:"Estatsticas de Entregas"}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("button",{type:"button",onClick:()=>ne("todas"),className:"bg-white rounded-xl shadow-sm p-5 cursor-pointer transition-all hover:shadow-md",style:{border:J==="todas"?"2px solid #376295":"2px solid transparent"},children:[n.jsxs("div",{className:"flex items-center justify-center gap-2 mb-3",children:[n.jsx("div",{className:"p-2 rounded-lg",style:{backgroundColor:"#E8F0F8"},children:n.jsx(Ji,{className:"w-6 h-6",style:{color:"#376295"}})}),n.jsx("span",{className:"text-sm font-bold text-slate-700",children:"Total"})]}),n.jsx("div",{className:"text-4xl font-bold text-center",style:{color:"#376295"},children:je})]}),n.jsxs("button",{type:"button",onClick:()=>ne("Produzindo no Laboratrio"),className:"bg-white rounded-xl shadow-sm p-5 cursor-pointer transition-all hover:shadow-md",style:{border:J==="Produzindo no Laboratrio"?"2px solid #890d5d":"2px solid transparent"},children:[n.jsxs("div",{className:"flex items-center justify-center gap-2 mb-3",children:[n.jsx("div",{className:"p-2 rounded-lg",style:{backgroundColor:"#F5E8F5"},children:n.jsx(ao,{className:"w-6 h-6",style:{color:"#890d5d"}})}),n.jsx("span",{className:"text-sm font-bold text-slate-700",children:"Produo"})]}),n.jsx("div",{className:"text-4xl font-bold text-center",style:{color:"#890d5d"},children:le})]}),n.jsxs("button",{type:"button",onClick:()=>ne("A Caminho"),className:"bg-white rounded-xl shadow-sm p-5 cursor-pointer transition-all hover:shadow-md",style:{border:J==="A Caminho"?"2px solid #f97316":"2px solid transparent"},children:[n.jsxs("div",{className:"flex items-center justify-center gap-2 mb-3",children:[n.jsx("div",{className:"p-2 rounded-lg",style:{backgroundColor:"#FEF3E8"},children:n.jsx(To,{className:"w-6 h-6",style:{color:"#f97316"}})}),n.jsx("span",{className:"text-sm font-bold text-slate-700",children:"A Caminho"})]}),n.jsx("div",{className:"text-4xl font-bold text-center",style:{color:"#f97316"},children:A})]}),n.jsxs("button",{type:"button",onClick:()=>ne("Entregue"),className:"bg-white rounded-xl shadow-sm p-5 cursor-pointer transition-all hover:shadow-md",style:{border:J==="Entregue"?"2px solid #3dac38":"2px solid transparent"},children:[n.jsxs("div",{className:"flex items-center justify-center gap-2 mb-3",children:[n.jsx("div",{className:"p-2 rounded-lg",style:{backgroundColor:"#E8F5E8"},children:n.jsx(Xi,{className:"w-6 h-6",style:{color:"#3dac38"}})}),n.jsx("span",{className:"text-sm font-bold text-slate-700",children:"Entregues"})]}),n.jsx("div",{className:"text-4xl font-bold text-center",style:{color:"#3dac38"},children:H})]})]})]})]})})}),n.jsxs(Xt,{className:"border-none shadow-lg",children:[n.jsxs(Ws,{children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs(Hs,{className:"flex items-center gap-2",children:[n.jsx(dn,{className:"w-5 h-5 text-[#457bba]"}),"Histrico de Entregas"]}),n.jsxs("div",{className:"text-sm text-slate-500",children:[q.length," entregas"]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 mt-4",children:[n.jsxs("div",{className:"relative",children:[n.jsx(uo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400 w-4 h-4"}),n.jsx(Vt,{placeholder:"Buscar por requisio...",value:Y,onChange:V=>D(V.target.value),className:"pl-10"})]}),n.jsxs("select",{value:J,onChange:V=>ne(V.target.value),className:"h-10 w-full rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-[#457bba] focus:border-transparent",children:[n.jsx("option",{value:"todas",children:"Todos os Status"}),n.jsx("option",{value:"Produzindo no Laboratrio",children:"Produo"}),n.jsx("option",{value:"A Caminho",children:"A Caminho"}),n.jsx("option",{value:"Entregue",children:"Entregue"}),n.jsx("option",{value:"Pendente",children:"Pendente"}),n.jsx("option",{value:"No Entregue",children:"No Entregue"}),n.jsx("option",{value:"Voltou",children:"Voltou"}),n.jsx("option",{value:"Cancelado",children:"Cancelado"})]})]})]}),n.jsx(ir,{className:"p-0",children:R?n.jsx("div",{className:"p-6 text-center text-slate-500",children:"Carregando histrico..."}):q.length===0?n.jsxs("div",{className:"p-12 text-center",children:[n.jsx(ao,{className:"w-12 h-12 text-slate-300 mx-auto mb-4"}),n.jsx("p",{className:"text-slate-500",children:Y||J!=="todas"?"Nenhuma entrega encontrada com os filtros aplicados":"Nenhuma entrega encontrada para este cliente"})]}):n.jsx("div",{className:"divide-y divide-slate-100 max-h-[500px] overflow-y-auto",children:q.map(V=>{var F;return n.jsx("button",{type:"button",onClick:()=>t(`/detalhes-romaneio?id=${V.id}`),className:"w-full p-4 hover:bg-slate-50 transition-colors cursor-pointer text-left",children:n.jsx("div",{className:"flex justify-between items-start gap-4",children:n.jsxs("div",{className:"flex-1 space-y-2",children:[n.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[n.jsxs("span",{className:"font-bold text-slate-900",children:["#",V.requisicao]}),n.jsx(HM,{status:V.status})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm text-slate-600",children:[((F=V.motoboy)==null?void 0:F.nome)&&n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Motoboy:"})," ",V.motoboy.nome]}),V.regiao&&n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(Nc,{className:"w-3 h-3"}),V.regiao]}),V.data_entrega&&n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(Ic,{className:"w-3 h-3"}),new Date(V.data_entrega).toLocaleDateString("pt-BR")]}),V.valor&&n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(Dc,{className:"w-3 h-3"}),"R$ ",V.valor.toFixed(2)]})]})]})})},V.id)})})})]})]}):n.jsx(Xt,{className:"border-none shadow-lg",children:n.jsxs(ir,{className:"p-12 text-center",children:[n.jsx(lo,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),n.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-2",children:"Selecione um Cliente"}),n.jsx("p",{className:"text-slate-600",children:"Escolha um cliente da lista para visualizar sua ficha completa e histrico de entregas"})]})})})]})]}),n.jsx(FM,{open:x,onOpenChange:E,children:n.jsxs(yS,{children:[n.jsxs(bS,{children:[n.jsx(wS,{children:"Tem certeza?"}),n.jsxs(jS,{children:["Esta ao no pode ser desfeita. O cliente ",n.jsx("strong",{children:S==null?void 0:S.nome})," e todos os seus endereos sero excludos permanentemente."]})]}),n.jsxs(_S,{children:[n.jsx(ES,{onClick:()=>k(null),children:"Cancelar"}),n.jsx(SS,{onClick:me,style:{background:"#ef4444"},children:"Excluir"})]})]})})]})}function Rr(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function hs(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}function GM(t,e){const r=Rr(t);return isNaN(e)?hs(t,NaN):(e&&r.setDate(r.getDate()+e),r)}function em(t,e){const r=Rr(t);if(isNaN(e))return hs(t,NaN);if(!e)return r;const s=r.getDate(),l=hs(t,r.getTime());l.setMonth(r.getMonth()+e+1,0);const c=l.getDate();return s>=c?l:(r.setFullYear(l.getFullYear(),l.getMonth(),s),r)}const NS=6048e5,KM=864e5,CS=6e4,kS=36e5;let ZM={};function tm(){return ZM}function kc(t,e){var p,m,v,y;const r=tm(),s=(e==null?void 0:e.weekStartsOn)??((m=(p=e==null?void 0:e.locale)==null?void 0:p.options)==null?void 0:m.weekStartsOn)??r.weekStartsOn??((y=(v=r.locale)==null?void 0:v.options)==null?void 0:y.weekStartsOn)??0,l=Rr(t),c=l.getDay(),u=(c<s?7:0)+c-s;return l.setDate(l.getDate()-u),l.setHours(0,0,0,0),l}function Of(t){return kc(t,{weekStartsOn:1})}function PS(t){const e=Rr(t),r=e.getFullYear(),s=hs(t,0);s.setFullYear(r+1,0,4),s.setHours(0,0,0,0);const l=Of(s),c=hs(t,0);c.setFullYear(r,0,4),c.setHours(0,0,0,0);const u=Of(c);return e.getTime()>=l.getTime()?r+1:e.getTime()>=u.getTime()?r:r-1}function Mf(t){const e=Rr(t);return e.setHours(0,0,0,0),e}function Tb(t){const e=Rr(t),r=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return r.setUTCFullYear(e.getFullYear()),+t-+r}function QM(t,e){const r=Mf(t),s=Mf(e),l=+r-Tb(r),c=+s-Tb(s);return Math.round((l-c)/KM)}function JM(t){const e=PS(t),r=hs(t,0);return r.setFullYear(e,0,4),r.setHours(0,0,0,0),Of(r)}function un(t,e){const r=Mf(t),s=Mf(e);return+r==+s}function YM(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function XM(t){if(!YM(t)&&typeof t!="number")return!1;const e=Rr(t);return!isNaN(Number(e))}function Yv(t){const e=Rr(t),r=e.getMonth();return e.setFullYear(e.getFullYear(),r+1,0),e.setHours(23,59,59,999),e}function Xv(t,e){const r=Rr(t.start),s=Rr(t.end);let l=+r>+s;const c=l?+r:+s,u=l?s:r;u.setHours(0,0,0,0);let p=1;const m=[];for(;+u<=c;)m.push(Rr(u)),u.setDate(u.getDate()+p),u.setHours(0,0,0,0);return l?m.reverse():m}function ou(t){const e=Rr(t);return e.setDate(1),e.setHours(0,0,0,0),e}function eL(t){const e=Rr(t),r=hs(t,0);return r.setFullYear(e.getFullYear(),0,1),r.setHours(0,0,0,0),r}const tL={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},rL=(t,e,r)=>{let s;const l=tL[t];return typeof l=="string"?s=l:e===1?s=l.one:s=l.other.replace("{{count}}",e.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+s:s+" ago":s};function dc(t){return(e={})=>{const r=e.width?String(e.width):t.defaultWidth;return t.formats[r]||t.formats[t.defaultWidth]}}const nL={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},oL={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},sL={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},iL={date:dc({formats:nL,defaultWidth:"full"}),time:dc({formats:oL,defaultWidth:"full"}),dateTime:dc({formats:sL,defaultWidth:"full"})},aL={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},lL=(t,e,r,s)=>aL[t];function is(t){return(e,r)=>{const s=r!=null&&r.context?String(r.context):"standalone";let l;if(s==="formatting"&&t.formattingValues){const u=t.defaultFormattingWidth||t.defaultWidth,p=r!=null&&r.width?String(r.width):u;l=t.formattingValues[p]||t.formattingValues[u]}else{const u=t.defaultWidth,p=r!=null&&r.width?String(r.width):t.defaultWidth;l=t.values[p]||t.values[u]}const c=t.argumentCallback?t.argumentCallback(e):e;return l[c]}}const cL={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},dL={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},uL={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},hL={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},fL={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},mL={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},pL=(t,e)=>{const r=Number(t),s=r%100;if(s>20||s<10)switch(s%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},gL={ordinalNumber:pL,era:is({values:cL,defaultWidth:"wide"}),quarter:is({values:dL,defaultWidth:"wide",argumentCallback:t=>t-1}),month:is({values:uL,defaultWidth:"wide"}),day:is({values:hL,defaultWidth:"wide"}),dayPeriod:is({values:fL,defaultWidth:"wide",formattingValues:mL,defaultFormattingWidth:"wide"})};function as(t){return(e,r={})=>{const s=r.width,l=s&&t.matchPatterns[s]||t.matchPatterns[t.defaultMatchWidth],c=e.match(l);if(!c)return null;const u=c[0],p=s&&t.parsePatterns[s]||t.parsePatterns[t.defaultParseWidth],m=Array.isArray(p)?xL(p,x=>x.test(u)):vL(p,x=>x.test(u));let v;v=t.valueCallback?t.valueCallback(m):m,v=r.valueCallback?r.valueCallback(v):v;const y=e.slice(u.length);return{value:v,rest:y}}}function vL(t,e){for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&e(t[r]))return r}function xL(t,e){for(let r=0;r<t.length;r++)if(e(t[r]))return r}function TS(t){return(e,r={})=>{const s=e.match(t.matchPattern);if(!s)return null;const l=s[0],c=e.match(t.parsePattern);if(!c)return null;let u=t.valueCallback?t.valueCallback(c[0]):c[0];u=r.valueCallback?r.valueCallback(u):u;const p=e.slice(l.length);return{value:u,rest:p}}}const yL=/^(\d+)(th|st|nd|rd)?/i,bL=/\d+/i,_L={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},wL={any:[/^b/i,/^(a|c)/i]},jL={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},SL={any:[/1/i,/2/i,/3/i,/4/i]},EL={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},NL={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},CL={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},kL={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},PL={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},TL={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},RL={ordinalNumber:TS({matchPattern:yL,parsePattern:bL,valueCallback:t=>parseInt(t,10)}),era:as({matchPatterns:_L,defaultMatchWidth:"wide",parsePatterns:wL,defaultParseWidth:"any"}),quarter:as({matchPatterns:jL,defaultMatchWidth:"wide",parsePatterns:SL,defaultParseWidth:"any",valueCallback:t=>t+1}),month:as({matchPatterns:EL,defaultMatchWidth:"wide",parsePatterns:NL,defaultParseWidth:"any"}),day:as({matchPatterns:CL,defaultMatchWidth:"wide",parsePatterns:kL,defaultParseWidth:"any"}),dayPeriod:as({matchPatterns:PL,defaultMatchWidth:"any",parsePatterns:TL,defaultParseWidth:"any"})},AL={code:"en-US",formatDistance:rL,formatLong:iL,formatRelative:lL,localize:gL,match:RL,options:{weekStartsOn:0,firstWeekContainsDate:1}};function OL(t){const e=Rr(t);return QM(e,eL(e))+1}function ML(t){const e=Rr(t),r=+Of(e)-+JM(e);return Math.round(r/NS)+1}function RS(t,e){var y,x,E,S;const r=Rr(t),s=r.getFullYear(),l=tm(),c=(e==null?void 0:e.firstWeekContainsDate)??((x=(y=e==null?void 0:e.locale)==null?void 0:y.options)==null?void 0:x.firstWeekContainsDate)??l.firstWeekContainsDate??((S=(E=l.locale)==null?void 0:E.options)==null?void 0:S.firstWeekContainsDate)??1,u=hs(t,0);u.setFullYear(s+1,0,c),u.setHours(0,0,0,0);const p=kc(u,e),m=hs(t,0);m.setFullYear(s,0,c),m.setHours(0,0,0,0);const v=kc(m,e);return r.getTime()>=p.getTime()?s+1:r.getTime()>=v.getTime()?s:s-1}function LL(t,e){var p,m,v,y;const r=tm(),s=(e==null?void 0:e.firstWeekContainsDate)??((m=(p=e==null?void 0:e.locale)==null?void 0:p.options)==null?void 0:m.firstWeekContainsDate)??r.firstWeekContainsDate??((y=(v=r.locale)==null?void 0:v.options)==null?void 0:y.firstWeekContainsDate)??1,l=RS(t,e),c=hs(t,0);return c.setFullYear(l,0,s),c.setHours(0,0,0,0),kc(c,e)}function IL(t,e){const r=Rr(t),s=+kc(r,e)-+LL(r,e);return Math.round(s/NS)+1}function Mt(t,e){const r=t<0?"-":"",s=Math.abs(t).toString().padStart(e,"0");return r+s}const Mi={y(t,e){const r=t.getFullYear(),s=r>0?r:1-r;return Mt(e==="yy"?s%100:s,e.length)},M(t,e){const r=t.getMonth();return e==="M"?String(r+1):Mt(r+1,2)},d(t,e){return Mt(t.getDate(),e.length)},a(t,e){const r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(t,e){return Mt(t.getHours()%12||12,e.length)},H(t,e){return Mt(t.getHours(),e.length)},m(t,e){return Mt(t.getMinutes(),e.length)},s(t,e){return Mt(t.getSeconds(),e.length)},S(t,e){const r=e.length,s=t.getMilliseconds(),l=Math.trunc(s*Math.pow(10,r-3));return Mt(l,e.length)}},tc={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Rb={G:function(t,e,r){const s=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return r.era(s,{width:"abbreviated"});case"GGGGG":return r.era(s,{width:"narrow"});case"GGGG":default:return r.era(s,{width:"wide"})}},y:function(t,e,r){if(e==="yo"){const s=t.getFullYear(),l=s>0?s:1-s;return r.ordinalNumber(l,{unit:"year"})}return Mi.y(t,e)},Y:function(t,e,r,s){const l=RS(t,s),c=l>0?l:1-l;if(e==="YY"){const u=c%100;return Mt(u,2)}return e==="Yo"?r.ordinalNumber(c,{unit:"year"}):Mt(c,e.length)},R:function(t,e){const r=PS(t);return Mt(r,e.length)},u:function(t,e){const r=t.getFullYear();return Mt(r,e.length)},Q:function(t,e,r){const s=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(s);case"QQ":return Mt(s,2);case"Qo":return r.ordinalNumber(s,{unit:"quarter"});case"QQQ":return r.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(s,{width:"wide",context:"formatting"})}},q:function(t,e,r){const s=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(s);case"qq":return Mt(s,2);case"qo":return r.ordinalNumber(s,{unit:"quarter"});case"qqq":return r.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(s,{width:"wide",context:"standalone"})}},M:function(t,e,r){const s=t.getMonth();switch(e){case"M":case"MM":return Mi.M(t,e);case"Mo":return r.ordinalNumber(s+1,{unit:"month"});case"MMM":return r.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(s,{width:"wide",context:"formatting"})}},L:function(t,e,r){const s=t.getMonth();switch(e){case"L":return String(s+1);case"LL":return Mt(s+1,2);case"Lo":return r.ordinalNumber(s+1,{unit:"month"});case"LLL":return r.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(s,{width:"wide",context:"standalone"})}},w:function(t,e,r,s){const l=IL(t,s);return e==="wo"?r.ordinalNumber(l,{unit:"week"}):Mt(l,e.length)},I:function(t,e,r){const s=ML(t);return e==="Io"?r.ordinalNumber(s,{unit:"week"}):Mt(s,e.length)},d:function(t,e,r){return e==="do"?r.ordinalNumber(t.getDate(),{unit:"date"}):Mi.d(t,e)},D:function(t,e,r){const s=OL(t);return e==="Do"?r.ordinalNumber(s,{unit:"dayOfYear"}):Mt(s,e.length)},E:function(t,e,r){const s=t.getDay();switch(e){case"E":case"EE":case"EEE":return r.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(s,{width:"short",context:"formatting"});case"EEEE":default:return r.day(s,{width:"wide",context:"formatting"})}},e:function(t,e,r,s){const l=t.getDay(),c=(l-s.weekStartsOn+8)%7||7;switch(e){case"e":return String(c);case"ee":return Mt(c,2);case"eo":return r.ordinalNumber(c,{unit:"day"});case"eee":return r.day(l,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(l,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(l,{width:"short",context:"formatting"});case"eeee":default:return r.day(l,{width:"wide",context:"formatting"})}},c:function(t,e,r,s){const l=t.getDay(),c=(l-s.weekStartsOn+8)%7||7;switch(e){case"c":return String(c);case"cc":return Mt(c,e.length);case"co":return r.ordinalNumber(c,{unit:"day"});case"ccc":return r.day(l,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(l,{width:"narrow",context:"standalone"});case"cccccc":return r.day(l,{width:"short",context:"standalone"});case"cccc":default:return r.day(l,{width:"wide",context:"standalone"})}},i:function(t,e,r){const s=t.getDay(),l=s===0?7:s;switch(e){case"i":return String(l);case"ii":return Mt(l,e.length);case"io":return r.ordinalNumber(l,{unit:"day"});case"iii":return r.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(s,{width:"short",context:"formatting"});case"iiii":default:return r.day(s,{width:"wide",context:"formatting"})}},a:function(t,e,r){const l=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.dayPeriod(l,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(l,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(l,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(l,{width:"wide",context:"formatting"})}},b:function(t,e,r){const s=t.getHours();let l;switch(s===12?l=tc.noon:s===0?l=tc.midnight:l=s/12>=1?"pm":"am",e){case"b":case"bb":return r.dayPeriod(l,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(l,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(l,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(l,{width:"wide",context:"formatting"})}},B:function(t,e,r){const s=t.getHours();let l;switch(s>=17?l=tc.evening:s>=12?l=tc.afternoon:s>=4?l=tc.morning:l=tc.night,e){case"B":case"BB":case"BBB":return r.dayPeriod(l,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(l,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(l,{width:"wide",context:"formatting"})}},h:function(t,e,r){if(e==="ho"){let s=t.getHours()%12;return s===0&&(s=12),r.ordinalNumber(s,{unit:"hour"})}return Mi.h(t,e)},H:function(t,e,r){return e==="Ho"?r.ordinalNumber(t.getHours(),{unit:"hour"}):Mi.H(t,e)},K:function(t,e,r){const s=t.getHours()%12;return e==="Ko"?r.ordinalNumber(s,{unit:"hour"}):Mt(s,e.length)},k:function(t,e,r){let s=t.getHours();return s===0&&(s=24),e==="ko"?r.ordinalNumber(s,{unit:"hour"}):Mt(s,e.length)},m:function(t,e,r){return e==="mo"?r.ordinalNumber(t.getMinutes(),{unit:"minute"}):Mi.m(t,e)},s:function(t,e,r){return e==="so"?r.ordinalNumber(t.getSeconds(),{unit:"second"}):Mi.s(t,e)},S:function(t,e){return Mi.S(t,e)},X:function(t,e,r){const s=t.getTimezoneOffset();if(s===0)return"Z";switch(e){case"X":return Ob(s);case"XXXX":case"XX":return Da(s);case"XXXXX":case"XXX":default:return Da(s,":")}},x:function(t,e,r){const s=t.getTimezoneOffset();switch(e){case"x":return Ob(s);case"xxxx":case"xx":return Da(s);case"xxxxx":case"xxx":default:return Da(s,":")}},O:function(t,e,r){const s=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+Ab(s,":");case"OOOO":default:return"GMT"+Da(s,":")}},z:function(t,e,r){const s=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+Ab(s,":");case"zzzz":default:return"GMT"+Da(s,":")}},t:function(t,e,r){const s=Math.trunc(t.getTime()/1e3);return Mt(s,e.length)},T:function(t,e,r){const s=t.getTime();return Mt(s,e.length)}};function Ab(t,e=""){const r=t>0?"-":"+",s=Math.abs(t),l=Math.trunc(s/60),c=s%60;return c===0?r+String(l):r+String(l)+e+Mt(c,2)}function Ob(t,e){return t%60===0?(t>0?"-":"+")+Mt(Math.abs(t)/60,2):Da(t,e)}function Da(t,e=""){const r=t>0?"-":"+",s=Math.abs(t),l=Mt(Math.trunc(s/60),2),c=Mt(s%60,2);return r+l+e+c}const Mb=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},AS=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},DL=(t,e)=>{const r=t.match(/(P+)(p+)?/)||[],s=r[1],l=r[2];if(!l)return Mb(t,e);let c;switch(s){case"P":c=e.dateTime({width:"short"});break;case"PP":c=e.dateTime({width:"medium"});break;case"PPP":c=e.dateTime({width:"long"});break;case"PPPP":default:c=e.dateTime({width:"full"});break}return c.replace("{{date}}",Mb(s,e)).replace("{{time}}",AS(l,e))},BL={p:AS,P:DL},zL=/^D+$/,$L=/^Y+$/,FL=["D","DD","YY","YYYY"];function UL(t){return zL.test(t)}function qL(t){return $L.test(t)}function WL(t,e,r){const s=HL(t,e,r);if(console.warn(s),FL.includes(t))throw new RangeError(s)}function HL(t,e,r){const s=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${s} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const VL=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,GL=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,KL=/^'([^]*?)'?$/,ZL=/''/g,QL=/[a-zA-Z]/;function wt(t,e,r){var y,x,E,S,k,N,P,O;const s=tm(),l=(r==null?void 0:r.locale)??s.locale??AL,c=(r==null?void 0:r.firstWeekContainsDate)??((x=(y=r==null?void 0:r.locale)==null?void 0:y.options)==null?void 0:x.firstWeekContainsDate)??s.firstWeekContainsDate??((S=(E=s.locale)==null?void 0:E.options)==null?void 0:S.firstWeekContainsDate)??1,u=(r==null?void 0:r.weekStartsOn)??((N=(k=r==null?void 0:r.locale)==null?void 0:k.options)==null?void 0:N.weekStartsOn)??s.weekStartsOn??((O=(P=s.locale)==null?void 0:P.options)==null?void 0:O.weekStartsOn)??0,p=Rr(t);if(!XM(p))throw new RangeError("Invalid time value");let m=e.match(GL).map(T=>{const R=T[0];if(R==="p"||R==="P"){const z=BL[R];return z(T,l.formatLong)}return T}).join("").match(VL).map(T=>{if(T==="''")return{isToken:!1,value:"'"};const R=T[0];if(R==="'")return{isToken:!1,value:JL(T)};if(Rb[R])return{isToken:!0,value:T};if(R.match(QL))throw new RangeError("Format string contains an unescaped latin alphabet character `"+R+"`");return{isToken:!1,value:T}});l.localize.preprocessor&&(m=l.localize.preprocessor(p,m));const v={firstWeekContainsDate:c,weekStartsOn:u,locale:l};return m.map(T=>{if(!T.isToken)return T.value;const R=T.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&qL(R)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&UL(R))&&WL(R,e,String(t));const z=Rb[R[0]];return z(p,R,l.localize,v)}).join("")}function JL(t){const e=t.match(KL);return e?e[1].replace(ZL,"'"):t}function YL(t){return Rr(t).getDay()}function Dr(t,e){const s=rI(t);let l;if(s.date){const m=nI(s.date,2);l=oI(m.restDateString,m.year)}if(!l||isNaN(l.getTime()))return new Date(NaN);const c=l.getTime();let u=0,p;if(s.time&&(u=sI(s.time),isNaN(u)))return new Date(NaN);if(s.timezone){if(p=iI(s.timezone),isNaN(p))return new Date(NaN)}else{const m=new Date(c+u),v=new Date(0);return v.setFullYear(m.getUTCFullYear(),m.getUTCMonth(),m.getUTCDate()),v.setHours(m.getUTCHours(),m.getUTCMinutes(),m.getUTCSeconds(),m.getUTCMilliseconds()),v}return new Date(c+u+p)}const rf={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},XL=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,eI=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,tI=/^([+-])(\d{2})(?::?(\d{2}))?$/;function rI(t){const e={},r=t.split(rf.dateTimeDelimiter);let s;if(r.length>2)return e;if(/:/.test(r[0])?s=r[0]:(e.date=r[0],s=r[1],rf.timeZoneDelimiter.test(e.date)&&(e.date=t.split(rf.timeZoneDelimiter)[0],s=t.substr(e.date.length,t.length))),s){const l=rf.timezone.exec(s);l?(e.time=s.replace(l[1],""),e.timezone=l[1]):e.time=s}return e}function nI(t,e){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),s=t.match(r);if(!s)return{year:NaN,restDateString:""};const l=s[1]?parseInt(s[1]):null,c=s[2]?parseInt(s[2]):null;return{year:c===null?l:c*100,restDateString:t.slice((s[1]||s[2]).length)}}function oI(t,e){if(e===null)return new Date(NaN);const r=t.match(XL);if(!r)return new Date(NaN);const s=!!r[4],l=Fd(r[1]),c=Fd(r[2])-1,u=Fd(r[3]),p=Fd(r[4]),m=Fd(r[5])-1;if(s)return uI(e,p,m)?aI(e,p,m):new Date(NaN);{const v=new Date(0);return!cI(e,c,u)||!dI(e,l)?new Date(NaN):(v.setUTCFullYear(e,c,Math.max(l,u)),v)}}function Fd(t){return t?parseInt(t):1}function sI(t){const e=t.match(eI);if(!e)return NaN;const r=ng(e[1]),s=ng(e[2]),l=ng(e[3]);return hI(r,s,l)?r*kS+s*CS+l*1e3:NaN}function ng(t){return t&&parseFloat(t.replace(",","."))||0}function iI(t){if(t==="Z")return 0;const e=t.match(tI);if(!e)return 0;const r=e[1]==="+"?-1:1,s=parseInt(e[2]),l=e[3]&&parseInt(e[3])||0;return fI(s,l)?r*(s*kS+l*CS):NaN}function aI(t,e,r){const s=new Date(0);s.setUTCFullYear(t,0,4);const l=s.getUTCDay()||7,c=(e-1)*7+r+1-l;return s.setUTCDate(s.getUTCDate()+c),s}const lI=[31,null,31,30,31,30,31,31,30,31,30,31];function OS(t){return t%400===0||t%4===0&&t%100!==0}function cI(t,e,r){return e>=0&&e<=11&&r>=1&&r<=(lI[e]||(OS(t)?29:28))}function dI(t,e){return e>=1&&e<=(OS(t)?366:365)}function uI(t,e,r){return e>=1&&e<=53&&r>=0&&r<=6}function hI(t,e,r){return t===24?e===0&&r===0:r>=0&&r<60&&e>=0&&e<60&&t>=0&&t<25}function fI(t,e){return e>=0&&e<=59}function ex(t,e){return em(t,-1)}const mI={lessThanXSeconds:{one:"menos de um segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"meio minuto",lessThanXMinutes:{one:"menos de um minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"cerca de 1 hora",other:"cerca de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 dia",other:"{{count}} dias"},aboutXWeeks:{one:"cerca de 1 semana",other:"cerca de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"cerca de 1 ms",other:"cerca de {{count}} meses"},xMonths:{one:"1 ms",other:"{{count}} meses"},aboutXYears:{one:"cerca de 1 ano",other:"cerca de {{count}} anos"},xYears:{one:"1 ano",other:"{{count}} anos"},overXYears:{one:"mais de 1 ano",other:"mais de {{count}} anos"},almostXYears:{one:"quase 1 ano",other:"quase {{count}} anos"}},pI=(t,e,r)=>{let s;const l=mI[t];return typeof l=="string"?s=l:e===1?s=l.one:s=l.other.replace("{{count}}",String(e)),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"em "+s:"h "+s:s},gI={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/yyyy"},vI={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},xI={full:"{{date}} 's' {{time}}",long:"{{date}} 's' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},yI={date:dc({formats:gI,defaultWidth:"full"}),time:dc({formats:vI,defaultWidth:"full"}),dateTime:dc({formats:xI,defaultWidth:"full"})},bI={lastWeek:t=>{const e=t.getDay();return"'"+(e===0||e===6?"ltimo":"ltima")+"' eeee 's' p"},yesterday:"'ontem s' p",today:"'hoje s' p",tomorrow:"'amanh s' p",nextWeek:"eeee 's' p",other:"P"},_I=(t,e,r,s)=>{const l=bI[t];return typeof l=="function"?l(e):l},wI={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","depois de cristo"]},jI={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1 trimestre","2 trimestre","3 trimestre","4 trimestre"]},SI={narrow:["j","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"],wide:["janeiro","fevereiro","maro","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"]},EI={narrow:["D","S","T","Q","Q","S","S"],short:["dom","seg","ter","qua","qui","sex","sab"],abbreviated:["domingo","segunda","tera","quarta","quinta","sexta","sbado"],wide:["domingo","segunda-feira","tera-feira","quarta-feira","quinta-feira","sexta-feira","sbado"]},NI={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"}},CI={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"}},kI=(t,e)=>{const r=Number(t);return(e==null?void 0:e.unit)==="week"?r+"":r+""},PI={ordinalNumber:kI,era:is({values:wI,defaultWidth:"wide"}),quarter:is({values:jI,defaultWidth:"wide",argumentCallback:t=>t-1}),month:is({values:SI,defaultWidth:"wide"}),day:is({values:EI,defaultWidth:"wide"}),dayPeriod:is({values:NI,defaultWidth:"wide",formattingValues:CI,defaultFormattingWidth:"wide"})},TI=/^(\d+)[o]?/i,RI=/\d+/i,AI={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|d\.?\s?c\.?)/i,wide:/^(antes de cristo|depois de cristo)/i},OI={any:[/^ac/i,/^dc/i],wide:[/^antes de cristo/i,/^depois de cristo/i]},MI={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234]()? trimestre/i},LI={any:[/1/i,/2/i,/3/i,/4/i]},II={narrow:/^[jfmajsond]/i,abbreviated:/^(jan|fev|mar|abr|mai|jun|jul|ago|set|out|nov|dez)/i,wide:/^(janeiro|fevereiro|maro|abril|maio|junho|julho|agosto|setembro|outubro|novembro|dezembro)/i},DI={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^fev/i,/^mar/i,/^abr/i,/^mai/i,/^jun/i,/^jul/i,/^ago/i,/^set/i,/^out/i,/^nov/i,/^dez/i]},BI={narrow:/^(dom|[23456]?|s[a]b)/i,short:/^(dom|[23456]?|s[a]b)/i,abbreviated:/^(dom|seg|ter|qua|qui|sex|s[a]b)/i,wide:/^(domingo|(segunda|ter[c]a|quarta|quinta|sexta)([- ]feira)?|s[a]bado)/i},zI={short:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[a]/i],narrow:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[a]/i],any:[/^d/i,/^seg/i,/^t/i,/^qua/i,/^qui/i,/^sex/i,/^s[a]b/i]},$I={narrow:/^(a|p|mn|md|(da) (manh|tarde|noite))/i,any:/^([ap]\.?\s?m\.?|meia[-\s]noite|meio[-\s]dia|(da) (manh|tarde|noite))/i},FI={any:{am:/^a/i,pm:/^p/i,midnight:/^mn|^meia[-\s]noite/i,noon:/^md|^meio[-\s]dia/i,morning:/manh/i,afternoon:/tarde/i,evening:/tarde/i,night:/noite/i}},UI={ordinalNumber:TS({matchPattern:TI,parsePattern:RI,valueCallback:t=>parseInt(t,10)}),era:as({matchPatterns:AI,defaultMatchWidth:"wide",parsePatterns:OI,defaultParseWidth:"any"}),quarter:as({matchPatterns:MI,defaultMatchWidth:"wide",parsePatterns:LI,defaultParseWidth:"any",valueCallback:t=>t+1}),month:as({matchPatterns:II,defaultMatchWidth:"wide",parsePatterns:DI,defaultParseWidth:"any"}),day:as({matchPatterns:BI,defaultMatchWidth:"wide",parsePatterns:zI,defaultParseWidth:"any"}),dayPeriod:as({matchPatterns:$I,defaultMatchWidth:"any",parsePatterns:FI,defaultParseWidth:"any"})},Gs={code:"pt-BR",formatDistance:pI,formatLong:yI,formatRelative:_I,localize:PI,match:UI,options:{weekStartsOn:0,firstWeekContainsDate:1}};var Qd=function(){return Qd=Object.assign||function(e){for(var r,s=1,l=arguments.length;s<l;s++){r=arguments[s];for(var c in r)Object.prototype.hasOwnProperty.call(r,c)&&(e[c]=r[c])}return e},Qd.apply(this,arguments)};var qI=w.createContext(void 0);function WI(){var t=w.useContext(qI);if(!t)throw new Error("useDayPicker must be used within a DayPickerProvider.");return t}w.createContext(void 0);w.forwardRef(function(t,e){var r=WI(),s=r.classNames,l=r.styles,c=[s.button_reset,s.button];t.className&&c.push(t.className);var u=c.join(" "),p=Qd(Qd({},l.button_reset),l.button);return t.style&&Object.assign(p,t.style),n.jsx("button",Qd({},t,{ref:e,type:"button",className:u,style:p}))});w.createContext(void 0);w.createContext(void 0);var fs;(function(t){t.Outside="outside",t.Disabled="disabled",t.Selected="selected",t.Hidden="hidden",t.Today="today",t.RangeStart="range_start",t.RangeEnd="range_end",t.RangeMiddle="range_middle"})(fs||(fs={}));fs.Selected;fs.Disabled;fs.Hidden;fs.Today;fs.RangeEnd;fs.RangeMiddle;fs.RangeStart;fs.Outside;w.createContext(void 0);w.createContext(void 0);w.createContext(void 0);function HI(){const t=Sr(),[e,r]=w.useState("dia"),[s,l]=w.useState(new Date),[c,u]=w.useState(new Date),[p,m]=w.useState(!1),[v,y]=w.useState(""),[x,E]=w.useState("todos"),[S,k]=w.useState({tipo:"SEDEX",cliente:"",remetente:"",numero_requisicao:"",codigo_rastreio:"",valor:"",forma_pagamento:"Aguardando",observacoes:"",data_saida:wt(new Date,"yyyy-MM-dd")}),{data:N}=hn({queryKey:["current-user"],queryFn:async()=>{const{data:{user:$}}=await Le.auth.getUser();if(!$)return null;const{data:re}=await Le.from("usuarios").select("id, nome, email").eq("id",$.id).single();return re}}),P=$=>{const re=$.getFullYear(),U=$.getMonth(),W=new Date(re,U,1),me=new Date(re,U+1,0).getDate(),_e=W.getDay(),q=[];for(let je=0;je<_e;je++)q.push({day:"",isCurrentMonth:!1});for(let je=1;je<=me;je++){const le=new Date(re,U,je);q.push({day:je,isCurrentMonth:!0,isSelected:je===s.getDate()&&U===s.getMonth()&&re===s.getFullYear(),date:le})}return q},{data:O=[],isLoading:T,refetch:R}=hn({queryKey:["sedex-disktenha",e,s],queryFn:async()=>{let $=Le.from("sedex_disktenha").select("*").order("data_saida",{ascending:!1});if(e==="dia"){const W=wt(s,"yyyy-MM-dd");$=$.eq("data_saida",W)}const{data:re,error:U}=await $;if(U)throw U;return re||[]}}),z=O.length,Y=O.filter($=>$.tipo==="SEDEX").length,D=O.filter($=>$.tipo==="PAC").length,J=O.filter($=>$.tipo==="DISKTENHA").length,ne=O.filter($=>$.tipo==="DISKTENHA").reduce(($,re)=>$+(parseFloat(re.valor)||0),0),we=O.filter($=>{var W,be,me,_e;const re=((W=$.cliente)==null?void 0:W.toLowerCase().includes(v.toLowerCase()))||((be=$.codigo_rastreio)==null?void 0:be.toLowerCase().includes(v.toLowerCase()))||((me=$.remetente)==null?void 0:me.toLowerCase().includes(v.toLowerCase()))||((_e=$.numero_requisicao)==null?void 0:_e.toLowerCase().includes(v.toLowerCase())),U=x==="todos"||$.tipo===x;return re&&U}),Z=async()=>{if(!S.cliente||!S.numero_requisicao){Se.error("Preencha os campos obrigatrios");return}try{const{error:$}=await Le.from("sedex_disktenha").insert([{...S,valor:parseFloat(S.valor)||0,status:"Pendente",atendente:(N==null?void 0:N.nome)||"",created_at:new Date().toISOString()}]);if($)throw $;Se.success("Entrega criada com sucesso!"),m(!1),k({tipo:"SEDEX",cliente:"",remetente:"",numero_requisicao:"",codigo_rastreio:"",valor:"",forma_pagamento:"Aguardando",observacoes:"",data_saida:wt(new Date,"yyyy-MM-dd")}),R()}catch($){console.error("Erro ao criar entrega:",$),Se.error("Erro ao criar entrega")}};return n.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100",children:[n.jsx("div",{className:"py-8 shadow-sm",style:{background:"linear-gradient(135deg, #457bba 0%, #890d5d 100%)"},children:n.jsx("div",{className:"max-w-7xl mx-auto px-6",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("button",{onClick:()=>t(-1),className:"p-2 rounded-lg bg-white/20 hover:bg-white/30 transition-colors",children:n.jsx(jr,{className:"w-6 h-6 text-white"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-4xl font-bold text-white",children:"Sedex / Disktenha"}),n.jsx("p",{className:"text-base text-white opacity-90 mt-1",children:"Gerencie entregas via Sedex, PAC e Disktenha"})]})]})})}),n.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-6 flex flex-col lg:flex-row gap-6",children:[n.jsx("div",{className:"w-full lg:w-80 flex-shrink-0",children:n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6 sticky top-6",children:[n.jsxs(pr,{onClick:()=>m(!0),className:"w-full mb-4 py-6 text-base font-bold uppercase",style:{background:"#890d5d"},children:[n.jsx(qf,{className:"w-5 h-5 mr-2 font-bold",strokeWidth:4}),"NOVA ENTREGA"]}),n.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[n.jsxs("button",{onClick:()=>r("dia"),className:"flex-1 flex items-center justify-center gap-2 px-4 py-2 rounded-lg font-semibold text-sm transition-all",style:{backgroundColor:e==="dia"?"#376295":"white",color:e==="dia"?"white":"#64748b",border:e==="dia"?"none":"1px solid #e2e8f0"},children:[n.jsx(Ic,{className:"w-4 h-4"}),"Por Dia"]}),n.jsxs("button",{onClick:()=>{r("todas"),E("todos")},className:"flex-1 flex items-center justify-center gap-2 px-4 py-2 rounded-lg font-semibold text-sm transition-all",style:{backgroundColor:e==="todas"?"#376295":"white",color:e==="todas"?"white":"#64748b",border:e==="todas"?"none":"1px solid #e2e8f0"},children:[n.jsx(Ji,{className:"w-4 h-4"}),"Todos"]})]}),n.jsxs("div",{className:"border rounded-xl p-3 mb-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsx("button",{onClick:()=>{const $=new Date(c);$.setMonth($.getMonth()-1),u($)},className:"p-2 hover:bg-slate-100 rounded-lg transition-colors",children:n.jsx(jr,{className:"w-5 h-5 text-slate-600"})}),n.jsx("span",{className:"text-sm font-semibold text-slate-700",children:c.toLocaleDateString("pt-BR",{month:"long",year:"numeric"}).replace(/^\w/,$=>$.toUpperCase())}),n.jsx("button",{onClick:()=>{const $=new Date(c);$.setMonth($.getMonth()+1),u($)},className:"p-2 hover:bg-slate-100 rounded-lg transition-colors",children:n.jsx(vu,{className:"w-5 h-5 text-slate-600"})})]}),n.jsxs("div",{className:"grid grid-cols-7 gap-1",children:[["dom","seg","ter","qua","qui","sex","sb"].map($=>n.jsx("div",{className:"text-center text-xs font-semibold text-slate-500 py-2",children:$},$)),P(c).map(($,re)=>{var be;if(!$.isCurrentMonth)return n.jsx("div",{className:"aspect-square"},re);const U=$.isSelected,W=((be=$.date)==null?void 0:be.toDateString())===new Date().toDateString();return n.jsx("button",{onClick:()=>{l($.date),r("dia")},className:"aspect-square rounded-lg text-sm font-medium transition-all flex items-center justify-center hover:bg-blue-50",style:{backgroundColor:U?"#376295":"transparent",color:U?"white":W?"#376295":"#1e293b",fontWeight:W||U?"bold":"normal"},children:$.day},re)})]})]}),n.jsxs("div",{className:"text-center pt-4 border-t border-slate-200",children:[n.jsx("div",{className:"text-base font-semibold text-slate-700",children:s.toLocaleDateString("pt-BR",{day:"numeric",month:"long"})}),n.jsxs("div",{className:"text-sm text-slate-500",children:[z," entregas"]})]})]})}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4 mb-6",children:[n.jsx(Xt,{className:"cursor-pointer transition-all hover:shadow-md bg-white rounded-xl shadow-sm",style:{border:x==="todos"?"2px solid #376295":"2px solid transparent"},onClick:()=>E("todos"),children:n.jsxs(ir,{className:"p-5",children:[n.jsxs("div",{className:"flex items-center justify-center gap-2 mb-3",children:[n.jsx("div",{className:"p-2 rounded-lg",style:{backgroundColor:"#E8F0F8"},children:n.jsx(Ji,{className:"w-6 h-6",style:{color:"#376295"}})}),n.jsx("span",{className:"text-sm font-bold text-slate-700",children:"Total"})]}),n.jsx("div",{className:"text-4xl font-bold text-center",style:{color:"#376295"},children:z})]})}),n.jsx(Xt,{className:"cursor-pointer transition-all hover:shadow-md bg-white rounded-xl shadow-sm",style:{border:x==="SEDEX"?"2px solid #890d5d":"2px solid transparent"},onClick:()=>E(x==="SEDEX"?"todos":"SEDEX"),children:n.jsxs(ir,{className:"p-5",children:[n.jsxs("div",{className:"flex items-center justify-center gap-2 mb-3",children:[n.jsx("div",{className:"p-2 rounded-lg",style:{backgroundColor:"#F5E8F5"},children:n.jsx(rb,{className:"w-6 h-6",style:{color:"#890d5d"}})}),n.jsx("span",{className:"text-sm font-bold text-slate-700",children:"Sedex"})]}),n.jsx("div",{className:"text-4xl font-bold text-center",style:{color:"#890d5d"},children:Y})]})}),n.jsx(Xt,{className:"cursor-pointer transition-all hover:shadow-md bg-white rounded-xl shadow-sm",style:{border:x==="PAC"?"2px solid #f97316":"2px solid transparent"},onClick:()=>E(x==="PAC"?"todos":"PAC"),children:n.jsxs(ir,{className:"p-5",children:[n.jsxs("div",{className:"flex items-center justify-center gap-2 mb-3",children:[n.jsx("div",{className:"p-2 rounded-lg",style:{backgroundColor:"#FEF3E8"},children:n.jsx(ao,{className:"w-6 h-6",style:{color:"#f97316"}})}),n.jsx("span",{className:"text-sm font-bold text-slate-700",children:"PAC"})]}),n.jsx("div",{className:"text-4xl font-bold text-center",style:{color:"#f97316"},children:D})]})}),n.jsx(Xt,{className:"cursor-pointer transition-all hover:shadow-md bg-white rounded-xl shadow-sm",style:{border:x==="DISKTENHA"?"2px solid #3dac38":"2px solid transparent"},onClick:()=>E(x==="DISKTENHA"?"todos":"DISKTENHA"),children:n.jsxs(ir,{className:"p-5",children:[n.jsxs("div",{className:"flex items-center justify-center gap-2 mb-3",children:[n.jsx("div",{className:"p-2 rounded-lg",style:{backgroundColor:"#E8F5E8"},children:n.jsx(To,{className:"w-6 h-6",style:{color:"#3dac38"}})}),n.jsx("span",{className:"text-sm font-bold text-slate-700",children:"Disktenha"})]}),n.jsx("div",{className:"text-4xl font-bold text-center",style:{color:"#3dac38"},children:J})]})}),n.jsx(Xt,{className:"cursor-pointer transition-all hover:shadow-md rounded-xl shadow-sm",style:{backgroundColor:"#E8F5E8",border:"3px solid #3dac38"},children:n.jsxs(ir,{className:"p-5",children:[n.jsxs("div",{className:"flex items-center justify-center gap-2 mb-3",children:[n.jsx("div",{className:"p-2 rounded-lg",style:{backgroundColor:"#d1f0d1"},children:n.jsx(Dc,{className:"w-6 h-6",style:{color:"#3dac38"}})}),n.jsx("span",{className:"text-sm font-bold text-slate-700",children:"Total Disktenha"})]}),n.jsxs("div",{className:"text-3xl font-bold text-center",style:{color:"#3dac38"},children:["R$ ",ne.toFixed(2)]})]})})]}),n.jsx(Xt,{children:n.jsx(ir,{className:"p-4",children:n.jsxs("div",{className:"relative",children:[n.jsx(uo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400 w-4 h-4"}),n.jsx(Vt,{placeholder:"Buscar por cliente, cdigo, remetente...",value:v,onChange:$=>y($.target.value),className:"pl-10"})]})})}),n.jsx(Xt,{children:n.jsxs(ir,{className:"p-6",children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:e==="dia"?`Entregas de ${wt(s,"dd 'de' MMMM",{locale:Gs})}`:"Todas as Entregas"}),T?n.jsx("div",{className:"text-center py-8 text-slate-500",children:"Carregando..."}):we.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx(ao,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),n.jsx("p",{className:"text-slate-500",children:"Nenhuma entrega encontrada"})]}):n.jsx("div",{children:we.map($=>n.jsx("div",{onClick:()=>t(`/sedex-detalhes?id=${$.id}`),className:"p-5 mb-4 bg-white rounded-lg border border-slate-200 hover:border-slate-300 transition-all cursor-pointer hover:shadow-md last:mb-0",children:n.jsxs("div",{className:"flex items-center justify-between gap-6",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[n.jsxs("span",{className:"text-base font-semibold",style:{color:"#376295"},children:["#",$.numero_requisicao||"-"]}),$.atendente&&n.jsxs(n.Fragment,{children:[n.jsx("span",{className:"text-slate-400",children:""}),n.jsxs("span",{className:"text-sm font-medium text-slate-600 flex items-center gap-1.5",children:[n.jsx(lo,{className:"w-3.5 h-3.5"}),$.atendente]})]}),n.jsx("span",{className:"text-slate-400",children:""}),n.jsx("span",{className:"px-3 py-1 rounded text-xs font-medium",style:{backgroundColor:$.tipo==="SEDEX"?"#F5E8F5":$.tipo==="PAC"?"#FEF3E8":"#E8F5E8",color:$.tipo==="SEDEX"?"#890d5d":$.tipo==="PAC"?"#f97316":"#3dac38"},children:$.tipo}),n.jsx("span",{className:"px-3 py-1 rounded text-xs font-medium",style:{backgroundColor:$.status==="Entregue"?"#E8F5E8":$.status==="Saiu"?"#FEF3E8":"#F5E8F5",color:$.status==="Entregue"?"#3dac38":$.status==="Saiu"?"#f97316":"#890d5d"},children:$.status})]}),n.jsx("h3",{className:"text-lg font-bold text-slate-900 mb-2",children:$.cliente}),n.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-slate-600",children:[$.codigo_rastreio&&n.jsxs("div",{className:"flex items-center gap-1.5",children:[n.jsx(ao,{className:"w-4 h-4",style:{color:"#1e293b"}}),n.jsx("span",{children:$.codigo_rastreio})]}),$.remetente&&n.jsxs("div",{className:"flex items-center gap-1.5",children:[n.jsx(rb,{className:"w-4 h-4",style:{color:"#1e293b"}}),n.jsx("span",{children:$.remetente})]})]}),$.observacoes&&n.jsx("p",{className:"text-sm text-slate-500 mt-2",children:$.observacoes})]}),n.jsxs("div",{className:"text-right",children:[$.tipo==="DISKTENHA"&&n.jsxs("div",{className:"mb-2",children:[n.jsx("p",{className:"text-xs text-slate-500",children:$.forma_pagamento}),n.jsxs("p",{className:"text-xl font-bold",style:{color:"#3dac38"},children:["R$ ",parseFloat($.valor||0).toFixed(2)]})]}),n.jsx("p",{className:"text-sm text-slate-500",children:wt(Dr($.data_saida),"dd/MM/yyyy")})]})]})},$.id))})]})})]})]}),n.jsx(ds,{open:p,onOpenChange:m,children:n.jsxs(Ao,{className:"max-w-2xl",children:[n.jsx(Oo,{children:n.jsx(Mo,{children:"Cadastrar Nova Entrega"})}),n.jsxs("div",{className:"space-y-4 py-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(kt,{children:"Data e Horrio *"}),n.jsx(Vt,{type:"date",value:S.data_saida,onChange:$=>k({...S,data_saida:$.target.value})})]}),n.jsxs("div",{children:[n.jsx(kt,{children:"Tipo de Entrega *"}),n.jsxs("select",{className:"w-full h-10 rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm",value:S.tipo,onChange:$=>k({...S,tipo:$.target.value}),children:[n.jsx("option",{value:"SEDEX",children:"SEDEX"}),n.jsx("option",{value:"PAC",children:"PAC"}),n.jsx("option",{value:"DISKTENHA",children:"DISKTENHA"})]})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(kt,{children:"Cliente *"}),n.jsx(Vt,{placeholder:"Nome do cliente",value:S.cliente,onChange:$=>k({...S,cliente:$.target.value})})]}),n.jsxs("div",{children:[n.jsx(kt,{children:"Destinatrio"}),n.jsx(Vt,{placeholder:"Nome do destinatrio",value:S.remetente,onChange:$=>k({...S,remetente:$.target.value})})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(kt,{children:"Nmero da Requisio *"}),n.jsx(Vt,{placeholder:"Ex: 123456",value:S.numero_requisicao,onChange:$=>k({...S,numero_requisicao:$.target.value})})]}),n.jsxs("div",{children:[n.jsx(kt,{children:"Cdigo de Rastreio"}),n.jsx(Vt,{placeholder:"Ex: BR123456789BR",value:S.codigo_rastreio,onChange:$=>k({...S,codigo_rastreio:$.target.value})})]})]}),n.jsxs("div",{children:[n.jsx(kt,{children:"Observaes"}),n.jsx(Vf,{placeholder:"Informaes adicionais sobre a entrega",value:S.observacoes,onChange:$=>k({...S,observacoes:$.target.value}),rows:3})]}),n.jsxs("div",{className:S.tipo==="DISKTENHA"?"grid grid-cols-2 gap-4":"",children:[S.tipo==="DISKTENHA"&&n.jsxs("div",{children:[n.jsx(kt,{children:"Valor da Entrega"}),n.jsx(Vt,{type:"number",step:"0.01",placeholder:"0.00",value:S.valor,onChange:$=>k({...S,valor:$.target.value})})]}),n.jsxs("div",{children:[n.jsx(kt,{children:"Status do Pagamento"}),n.jsxs("select",{className:"w-full h-10 rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm",value:S.forma_pagamento,onChange:$=>k({...S,forma_pagamento:$.target.value}),children:[n.jsx("option",{value:"Aguardando",children:"Aguardando"}),n.jsx("option",{value:"Pago",children:"Pago"})]})]})]})]}),n.jsxs("div",{className:"flex justify-end gap-2",children:[n.jsx(pr,{variant:"outline",onClick:()=>m(!1),children:"Cancelar"}),n.jsx(pr,{onClick:Z,style:{background:"linear-gradient(to right, #457bba, #890d5d)"},className:"text-white",children:"Cadastrar"})]})]})})]})}function VI({className:t,...e}){return n.jsx("div",{className:xt("animate-pulse rounded-md bg-primary/10",t),...e})}function GI(){const t=Sr(),e=ho(),s=new URLSearchParams(window.location.search).get("id"),[l,c]=w.useState(!1),[u,p]=w.useState(null),{data:m,isLoading:v,error:y}=hn({queryKey:["sedex-detalhe",s],queryFn:async()=>{if(!s)throw new Error("ID da entrega no fornecido");const{data:T,error:R}=await Le.from("sedex_disktenha").select("*").eq("id",s).single();if(R)throw R;return T},enabled:!!s}),x=Xr({mutationFn:async T=>{const{error:R}=await Le.from("sedex_disktenha").update(T).eq("id",s);if(R)throw R},onSuccess:()=>{e.invalidateQueries({queryKey:["sedex-detalhe",s]}),e.invalidateQueries({queryKey:["sedex-disktenha"]}),Se.success("Entrega atualizada com sucesso!"),c(!1)},onError:T=>{console.error("Erro ao atualizar:",T),Se.error("Erro ao atualizar entrega")}}),E=Xr({mutationFn:async()=>{const{error:T}=await Le.from("sedex_disktenha").delete().eq("id",s);if(T)throw T},onSuccess:()=>{Se.success("Entrega excluda com sucesso!"),t("/sedex")},onError:T=>{console.error("Erro ao excluir:",T),Se.error("Erro ao excluir entrega")}}),S=()=>{p({tipo:m.tipo,cliente:m.cliente,remetente:m.remetente||"",numero_requisicao:m.numero_requisicao||"",codigo_rastreio:m.codigo_rastreio||"",valor:m.valor,forma_pagamento:m.forma_pagamento,observacoes:m.observacoes||"",data_saida:m.data_saida,status:m.status}),c(!0)},k=()=>{if(!u.cliente||!u.numero_requisicao){Se.error("Preencha os campos obrigatrios");return}x.mutate({...u,valor:parseFloat(u.valor)||0})},N=()=>{confirm("Tem certeza que deseja excluir esta entrega?")&&E.mutate()};if(v)return n.jsx("div",{className:"p-8 bg-gradient-to-br from-slate-50 to-slate-100 min-h-screen",children:n.jsx("div",{className:"max-w-5xl mx-auto",children:n.jsx(VI,{className:"h-96 w-full"})})});if(y||!m)return n.jsx("div",{className:"p-8 bg-gradient-to-br from-slate-50 to-slate-100 min-h-screen",children:n.jsx(Xt,{className:"max-w-2xl mx-auto",children:n.jsxs(ir,{className:"p-12 text-center",children:[n.jsx(dn,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),n.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-2",children:"Entrega No Encontrada"}),n.jsx("p",{className:"text-slate-500 mb-4",children:(y==null?void 0:y.message)||"A entrega no foi encontrada."}),n.jsxs(pr,{onClick:()=>t(-1),children:[n.jsx(jr,{className:"w-4 h-4 mr-2"}),"Voltar"]})]})})});const P={SEDEX:{bg:"#F5E8F5",text:"#890d5d"},PAC:{bg:"#FEF3E8",text:"#f97316"},DISKTENHA:{bg:"#E8F5E8",text:"#3dac38"}},O=P[m.tipo]||P.SEDEX;return m.forma_pagamento==="Pago"||m.forma_pagamento,n.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100",children:[n.jsx("div",{className:"py-8 shadow-sm mb-6",style:{background:"linear-gradient(135deg, #457bba 0%, #890d5d 100%)"},children:n.jsx("div",{className:"max-w-5xl mx-auto px-6",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("button",{onClick:()=>t(-1),className:"p-2 rounded-lg bg-white/20 hover:bg-white/30 transition-colors",children:n.jsx(jr,{className:"w-6 h-6 text-white"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-4xl font-bold text-white",children:"Detalhes da Entrega"}),n.jsx("p",{className:"text-base text-white opacity-90 mt-1",children:"Visualizao completa da entrega"})]})]})})}),n.jsxs("div",{className:"max-w-5xl mx-auto px-6 pb-6 space-y-6",children:[n.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[n.jsxs("div",{children:[n.jsxs("h1",{className:"text-2xl font-bold text-slate-900",children:[m.tipo," #",m.numero_requisicao||m.codigo_rastreio]}),n.jsxs("p",{className:"text-sm text-slate-600 mt-1",children:["Criado em ",wt(Dr(m.created_at),"dd/MM/yyyy 's' HH:mm",{locale:Gs})]})]}),n.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[n.jsxs("button",{onClick:S,className:"flex items-center gap-2 px-4 py-2 rounded-lg font-semibold text-sm transition-all",style:{backgroundColor:"#376295",color:"white"},children:[n.jsx(Wf,{size:16}),"Editar"]}),n.jsxs("button",{onClick:()=>window.print(),className:"flex items-center gap-2 px-4 py-2 rounded-lg font-semibold text-sm transition-all",style:{backgroundColor:"#890d5d",color:"white"},children:[n.jsx(xu,{size:16}),"Imprimir"]}),n.jsxs("button",{onClick:N,className:"flex items-center gap-2 px-4 py-2 rounded-lg font-semibold text-sm transition-all",style:{backgroundColor:"#ef4444",color:"white"},children:[n.jsx(Bc,{size:16}),"Excluir"]})]})]})}),n.jsx(Xt,{children:n.jsxs(ir,{className:"p-6",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[n.jsx(dn,{className:"w-5 h-5",style:{color:"#376295"}}),n.jsx("h2",{className:"text-lg font-semibold",children:"Informaes da Entrega"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-slate-500 mb-1",children:"Nmero da Requisio"}),n.jsxs("p",{className:"text-xl font-bold",style:{color:"#376295"},children:["#",m.numero_requisicao||"-"]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-slate-500 mb-1",children:"Tipo"}),n.jsx("span",{className:"inline-block px-3 py-1 rounded-md font-medium text-sm",style:{background:O.bg,color:O.text},children:m.tipo})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-slate-500 mb-1",children:"Status"}),n.jsx("span",{className:"inline-block px-3 py-1 rounded-md font-medium text-sm",style:{backgroundColor:m.status==="Entregue"?"#E8F5E8":m.status==="Saiu"?"#FEF3E8":"#F5E8F5",color:m.status==="Entregue"?"#3dac38":m.status==="Saiu"?"#f97316":"#890d5d"},children:m.status})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-slate-500 mb-1",children:"Data de Postagem"}),n.jsx("p",{className:"font-semibold text-slate-900",children:wt(Dr(m.data_saida),"dd/MM/yyyy")})]})]}),n.jsx("div",{className:"border-t pt-6",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-slate-500 mb-1",children:"Cliente"}),n.jsx("p",{className:"text-lg font-medium text-slate-900",children:m.cliente})]}),m.remetente&&n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-slate-500 mb-1",children:"Destinatrio"}),n.jsx("p",{className:"text-lg font-medium text-slate-900",children:m.remetente})]}),m.codigo_rastreio&&n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-slate-500 mb-1",children:"Cdigo de Rastreio"}),n.jsx("p",{className:"text-lg font-medium text-slate-900",children:m.codigo_rastreio})]}),m.atendente&&n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-slate-500 mb-1",children:"Atendente"}),n.jsxs("p",{className:"text-lg font-medium text-slate-900 flex items-center gap-2",children:[n.jsx(lo,{className:"w-4 h-4",style:{color:"#376295"}}),m.atendente]})]})]})}),m.tipo==="DISKTENHA"&&n.jsx("div",{className:"border-t pt-6 mt-6",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Dc,{className:"w-5 h-5",style:{color:"#3dac38"}}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-slate-500 mb-1",children:"A Pagar"}),n.jsxs("p",{className:"text-2xl font-bold",style:{color:"#3dac38"},children:["R$ ",parseFloat(m.valor||0).toFixed(2)]})]})]})}),m.observacoes&&n.jsxs("div",{className:"border-t pt-6 mt-6",children:[n.jsx("p",{className:"text-sm text-slate-500 mb-2",children:"Observaes"}),n.jsx("div",{className:"p-3 bg-slate-50 rounded-lg",children:n.jsx("p",{className:"text-slate-700",children:m.observacoes})})]})]})})]}),n.jsx(ds,{open:l,onOpenChange:c,children:n.jsxs(Ao,{className:"max-w-2xl",children:[n.jsx(Oo,{children:n.jsx(Mo,{children:"Editar Entrega"})}),u&&n.jsxs("div",{className:"space-y-4 py-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(kt,{children:"Tipo *"}),n.jsxs("select",{className:"w-full h-10 rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm",value:u.tipo,onChange:T=>p({...u,tipo:T.target.value}),children:[n.jsx("option",{value:"SEDEX",children:"SEDEX"}),n.jsx("option",{value:"PAC",children:"PAC"}),n.jsx("option",{value:"DISKTENHA",children:"DISKTENHA"})]})]}),n.jsxs("div",{children:[n.jsx(kt,{children:"Status *"}),n.jsxs("select",{className:"w-full h-10 rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm",value:u.status,onChange:T=>p({...u,status:T.target.value}),children:[n.jsx("option",{value:"Pendente",children:"Pendente"}),n.jsx("option",{value:"Saiu",children:"Saiu"}),n.jsx("option",{value:"Entregue",children:"Entregue"})]})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(kt,{children:"Cliente *"}),n.jsx(Vt,{value:u.cliente,onChange:T=>p({...u,cliente:T.target.value})})]}),n.jsxs("div",{children:[n.jsx(kt,{children:"Destinatrio"}),n.jsx(Vt,{value:u.remetente,onChange:T=>p({...u,remetente:T.target.value})})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(kt,{children:"Nmero da Requisio *"}),n.jsx(Vt,{placeholder:"Ex: 123456",value:u.numero_requisicao,onChange:T=>p({...u,numero_requisicao:T.target.value})})]}),n.jsxs("div",{children:[n.jsx(kt,{children:"Cdigo de Rastreio"}),n.jsx(Vt,{placeholder:"Ex: BR123456789BR",value:u.codigo_rastreio,onChange:T=>p({...u,codigo_rastreio:T.target.value})})]})]}),n.jsxs("div",{className:u.tipo==="DISKTENHA"?"grid grid-cols-2 gap-4":"",children:[u.tipo==="DISKTENHA"&&n.jsxs("div",{children:[n.jsx(kt,{children:"Valor"}),n.jsx(Vt,{type:"number",step:"0.01",value:u.valor,onChange:T=>p({...u,valor:T.target.value})})]}),n.jsxs("div",{children:[n.jsx(kt,{children:"Status do Pagamento"}),n.jsxs("select",{className:"w-full h-10 rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm",value:u.forma_pagamento,onChange:T=>p({...u,forma_pagamento:T.target.value}),children:[n.jsx("option",{value:"Aguardando",children:"Aguardando"}),n.jsx("option",{value:"Pago",children:"Pago"})]})]})]}),n.jsxs("div",{children:[n.jsx(kt,{children:"Data de Sada"}),n.jsx(Vt,{type:"date",value:u.data_saida,onChange:T=>p({...u,data_saida:T.target.value})})]}),n.jsxs("div",{children:[n.jsx(kt,{children:"Observaes"}),n.jsx(Vf,{value:u.observacoes,onChange:T=>p({...u,observacoes:T.target.value}),rows:3})]}),n.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[n.jsx(pr,{variant:"outline",onClick:()=>c(!1),children:"Cancelar"}),n.jsx(pr,{onClick:k,disabled:x.isPending,style:{background:"#457bba"},className:"text-white",children:x.isPending?"Salvando...":"Salvar Alteraes"})]})]})]})})]})}function KI(){const t=Sr(),e=new URLSearchParams(window.location.search),r=e.get("data"),[s,l]=w.useState(r||wt(new Date,"yyyy-MM-dd")),[c,u]=w.useState(e.get("status")||"todos"),[p,m]=w.useState(e.get("local")||"todos"),[v,y]=w.useState(e.get("motoboy")||"todos"),[x,E]=w.useState(e.get("periodo")||"todos"),[S,k]=w.useState(e.get("busca")||""),{data:N=[],isLoading:P,error:O}=hn({queryKey:["entregas-relatorio"],queryFn:async()=>{const{data:$,error:re}=await Le.from("entregas").select(`
          *,
          cliente:clientes(nome, telefone),
          endereco:enderecos(cidade, regiao),
          motoboy:motoboys(nome)
        `).order("data_entrega",{ascending:!0});if(re)throw re;return $||[]}});if(P)return n.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-br from-slate-50 to-slate-100",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"w-16 h-16 border-4 border-slate-300 rounded-full animate-spin mx-auto mb-4",style:{borderTopColor:"#376295"}}),n.jsx("p",{className:"text-slate-600 font-medium",children:"Carregando relatrio..."})]})});if(O)return n.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-br from-slate-50 to-slate-100",children:n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-red-600 font-semibold mb-2",children:"Erro ao carregar relatrio"}),n.jsx("p",{className:"text-slate-500 text-sm",children:O.message})]})});const T=N.filter($=>{var U,W,be,me,_e,q,je;if(!$.data_entrega)return!1;const re=Dr($.data_entrega);if(!un(re,Dr(s))||c!=="todos"&&$.status!==c||p!=="todos"&&((U=$.endereco)==null?void 0:U.regiao)!==p||v!=="todos"&&((W=$.motoboy)==null?void 0:W.nome)!==v||x!=="todos"&&$.periodo_entrega!==x)return!1;if(S){const le=S.toLowerCase();if(!(((me=(be=$.cliente)==null?void 0:be.nome)==null?void 0:me.toLowerCase().includes(le))||((_e=$.requisicao)==null?void 0:_e.toLowerCase().includes(le))||((je=(q=$.motoboy)==null?void 0:q.nome)==null?void 0:je.toLowerCase().includes(le))))return!1}return!0}),R=[...new Set(N.filter($=>$.data_entrega&&un(Dr($.data_entrega),Dr(s))).map($=>{var re;return(re=$.endereco)==null?void 0:re.regiao}))].filter(Boolean).sort(),z=[...new Set(N.filter($=>$.data_entrega&&un(Dr($.data_entrega),Dr(s))).map($=>{var re;return(re=$.motoboy)==null?void 0:re.nome}))].filter(Boolean).sort(),Y=T.reduce(($,re)=>{var W;const U=((W=re.endereco)==null?void 0:W.regiao)||"Sem regio";return $[U]||($[U]=[]),$[U].push(re),$},{});Object.keys(Y).forEach($=>{Y[$].sort((re,U)=>re.periodo_entrega!==U.periodo_entrega?re.periodo_entrega==="Manh"?-1:1:0)});const D={Pendente:T.filter($=>$.status==="Pendente"),"Produzindo no Laboratrio":T.filter($=>$.status==="Produzindo no Laboratrio"),"Preparando no Setor de Entregas":T.filter($=>$.status==="Preparando no Setor de Entregas"),"A Caminho":T.filter($=>$.status==="A Caminho"),Entregue:T.filter($=>$.status==="Entregue"),"No Entregue":T.filter($=>$.status==="No Entregue"),Voltou:T.filter($=>$.status==="Voltou"),Cancelado:T.filter($=>$.status==="Cancelado")},J={Manh:T.filter($=>$.periodo_entrega==="Manh"),Tarde:T.filter($=>$.periodo_entrega==="Tarde")},ne=T.reduce(($,re)=>{var W;const U=((W=re.motoboy)==null?void 0:W.nome)||"Sem motoboy";return $[U]||($[U]=[]),$[U].push(re),$},{}),we=()=>{window.print()},Z=({status:$})=>{const re={Pendente:{bgColor:"#F5E8F5",textColor:"#890d5d",label:"Pendente"},"Produzindo no Laboratrio":{bgColor:"#F5E8F5",textColor:"#890d5d",label:"Produo"},"Preparando no Setor de Entregas":{bgColor:"#FEF3E8",textColor:"#f97316",label:"Preparando"},"A Caminho":{bgColor:"#FEF3E8",textColor:"#f97316",label:"A Caminho"},Entregue:{bgColor:"#E8F5E8",textColor:"#3dac38",label:"Entregue"},"No Entregue":{bgColor:"#fef2f2",textColor:"#ef4444",label:"No Entregue"},Voltou:{bgColor:"#FEF3E8",textColor:"#f97316",label:"Voltou"},Cancelado:{bgColor:"#f1f5f9",textColor:"#64748b",label:"Cancelado"}},U=re[$]||re.Pendente;return n.jsxs(rs,{className:"text-xs flex items-center gap-1",style:{backgroundColor:U.bgColor,color:U.textColor},children:[$==="Entregue"?n.jsx(Xi,{className:"w-3 h-3"}):n.jsx(To,{className:"w-3 h-3"})," ",U.label]})};return n.jsxs(n.Fragment,{children:[n.jsx("style",{children:`
        @media print {
          * {
            visibility: hidden !important;
          }
          .print-wrapper,
          .print-wrapper * {
            visibility: visible !important;
          }
          .print-wrapper {
            position: absolute !important;
            left: 0 !important;
            top: 0 !important;
            width: 100% !important;
          }
          .no-print {
            display: none !important;
          }
          body {
            background: white;
          }
        }
      `}),n.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100",children:[n.jsx("div",{className:"py-8 shadow-sm no-print",style:{background:"linear-gradient(135deg, #457bba 0%, #890d5d 100%)"},children:n.jsx("div",{className:"max-w-7xl mx-auto px-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("button",{onClick:()=>t(-1),className:"p-2 rounded-lg bg-white/20 hover:bg-white/30 transition-colors",children:n.jsx(jr,{className:"w-6 h-6 text-white"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-4xl font-bold text-white",children:"Relatrio de Entregas"}),n.jsx("p",{className:"text-base text-white opacity-90 mt-1",children:"Visualizao completa das entregas do dia"})]})]}),n.jsxs("button",{onClick:we,className:"px-4 py-2 bg-white/20 hover:bg-white/30 text-white rounded-lg transition-colors flex items-center gap-2 font-medium",children:[n.jsx(xu,{className:"w-4 h-4"}),"Imprimir (",T.length,")"]})]})})}),n.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-6 space-y-6",children:[n.jsxs(Xt,{className:"border-none shadow-lg no-print",children:[n.jsx(Ws,{children:n.jsx(Hs,{children:"Filtros e Busca"})}),n.jsxs(ir,{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-slate-700 mb-2 block",children:"Dados"}),n.jsx(Vt,{type:"date",value:s,onChange:$=>l($.target.value),className:"max-w-xs"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-slate-700 mb-2 block",children:"Buscar"}),n.jsxs("div",{className:"relative",children:[n.jsx(uo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400 w-4 h-4"}),n.jsx(Vt,{placeholder:"Buscar por cliente, requisio ou motoboy...",value:S,onChange:$=>k($.target.value),className:"pl-10"})]})]}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-slate-700 mb-2 block",children:"Status"}),n.jsxs(Ua,{value:c,onValueChange:u,children:[n.jsx(Ki,{children:n.jsx(qa,{placeholder:"Todos"})}),n.jsxs(Zi,{children:[n.jsx(sr,{value:"todos",children:"Todos"}),n.jsx(sr,{value:"Pendente",children:"Pendente"}),n.jsx(sr,{value:"Produzindo no Laboratrio",children:"Produo"}),n.jsx(sr,{value:"Preparando no Setor de Entregas",children:"Preparando"}),n.jsx(sr,{value:"A Caminho",children:"A Caminho"}),n.jsx(sr,{value:"Entregue",children:"Entregue"}),n.jsx(sr,{value:"No Entregue",children:"No Entregue"}),n.jsx(sr,{value:"Voltou",children:"Voltou"}),n.jsx(sr,{value:"Cancelado",children:"Cancelado"})]})]},`status-${c}`)]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-slate-700 mb-2 block",children:"Local"}),n.jsxs(Ua,{value:p,onValueChange:m,children:[n.jsx(Ki,{children:n.jsx(qa,{placeholder:"Todos"})}),n.jsxs(Zi,{children:[n.jsx(sr,{value:"todos",children:"Todos"}),R.map($=>n.jsx(sr,{value:$,children:$},$))]})]},`local-${p}`)]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-slate-700 mb-2 block",children:"Motoboy"}),n.jsxs(Ua,{value:v,onValueChange:y,children:[n.jsx(Ki,{children:n.jsx(qa,{placeholder:"Todos"})}),n.jsxs(Zi,{children:[n.jsx(sr,{value:"todos",children:"Todos"}),z.map($=>n.jsx(sr,{value:$,children:$},$))]})]},`motoboy-${v}`)]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-slate-700 mb-2 block",children:"Perodo"}),n.jsxs(Ua,{value:x,onValueChange:E,children:[n.jsx(Ki,{children:n.jsx(qa,{placeholder:"Todos"})}),n.jsxs(Zi,{children:[n.jsx(sr,{value:"todos",children:"Todos"}),n.jsx(sr,{value:"Manh",children:"Manh"}),n.jsx(sr,{value:"Tarde",children:"Tarde"})]})]},`periodo-${x}`)]})]})]})]}),n.jsxs("div",{className:"print-wrapper",children:[n.jsx("div",{className:"text-white p-6 rounded-lg mb-6",style:{background:"linear-gradient(135deg, #457bba 0%, #890d5d 100%)"},children:n.jsxs("h2",{className:"text-2xl font-bold",children:["Relatrio do Dia ",wt(Dr(s),"dd/MM/yyyy")]})}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[n.jsx(Xt,{className:"cursor-pointer hover:shadow-xl transition-all",style:{border:c==="todos"?"2px solid #376295":"2px solid transparent"},onClick:()=>u("todos"),children:n.jsxs(ir,{className:"p-6",children:[n.jsx("p",{className:"text-sm text-slate-600 mb-1",children:"Total"}),n.jsx("p",{className:"text-4xl font-bold",style:{color:"#376295"},children:T.length})]})}),n.jsx(Xt,{className:"cursor-pointer hover:shadow-xl transition-all",style:{border:c==="Entregue"?"2px solid #3dac38":"2px solid transparent"},onClick:()=>u(c==="Entregue"?"todos":"Entregue"),children:n.jsxs(ir,{className:"p-6",children:[n.jsx("p",{className:"text-sm text-slate-600 mb-1",children:"Entregues"}),n.jsx("p",{className:"text-4xl font-bold",style:{color:"#3dac38"},children:D.Entregue.length})]})}),n.jsx(Xt,{className:"cursor-pointer hover:shadow-xl transition-all",style:{border:c==="A Caminho"?"2px solid #f97316":"2px solid transparent"},onClick:()=>u(c==="A Caminho"?"todos":"A Caminho"),children:n.jsxs(ir,{className:"p-6",children:[n.jsx("p",{className:"text-sm text-slate-600 mb-1",children:"A Caminho"}),n.jsx("p",{className:"text-4xl font-bold",style:{color:"#f97316"},children:D["A Caminho"].length})]})}),n.jsx(Xt,{className:"cursor-pointer hover:shadow-xl transition-all",style:{border:c==="Pendente"?"2px solid #890d5d":"2px solid transparent"},onClick:()=>u(c==="Pendente"?"todos":"Pendente"),children:n.jsxs(ir,{className:"p-6",children:[n.jsx("p",{className:"text-sm text-slate-600 mb-1",children:"Pendente"}),n.jsx("p",{className:"text-4xl font-bold",style:{color:"#890d5d"},children:D.Pendente.length})]})})]}),n.jsxs(Xt,{className:"mb-6",children:[n.jsx(Ws,{children:n.jsx(Hs,{children:"Entregas por Local"})}),n.jsx(ir,{children:n.jsx("div",{className:"space-y-4",children:Object.entries(Y).sort(($,re)=>$[0].localeCompare(re[0])).map(([$,re])=>n.jsxs("div",{className:"border rounded-lg p-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3 pb-2 border-b",children:[n.jsx("h3",{className:"font-bold text-slate-900",children:$}),n.jsx(rs,{variant:"outline",children:re.length})]}),re.filter(U=>U.periodo_entrega==="Manh").length>0&&n.jsxs("div",{className:"mb-3",children:[n.jsxs("p",{className:"text-sm font-semibold text-slate-700 mb-2 flex items-center gap-1",children:[n.jsx(Dv,{className:"w-4 h-4"})," Manh"]}),n.jsx("div",{className:"space-y-2 pl-4",children:re.filter(U=>U.periodo_entrega==="Manh").map(U=>{var W;return n.jsxs(qs,{to:`/detalhes-romaneio?id=${U.id}`,className:"flex justify-between items-center text-sm py-2 hover:bg-slate-50 rounded px-2 transition-colors",children:[n.jsxs("span",{className:"text-slate-700",children:["# ",U.requisicao," - ",((W=U.cliente)==null?void 0:W.nome)||U.cliente_nome]}),n.jsxs("div",{className:"flex items-center gap-2",children:[U.valor&&n.jsxs(rs,{style:{backgroundColor:"#E8F0F8",color:"#376295"},children:["R$ ",U.valor.toFixed(2)]}),n.jsx(Z,{status:U.status})]})]},U.id)})})]}),re.filter(U=>U.periodo_entrega==="Tarde").length>0&&n.jsxs("div",{children:[n.jsxs("p",{className:"text-sm font-semibold text-slate-700 mb-2 flex items-center gap-1",children:[n.jsx(HR,{className:"w-4 h-4"})," Tarde"]}),n.jsx("div",{className:"space-y-2 pl-4",children:re.filter(U=>U.periodo_entrega==="Tarde").map(U=>{var W;return n.jsxs(qs,{to:`/detalhes-romaneio?id=${U.id}`,className:"flex justify-between items-center text-sm py-2 hover:bg-slate-50 rounded px-2 transition-colors",children:[n.jsxs("span",{className:"text-slate-700",children:["# ",U.requisicao," - ",((W=U.cliente)==null?void 0:W.nome)||U.cliente_nome]}),n.jsxs("div",{className:"flex items-center gap-2",children:[U.valor&&n.jsxs(rs,{style:{backgroundColor:"#E8F0F8",color:"#376295"},children:["R$ ",U.valor.toFixed(2)]}),n.jsx(Z,{status:U.status})]})]},U.id)})})]})]},$))})})]}),n.jsxs(Xt,{className:"mb-6",children:[n.jsx(Ws,{children:n.jsx(Hs,{children:"Entregas por Status"})}),n.jsx(ir,{children:n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Object.entries(D).map(([$,re])=>re.length>0&&n.jsxs("div",{className:"border rounded-lg p-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsx("h3",{className:"font-semibold text-slate-900",children:$}),n.jsx(rs,{variant:"outline",children:re.length})]}),n.jsx("div",{className:"space-y-2",children:re.map(U=>{var W;return n.jsxs(qs,{to:`/detalhes-romaneio?id=${U.id}`,className:"block text-sm text-slate-700 hover:bg-slate-50 rounded px-2 py-1 transition-colors",style:{"--hover-color":"#376295"},onMouseEnter:be=>be.currentTarget.style.color="#376295",onMouseLeave:be=>be.currentTarget.style.color="",children:["# ",U.requisicao," - ",((W=U.cliente)==null?void 0:W.nome)||U.cliente_nome]},U.id)})})]},$))})})]}),n.jsxs(Xt,{className:"mb-6",children:[n.jsx(Ws,{children:n.jsx(Hs,{children:"Entregas por Motoboy"})}),n.jsx(ir,{children:n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Object.entries(ne).map(([$,re])=>n.jsxs("div",{className:"border rounded-lg p-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsx("h3",{className:"font-semibold text-slate-900",children:$}),n.jsx(rs,{variant:"outline",children:re.length})]}),n.jsx("div",{className:"space-y-2",children:re.map(U=>{var W;return n.jsxs(qs,{to:`/detalhes-romaneio?id=${U.id}`,className:"flex justify-between items-center text-sm hover:bg-slate-50 rounded px-2 py-1 transition-colors",children:[n.jsxs("span",{className:"text-slate-700",onMouseEnter:be=>be.currentTarget.style.color="#376295",onMouseLeave:be=>be.currentTarget.style.color="",children:["# ",U.requisicao," - ",((W=U.cliente)==null?void 0:W.nome)||U.cliente_nome]}),n.jsx(Z,{status:U.status})]},U.id)})})]},$))})})]}),n.jsxs(Xt,{children:[n.jsx(Ws,{children:n.jsx(Hs,{children:"Entregas por Perodo"})}),n.jsx(ir,{children:n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Object.entries(J).map(([$,re])=>n.jsxs("div",{className:"border rounded-lg p-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsx("h3",{className:"font-semibold text-slate-900",children:$}),n.jsx(rs,{variant:"outline",children:re.length})]}),n.jsx("div",{className:"space-y-2",children:re.map(U=>{var W;return n.jsxs(qs,{to:`/detalhes-romaneio?id=${U.id}`,className:"flex justify-between items-center text-sm hover:bg-slate-50 rounded px-2 py-1 transition-colors",children:[n.jsxs("span",{className:"text-slate-700",onMouseEnter:be=>be.currentTarget.style.color="#376295",onMouseLeave:be=>be.currentTarget.style.color="",children:["# ",U.requisicao," - ",((W=U.cliente)==null?void 0:W.nome)||U.cliente_nome]}),n.jsx(Z,{status:U.status})]},U.id)})})]},$))})})]})]})]})]})]})}var rm="Checkbox",[ZI]=Lc(rm),[QI,tx]=ZI(rm);function JI(t){const{__scopeCheckbox:e,checked:r,children:s,defaultChecked:l,disabled:c,form:u,name:p,onCheckedChange:m,required:v,value:y="on",internal_do_not_use_render:x}=t,[E,S]=Nf({prop:r,defaultProp:l??!1,onChange:m,caller:rm}),[k,N]=w.useState(null),[P,O]=w.useState(null),T=w.useRef(!1),R=k?!!u||!!k.closest("form"):!0,z={checked:E,disabled:c,setChecked:S,control:k,setControl:N,name:p,form:u,value:y,hasConsumerStoppedPropagationRef:T,required:v,defaultChecked:Yi(l)?!1:l,isFormControl:R,bubbleInput:P,setBubbleInput:O};return n.jsx(QI,{scope:e,...z,children:YI(x)?x(z):s})}var MS="CheckboxTrigger",LS=w.forwardRef(({__scopeCheckbox:t,onKeyDown:e,onClick:r,...s},l)=>{const{control:c,value:u,disabled:p,checked:m,required:v,setControl:y,setChecked:x,hasConsumerStoppedPropagationRef:E,isFormControl:S,bubbleInput:k}=tx(MS,t),N=Qt(l,y),P=w.useRef(m);return w.useEffect(()=>{const O=c==null?void 0:c.form;if(O){const T=()=>x(P.current);return O.addEventListener("reset",T),()=>O.removeEventListener("reset",T)}},[c,x]),n.jsx(Ot.button,{type:"button",role:"checkbox","aria-checked":Yi(m)?"mixed":m,"aria-required":v,"data-state":$S(m),"data-disabled":p?"":void 0,disabled:p,value:u,...s,ref:N,onKeyDown:zt(e,O=>{O.key==="Enter"&&O.preventDefault()}),onClick:zt(r,O=>{x(T=>Yi(T)?!0:!T),k&&S&&(E.current=O.isPropagationStopped(),E.current||O.stopPropagation())})})});LS.displayName=MS;var rx=w.forwardRef((t,e)=>{const{__scopeCheckbox:r,name:s,checked:l,defaultChecked:c,required:u,disabled:p,value:m,onCheckedChange:v,form:y,...x}=t;return n.jsx(JI,{__scopeCheckbox:r,checked:l,defaultChecked:c,disabled:p,required:u,onCheckedChange:v,name:s,form:y,value:m,internal_do_not_use_render:({isFormControl:E})=>n.jsxs(n.Fragment,{children:[n.jsx(LS,{...x,ref:e,__scopeCheckbox:r}),E&&n.jsx(zS,{__scopeCheckbox:r})]})})});rx.displayName=rm;var IS="CheckboxIndicator",DS=w.forwardRef((t,e)=>{const{__scopeCheckbox:r,forceMount:s,...l}=t,c=tx(IS,r);return n.jsx(gu,{present:s||Yi(c.checked)||c.checked===!0,children:n.jsx(Ot.span,{"data-state":$S(c.checked),"data-disabled":c.disabled?"":void 0,...l,ref:e,style:{pointerEvents:"none",...t.style}})})});DS.displayName=IS;var BS="CheckboxBubbleInput",zS=w.forwardRef(({__scopeCheckbox:t,...e},r)=>{const{control:s,hasConsumerStoppedPropagationRef:l,checked:c,defaultChecked:u,required:p,disabled:m,name:v,value:y,form:x,bubbleInput:E,setBubbleInput:S}=tx(BS,t),k=Qt(r,S),N=pj(c),P=oj(s);w.useEffect(()=>{const T=E;if(!T)return;const R=window.HTMLInputElement.prototype,Y=Object.getOwnPropertyDescriptor(R,"checked").set,D=!l.current;if(N!==c&&Y){const J=new Event("click",{bubbles:D});T.indeterminate=Yi(c),Y.call(T,Yi(c)?!1:c),T.dispatchEvent(J)}},[E,N,c,l]);const O=w.useRef(Yi(c)?!1:c);return n.jsx(Ot.input,{type:"checkbox","aria-hidden":!0,defaultChecked:u??O.current,required:p,disabled:m,name:v,value:y,form:x,...e,tabIndex:-1,ref:k,style:{...e.style,...P,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});zS.displayName=BS;function YI(t){return typeof t=="function"}function Yi(t){return t==="indeterminate"}function $S(t){return Yi(t)?"indeterminate":t?"checked":"unchecked"}const XI=w.forwardRef(({className:t,...e},r)=>n.jsx(rx,{ref:r,className:xt("peer h-4 w-4 shrink-0 rounded-sm border border-primary shadow focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...e,children:n.jsx(DS,{className:xt("flex items-center justify-center text-current"),children:n.jsx(Xi,{className:"h-4 w-4"})})}));XI.displayName=rx.displayName;function eD(){var pe;const t=Sr(),e=ho(),[r,s]=w.useState(new Date),[l,c]=w.useState(new Date),[u,p]=w.useState(!1),[m,v]=w.useState(""),[y,x]=w.useState("todos"),[E,S]=w.useState(!1),[k,N]=w.useState(null),[P,O]=w.useState(""),[T,R]=w.useState(""),[z,Y]=w.useState(null),[D,J]=w.useState(!1),{data:ne=[],isLoading:we,error:Z,refetch:$}=hn({queryKey:["receitas"],queryFn:async()=>{const{data:ie,error:Pe}=await Le.from("entregas").select(`
          *,
          cliente:clientes(nome, telefone, cpf),
          endereco:enderecos(cidade, regiao),
          motoboy:motoboys(nome)
        `).eq("buscar_receita",!0).order("data_entrega",{ascending:!1});if(Pe)throw Pe;return ie||[]},refetchOnMount:"always",refetchOnWindowFocus:"always",refetchOnReconnect:"always",staleTime:0,gcTime:0,retry:1,retryDelay:1e3});if(w.useEffect(()=>{e.invalidateQueries({queryKey:["receitas"]})},[e]),w.useEffect(()=>{Z&&Se.error("Erro ao carregar receitas: "+Z.message)},[Z]),we)return n.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-br from-slate-50 to-slate-100",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"w-16 h-16 border-4 border-slate-300 border-t-[#457bba] rounded-full animate-spin mx-auto mb-4"}),n.jsx("p",{className:"text-slate-600 font-medium",children:"Carregando receitas..."})]})});const re=async()=>{if(!z||!P||!k){Se.error("Por favor, preencha todos os campos obrigatrios");return}J(!0);try{const ie=z.name.split(".").pop(),Me=`anexos/${`${k.id}_${P}_${Date.now()}.${ie}`}`,{error:$e,data:Ie}=await Le.storage.from("entregas-anexos").upload(Me,z);if($e)throw $e;const{data:{publicUrl:nt}}=Le.storage.from("entregas-anexos").getPublicUrl(Me),it={[`${P.toLowerCase()}_anexo`]:nt,[`${P.toLowerCase()}_descricao`]:T||null},{error:Lt}=await Le.from("entregas").update(it).eq("id",k.id);if(Lt)throw Lt;Se.success("Anexo enviado com sucesso!"),e.invalidateQueries(["receitas"]),S(!1),O(""),R(""),Y(null),N(null),P==="Receita"||P==="Pagamento"&&t("/pagamentos")}catch(ie){console.error("Erro ao fazer upload:",ie),Se.error("Erro ao enviar anexo: "+ie.message)}finally{J(!1)}},U=ie=>{N(ie),S(!0)},W=ne.filter(ie=>{var Pe,Me,$e,Ie,nt,it,Lt,$t,Pt;if(!u&&l&&ie.data_entrega){const _t=Dr(ie.data_entrega);if(!un(_t,l))return!1}if(y==="pendentes"&&ie.receita_anexo||y==="recebidas"&&!ie.receita_anexo)return!1;if(m){const _t=m.toLowerCase();if(!(((Pe=ie.requisicao)==null?void 0:Pe.toLowerCase().includes(_t))||(($e=(Me=ie.cliente)==null?void 0:Me.nome)==null?void 0:$e.toLowerCase().includes(_t))||((nt=(Ie=ie.cliente)==null?void 0:Ie.telefone)==null?void 0:nt.toLowerCase().includes(_t))||((Lt=(it=ie.cliente)==null?void 0:it.cpf)==null?void 0:Lt.toLowerCase().includes(_t))||(($t=ie.cliente_nome)==null?void 0:$t.toLowerCase().includes(_t))||((Pt=ie.cliente_telefone)==null?void 0:Pt.toLowerCase().includes(_t))))return!1}return!0}),be=ne.filter(ie=>!ie.receita_anexo).length,me=ne.filter(ie=>ie.receita_anexo).length,_e=ne.reduce((ie,Pe)=>{if(Pe.data_entrega)try{const Me=Dr(Pe.data_entrega),$e=wt(Me,"yyyy-MM-dd");ie[$e]=(ie[$e]||0)+1}catch{console.error("Erro ao processar data:",Pe.data_entrega)}return ie},{}),q=ou(r),je=Yv(r),le=Xv({start:q,end:je}),A=q.getDay(),V=[...Array(A).fill(null),...le],F=ie=>{c(ie),u&&p(!1)},ce=()=>s(ex(r)),xe=()=>s(em(r,1));return n.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100",children:[n.jsx("div",{className:"py-8 shadow-sm",style:{background:"linear-gradient(135deg, #457bba 0%, #890d5d 100%)"},children:n.jsx("div",{className:"max-w-7xl mx-auto px-6",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("button",{onClick:()=>t(-1),className:"p-2 rounded-lg bg-white/20 hover:bg-white/30 transition-colors",children:n.jsx(jr,{className:"w-6 h-6 text-white"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-4xl font-bold text-white",children:"Receitas"}),n.jsx("p",{className:"text-base text-white opacity-90 mt-1",children:"Gerenciamento de receitas retidas"})]})]})})}),n.jsx("div",{className:"max-w-7xl mx-auto px-6 py-6",children:n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[n.jsx("div",{className:"lg:col-span-1",children:n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6 sticky top-6",children:[n.jsx("h3",{className:"text-lg font-bold text-slate-900 mb-4",children:"Filtrar por dados"}),n.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[n.jsxs("button",{onClick:()=>{p(!1),l||c(new Date)},className:"flex-1 flex items-center justify-center gap-2 px-4 py-2 rounded-lg font-semibold text-sm transition-all",style:{backgroundColor:u?"white":"#376295",color:u?"#64748b":"white",border:u?"1px solid #e2e8f0":"none"},children:[n.jsx(Ic,{className:"w-4 h-4"}),"Por Dia"]}),n.jsxs("button",{onClick:()=>{p(!0),c(null)},className:"flex-1 flex items-center justify-center gap-2 px-4 py-2 rounded-lg font-semibold text-sm transition-all",style:{backgroundColor:u?"#376295":"white",color:u?"white":"#64748b",border:u?"none":"1px solid #e2e8f0"},children:[n.jsx(Ji,{className:"w-4 h-4"}),"Todos"]})]}),n.jsxs("div",{className:"border rounded-xl p-3 mb-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsx("button",{onClick:ce,className:"p-2 hover:bg-slate-100 rounded-lg transition-colors",children:n.jsx(jr,{className:"h-4 w-4 text-slate-600"})}),n.jsx("div",{className:"text-sm font-semibold text-slate-700",children:wt(r,"MMMM 'de' yyyy",{locale:Gs})}),n.jsx("button",{onClick:xe,className:"p-2 hover:bg-slate-100 rounded-lg transition-colors",children:n.jsx(vu,{className:"h-4 w-4 text-slate-600"})})]}),n.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:["dom","seg","ter","qua","qui","sex","sb"].map(ie=>n.jsx("div",{className:"text-center text-xs font-semibold text-slate-500 py-2",children:ie},ie))}),n.jsx("div",{className:"grid grid-cols-7 gap-1",children:V.map((ie,Pe)=>{if(!ie)return n.jsx("div",{className:"aspect-square"},`vazio-${Pe}`);const Me=wt(ie,"yyyy-MM-dd"),Ie=(_e[Me]||0)>0,nt=l&&un(ie,l),it=un(ie,new Date);return n.jsx("button",{onClick:()=>F(ie),className:`
                          aspect-square rounded-lg text-sm flex flex-col items-center justify-center relative
                          transition-all hover:bg-blue-50
                        `,style:{backgroundColor:nt?"#376295":!nt&&it?"#e2e8f0":!nt&&!it&&Ie?"#F5E8F5":"transparent",color:nt?"white":nt===!1&&it?"#376295":!nt&&!it&&Ie?"#890d5d":"#1e293b",fontWeight:nt||it||Ie?"bold":"normal",boxShadow:nt?"0 4px 6px -1px rgba(0, 0, 0, 0.1)":"none"},children:n.jsx("span",{children:wt(ie,"d")})},Me)})})]},wt(r,"yyyy-MM")),n.jsxs("div",{className:"text-center pt-4 border-t border-slate-200",children:[l&&!u&&n.jsx("div",{className:"text-base font-semibold text-slate-700",children:wt(l,"dd 'de' MMMM",{locale:Gs})}),n.jsxs("div",{className:"text-sm text-slate-500",children:[W.length," receita",W.length!==1?"s":""]})]})]},`filter-${u}-${(l==null?void 0:l.getTime())||"all"}`)}),n.jsxs("div",{className:"lg:col-span-3 space-y-6",children:[n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[n.jsx("h2",{className:"text-lg font-bold text-slate-900 mb-4",children:"Buscar"}),n.jsxs("div",{className:"relative",children:[n.jsx(uo,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),n.jsx("input",{type:"text",value:m,onChange:ie=>v(ie.target.value),placeholder:"Buscar por nmero, nome, telefone ou CPF...",className:"w-full pl-10 pr-4 py-3 border border-slate-300 rounded-lg focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-100 transition-all"})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{onClick:()=>x(y==="pendentes"?"todos":"pendentes"),className:"rounded-xl shadow-sm cursor-pointer transition-all hover:shadow-md text-center",style:{backgroundColor:"#E8F0F8",padding:"1.5rem",border:y==="pendentes"?"2px solid #376295":"2px solid transparent"},children:[n.jsx("p",{className:"text-5xl font-bold mb-2",style:{color:"#376295"},children:be}),n.jsx("p",{className:"text-sm font-medium",style:{color:"#376295"},children:"Pendentes"})]}),n.jsxs("div",{onClick:()=>x(y==="recebidas"?"todos":"recebidas"),className:"rounded-xl shadow-sm cursor-pointer transition-all hover:shadow-md text-center",style:{backgroundColor:"#F5E8F5",padding:"1.5rem",border:y==="recebidas"?"2px solid #890d5d":"2px solid transparent"},children:[n.jsx("p",{className:"text-5xl font-bold mb-2",style:{color:"#890d5d"},children:me}),n.jsx("p",{className:"text-sm font-medium",style:{color:"#890d5d"},children:"Recebidas"})]})]}),n.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:Z?n.jsxs("div",{className:"text-center py-12",children:[n.jsx(w1,{className:"w-16 h-16 text-red-400 mx-auto mb-4"}),n.jsx("p",{className:"text-red-600 font-semibold mb-2",children:"Erro ao carregar receitas"}),n.jsx("p",{className:"text-slate-500 text-sm mb-4",children:Z.message}),n.jsxs(pr,{onClick:()=>$(),variant:"outline",size:"sm",children:[n.jsx(rA,{className:"w-4 h-4 mr-2"}),"Tentar Novamente"]})]}):we?n.jsxs("div",{className:"text-center py-12",children:[n.jsx("div",{className:"inline-block w-8 h-8 border-4 border-slate-200 border-t-4 rounded-full animate-spin mb-4",style:{borderTopColor:"#376295"}}),n.jsx("p",{className:"text-slate-600",children:"Carregando receitas..."})]}):W.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx(dn,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:"Nenhuma receita encontrada"}),n.jsx("p",{className:"text-sm text-slate-600",children:m||y!=="todos"?"Tente ajustar os filtros de busca":"No h receitas cadastradas"})]}):n.jsx("div",{className:"space-y-3",children:W.map(ie=>{var Pe,Me,$e;return n.jsx("div",{onClick:()=>t(`/detalhes-romaneio?id=${ie.id}`),className:"border border-slate-200 rounded-lg p-5 hover:border-slate-300 hover:shadow-md transition-all cursor-pointer",children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[n.jsxs("span",{className:"text-base font-semibold",style:{color:"#376295"},children:["#",ie.requisicao]}),n.jsx("span",{className:"px-3 py-1 rounded text-xs font-medium",style:{backgroundColor:ie.receita_anexo?"#F5E8F5":"#E8F0F8",color:ie.receita_anexo?"#890d5d":"#376295"},children:ie.receita_anexo?"Recebida":"Pendente"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm text-slate-600 mb-3",children:[n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Cliente:"})," ",((Pe=ie.cliente)==null?void 0:Pe.nome)||ie.cliente_nome]}),n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Telefone:"})," ",((Me=ie.cliente)==null?void 0:Me.telefone)||ie.cliente_telefone]}),(($e=ie.cliente)==null?void 0:$e.cpf)&&n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"CPF:"})," ",ie.cliente.cpf]}),ie.data_entrega&&n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Data:"})," ",wt(Dr(ie.data_entrega),"dd/MM/yyyy")]})]})]}),n.jsx("div",{className:"flex items-center gap-2 ml-4",children:ie.receita_anexo?n.jsxs("button",{onClick:Ie=>{Ie.stopPropagation(),window.open(ie.receita_anexo,"_blank")},className:"px-4 py-2 border border-slate-300 rounded-lg hover:bg-slate-50 transition-colors flex items-center gap-2 text-sm font-medium text-slate-700",children:[n.jsx(S1,{className:"w-4 h-4"}),"Ver Receita"]}):n.jsxs("button",{onClick:Ie=>{Ie.stopPropagation(),U(ie)},className:"px-4 py-2 rounded-lg transition-colors flex items-center gap-2 text-sm font-medium text-white",style:{backgroundColor:"#376295"},children:[n.jsx(bA,{className:"w-4 h-4"}),"Anexar"]})})]})},ie.id)})})})]})]})}),n.jsx(ds,{open:E,onOpenChange:S,children:n.jsxs(Ao,{className:"sm:max-w-[500px]",children:[n.jsxs(Oo,{children:[n.jsx(Mo,{children:"Adicionar Anexo"}),n.jsx(Hf,{children:"Envie fotos ou documentos relacionados a esta entrega."})]}),n.jsxs("div",{className:"space-y-4 py-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium",children:"Tipo de Anexo *"}),n.jsxs(Ua,{value:P,onValueChange:O,children:[n.jsx(Ki,{children:n.jsx(qa,{placeholder:"Selecione o tipo"})}),n.jsxs(Zi,{children:[n.jsx(sr,{value:"Receita",children:"Receita"}),n.jsx(sr,{value:"Pagamento",children:"Pagamento"}),n.jsx(sr,{value:"Outros",children:"Outros"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium",children:"Arquivo *"}),n.jsx("input",{type:"file",accept:"image/*,.pdf",onChange:ie=>{var Pe;return Y(((Pe=ie.target.files)==null?void 0:Pe[0])||null)},className:"w-full px-3 py-2 border border-slate-300 rounded-lg cursor-pointer focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-100"}),z&&n.jsxs("p",{className:"text-xs text-slate-500",children:["Arquivo selecionado: ",z.name]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium",children:"Descrio (opcional)"}),n.jsx(Vf,{placeholder:"Adicione informaes adicionais sobre este anexo...",value:T,onChange:ie=>R(ie.target.value),rows:3})]}),k&&n.jsxs("div",{className:"p-3 bg-slate-50 rounded-lg text-sm",children:[n.jsxs("p",{className:"font-medium text-slate-900",children:["Entrega: #",k.requisicao]}),n.jsxs("p",{className:"text-slate-600",children:["Cliente: ",((pe=k.cliente)==null?void 0:pe.nome)||k.cliente_nome]})]})]}),n.jsxs($v,{children:[n.jsx(pr,{variant:"outline",onClick:()=>{S(!1),O(""),R(""),Y(null)},disabled:D,children:"Cancelar"}),n.jsx(pr,{onClick:re,disabled:D||!z||!P,style:{background:D?"#94a3b8":"#376295"},className:"text-white",children:D?"Enviando...":"Enviar Anexo"})]})]})})]})}const tD=["Pago","Dinheiro","Maquina","Troco P/","Via na Pasta","S Entregar","Aguardando","Pix - Aguardando","Link - Aguardando","Boleto","Pagar MP"];function rD(){var le,A;const t=ho(),e=Sr(),[r,s]=w.useState(new Date),[l,c]=w.useState(null),[u,p]=w.useState(!0),[m,v]=w.useState(""),[y,x]=w.useState("todos"),[E,S]=w.useState(!1),[k,N]=w.useState(null),[P,O]=w.useState(""),[T,R]=w.useState(!1),{data:z=[],isLoading:Y,error:D}=hn({queryKey:["pagamentos"],queryFn:async()=>{const{data:H,error:V}=await Le.from("entregas").select(`
          *,
          cliente:clientes(nome, telefone, cpf),
          endereco:enderecos(cidade, regiao),
          motoboy:motoboys(nome)
        `).order("data_entrega",{ascending:!1});if(V)throw V;return H||[]},refetchOnMount:"always",refetchOnWindowFocus:"always",staleTime:0,gcTime:0}),J=Xr({mutationFn:async({entregaId:H,formaPagamento:V,pagamentoRecebido:F})=>{const ce={};V!==void 0&&(ce.forma_pagamento=V),F!==void 0&&(ce.pagamento_recebido=F);const{error:xe}=await Le.from("entregas").update(ce).eq("id",H);if(xe)throw xe},onSuccess:()=>{t.invalidateQueries({queryKey:["pagamentos"]}),t.invalidateQueries({queryKey:["entregas"]}),t.invalidateQueries({queryKey:["receitas"]}),Se.success("Pagamento atualizado com sucesso!"),S(!1)},onError:H=>{Se.error("Erro ao atualizar pagamento: "+H.message)}}),ne=(H,V)=>{H.preventDefault(),H.stopPropagation(),N(V),O(V.forma_pagamento||""),R(V.pagamento_recebido||!1),setTimeout(()=>S(!0),0)},we=()=>{if(!P){Se.error("Selecione uma forma de pagamento");return}J.mutate({entregaId:k.id,formaPagamento:P,pagamentoRecebido:T})};if(w.useEffect(()=>{t.invalidateQueries({queryKey:["pagamentos"]})},[t]),w.useEffect(()=>{D&&Se.error("Erro ao carregar pagamentos: "+D.message)},[D]),w.useEffect(()=>{if(!E){const H=setTimeout(()=>{document.querySelectorAll("[data-radix-popper-content-wrapper]").forEach(F=>{try{F.remove()}catch{}})},100);return()=>clearTimeout(H)}},[E]),Y)return n.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-br from-slate-50 to-slate-100",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"w-16 h-16 border-4 border-slate-300 border-t-[#457bba] rounded-full animate-spin mx-auto mb-4"}),n.jsx("p",{className:"text-slate-600 font-medium",children:"Carregando pagamentos..."})]})});const Z=z.filter(H=>{var V,F,ce,xe,pe,ie;if(!u&&l&&H.data_entrega&&!un(Dr(H.data_entrega),l)||y!=="todos"&&((V=H.motoboy)==null?void 0:V.nome)!==y)return!1;if(m){const Pe=m.toLowerCase();if(!(((ce=(F=H.cliente)==null?void 0:F.nome)==null?void 0:ce.toLowerCase().includes(Pe))||((pe=(xe=H.cliente)==null?void 0:xe.telefone)==null?void 0:pe.toLowerCase().includes(Pe))||((ie=H.requisicao)==null?void 0:ie.toLowerCase().includes(Pe))))return!1}return!0}),$={pendentes:Z.filter(H=>!H.pagamento_recebido&&H.status==="Entregue").length,recebidos:Z.filter(H=>H.pagamento_recebido).length,dinheiro:Z.filter(H=>H.pagamento_recebido&&(H.forma_pagamento==="Dinheiro"||H.forma_pagamento==="dinheiro")).reduce((H,V)=>H+(parseFloat(V.valor)||0),0),cartao:Z.filter(H=>H.pagamento_recebido&&(H.forma_pagamento==="Carto"||H.forma_pagamento==="cartao"||H.forma_pagamento==="Cartao")).reduce((H,V)=>H+(parseFloat(V.valor)||0),0)},re=[...new Set(z.map(H=>{var V;return(V=H.motoboy)==null?void 0:V.nome}))].filter(Boolean).sort(),U=Xv({start:ou(r),end:Yv(r)}),W=ou(r).getDay(),be=Array(W).fill(null),me=H=>z.filter(V=>V.data_entrega&&un(Dr(V.data_entrega),H)).length,_e=()=>s(ex(r)),q=()=>s(em(r,1)),je=H=>{c(H),p(!1)};return n.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100",children:[n.jsx("div",{className:"py-8 shadow-sm",style:{background:"linear-gradient(135deg, #457bba 0%, #890d5d 100%)"},children:n.jsx("div",{className:"max-w-7xl mx-auto px-6",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("button",{onClick:()=>e(-1),className:"p-2 rounded-lg bg-white/20 hover:bg-white/30 transition-colors",children:n.jsx(jr,{className:"w-6 h-6 text-white"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-4xl font-bold text-white",children:"Pagamentos"}),n.jsx("p",{className:"text-base text-white opacity-90 mt-1",children:"Gerenciamento de pagamentos das entregas"})]})]})})}),n.jsx("div",{className:"max-w-7xl mx-auto px-6 py-6",children:n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[n.jsx("div",{className:"lg:col-span-1",children:n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6 sticky top-6",children:[n.jsx("h3",{className:"text-lg font-bold text-slate-900 mb-4",children:"Filtrar por dados"}),n.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[n.jsxs("button",{onClick:()=>{p(!1),l||c(new Date)},className:"flex-1 flex items-center justify-center gap-2 px-4 py-2 rounded-lg font-semibold text-sm transition-all",style:{backgroundColor:u?"white":"#376295",color:u?"#64748b":"white",border:u?"1px solid #e2e8f0":"none"},children:[n.jsx(Ic,{className:"w-4 h-4"}),"Por Dia"]}),n.jsxs("button",{onClick:()=>{p(!0),c(null)},className:"flex-1 flex items-center justify-center gap-2 px-4 py-2 rounded-lg font-semibold text-sm transition-all",style:{backgroundColor:u?"#376295":"white",color:u?"white":"#64748b",border:u?"none":"1px solid #e2e8f0"},children:[n.jsx(Ji,{className:"w-4 h-4"}),"Todos"]})]}),n.jsxs("div",{className:"border rounded-lg p-3",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsx("button",{onClick:_e,className:"p-2 hover:bg-slate-100 rounded-lg transition-colors",children:n.jsx(jr,{className:"h-4 w-4 text-slate-600"})}),n.jsx("span",{className:"text-sm font-semibold text-slate-700",children:wt(r,"MMMM 'de' yyyy",{locale:Gs})}),n.jsx("button",{onClick:q,className:"p-2 hover:bg-slate-100 rounded-lg transition-colors",children:n.jsx(vu,{className:"h-4 w-4 text-slate-600"})})]}),n.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:["dom","seg","ter","qua","qui","sex","sb"].map(H=>n.jsx("div",{className:"text-center text-xs font-semibold text-slate-500 py-2",children:H},H))}),n.jsxs("div",{className:"grid grid-cols-7 gap-1",children:[be.map((H,V)=>n.jsx("div",{className:"aspect-square"},`vazio-${V}`)),U.map(H=>{const V=me(H),F=l&&un(H,l),ce=un(H,new Date);return n.jsx("button",{onClick:()=>je(H),className:"aspect-square rounded-lg text-sm flex flex-col items-center justify-center relative transition-all hover:bg-blue-50",style:{backgroundColor:F?"#376295":!F&&ce?"#e2e8f0":!F&&!ce&&V>0?"#F5E8F5":"transparent",color:F?"white":F===!1&&ce?"#376295":!F&&!ce&&V>0?"#890d5d":"#1e293b",fontWeight:F||ce||V>0?"bold":"normal",boxShadow:F?"0 4px 6px -1px rgba(0, 0, 0, 0.1)":"none"},children:n.jsx("span",{children:wt(H,"d")})},H.toISOString())})]})]}),n.jsxs("div",{className:"text-center pt-4 border-t border-slate-200",children:[l&&!u&&n.jsx("div",{className:"text-base font-semibold text-slate-700",children:wt(l,"dd 'de' MMMM",{locale:Gs})}),n.jsxs("div",{className:"text-sm text-slate-500",children:[Z.length," pagamento",Z.length!==1?"s":""]})]})]})}),n.jsxs("div",{className:"lg:col-span-3 space-y-6",children:[n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[n.jsx("h2",{className:"text-lg font-bold text-slate-900 mb-4",children:"Buscar e Filtrar"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"relative",children:[n.jsx(uo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400 w-5 h-5"}),n.jsx("input",{type:"text",placeholder:"Buscar por nmero, nome ou telefone...",value:m,onChange:H=>v(H.target.value),className:"w-full pl-10 pr-4 py-3 border border-slate-300 rounded-lg focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-100 transition-all"})]}),n.jsxs(Ua,{value:y,onValueChange:x,children:[n.jsx(Ki,{children:n.jsx(qa,{placeholder:"Todos os Motoboys"})}),n.jsxs(Zi,{children:[n.jsx(sr,{value:"todos",children:"Todos os Motoboys"}),re.map(H=>n.jsx(sr,{value:H,children:H},H))]})]})]})]}),n.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[n.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-5 cursor-pointer transition-all hover:shadow-md",children:[n.jsxs("div",{className:"flex items-center justify-center gap-2 mb-3",children:[n.jsx("div",{className:"p-1.5 rounded-lg",style:{backgroundColor:"#FEF3E8"},children:n.jsx(w1,{className:"w-6 h-6",style:{color:"#f97316"}})}),n.jsx("span",{className:"text-sm font-bold text-slate-700",children:"Pendentes"})]}),n.jsx("div",{className:"text-4xl font-bold text-center",style:{color:"#f97316"},children:$.pendentes})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-5 cursor-pointer transition-all hover:shadow-md",children:[n.jsxs("div",{className:"flex items-center justify-center gap-2 mb-3",children:[n.jsx("div",{className:"p-1.5 rounded-lg",style:{backgroundColor:"#E8F5E8"},children:n.jsx(Xi,{className:"w-6 h-6",style:{color:"#3dac38"}})}),n.jsx("span",{className:"text-sm font-bold text-slate-700",children:"Recebidos"})]}),n.jsx("div",{className:"text-4xl font-bold text-center",style:{color:"#3dac38"},children:$.recebidos})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-5 cursor-pointer transition-all hover:shadow-md",children:[n.jsxs("div",{className:"flex items-center justify-center gap-2 mb-3",children:[n.jsx("div",{className:"p-1.5 rounded-lg",style:{backgroundColor:"#E8F0F8"},children:n.jsx(qg,{className:"w-6 h-6",style:{color:"#376295"}})}),n.jsx("span",{className:"text-sm font-bold text-slate-700",children:"Dinheiro"})]}),n.jsxs("div",{className:"text-2xl font-bold text-center",style:{color:"#376295"},children:["R$ ",$.dinheiro.toFixed(2)]})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-5 cursor-pointer transition-all hover:shadow-md",children:[n.jsxs("div",{className:"flex items-center justify-center gap-2 mb-3",children:[n.jsx("div",{className:"p-1.5 rounded-lg",style:{backgroundColor:"#F5E8F5"},children:n.jsx(j1,{className:"w-6 h-6",style:{color:"#890d5d"}})}),n.jsx("span",{className:"text-sm font-bold text-slate-700",children:"Carto"})]}),n.jsxs("div",{className:"text-2xl font-bold text-center",style:{color:"#890d5d"},children:["R$ ",$.cartao.toFixed(2)]})]})]}),n.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:Z.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx(Dc,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:"Nenhum pagamento encontrado"}),n.jsx("p",{className:"text-sm text-slate-600",children:m||y!=="todos"?"Tente ajustar os filtros de busca":"No h pagamentos cadastrados"})]}):n.jsx("div",{children:n.jsx("div",{className:"space-y-3",children:Z.map(H=>{var V,F;return n.jsx(qs,{to:`/detalhes-romaneio?id=${H.id}`,className:"block p-5 rounded-lg border border-slate-200 hover:border-slate-300 hover:shadow-md transition-all",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[n.jsxs("span",{className:"text-base font-semibold",style:{color:"#376295"},children:["#",H.requisicao]}),n.jsx(rs,{className:"px-3 py-1 rounded text-xs font-medium",style:{backgroundColor:H.pagamento_recebido?"#E8F5E8":"#FEF3E8",color:H.pagamento_recebido?"#3dac38":"#f97316"},children:H.pagamento_recebido?"Recebido":"Pendente"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm text-slate-600 mb-3",children:[n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Cliente:"})," ",((V=H.cliente)==null?void 0:V.nome)||H.cliente_nome]}),n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Motoboy:"})," ",((F=H.motoboy)==null?void 0:F.nome)||"Sem motoboy"]}),n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Data:"})," ",H.data_entrega?wt(Dr(H.data_entrega),"dd/MM/yyyy"):"-"]}),H.forma_pagamento&&n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Forma:"})," ",H.forma_pagamento]})]})]}),n.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[H.valor&&n.jsx("div",{className:"text-right mr-3",children:n.jsxs("div",{className:"font-bold text-xl",style:{color:"#376295"},children:["R$ ",parseFloat(H.valor).toFixed(2)]})}),n.jsxs("button",{onClick:ce=>ne(ce,H),className:"px-4 py-2 border border-slate-300 rounded-lg hover:bg-slate-50 transition-colors flex items-center gap-2 text-sm font-medium text-slate-700",title:"Editar pagamento",children:[n.jsx(Wf,{className:"w-4 h-4"}),"Editar"]})]})]})},H.id)})})})})]})]})}),n.jsx(ds,{open:E,onOpenChange:S,children:n.jsxs(Ao,{className:"sm:max-w-[500px]",children:[n.jsxs(Oo,{children:[n.jsx(Mo,{children:"Editar Pagamento"}),n.jsxs(Hf,{children:["#",k==null?void 0:k.requisicao," - ",((le=k==null?void 0:k.cliente)==null?void 0:le.nome)||(k==null?void 0:k.cliente_nome)]})]}),n.jsxs("div",{className:"space-y-4 py-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium",children:"Forma de Pagamento *"}),n.jsxs(Ua,{value:P,onValueChange:O,children:[n.jsx(Ki,{children:n.jsx(qa,{placeholder:"Selecione a forma de pagamento"})}),n.jsx(Zi,{children:tD.map(H=>n.jsx(sr,{value:H,children:H},H))})]},`forma-pagamento-${k==null?void 0:k.id}`)]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium",children:"Status do Pagamento"}),n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[n.jsx("input",{type:"radio",checked:!T,onChange:()=>R(!1),className:"w-4 h-4 text-orange-600"}),n.jsx("span",{className:"text-sm",children:"Pendente"})]}),n.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[n.jsx("input",{type:"radio",checked:T,onChange:()=>R(!0),className:"w-4 h-4 text-green-600"}),n.jsx("span",{className:"text-sm",children:"Recebido"})]})]})]}),k&&n.jsxs("div",{className:"bg-slate-50 rounded-lg p-3 space-y-1 text-sm",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-slate-600",children:"Valor:"}),n.jsxs("span",{className:"font-semibold",children:["R$ ",parseFloat(k.valor||0).toFixed(2)]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-slate-600",children:"Data:"}),n.jsx("span",{children:k.data_entrega?wt(Dr(k.data_entrega),"dd/MM/yyyy"):"-"})]}),((A=k.motoboy)==null?void 0:A.nome)&&n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-slate-600",children:"Motoboy:"}),n.jsx("span",{children:k.motoboy.nome})]})]})]}),n.jsxs($v,{children:[n.jsx(pr,{variant:"outline",onClick:()=>S(!1),disabled:J.isPending,children:"Cancelar"}),n.jsx(pr,{onClick:we,disabled:J.isPending,style:{background:J.isPending?"#94a3b8":"#376295"},className:"text-white",children:J.isPending?"Salvando...":"Salvar"})]})]})},`dialog-${(k==null?void 0:k.id)||"none"}`)]})}function nD(t){return"/"+t.toLowerCase().replace(/ /g,"-")}function oD(){const t=Sr(),e=zo(),r=ho(),s=new URLSearchParams(e.search),[l,c]=w.useState(()=>{const D=s.get("data");return D?new Date(D):new Date}),[u,p]=w.useState(s.get("motoboy")||"todos"),[m,v]=w.useState(s.get("todas")==="true");w.useEffect(()=>{const D=new URLSearchParams;m||D.set("data",wt(l,"yyyy-MM-dd")),D.set("todas",m.toString()),u!=="todos"&&D.set("motoboy",u),t(`?${D.toString()}`,{replace:!0})},[l,u,m]);const{data:y=[],isLoading:x}=hn({queryKey:["entregas-moto-planilha"],queryFn:async()=>{try{const{data:D,error:J}=await Le.from("entregas").select(`
            *,
            cliente:clientes(id, nome, telefone),
            endereco:enderecos(id, logradouro, numero, bairro, cidade, complemento),
            motoboy:motoboys(id, nome)
          `).eq("tipo","moto").order("data_entrega",{ascending:!1});if(J)throw J;return console.log("Entregas carregadas:",D),D||[]}catch(D){return console.error("Erro ao carregar entregas:",D),Se.error("Erro ao carregar entregas"),[]}},refetchOnMount:"always",staleTime:0,gcTime:0}),{data:E=[],isLoading:S}=hn({queryKey:["sedex-disktenha-planilha",l,m],queryFn:async()=>{let D=Le.from("sedex_disktenha").select("*");if(!m){const we=wt(l,"yyyy-MM-dd");D=D.eq("data_saida",we)}const{data:J,error:ne}=await D;return ne?(console.error("Erro ao carregar Sedex/Disktenha:",ne),Se.error("Erro ao carregar Sedex/Disktenha"),[]):(console.log("Sedex/Disktenha carregados:",J),J||[])}}),k=[...E].sort((D,J)=>{const ne={DISKTENHA:1,SEDEX:2,PAC:3},we=ne[D.tipo]||999,Z=ne[J.tipo]||999;return we-Z}),N=Xr({mutationFn:async({id:D,data:J})=>{const{error:ne}=await Le.from("entregas").update(J).eq("id",D);if(ne)throw ne},onSuccess:()=>{r.invalidateQueries({queryKey:["entregas-moto-planilha"]}),Se.success("Status atualizado!")},onError:()=>{Se.error("Erro ao atualizar")}}),P=Xr({mutationFn:async({id:D,status:J})=>{const{error:ne}=await Le.from("sedex_disktenha").update({status:J}).eq("id",D);if(ne)throw ne},onSuccess:()=>{r.invalidateQueries({queryKey:["sedex-disktenha-planilha"]}),Se.success("Status atualizado!")},onError:()=>{Se.error("Erro ao atualizar")}}),O=y.filter(D=>{var J;if(!m&&D.data_entrega)try{const ne=new Date(D.data_entrega);if(!un(ne,l))return!1}catch(ne){return console.error("Erro ao fazer parse da data:",D.data_entrega,ne),!1}return!(u!=="todos"&&((J=D.motoboy)==null?void 0:J.nome)!==u)});console.log("Total entregas:",y.length),console.log("Entregas filtradas:",O.length),console.log("Data selecionada:",l),console.log("Visualizar todas:",m),console.log("Filtro motoboy:",u);const T=[...O].sort((D,J)=>{var $,re;const ne=(($=D.endereco)==null?void 0:$.cidade)||"",we=((re=J.endereco)==null?void 0:re.cidade)||"",Z=ne.localeCompare(we);return Z!==0?Z:D.periodo==="Manh"?-1:1}),R=[...new Set(y.map(D=>{var J;return(J=D.motoboy)==null?void 0:J.nome}).filter(Boolean))],z=(D,J)=>D==="Entregue"?"bg-green-50":D==="A Caminho"?"bg-yellow-50":J==="Cartanhex pago"?"bg-orange-50":J==="Maquina"?"bg-purple-50":"bg-white",Y=(D,J,ne="romaneio")=>{ne==="romaneio"?N.mutate({id:D,data:{status:J}}):P.mutate({id:D,status:J})};return n.jsxs("div",{className:"min-h-screen bg-slate-50",children:[n.jsx("div",{className:"py-8 shadow-sm",style:{background:"linear-gradient(135deg, #457bba 0%, #890d5d 100%)"},children:n.jsx("div",{className:"max-w-7xl mx-auto px-6",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("button",{onClick:()=>t(-1),className:"p-2 rounded-lg bg-white/20 hover:bg-white/30 transition-colors",children:n.jsx(jr,{className:"w-6 h-6 text-white"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-4xl font-bold text-white",children:"Planilha Diria"}),n.jsx("p",{className:"text-base text-white opacity-90 mt-1",children:"Visualize e edite todas as entregas do dia"})]})]})})}),n.jsx("div",{className:"p-6",children:n.jsxs("div",{className:"max-w-7xl mx-auto",children:[n.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6 mb-6",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("button",{onClick:()=>v(!0),className:"flex items-center justify-center gap-2 px-4 py-2 rounded-lg font-semibold text-sm transition-all whitespace-nowrap",style:{backgroundColor:m?"#376295":"white",color:m?"white":"#64748b",border:m?"none":"1px solid #e2e8f0"},children:"Todas"}),n.jsx("button",{onClick:()=>v(!1),className:"flex items-center justify-center gap-2 px-4 py-2 rounded-lg font-semibold text-sm transition-all whitespace-nowrap",style:{backgroundColor:m?"white":"#376295",color:m?"#64748b":"white",border:m?"1px solid #e2e8f0":"none"},children:"Por Dia"})]}),!m&&n.jsx("div",{className:"flex items-center gap-2",children:n.jsx("input",{type:"date",value:wt(l,"yyyy-MM-dd"),onChange:D=>{D.target.value&&c(new Date(D.target.value+"T00:00:00"))},className:"px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-100 text-sm"})}),n.jsx("div",{className:"flex-1 max-w-xs",children:n.jsxs("select",{value:u,onChange:D=>p(D.target.value),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-100 text-sm",children:[n.jsx("option",{value:"todos",children:"Todos os Motoboys"}),R.map(D=>n.jsx("option",{value:D,children:D},D))]})})]})}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"bg-white rounded-lg border border-slate-200 overflow-hidden",children:[n.jsx("div",{className:"px-4 py-3",style:{backgroundColor:"#376295"},children:n.jsx("h2",{className:"text-white font-bold text-lg",children:"ENTREGAS MOTO"})}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full text-xs border-collapse",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"bg-slate-100 border-b border-slate-300",children:[n.jsx("th",{className:"px-2 py-2 text-left font-semibold text-slate-700 border-r border-slate-200",children:"Atendente"}),n.jsx("th",{className:"px-2 py-2 text-left font-semibold text-slate-700 border-r border-slate-200",children:"Requisio"}),n.jsx("th",{className:"px-2 py-2 text-left font-semibold text-slate-700 border-r border-slate-200",children:"Cliente"}),n.jsx("th",{className:"px-2 py-2 text-left font-semibold text-slate-700 border-r border-slate-200",children:"Telefone"}),n.jsx("th",{className:"px-2 py-2 text-left font-semibold text-slate-700 border-r border-slate-200",children:"Observao"}),n.jsx("th",{className:"px-2 py-2 text-left font-semibold text-slate-700 border-r border-slate-200",children:"Local"}),n.jsx("th",{className:"px-2 py-2 text-left font-semibold text-slate-700 border-r border-slate-200",children:"Forma de Pgto"}),n.jsx("th",{className:"px-2 py-2 text-left font-semibold text-slate-700 border-r border-slate-200",children:"Valor a Cobrar"}),n.jsx("th",{className:"px-2 py-2 text-left font-semibold text-slate-700 border-r border-slate-200",children:"Troco"}),n.jsx("th",{className:"px-2 py-2 text-left font-semibold text-slate-700 border-r border-slate-200",children:"Perodo"}),n.jsx("th",{className:"px-2 py-2 text-left font-semibold text-slate-700 border-r border-slate-200",children:"Status"}),n.jsx("th",{className:"px-2 py-2 text-left font-semibold text-slate-700 border-r border-slate-200",children:"Receita"}),n.jsx("th",{className:"px-2 py-2 text-left font-semibold text-slate-700 border-r border-slate-200",children:"Moto"}),n.jsx("th",{className:"px-2 py-2 text-left font-semibold text-slate-700 border-r border-slate-200",children:"Taxa"}),n.jsx("th",{className:"px-2 py-2 text-left font-semibold text-slate-700",children:"Ver"})]})}),n.jsx("tbody",{children:x?n.jsx("tr",{children:n.jsx("td",{colSpan:"15",className:"p-8 text-center text-slate-500",children:"Carregando..."})}):T.length===0?n.jsx("tr",{children:n.jsx("td",{colSpan:"15",className:"p-8 text-center text-slate-500",children:"Nenhuma entrega encontrada"})}):T.map(D=>{var J,ne,we,Z;return n.jsxs("tr",{className:`border-b border-slate-200 hover:bg-slate-50 ${z(D.status,D.forma_pagamento)}`,children:[n.jsx("td",{className:"px-2 py-1.5 border-r border-slate-200 text-slate-600",children:D.atendente||"-"}),n.jsx("td",{className:"px-2 py-1.5 border-r border-slate-200 font-mono text-slate-700",children:D.requisicao||"-"}),n.jsx("td",{className:"px-2 py-1.5 border-r border-slate-200 font-medium text-slate-800",children:((J=D.cliente)==null?void 0:J.nome)||"-"}),n.jsx("td",{className:"px-2 py-1.5 border-r border-slate-200 text-slate-600",children:(ne=D.cliente)!=null&&ne.telefone?D.cliente.telefone.replace(/\D/g,""):"-"}),n.jsx("td",{className:"px-2 py-1.5 border-r border-slate-200 text-slate-600 max-w-[200px] truncate",children:D.observacoes||"-"}),n.jsx("td",{className:"px-2 py-1.5 border-r border-slate-200 text-slate-600",children:((we=D.endereco)==null?void 0:we.cidade)||"-"}),n.jsx("td",{className:"px-2 py-1.5 border-r border-slate-200",children:n.jsx("span",{className:`px-1.5 py-0.5 rounded text-[10px] font-medium ${D.forma_pagamento==="Pago"?"text-green-700":D.forma_pagamento==="Dinheiro"?"text-blue-700":D.forma_pagamento==="Carto"?"text-purple-700":"bg-slate-100 text-slate-700"}`,style:{backgroundColor:D.forma_pagamento==="Pago"?"#E8F5E8":D.forma_pagamento==="Dinheiro"?"#E8F0F8":D.forma_pagamento==="Carto"?"#F5E8F5":void 0},children:D.forma_pagamento||"-"})}),n.jsxs("td",{className:"px-2 py-1.5 border-r border-slate-200 text-slate-700 font-semibold",children:["R$ ",D.valor?parseFloat(D.valor).toFixed(2):"0.00"]}),n.jsx("td",{className:"px-2 py-1.5 border-r border-slate-200 text-slate-600",children:D.troco||"-"}),n.jsx("td",{className:"px-2 py-1.5 border-r border-slate-200",children:n.jsx("span",{className:`px-1.5 py-0.5 rounded text-[10px] font-medium ${D.periodo==="Manh"?"text-yellow-800":"text-orange-800"}`,style:{backgroundColor:D.periodo==="Manh"?"#fef9c3":"#ffedd5"},children:D.periodo||"-"})}),n.jsx("td",{className:"px-2 py-1.5 border-r border-slate-200",children:n.jsxs("select",{value:D.status||"Pendente",onChange:$=>Y(D.id,$.target.value,"romaneio"),className:"w-full text-[10px] p-1 border border-slate-300 rounded-lg bg-white",disabled:N.isPending,children:[n.jsx("option",{value:"Pendente",children:"Pendente"}),n.jsx("option",{value:"Produo",children:"Produo"}),n.jsx("option",{value:"Preparando",children:"Preparando"}),n.jsx("option",{value:"A Caminho",children:"A Caminho"}),n.jsx("option",{value:"Entregue",children:"Entregue"}),n.jsx("option",{value:"No Entregue",children:"No Entregue"}),n.jsx("option",{value:"Voltou",children:"Voltou"}),n.jsx("option",{value:"Cancelado",children:"Cancelado"})]})}),n.jsx("td",{className:"px-2 py-1.5 border-r border-slate-200 text-center",children:D.recibo_medico?n.jsx("span",{className:"inline-block w-4 h-4 rounded-full bg-green-500"}):n.jsx("span",{className:"inline-block w-4 h-4 rounded-full bg-slate-300"})}),n.jsx("td",{className:"px-2 py-1.5 border-r border-slate-200 text-slate-700 font-medium",children:((Z=D.motoboy)==null?void 0:Z.nome)||"-"}),n.jsxs("td",{className:"px-2 py-1.5 border-r border-slate-200 text-slate-700 font-semibold",children:["R$ ",D.taxa?parseFloat(D.taxa).toFixed(2):"0.00"]}),n.jsx("td",{className:"px-2 py-1.5",children:n.jsx(qs,{to:`/detalhes-romaneio?id=${D.id}`,className:"hover:opacity-80 transition-opacity",style:{color:"#376295"},children:n.jsx(TR,{className:"w-3.5 h-3.5"})})})]},D.id)})})]})})]}),n.jsxs("div",{className:"bg-white rounded-lg border border-slate-200 overflow-hidden",children:[n.jsx("div",{className:"px-4 py-3",style:{backgroundColor:"#890d5d"},children:n.jsx("h2",{className:"text-white font-bold text-lg",children:"SEDEX / DISKTENHA"})}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full text-xs border-collapse",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"bg-blue-50 border-b border-blue-200",children:[n.jsx("th",{className:"px-2 py-2 text-left font-semibold text-slate-700 border-r border-blue-200",children:"Tipo"}),n.jsx("th",{className:"px-2 py-2 text-left font-semibold text-slate-700 border-r border-blue-200",children:"Cliente"}),n.jsx("th",{className:"px-2 py-2 text-left font-semibold text-slate-700 border-r border-blue-200",children:"Remetente"}),n.jsx("th",{className:"px-2 py-2 text-left font-semibold text-slate-700 border-r border-blue-200",children:"Cdigo Rastreio"}),n.jsx("th",{className:"px-2 py-2 text-left font-semibold text-slate-700 border-r border-blue-200",children:"Valor"}),n.jsx("th",{className:"px-2 py-2 text-left font-semibold text-slate-700 border-r border-blue-200",children:"Forma de Pgto"}),n.jsx("th",{className:"px-2 py-2 text-left font-semibold text-slate-700 border-r border-blue-200",children:"Data Sada"}),n.jsx("th",{className:"px-2 py-2 text-left font-semibold text-slate-700 border-r border-blue-200",children:"Status"}),n.jsx("th",{className:"px-2 py-2 text-left font-semibold text-slate-700",children:"Observaes"})]})}),n.jsx("tbody",{className:"bg-blue-50/30",children:S?n.jsx("tr",{children:n.jsx("td",{colSpan:"9",className:"p-8 text-center text-slate-500",children:"Carregando..."})}):k.length===0?n.jsx("tr",{children:n.jsx("td",{colSpan:"9",className:"p-8 text-center text-slate-500",children:"Nenhuma entrega Sedex/Disktenha encontrada"})}):k.map(D=>n.jsxs("tr",{className:"border-b border-blue-200 hover:bg-blue-100/50",children:[n.jsx("td",{className:"px-2 py-1.5 border-r border-blue-200",children:n.jsx("span",{className:`px-1.5 py-0.5 rounded text-[10px] font-bold ${D.tipo==="SEDEX"?"bg-red-100 text-red-800":D.tipo==="PAC"?"bg-yellow-100 text-yellow-800":"bg-blue-100 text-blue-800"}`,children:D.tipo})}),n.jsx("td",{className:"px-2 py-1.5 border-r border-blue-200 font-medium text-slate-800",children:D.cliente}),n.jsx("td",{className:"px-2 py-1.5 border-r border-blue-200 text-slate-600",children:D.remetente||"-"}),n.jsx("td",{className:"px-2 py-1.5 border-r border-blue-200 font-mono text-slate-700",children:D.codigo_rastreio}),n.jsxs("td",{className:"px-2 py-1.5 border-r border-blue-200 text-slate-700 font-semibold",children:["R$ ",D.valor?parseFloat(D.valor).toFixed(2):"0.00"]}),n.jsx("td",{className:"px-2 py-1.5 border-r border-blue-200",children:n.jsx("span",{className:"px-1.5 py-0.5 rounded text-[10px] font-medium bg-green-100 text-green-800",children:D.forma_pagamento})}),n.jsx("td",{className:"px-2 py-1.5 border-r border-blue-200 text-slate-600",children:D.data_saida?wt(Dr(D.data_saida),"dd/MM/yyyy"):"-"}),n.jsx("td",{className:"px-2 py-1.5 border-r border-blue-200",children:n.jsxs("select",{value:D.status||"Pendente",onChange:J=>Y(D.id,J.target.value,"sedex"),className:"w-full text-[10px] p-1 border border-blue-300 rounded-lg bg-white",disabled:P.isPending,children:[n.jsx("option",{value:"Pendente",children:"Pendente"}),n.jsx("option",{value:"Em Trnsito",children:"Em Trnsito"}),n.jsx("option",{value:"Entregue",children:"Entregue"}),n.jsx("option",{value:"Devolvido",children:"Devolvido"})]})}),n.jsx("td",{className:"px-2 py-1.5 text-slate-600 max-w-[200px] truncate",children:D.observacoes||"-"})]},D.id))})]})})]}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[n.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-5 border-2 border-transparent",children:[n.jsxs("div",{className:"flex items-center justify-center gap-2 mb-3",children:[n.jsx("div",{className:"p-1.5 rounded-lg",style:{backgroundColor:"#E8F0F8"},children:n.jsx("svg",{className:"w-6 h-6",style:{color:"#376295"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})}),n.jsx("span",{className:"text-sm font-bold text-slate-700",children:"Total Romaneios"})]}),n.jsx("div",{className:"text-4xl font-bold text-center",style:{color:"#376295"},children:T.length})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-5 border-2 border-transparent",children:[n.jsxs("div",{className:"flex items-center justify-center gap-2 mb-3",children:[n.jsx("div",{className:"p-1.5 rounded-lg",style:{backgroundColor:"#E8F5E8"},children:n.jsx("svg",{className:"w-6 h-6",style:{color:"#22c55e"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),n.jsx("span",{className:"text-sm font-bold text-slate-700",children:"Entregues"})]}),n.jsx("div",{className:"text-4xl font-bold text-center",style:{color:"#22c55e"},children:T.filter(D=>D.status==="Entregue").length})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-5 border-2 border-transparent",children:[n.jsxs("div",{className:"flex items-center justify-center gap-2 mb-3",children:[n.jsx("div",{className:"p-1.5 rounded-lg",style:{backgroundColor:"#F5E8F5"},children:n.jsx("svg",{className:"w-6 h-6",style:{color:"#890d5d"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"})})}),n.jsx("span",{className:"text-sm font-bold text-slate-700",children:"Sedex/Disk"})]}),n.jsx("div",{className:"text-4xl font-bold text-center",style:{color:"#890d5d"},children:k.length})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-5 border-2 border-transparent",children:[n.jsxs("div",{className:"flex items-center justify-center gap-2 mb-3",children:[n.jsx("div",{className:"p-1.5 rounded-lg",style:{backgroundColor:"#E8F0F8"},children:n.jsx("svg",{className:"w-6 h-6",style:{color:"#376295"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),n.jsx("span",{className:"text-sm font-bold text-slate-700",children:"Valor Total"})]}),n.jsxs("div",{className:"text-4xl font-bold text-center",style:{color:"#376295"},children:["R$ ",(T.reduce((D,J)=>D+(parseFloat(J.valor)||0),0)+k.reduce((D,J)=>D+(parseFloat(J.valor)||0),0)).toFixed(2)]})]})]})]})]})})]})}function FS(t,e){const r=w.useRef(e);w.useEffect(function(){e!==r.current&&t.attributionControl!=null&&(r.current!=null&&t.attributionControl.removeAttribution(r.current),e!=null&&t.attributionControl.addAttribution(e)),r.current=e},[t,e])}const sD=1;function iD(t){return Object.freeze({__version:sD,map:t})}function US(t,e){return Object.freeze({...t,...e})}const qS=w.createContext(null),WS=qS.Provider;function nx(){const t=w.useContext(qS);if(t==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return t}function HS(t){function e(r,s){const{instance:l,context:c}=t(r).current;return w.useImperativeHandle(s,()=>l),r.children==null?null:Te.createElement(WS,{value:c},r.children)}return w.forwardRef(e)}function aD(t){function e(r,s){const[l,c]=w.useState(!1),{instance:u}=t(r,c).current;w.useImperativeHandle(s,()=>u),w.useEffect(function(){l&&u.update()},[u,l,r.children]);const p=u._contentNode;return p?Ac.createPortal(r.children,p):null}return w.forwardRef(e)}function lD(t){function e(r,s){const{instance:l}=t(r).current;return w.useImperativeHandle(s,()=>l),null}return w.forwardRef(e)}function ox(t,e){const r=w.useRef();w.useEffect(function(){return e!=null&&t.instance.on(e),r.current=e,function(){r.current!=null&&t.instance.off(r.current),r.current=null}},[t,e])}function nm(t,e){const r=t.pane??e.pane;return r?{...t,pane:r}:t}function cD(t,e){return function(s,l){const c=nx(),u=t(nm(s,c),c);return FS(c.map,s.attribution),ox(u.current,s.eventHandlers),e(u.current,c,s,l),u}}var Gd={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var dD=Gd.exports,Lb;function uD(){return Lb||(Lb=1,(function(t,e){(function(r,s){s(e)})(dD,(function(r){var s="1.9.4";function l(i){var d,f,b,C;for(f=1,b=arguments.length;f<b;f++){C=arguments[f];for(d in C)i[d]=C[d]}return i}var c=Object.create||(function(){function i(){}return function(d){return i.prototype=d,new i}})();function u(i,d){var f=Array.prototype.slice;if(i.bind)return i.bind.apply(i,f.call(arguments,1));var b=f.call(arguments,2);return function(){return i.apply(d,b.length?b.concat(f.call(arguments)):arguments)}}var p=0;function m(i){return"_leaflet_id"in i||(i._leaflet_id=++p),i._leaflet_id}function v(i,d,f){var b,C,I,X;return X=function(){b=!1,C&&(I.apply(f,C),C=!1)},I=function(){b?C=arguments:(i.apply(f,arguments),setTimeout(X,d),b=!0)},I}function y(i,d,f){var b=d[1],C=d[0],I=b-C;return i===b&&f?i:((i-C)%I+I)%I+C}function x(){return!1}function E(i,d){if(d===!1)return i;var f=Math.pow(10,d===void 0?6:d);return Math.round(i*f)/f}function S(i){return i.trim?i.trim():i.replace(/^\s+|\s+$/g,"")}function k(i){return S(i).split(/\s+/)}function N(i,d){Object.prototype.hasOwnProperty.call(i,"options")||(i.options=i.options?c(i.options):{});for(var f in d)i.options[f]=d[f];return i.options}function P(i,d,f){var b=[];for(var C in i)b.push(encodeURIComponent(f?C.toUpperCase():C)+"="+encodeURIComponent(i[C]));return(!d||d.indexOf("?")===-1?"?":"&")+b.join("&")}var O=/\{ *([\w_ -]+) *\}/g;function T(i,d){return i.replace(O,function(f,b){var C=d[b];if(C===void 0)throw new Error("No value provided for variable "+f);return typeof C=="function"&&(C=C(d)),C})}var R=Array.isArray||function(i){return Object.prototype.toString.call(i)==="[object Array]"};function z(i,d){for(var f=0;f<i.length;f++)if(i[f]===d)return f;return-1}var Y="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function D(i){return window["webkit"+i]||window["moz"+i]||window["ms"+i]}var J=0;function ne(i){var d=+new Date,f=Math.max(0,16-(d-J));return J=d+f,window.setTimeout(i,f)}var we=window.requestAnimationFrame||D("RequestAnimationFrame")||ne,Z=window.cancelAnimationFrame||D("CancelAnimationFrame")||D("CancelRequestAnimationFrame")||function(i){window.clearTimeout(i)};function $(i,d,f){if(f&&we===ne)i.call(d);else return we.call(window,u(i,d))}function re(i){i&&Z.call(window,i)}var U={__proto__:null,extend:l,create:c,bind:u,get lastId(){return p},stamp:m,throttle:v,wrapNum:y,falseFn:x,formatNum:E,trim:S,splitWords:k,setOptions:N,getParamString:P,template:T,isArray:R,indexOf:z,emptyImageUrl:Y,requestFn:we,cancelFn:Z,requestAnimFrame:$,cancelAnimFrame:re};function W(){}W.extend=function(i){var d=function(){N(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},f=d.__super__=this.prototype,b=c(f);b.constructor=d,d.prototype=b;for(var C in this)Object.prototype.hasOwnProperty.call(this,C)&&C!=="prototype"&&C!=="__super__"&&(d[C]=this[C]);return i.statics&&l(d,i.statics),i.includes&&(be(i.includes),l.apply(null,[b].concat(i.includes))),l(b,i),delete b.statics,delete b.includes,b.options&&(b.options=f.options?c(f.options):{},l(b.options,i.options)),b._initHooks=[],b.callInitHooks=function(){if(!this._initHooksCalled){f.callInitHooks&&f.callInitHooks.call(this),this._initHooksCalled=!0;for(var I=0,X=b._initHooks.length;I<X;I++)b._initHooks[I].call(this)}},d},W.include=function(i){var d=this.prototype.options;return l(this.prototype,i),i.options&&(this.prototype.options=d,this.mergeOptions(i.options)),this},W.mergeOptions=function(i){return l(this.prototype.options,i),this},W.addInitHook=function(i){var d=Array.prototype.slice.call(arguments,1),f=typeof i=="function"?i:function(){this[i].apply(this,d)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(f),this};function be(i){if(!(typeof L>"u"||!L||!L.Mixin)){i=R(i)?i:[i];for(var d=0;d<i.length;d++)i[d]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var me={on:function(i,d,f){if(typeof i=="object")for(var b in i)this._on(b,i[b],d);else{i=k(i);for(var C=0,I=i.length;C<I;C++)this._on(i[C],d,f)}return this},off:function(i,d,f){if(!arguments.length)delete this._events;else if(typeof i=="object")for(var b in i)this._off(b,i[b],d);else{i=k(i);for(var C=arguments.length===1,I=0,X=i.length;I<X;I++)C?this._off(i[I]):this._off(i[I],d,f)}return this},_on:function(i,d,f,b){if(typeof d!="function"){console.warn("wrong listener type: "+typeof d);return}if(this._listens(i,d,f)===!1){f===this&&(f=void 0);var C={fn:d,ctx:f};b&&(C.once=!0),this._events=this._events||{},this._events[i]=this._events[i]||[],this._events[i].push(C)}},_off:function(i,d,f){var b,C,I;if(this._events&&(b=this._events[i],!!b)){if(arguments.length===1){if(this._firingCount)for(C=0,I=b.length;C<I;C++)b[C].fn=x;delete this._events[i];return}if(typeof d!="function"){console.warn("wrong listener type: "+typeof d);return}var X=this._listens(i,d,f);if(X!==!1){var ue=b[X];this._firingCount&&(ue.fn=x,this._events[i]=b=b.slice()),b.splice(X,1)}}},fire:function(i,d,f){if(!this.listens(i,f))return this;var b=l({},d,{type:i,target:this,sourceTarget:d&&d.sourceTarget||this});if(this._events){var C=this._events[i];if(C){this._firingCount=this._firingCount+1||1;for(var I=0,X=C.length;I<X;I++){var ue=C[I],ve=ue.fn;ue.once&&this.off(i,ve,ue.ctx),ve.call(ue.ctx||this,b)}this._firingCount--}}return f&&this._propagateEvent(b),this},listens:function(i,d,f,b){typeof i!="string"&&console.warn('"string" type argument expected');var C=d;typeof d!="function"&&(b=!!d,C=void 0,f=void 0);var I=this._events&&this._events[i];if(I&&I.length&&this._listens(i,C,f)!==!1)return!0;if(b){for(var X in this._eventParents)if(this._eventParents[X].listens(i,d,f,b))return!0}return!1},_listens:function(i,d,f){if(!this._events)return!1;var b=this._events[i]||[];if(!d)return!!b.length;f===this&&(f=void 0);for(var C=0,I=b.length;C<I;C++)if(b[C].fn===d&&b[C].ctx===f)return C;return!1},once:function(i,d,f){if(typeof i=="object")for(var b in i)this._on(b,i[b],d,!0);else{i=k(i);for(var C=0,I=i.length;C<I;C++)this._on(i[C],d,f,!0)}return this},addEventParent:function(i){return this._eventParents=this._eventParents||{},this._eventParents[m(i)]=i,this},removeEventParent:function(i){return this._eventParents&&delete this._eventParents[m(i)],this},_propagateEvent:function(i){for(var d in this._eventParents)this._eventParents[d].fire(i.type,l({layer:i.target,propagatedFrom:i.target},i),!0)}};me.addEventListener=me.on,me.removeEventListener=me.clearAllEventListeners=me.off,me.addOneTimeEventListener=me.once,me.fireEvent=me.fire,me.hasEventListeners=me.listens;var _e=W.extend(me);function q(i,d,f){this.x=f?Math.round(i):i,this.y=f?Math.round(d):d}var je=Math.trunc||function(i){return i>0?Math.floor(i):Math.ceil(i)};q.prototype={clone:function(){return new q(this.x,this.y)},add:function(i){return this.clone()._add(le(i))},_add:function(i){return this.x+=i.x,this.y+=i.y,this},subtract:function(i){return this.clone()._subtract(le(i))},_subtract:function(i){return this.x-=i.x,this.y-=i.y,this},divideBy:function(i){return this.clone()._divideBy(i)},_divideBy:function(i){return this.x/=i,this.y/=i,this},multiplyBy:function(i){return this.clone()._multiplyBy(i)},_multiplyBy:function(i){return this.x*=i,this.y*=i,this},scaleBy:function(i){return new q(this.x*i.x,this.y*i.y)},unscaleBy:function(i){return new q(this.x/i.x,this.y/i.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=je(this.x),this.y=je(this.y),this},distanceTo:function(i){i=le(i);var d=i.x-this.x,f=i.y-this.y;return Math.sqrt(d*d+f*f)},equals:function(i){return i=le(i),i.x===this.x&&i.y===this.y},contains:function(i){return i=le(i),Math.abs(i.x)<=Math.abs(this.x)&&Math.abs(i.y)<=Math.abs(this.y)},toString:function(){return"Point("+E(this.x)+", "+E(this.y)+")"}};function le(i,d,f){return i instanceof q?i:R(i)?new q(i[0],i[1]):i==null?i:typeof i=="object"&&"x"in i&&"y"in i?new q(i.x,i.y):new q(i,d,f)}function A(i,d){if(i)for(var f=d?[i,d]:i,b=0,C=f.length;b<C;b++)this.extend(f[b])}A.prototype={extend:function(i){var d,f;if(!i)return this;if(i instanceof q||typeof i[0]=="number"||"x"in i)d=f=le(i);else if(i=H(i),d=i.min,f=i.max,!d||!f)return this;return!this.min&&!this.max?(this.min=d.clone(),this.max=f.clone()):(this.min.x=Math.min(d.x,this.min.x),this.max.x=Math.max(f.x,this.max.x),this.min.y=Math.min(d.y,this.min.y),this.max.y=Math.max(f.y,this.max.y)),this},getCenter:function(i){return le((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,i)},getBottomLeft:function(){return le(this.min.x,this.max.y)},getTopRight:function(){return le(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(i){var d,f;return typeof i[0]=="number"||i instanceof q?i=le(i):i=H(i),i instanceof A?(d=i.min,f=i.max):d=f=i,d.x>=this.min.x&&f.x<=this.max.x&&d.y>=this.min.y&&f.y<=this.max.y},intersects:function(i){i=H(i);var d=this.min,f=this.max,b=i.min,C=i.max,I=C.x>=d.x&&b.x<=f.x,X=C.y>=d.y&&b.y<=f.y;return I&&X},overlaps:function(i){i=H(i);var d=this.min,f=this.max,b=i.min,C=i.max,I=C.x>d.x&&b.x<f.x,X=C.y>d.y&&b.y<f.y;return I&&X},isValid:function(){return!!(this.min&&this.max)},pad:function(i){var d=this.min,f=this.max,b=Math.abs(d.x-f.x)*i,C=Math.abs(d.y-f.y)*i;return H(le(d.x-b,d.y-C),le(f.x+b,f.y+C))},equals:function(i){return i?(i=H(i),this.min.equals(i.getTopLeft())&&this.max.equals(i.getBottomRight())):!1}};function H(i,d){return!i||i instanceof A?i:new A(i,d)}function V(i,d){if(i)for(var f=d?[i,d]:i,b=0,C=f.length;b<C;b++)this.extend(f[b])}V.prototype={extend:function(i){var d=this._southWest,f=this._northEast,b,C;if(i instanceof ce)b=i,C=i;else if(i instanceof V){if(b=i._southWest,C=i._northEast,!b||!C)return this}else return i?this.extend(xe(i)||F(i)):this;return!d&&!f?(this._southWest=new ce(b.lat,b.lng),this._northEast=new ce(C.lat,C.lng)):(d.lat=Math.min(b.lat,d.lat),d.lng=Math.min(b.lng,d.lng),f.lat=Math.max(C.lat,f.lat),f.lng=Math.max(C.lng,f.lng)),this},pad:function(i){var d=this._southWest,f=this._northEast,b=Math.abs(d.lat-f.lat)*i,C=Math.abs(d.lng-f.lng)*i;return new V(new ce(d.lat-b,d.lng-C),new ce(f.lat+b,f.lng+C))},getCenter:function(){return new ce((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new ce(this.getNorth(),this.getWest())},getSouthEast:function(){return new ce(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(i){typeof i[0]=="number"||i instanceof ce||"lat"in i?i=xe(i):i=F(i);var d=this._southWest,f=this._northEast,b,C;return i instanceof V?(b=i.getSouthWest(),C=i.getNorthEast()):b=C=i,b.lat>=d.lat&&C.lat<=f.lat&&b.lng>=d.lng&&C.lng<=f.lng},intersects:function(i){i=F(i);var d=this._southWest,f=this._northEast,b=i.getSouthWest(),C=i.getNorthEast(),I=C.lat>=d.lat&&b.lat<=f.lat,X=C.lng>=d.lng&&b.lng<=f.lng;return I&&X},overlaps:function(i){i=F(i);var d=this._southWest,f=this._northEast,b=i.getSouthWest(),C=i.getNorthEast(),I=C.lat>d.lat&&b.lat<f.lat,X=C.lng>d.lng&&b.lng<f.lng;return I&&X},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(i,d){return i?(i=F(i),this._southWest.equals(i.getSouthWest(),d)&&this._northEast.equals(i.getNorthEast(),d)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function F(i,d){return i instanceof V?i:new V(i,d)}function ce(i,d,f){if(isNaN(i)||isNaN(d))throw new Error("Invalid LatLng object: ("+i+", "+d+")");this.lat=+i,this.lng=+d,f!==void 0&&(this.alt=+f)}ce.prototype={equals:function(i,d){if(!i)return!1;i=xe(i);var f=Math.max(Math.abs(this.lat-i.lat),Math.abs(this.lng-i.lng));return f<=(d===void 0?1e-9:d)},toString:function(i){return"LatLng("+E(this.lat,i)+", "+E(this.lng,i)+")"},distanceTo:function(i){return ie.distance(this,xe(i))},wrap:function(){return ie.wrapLatLng(this)},toBounds:function(i){var d=180*i/40075017,f=d/Math.cos(Math.PI/180*this.lat);return F([this.lat-d,this.lng-f],[this.lat+d,this.lng+f])},clone:function(){return new ce(this.lat,this.lng,this.alt)}};function xe(i,d,f){return i instanceof ce?i:R(i)&&typeof i[0]!="object"?i.length===3?new ce(i[0],i[1],i[2]):i.length===2?new ce(i[0],i[1]):null:i==null?i:typeof i=="object"&&"lat"in i?new ce(i.lat,"lng"in i?i.lng:i.lon,i.alt):d===void 0?null:new ce(i,d,f)}var pe={latLngToPoint:function(i,d){var f=this.projection.project(i),b=this.scale(d);return this.transformation._transform(f,b)},pointToLatLng:function(i,d){var f=this.scale(d),b=this.transformation.untransform(i,f);return this.projection.unproject(b)},project:function(i){return this.projection.project(i)},unproject:function(i){return this.projection.unproject(i)},scale:function(i){return 256*Math.pow(2,i)},zoom:function(i){return Math.log(i/256)/Math.LN2},getProjectedBounds:function(i){if(this.infinite)return null;var d=this.projection.bounds,f=this.scale(i),b=this.transformation.transform(d.min,f),C=this.transformation.transform(d.max,f);return new A(b,C)},infinite:!1,wrapLatLng:function(i){var d=this.wrapLng?y(i.lng,this.wrapLng,!0):i.lng,f=this.wrapLat?y(i.lat,this.wrapLat,!0):i.lat,b=i.alt;return new ce(f,d,b)},wrapLatLngBounds:function(i){var d=i.getCenter(),f=this.wrapLatLng(d),b=d.lat-f.lat,C=d.lng-f.lng;if(b===0&&C===0)return i;var I=i.getSouthWest(),X=i.getNorthEast(),ue=new ce(I.lat-b,I.lng-C),ve=new ce(X.lat-b,X.lng-C);return new V(ue,ve)}},ie=l({},pe,{wrapLng:[-180,180],R:6371e3,distance:function(i,d){var f=Math.PI/180,b=i.lat*f,C=d.lat*f,I=Math.sin((d.lat-i.lat)*f/2),X=Math.sin((d.lng-i.lng)*f/2),ue=I*I+Math.cos(b)*Math.cos(C)*X*X,ve=2*Math.atan2(Math.sqrt(ue),Math.sqrt(1-ue));return this.R*ve}}),Pe=6378137,Me={R:Pe,MAX_LATITUDE:85.0511287798,project:function(i){var d=Math.PI/180,f=this.MAX_LATITUDE,b=Math.max(Math.min(f,i.lat),-f),C=Math.sin(b*d);return new q(this.R*i.lng*d,this.R*Math.log((1+C)/(1-C))/2)},unproject:function(i){var d=180/Math.PI;return new ce((2*Math.atan(Math.exp(i.y/this.R))-Math.PI/2)*d,i.x*d/this.R)},bounds:(function(){var i=Pe*Math.PI;return new A([-i,-i],[i,i])})()};function $e(i,d,f,b){if(R(i)){this._a=i[0],this._b=i[1],this._c=i[2],this._d=i[3];return}this._a=i,this._b=d,this._c=f,this._d=b}$e.prototype={transform:function(i,d){return this._transform(i.clone(),d)},_transform:function(i,d){return d=d||1,i.x=d*(this._a*i.x+this._b),i.y=d*(this._c*i.y+this._d),i},untransform:function(i,d){return d=d||1,new q((i.x/d-this._b)/this._a,(i.y/d-this._d)/this._c)}};function Ie(i,d,f,b){return new $e(i,d,f,b)}var nt=l({},ie,{code:"EPSG:3857",projection:Me,transformation:(function(){var i=.5/(Math.PI*Me.R);return Ie(i,.5,-i,.5)})()}),it=l({},nt,{code:"EPSG:900913"});function Lt(i){return document.createElementNS("http://www.w3.org/2000/svg",i)}function $t(i,d){var f="",b,C,I,X,ue,ve;for(b=0,I=i.length;b<I;b++){for(ue=i[b],C=0,X=ue.length;C<X;C++)ve=ue[C],f+=(C?"L":"M")+ve.x+" "+ve.y;f+=d?ze.svg?"z":"x":""}return f||"M0 0"}var Pt=document.documentElement.style,_t="ActiveXObject"in window,Nt=_t&&!document.addEventListener,ur="msLaunchUri"in navigator&&!("documentMode"in document),gr=fr("webkit"),jt=fr("android"),Gt=fr("android 2")||fr("android 3"),Cn=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Un=jt&&fr("Google")&&Cn<537&&!("AudioNode"in window),Ar=!!window.opera,Wr=!ur&&fr("chrome"),se=fr("gecko")&&!gr&&!Ar&&!_t,Ee=!Wr&&fr("safari"),G=fr("phantom"),B="OTransition"in Pt,Q=navigator.platform.indexOf("Win")===0,de=_t&&"transition"in Pt,ge="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Gt,Ke="MozPerspective"in Pt,Re=!window.L_DISABLE_3D&&(de||ge||Ke)&&!B&&!G,at=typeof orientation<"u"||fr("mobile"),dt=at&&gr,Xe=at&&ge,Tt=!window.PointerEvent&&window.MSPointerEvent,It=!!(window.PointerEvent||Tt),Br="ontouchstart"in window||!!window.TouchEvent,qn=!window.L_NO_TOUCH&&(Br||It),st=at&&Ar,Ft=at&&se,St=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,vr=(function(){var i=!1;try{var d=Object.defineProperty({},"passive",{get:function(){i=!0}});window.addEventListener("testPassiveEventSupport",x,d),window.removeEventListener("testPassiveEventSupport",x,d)}catch{}return i})(),Wn=(function(){return!!document.createElement("canvas").getContext})(),Ut=!!(document.createElementNS&&Lt("svg").createSVGRect),ar=!!Ut&&(function(){var i=document.createElement("div");return i.innerHTML="<svg/>",(i.firstChild&&i.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),Hn=!Ut&&(function(){try{var i=document.createElement("div");i.innerHTML='<v:shape adj="1"/>';var d=i.firstChild;return d.style.behavior="url(#default#VML)",d&&typeof d.adj=="object"}catch{return!1}})(),hr=navigator.platform.indexOf("Mac")===0,zr=navigator.platform.indexOf("Linux")===0;function fr(i){return navigator.userAgent.toLowerCase().indexOf(i)>=0}var ze={ie:_t,ielt9:Nt,edge:ur,webkit:gr,android:jt,android23:Gt,androidStock:Un,opera:Ar,chrome:Wr,gecko:se,safari:Ee,phantom:G,opera12:B,win:Q,ie3d:de,webkit3d:ge,gecko3d:Ke,any3d:Re,mobile:at,mobileWebkit:dt,mobileWebkit3d:Xe,msPointer:Tt,pointer:It,touch:qn,touchNative:Br,mobileOpera:st,mobileGecko:Ft,retina:St,passiveEvents:vr,canvas:Wn,svg:Ut,vml:Hn,inlineSvg:ar,mac:hr,linux:zr},Fo=ze.msPointer?"MSPointerDown":"pointerdown",sa=ze.msPointer?"MSPointerMove":"pointermove",bu=ze.msPointer?"MSPointerUp":"pointerup",_u=ze.msPointer?"MSPointerCancel":"pointercancel",Hc={touchstart:Fo,touchmove:sa,touchend:bu,touchcancel:_u},Uo={touchstart:tr,touchmove:ll,touchend:ll,touchcancel:ll},ps={},Vc=!1;function im(i,d,f){return d==="touchstart"&&am(),Uo[d]?(f=Uo[d].bind(this,f),i.addEventListener(Hc[d],f,!1),f):(console.warn("wrong event specified:",d),x)}function wu(i,d,f){if(!Hc[d]){console.warn("wrong event specified:",d);return}i.removeEventListener(Hc[d],f,!1)}function ju(i){ps[i.pointerId]=i}function Su(i){ps[i.pointerId]&&(ps[i.pointerId]=i)}function Gc(i){delete ps[i.pointerId]}function am(){Vc||(document.addEventListener(Fo,ju,!0),document.addEventListener(sa,Su,!0),document.addEventListener(bu,Gc,!0),document.addEventListener(_u,Gc,!0),Vc=!0)}function ll(i,d){if(d.pointerType!==(d.MSPOINTER_TYPE_MOUSE||"mouse")){d.touches=[];for(var f in ps)d.touches.push(ps[f]);d.changedTouches=[d],i(d)}}function tr(i,d){d.MSPOINTER_TYPE_TOUCH&&d.pointerType===d.MSPOINTER_TYPE_TOUCH&&rr(d),ll(i,d)}function lm(i){var d={},f,b;for(b in i)f=i[b],d[b]=f&&f.bind?f.bind(i):f;return i=d,d.type="dblclick",d.detail=2,d.isTrusted=!1,d._simulated=!0,d}var Kc=200;function Eu(i,d){i.addEventListener("dblclick",d);var f=0,b;function C(I){if(I.detail!==1){b=I.detail;return}if(!(I.pointerType==="mouse"||I.sourceCapabilities&&!I.sourceCapabilities.firesTouchEvents)){var X=xs(I);if(!(X.some(function(ve){return ve instanceof HTMLLabelElement&&ve.attributes.for})&&!X.some(function(ve){return ve instanceof HTMLInputElement||ve instanceof HTMLSelectElement}))){var ue=Date.now();ue-f<=Kc?(b++,b===2&&d(lm(I))):b=1,f=ue}}}return i.addEventListener("click",C),{dblclick:d,simDblclick:C}}function cl(i,d){i.removeEventListener("dblclick",d.dblclick),i.removeEventListener("click",d.simDblclick)}var Zc=ni(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),ei=ni(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),ia=ei==="webkitTransition"||ei==="OTransition"?ei+"End":"transitionend";function kn(i){return typeof i=="string"?document.getElementById(i):i}function aa(i,d){var f=i.style[d]||i.currentStyle&&i.currentStyle[d];if((!f||f==="auto")&&document.defaultView){var b=document.defaultView.getComputedStyle(i,null);f=b?b[d]:null}return f==="auto"?null:f}function ht(i,d,f){var b=document.createElement(i);return b.className=d||"",f&&f.appendChild(b),b}function Kt(i){var d=i.parentNode;d&&d.removeChild(i)}function dl(i){for(;i.firstChild;)i.removeChild(i.firstChild)}function ti(i){var d=i.parentNode;d&&d.lastChild!==i&&d.appendChild(i)}function fo(i){var d=i.parentNode;d&&d.firstChild!==i&&d.insertBefore(i,d.firstChild)}function ri(i,d){if(i.classList!==void 0)return i.classList.contains(d);var f=ul(i);return f.length>0&&new RegExp("(^|\\s)"+d+"(\\s|$)").test(f)}function ut(i,d){if(i.classList!==void 0)for(var f=k(d),b=0,C=f.length;b<C;b++)i.classList.add(f[b]);else if(!ri(i,d)){var I=ul(i);Qc(i,(I?I+" ":"")+d)}}function qt(i,d){i.classList!==void 0?i.classList.remove(d):Qc(i,S((" "+ul(i)+" ").replace(" "+d+" "," ")))}function Qc(i,d){i.className.baseVal===void 0?i.className=d:i.className.baseVal=d}function ul(i){return i.correspondingElement&&(i=i.correspondingElement),i.className.baseVal===void 0?i.className:i.className.baseVal}function Hr(i,d){"opacity"in i.style?i.style.opacity=d:"filter"in i.style&&Nu(i,d)}function Nu(i,d){var f=!1,b="DXImageTransform.Microsoft.Alpha";try{f=i.filters.item(b)}catch{if(d===1)return}d=Math.round(d*100),f?(f.Enabled=d!==100,f.Opacity=d):i.style.filter+=" progid:"+b+"(opacity="+d+")"}function ni(i){for(var d=document.documentElement.style,f=0;f<i.length;f++)if(i[f]in d)return i[f];return!1}function Pn(i,d,f){var b=d||new q(0,0);i.style[Zc]=(ze.ie3d?"translate("+b.x+"px,"+b.y+"px)":"translate3d("+b.x+"px,"+b.y+"px,0)")+(f?" scale("+f+")":"")}function lr(i,d){i._leaflet_pos=d,ze.any3d?Pn(i,d):(i.style.left=d.x+"px",i.style.top=d.y+"px")}function mo(i){return i._leaflet_pos||new q(0,0)}var yt,oi,hl;if("onselectstart"in document)yt=function(){lt(window,"selectstart",rr)},oi=function(){Dt(window,"selectstart",rr)};else{var gs=ni(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);yt=function(){if(gs){var i=document.documentElement.style;hl=i[gs],i[gs]="none"}},oi=function(){gs&&(document.documentElement.style[gs]=hl,hl=void 0)}}function fl(){lt(window,"dragstart",rr)}function ml(){Dt(window,"dragstart",rr)}var la,ca;function si(i){for(;i.tabIndex===-1;)i=i.parentNode;i.style&&(Tn(),la=i,ca=i.style.outlineStyle,i.style.outlineStyle="none",lt(window,"keydown",Tn))}function Tn(){la&&(la.style.outlineStyle=ca,la=void 0,ca=void 0,Dt(window,"keydown",Tn))}function po(i){do i=i.parentNode;while((!i.offsetWidth||!i.offsetHeight)&&i!==document.body);return i}function Vn(i){var d=i.getBoundingClientRect();return{x:d.width/i.offsetWidth||1,y:d.height/i.offsetHeight||1,boundingClientRect:d}}var da={__proto__:null,TRANSFORM:Zc,TRANSITION:ei,TRANSITION_END:ia,get:kn,getStyle:aa,create:ht,remove:Kt,empty:dl,toFront:ti,toBack:fo,hasClass:ri,addClass:ut,removeClass:qt,setClass:Qc,getClass:ul,setOpacity:Hr,testProp:ni,setTransform:Pn,setPosition:lr,getPosition:mo,get disableTextSelection(){return yt},get enableTextSelection(){return oi},disableImageDrag:fl,enableImageDrag:ml,preventOutline:si,restoreOutline:Tn,getSizedParentNode:po,getScale:Vn};function lt(i,d,f,b){if(d&&typeof d=="object")for(var C in d)Yc(i,C,d[C],f);else{d=k(d);for(var I=0,X=d.length;I<X;I++)Yc(i,d[I],f,b)}return this}var Er="_leaflet_events";function Dt(i,d,f,b){if(arguments.length===1)Jc(i),delete i[Er];else if(d&&typeof d=="object")for(var C in d)pl(i,C,d[C],f);else if(d=k(d),arguments.length===2)Jc(i,function(ue){return z(d,ue)!==-1});else for(var I=0,X=d.length;I<X;I++)pl(i,d[I],f,b);return this}function Jc(i,d){for(var f in i[Er]){var b=f.split(/\d/)[0];(!d||d(b))&&pl(i,b,null,null,f)}}var vs={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Yc(i,d,f,b){var C=d+m(f)+(b?"_"+m(b):"");if(i[Er]&&i[Er][C])return this;var I=function(ue){return f.call(b||i,ue||window.event)},X=I;!ze.touchNative&&ze.pointer&&d.indexOf("touch")===0?I=im(i,d,I):ze.touch&&d==="dblclick"?I=Eu(i,I):"addEventListener"in i?d==="touchstart"||d==="touchmove"||d==="wheel"||d==="mousewheel"?i.addEventListener(vs[d]||d,I,ze.passiveEvents?{passive:!1}:!1):d==="mouseenter"||d==="mouseleave"?(I=function(ue){ue=ue||window.event,fa(i,ue)&&X(ue)},i.addEventListener(vs[d],I,!1)):i.addEventListener(d,X,!1):i.attachEvent("on"+d,I),i[Er]=i[Er]||{},i[Er][C]=I}function pl(i,d,f,b,C){C=C||d+m(f)+(b?"_"+m(b):"");var I=i[Er]&&i[Er][C];if(!I)return this;!ze.touchNative&&ze.pointer&&d.indexOf("touch")===0?wu(i,d,I):ze.touch&&d==="dblclick"?cl(i,I):"removeEventListener"in i?i.removeEventListener(vs[d]||d,I,!1):i.detachEvent("on"+d,I),i[Er][C]=null}function Gn(i){return i.stopPropagation?i.stopPropagation():i.originalEvent?i.originalEvent._stopped=!0:i.cancelBubble=!0,this}function gl(i){return Yc(i,"wheel",Gn),this}function ua(i){return lt(i,"mousedown touchstart dblclick contextmenu",Gn),i._leaflet_disable_click=!0,this}function rr(i){return i.preventDefault?i.preventDefault():i.returnValue=!1,this}function Rn(i){return rr(i),Gn(i),this}function xs(i){if(i.composedPath)return i.composedPath();for(var d=[],f=i.target;f;)d.push(f),f=f.parentNode;return d}function ha(i,d){if(!d)return new q(i.clientX,i.clientY);var f=Vn(d),b=f.boundingClientRect;return new q((i.clientX-b.left)/f.x-d.clientLeft,(i.clientY-b.top)/f.y-d.clientTop)}var cm=ze.linux&&ze.chrome?window.devicePixelRatio:ze.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Cu(i){return ze.edge?i.wheelDeltaY/2:i.deltaY&&i.deltaMode===0?-i.deltaY/cm:i.deltaY&&i.deltaMode===1?-i.deltaY*20:i.deltaY&&i.deltaMode===2?-i.deltaY*60:i.deltaX||i.deltaZ?0:i.wheelDelta?(i.wheelDeltaY||i.wheelDelta)/2:i.detail&&Math.abs(i.detail)<32765?-i.detail*20:i.detail?i.detail/-32765*60:0}function fa(i,d){var f=d.relatedTarget;if(!f)return!0;try{for(;f&&f!==i;)f=f.parentNode}catch{return!1}return f!==i}var vl={__proto__:null,on:lt,off:Dt,stopPropagation:Gn,disableScrollPropagation:gl,disableClickPropagation:ua,preventDefault:rr,stop:Rn,getPropagationPath:xs,getMousePosition:ha,getWheelDelta:Cu,isExternalTarget:fa,addListener:lt,removeListener:Dt},xl=_e.extend({run:function(i,d,f,b){this.stop(),this._el=i,this._inProgress=!0,this._duration=f||.25,this._easeOutPower=1/Math.max(b||.5,.2),this._startPos=mo(i),this._offset=d.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=$(this._animate,this),this._step()},_step:function(i){var d=+new Date-this._startTime,f=this._duration*1e3;d<f?this._runFrame(this._easeOut(d/f),i):(this._runFrame(1),this._complete())},_runFrame:function(i,d){var f=this._startPos.add(this._offset.multiplyBy(i));d&&f._round(),lr(this._el,f),this.fire("step")},_complete:function(){re(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(i){return 1-Math.pow(1-i,this._easeOutPower)}}),vt=_e.extend({options:{crs:nt,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(i,d){d=N(this,d),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(i),this._initLayout(),this._onResize=u(this._onResize,this),this._initEvents(),d.maxBounds&&this.setMaxBounds(d.maxBounds),d.zoom!==void 0&&(this._zoom=this._limitZoom(d.zoom)),d.center&&d.zoom!==void 0&&this.setView(xe(d.center),d.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=ei&&ze.any3d&&!ze.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),lt(this._proxy,ia,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(i,d,f){if(d=d===void 0?this._zoom:this._limitZoom(d),i=this._limitCenter(xe(i),d,this.options.maxBounds),f=f||{},this._stop(),this._loaded&&!f.reset&&f!==!0){f.animate!==void 0&&(f.zoom=l({animate:f.animate},f.zoom),f.pan=l({animate:f.animate,duration:f.duration},f.pan));var b=this._zoom!==d?this._tryAnimatedZoom&&this._tryAnimatedZoom(i,d,f.zoom):this._tryAnimatedPan(i,f.pan);if(b)return clearTimeout(this._sizeTimer),this}return this._resetView(i,d,f.pan&&f.pan.noMoveStart),this},setZoom:function(i,d){return this._loaded?this.setView(this.getCenter(),i,{zoom:d}):(this._zoom=i,this)},zoomIn:function(i,d){return i=i||(ze.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+i,d)},zoomOut:function(i,d){return i=i||(ze.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-i,d)},setZoomAround:function(i,d,f){var b=this.getZoomScale(d),C=this.getSize().divideBy(2),I=i instanceof q?i:this.latLngToContainerPoint(i),X=I.subtract(C).multiplyBy(1-1/b),ue=this.containerPointToLatLng(C.add(X));return this.setView(ue,d,{zoom:f})},_getBoundsCenterZoom:function(i,d){d=d||{},i=i.getBounds?i.getBounds():F(i);var f=le(d.paddingTopLeft||d.padding||[0,0]),b=le(d.paddingBottomRight||d.padding||[0,0]),C=this.getBoundsZoom(i,!1,f.add(b));if(C=typeof d.maxZoom=="number"?Math.min(d.maxZoom,C):C,C===1/0)return{center:i.getCenter(),zoom:C};var I=b.subtract(f).divideBy(2),X=this.project(i.getSouthWest(),C),ue=this.project(i.getNorthEast(),C),ve=this.unproject(X.add(ue).divideBy(2).add(I),C);return{center:ve,zoom:C}},fitBounds:function(i,d){if(i=F(i),!i.isValid())throw new Error("Bounds are not valid.");var f=this._getBoundsCenterZoom(i,d);return this.setView(f.center,f.zoom,d)},fitWorld:function(i){return this.fitBounds([[-90,-180],[90,180]],i)},panTo:function(i,d){return this.setView(i,this._zoom,{pan:d})},panBy:function(i,d){if(i=le(i).round(),d=d||{},!i.x&&!i.y)return this.fire("moveend");if(d.animate!==!0&&!this.getSize().contains(i))return this._resetView(this.unproject(this.project(this.getCenter()).add(i)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new xl,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),d.noMoveStart||this.fire("movestart"),d.animate!==!1){ut(this._mapPane,"leaflet-pan-anim");var f=this._getMapPanePos().subtract(i).round();this._panAnim.run(this._mapPane,f,d.duration||.25,d.easeLinearity)}else this._rawPanBy(i),this.fire("move").fire("moveend");return this},flyTo:function(i,d,f){if(f=f||{},f.animate===!1||!ze.any3d)return this.setView(i,d,f);this._stop();var b=this.project(this.getCenter()),C=this.project(i),I=this.getSize(),X=this._zoom;i=xe(i),d=d===void 0?X:d;var ue=Math.max(I.x,I.y),ve=ue*this.getZoomScale(X,d),Ne=C.distanceTo(b)||1,De=1.42,et=De*De;function ft(Rt){var bi=Rt?-1:1,jm=Rt?ve:ue,Sm=ve*ve-ue*ue+bi*et*et*Ne*Ne,Es=2*jm*et*Ne,Ns=Sm/Es,Cs=Math.sqrt(Ns*Ns+1)-Ns,Al=Cs<1e-9?-18:Math.log(Cs);return Al}function Nr(Rt){return(Math.exp(Rt)-Math.exp(-Rt))/2}function xr(Rt){return(Math.exp(Rt)+Math.exp(-Rt))/2}function nn(Rt){return Nr(Rt)/xr(Rt)}var Gr=ft(0);function xi(Rt){return ue*(xr(Gr)/xr(Gr+De*Rt))}function yd(Rt){return ue*(xr(Gr)*nn(Gr+De*Rt)-Nr(Gr))/et}function Qo(Rt){return 1-Math.pow(1-Rt,1.5)}var Ku=Date.now(),Ss=(ft(1)-Gr)/De,Jn=f.duration?1e3*f.duration:1e3*Ss*.8;function yi(){var Rt=(Date.now()-Ku)/Jn,bi=Qo(Rt)*Ss;Rt<=1?(this._flyToFrame=$(yi,this),this._move(this.unproject(b.add(C.subtract(b).multiplyBy(yd(bi)/Ne)),X),this.getScaleZoom(ue/xi(bi),X),{flyTo:!0})):this._move(i,d)._moveEnd(!0)}return this._moveStart(!0,f.noMoveStart),yi.call(this),this},flyToBounds:function(i,d){var f=this._getBoundsCenterZoom(i,d);return this.flyTo(f.center,f.zoom,d)},setMaxBounds:function(i){return i=F(i),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),i.isValid()?(this.options.maxBounds=i,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(i){var d=this.options.minZoom;return this.options.minZoom=i,this._loaded&&d!==i&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(i):this},setMaxZoom:function(i){var d=this.options.maxZoom;return this.options.maxZoom=i,this._loaded&&d!==i&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(i):this},panInsideBounds:function(i,d){this._enforcingBounds=!0;var f=this.getCenter(),b=this._limitCenter(f,this._zoom,F(i));return f.equals(b)||this.panTo(b,d),this._enforcingBounds=!1,this},panInside:function(i,d){d=d||{};var f=le(d.paddingTopLeft||d.padding||[0,0]),b=le(d.paddingBottomRight||d.padding||[0,0]),C=this.project(this.getCenter()),I=this.project(i),X=this.getPixelBounds(),ue=H([X.min.add(f),X.max.subtract(b)]),ve=ue.getSize();if(!ue.contains(I)){this._enforcingBounds=!0;var Ne=I.subtract(ue.getCenter()),De=ue.extend(I).getSize().subtract(ve);C.x+=Ne.x<0?-De.x:De.x,C.y+=Ne.y<0?-De.y:De.y,this.panTo(this.unproject(C),d),this._enforcingBounds=!1}return this},invalidateSize:function(i){if(!this._loaded)return this;i=l({animate:!1,pan:!0},i===!0?{animate:!0}:i);var d=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var f=this.getSize(),b=d.divideBy(2).round(),C=f.divideBy(2).round(),I=b.subtract(C);return!I.x&&!I.y?this:(i.animate&&i.pan?this.panBy(I):(i.pan&&this._rawPanBy(I),this.fire("move"),i.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(u(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:d,newSize:f}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(i){if(i=this._locateOptions=l({timeout:1e4,watch:!1},i),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var d=u(this._handleGeolocationResponse,this),f=u(this._handleGeolocationError,this);return i.watch?this._locationWatchId=navigator.geolocation.watchPosition(d,f,i):navigator.geolocation.getCurrentPosition(d,f,i),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(i){if(this._container._leaflet_id){var d=i.code,f=i.message||(d===1?"permission denied":d===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:d,message:"Geolocation error: "+f+"."})}},_handleGeolocationResponse:function(i){if(this._container._leaflet_id){var d=i.coords.latitude,f=i.coords.longitude,b=new ce(d,f),C=b.toBounds(i.coords.accuracy*2),I=this._locateOptions;if(I.setView){var X=this.getBoundsZoom(C);this.setView(b,I.maxZoom?Math.min(X,I.maxZoom):X)}var ue={latlng:b,bounds:C,timestamp:i.timestamp};for(var ve in i.coords)typeof i.coords[ve]=="number"&&(ue[ve]=i.coords[ve]);this.fire("locationfound",ue)}},addHandler:function(i,d){if(!d)return this;var f=this[i]=new d(this);return this._handlers.push(f),this.options[i]&&f.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Kt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(re(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var i;for(i in this._layers)this._layers[i].remove();for(i in this._panes)Kt(this._panes[i]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(i,d){var f="leaflet-pane"+(i?" leaflet-"+i.replace("Pane","")+"-pane":""),b=ht("div",f,d||this._mapPane);return i&&(this._panes[i]=b),b},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var i=this.getPixelBounds(),d=this.unproject(i.getBottomLeft()),f=this.unproject(i.getTopRight());return new V(d,f)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(i,d,f){i=F(i),f=le(f||[0,0]);var b=this.getZoom()||0,C=this.getMinZoom(),I=this.getMaxZoom(),X=i.getNorthWest(),ue=i.getSouthEast(),ve=this.getSize().subtract(f),Ne=H(this.project(ue,b),this.project(X,b)).getSize(),De=ze.any3d?this.options.zoomSnap:1,et=ve.x/Ne.x,ft=ve.y/Ne.y,Nr=d?Math.max(et,ft):Math.min(et,ft);return b=this.getScaleZoom(Nr,b),De&&(b=Math.round(b/(De/100))*(De/100),b=d?Math.ceil(b/De)*De:Math.floor(b/De)*De),Math.max(C,Math.min(I,b))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new q(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(i,d){var f=this._getTopLeftPoint(i,d);return new A(f,f.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(i){return this.options.crs.getProjectedBounds(i===void 0?this.getZoom():i)},getPane:function(i){return typeof i=="string"?this._panes[i]:i},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(i,d){var f=this.options.crs;return d=d===void 0?this._zoom:d,f.scale(i)/f.scale(d)},getScaleZoom:function(i,d){var f=this.options.crs;d=d===void 0?this._zoom:d;var b=f.zoom(i*f.scale(d));return isNaN(b)?1/0:b},project:function(i,d){return d=d===void 0?this._zoom:d,this.options.crs.latLngToPoint(xe(i),d)},unproject:function(i,d){return d=d===void 0?this._zoom:d,this.options.crs.pointToLatLng(le(i),d)},layerPointToLatLng:function(i){var d=le(i).add(this.getPixelOrigin());return this.unproject(d)},latLngToLayerPoint:function(i){var d=this.project(xe(i))._round();return d._subtract(this.getPixelOrigin())},wrapLatLng:function(i){return this.options.crs.wrapLatLng(xe(i))},wrapLatLngBounds:function(i){return this.options.crs.wrapLatLngBounds(F(i))},distance:function(i,d){return this.options.crs.distance(xe(i),xe(d))},containerPointToLayerPoint:function(i){return le(i).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(i){return le(i).add(this._getMapPanePos())},containerPointToLatLng:function(i){var d=this.containerPointToLayerPoint(le(i));return this.layerPointToLatLng(d)},latLngToContainerPoint:function(i){return this.layerPointToContainerPoint(this.latLngToLayerPoint(xe(i)))},mouseEventToContainerPoint:function(i){return ha(i,this._container)},mouseEventToLayerPoint:function(i){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(i))},mouseEventToLatLng:function(i){return this.layerPointToLatLng(this.mouseEventToLayerPoint(i))},_initContainer:function(i){var d=this._container=kn(i);if(d){if(d._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");lt(d,"scroll",this._onScroll,this),this._containerId=m(d)},_initLayout:function(){var i=this._container;this._fadeAnimated=this.options.fadeAnimation&&ze.any3d,ut(i,"leaflet-container"+(ze.touch?" leaflet-touch":"")+(ze.retina?" leaflet-retina":"")+(ze.ielt9?" leaflet-oldie":"")+(ze.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var d=aa(i,"position");d!=="absolute"&&d!=="relative"&&d!=="fixed"&&d!=="sticky"&&(i.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var i=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),lr(this._mapPane,new q(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(ut(i.markerPane,"leaflet-zoom-hide"),ut(i.shadowPane,"leaflet-zoom-hide"))},_resetView:function(i,d,f){lr(this._mapPane,new q(0,0));var b=!this._loaded;this._loaded=!0,d=this._limitZoom(d),this.fire("viewprereset");var C=this._zoom!==d;this._moveStart(C,f)._move(i,d)._moveEnd(C),this.fire("viewreset"),b&&this.fire("load")},_moveStart:function(i,d){return i&&this.fire("zoomstart"),d||this.fire("movestart"),this},_move:function(i,d,f,b){d===void 0&&(d=this._zoom);var C=this._zoom!==d;return this._zoom=d,this._lastCenter=i,this._pixelOrigin=this._getNewPixelOrigin(i),b?f&&f.pinch&&this.fire("zoom",f):((C||f&&f.pinch)&&this.fire("zoom",f),this.fire("move",f)),this},_moveEnd:function(i){return i&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return re(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(i){lr(this._mapPane,this._getMapPanePos().subtract(i))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(i){this._targets={},this._targets[m(this._container)]=this;var d=i?Dt:lt;d(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&d(window,"resize",this._onResize,this),ze.any3d&&this.options.transform3DLimit&&(i?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){re(this._resizeRequest),this._resizeRequest=$(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var i=this._getMapPanePos();Math.max(Math.abs(i.x),Math.abs(i.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(i,d){for(var f=[],b,C=d==="mouseout"||d==="mouseover",I=i.target||i.srcElement,X=!1;I;){if(b=this._targets[m(I)],b&&(d==="click"||d==="preclick")&&this._draggableMoved(b)){X=!0;break}if(b&&b.listens(d,!0)&&(C&&!fa(I,i)||(f.push(b),C))||I===this._container)break;I=I.parentNode}return!f.length&&!X&&!C&&this.listens(d,!0)&&(f=[this]),f},_isClickDisabled:function(i){for(;i&&i!==this._container;){if(i._leaflet_disable_click)return!0;i=i.parentNode}},_handleDOMEvent:function(i){var d=i.target||i.srcElement;if(!(!this._loaded||d._leaflet_disable_events||i.type==="click"&&this._isClickDisabled(d))){var f=i.type;f==="mousedown"&&si(d),this._fireDOMEvent(i,f)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(i,d,f){if(i.type==="click"){var b=l({},i);b.type="preclick",this._fireDOMEvent(b,b.type,f)}var C=this._findEventTargets(i,d);if(f){for(var I=[],X=0;X<f.length;X++)f[X].listens(d,!0)&&I.push(f[X]);C=I.concat(C)}if(C.length){d==="contextmenu"&&rr(i);var ue=C[0],ve={originalEvent:i};if(i.type!=="keypress"&&i.type!=="keydown"&&i.type!=="keyup"){var Ne=ue.getLatLng&&(!ue._radius||ue._radius<=10);ve.containerPoint=Ne?this.latLngToContainerPoint(ue.getLatLng()):this.mouseEventToContainerPoint(i),ve.layerPoint=this.containerPointToLayerPoint(ve.containerPoint),ve.latlng=Ne?ue.getLatLng():this.layerPointToLatLng(ve.layerPoint)}for(X=0;X<C.length;X++)if(C[X].fire(d,ve,!0),ve.originalEvent._stopped||C[X].options.bubblingMouseEvents===!1&&z(this._mouseEvents,d)!==-1)return}},_draggableMoved:function(i){return i=i.dragging&&i.dragging.enabled()?i:this,i.dragging&&i.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var i=0,d=this._handlers.length;i<d;i++)this._handlers[i].disable()},whenReady:function(i,d){return this._loaded?i.call(d||this,{target:this}):this.on("load",i,d),this},_getMapPanePos:function(){return mo(this._mapPane)||new q(0,0)},_moved:function(){var i=this._getMapPanePos();return i&&!i.equals([0,0])},_getTopLeftPoint:function(i,d){var f=i&&d!==void 0?this._getNewPixelOrigin(i,d):this.getPixelOrigin();return f.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(i,d){var f=this.getSize()._divideBy(2);return this.project(i,d)._subtract(f)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(i,d,f){var b=this._getNewPixelOrigin(f,d);return this.project(i,d)._subtract(b)},_latLngBoundsToNewLayerBounds:function(i,d,f){var b=this._getNewPixelOrigin(f,d);return H([this.project(i.getSouthWest(),d)._subtract(b),this.project(i.getNorthWest(),d)._subtract(b),this.project(i.getSouthEast(),d)._subtract(b),this.project(i.getNorthEast(),d)._subtract(b)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(i){return this.latLngToLayerPoint(i).subtract(this._getCenterLayerPoint())},_limitCenter:function(i,d,f){if(!f)return i;var b=this.project(i,d),C=this.getSize().divideBy(2),I=new A(b.subtract(C),b.add(C)),X=this._getBoundsOffset(I,f,d);return Math.abs(X.x)<=1&&Math.abs(X.y)<=1?i:this.unproject(b.add(X),d)},_limitOffset:function(i,d){if(!d)return i;var f=this.getPixelBounds(),b=new A(f.min.add(i),f.max.add(i));return i.add(this._getBoundsOffset(b,d))},_getBoundsOffset:function(i,d,f){var b=H(this.project(d.getNorthEast(),f),this.project(d.getSouthWest(),f)),C=b.min.subtract(i.min),I=b.max.subtract(i.max),X=this._rebound(C.x,-I.x),ue=this._rebound(C.y,-I.y);return new q(X,ue)},_rebound:function(i,d){return i+d>0?Math.round(i-d)/2:Math.max(0,Math.ceil(i))-Math.max(0,Math.floor(d))},_limitZoom:function(i){var d=this.getMinZoom(),f=this.getMaxZoom(),b=ze.any3d?this.options.zoomSnap:1;return b&&(i=Math.round(i/b)*b),Math.max(d,Math.min(f,i))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){qt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(i,d){var f=this._getCenterOffset(i)._trunc();return(d&&d.animate)!==!0&&!this.getSize().contains(f)?!1:(this.panBy(f,d),!0)},_createAnimProxy:function(){var i=this._proxy=ht("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(i),this.on("zoomanim",function(d){var f=Zc,b=this._proxy.style[f];Pn(this._proxy,this.project(d.center,d.zoom),this.getZoomScale(d.zoom,1)),b===this._proxy.style[f]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Kt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var i=this.getCenter(),d=this.getZoom();Pn(this._proxy,this.project(i,d),this.getZoomScale(d,1))},_catchTransitionEnd:function(i){this._animatingZoom&&i.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(i,d,f){if(this._animatingZoom)return!0;if(f=f||{},!this._zoomAnimated||f.animate===!1||this._nothingToAnimate()||Math.abs(d-this._zoom)>this.options.zoomAnimationThreshold)return!1;var b=this.getZoomScale(d),C=this._getCenterOffset(i)._divideBy(1-1/b);return f.animate!==!0&&!this.getSize().contains(C)?!1:($(function(){this._moveStart(!0,f.noMoveStart||!1)._animateZoom(i,d,!0)},this),!0)},_animateZoom:function(i,d,f,b){this._mapPane&&(f&&(this._animatingZoom=!0,this._animateToCenter=i,this._animateToZoom=d,ut(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:i,zoom:d,noUpdate:b}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(u(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&qt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function qo(i,d){return new vt(i,d)}var tn=W.extend({options:{position:"topright"},initialize:function(i){N(this,i)},getPosition:function(){return this.options.position},setPosition:function(i){var d=this._map;return d&&d.removeControl(this),this.options.position=i,d&&d.addControl(this),this},getContainer:function(){return this._container},addTo:function(i){this.remove(),this._map=i;var d=this._container=this.onAdd(i),f=this.getPosition(),b=i._controlCorners[f];return ut(d,"leaflet-control"),f.indexOf("bottom")!==-1?b.insertBefore(d,b.firstChild):b.appendChild(d),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Kt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(i){this._map&&i&&i.screenX>0&&i.screenY>0&&this._map.getContainer().focus()}}),Wo=function(i){return new tn(i)};vt.include({addControl:function(i){return i.addTo(this),this},removeControl:function(i){return i.remove(),this},_initControlPos:function(){var i=this._controlCorners={},d="leaflet-",f=this._controlContainer=ht("div",d+"control-container",this._container);function b(C,I){var X=d+C+" "+d+I;i[C+I]=ht("div",X,f)}b("top","left"),b("top","right"),b("bottom","left"),b("bottom","right")},_clearControlPos:function(){for(var i in this._controlCorners)Kt(this._controlCorners[i]);Kt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Xc=tn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(i,d,f,b){return f<b?-1:b<f?1:0}},initialize:function(i,d,f){N(this,f),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var b in i)this._addLayer(i[b],b);for(b in d)this._addLayer(d[b],b,!0)},onAdd:function(i){this._initLayout(),this._update(),this._map=i,i.on("zoomend",this._checkDisabledLayers,this);for(var d=0;d<this._layers.length;d++)this._layers[d].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(i){return tn.prototype.addTo.call(this,i),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var i=0;i<this._layers.length;i++)this._layers[i].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(i,d){return this._addLayer(i,d),this._map?this._update():this},addOverlay:function(i,d){return this._addLayer(i,d,!0),this._map?this._update():this},removeLayer:function(i){i.off("add remove",this._onLayerChange,this);var d=this._getLayer(m(i));return d&&this._layers.splice(this._layers.indexOf(d),1),this._map?this._update():this},expand:function(){ut(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var i=this._map.getSize().y-(this._container.offsetTop+50);return i<this._section.clientHeight?(ut(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=i+"px"):qt(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return qt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var i="leaflet-control-layers",d=this._container=ht("div",i),f=this.options.collapsed;d.setAttribute("aria-haspopup",!0),ua(d),gl(d);var b=this._section=ht("section",i+"-list");f&&(this._map.on("click",this.collapse,this),lt(d,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var C=this._layersLink=ht("a",i+"-toggle",d);C.href="#",C.title="Layers",C.setAttribute("role","button"),lt(C,{keydown:function(I){I.keyCode===13&&this._expandSafely()},click:function(I){rr(I),this._expandSafely()}},this),f||this.expand(),this._baseLayersList=ht("div",i+"-base",b),this._separator=ht("div",i+"-separator",b),this._overlaysList=ht("div",i+"-overlays",b),d.appendChild(b)},_getLayer:function(i){for(var d=0;d<this._layers.length;d++)if(this._layers[d]&&m(this._layers[d].layer)===i)return this._layers[d]},_addLayer:function(i,d,f){this._map&&i.on("add remove",this._onLayerChange,this),this._layers.push({layer:i,name:d,overlay:f}),this.options.sortLayers&&this._layers.sort(u(function(b,C){return this.options.sortFunction(b.layer,C.layer,b.name,C.name)},this)),this.options.autoZIndex&&i.setZIndex&&(this._lastZIndex++,i.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;dl(this._baseLayersList),dl(this._overlaysList),this._layerControlInputs=[];var i,d,f,b,C=0;for(f=0;f<this._layers.length;f++)b=this._layers[f],this._addItem(b),d=d||b.overlay,i=i||!b.overlay,C+=b.overlay?0:1;return this.options.hideSingleBase&&(i=i&&C>1,this._baseLayersList.style.display=i?"":"none"),this._separator.style.display=d&&i?"":"none",this},_onLayerChange:function(i){this._handlingClick||this._update();var d=this._getLayer(m(i.target)),f=d.overlay?i.type==="add"?"overlayadd":"overlayremove":i.type==="add"?"baselayerchange":null;f&&this._map.fire(f,d)},_createRadioElement:function(i,d){var f='<input type="radio" class="leaflet-control-layers-selector" name="'+i+'"'+(d?' checked="checked"':"")+"/>",b=document.createElement("div");return b.innerHTML=f,b.firstChild},_addItem:function(i){var d=document.createElement("label"),f=this._map.hasLayer(i.layer),b;i.overlay?(b=document.createElement("input"),b.type="checkbox",b.className="leaflet-control-layers-selector",b.defaultChecked=f):b=this._createRadioElement("leaflet-base-layers_"+m(this),f),this._layerControlInputs.push(b),b.layerId=m(i.layer),lt(b,"click",this._onInputClick,this);var C=document.createElement("span");C.innerHTML=" "+i.name;var I=document.createElement("span");d.appendChild(I),I.appendChild(b),I.appendChild(C);var X=i.overlay?this._overlaysList:this._baseLayersList;return X.appendChild(d),this._checkDisabledLayers(),d},_onInputClick:function(){if(!this._preventClick){var i=this._layerControlInputs,d,f,b=[],C=[];this._handlingClick=!0;for(var I=i.length-1;I>=0;I--)d=i[I],f=this._getLayer(d.layerId).layer,d.checked?b.push(f):d.checked||C.push(f);for(I=0;I<C.length;I++)this._map.hasLayer(C[I])&&this._map.removeLayer(C[I]);for(I=0;I<b.length;I++)this._map.hasLayer(b[I])||this._map.addLayer(b[I]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var i=this._layerControlInputs,d,f,b=this._map.getZoom(),C=i.length-1;C>=0;C--)d=i[C],f=this._getLayer(d.layerId).layer,d.disabled=f.options.minZoom!==void 0&&b<f.options.minZoom||f.options.maxZoom!==void 0&&b>f.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var i=this._section;this._preventClick=!0,lt(i,"click",rr),this.expand();var d=this;setTimeout(function(){Dt(i,"click",rr),d._preventClick=!1})}}),yl=function(i,d,f){return new Xc(i,d,f)},ii=tn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(i){var d="leaflet-control-zoom",f=ht("div",d+" leaflet-bar"),b=this.options;return this._zoomInButton=this._createButton(b.zoomInText,b.zoomInTitle,d+"-in",f,this._zoomIn),this._zoomOutButton=this._createButton(b.zoomOutText,b.zoomOutTitle,d+"-out",f,this._zoomOut),this._updateDisabled(),i.on("zoomend zoomlevelschange",this._updateDisabled,this),f},onRemove:function(i){i.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(i){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(i.shiftKey?3:1))},_zoomOut:function(i){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(i.shiftKey?3:1))},_createButton:function(i,d,f,b,C){var I=ht("a",f,b);return I.innerHTML=i,I.href="#",I.title=d,I.setAttribute("role","button"),I.setAttribute("aria-label",d),ua(I),lt(I,"click",Rn),lt(I,"click",C,this),lt(I,"click",this._refocusOnMap,this),I},_updateDisabled:function(){var i=this._map,d="leaflet-disabled";qt(this._zoomInButton,d),qt(this._zoomOutButton,d),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||i._zoom===i.getMinZoom())&&(ut(this._zoomOutButton,d),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||i._zoom===i.getMaxZoom())&&(ut(this._zoomInButton,d),this._zoomInButton.setAttribute("aria-disabled","true"))}});vt.mergeOptions({zoomControl:!0}),vt.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new ii,this.addControl(this.zoomControl))});var ku=function(i){return new ii(i)},Vr=tn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(i){var d="leaflet-control-scale",f=ht("div",d),b=this.options;return this._addScales(b,d+"-line",f),i.on(b.updateWhenIdle?"moveend":"move",this._update,this),i.whenReady(this._update,this),f},onRemove:function(i){i.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(i,d,f){i.metric&&(this._mScale=ht("div",d,f)),i.imperial&&(this._iScale=ht("div",d,f))},_update:function(){var i=this._map,d=i.getSize().y/2,f=i.distance(i.containerPointToLatLng([0,d]),i.containerPointToLatLng([this.options.maxWidth,d]));this._updateScales(f)},_updateScales:function(i){this.options.metric&&i&&this._updateMetric(i),this.options.imperial&&i&&this._updateImperial(i)},_updateMetric:function(i){var d=this._getRoundNum(i),f=d<1e3?d+" m":d/1e3+" km";this._updateScale(this._mScale,f,d/i)},_updateImperial:function(i){var d=i*3.2808399,f,b,C;d>5280?(f=d/5280,b=this._getRoundNum(f),this._updateScale(this._iScale,b+" mi",b/f)):(C=this._getRoundNum(d),this._updateScale(this._iScale,C+" ft",C/d))},_updateScale:function(i,d,f){i.style.width=Math.round(this.options.maxWidth*f)+"px",i.innerHTML=d},_getRoundNum:function(i){var d=Math.pow(10,(Math.floor(i)+"").length-1),f=i/d;return f=f>=10?10:f>=5?5:f>=3?3:f>=2?2:1,d*f}}),ai=function(i){return new Vr(i)},ed='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',ys=tn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(ze.inlineSvg?ed+" ":"")+"Leaflet</a>"},initialize:function(i){N(this,i),this._attributions={}},onAdd:function(i){i.attributionControl=this,this._container=ht("div","leaflet-control-attribution"),ua(this._container);for(var d in i._layers)i._layers[d].getAttribution&&this.addAttribution(i._layers[d].getAttribution());return this._update(),i.on("layeradd",this._addAttribution,this),this._container},onRemove:function(i){i.off("layeradd",this._addAttribution,this)},_addAttribution:function(i){i.layer.getAttribution&&(this.addAttribution(i.layer.getAttribution()),i.layer.once("remove",function(){this.removeAttribution(i.layer.getAttribution())},this))},setPrefix:function(i){return this.options.prefix=i,this._update(),this},addAttribution:function(i){return i?(this._attributions[i]||(this._attributions[i]=0),this._attributions[i]++,this._update(),this):this},removeAttribution:function(i){return i?(this._attributions[i]&&(this._attributions[i]--,this._update()),this):this},_update:function(){if(this._map){var i=[];for(var d in this._attributions)this._attributions[d]&&i.push(d);var f=[];this.options.prefix&&f.push(this.options.prefix),i.length&&f.push(i.join(", ")),this._container.innerHTML=f.join(' <span aria-hidden="true">|</span> ')}}});vt.mergeOptions({attributionControl:!0}),vt.addInitHook(function(){this.options.attributionControl&&new ys().addTo(this)});var dm=function(i){return new ys(i)};tn.Layers=Xc,tn.Zoom=ii,tn.Scale=Vr,tn.Attribution=ys,Wo.layers=yl,Wo.zoom=ku,Wo.scale=ai,Wo.attribution=dm;var fn=W.extend({initialize:function(i){this._map=i},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});fn.addTo=function(i,d){return i.addHandler(d,this),this};var td={Events:me},li=ze.touch?"touchstart mousedown":"mousedown",An=_e.extend({options:{clickTolerance:3},initialize:function(i,d,f,b){N(this,b),this._element=i,this._dragStartTarget=d||i,this._preventOutline=f},enable:function(){this._enabled||(lt(this._dragStartTarget,li,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(An._dragging===this&&this.finishDrag(!0),Dt(this._dragStartTarget,li,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(i){if(this._enabled&&(this._moved=!1,!ri(this._element,"leaflet-zoom-anim"))){if(i.touches&&i.touches.length!==1){An._dragging===this&&this.finishDrag();return}if(!(An._dragging||i.shiftKey||i.which!==1&&i.button!==1&&!i.touches)&&(An._dragging=this,this._preventOutline&&si(this._element),fl(),yt(),!this._moving)){this.fire("down");var d=i.touches?i.touches[0]:i,f=po(this._element);this._startPoint=new q(d.clientX,d.clientY),this._startPos=mo(this._element),this._parentScale=Vn(f);var b=i.type==="mousedown";lt(document,b?"mousemove":"touchmove",this._onMove,this),lt(document,b?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(i){if(this._enabled){if(i.touches&&i.touches.length>1){this._moved=!0;return}var d=i.touches&&i.touches.length===1?i.touches[0]:i,f=new q(d.clientX,d.clientY)._subtract(this._startPoint);!f.x&&!f.y||Math.abs(f.x)+Math.abs(f.y)<this.options.clickTolerance||(f.x/=this._parentScale.x,f.y/=this._parentScale.y,rr(i),this._moved||(this.fire("dragstart"),this._moved=!0,ut(document.body,"leaflet-dragging"),this._lastTarget=i.target||i.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),ut(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(f),this._moving=!0,this._lastEvent=i,this._updatePosition())}},_updatePosition:function(){var i={originalEvent:this._lastEvent};this.fire("predrag",i),lr(this._element,this._newPos),this.fire("drag",i)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(i){qt(document.body,"leaflet-dragging"),this._lastTarget&&(qt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Dt(document,"mousemove touchmove",this._onMove,this),Dt(document,"mouseup touchend touchcancel",this._onUp,this),ml(),oi();var d=this._moved&&this._moving;this._moving=!1,An._dragging=!1,d&&this.fire("dragend",{noInertia:i,distance:this._newPos.distanceTo(this._startPos)})}});function rd(i,d,f){var b,C=[1,4,2,8],I,X,ue,ve,Ne,De,et,ft;for(I=0,De=i.length;I<De;I++)i[I]._code=bs(i[I],d);for(ue=0;ue<4;ue++){for(et=C[ue],b=[],I=0,De=i.length,X=De-1;I<De;X=I++)ve=i[I],Ne=i[X],ve._code&et?Ne._code&et||(ft=_l(Ne,ve,et,d,f),ft._code=bs(ft,d),b.push(ft)):(Ne._code&et&&(ft=_l(Ne,ve,et,d,f),ft._code=bs(ft,d),b.push(ft)),b.push(ve));i=b}return i}function Pu(i,d){var f,b,C,I,X,ue,ve,Ne,De;if(!i||i.length===0)throw new Error("latlngs not passed");mn(i)||(console.warn("latlngs are not flat! Only the first ring will be used"),i=i[0]);var et=xe([0,0]),ft=F(i),Nr=ft.getNorthWest().distanceTo(ft.getSouthWest())*ft.getNorthEast().distanceTo(ft.getNorthWest());Nr<1700&&(et=nd(i));var xr=i.length,nn=[];for(f=0;f<xr;f++){var Gr=xe(i[f]);nn.push(d.project(xe([Gr.lat-et.lat,Gr.lng-et.lng])))}for(ue=ve=Ne=0,f=0,b=xr-1;f<xr;b=f++)C=nn[f],I=nn[b],X=C.y*I.x-I.y*C.x,ve+=(C.x+I.x)*X,Ne+=(C.y+I.y)*X,ue+=X*3;ue===0?De=nn[0]:De=[ve/ue,Ne/ue];var xi=d.unproject(le(De));return xe([xi.lat+et.lat,xi.lng+et.lng])}function nd(i){for(var d=0,f=0,b=0,C=0;C<i.length;C++){var I=xe(i[C]);d+=I.lat,f+=I.lng,b++}return xe([d/b,f/b])}var um={__proto__:null,clipPolygon:rd,polygonCenter:Pu,centroid:nd};function bl(i,d){if(!d||!i.length)return i.slice();var f=d*d;return i=mm(i,f),i=fm(i,f),i}function Tu(i,d,f){return Math.sqrt(_s(i,d,f,!0))}function hm(i,d,f){return _s(i,d,f)}function fm(i,d){var f=i.length,b=typeof Uint8Array<"u"?Uint8Array:Array,C=new b(f);C[0]=C[f-1]=1,od(i,C,d,0,f-1);var I,X=[];for(I=0;I<f;I++)C[I]&&X.push(i[I]);return X}function od(i,d,f,b,C){var I=0,X,ue,ve;for(ue=b+1;ue<=C-1;ue++)ve=_s(i[ue],i[b],i[C],!0),ve>I&&(X=ue,I=ve);I>f&&(d[X]=1,od(i,d,f,b,X),od(i,d,f,X,C))}function mm(i,d){for(var f=[i[0]],b=1,C=0,I=i.length;b<I;b++)pm(i[b],i[C])>d&&(f.push(i[b]),C=b);return C<I-1&&f.push(i[I-1]),f}var sd;function Ru(i,d,f,b,C){var I=b?sd:bs(i,f),X=bs(d,f),ue,ve,Ne;for(sd=X;;){if(!(I|X))return[i,d];if(I&X)return!1;ue=I||X,ve=_l(i,d,ue,f,C),Ne=bs(ve,f),ue===I?(i=ve,I=Ne):(d=ve,X=Ne)}}function _l(i,d,f,b,C){var I=d.x-i.x,X=d.y-i.y,ue=b.min,ve=b.max,Ne,De;return f&8?(Ne=i.x+I*(ve.y-i.y)/X,De=ve.y):f&4?(Ne=i.x+I*(ue.y-i.y)/X,De=ue.y):f&2?(Ne=ve.x,De=i.y+X*(ve.x-i.x)/I):f&1&&(Ne=ue.x,De=i.y+X*(ue.x-i.x)/I),new q(Ne,De,C)}function bs(i,d){var f=0;return i.x<d.min.x?f|=1:i.x>d.max.x&&(f|=2),i.y<d.min.y?f|=4:i.y>d.max.y&&(f|=8),f}function pm(i,d){var f=d.x-i.x,b=d.y-i.y;return f*f+b*b}function _s(i,d,f,b){var C=d.x,I=d.y,X=f.x-C,ue=f.y-I,ve=X*X+ue*ue,Ne;return ve>0&&(Ne=((i.x-C)*X+(i.y-I)*ue)/ve,Ne>1?(C=f.x,I=f.y):Ne>0&&(C+=X*Ne,I+=ue*Ne)),X=i.x-C,ue=i.y-I,b?X*X+ue*ue:new q(C,I)}function mn(i){return!R(i[0])||typeof i[0][0]!="object"&&typeof i[0][0]<"u"}function Au(i){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),mn(i)}function Ou(i,d){var f,b,C,I,X,ue,ve,Ne;if(!i||i.length===0)throw new Error("latlngs not passed");mn(i)||(console.warn("latlngs are not flat! Only the first ring will be used"),i=i[0]);var De=xe([0,0]),et=F(i),ft=et.getNorthWest().distanceTo(et.getSouthWest())*et.getNorthEast().distanceTo(et.getNorthWest());ft<1700&&(De=nd(i));var Nr=i.length,xr=[];for(f=0;f<Nr;f++){var nn=xe(i[f]);xr.push(d.project(xe([nn.lat-De.lat,nn.lng-De.lng])))}for(f=0,b=0;f<Nr-1;f++)b+=xr[f].distanceTo(xr[f+1])/2;if(b===0)Ne=xr[0];else for(f=0,I=0;f<Nr-1;f++)if(X=xr[f],ue=xr[f+1],C=X.distanceTo(ue),I+=C,I>b){ve=(I-b)/C,Ne=[ue.x-ve*(ue.x-X.x),ue.y-ve*(ue.y-X.y)];break}var Gr=d.unproject(le(Ne));return xe([Gr.lat+De.lat,Gr.lng+De.lng])}var Mu={__proto__:null,simplify:bl,pointToSegmentDistance:Tu,closestPointOnSegment:hm,clipSegment:Ru,_getEdgeIntersection:_l,_getBitCode:bs,_sqClosestPointOnSegment:_s,isFlat:mn,_flat:Au,polylineCenter:Ou},id={project:function(i){return new q(i.lng,i.lat)},unproject:function(i){return new ce(i.y,i.x)},bounds:new A([-180,-90],[180,90])},ad={R:6378137,R_MINOR:6356752314245179e-9,bounds:new A([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(i){var d=Math.PI/180,f=this.R,b=i.lat*d,C=this.R_MINOR/f,I=Math.sqrt(1-C*C),X=I*Math.sin(b),ue=Math.tan(Math.PI/4-b/2)/Math.pow((1-X)/(1+X),I/2);return b=-f*Math.log(Math.max(ue,1e-10)),new q(i.lng*d*f,b)},unproject:function(i){for(var d=180/Math.PI,f=this.R,b=this.R_MINOR/f,C=Math.sqrt(1-b*b),I=Math.exp(-i.y/f),X=Math.PI/2-2*Math.atan(I),ue=0,ve=.1,Ne;ue<15&&Math.abs(ve)>1e-7;ue++)Ne=C*Math.sin(X),Ne=Math.pow((1-Ne)/(1+Ne),C/2),ve=Math.PI/2-2*Math.atan(I*Ne)-X,X+=ve;return new ce(X*d,i.x*d/f)}},gm={__proto__:null,LonLat:id,Mercator:ad,SphericalMercator:Me},vm=l({},ie,{code:"EPSG:3395",projection:ad,transformation:(function(){var i=.5/(Math.PI*ad.R);return Ie(i,.5,-i,.5)})()}),Lu=l({},ie,{code:"EPSG:4326",projection:id,transformation:Ie(1/180,1,-1/180,.5)}),xm=l({},pe,{projection:id,transformation:Ie(1,0,-1,0),scale:function(i){return Math.pow(2,i)},zoom:function(i){return Math.log(i)/Math.LN2},distance:function(i,d){var f=d.lng-i.lng,b=d.lat-i.lat;return Math.sqrt(f*f+b*b)},infinite:!0});pe.Earth=ie,pe.EPSG3395=vm,pe.EPSG3857=nt,pe.EPSG900913=it,pe.EPSG4326=Lu,pe.Simple=xm;var On=_e.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(i){return i.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(i){return i&&i.removeLayer(this),this},getPane:function(i){return this._map.getPane(i?this.options[i]||i:this.options.pane)},addInteractiveTarget:function(i){return this._map._targets[m(i)]=this,this},removeInteractiveTarget:function(i){return delete this._map._targets[m(i)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(i){var d=i.target;if(d.hasLayer(this)){if(this._map=d,this._zoomAnimated=d._zoomAnimated,this.getEvents){var f=this.getEvents();d.on(f,this),this.once("remove",function(){d.off(f,this)},this)}this.onAdd(d),this.fire("add"),d.fire("layeradd",{layer:this})}}});vt.include({addLayer:function(i){if(!i._layerAdd)throw new Error("The provided object is not a Layer.");var d=m(i);return this._layers[d]?this:(this._layers[d]=i,i._mapToAdd=this,i.beforeAdd&&i.beforeAdd(this),this.whenReady(i._layerAdd,i),this)},removeLayer:function(i){var d=m(i);return this._layers[d]?(this._loaded&&i.onRemove(this),delete this._layers[d],this._loaded&&(this.fire("layerremove",{layer:i}),i.fire("remove")),i._map=i._mapToAdd=null,this):this},hasLayer:function(i){return m(i)in this._layers},eachLayer:function(i,d){for(var f in this._layers)i.call(d,this._layers[f]);return this},_addLayers:function(i){i=i?R(i)?i:[i]:[];for(var d=0,f=i.length;d<f;d++)this.addLayer(i[d])},_addZoomLimit:function(i){(!isNaN(i.options.maxZoom)||!isNaN(i.options.minZoom))&&(this._zoomBoundLayers[m(i)]=i,this._updateZoomLevels())},_removeZoomLimit:function(i){var d=m(i);this._zoomBoundLayers[d]&&(delete this._zoomBoundLayers[d],this._updateZoomLevels())},_updateZoomLevels:function(){var i=1/0,d=-1/0,f=this._getZoomSpan();for(var b in this._zoomBoundLayers){var C=this._zoomBoundLayers[b].options;i=C.minZoom===void 0?i:Math.min(i,C.minZoom),d=C.maxZoom===void 0?d:Math.max(d,C.maxZoom)}this._layersMaxZoom=d===-1/0?void 0:d,this._layersMinZoom=i===1/0?void 0:i,f!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Ho=On.extend({initialize:function(i,d){N(this,d),this._layers={};var f,b;if(i)for(f=0,b=i.length;f<b;f++)this.addLayer(i[f])},addLayer:function(i){var d=this.getLayerId(i);return this._layers[d]=i,this._map&&this._map.addLayer(i),this},removeLayer:function(i){var d=i in this._layers?i:this.getLayerId(i);return this._map&&this._layers[d]&&this._map.removeLayer(this._layers[d]),delete this._layers[d],this},hasLayer:function(i){var d=typeof i=="number"?i:this.getLayerId(i);return d in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(i){var d=Array.prototype.slice.call(arguments,1),f,b;for(f in this._layers)b=this._layers[f],b[i]&&b[i].apply(b,d);return this},onAdd:function(i){this.eachLayer(i.addLayer,i)},onRemove:function(i){this.eachLayer(i.removeLayer,i)},eachLayer:function(i,d){for(var f in this._layers)i.call(d,this._layers[f]);return this},getLayer:function(i){return this._layers[i]},getLayers:function(){var i=[];return this.eachLayer(i.push,i),i},setZIndex:function(i){return this.invoke("setZIndex",i)},getLayerId:function(i){return m(i)}}),ma=function(i,d){return new Ho(i,d)},go=Ho.extend({addLayer:function(i){return this.hasLayer(i)?this:(i.addEventParent(this),Ho.prototype.addLayer.call(this,i),this.fire("layeradd",{layer:i}))},removeLayer:function(i){return this.hasLayer(i)?(i in this._layers&&(i=this._layers[i]),i.removeEventParent(this),Ho.prototype.removeLayer.call(this,i),this.fire("layerremove",{layer:i})):this},setStyle:function(i){return this.invoke("setStyle",i)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var i=new V;for(var d in this._layers){var f=this._layers[d];i.extend(f.getBounds?f.getBounds():f.getLatLng())}return i}}),Iu=function(i,d){return new go(i,d)},ws=W.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(i){N(this,i)},createIcon:function(i){return this._createIcon("icon",i)},createShadow:function(i){return this._createIcon("shadow",i)},_createIcon:function(i,d){var f=this._getIconUrl(i);if(!f){if(i==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var b=this._createImg(f,d&&d.tagName==="IMG"?d:null);return this._setIconStyles(b,i),(this.options.crossOrigin||this.options.crossOrigin==="")&&(b.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),b},_setIconStyles:function(i,d){var f=this.options,b=f[d+"Size"];typeof b=="number"&&(b=[b,b]);var C=le(b),I=le(d==="shadow"&&f.shadowAnchor||f.iconAnchor||C&&C.divideBy(2,!0));i.className="leaflet-marker-"+d+" "+(f.className||""),I&&(i.style.marginLeft=-I.x+"px",i.style.marginTop=-I.y+"px"),C&&(i.style.width=C.x+"px",i.style.height=C.y+"px")},_createImg:function(i,d){return d=d||document.createElement("img"),d.src=i,d},_getIconUrl:function(i){return ze.retina&&this.options[i+"RetinaUrl"]||this.options[i+"Url"]}});function Du(i){return new ws(i)}var ci=ws.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(i){return typeof ci.imagePath!="string"&&(ci.imagePath=this._detectIconPath()),(this.options.imagePath||ci.imagePath)+ws.prototype._getIconUrl.call(this,i)},_stripUrl:function(i){var d=function(f,b,C){var I=b.exec(f);return I&&I[C]};return i=d(i,/^url\((['"])?(.+)\1\)$/,2),i&&d(i,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var i=ht("div","leaflet-default-icon-path",document.body),d=aa(i,"background-image")||aa(i,"backgroundImage");if(document.body.removeChild(i),d=this._stripUrl(d),d)return d;var f=document.querySelector('link[href$="leaflet.css"]');return f?f.href.substring(0,f.href.length-11-1):""}}),ld=fn.extend({initialize:function(i){this._marker=i},addHooks:function(){var i=this._marker._icon;this._draggable||(this._draggable=new An(i,i,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),ut(i,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&qt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(i){var d=this._marker,f=d._map,b=this._marker.options.autoPanSpeed,C=this._marker.options.autoPanPadding,I=mo(d._icon),X=f.getPixelBounds(),ue=f.getPixelOrigin(),ve=H(X.min._subtract(ue).add(C),X.max._subtract(ue).subtract(C));if(!ve.contains(I)){var Ne=le((Math.max(ve.max.x,I.x)-ve.max.x)/(X.max.x-ve.max.x)-(Math.min(ve.min.x,I.x)-ve.min.x)/(X.min.x-ve.min.x),(Math.max(ve.max.y,I.y)-ve.max.y)/(X.max.y-ve.max.y)-(Math.min(ve.min.y,I.y)-ve.min.y)/(X.min.y-ve.min.y)).multiplyBy(b);f.panBy(Ne,{animate:!1}),this._draggable._newPos._add(Ne),this._draggable._startPos._add(Ne),lr(d._icon,this._draggable._newPos),this._onDrag(i),this._panRequest=$(this._adjustPan.bind(this,i))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(i){this._marker.options.autoPan&&(re(this._panRequest),this._panRequest=$(this._adjustPan.bind(this,i)))},_onDrag:function(i){var d=this._marker,f=d._shadow,b=mo(d._icon),C=d._map.layerPointToLatLng(b);f&&lr(f,b),d._latlng=C,i.latlng=C,i.oldLatLng=this._oldLatLng,d.fire("move",i).fire("drag",i)},_onDragEnd:function(i){re(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",i)}}),vo=On.extend({options:{icon:new ci,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(i,d){N(this,d),this._latlng=xe(i)},onAdd:function(i){this._zoomAnimated=this._zoomAnimated&&i.options.markerZoomAnimation,this._zoomAnimated&&i.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(i){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&i.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(i){var d=this._latlng;return this._latlng=xe(i),this.update(),this.fire("move",{oldLatLng:d,latlng:this._latlng})},setZIndexOffset:function(i){return this.options.zIndexOffset=i,this.update()},getIcon:function(){return this.options.icon},setIcon:function(i){return this.options.icon=i,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var i=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(i)}return this},_initIcon:function(){var i=this.options,d="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),f=i.icon.createIcon(this._icon),b=!1;f!==this._icon&&(this._icon&&this._removeIcon(),b=!0,i.title&&(f.title=i.title),f.tagName==="IMG"&&(f.alt=i.alt||"")),ut(f,d),i.keyboard&&(f.tabIndex="0",f.setAttribute("role","button")),this._icon=f,i.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&lt(f,"focus",this._panOnFocus,this);var C=i.icon.createShadow(this._shadow),I=!1;C!==this._shadow&&(this._removeShadow(),I=!0),C&&(ut(C,d),C.alt=""),this._shadow=C,i.opacity<1&&this._updateOpacity(),b&&this.getPane().appendChild(this._icon),this._initInteraction(),C&&I&&this.getPane(i.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Dt(this._icon,"focus",this._panOnFocus,this),Kt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Kt(this._shadow),this._shadow=null},_setPos:function(i){this._icon&&lr(this._icon,i),this._shadow&&lr(this._shadow,i),this._zIndex=i.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(i){this._icon&&(this._icon.style.zIndex=this._zIndex+i)},_animateZoom:function(i){var d=this._map._latLngToNewLayerPoint(this._latlng,i.zoom,i.center).round();this._setPos(d)},_initInteraction:function(){if(this.options.interactive&&(ut(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),ld)){var i=this.options.draggable;this.dragging&&(i=this.dragging.enabled(),this.dragging.disable()),this.dragging=new ld(this),i&&this.dragging.enable()}},setOpacity:function(i){return this.options.opacity=i,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var i=this.options.opacity;this._icon&&Hr(this._icon,i),this._shadow&&Hr(this._shadow,i)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var i=this._map;if(i){var d=this.options.icon.options,f=d.iconSize?le(d.iconSize):le(0,0),b=d.iconAnchor?le(d.iconAnchor):le(0,0);i.panInside(this._latlng,{paddingTopLeft:b,paddingBottomRight:f.subtract(b)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function ym(i,d){return new vo(i,d)}var Vo=On.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(i){this._renderer=i.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(i){return N(this,i),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&i&&Object.prototype.hasOwnProperty.call(i,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),wl=Vo.extend({options:{fill:!0,radius:10},initialize:function(i,d){N(this,d),this._latlng=xe(i),this._radius=this.options.radius},setLatLng:function(i){var d=this._latlng;return this._latlng=xe(i),this.redraw(),this.fire("move",{oldLatLng:d,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(i){return this.options.radius=this._radius=i,this.redraw()},getRadius:function(){return this._radius},setStyle:function(i){var d=i&&i.radius||this._radius;return Vo.prototype.setStyle.call(this,i),this.setRadius(d),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var i=this._radius,d=this._radiusY||i,f=this._clickTolerance(),b=[i+f,d+f];this._pxBounds=new A(this._point.subtract(b),this._point.add(b))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(i){return i.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Bu(i,d){return new wl(i,d)}var jl=wl.extend({initialize:function(i,d,f){if(typeof d=="number"&&(d=l({},f,{radius:d})),N(this,d),this._latlng=xe(i),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(i){return this._mRadius=i,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var i=[this._radius,this._radiusY||this._radius];return new V(this._map.layerPointToLatLng(this._point.subtract(i)),this._map.layerPointToLatLng(this._point.add(i)))},setStyle:Vo.prototype.setStyle,_project:function(){var i=this._latlng.lng,d=this._latlng.lat,f=this._map,b=f.options.crs;if(b.distance===ie.distance){var C=Math.PI/180,I=this._mRadius/ie.R/C,X=f.project([d+I,i]),ue=f.project([d-I,i]),ve=X.add(ue).divideBy(2),Ne=f.unproject(ve).lat,De=Math.acos((Math.cos(I*C)-Math.sin(d*C)*Math.sin(Ne*C))/(Math.cos(d*C)*Math.cos(Ne*C)))/C;(isNaN(De)||De===0)&&(De=I/Math.cos(Math.PI/180*d)),this._point=ve.subtract(f.getPixelOrigin()),this._radius=isNaN(De)?0:ve.x-f.project([Ne,i-De]).x,this._radiusY=ve.y-X.y}else{var et=b.unproject(b.project(this._latlng).subtract([this._mRadius,0]));this._point=f.latLngToLayerPoint(this._latlng),this._radius=this._point.x-f.latLngToLayerPoint(et).x}this._updateBounds()}});function pa(i,d,f){return new jl(i,d,f)}var rn=Vo.extend({options:{smoothFactor:1,noClip:!1},initialize:function(i,d){N(this,d),this._setLatLngs(i)},getLatLngs:function(){return this._latlngs},setLatLngs:function(i){return this._setLatLngs(i),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(i){for(var d=1/0,f=null,b=_s,C,I,X=0,ue=this._parts.length;X<ue;X++)for(var ve=this._parts[X],Ne=1,De=ve.length;Ne<De;Ne++){C=ve[Ne-1],I=ve[Ne];var et=b(i,C,I,!0);et<d&&(d=et,f=b(i,C,I))}return f&&(f.distance=Math.sqrt(d)),f},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Ou(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(i,d){return d=d||this._defaultShape(),i=xe(i),d.push(i),this._bounds.extend(i),this.redraw()},_setLatLngs:function(i){this._bounds=new V,this._latlngs=this._convertLatLngs(i)},_defaultShape:function(){return mn(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(i){for(var d=[],f=mn(i),b=0,C=i.length;b<C;b++)f?(d[b]=xe(i[b]),this._bounds.extend(d[b])):d[b]=this._convertLatLngs(i[b]);return d},_project:function(){var i=new A;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,i),this._bounds.isValid()&&i.isValid()&&(this._rawPxBounds=i,this._updateBounds())},_updateBounds:function(){var i=this._clickTolerance(),d=new q(i,i);this._rawPxBounds&&(this._pxBounds=new A([this._rawPxBounds.min.subtract(d),this._rawPxBounds.max.add(d)]))},_projectLatlngs:function(i,d,f){var b=i[0]instanceof ce,C=i.length,I,X;if(b){for(X=[],I=0;I<C;I++)X[I]=this._map.latLngToLayerPoint(i[I]),f.extend(X[I]);d.push(X)}else for(I=0;I<C;I++)this._projectLatlngs(i[I],d,f)},_clipPoints:function(){var i=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(i))){if(this.options.noClip){this._parts=this._rings;return}var d=this._parts,f,b,C,I,X,ue,ve;for(f=0,C=0,I=this._rings.length;f<I;f++)for(ve=this._rings[f],b=0,X=ve.length;b<X-1;b++)ue=Ru(ve[b],ve[b+1],i,b,!0),ue&&(d[C]=d[C]||[],d[C].push(ue[0]),(ue[1]!==ve[b+1]||b===X-2)&&(d[C].push(ue[1]),C++))}},_simplifyPoints:function(){for(var i=this._parts,d=this.options.smoothFactor,f=0,b=i.length;f<b;f++)i[f]=bl(i[f],d)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(i,d){var f,b,C,I,X,ue,ve=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(i))return!1;for(f=0,I=this._parts.length;f<I;f++)for(ue=this._parts[f],b=0,X=ue.length,C=X-1;b<X;C=b++)if(!(!d&&b===0)&&Tu(i,ue[C],ue[b])<=ve)return!0;return!1}});function bm(i,d){return new rn(i,d)}rn._flat=Au;var xo=rn.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Pu(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(i){var d=rn.prototype._convertLatLngs.call(this,i),f=d.length;return f>=2&&d[0]instanceof ce&&d[0].equals(d[f-1])&&d.pop(),d},_setLatLngs:function(i){rn.prototype._setLatLngs.call(this,i),mn(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return mn(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var i=this._renderer._bounds,d=this.options.weight,f=new q(d,d);if(i=new A(i.min.subtract(f),i.max.add(f)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(i))){if(this.options.noClip){this._parts=this._rings;return}for(var b=0,C=this._rings.length,I;b<C;b++)I=rd(this._rings[b],i,!0),I.length&&this._parts.push(I)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(i){var d=!1,f,b,C,I,X,ue,ve,Ne;if(!this._pxBounds||!this._pxBounds.contains(i))return!1;for(I=0,ve=this._parts.length;I<ve;I++)for(f=this._parts[I],X=0,Ne=f.length,ue=Ne-1;X<Ne;ue=X++)b=f[X],C=f[ue],b.y>i.y!=C.y>i.y&&i.x<(C.x-b.x)*(i.y-b.y)/(C.y-b.y)+b.x&&(d=!d);return d||rn.prototype._containsPoint.call(this,i,!0)}});function _m(i,d){return new xo(i,d)}var Kn=go.extend({initialize:function(i,d){N(this,d),this._layers={},i&&this.addData(i)},addData:function(i){var d=R(i)?i:i.features,f,b,C;if(d){for(f=0,b=d.length;f<b;f++)C=d[f],(C.geometries||C.geometry||C.features||C.coordinates)&&this.addData(C);return this}var I=this.options;if(I.filter&&!I.filter(i))return this;var X=di(i,I);return X?(X.feature=kl(i),X.defaultOptions=X.options,this.resetStyle(X),I.onEachFeature&&I.onEachFeature(i,X),this.addLayer(X)):this},resetStyle:function(i){return i===void 0?this.eachLayer(this.resetStyle,this):(i.options=l({},i.defaultOptions),this._setLayerStyle(i,this.options.style),this)},setStyle:function(i){return this.eachLayer(function(d){this._setLayerStyle(d,i)},this)},_setLayerStyle:function(i,d){i.setStyle&&(typeof d=="function"&&(d=d(i.feature)),i.setStyle(d))}});function di(i,d){var f=i.type==="Feature"?i.geometry:i,b=f?f.coordinates:null,C=[],I=d&&d.pointToLayer,X=d&&d.coordsToLatLng||El,ue,ve,Ne,De;if(!b&&!f)return null;switch(f.type){case"Point":return ue=X(b),Sl(I,i,ue,d);case"MultiPoint":for(Ne=0,De=b.length;Ne<De;Ne++)ue=X(b[Ne]),C.push(Sl(I,i,ue,d));return new go(C);case"LineString":case"MultiLineString":return ve=ga(b,f.type==="LineString"?0:1,X),new rn(ve,d);case"Polygon":case"MultiPolygon":return ve=ga(b,f.type==="Polygon"?1:2,X),new xo(ve,d);case"GeometryCollection":for(Ne=0,De=f.geometries.length;Ne<De;Ne++){var et=di({geometry:f.geometries[Ne],type:"Feature",properties:i.properties},d);et&&C.push(et)}return new go(C);case"FeatureCollection":for(Ne=0,De=f.features.length;Ne<De;Ne++){var ft=di(f.features[Ne],d);ft&&C.push(ft)}return new go(C);default:throw new Error("Invalid GeoJSON object.")}}function Sl(i,d,f,b){return i?i(d,f):new vo(f,b&&b.markersInheritOptions&&b)}function El(i){return new ce(i[1],i[0],i[2])}function ga(i,d,f){for(var b=[],C=0,I=i.length,X;C<I;C++)X=d?ga(i[C],d-1,f):(f||El)(i[C]),b.push(X);return b}function Nl(i,d){return i=xe(i),i.alt!==void 0?[E(i.lng,d),E(i.lat,d),E(i.alt,d)]:[E(i.lng,d),E(i.lat,d)]}function Cl(i,d,f,b){for(var C=[],I=0,X=i.length;I<X;I++)C.push(d?Cl(i[I],mn(i[I])?0:d-1,f,b):Nl(i[I],b));return!d&&f&&C.length>0&&C.push(C[0].slice()),C}function ui(i,d){return i.feature?l({},i.feature,{geometry:d}):kl(d)}function kl(i){return i.type==="Feature"||i.type==="FeatureCollection"?i:{type:"Feature",properties:{},geometry:i}}var cd={toGeoJSON:function(i){return ui(this,{type:"Point",coordinates:Nl(this.getLatLng(),i)})}};vo.include(cd),jl.include(cd),wl.include(cd),rn.include({toGeoJSON:function(i){var d=!mn(this._latlngs),f=Cl(this._latlngs,d?1:0,!1,i);return ui(this,{type:(d?"Multi":"")+"LineString",coordinates:f})}}),xo.include({toGeoJSON:function(i){var d=!mn(this._latlngs),f=d&&!mn(this._latlngs[0]),b=Cl(this._latlngs,f?2:d?1:0,!0,i);return d||(b=[b]),ui(this,{type:(f?"Multi":"")+"Polygon",coordinates:b})}}),Ho.include({toMultiPoint:function(i){var d=[];return this.eachLayer(function(f){d.push(f.toGeoJSON(i).geometry.coordinates)}),ui(this,{type:"MultiPoint",coordinates:d})},toGeoJSON:function(i){var d=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(d==="MultiPoint")return this.toMultiPoint(i);var f=d==="GeometryCollection",b=[];return this.eachLayer(function(C){if(C.toGeoJSON){var I=C.toGeoJSON(i);if(f)b.push(I.geometry);else{var X=kl(I);X.type==="FeatureCollection"?b.push.apply(b,X.features):b.push(X)}}}),f?ui(this,{geometries:b,type:"GeometryCollection"}):{type:"FeatureCollection",features:b}}});function zu(i,d){return new Kn(i,d)}var Mn=zu,Go=On.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(i,d,f){this._url=i,this._bounds=F(d),N(this,f)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(ut(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Kt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(i){return this.options.opacity=i,this._image&&this._updateOpacity(),this},setStyle:function(i){return i.opacity&&this.setOpacity(i.opacity),this},bringToFront:function(){return this._map&&ti(this._image),this},bringToBack:function(){return this._map&&fo(this._image),this},setUrl:function(i){return this._url=i,this._image&&(this._image.src=i),this},setBounds:function(i){return this._bounds=F(i),this._map&&this._reset(),this},getEvents:function(){var i={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(i.zoomanim=this._animateZoom),i},setZIndex:function(i){return this.options.zIndex=i,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var i=this._url.tagName==="IMG",d=this._image=i?this._url:ht("img");if(ut(d,"leaflet-image-layer"),this._zoomAnimated&&ut(d,"leaflet-zoom-animated"),this.options.className&&ut(d,this.options.className),d.onselectstart=x,d.onmousemove=x,d.onload=u(this.fire,this,"load"),d.onerror=u(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(d.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),i){this._url=d.src;return}d.src=this._url,d.alt=this.options.alt},_animateZoom:function(i){var d=this._map.getZoomScale(i.zoom),f=this._map._latLngBoundsToNewLayerBounds(this._bounds,i.zoom,i.center).min;Pn(this._image,f,d)},_reset:function(){var i=this._image,d=new A(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),f=d.getSize();lr(i,d.min),i.style.width=f.x+"px",i.style.height=f.y+"px"},_updateOpacity:function(){Hr(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var i=this.options.errorOverlayUrl;i&&this._url!==i&&(this._url=i,this._image.src=i)},getCenter:function(){return this._bounds.getCenter()}}),$u=function(i,d,f){return new Go(i,d,f)},dd=Go.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var i=this._url.tagName==="VIDEO",d=this._image=i?this._url:ht("video");if(ut(d,"leaflet-image-layer"),this._zoomAnimated&&ut(d,"leaflet-zoom-animated"),this.options.className&&ut(d,this.options.className),d.onselectstart=x,d.onmousemove=x,d.onloadeddata=u(this.fire,this,"load"),i){for(var f=d.getElementsByTagName("source"),b=[],C=0;C<f.length;C++)b.push(f[C].src);this._url=f.length>0?b:[d.src];return}R(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(d.style,"objectFit")&&(d.style.objectFit="fill"),d.autoplay=!!this.options.autoplay,d.loop=!!this.options.loop,d.muted=!!this.options.muted,d.playsInline=!!this.options.playsInline;for(var I=0;I<this._url.length;I++){var X=ht("source");X.src=this._url[I],d.appendChild(X)}}});function Fu(i,d,f){return new dd(i,d,f)}var ud=Go.extend({_initImage:function(){var i=this._image=this._url;ut(i,"leaflet-image-layer"),this._zoomAnimated&&ut(i,"leaflet-zoom-animated"),this.options.className&&ut(i,this.options.className),i.onselectstart=x,i.onmousemove=x}});function hd(i,d,f){return new ud(i,d,f)}var Zn=On.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(i,d){i&&(i instanceof ce||R(i))?(this._latlng=xe(i),N(this,d)):(N(this,i),this._source=d),this.options.content&&(this._content=this.options.content)},openOn:function(i){return i=arguments.length?i:this._source._map,i.hasLayer(this)||i.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(i){return this._map?this.close():(arguments.length?this._source=i:i=this._source,this._prepareOpen(),this.openOn(i._map)),this},onAdd:function(i){this._zoomAnimated=i._zoomAnimated,this._container||this._initLayout(),i._fadeAnimated&&Hr(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),i._fadeAnimated&&Hr(this._container,1),this.bringToFront(),this.options.interactive&&(ut(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(i){i._fadeAnimated?(Hr(this._container,0),this._removeTimeout=setTimeout(u(Kt,void 0,this._container),200)):Kt(this._container),this.options.interactive&&(qt(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(i){return this._latlng=xe(i),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(i){return this._content=i,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var i={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(i.zoomanim=this._animateZoom),i},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&ti(this._container),this},bringToBack:function(){return this._map&&fo(this._container),this},_prepareOpen:function(i){var d=this._source;if(!d._map)return!1;if(d instanceof go){d=null;var f=this._source._layers;for(var b in f)if(f[b]._map){d=f[b];break}if(!d)return!1;this._source=d}if(!i)if(d.getCenter)i=d.getCenter();else if(d.getLatLng)i=d.getLatLng();else if(d.getBounds)i=d.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(i),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var i=this._contentNode,d=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof d=="string")i.innerHTML=d;else{for(;i.hasChildNodes();)i.removeChild(i.firstChild);i.appendChild(d)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var i=this._map.latLngToLayerPoint(this._latlng),d=le(this.options.offset),f=this._getAnchor();this._zoomAnimated?lr(this._container,i.add(f)):d=d.add(i).add(f);var b=this._containerBottom=-d.y,C=this._containerLeft=-Math.round(this._containerWidth/2)+d.x;this._container.style.bottom=b+"px",this._container.style.left=C+"px"}},_getAnchor:function(){return[0,0]}});vt.include({_initOverlay:function(i,d,f,b){var C=d;return C instanceof i||(C=new i(b).setContent(d)),f&&C.setLatLng(f),C}}),On.include({_initOverlay:function(i,d,f,b){var C=f;return C instanceof i?(N(C,b),C._source=this):(C=d&&!b?d:new i(b,this),C.setContent(f)),C}});var Pl=Zn.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(i){return i=arguments.length?i:this._source._map,!i.hasLayer(this)&&i._popup&&i._popup.options.autoClose&&i.removeLayer(i._popup),i._popup=this,Zn.prototype.openOn.call(this,i)},onAdd:function(i){Zn.prototype.onAdd.call(this,i),i.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Vo||this._source.on("preclick",Gn))},onRemove:function(i){Zn.prototype.onRemove.call(this,i),i.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Vo||this._source.off("preclick",Gn))},getEvents:function(){var i=Zn.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(i.preclick=this.close),this.options.keepInView&&(i.moveend=this._adjustPan),i},_initLayout:function(){var i="leaflet-popup",d=this._container=ht("div",i+" "+(this.options.className||"")+" leaflet-zoom-animated"),f=this._wrapper=ht("div",i+"-content-wrapper",d);if(this._contentNode=ht("div",i+"-content",f),ua(d),gl(this._contentNode),lt(d,"contextmenu",Gn),this._tipContainer=ht("div",i+"-tip-container",d),this._tip=ht("div",i+"-tip",this._tipContainer),this.options.closeButton){var b=this._closeButton=ht("a",i+"-close-button",d);b.setAttribute("role","button"),b.setAttribute("aria-label","Close popup"),b.href="#close",b.innerHTML='<span aria-hidden="true">&#215;</span>',lt(b,"click",function(C){rr(C),this.close()},this)}},_updateLayout:function(){var i=this._contentNode,d=i.style;d.width="",d.whiteSpace="nowrap";var f=i.offsetWidth;f=Math.min(f,this.options.maxWidth),f=Math.max(f,this.options.minWidth),d.width=f+1+"px",d.whiteSpace="",d.height="";var b=i.offsetHeight,C=this.options.maxHeight,I="leaflet-popup-scrolled";C&&b>C?(d.height=C+"px",ut(i,I)):qt(i,I),this._containerWidth=this._container.offsetWidth},_animateZoom:function(i){var d=this._map._latLngToNewLayerPoint(this._latlng,i.zoom,i.center),f=this._getAnchor();lr(this._container,d.add(f))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var i=this._map,d=parseInt(aa(this._container,"marginBottom"),10)||0,f=this._container.offsetHeight+d,b=this._containerWidth,C=new q(this._containerLeft,-f-this._containerBottom);C._add(mo(this._container));var I=i.layerPointToContainerPoint(C),X=le(this.options.autoPanPadding),ue=le(this.options.autoPanPaddingTopLeft||X),ve=le(this.options.autoPanPaddingBottomRight||X),Ne=i.getSize(),De=0,et=0;I.x+b+ve.x>Ne.x&&(De=I.x+b-Ne.x+ve.x),I.x-De-ue.x<0&&(De=I.x-ue.x),I.y+f+ve.y>Ne.y&&(et=I.y+f-Ne.y+ve.y),I.y-et-ue.y<0&&(et=I.y-ue.y),(De||et)&&(this.options.keepInView&&(this._autopanning=!0),i.fire("autopanstart").panBy([De,et]))}},_getAnchor:function(){return le(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),hi=function(i,d){return new Pl(i,d)};vt.mergeOptions({closePopupOnClick:!0}),vt.include({openPopup:function(i,d,f){return this._initOverlay(Pl,i,d,f).openOn(this),this},closePopup:function(i){return i=arguments.length?i:this._popup,i&&i.close(),this}}),On.include({bindPopup:function(i,d){return this._popup=this._initOverlay(Pl,this._popup,i,d),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(i){return this._popup&&(this instanceof go||(this._popup._source=this),this._popup._prepareOpen(i||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(i){return this._popup&&this._popup.setContent(i),this},getPopup:function(){return this._popup},_openPopup:function(i){if(!(!this._popup||!this._map)){Rn(i);var d=i.layer||i.target;if(this._popup._source===d&&!(d instanceof Vo)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(i.latlng);return}this._popup._source=d,this.openPopup(i.latlng)}},_movePopup:function(i){this._popup.setLatLng(i.latlng)},_onKeyPress:function(i){i.originalEvent.keyCode===13&&this._openPopup(i)}});var fi=Zn.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(i){Zn.prototype.onAdd.call(this,i),this.setOpacity(this.options.opacity),i.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(i){Zn.prototype.onRemove.call(this,i),i.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var i=Zn.prototype.getEvents.call(this);return this.options.permanent||(i.preclick=this.close),i},_initLayout:function(){var i="leaflet-tooltip",d=i+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=ht("div",d),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+m(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(i){var d,f,b=this._map,C=this._container,I=b.latLngToContainerPoint(b.getCenter()),X=b.layerPointToContainerPoint(i),ue=this.options.direction,ve=C.offsetWidth,Ne=C.offsetHeight,De=le(this.options.offset),et=this._getAnchor();ue==="top"?(d=ve/2,f=Ne):ue==="bottom"?(d=ve/2,f=0):ue==="center"?(d=ve/2,f=Ne/2):ue==="right"?(d=0,f=Ne/2):ue==="left"?(d=ve,f=Ne/2):X.x<I.x?(ue="right",d=0,f=Ne/2):(ue="left",d=ve+(De.x+et.x)*2,f=Ne/2),i=i.subtract(le(d,f,!0)).add(De).add(et),qt(C,"leaflet-tooltip-right"),qt(C,"leaflet-tooltip-left"),qt(C,"leaflet-tooltip-top"),qt(C,"leaflet-tooltip-bottom"),ut(C,"leaflet-tooltip-"+ue),lr(C,i)},_updatePosition:function(){var i=this._map.latLngToLayerPoint(this._latlng);this._setPosition(i)},setOpacity:function(i){this.options.opacity=i,this._container&&Hr(this._container,i)},_animateZoom:function(i){var d=this._map._latLngToNewLayerPoint(this._latlng,i.zoom,i.center);this._setPosition(d)},_getAnchor:function(){return le(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),va=function(i,d){return new fi(i,d)};vt.include({openTooltip:function(i,d,f){return this._initOverlay(fi,i,d,f).openOn(this),this},closeTooltip:function(i){return i.close(),this}}),On.include({bindTooltip:function(i,d){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(fi,this._tooltip,i,d),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(i){if(!(!i&&this._tooltipHandlersAdded)){var d=i?"off":"on",f={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?f.add=this._openTooltip:(f.mouseover=this._openTooltip,f.mouseout=this.closeTooltip,f.click=this._openTooltip,this._map?this._addFocusListeners():f.add=this._addFocusListeners),this._tooltip.options.sticky&&(f.mousemove=this._moveTooltip),this[d](f),this._tooltipHandlersAdded=!i}},openTooltip:function(i){return this._tooltip&&(this instanceof go||(this._tooltip._source=this),this._tooltip._prepareOpen(i)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(i){return this._tooltip&&this._tooltip.setContent(i),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(i){var d=typeof i.getElement=="function"&&i.getElement();d&&(lt(d,"focus",function(){this._tooltip._source=i,this.openTooltip()},this),lt(d,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(i){var d=typeof i.getElement=="function"&&i.getElement();d&&d.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(i){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var d=this;this._map.once("moveend",function(){d._openOnceFlag=!1,d._openTooltip(i)});return}this._tooltip._source=i.layer||i.target,this.openTooltip(this._tooltip.options.sticky?i.latlng:void 0)}},_moveTooltip:function(i){var d=i.latlng,f,b;this._tooltip.options.sticky&&i.originalEvent&&(f=this._map.mouseEventToContainerPoint(i.originalEvent),b=this._map.containerPointToLayerPoint(f),d=this._map.layerPointToLatLng(b)),this._tooltip.setLatLng(d)}});var Tl=ws.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(i){var d=i&&i.tagName==="DIV"?i:document.createElement("div"),f=this.options;if(f.html instanceof Element?(dl(d),d.appendChild(f.html)):d.innerHTML=f.html!==!1?f.html:"",f.bgPos){var b=le(f.bgPos);d.style.backgroundPosition=-b.x+"px "+-b.y+"px"}return this._setIconStyles(d,"icon"),d},createShadow:function(){return null}});function Uu(i){return new Tl(i)}ws.Default=ci;var Ko=On.extend({options:{tileSize:256,opacity:1,updateWhenIdle:ze.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(i){N(this,i)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(i){i._addZoomLimit(this)},onRemove:function(i){this._removeAllTiles(),Kt(this._container),i._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(ti(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(fo(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(i){return this.options.opacity=i,this._updateOpacity(),this},setZIndex:function(i){return this.options.zIndex=i,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var i=this._clampZoom(this._map.getZoom());i!==this._tileZoom&&(this._tileZoom=i,this._updateLevels()),this._update()}return this},getEvents:function(){var i={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=v(this._onMoveEnd,this.options.updateInterval,this)),i.move=this._onMove),this._zoomAnimated&&(i.zoomanim=this._animateZoom),i},createTile:function(){return document.createElement("div")},getTileSize:function(){var i=this.options.tileSize;return i instanceof q?i:new q(i,i)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(i){for(var d=this.getPane().children,f=-i(-1/0,1/0),b=0,C=d.length,I;b<C;b++)I=d[b].style.zIndex,d[b]!==this._container&&I&&(f=i(f,+I));isFinite(f)&&(this.options.zIndex=f+i(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!ze.ielt9){Hr(this._container,this.options.opacity);var i=+new Date,d=!1,f=!1;for(var b in this._tiles){var C=this._tiles[b];if(!(!C.current||!C.loaded)){var I=Math.min(1,(i-C.loaded)/200);Hr(C.el,I),I<1?d=!0:(C.active?f=!0:this._onOpaqueTile(C),C.active=!0)}}f&&!this._noPrune&&this._pruneTiles(),d&&(re(this._fadeFrame),this._fadeFrame=$(this._updateOpacity,this))}},_onOpaqueTile:x,_initContainer:function(){this._container||(this._container=ht("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var i=this._tileZoom,d=this.options.maxZoom;if(i!==void 0){for(var f in this._levels)f=Number(f),this._levels[f].el.children.length||f===i?(this._levels[f].el.style.zIndex=d-Math.abs(i-f),this._onUpdateLevel(f)):(Kt(this._levels[f].el),this._removeTilesAtZoom(f),this._onRemoveLevel(f),delete this._levels[f]);var b=this._levels[i],C=this._map;return b||(b=this._levels[i]={},b.el=ht("div","leaflet-tile-container leaflet-zoom-animated",this._container),b.el.style.zIndex=d,b.origin=C.project(C.unproject(C.getPixelOrigin()),i).round(),b.zoom=i,this._setZoomTransform(b,C.getCenter(),C.getZoom()),x(b.el.offsetWidth),this._onCreateLevel(b)),this._level=b,b}},_onUpdateLevel:x,_onRemoveLevel:x,_onCreateLevel:x,_pruneTiles:function(){if(this._map){var i,d,f=this._map.getZoom();if(f>this.options.maxZoom||f<this.options.minZoom){this._removeAllTiles();return}for(i in this._tiles)d=this._tiles[i],d.retain=d.current;for(i in this._tiles)if(d=this._tiles[i],d.current&&!d.active){var b=d.coords;this._retainParent(b.x,b.y,b.z,b.z-5)||this._retainChildren(b.x,b.y,b.z,b.z+2)}for(i in this._tiles)this._tiles[i].retain||this._removeTile(i)}},_removeTilesAtZoom:function(i){for(var d in this._tiles)this._tiles[d].coords.z===i&&this._removeTile(d)},_removeAllTiles:function(){for(var i in this._tiles)this._removeTile(i)},_invalidateAll:function(){for(var i in this._levels)Kt(this._levels[i].el),this._onRemoveLevel(Number(i)),delete this._levels[i];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(i,d,f,b){var C=Math.floor(i/2),I=Math.floor(d/2),X=f-1,ue=new q(+C,+I);ue.z=+X;var ve=this._tileCoordsToKey(ue),Ne=this._tiles[ve];return Ne&&Ne.active?(Ne.retain=!0,!0):(Ne&&Ne.loaded&&(Ne.retain=!0),X>b?this._retainParent(C,I,X,b):!1)},_retainChildren:function(i,d,f,b){for(var C=2*i;C<2*i+2;C++)for(var I=2*d;I<2*d+2;I++){var X=new q(C,I);X.z=f+1;var ue=this._tileCoordsToKey(X),ve=this._tiles[ue];if(ve&&ve.active){ve.retain=!0;continue}else ve&&ve.loaded&&(ve.retain=!0);f+1<b&&this._retainChildren(C,I,f+1,b)}},_resetView:function(i){var d=i&&(i.pinch||i.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),d,d)},_animateZoom:function(i){this._setView(i.center,i.zoom,!0,i.noUpdate)},_clampZoom:function(i){var d=this.options;return d.minNativeZoom!==void 0&&i<d.minNativeZoom?d.minNativeZoom:d.maxNativeZoom!==void 0&&d.maxNativeZoom<i?d.maxNativeZoom:i},_setView:function(i,d,f,b){var C=Math.round(d);this.options.maxZoom!==void 0&&C>this.options.maxZoom||this.options.minZoom!==void 0&&C<this.options.minZoom?C=void 0:C=this._clampZoom(C);var I=this.options.updateWhenZooming&&C!==this._tileZoom;(!b||I)&&(this._tileZoom=C,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),C!==void 0&&this._update(i),f||this._pruneTiles(),this._noPrune=!!f),this._setZoomTransforms(i,d)},_setZoomTransforms:function(i,d){for(var f in this._levels)this._setZoomTransform(this._levels[f],i,d)},_setZoomTransform:function(i,d,f){var b=this._map.getZoomScale(f,i.zoom),C=i.origin.multiplyBy(b).subtract(this._map._getNewPixelOrigin(d,f)).round();ze.any3d?Pn(i.el,C,b):lr(i.el,C)},_resetGrid:function(){var i=this._map,d=i.options.crs,f=this._tileSize=this.getTileSize(),b=this._tileZoom,C=this._map.getPixelWorldBounds(this._tileZoom);C&&(this._globalTileRange=this._pxBoundsToTileRange(C)),this._wrapX=d.wrapLng&&!this.options.noWrap&&[Math.floor(i.project([0,d.wrapLng[0]],b).x/f.x),Math.ceil(i.project([0,d.wrapLng[1]],b).x/f.y)],this._wrapY=d.wrapLat&&!this.options.noWrap&&[Math.floor(i.project([d.wrapLat[0],0],b).y/f.x),Math.ceil(i.project([d.wrapLat[1],0],b).y/f.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(i){var d=this._map,f=d._animatingZoom?Math.max(d._animateToZoom,d.getZoom()):d.getZoom(),b=d.getZoomScale(f,this._tileZoom),C=d.project(i,this._tileZoom).floor(),I=d.getSize().divideBy(b*2);return new A(C.subtract(I),C.add(I))},_update:function(i){var d=this._map;if(d){var f=this._clampZoom(d.getZoom());if(i===void 0&&(i=d.getCenter()),this._tileZoom!==void 0){var b=this._getTiledPixelBounds(i),C=this._pxBoundsToTileRange(b),I=C.getCenter(),X=[],ue=this.options.keepBuffer,ve=new A(C.getBottomLeft().subtract([ue,-ue]),C.getTopRight().add([ue,-ue]));if(!(isFinite(C.min.x)&&isFinite(C.min.y)&&isFinite(C.max.x)&&isFinite(C.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var Ne in this._tiles){var De=this._tiles[Ne].coords;(De.z!==this._tileZoom||!ve.contains(new q(De.x,De.y)))&&(this._tiles[Ne].current=!1)}if(Math.abs(f-this._tileZoom)>1){this._setView(i,f);return}for(var et=C.min.y;et<=C.max.y;et++)for(var ft=C.min.x;ft<=C.max.x;ft++){var Nr=new q(ft,et);if(Nr.z=this._tileZoom,!!this._isValidTile(Nr)){var xr=this._tiles[this._tileCoordsToKey(Nr)];xr?xr.current=!0:X.push(Nr)}}if(X.sort(function(Gr,xi){return Gr.distanceTo(I)-xi.distanceTo(I)}),X.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var nn=document.createDocumentFragment();for(ft=0;ft<X.length;ft++)this._addTile(X[ft],nn);this._level.el.appendChild(nn)}}}},_isValidTile:function(i){var d=this._map.options.crs;if(!d.infinite){var f=this._globalTileRange;if(!d.wrapLng&&(i.x<f.min.x||i.x>f.max.x)||!d.wrapLat&&(i.y<f.min.y||i.y>f.max.y))return!1}if(!this.options.bounds)return!0;var b=this._tileCoordsToBounds(i);return F(this.options.bounds).overlaps(b)},_keyToBounds:function(i){return this._tileCoordsToBounds(this._keyToTileCoords(i))},_tileCoordsToNwSe:function(i){var d=this._map,f=this.getTileSize(),b=i.scaleBy(f),C=b.add(f),I=d.unproject(b,i.z),X=d.unproject(C,i.z);return[I,X]},_tileCoordsToBounds:function(i){var d=this._tileCoordsToNwSe(i),f=new V(d[0],d[1]);return this.options.noWrap||(f=this._map.wrapLatLngBounds(f)),f},_tileCoordsToKey:function(i){return i.x+":"+i.y+":"+i.z},_keyToTileCoords:function(i){var d=i.split(":"),f=new q(+d[0],+d[1]);return f.z=+d[2],f},_removeTile:function(i){var d=this._tiles[i];d&&(Kt(d.el),delete this._tiles[i],this.fire("tileunload",{tile:d.el,coords:this._keyToTileCoords(i)}))},_initTile:function(i){ut(i,"leaflet-tile");var d=this.getTileSize();i.style.width=d.x+"px",i.style.height=d.y+"px",i.onselectstart=x,i.onmousemove=x,ze.ielt9&&this.options.opacity<1&&Hr(i,this.options.opacity)},_addTile:function(i,d){var f=this._getTilePos(i),b=this._tileCoordsToKey(i),C=this.createTile(this._wrapCoords(i),u(this._tileReady,this,i));this._initTile(C),this.createTile.length<2&&$(u(this._tileReady,this,i,null,C)),lr(C,f),this._tiles[b]={el:C,coords:i,current:!0},d.appendChild(C),this.fire("tileloadstart",{tile:C,coords:i})},_tileReady:function(i,d,f){d&&this.fire("tileerror",{error:d,tile:f,coords:i});var b=this._tileCoordsToKey(i);f=this._tiles[b],f&&(f.loaded=+new Date,this._map._fadeAnimated?(Hr(f.el,0),re(this._fadeFrame),this._fadeFrame=$(this._updateOpacity,this)):(f.active=!0,this._pruneTiles()),d||(ut(f.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:f.el,coords:i})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),ze.ielt9||!this._map._fadeAnimated?$(this._pruneTiles,this):setTimeout(u(this._pruneTiles,this),250)))},_getTilePos:function(i){return i.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(i){var d=new q(this._wrapX?y(i.x,this._wrapX):i.x,this._wrapY?y(i.y,this._wrapY):i.y);return d.z=i.z,d},_pxBoundsToTileRange:function(i){var d=this.getTileSize();return new A(i.min.unscaleBy(d).floor(),i.max.unscaleBy(d).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var i in this._tiles)if(!this._tiles[i].loaded)return!1;return!0}});function mi(i){return new Ko(i)}var Zo=Ko.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(i,d){this._url=i,d=N(this,d),d.detectRetina&&ze.retina&&d.maxZoom>0?(d.tileSize=Math.floor(d.tileSize/2),d.zoomReverse?(d.zoomOffset--,d.minZoom=Math.min(d.maxZoom,d.minZoom+1)):(d.zoomOffset++,d.maxZoom=Math.max(d.minZoom,d.maxZoom-1)),d.minZoom=Math.max(0,d.minZoom)):d.zoomReverse?d.minZoom=Math.min(d.maxZoom,d.minZoom):d.maxZoom=Math.max(d.minZoom,d.maxZoom),typeof d.subdomains=="string"&&(d.subdomains=d.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(i,d){return this._url===i&&d===void 0&&(d=!0),this._url=i,d||this.redraw(),this},createTile:function(i,d){var f=document.createElement("img");return lt(f,"load",u(this._tileOnLoad,this,d,f)),lt(f,"error",u(this._tileOnError,this,d,f)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(f.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(f.referrerPolicy=this.options.referrerPolicy),f.alt="",f.src=this.getTileUrl(i),f},getTileUrl:function(i){var d={r:ze.retina?"@2x":"",s:this._getSubdomain(i),x:i.x,y:i.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var f=this._globalTileRange.max.y-i.y;this.options.tms&&(d.y=f),d["-y"]=f}return T(this._url,l(d,this.options))},_tileOnLoad:function(i,d){ze.ielt9?setTimeout(u(i,this,null,d),0):i(null,d)},_tileOnError:function(i,d,f){var b=this.options.errorTileUrl;b&&d.getAttribute("src")!==b&&(d.src=b),i(f,d)},_onTileRemove:function(i){i.tile.onload=null},_getZoomForUrl:function(){var i=this._tileZoom,d=this.options.maxZoom,f=this.options.zoomReverse,b=this.options.zoomOffset;return f&&(i=d-i),i+b},_getSubdomain:function(i){var d=Math.abs(i.x+i.y)%this.options.subdomains.length;return this.options.subdomains[d]},_abortLoading:function(){var i,d;for(i in this._tiles)if(this._tiles[i].coords.z!==this._tileZoom&&(d=this._tiles[i].el,d.onload=x,d.onerror=x,!d.complete)){d.src=Y;var f=this._tiles[i].coords;Kt(d),delete this._tiles[i],this.fire("tileabort",{tile:d,coords:f})}},_removeTile:function(i){var d=this._tiles[i];if(d)return d.el.setAttribute("src",Y),Ko.prototype._removeTile.call(this,i)},_tileReady:function(i,d,f){if(!(!this._map||f&&f.getAttribute("src")===Y))return Ko.prototype._tileReady.call(this,i,d,f)}});function fd(i,d){return new Zo(i,d)}var xa=Zo.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(i,d){this._url=i;var f=l({},this.defaultWmsParams);for(var b in d)b in this.options||(f[b]=d[b]);d=N(this,d);var C=d.detectRetina&&ze.retina?2:1,I=this.getTileSize();f.width=I.x*C,f.height=I.y*C,this.wmsParams=f},onAdd:function(i){this._crs=this.options.crs||i.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var d=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[d]=this._crs.code,Zo.prototype.onAdd.call(this,i)},getTileUrl:function(i){var d=this._tileCoordsToNwSe(i),f=this._crs,b=H(f.project(d[0]),f.project(d[1])),C=b.min,I=b.max,X=(this._wmsVersion>=1.3&&this._crs===Lu?[C.y,C.x,I.y,I.x]:[C.x,C.y,I.x,I.y]).join(","),ue=Zo.prototype.getTileUrl.call(this,i);return ue+P(this.wmsParams,ue,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+X},setParams:function(i,d){return l(this.wmsParams,i),d||this.redraw(),this}});function qu(i,d){return new xa(i,d)}Zo.WMS=xa,fd.wms=qu;var Qn=On.extend({options:{padding:.1},initialize:function(i){N(this,i),m(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),ut(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var i={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(i.zoomanim=this._onAnimZoom),i},_onAnimZoom:function(i){this._updateTransform(i.center,i.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(i,d){var f=this._map.getZoomScale(d,this._zoom),b=this._map.getSize().multiplyBy(.5+this.options.padding),C=this._map.project(this._center,d),I=b.multiplyBy(-f).add(C).subtract(this._map._getNewPixelOrigin(i,d));ze.any3d?Pn(this._container,I,f):lr(this._container,I)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var i in this._layers)this._layers[i]._reset()},_onZoomEnd:function(){for(var i in this._layers)this._layers[i]._project()},_updatePaths:function(){for(var i in this._layers)this._layers[i]._update()},_update:function(){var i=this.options.padding,d=this._map.getSize(),f=this._map.containerPointToLayerPoint(d.multiplyBy(-i)).round();this._bounds=new A(f,f.add(d.multiplyBy(1+i*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),md=Qn.extend({options:{tolerance:0},getEvents:function(){var i=Qn.prototype.getEvents.call(this);return i.viewprereset=this._onViewPreReset,i},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Qn.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var i=this._container=document.createElement("canvas");lt(i,"mousemove",this._onMouseMove,this),lt(i,"click dblclick mousedown mouseup contextmenu",this._onClick,this),lt(i,"mouseout",this._handleMouseOut,this),i._leaflet_disable_events=!0,this._ctx=i.getContext("2d")},_destroyContainer:function(){re(this._redrawRequest),delete this._ctx,Kt(this._container),Dt(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var i;this._redrawBounds=null;for(var d in this._layers)i=this._layers[d],i._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Qn.prototype._update.call(this);var i=this._bounds,d=this._container,f=i.getSize(),b=ze.retina?2:1;lr(d,i.min),d.width=b*f.x,d.height=b*f.y,d.style.width=f.x+"px",d.style.height=f.y+"px",ze.retina&&this._ctx.scale(2,2),this._ctx.translate(-i.min.x,-i.min.y),this.fire("update")}},_reset:function(){Qn.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(i){this._updateDashArray(i),this._layers[m(i)]=i;var d=i._order={layer:i,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=d),this._drawLast=d,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(i){this._requestRedraw(i)},_removePath:function(i){var d=i._order,f=d.next,b=d.prev;f?f.prev=b:this._drawLast=b,b?b.next=f:this._drawFirst=f,delete i._order,delete this._layers[m(i)],this._requestRedraw(i)},_updatePath:function(i){this._extendRedrawBounds(i),i._project(),i._update(),this._requestRedraw(i)},_updateStyle:function(i){this._updateDashArray(i),this._requestRedraw(i)},_updateDashArray:function(i){if(typeof i.options.dashArray=="string"){var d=i.options.dashArray.split(/[, ]+/),f=[],b,C;for(C=0;C<d.length;C++){if(b=Number(d[C]),isNaN(b))return;f.push(b)}i.options._dashArray=f}else i.options._dashArray=i.options.dashArray},_requestRedraw:function(i){this._map&&(this._extendRedrawBounds(i),this._redrawRequest=this._redrawRequest||$(this._redraw,this))},_extendRedrawBounds:function(i){if(i._pxBounds){var d=(i.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new A,this._redrawBounds.extend(i._pxBounds.min.subtract([d,d])),this._redrawBounds.extend(i._pxBounds.max.add([d,d]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var i=this._redrawBounds;if(i){var d=i.getSize();this._ctx.clearRect(i.min.x,i.min.y,d.x,d.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var i,d=this._redrawBounds;if(this._ctx.save(),d){var f=d.getSize();this._ctx.beginPath(),this._ctx.rect(d.min.x,d.min.y,f.x,f.y),this._ctx.clip()}this._drawing=!0;for(var b=this._drawFirst;b;b=b.next)i=b.layer,(!d||i._pxBounds&&i._pxBounds.intersects(d))&&i._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(i,d){if(this._drawing){var f,b,C,I,X=i._parts,ue=X.length,ve=this._ctx;if(ue){for(ve.beginPath(),f=0;f<ue;f++){for(b=0,C=X[f].length;b<C;b++)I=X[f][b],ve[b?"lineTo":"moveTo"](I.x,I.y);d&&ve.closePath()}this._fillStroke(ve,i)}}},_updateCircle:function(i){if(!(!this._drawing||i._empty())){var d=i._point,f=this._ctx,b=Math.max(Math.round(i._radius),1),C=(Math.max(Math.round(i._radiusY),1)||b)/b;C!==1&&(f.save(),f.scale(1,C)),f.beginPath(),f.arc(d.x,d.y/C,b,0,Math.PI*2,!1),C!==1&&f.restore(),this._fillStroke(f,i)}},_fillStroke:function(i,d){var f=d.options;f.fill&&(i.globalAlpha=f.fillOpacity,i.fillStyle=f.fillColor||f.color,i.fill(f.fillRule||"evenodd")),f.stroke&&f.weight!==0&&(i.setLineDash&&i.setLineDash(d.options&&d.options._dashArray||[]),i.globalAlpha=f.opacity,i.lineWidth=f.weight,i.strokeStyle=f.color,i.lineCap=f.lineCap,i.lineJoin=f.lineJoin,i.stroke())},_onClick:function(i){for(var d=this._map.mouseEventToLayerPoint(i),f,b,C=this._drawFirst;C;C=C.next)f=C.layer,f.options.interactive&&f._containsPoint(d)&&(!(i.type==="click"||i.type==="preclick")||!this._map._draggableMoved(f))&&(b=f);this._fireEvent(b?[b]:!1,i)},_onMouseMove:function(i){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var d=this._map.mouseEventToLayerPoint(i);this._handleMouseHover(i,d)}},_handleMouseOut:function(i){var d=this._hoveredLayer;d&&(qt(this._container,"leaflet-interactive"),this._fireEvent([d],i,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(i,d){if(!this._mouseHoverThrottled){for(var f,b,C=this._drawFirst;C;C=C.next)f=C.layer,f.options.interactive&&f._containsPoint(d)&&(b=f);b!==this._hoveredLayer&&(this._handleMouseOut(i),b&&(ut(this._container,"leaflet-interactive"),this._fireEvent([b],i,"mouseover"),this._hoveredLayer=b)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,i),this._mouseHoverThrottled=!0,setTimeout(u(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(i,d,f){this._map._fireDOMEvent(d,f||d.type,i)},_bringToFront:function(i){var d=i._order;if(d){var f=d.next,b=d.prev;if(f)f.prev=b;else return;b?b.next=f:f&&(this._drawFirst=f),d.prev=this._drawLast,this._drawLast.next=d,d.next=null,this._drawLast=d,this._requestRedraw(i)}},_bringToBack:function(i){var d=i._order;if(d){var f=d.next,b=d.prev;if(b)b.next=f;else return;f?f.prev=b:b&&(this._drawLast=b),d.prev=null,d.next=this._drawFirst,this._drawFirst.prev=d,this._drawFirst=d,this._requestRedraw(i)}}});function pd(i){return ze.canvas?new md(i):null}var pi=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(i){return document.createElement("<lvml:"+i+' class="lvml">')}}catch{}return function(i){return document.createElement("<"+i+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),Wu={_initContainer:function(){this._container=ht("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Qn.prototype._update.call(this),this.fire("update"))},_initPath:function(i){var d=i._container=pi("shape");ut(d,"leaflet-vml-shape "+(this.options.className||"")),d.coordsize="1 1",i._path=pi("path"),d.appendChild(i._path),this._updateStyle(i),this._layers[m(i)]=i},_addPath:function(i){var d=i._container;this._container.appendChild(d),i.options.interactive&&i.addInteractiveTarget(d)},_removePath:function(i){var d=i._container;Kt(d),i.removeInteractiveTarget(d),delete this._layers[m(i)]},_updateStyle:function(i){var d=i._stroke,f=i._fill,b=i.options,C=i._container;C.stroked=!!b.stroke,C.filled=!!b.fill,b.stroke?(d||(d=i._stroke=pi("stroke")),C.appendChild(d),d.weight=b.weight+"px",d.color=b.color,d.opacity=b.opacity,b.dashArray?d.dashStyle=R(b.dashArray)?b.dashArray.join(" "):b.dashArray.replace(/( *, *)/g," "):d.dashStyle="",d.endcap=b.lineCap.replace("butt","flat"),d.joinstyle=b.lineJoin):d&&(C.removeChild(d),i._stroke=null),b.fill?(f||(f=i._fill=pi("fill")),C.appendChild(f),f.color=b.fillColor||b.color,f.opacity=b.fillOpacity):f&&(C.removeChild(f),i._fill=null)},_updateCircle:function(i){var d=i._point.round(),f=Math.round(i._radius),b=Math.round(i._radiusY||f);this._setPath(i,i._empty()?"M0 0":"AL "+d.x+","+d.y+" "+f+","+b+" 0,"+65535*360)},_setPath:function(i,d){i._path.v=d},_bringToFront:function(i){ti(i._container)},_bringToBack:function(i){fo(i._container)}},Ln=ze.vml?pi:Lt,js=Qn.extend({_initContainer:function(){this._container=Ln("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Ln("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Kt(this._container),Dt(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Qn.prototype._update.call(this);var i=this._bounds,d=i.getSize(),f=this._container;(!this._svgSize||!this._svgSize.equals(d))&&(this._svgSize=d,f.setAttribute("width",d.x),f.setAttribute("height",d.y)),lr(f,i.min),f.setAttribute("viewBox",[i.min.x,i.min.y,d.x,d.y].join(" ")),this.fire("update")}},_initPath:function(i){var d=i._path=Ln("path");i.options.className&&ut(d,i.options.className),i.options.interactive&&ut(d,"leaflet-interactive"),this._updateStyle(i),this._layers[m(i)]=i},_addPath:function(i){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(i._path),i.addInteractiveTarget(i._path)},_removePath:function(i){Kt(i._path),i.removeInteractiveTarget(i._path),delete this._layers[m(i)]},_updatePath:function(i){i._project(),i._update()},_updateStyle:function(i){var d=i._path,f=i.options;d&&(f.stroke?(d.setAttribute("stroke",f.color),d.setAttribute("stroke-opacity",f.opacity),d.setAttribute("stroke-width",f.weight),d.setAttribute("stroke-linecap",f.lineCap),d.setAttribute("stroke-linejoin",f.lineJoin),f.dashArray?d.setAttribute("stroke-dasharray",f.dashArray):d.removeAttribute("stroke-dasharray"),f.dashOffset?d.setAttribute("stroke-dashoffset",f.dashOffset):d.removeAttribute("stroke-dashoffset")):d.setAttribute("stroke","none"),f.fill?(d.setAttribute("fill",f.fillColor||f.color),d.setAttribute("fill-opacity",f.fillOpacity),d.setAttribute("fill-rule",f.fillRule||"evenodd")):d.setAttribute("fill","none"))},_updatePoly:function(i,d){this._setPath(i,$t(i._parts,d))},_updateCircle:function(i){var d=i._point,f=Math.max(Math.round(i._radius),1),b=Math.max(Math.round(i._radiusY),1)||f,C="a"+f+","+b+" 0 1,0 ",I=i._empty()?"M0 0":"M"+(d.x-f)+","+d.y+C+f*2+",0 "+C+-f*2+",0 ";this._setPath(i,I)},_setPath:function(i,d){i._path.setAttribute("d",d)},_bringToFront:function(i){ti(i._path)},_bringToBack:function(i){fo(i._path)}});ze.vml&&js.include(Wu);function Rl(i){return ze.svg||ze.vml?new js(i):null}vt.include({getRenderer:function(i){var d=i.options.renderer||this._getPaneRenderer(i.options.pane)||this.options.renderer||this._renderer;return d||(d=this._renderer=this._createRenderer()),this.hasLayer(d)||this.addLayer(d),d},_getPaneRenderer:function(i){if(i==="overlayPane"||i===void 0)return!1;var d=this._paneRenderers[i];return d===void 0&&(d=this._createRenderer({pane:i}),this._paneRenderers[i]=d),d},_createRenderer:function(i){return this.options.preferCanvas&&pd(i)||Rl(i)}});var Hu=xo.extend({initialize:function(i,d){xo.prototype.initialize.call(this,this._boundsToLatLngs(i),d)},setBounds:function(i){return this.setLatLngs(this._boundsToLatLngs(i))},_boundsToLatLngs:function(i){return i=F(i),[i.getSouthWest(),i.getNorthWest(),i.getNorthEast(),i.getSouthEast()]}});function wm(i,d){return new Hu(i,d)}js.create=Ln,js.pointsToPath=$t,Kn.geometryToLayer=di,Kn.coordsToLatLng=El,Kn.coordsToLatLngs=ga,Kn.latLngToCoords=Nl,Kn.latLngsToCoords=Cl,Kn.getFeature=ui,Kn.asFeature=kl,vt.mergeOptions({boxZoom:!0});var gi=fn.extend({initialize:function(i){this._map=i,this._container=i._container,this._pane=i._panes.overlayPane,this._resetStateTimeout=0,i.on("unload",this._destroy,this)},addHooks:function(){lt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Dt(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Kt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(i){if(!i.shiftKey||i.which!==1&&i.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),yt(),fl(),this._startPoint=this._map.mouseEventToContainerPoint(i),lt(document,{contextmenu:Rn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(i){this._moved||(this._moved=!0,this._box=ht("div","leaflet-zoom-box",this._container),ut(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(i);var d=new A(this._point,this._startPoint),f=d.getSize();lr(this._box,d.min),this._box.style.width=f.x+"px",this._box.style.height=f.y+"px"},_finish:function(){this._moved&&(Kt(this._box),qt(this._container,"leaflet-crosshair")),oi(),ml(),Dt(document,{contextmenu:Rn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(i){if(!(i.which!==1&&i.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(u(this._resetState,this),0);var d=new V(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(d).fire("boxzoomend",{boxZoomBounds:d})}},_onKeyDown:function(i){i.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});vt.addInitHook("addHandler","boxZoom",gi),vt.mergeOptions({doubleClickZoom:!0});var Vu=fn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(i){var d=this._map,f=d.getZoom(),b=d.options.zoomDelta,C=i.originalEvent.shiftKey?f-b:f+b;d.options.doubleClickZoom==="center"?d.setZoom(C):d.setZoomAround(i.containerPoint,C)}});vt.addInitHook("addHandler","doubleClickZoom",Vu),vt.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var gd=fn.extend({addHooks:function(){if(!this._draggable){var i=this._map;this._draggable=new An(i._mapPane,i._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),i.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),i.on("zoomend",this._onZoomEnd,this),i.whenReady(this._onZoomEnd,this))}ut(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){qt(this._map._container,"leaflet-grab"),qt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var i=this._map;if(i._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var d=F(this._map.options.maxBounds);this._offsetLimit=H(this._map.latLngToContainerPoint(d.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(d.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;i.fire("movestart").fire("dragstart"),i.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(i){if(this._map.options.inertia){var d=this._lastTime=+new Date,f=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(f),this._times.push(d),this._prunePositions(d)}this._map.fire("move",i).fire("drag",i)},_prunePositions:function(i){for(;this._positions.length>1&&i-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var i=this._map.getSize().divideBy(2),d=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=d.subtract(i).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(i,d){return i-(i-d)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var i=this._draggable._newPos.subtract(this._draggable._startPos),d=this._offsetLimit;i.x<d.min.x&&(i.x=this._viscousLimit(i.x,d.min.x)),i.y<d.min.y&&(i.y=this._viscousLimit(i.y,d.min.y)),i.x>d.max.x&&(i.x=this._viscousLimit(i.x,d.max.x)),i.y>d.max.y&&(i.y=this._viscousLimit(i.y,d.max.y)),this._draggable._newPos=this._draggable._startPos.add(i)}},_onPreDragWrap:function(){var i=this._worldWidth,d=Math.round(i/2),f=this._initialWorldOffset,b=this._draggable._newPos.x,C=(b-d+f)%i+d-f,I=(b+d+f)%i-d-f,X=Math.abs(C+f)<Math.abs(I+f)?C:I;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=X},_onDragEnd:function(i){var d=this._map,f=d.options,b=!f.inertia||i.noInertia||this._times.length<2;if(d.fire("dragend",i),b)d.fire("moveend");else{this._prunePositions(+new Date);var C=this._lastPos.subtract(this._positions[0]),I=(this._lastTime-this._times[0])/1e3,X=f.easeLinearity,ue=C.multiplyBy(X/I),ve=ue.distanceTo([0,0]),Ne=Math.min(f.inertiaMaxSpeed,ve),De=ue.multiplyBy(Ne/ve),et=Ne/(f.inertiaDeceleration*X),ft=De.multiplyBy(-et/2).round();!ft.x&&!ft.y?d.fire("moveend"):(ft=d._limitOffset(ft,d.options.maxBounds),$(function(){d.panBy(ft,{duration:et,easeLinearity:X,noMoveStart:!0,animate:!0})}))}}});vt.addInitHook("addHandler","dragging",gd),vt.mergeOptions({keyboard:!0,keyboardPanDelta:80});var vd=fn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(i){this._map=i,this._setPanDelta(i.options.keyboardPanDelta),this._setZoomDelta(i.options.zoomDelta)},addHooks:function(){var i=this._map._container;i.tabIndex<=0&&(i.tabIndex="0"),lt(i,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Dt(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var i=document.body,d=document.documentElement,f=i.scrollTop||d.scrollTop,b=i.scrollLeft||d.scrollLeft;this._map._container.focus(),window.scrollTo(b,f)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(i){var d=this._panKeys={},f=this.keyCodes,b,C;for(b=0,C=f.left.length;b<C;b++)d[f.left[b]]=[-1*i,0];for(b=0,C=f.right.length;b<C;b++)d[f.right[b]]=[i,0];for(b=0,C=f.down.length;b<C;b++)d[f.down[b]]=[0,i];for(b=0,C=f.up.length;b<C;b++)d[f.up[b]]=[0,-1*i]},_setZoomDelta:function(i){var d=this._zoomKeys={},f=this.keyCodes,b,C;for(b=0,C=f.zoomIn.length;b<C;b++)d[f.zoomIn[b]]=i;for(b=0,C=f.zoomOut.length;b<C;b++)d[f.zoomOut[b]]=-i},_addHooks:function(){lt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Dt(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(i){if(!(i.altKey||i.ctrlKey||i.metaKey)){var d=i.keyCode,f=this._map,b;if(d in this._panKeys){if(!f._panAnim||!f._panAnim._inProgress)if(b=this._panKeys[d],i.shiftKey&&(b=le(b).multiplyBy(3)),f.options.maxBounds&&(b=f._limitOffset(le(b),f.options.maxBounds)),f.options.worldCopyJump){var C=f.wrapLatLng(f.unproject(f.project(f.getCenter()).add(b)));f.panTo(C)}else f.panBy(b)}else if(d in this._zoomKeys)f.setZoom(f.getZoom()+(i.shiftKey?3:1)*this._zoomKeys[d]);else if(d===27&&f._popup&&f._popup.options.closeOnEscapeKey)f.closePopup();else return;Rn(i)}}});vt.addInitHook("addHandler","keyboard",vd),vt.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Bt=fn.extend({addHooks:function(){lt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Dt(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(i){var d=Cu(i),f=this._map.options.wheelDebounceTime;this._delta+=d,this._lastMousePos=this._map.mouseEventToContainerPoint(i),this._startTime||(this._startTime=+new Date);var b=Math.max(f-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(u(this._performZoom,this),b),Rn(i)},_performZoom:function(){var i=this._map,d=i.getZoom(),f=this._map.options.zoomSnap||0;i._stop();var b=this._delta/(this._map.options.wheelPxPerZoomLevel*4),C=4*Math.log(2/(1+Math.exp(-Math.abs(b))))/Math.LN2,I=f?Math.ceil(C/f)*f:C,X=i._limitZoom(d+(this._delta>0?I:-I))-d;this._delta=0,this._startTime=null,X&&(i.options.scrollWheelZoom==="center"?i.setZoom(d+X):i.setZoomAround(this._lastMousePos,d+X))}});vt.addInitHook("addHandler","scrollWheelZoom",Bt);var xd=600;vt.mergeOptions({tapHold:ze.touchNative&&ze.safari&&ze.mobile,tapTolerance:15});var ya=fn.extend({addHooks:function(){lt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Dt(this._map._container,"touchstart",this._onDown,this)},_onDown:function(i){if(clearTimeout(this._holdTimeout),i.touches.length===1){var d=i.touches[0];this._startPos=this._newPos=new q(d.clientX,d.clientY),this._holdTimeout=setTimeout(u(function(){this._cancel(),this._isTapValid()&&(lt(document,"touchend",rr),lt(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",d))},this),xd),lt(document,"touchend touchcancel contextmenu",this._cancel,this),lt(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function i(){Dt(document,"touchend",rr),Dt(document,"touchend touchcancel",i)},_cancel:function(){clearTimeout(this._holdTimeout),Dt(document,"touchend touchcancel contextmenu",this._cancel,this),Dt(document,"touchmove",this._onMove,this)},_onMove:function(i){var d=i.touches[0];this._newPos=new q(d.clientX,d.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(i,d){var f=new MouseEvent(i,{bubbles:!0,cancelable:!0,view:window,screenX:d.screenX,screenY:d.screenY,clientX:d.clientX,clientY:d.clientY});f._simulated=!0,d.target.dispatchEvent(f)}});vt.addInitHook("addHandler","tapHold",ya),vt.mergeOptions({touchZoom:ze.touch,bounceAtZoomLimits:!0});var vi=fn.extend({addHooks:function(){ut(this._map._container,"leaflet-touch-zoom"),lt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){qt(this._map._container,"leaflet-touch-zoom"),Dt(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(i){var d=this._map;if(!(!i.touches||i.touches.length!==2||d._animatingZoom||this._zooming)){var f=d.mouseEventToContainerPoint(i.touches[0]),b=d.mouseEventToContainerPoint(i.touches[1]);this._centerPoint=d.getSize()._divideBy(2),this._startLatLng=d.containerPointToLatLng(this._centerPoint),d.options.touchZoom!=="center"&&(this._pinchStartLatLng=d.containerPointToLatLng(f.add(b)._divideBy(2))),this._startDist=f.distanceTo(b),this._startZoom=d.getZoom(),this._moved=!1,this._zooming=!0,d._stop(),lt(document,"touchmove",this._onTouchMove,this),lt(document,"touchend touchcancel",this._onTouchEnd,this),rr(i)}},_onTouchMove:function(i){if(!(!i.touches||i.touches.length!==2||!this._zooming)){var d=this._map,f=d.mouseEventToContainerPoint(i.touches[0]),b=d.mouseEventToContainerPoint(i.touches[1]),C=f.distanceTo(b)/this._startDist;if(this._zoom=d.getScaleZoom(C,this._startZoom),!d.options.bounceAtZoomLimits&&(this._zoom<d.getMinZoom()&&C<1||this._zoom>d.getMaxZoom()&&C>1)&&(this._zoom=d._limitZoom(this._zoom)),d.options.touchZoom==="center"){if(this._center=this._startLatLng,C===1)return}else{var I=f._add(b)._divideBy(2)._subtract(this._centerPoint);if(C===1&&I.x===0&&I.y===0)return;this._center=d.unproject(d.project(this._pinchStartLatLng,this._zoom).subtract(I),this._zoom)}this._moved||(d._moveStart(!0,!1),this._moved=!0),re(this._animRequest);var X=u(d._move,d,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=$(X,this,!0),rr(i)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,re(this._animRequest),Dt(document,"touchmove",this._onTouchMove,this),Dt(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});vt.addInitHook("addHandler","touchZoom",vi),vt.BoxZoom=gi,vt.DoubleClickZoom=Vu,vt.Drag=gd,vt.Keyboard=vd,vt.ScrollWheelZoom=Bt,vt.TapHold=ya,vt.TouchZoom=vi,r.Bounds=A,r.Browser=ze,r.CRS=pe,r.Canvas=md,r.Circle=jl,r.CircleMarker=wl,r.Class=W,r.Control=tn,r.DivIcon=Tl,r.DivOverlay=Zn,r.DomEvent=vl,r.DomUtil=da,r.Draggable=An,r.Evented=_e,r.FeatureGroup=go,r.GeoJSON=Kn,r.GridLayer=Ko,r.Handler=fn,r.Icon=ws,r.ImageOverlay=Go,r.LatLng=ce,r.LatLngBounds=V,r.Layer=On,r.LayerGroup=Ho,r.LineUtil=Mu,r.Map=vt,r.Marker=vo,r.Mixin=td,r.Path=Vo,r.Point=q,r.PolyUtil=um,r.Polygon=xo,r.Polyline=rn,r.Popup=Pl,r.PosAnimation=xl,r.Projection=gm,r.Rectangle=Hu,r.Renderer=Qn,r.SVG=js,r.SVGOverlay=ud,r.TileLayer=Zo,r.Tooltip=fi,r.Transformation=$e,r.Util=U,r.VideoOverlay=dd,r.bind=u,r.bounds=H,r.canvas=pd,r.circle=pa,r.circleMarker=Bu,r.control=Wo,r.divIcon=Uu,r.extend=l,r.featureGroup=Iu,r.geoJSON=zu,r.geoJson=Mn,r.gridLayer=mi,r.icon=Du,r.imageOverlay=$u,r.latLng=xe,r.latLngBounds=F,r.layerGroup=ma,r.map=qo,r.marker=ym,r.point=le,r.polygon=_m,r.polyline=bm,r.popup=hi,r.rectangle=wm,r.setOptions=N,r.stamp=m,r.svg=Rl,r.svgOverlay=hd,r.tileLayer=fd,r.tooltip=va,r.transformation=Ie,r.version=s,r.videoOverlay=Fu;var Gu=window.L;r.noConflict=function(){return window.L=Gu,this},window.L=r}))})(Gd,Gd.exports)),Gd.exports}var Wc=uD();const hD=du(Wc);function om(t,e,r){return Object.freeze({instance:t,context:e,container:r})}function sm(t,e){return e==null?function(s,l){const c=w.useRef();return c.current||(c.current=t(s,l)),c}:function(s,l){const c=w.useRef();c.current||(c.current=t(s,l));const u=w.useRef(s),{instance:p}=c.current;return w.useEffect(function(){u.current!==s&&(e(p,s,u.current),u.current=s)},[p,s,l]),c}}function VS(t,e){w.useEffect(function(){return(e.layerContainer??e.map).addLayer(t.instance),function(){var c;(c=e.layerContainer)==null||c.removeLayer(t.instance),e.map.removeLayer(t.instance)}},[e,t])}function GS(t){return function(r){const s=nx(),l=t(nm(r,s),s);return FS(s.map,r.attribution),ox(l.current,r.eventHandlers),VS(l.current,s),l}}function fD(t,e){const r=w.useRef();w.useEffect(function(){if(e.pathOptions!==r.current){const l=e.pathOptions??{};t.instance.setStyle(l),r.current=l}},[t,e])}function mD(t){return function(r){const s=nx(),l=t(nm(r,s),s);return ox(l.current,r.eventHandlers),VS(l.current,s),fD(l.current,r),l}}function pD(t,e){const r=sm(t,e),s=GS(r);return HS(s)}function gD(t,e){const r=sm(t),s=cD(r,e);return aD(s)}function vD(t,e){const r=sm(t,e),s=mD(r);return HS(s)}function xD(t,e){const r=sm(t,e),s=GS(r);return lD(s)}function yD(t,e,r){const{opacity:s,zIndex:l}=e;s!=null&&s!==r.opacity&&t.setOpacity(s),l!=null&&l!==r.zIndex&&t.setZIndex(l)}function tv(){return tv=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},tv.apply(this,arguments)}function bD({bounds:t,boundsOptions:e,center:r,children:s,className:l,id:c,placeholder:u,style:p,whenReady:m,zoom:v,...y},x){const[E]=w.useState({className:l,id:c,style:p}),[S,k]=w.useState(null);w.useImperativeHandle(x,()=>(S==null?void 0:S.map)??null,[S]);const N=w.useCallback(O=>{if(O!==null&&S===null){const T=new Wc.Map(O,y);r!=null&&v!=null?T.setView(r,v):t!=null&&T.fitBounds(t,e),m!=null&&T.whenReady(m),k(iD(T))}},[]);w.useEffect(()=>()=>{S==null||S.map.remove()},[S]);const P=S?Te.createElement(WS,{value:S},s):u??null;return Te.createElement("div",tv({},E,{ref:N}),P)}const _D=w.forwardRef(bD),wD=pD(function({position:e,...r},s){const l=new Wc.Marker(e,r);return om(l,US(s,{overlayContainer:l}))},function(e,r,s){r.position!==s.position&&e.setLatLng(r.position),r.icon!=null&&r.icon!==s.icon&&e.setIcon(r.icon),r.zIndexOffset!=null&&r.zIndexOffset!==s.zIndexOffset&&e.setZIndexOffset(r.zIndexOffset),r.opacity!=null&&r.opacity!==s.opacity&&e.setOpacity(r.opacity),e.dragging!=null&&r.draggable!==s.draggable&&(r.draggable===!0?e.dragging.enable():e.dragging.disable())}),jD=vD(function({positions:e,...r},s){const l=new Wc.Polyline(e,r);return om(l,US(s,{overlayContainer:l}))},function(e,r,s){r.positions!==s.positions&&e.setLatLngs(r.positions)}),SD=gD(function(e,r){const s=new Wc.Popup(e,r.overlayContainer);return om(s,r)},function(e,r,{position:s},l){w.useEffect(function(){const{instance:u}=e;function p(v){v.popup===u&&(u.update(),l(!0))}function m(v){v.popup===u&&l(!1)}return r.map.on({popupopen:p,popupclose:m}),r.overlayContainer==null?(s!=null&&u.setLatLng(s),u.openOn(r.map)):r.overlayContainer.bindPopup(u),function(){var y;r.map.off({popupopen:p,popupclose:m}),(y=r.overlayContainer)==null||y.unbindPopup(),r.map.removeLayer(u)}},[e,r,l,s])}),ED=xD(function({url:e,...r},s){const l=new Wc.TileLayer(e,nm(r,s));return om(l,s)},function(e,r,s){yD(e,r,s);const{url:l}=r;l!=null&&l!==s.url&&e.setUrl(l)}),ND=(t,e)=>hD.divIcon({className:"custom-marker",html:`
      <div style="
        background-color: ${e};
        color: white;
        width: 28px;
        height: 28px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-weight: bold;
        font-size: 12px;
        border: 2px solid white;
        box-shadow: 0 2px 4px rgba(0,0,0,0.3);
      ">
        ${t}
      </div>
    `,iconSize:[28,28],iconAnchor:[14,14],popupAnchor:[0,-14]}),og={};function CD(){var Ar,Wr;const t=Sr(),e=ho(),{user:r,userType:s}=al(),[l,c]=w.useState(null),[u,p]=w.useState(new Date),[m,v]=w.useState(new Date),[y,x]=w.useState("todos"),[E,S]=w.useState("todos"),[k,N]=w.useState("todos"),[P,O]=w.useState(""),[T,R]=w.useState({}),[z,Y]=w.useState(!1),[D,J]=w.useState({}),[ne,we]=w.useState(!1),Z=[{value:"Em Rota",label:"A Caminho",icon:To,bg:"bg-fuchsia-100",text:"text-fuchsia-800",color:"#890d5d"},{value:"Iniciar",label:"Iniciar",icon:k1,bg:"bg-yellow-100",text:"text-yellow-800",color:"#ca8a04"},{value:"Entregue",label:"Entregue",icon:Xi,bg:"bg-green-100",text:"text-green-800",color:"#15803d"},{value:"Pendente",label:"Pendente",icon:N1,bg:"bg-orange-100",text:"text-orange-800",color:"#c2410c"},{value:"Voltou p/ Farmcia",label:"Voltou",icon:P1,bg:"bg-red-100",text:"text-red-800",color:"#b91c1c"}],$="Em Rota",re=se=>se?{"A Caminho":"Em Rota","No Entregue":"Voltou p/ Farmcia"}[se]||se:$,[U,W]=w.useState(null),be=s==="motoboy",me=r==null?void 0:r.nome_motoboy,{data:_e=[]}=hn({queryKey:["motoboys-lista"],queryFn:async()=>{const{data:se,error:Ee}=await Le.from("motoboys").select("*").order("nome");if(Ee)throw Ee;return se||[]}});w.useEffect(()=>{if(_e.length>0&&!l){if(be&&me){const se=_e.find(Ee=>Ee.nome.toLowerCase()===me.toLowerCase());if(se){c(se.id);return}}c(_e[0].id)}},[_e,l,be,me]);const{data:q=[],isLoading:je}=hn({queryKey:["entregas-motoboy-all"],queryFn:async()=>{const{data:se,error:Ee}=await Le.from("entregas").select(`
          *,
          cliente:clientes(id, nome, telefone),
          endereco:enderecos(id, logradouro, numero, bairro, cidade, complemento),
          motoboy:motoboys(id, nome)
        `).eq("tipo","moto").order("data_entrega",{ascending:!0});if(Ee)throw Ee;return se||[]},refetchOnMount:"always",staleTime:0}),le=q.filter(se=>{var Ee;return((Ee=se.motoboy)==null?void 0:Ee.id)===l}),A=le.filter(se=>{if(!se.data_entrega)return!1;const Ee=new Date(se.data_entrega+"T00:00:00");return un(Ee,u)}),H=A.filter(se=>{var Ee,G,B,Q,de,ge,Ke,Re,at,dt,Xe,Tt,It,Br,qn,st,Ft;if(y!=="todos"&&((Ee=se.endereco)==null?void 0:Ee.cidade)!==y||E!=="todos"&&se.periodo!==E||k!=="todos"&&re(se.status)!==k)return!1;if(P.trim()){const St=P.toLowerCase().trim(),vr=((B=(G=se.cliente)==null?void 0:G.nome)==null?void 0:B.toLowerCase())||"",Wn=((de=(Q=se.cliente)==null?void 0:Q.telefone)==null?void 0:de.toLowerCase())||"",Ut=((Ke=(ge=se.endereco)==null?void 0:ge.logradouro)==null?void 0:Ke.toLowerCase())||"",ar=((at=(Re=se.endereco)==null?void 0:Re.bairro)==null?void 0:at.toLowerCase())||"",Hn=((Xe=(dt=se.endereco)==null?void 0:dt.cidade)==null?void 0:Xe.toLowerCase())||"",hr=((It=(Tt=se.endereco)==null?void 0:Tt.numero)==null?void 0:It.toLowerCase())||"",zr=((qn=(Br=se.endereco)==null?void 0:Br.complemento)==null?void 0:qn.toLowerCase())||"",fr=String(se.requisicao||"").toLowerCase(),ze=((st=se.observacao)==null?void 0:st.toLowerCase())||"",Fo=((Ft=se.forma_pagamento)==null?void 0:Ft.toLowerCase())||"";if(!(vr.includes(St)||Wn.includes(St)||Ut.includes(St)||ar.includes(St)||Hn.includes(St)||hr.includes(St)||zr.includes(St)||fr.includes(St)||ze.includes(St)||Fo.includes(St)))return!1}return!0});H.reduce((se,Ee)=>{var B;const G=((B=Ee.endereco)==null?void 0:B.cidade)||"Sem cidade";return se[G]||(se[G]=[]),se[G].push(Ee),se},{});const V=[...new Set(A.map(se=>{var Ee;return(Ee=se.endereco)==null?void 0:Ee.cidade}).filter(Boolean))],F=Z.map(se=>({...se,quantidade:A.filter(Ee=>re(Ee.status)===se.value).length})),ce=V.map(se=>{const Ee=A.filter(G=>{var B;return((B=G.endereco)==null?void 0:B.cidade)===se});return{cidade:se,quantidade:Ee.length,valor:Ee.reduce((G,B)=>G+(parseFloat(B.valor)||0),0),taxa:Ee.reduce((G,B)=>G+(parseFloat(B.taxa)||0),0)}}),xe=ce.reduce((se,Ee)=>se+Ee.valor,0);ce.reduce((se,Ee)=>se+Ee.taxa,0);const ie=(()=>{const se=kc(u,{weekStartsOn:0}),Ee=[];for(let G=0;G<7;G++){const B=GM(se,G),Q=wt(B,"yyyy-MM-dd"),de=le.filter(ge=>ge.data_entrega===Q);Ee.push({nome:wt(B,"EEEE",{locale:Gs}),data:B,dataStr:Q,quantidade:de.length,valor:de.reduce((ge,Ke)=>ge+(parseFloat(Ke.valor)||0),0)})}return Ee})(),Pe=ie.reduce((se,Ee)=>se+Ee.valor,0),Me=Xv({start:ou(m),end:Yv(m)}),$e=new Set(le.map(se=>se.data_entrega)),Ie=Xr({mutationFn:async({id:se,status:Ee})=>{const{error:G}=await Le.from("entregas").update({status:Ee}).eq("id",se);if(G)throw G},onSuccess:()=>{e.invalidateQueries({queryKey:["entregas-motoboy-all"]}),Se.success("Status atualizado!")},onError:()=>{Se.error("Erro ao atualizar status")}}),nt=(se,Ee)=>{Ie.mutate({id:se,status:Ee})},it=Xr({mutationFn:async se=>{const Ee=Object.entries(se).map(async([G,B])=>{const{error:Q}=await Le.from("entregas").update({ordem_entrega:B}).eq("id",G);if(Q)throw Q});await Promise.all(Ee)},onSuccess:()=>{e.invalidateQueries({queryKey:["entregas-motoboy-all"]}),Se.success("Ordem salva!")},onError:se=>{console.error("Erro ao salvar ordem:",se),Se.error("Erro ao salvar ordem. O campo pode no existir no banco.")}}),Lt=(se,Ee,G)=>{W({entrega:Ee,cidade:G}),se.dataTransfer.effectAllowed="move"},$t=se=>{se.preventDefault(),se.dataTransfer.dropEffect="move"},Pt=(se,Ee,G)=>{if(se.preventDefault(),!U||U.entrega.id===Ee.id)return;if(U.cidade!==G){Se.error("S  possvel reorganizar entregas da mesma cidade");return}const B=G,Q=H.filter(dt=>{var Xe;return(((Xe=dt.endereco)==null?void 0:Xe.cidade)||"Sem cidade")===B}).sort((dt,Xe)=>(T[dt.id]??dt.ordem_entrega??999)-(T[Xe.id]??Xe.ordem_entrega??999)),de=Q.findIndex(dt=>dt.id===U.entrega.id),ge=Q.findIndex(dt=>dt.id===Ee.id);if(de===-1||ge===-1)return;const Ke=[...Q],[Re]=Ke.splice(de,1);Ke.splice(ge,0,Re);const at={...T};Ke.forEach((dt,Xe)=>{at[dt.id]=Xe}),R(at),W(null),it.mutate(at)},_t=()=>{W(null)},Nt=se=>[...se].sort((Ee,G)=>{const B=T[Ee.id]??Ee.ordem_entrega??999,Q=T[G.id]??G.ordem_entrega??999;return B-Q}),ur=se=>{const Ee=`${se.logradouro}, ${se.numero}, ${se.bairro}, ${se.cidade}`;window.open(`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(Ee)}`,"_blank")};_e.find(se=>se.id===l);const gr=async se=>{const Ee=`${se.logradouro}, ${se.numero}, ${se.bairro}, ${se.cidade}, Brasil`;if(og[Ee])return og[Ee];try{const B=await(await fetch(`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(Ee)}&limit=1`)).json();if(B&&B.length>0){const Q={lat:parseFloat(B[0].lat),lng:parseFloat(B[0].lon)};return og[Ee]=Q,Q}}catch(G){console.error("Erro ao geocodificar:",G)}return null};w.useEffect(()=>{(async()=>{if(!z||H.length===0)return;we(!0);const Ee={...D};for(const G of H){if(!G.endereco||Ee[G.id])continue;const B=await gr(G.endereco);B&&(Ee[G.id]=B),await new Promise(Q=>setTimeout(Q,300))}J(Ee),we(!1)})()},[z,H.length]);const jt=w.useMemo(()=>{const se=Object.values(D);if(se.length===0)return[-23.5505,-46.6333];const Ee=se.reduce((B,Q)=>B+Q.lat,0)/se.length,G=se.reduce((B,Q)=>B+Q.lng,0)/se.length;return[Ee,G]},[D]),Gt=w.useMemo(()=>Nt(H),[H,T]),Cn=w.useMemo(()=>Gt.filter(se=>D[se.id]).map(se=>[D[se.id].lat,D[se.id].lng]),[Gt,D]),Un=YL(ou(m));return n.jsxs("div",{className:"min-h-screen",style:{backgroundColor:ae.colors.background},children:[n.jsx("div",{className:"py-8 shadow-sm",style:{background:"linear-gradient(135deg, #457bba 0%, #890d5d 100%)"},children:n.jsx("div",{className:"max-w-7xl mx-auto px-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[!be&&n.jsx("button",{onClick:()=>t(-1),className:"p-2 rounded-lg bg-white/20 hover:bg-white/30 transition-colors",children:n.jsx(jr,{className:"w-6 h-6 text-white"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-4xl font-bold text-white",children:be?"Minhas Entregas":"Painel do Motoboy"}),n.jsxs("p",{className:"text-base text-white opacity-90 mt-1",children:["Ol, ",me||(r==null?void 0:r.nome)||"Motoboy"]})]})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[!be&&n.jsx("select",{value:l||"",onChange:se=>c(se.target.value),className:"border border-white/30 bg-white/20 text-white rounded-lg px-3 py-2 text-sm",children:_e.map(se=>n.jsx("option",{value:se.id,className:"text-slate-800",children:se.nome},se.id))}),n.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 bg-white/20 hover:bg-white/30 rounded-lg text-sm font-medium text-white transition-colors",children:[n.jsx(xu,{className:"w-4 h-4"}),"Imprimir"]})]})]})})}),n.jsx("div",{className:"max-w-7xl mx-auto px-6 py-6",children:n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("button",{onClick:()=>v(ex(m)),className:"p-1 hover:bg-slate-100 rounded",children:n.jsx(jr,{className:"w-4 h-4 text-slate-600"})}),n.jsx("span",{className:"text-sm font-medium text-slate-700",children:wt(m,"MMMM yyyy",{locale:Gs})}),n.jsx("button",{onClick:()=>v(em(m,1)),className:"p-1 hover:bg-slate-100 rounded",children:n.jsx(vu,{className:"w-4 h-4 text-slate-600"})})]}),n.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:["dom","seg","ter","qua","qui","sex","sb"].map(se=>n.jsx("div",{className:"text-center text-xs font-medium text-slate-500 py-1",children:se},se))}),n.jsxs("div",{className:"grid grid-cols-7 gap-1",children:[Array.from({length:Un}).map((se,Ee)=>n.jsx("div",{className:"aspect-square"},`empty-${Ee}`)),Me.map(se=>{const Ee=wt(se,"yyyy-MM-dd"),G=$e.has(Ee),B=un(se,u),Q=un(se,new Date);return n.jsx("button",{onClick:()=>p(se),className:`aspect-square flex items-center justify-center text-sm rounded-lg transition-all relative
                        ${B?"text-white font-bold":Q?"font-semibold":G?"font-medium hover:opacity-80":"text-slate-600 hover:bg-slate-100"}`,style:{backgroundColor:B?ae.colors.primary:Q?"#f3e8ff":G?"#fef3c7":"transparent",color:B?"white":Q?ae.colors.secondary:G?"#92400e":void 0},children:wt(se,"d")},Ee)})]}),n.jsxs("div",{className:"mt-4 pt-4 border-t border-slate-200 text-center",children:[n.jsx("p",{className:"text-sm font-semibold text-slate-700",children:wt(u,"d 'de' MMMM",{locale:Gs})}),n.jsxs("p",{className:"text-xs text-slate-500",children:[A.length," entrega",A.length!==1?"s":""]})]})]}),n.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-4",children:[n.jsx("h3",{className:"font-semibold text-slate-700 mb-3",children:"Resumo do Dia"}),n.jsxs("div",{className:"flex items-center justify-between text-xs text-slate-500 mb-2 pb-2 border-b border-slate-100",children:[n.jsx("span",{children:"Local"}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("span",{className:"w-8 text-center",children:"Qtd"}),n.jsx("span",{className:"w-20 text-right",children:"Valor"})]})]}),n.jsx("div",{className:"space-y-2",children:ce.map(se=>n.jsxs("div",{className:"flex items-center justify-between text-sm",children:[n.jsx("span",{className:"text-slate-600",children:se.cidade}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("span",{className:"text-slate-500 w-8 text-center",children:[se.quantidade,"x"]}),n.jsxs("span",{className:"font-medium w-20 text-right",style:{color:ae.colors.primary},children:["R$ ",se.valor.toFixed(2)]})]})]},se.cidade))}),n.jsx("div",{className:"mt-3 pt-3 border-t border-slate-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"font-bold text-slate-700",children:"TOTAL ENTREGAS"}),n.jsxs("span",{className:"font-bold text-lg",style:{color:ae.colors.primary},children:["R$ ",xe.toFixed(2)]})]})})]}),n.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsx("h3",{className:"font-semibold text-slate-700",children:"Semana - Aguardando"}),n.jsxs("span",{className:"text-xs text-slate-500",children:[wt(((Ar=ie[0])==null?void 0:Ar.data)||new Date,"dd/MM")," - ",wt(((Wr=ie[6])==null?void 0:Wr.data)||new Date,"dd/MM")]})]}),n.jsx("div",{className:"space-y-1",children:ie.map(se=>n.jsxs("div",{className:"flex items-center justify-between text-xs py-1 px-2 rounded",style:{backgroundColor:un(se.data,u)?"#e8f0f8":"transparent"},children:[n.jsx("span",{className:"text-slate-600 capitalize w-20",children:se.nome.slice(0,3)}),n.jsx("span",{className:"text-slate-500",children:wt(se.data,"dd/MM")}),n.jsxs("span",{className:"text-slate-500",children:[se.quantidade,"x"]}),n.jsxs("span",{className:`font-semibold ${se.valor>0?"text-green-600":"text-slate-400"}`,children:["R$ ",se.valor.toFixed(2)]})]},se.dataStr))}),n.jsxs("div",{className:"mt-3 pt-3 border-t border-slate-200 flex items-center justify-between",children:[n.jsx("span",{className:"font-bold text-slate-700",children:"TOTAL"}),n.jsxs("span",{className:"font-bold text-green-600",children:["R$ ",Pe.toFixed(2)]})]})]})]}),n.jsxs("div",{className:"lg:col-span-2 space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 md:grid-cols-6 gap-4",children:[n.jsxs("div",{onClick:()=>N("todos"),className:"bg-white rounded-xl shadow-sm p-5 cursor-pointer transition-all hover:shadow-md",style:{border:k==="todos"?`2px solid ${ae.colors.primary}`:"2px solid transparent"},children:[n.jsxs("div",{className:"flex items-center justify-center gap-2 mb-3",children:[n.jsx("div",{className:"p-2 rounded-lg",style:{backgroundColor:"#E8F0F8"},children:n.jsx(ao,{className:"w-6 h-6",style:{color:ae.colors.primary}})}),n.jsx("span",{className:"text-sm font-bold text-slate-700",children:"Todas"})]}),n.jsx("div",{className:"text-4xl font-bold text-center",style:{color:ae.colors.primary},children:A.length})]}),F.map(se=>{const Ee=se.icon,G=k===se.value,B=se.color+"15";return n.jsxs("div",{onClick:()=>N(G?"todos":se.value),className:"bg-white rounded-xl shadow-sm p-5 cursor-pointer transition-all hover:shadow-md",style:{border:G?`2px solid ${se.color}`:"2px solid transparent"},children:[n.jsxs("div",{className:"flex items-center justify-center gap-2 mb-3",children:[n.jsx("div",{className:"p-2 rounded-lg",style:{backgroundColor:B},children:n.jsx(Ee,{className:"w-6 h-6",style:{color:se.color}})}),n.jsx("span",{className:"text-sm font-bold text-slate-700",children:se.label})]}),n.jsx("div",{className:"text-4xl font-bold text-center",style:{color:se.color},children:se.quantidade})]},se.value)})]}),n.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-4",children:[n.jsx("h3",{className:"font-semibold text-slate-700 mb-3",children:"Filtros"}),n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-xs font-medium text-slate-500 mb-1",children:"Buscar"}),n.jsxs("div",{className:"relative",children:[n.jsx(uo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-slate-400"}),n.jsx("input",{type:"text",placeholder:"Nome, endereo, requisio...",value:P,onChange:se=>O(se.target.value),className:"w-full border border-slate-300 rounded-lg pl-10 pr-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),P&&n.jsx("button",{onClick:()=>O(""),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-slate-400 hover:text-slate-600",children:n.jsx(Bv,{className:"w-4 h-4"})})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-slate-500 mb-1",children:"Local"}),n.jsxs("select",{value:y,onChange:se=>x(se.target.value),className:"w-full border border-slate-300 rounded-lg px-3 py-2 text-sm",children:[n.jsx("option",{value:"todos",children:"Todos os Locais"}),V.map(se=>n.jsx("option",{value:se,children:se},se))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-slate-500 mb-1",children:"Perodo"}),n.jsxs("select",{value:E,onChange:se=>S(se.target.value),className:"w-full border border-slate-300 rounded-lg px-3 py-2 text-sm",children:[n.jsx("option",{value:"todos",children:"Todos os Perodos"}),n.jsx("option",{value:"Manh",children:"Manh"}),n.jsx("option",{value:"Tarde",children:"Tarde"})]})]})]}),n.jsxs("button",{onClick:()=>Y(!z),className:"mt-4 w-full flex items-center justify-center gap-2 py-3 rounded-lg font-semibold text-sm transition-all",style:{backgroundColor:z?"#890d5d":"#E8F0F8",color:z?"white":"#890d5d"},children:[n.jsx(tb,{className:"w-5 h-5"}),z?"Ocultar Mapa da Rota":"Ver Mapa da Rota"]})]}),z&&n.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-4",children:[n.jsxs("h3",{className:"font-semibold text-slate-700 mb-3 flex items-center gap-2",children:[n.jsx(tb,{className:"w-5 h-5",style:{color:"#890d5d"}}),"Mapa da Rota - ",H.length," entregas"]}),ne&&n.jsxs("div",{className:"flex items-center justify-center py-4 text-slate-500 text-sm",children:[n.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-purple-700 mr-2"}),"Carregando localizaes..."]}),n.jsx("div",{className:"rounded-lg overflow-hidden border border-slate-200",style:{height:"400px"},children:n.jsxs(_D,{center:jt,zoom:12,style:{height:"100%",width:"100%"},children:[n.jsx(ED,{attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a>',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),Cn.length>1&&n.jsx(jD,{positions:Cn,color:"#890d5d",weight:3,opacity:.7,dashArray:"10, 10"}),Gt.map((se,Ee)=>{var de,ge,Ke,Re,at;const G=D[se.id];if(!G)return null;const B=Z.find(dt=>dt.value===re(se.status)),Q=(B==null?void 0:B.color)||"#890d5d";return n.jsx(wD,{position:[G.lat,G.lng],icon:ND(Ee+1,Q),children:n.jsx(SD,{children:n.jsxs("div",{className:"text-sm",children:[n.jsxs("div",{className:"font-bold text-slate-800 mb-1",children:["#",Ee+1," - ",((de=se.cliente)==null?void 0:de.nome)||"Cliente"]}),n.jsxs("div",{className:"text-slate-600 text-xs mb-1",children:["REQ #",se.requisicao||"0000"]}),n.jsxs("div",{className:"text-slate-500 text-xs",children:[(ge=se.endereco)==null?void 0:ge.logradouro,", ",(Ke=se.endereco)==null?void 0:Ke.numero]}),n.jsxs("div",{className:"text-slate-500 text-xs",children:[(Re=se.endereco)==null?void 0:Re.bairro," - ",(at=se.endereco)==null?void 0:at.cidade]}),n.jsx("div",{className:"mt-2 text-xs font-medium",style:{color:Q},children:(B==null?void 0:B.label)||"Em Rota"})]})})},se.id)})]},jt.join(","))}),n.jsx("div",{className:"mt-3 flex flex-wrap gap-2",children:Z.map(se=>n.jsxs("div",{className:"flex items-center gap-1 text-xs",children:[n.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:se.color}}),n.jsx("span",{className:"text-slate-600",children:se.label})]},se.value))})]}),n.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-500 px-2",children:[n.jsx(E1,{className:"w-4 h-4"}),n.jsx("span",{children:"Arraste as entregas para reorganizar sua rota"})]}),H.length>0?n.jsxs(n.Fragment,{children:[(()=>{const se=H.filter(Ee=>Ee.periodo==="Manh");return se.length===0?null:n.jsxs("div",{className:"mb-6",children:[n.jsx("div",{className:"flex items-center gap-2 mb-4",children:n.jsxs("div",{className:"flex items-center gap-2 text-slate-800 px-4 py-2 rounded-lg font-semibold text-sm",style:{backgroundColor:"#facc15"},children:[n.jsx(Dv,{className:"w-4 h-4"}),"MANH (",se.length,")"]})}),n.jsx("div",{className:"space-y-3",children:Nt(se).map((Ee,G)=>{var B;return n.jsx(sg,{entrega:Ee,index:G+1,cidade:((B=Ee.endereco)==null?void 0:B.cidade)||"Sem cidade",onStatusChange:nt,isUpdating:Ie.isPending,onAbrirMapa:ur,onDragStart:Lt,onDragOver:$t,onDrop:Pt,onDragEnd:_t,isDragging:(U==null?void 0:U.entrega.id)===Ee.id,statusOptions:Z,normalizarStatus:re},Ee.id)})})]})})(),(()=>{const se=H.filter(Ee=>Ee.periodo==="Tarde");return se.length===0?null:n.jsxs("div",{className:"mb-6",children:[n.jsx("div",{className:"flex items-center gap-2 mb-4",children:n.jsxs("div",{className:"flex items-center gap-2 text-white px-4 py-2 rounded-lg font-semibold text-sm",style:{backgroundColor:"#f97316"},children:[n.jsx(fA,{className:"w-4 h-4"}),"TARDE (",se.length,")"]})}),n.jsx("div",{className:"space-y-3",children:Nt(se).map((Ee,G)=>{var B;return n.jsx(sg,{entrega:Ee,index:G+1,cidade:((B=Ee.endereco)==null?void 0:B.cidade)||"Sem cidade",onStatusChange:nt,isUpdating:Ie.isPending,onAbrirMapa:ur,onDragStart:Lt,onDragOver:$t,onDrop:Pt,onDragEnd:_t,isDragging:(U==null?void 0:U.entrega.id)===Ee.id,statusOptions:Z,normalizarStatus:re},Ee.id)})})]})})(),(()=>{const se=H.filter(Ee=>!Ee.periodo||Ee.periodo!=="Manh"&&Ee.periodo!=="Tarde");return se.length===0?null:n.jsxs("div",{className:"mb-6",children:[n.jsx("div",{className:"flex items-center gap-2 mb-4",children:n.jsxs("div",{className:"flex items-center gap-2 text-white px-4 py-2 rounded-lg font-semibold text-sm bg-slate-500",children:["SEM PERODO (",se.length,")"]})}),n.jsx("div",{className:"space-y-3",children:Nt(se).map((Ee,G)=>{var B;return n.jsx(sg,{entrega:Ee,index:G+1,cidade:((B=Ee.endereco)==null?void 0:B.cidade)||"Sem cidade",onStatusChange:nt,isUpdating:Ie.isPending,onAbrirMapa:ur,onDragStart:Lt,onDragOver:$t,onDrop:Pt,onDragEnd:_t,isDragging:(U==null?void 0:U.entrega.id)===Ee.id,statusOptions:Z,normalizarStatus:re},Ee.id)})})]})})()]}):n.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-12 text-center",children:[n.jsx(ao,{className:"w-12 h-12 text-slate-300 mx-auto mb-3"}),n.jsx("p",{className:"text-slate-500",children:"Nenhuma entrega para este dia"})]})]})]})})]})}function sg({entrega:t,index:e,cidade:r,onStatusChange:s,isUpdating:l,onAbrirMapa:c,onDragStart:u,onDragOver:p,onDrop:m,onDragEnd:v,isDragging:y,statusOptions:x,normalizarStatus:E}){var T,R,z,Y,D,J,ne,we;const S=Z=>{const $=x==null?void 0:x.find(re=>re.value===Z);if($)return{bg:$.bg,text:$.text,label:$.label,color:$.color};switch(Z){case"A Caminho":return{bg:"bg-blue-100",text:"text-blue-700",label:"Em Rota",color:"#3b82f6"};case"No Entregue":return{bg:"bg-red-100",text:"text-red-700",label:"Voltou",color:"#ef4444"};default:return{bg:"bg-blue-100",text:"text-blue-700",label:"Em Rota",color:"#3b82f6"}}},k=E?E(t.status):t.status,N=S(k),P=t.forma_pagamento==="Dinheiro"||t.forma_pagamento==="Carto"||t.forma_pagamento==="Pix",O=parseFloat(t.valor)||0;return n.jsxs("div",{className:`bg-white rounded-xl border border-slate-200 overflow-hidden transition-all ${y?"opacity-50 scale-95":""}`,draggable:!0,onDragStart:Z=>u(Z,t,r),onDragOver:p,onDrop:Z=>m(Z,t,r),onDragEnd:v,children:[n.jsxs("div",{className:"px-4 py-3 border-b border-slate-100 flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(E1,{className:"w-4 h-4 text-slate-400 cursor-grab active:cursor-grabbing"}),n.jsxs("span",{className:"text-sm font-medium text-slate-500",children:["#",e]}),n.jsxs("span",{className:"font-bold text-slate-800",children:["REQ #",t.requisicao||"0000"]}),n.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${N.bg} ${N.text}`,children:N.label}),P&&O>0&&n.jsxs("span",{className:"px-2 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-700 flex items-center gap-1",children:[n.jsx(Dc,{className:"w-3 h-3"})," COBRAR"]}),t.taxa&&n.jsxs("span",{className:"px-2 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-700 flex items-center gap-1",children:[n.jsx(gA,{className:"w-3 h-3"})," R$ ",parseFloat(t.taxa).toFixed(2)]})]}),n.jsx("span",{className:"text-xs font-medium text-slate-500 bg-slate-100 px-2 py-1 rounded",children:t.periodo||"Sem perodo"})]}),n.jsx("div",{className:"px-4 py-2 border-b border-slate-100",children:n.jsx("span",{className:"text-sm font-medium",style:{color:ae.colors.primary},children:((T=t.cliente)==null?void 0:T.nome)||"Cliente"})}),P&&O>0&&n.jsxs("div",{className:"px-4 py-3 bg-yellow-50 border-b border-yellow-100",children:[n.jsxs("div",{className:"flex items-center gap-2 text-yellow-700 text-xs font-semibold mb-1",children:[n.jsx(ib,{className:"w-3 h-3"})," COBRAR NA ENTREGA:"]}),n.jsxs("div",{className:"text-2xl font-bold text-yellow-700",children:["R$ ",O.toFixed(2)]})]}),n.jsxs("div",{className:"px-4 py-3 border-b border-slate-100",children:[n.jsxs("div",{className:"flex items-start gap-2",children:[n.jsx(Nc,{className:"w-4 h-4 text-slate-400 mt-0.5 flex-shrink-0"}),n.jsxs("div",{className:"text-sm",children:[n.jsxs("p",{className:"text-slate-800 font-medium",children:[(R=t.endereco)==null?void 0:R.logradouro,", ",(z=t.endereco)==null?void 0:z.numero]}),n.jsxs("p",{className:"text-slate-600",children:[(Y=t.endereco)==null?void 0:Y.bairro," - ",(D=t.endereco)==null?void 0:D.cidade]}),((J=t.endereco)==null?void 0:J.referencia)&&n.jsxs("p",{className:"text-xs",style:{color:ae.colors.secondary},children:["Ref: ",t.endereco.referencia]}),((ne=t.endereco)==null?void 0:ne.complemento)&&n.jsxs("p",{className:"text-slate-500 text-xs",children:["A/C: ",t.endereco.complemento]})]})]}),n.jsxs("button",{onClick:()=>c(t.endereco),className:"mt-2 w-full flex items-center justify-center gap-2 py-2 border border-slate-200 rounded-lg text-sm text-slate-600 hover:bg-slate-50 transition-colors",children:[n.jsx(GR,{className:"w-4 h-4"}),"Abrir no Mapa"]})]}),n.jsxs("div",{className:"px-4 py-3 border-b border-slate-100 space-y-2",children:[n.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[n.jsx(ib,{className:"w-4 h-4 text-slate-400"}),n.jsx("span",{className:"text-slate-700",children:t.forma_pagamento||"No informado"})]}),((we=t.cliente)==null?void 0:we.telefone)&&n.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[n.jsx(tu,{className:"w-4 h-4 text-slate-400"}),n.jsx("a",{href:`tel:${t.cliente.telefone}`,className:"text-slate-700 hover:text-blue-600",children:t.cliente.telefone})]})]}),n.jsx("div",{className:"px-4 py-3",children:n.jsx("div",{className:"grid grid-cols-5 gap-2",children:x==null?void 0:x.map(Z=>{const $=Z.icon,re=k===Z.value;return n.jsxs("button",{onClick:()=>!re&&s(t.id,Z.value),disabled:l,className:`flex flex-col items-center justify-center gap-1 py-2 px-1 rounded-lg transition-all text-xs font-semibold ${re?"ring-4 ring-offset-2 shadow-lg scale-105":"hover:scale-105 hover:shadow-md"}`,style:{backgroundColor:Z.color,color:"white","--tw-ring-color":Z.color,opacity:l?.5:re?1:.5},children:[n.jsx($,{className:"w-4 h-4"}),n.jsx("span",{className:"truncate w-full text-center",children:Z.label})]},Z.value)})})})]})}function kD(){const t=Sr(),e=ho(),[r,s]=w.useState("todos"),[l,c]=w.useState(""),{data:u=[]}=hn({queryKey:["motoboys-lista"],queryFn:async()=>{const{data:R,error:z}=await Le.from("motoboys").select("*").order("nome");if(z)throw z;return R||[]}}),{data:p=[],isLoading:m}=hn({queryKey:["dispositivos"],queryFn:async()=>{const{data:R,error:z}=await Le.from("dispositivos").select("*").order("ultimo_acesso",{ascending:!1});if(z)throw z;return R||[]}}),v=p.filter(R=>{var D,J,ne;if(!(r==="todos"||r==="autorizados"&&R.status==="Autorizado"||r==="pendentes"&&R.status==="Pendente"||r==="bloqueados"&&R.status==="Bloqueado"))return!1;if(l.trim()==="")return!0;const Y=l.toLowerCase();return((D=R.nome)==null?void 0:D.toLowerCase().includes(Y))||((J=R.usuario)==null?void 0:J.toLowerCase().includes(Y))||((ne=R.impressao_digital)==null?void 0:ne.toLowerCase().includes(Y))}),y={total:p.length,autorizados:p.filter(R=>R.status==="Autorizado").length,pendentes:p.filter(R=>R.status==="Pendente").length,bloqueados:p.filter(R=>R.status==="Bloqueado").length},x=Xr({mutationFn:async R=>{const{error:z}=await Le.from("dispositivos").update({status:"Autorizado"}).eq("id",R);if(z)throw z},onSuccess:()=>{e.invalidateQueries({queryKey:["dispositivos"]}),Se.success("Dispositivo autorizado!")},onError:()=>{Se.error("Erro ao autorizar dispositivo")}}),E=Xr({mutationFn:async R=>{const{error:z}=await Le.from("dispositivos").update({status:"Bloqueado"}).eq("id",R);if(z)throw z},onSuccess:()=>{e.invalidateQueries({queryKey:["dispositivos"]}),Se.success("Dispositivo bloqueado!")},onError:()=>{Se.error("Erro ao bloquear dispositivo")}}),S=Xr({mutationFn:async R=>{const{error:z}=await Le.from("dispositivos").delete().eq("id",R);if(z)throw z},onSuccess:()=>{e.invalidateQueries({queryKey:["dispositivos"]}),Se.success("Dispositivo removido!")},onError:()=>{Se.error("Erro ao remover dispositivo")}}),k=Xr({mutationFn:async({dispositivoId:R,tipoUsuario:z,nomeMotoboy:Y})=>{const{error:D}=await Le.from("dispositivos").update({tipo_usuario:z,nome_motoboy:Y||null}).eq("id",R);if(D)throw D},onSuccess:()=>{e.invalidateQueries({queryKey:["dispositivos"]}),Se.success("Tipo de usurio atualizado!")},onError:R=>{console.error("Erro:",R),Se.error("Erro ao atualizar tipo de usurio")}}),N=R=>{x.mutate(R)},P=R=>{E.mutate(R)},O=R=>{window.confirm("Tem certeza que deseja remover este dispositivo?")&&S.mutate(R)},T=(R,z,Y)=>{k.mutate({dispositivoId:R,tipoUsuario:z,nomeMotoboy:Y})};return n.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100",children:[n.jsx("div",{className:"py-8 shadow-sm",style:{background:"linear-gradient(135deg, #457bba 0%, #890d5d 100%)"},children:n.jsx("div",{className:"max-w-7xl mx-auto px-6",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("button",{onClick:()=>t(-1),className:"p-2 rounded-lg bg-white/20 hover:bg-white/30 transition-colors",children:n.jsx(jr,{className:"w-6 h-6 text-white"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-4xl font-bold text-white",children:"Gerenciar Usurios/Dispositivos"}),n.jsx("p",{className:"text-base text-white opacity-90 mt-1",children:"Autorizar ou bloquear dispositivos de acesso"})]})]})})}),n.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-6",children:[n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4 mb-6",children:[n.jsxs("div",{onClick:()=>t(nD("Usuarios")),className:"rounded-xl shadow-sm p-5 cursor-pointer transition-all hover:shadow-md hover:scale-105",style:{backgroundColor:"#890d5d"},children:[n.jsxs("div",{className:"flex items-center justify-center gap-2 mb-3",children:[n.jsx("div",{className:"p-1.5 rounded-lg bg-white/20",children:n.jsx(NA,{className:"w-6 h-6 text-white"})}),n.jsx("span",{className:"text-sm font-bold text-white",children:"Usurios"})]}),n.jsx("div",{className:"text-center",children:n.jsx("span",{className:"text-white font-semibold text-sm",children:"Gerenciar"})})]}),n.jsxs("div",{onClick:()=>s("todos"),className:"bg-white rounded-xl shadow-sm p-5 cursor-pointer transition-all hover:shadow-md",style:{border:r==="todos"?"2px solid #376295":"2px solid transparent"},children:[n.jsxs("div",{className:"flex items-center justify-center gap-2 mb-3",children:[n.jsx("div",{className:"p-1.5 rounded-lg",style:{backgroundColor:"#E8F0F8"},children:n.jsx(Zd,{className:"w-6 h-6",style:{color:"#376295"}})}),n.jsx("span",{className:"text-sm font-bold text-slate-700",children:"Total"})]}),n.jsx("div",{className:"text-4xl font-bold text-center",style:{color:"#376295"},children:y.total})]}),n.jsxs("div",{onClick:()=>s("autorizados"),className:"bg-white rounded-xl shadow-sm p-5 cursor-pointer transition-all hover:shadow-md",style:{border:r==="autorizados"?"2px solid #3dac38":"2px solid transparent"},children:[n.jsxs("div",{className:"flex items-center justify-center gap-2 mb-3",children:[n.jsx("div",{className:"p-1.5 rounded-lg",style:{backgroundColor:"#E8F5E8"},children:n.jsx(Xa,{className:"w-6 h-6",style:{color:"#3dac38"}})}),n.jsx("span",{className:"text-sm font-bold text-slate-700",children:"Autorizados"})]}),n.jsx("div",{className:"text-4xl font-bold text-center",style:{color:"#3dac38"},children:y.autorizados})]}),n.jsxs("div",{onClick:()=>s("pendentes"),className:"bg-white rounded-xl shadow-sm p-5 cursor-pointer transition-all hover:shadow-md",style:{border:r==="pendentes"?"2px solid #f97316":"2px solid transparent"},children:[n.jsxs("div",{className:"flex items-center justify-center gap-2 mb-3",children:[n.jsx("div",{className:"p-1.5 rounded-lg",style:{backgroundColor:"#FEF3E8"},children:n.jsx(Ro,{className:"w-6 h-6",style:{color:"#f97316"}})}),n.jsx("span",{className:"text-sm font-bold text-slate-700",children:"Pendentes"})]}),n.jsx("div",{className:"text-4xl font-bold text-center",style:{color:"#f97316"},children:y.pendentes})]}),n.jsxs("div",{onClick:()=>s("bloqueados"),className:"bg-white rounded-xl shadow-sm p-5 cursor-pointer transition-all hover:shadow-md",style:{border:r==="bloqueados"?"2px solid #ef4444":"2px solid transparent"},children:[n.jsxs("div",{className:"flex items-center justify-center gap-2 mb-3",children:[n.jsx("div",{className:"p-1.5 rounded-lg",style:{backgroundColor:"#fef2f2"},children:n.jsx(Kd,{className:"w-6 h-6",style:{color:"#ef4444"}})}),n.jsx("span",{className:"text-sm font-bold text-slate-700",children:"Bloqueados"})]}),n.jsx("div",{className:"text-4xl font-bold text-center",style:{color:"#ef4444"},children:y.bloqueados})]})]}),n.jsx("div",{className:"bg-white rounded-xl shadow-sm p-4 mb-6",children:n.jsxs("div",{className:"relative",children:[n.jsx(uo,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),n.jsx("input",{type:"text",value:l,onChange:R=>c(R.target.value),placeholder:"Buscar por e-mail, dispositivo ou impresso digital...",className:"w-full pl-10 pr-4 py-3 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 transition-all",style:{"--tw-ring-color":"#376295"},onFocus:R=>R.target.style.borderColor="#376295",onBlur:R=>R.target.style.borderColor="#cbd5e1"})]})}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:[n.jsx("div",{className:"px-6 py-4 border-b border-slate-200",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Zd,{className:"w-5 h-5 text-slate-600"}),n.jsx("h2",{className:"text-lg font-bold text-slate-900",children:"Dispositivos Registrados"})]})}),n.jsx("div",{className:"divide-y divide-slate-200",children:m?n.jsx("div",{className:"p-12 text-center text-slate-500",children:"Carregando dispositivos..."}):v.length===0?n.jsxs("div",{className:"p-12 text-center",children:[n.jsx(Zd,{className:"w-12 h-12 text-slate-300 mx-auto mb-3"}),n.jsx("div",{className:"text-slate-600 font-medium",children:"Nenhum dispositivo encontrado"}),n.jsx("div",{className:"text-sm text-slate-500 mt-1",children:l?"Tente ajustar sua busca":"No h dispositivos cadastrados"})]}):v.map(R=>n.jsx(PD,{dispositivo:R,motoboys:u,onAutorizar:N,onBloquear:P,onDeletar:O,onAtualizarTipo:T,isUpdating:x.isPending||E.isPending||S.isPending||k.isPending},R.id))})]})]})]})}function PD({dispositivo:t,motoboys:e,onAutorizar:r,onBloquear:s,onDeletar:l,onAtualizarTipo:c,isUpdating:u}){const[p,m]=Te.useState(t.tipo_usuario||""),[v,y]=Te.useState(t.nome_motoboy||""),x=P=>{m(P),P!=="motoboy"&&(y(""),c(t.id,P,null))},E=P=>{y(P),P&&c(t.id,"motoboy",P)},S=P=>{switch(P){case"Autorizado":return n.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 rounded-full text-xs font-semibold",style:{backgroundColor:"#E8F5E8",color:"#3dac38"},children:[n.jsx(Xa,{className:"w-3 h-3"}),"Autorizado"]});case"Pendente":return n.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 rounded-full text-xs font-semibold",style:{backgroundColor:"#FEF3E8",color:"#f97316"},children:[n.jsx(Ro,{className:"w-3 h-3"}),"Pendente"]});case"Bloqueado":return n.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 rounded-full text-xs font-semibold",style:{backgroundColor:"#fef2f2",color:"#ef4444"},children:[n.jsx(Kd,{className:"w-3 h-3"}),"Bloqueado"]});default:return null}},k=P=>P!=null&&P.toLowerCase().includes("safari")||P!=null&&P.toLowerCase().includes("mac")?n.jsx(Zd,{className:"w-5 h-5 text-slate-600"}):n.jsx(T1,{className:"w-5 h-5 text-slate-600"}),N=P=>P?new Date(P).toLocaleString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}):"-";return n.jsx("div",{className:"p-6 hover:bg-slate-50 transition-colors",children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex items-start gap-4 flex-1",children:[n.jsx("div",{className:"mt-1",children:k(t.nome)}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[n.jsx("h3",{className:"font-bold text-slate-900",children:t.nome||"Dispositivo Desconhecido"}),S(t.status)]}),n.jsxs("div",{className:"space-y-1 text-sm",children:[n.jsxs("div",{className:"text-slate-600",children:[n.jsx("span",{className:"font-medium",children:"Usurio:"})," ",n.jsx("span",{className:"text-slate-900",children:t.usuario||"-"})]}),n.jsxs("div",{className:"text-slate-600",children:[n.jsx("span",{className:"font-medium",children:"Impresso digital:"})," ",n.jsx("span",{className:"font-mono text-xs text-slate-700",children:t.impressao_digital||"-"})]}),n.jsxs("div",{className:"text-slate-600",children:[n.jsx("span",{className:"font-medium",children:"ltimo acesso:"})," ",n.jsx("span",{className:"text-slate-900",children:N(t.ultimo_acesso)})]})]}),n.jsx("div",{className:"mt-4 pt-4 border-t border-slate-200",children:n.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-sm font-medium text-slate-600",children:"Tipo:"}),n.jsxs("select",{value:p,onChange:P=>x(P.target.value),disabled:u,className:"min-w-[160px] h-10 rounded-lg border border-slate-300 bg-white px-3 py-2 text-sm font-medium text-slate-900 disabled:opacity-50 cursor-pointer",children:[n.jsx("option",{value:"",children:"Selecione..."}),n.jsx("option",{value:"admin",children:"Administrador"}),n.jsx("option",{value:"atendente",children:"Atendente"}),n.jsx("option",{value:"motoboy",children:"Motoboy"})]})]}),p==="motoboy"&&n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-sm font-medium text-slate-600",children:"Motoboy:"}),n.jsxs("select",{value:v,onChange:P=>E(P.target.value),disabled:u,className:"min-w-[150px] h-10 rounded-lg border border-slate-300 bg-white px-3 py-2 text-sm font-medium text-slate-900 disabled:opacity-50 cursor-pointer",children:[n.jsx("option",{value:"",children:"Selecione..."}),e==null?void 0:e.map(P=>n.jsx("option",{value:P.nome,children:P.nome},P.id))]})]}),p&&n.jsx("span",{className:`px-3 py-1.5 rounded-lg text-xs font-bold ${p==="admin"?"bg-purple-100 text-purple-700":p==="motoboy"?"bg-orange-100 text-orange-700":"bg-blue-100 text-blue-700"}`,children:p==="admin"?"Administrador":p==="motoboy"?`Motoboy${v?`: ${v}`:""}`:"Atendente"})]})})]})]}),n.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[t.status==="Pendente"&&n.jsxs(n.Fragment,{children:[n.jsxs("button",{onClick:()=>r(t.id),disabled:u,className:"flex items-center gap-2 text-white px-4 py-2 rounded-lg font-semibold text-sm transition-opacity hover:opacity-90 disabled:opacity-50",style:{backgroundColor:"#3dac38"},children:[n.jsx(Xa,{className:"w-4 h-4"}),"Autorizar"]}),n.jsxs("button",{onClick:()=>s(t.id),disabled:u,className:"flex items-center gap-2 text-white px-4 py-2 rounded-lg font-semibold text-sm transition-opacity hover:opacity-90 disabled:opacity-50",style:{backgroundColor:"#ef4444"},children:[n.jsx(Kd,{className:"w-4 h-4"}),"Bloquear"]})]}),t.status==="Autorizado"&&n.jsxs("button",{onClick:()=>s(t.id),disabled:u,className:"flex items-center gap-2 text-white px-4 py-2 rounded-lg font-semibold text-sm transition-opacity hover:opacity-90 disabled:opacity-50",style:{backgroundColor:"#ef4444"},children:[n.jsx(Kd,{className:"w-4 h-4"}),"Bloquear"]}),t.status==="Bloqueado"&&n.jsxs("button",{onClick:()=>r(t.id),disabled:u,className:"flex items-center gap-2 text-white px-4 py-2 rounded-lg font-semibold text-sm transition-opacity hover:opacity-90 disabled:opacity-50",style:{backgroundColor:"#3dac38"},children:[n.jsx(Xa,{className:"w-4 h-4"}),"Autorizar"]}),n.jsx("button",{onClick:()=>l(t.id),disabled:u,className:"p-2 text-slate-600 hover:bg-slate-200 rounded-lg transition-colors disabled:opacity-50",children:n.jsx(Bc,{className:"w-5 h-5"})})]})]})})}function TD({romaneio:t}){var s,l,c,u,p,m,v,y,x,E;if(!t)return null;const e=S=>S?new Date(S+"T12:00:00").toLocaleDateString("pt-BR"):"-",r=t.forma_pagamento&&["Pago","S Entregar"].includes(t.forma_pagamento);return n.jsxs("div",{className:"romaneio-card",style:{position:"relative"},children:[r&&n.jsx("div",{className:"carimbo-pago",style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%) rotate(-25deg)",fontSize:"50px",fontWeight:"bold",textTransform:"uppercase",color:"#000",border:"5px solid #000",padding:"5px 25px",opacity:.2,pointerEvents:"none",zIndex:10,letterSpacing:"5px"},children:"PAGO"}),n.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",marginBottom:"10px"},children:[n.jsx("img",{src:"/logo-formedica.png",alt:"Formdica",style:{width:"100px",height:"auto",marginBottom:"5px"}}),n.jsx("h2",{style:{fontSize:"14px",fontWeight:"bold",margin:0},children:"ROMANEIO DE ENTREGA"})]}),n.jsxs("div",{style:{display:"flex",gap:"8px",marginBottom:"8px"},children:[n.jsxs("div",{style:{flex:1,border:"1px solid #000",padding:"8px"},children:[n.jsx("div",{style:{fontWeight:"bold",fontSize:"10px",marginBottom:"5px",borderBottom:"1px solid #000",paddingBottom:"3px"},children:"DADOS DA ENTREGA"}),n.jsxs("div",{style:{fontSize:"9px",marginBottom:"3px"},children:[n.jsx("span",{children:"N. Requisio: "}),n.jsxs("span",{style:{fontWeight:"bold"},children:["#",t.requisicao||"0000"]})]}),n.jsxs("div",{style:{fontSize:"9px",marginBottom:"3px"},children:[n.jsx("span",{children:"Data: "}),n.jsxs("span",{children:[e(t.data_entrega)," - ",t.periodo||"-"]})]}),n.jsxs("div",{style:{fontSize:"9px",marginBottom:"3px"},children:[n.jsx("span",{children:"Motoboy: "}),n.jsx("span",{children:((s=t.motoboy)==null?void 0:s.nome)||"-"})]}),n.jsxs("div",{style:{fontSize:"9px"},children:[n.jsx("span",{children:"Atendente: "}),n.jsx("span",{children:((l=t.atendente)==null?void 0:l.nome)||((c=t.atendente)==null?void 0:c.email)||"-"})]})]}),n.jsxs("div",{style:{flex:1,border:"1px solid #000",padding:"8px"},children:[n.jsx("div",{style:{fontWeight:"bold",fontSize:"10px",marginBottom:"5px",borderBottom:"1px solid #000",paddingBottom:"3px"},children:"CLIENTE"}),n.jsxs("div",{style:{fontSize:"9px",marginBottom:"3px"},children:[n.jsx("span",{children:"Nome: "}),n.jsx("span",{children:((u=t.cliente)==null?void 0:u.nome)||"-"})]}),n.jsxs("div",{style:{fontSize:"9px"},children:[n.jsx("span",{children:"Telefone: "}),n.jsx("span",{children:((p=t.cliente)==null?void 0:p.telefone)||"-"})]})]})]}),n.jsxs("div",{style:{display:"flex",gap:"8px",marginBottom:"8px"},children:[n.jsxs("div",{style:{flex:1,border:"1px solid #000",padding:"8px"},children:[n.jsx("div",{style:{fontWeight:"bold",fontSize:"10px",marginBottom:"5px",borderBottom:"1px solid #000",paddingBottom:"3px"},children:"ENDERECO DE ENTREGA"}),n.jsxs("div",{style:{fontWeight:"bold",fontSize:"10px",marginBottom:"2px"},children:[((m=t.endereco)==null?void 0:m.logradouro)||"-",", ",((v=t.endereco)==null?void 0:v.numero)||"S/N"]}),n.jsxs("div",{style:{fontSize:"9px",marginBottom:"2px"},children:[((y=t.endereco)==null?void 0:y.bairro)||"-"," - ",((x=t.endereco)==null?void 0:x.cidade)||t.regiao||"-"]}),((E=t.endereco)==null?void 0:E.complemento)&&n.jsxs("div",{style:{fontSize:"9px"},children:["Compl.: ",t.endereco.complemento]})]}),n.jsxs("div",{style:{flex:1,border:"1px solid #000",padding:"8px"},children:[n.jsx("div",{style:{fontWeight:"bold",fontSize:"10px",marginBottom:"5px",borderBottom:"1px solid #000",paddingBottom:"3px"},children:"PAGAMENTO"}),n.jsxs("div",{style:{fontSize:"9px"},children:[n.jsx("span",{children:"Forma de Pagamento: "}),n.jsx("span",{children:t.forma_pagamento||"-"})]})]})]}),t.observacoes&&n.jsxs("div",{style:{border:"1px solid #000",padding:"8px",marginBottom:"8px"},children:[n.jsx("div",{style:{fontWeight:"bold",fontSize:"10px",marginBottom:"5px",borderBottom:"1px solid #000",paddingBottom:"3px"},children:"OBSERVAES"}),n.jsx("div",{style:{fontSize:"9px"},children:t.observacoes})]}),(t.item_geladeira||t.buscar_receita)&&n.jsxs("div",{style:{display:"flex",gap:"8px",marginBottom:"8px"},children:[t.item_geladeira&&n.jsxs("div",{style:{flex:1,display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",padding:"8px",fontSize:"11px",fontWeight:"bold",textTransform:"uppercase",border:"2px solid #000",background:"#fff"},children:[n.jsx("span",{children:""}),n.jsx("span",{children:"ITEM DE GELADEIRA"}),n.jsx("span",{children:""})]}),t.buscar_receita&&n.jsxs("div",{style:{flex:1,display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",padding:"8px",fontSize:"11px",fontWeight:"bold",textTransform:"uppercase",border:"2px solid #000",background:"#fff"},children:[n.jsx(dn,{size:14}),n.jsx("span",{children:"RETER RECEITA"}),n.jsx(dn,{size:14})]})]}),(t.valor_venda>0&&["Receber Dinheiro","Receber Mquina","Pagar MP"].includes(t.forma_pagamento)||t.precisa_troco&&t.valor_troco>0)&&n.jsxs("div",{style:{display:"flex",gap:"8px",marginBottom:"8px"},children:[t.valor_venda>0&&["Receber Dinheiro","Receber Mquina","Pagar MP"].includes(t.forma_pagamento)&&n.jsxs("div",{style:{flex:1,background:"#fff",border:"2px solid #000",padding:"8px",textAlign:"center",fontSize:"12px",fontWeight:"bold"},children:["$ COBRAR NA ENTREGA: R$ ",t.valor_venda.toFixed(2).replace(".",",")]}),t.precisa_troco&&t.valor_troco>0&&n.jsxs("div",{style:{flex:1,background:"#fff",border:"2px solid #000",padding:"8px",textAlign:"center",fontSize:"12px",fontWeight:"bold"},children:["TROCO: R$ ",t.valor_troco.toFixed(2).replace(".",",")]})]})]})}function RD(){const t=Sr(),[e]=u_(),r=e.get("data"),[s,l]=w.useState(r||new Date().toISOString().split("T")[0]),[c,u]=w.useState([]),[p,m]=w.useState(!0),[v,y]=w.useState({busca:"",motoboy:"",periodo:"",status:""}),[x,E]=w.useState(!1),S=async()=>{m(!0);try{const{data:T,error:R}=await Le.from("entregas").select(`
          *,
          cliente:clientes(id, nome, telefone),
          endereco:enderecos(id, logradouro, numero, bairro, cidade, complemento),
          motoboy:motoboys(id, nome)
        `).eq("tipo","moto").eq("data_entrega",s).order("periodo",{ascending:!0});if(R)throw R;const z=await Promise.all((T||[]).map(async Y=>{const D=Y.endereco_logradouro?{id:Y.endereco_id,logradouro:Y.endereco_logradouro,numero:Y.endereco_numero,complemento:Y.endereco_complemento,bairro:Y.endereco_bairro,cidade:Y.endereco_cidade}:Y.endereco;let J=null;if(Y.atendente_id){const{data:ne}=await Le.from("usuarios").select("id, nome, email").eq("id",Y.atendente_id).single();J=ne}return{...Y,endereco:D,atendente:J}}));u(z)}catch(T){console.error("Erro ao carregar romaneios:",T),Se.error("Erro ao carregar romaneios")}finally{m(!1)}};w.useEffect(()=>{S()},[s]);const k=c.filter(T=>{var R,z,Y,D,J,ne,we,Z,$,re;if(v.busca){const U=v.busca.toLowerCase(),W=(z=(R=T.cliente)==null?void 0:R.nome)==null?void 0:z.toLowerCase().includes(U),be=(Y=T.requisicao)==null?void 0:Y.toLowerCase().includes(U),me=((J=(D=T.endereco)==null?void 0:D.logradouro)==null?void 0:J.toLowerCase().includes(U))||((we=(ne=T.endereco)==null?void 0:ne.bairro)==null?void 0:we.toLowerCase().includes(U)),_e=($=(Z=T.motoboy)==null?void 0:Z.nome)==null?void 0:$.toLowerCase().includes(U);if(!W&&!be&&!me&&!_e)return!1}return!(v.motoboy&&((re=T.motoboy)==null?void 0:re.nome)!==v.motoboy||v.periodo&&T.periodo!==v.periodo||v.status&&T.status!==v.status)}),N=[...new Set(c.map(T=>{var R;return(R=T.motoboy)==null?void 0:R.nome}).filter(Boolean))],P=()=>{window.print()},O=T=>new Date(T+"T12:00:00").toLocaleDateString("pt-BR",{weekday:"long",day:"2-digit",month:"long",year:"numeric"});return n.jsxs(n.Fragment,{children:[n.jsx("style",{children:`
        @media print {
          .no-print {
            display: none !important;
          }
          .print-container {
            padding: 0 !important;
          }
          .romaneio-card {
            page-break-inside: avoid;
            border: 1px solid #000 !important;
            margin-bottom: 10px !important;
            padding: 10px !important;
          }
          .romaneios-grid {
            display: block !important;
          }
          .romaneios-grid > div {
            break-inside: avoid;
          }
        }

        @media screen {
          .romaneio-card {
            border: 1px solid #e2e8f0;
            border-radius: 8px;
            padding: 15px;
            background: white;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
          }
        }
      `}),n.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100",children:[n.jsx("div",{className:"no-print py-8 shadow-sm",style:{background:"linear-gradient(135deg, #457bba 0%, #890d5d 100%)"},children:n.jsx("div",{className:"max-w-7xl mx-auto px-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("button",{onClick:()=>t(-1),className:"p-2 rounded-lg bg-white/20 hover:bg-white/30 transition-colors",children:n.jsx(jr,{className:"w-6 h-6 text-white"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-white",children:"Romaneios do Dia"}),n.jsx("p",{className:"text-white/80 text-sm mt-1",children:O(s)})]})]}),n.jsx("div",{className:"flex items-center gap-3",children:n.jsxs("button",{onClick:P,className:"flex items-center gap-2 px-4 py-2 bg-white rounded-lg font-semibold text-sm hover:bg-gray-100 transition-colors",style:{color:"#890d5d"},children:[n.jsx(xu,{size:18}),"Imprimir Todos (",k.length,")"]})})]})})}),n.jsx("div",{className:"no-print max-w-7xl mx-auto px-6 py-4",children:n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-4",children:[n.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Ic,{size:18,className:"text-slate-500"}),n.jsx("input",{type:"date",value:s,onChange:T=>l(T.target.value),className:"px-3 py-2 border border-slate-300 rounded-lg text-sm focus:outline-none focus:border-blue-500"})]}),n.jsxs("div",{className:"flex-1 relative",children:[n.jsx(uo,{size:18,className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400"}),n.jsx("input",{type:"text",value:v.busca,onChange:T=>y({...v,busca:T.target.value}),placeholder:"Buscar por cliente, requisio, endereo, motoboy...",className:"w-full pl-10 pr-4 py-2 border border-slate-300 rounded-lg text-sm focus:outline-none focus:border-blue-500"})]}),n.jsxs("button",{onClick:()=>E(!x),className:"flex items-center gap-2 px-4 py-2 border border-slate-300 rounded-lg text-sm hover:bg-slate-50 transition-colors",children:[n.jsx(IR,{size:18}),"Filtros",(v.motoboy||v.periodo||v.status)&&n.jsx("span",{className:"w-2 h-2 bg-blue-500 rounded-full"})]}),(v.busca||v.motoboy||v.periodo||v.status)&&n.jsxs("button",{onClick:()=>y({busca:"",motoboy:"",periodo:"",status:""}),className:"flex items-center gap-1 px-3 py-2 text-sm text-slate-600 hover:text-slate-900",children:[n.jsx(Bv,{size:16}),"Limpar"]})]}),x&&n.jsxs("div",{className:"flex items-center gap-4 mt-4 pt-4 border-t border-slate-200",children:[n.jsxs("select",{value:v.motoboy,onChange:T=>y({...v,motoboy:T.target.value}),className:"px-3 py-2 border border-slate-300 rounded-lg text-sm focus:outline-none focus:border-blue-500",children:[n.jsx("option",{value:"",children:"Todos Motoboys"}),N.map(T=>n.jsx("option",{value:T,children:T},T))]}),n.jsxs("select",{value:v.periodo,onChange:T=>y({...v,periodo:T.target.value}),className:"px-3 py-2 border border-slate-300 rounded-lg text-sm focus:outline-none focus:border-blue-500",children:[n.jsx("option",{value:"",children:"Todos Perodos"}),n.jsx("option",{value:"Manh",children:"Manh"}),n.jsx("option",{value:"Tarde",children:"Tarde"})]}),n.jsxs("select",{value:v.status,onChange:T=>y({...v,status:T.target.value}),className:"px-3 py-2 border border-slate-300 rounded-lg text-sm focus:outline-none focus:border-blue-500",children:[n.jsx("option",{value:"",children:"Todos Status"}),n.jsx("option",{value:"Produzindo no Laboratrio",children:"Produo"}),n.jsx("option",{value:"A Caminho",children:"A Caminho"}),n.jsx("option",{value:"Entregue",children:"Entregue"})]})]})]})}),n.jsx("div",{className:"print-container max-w-7xl mx-auto px-6 pb-8",children:p?n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-12 text-center",children:[n.jsx("div",{className:"inline-block w-8 h-8 border-4 border-slate-200 border-t-blue-500 rounded-full animate-spin mb-4"}),n.jsx("p",{className:"text-slate-600",children:"Carregando romaneios..."})]}):k.length===0?n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-12 text-center",children:[n.jsx(dn,{size:48,className:"mx-auto mb-4 text-slate-300"}),n.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:"Nenhum romaneio encontrado"}),n.jsx("p",{className:"text-slate-600",children:v.busca||v.motoboy||v.periodo||v.status?"Tente ajustar os filtros de busca":"No h romaneios para esta data"})]}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"no-print mb-4 text-sm text-slate-600",children:["Mostrando ",k.length," romaneio(s)"]}),n.jsx("div",{className:"romaneios-grid",style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"16px"},children:k.map(T=>n.jsx(TD,{romaneio:T},T.id))})]})})]})]})}function AD(){const t=Sr(),e=ho(),[r,s]=w.useState(""),[l,c]=w.useState(!1),[u,p]=w.useState({nome:"",usuario:"",senha:"",tipo_usuario:"atendente",nome_motoboy:"",nome_atendente:""}),[m,v]=w.useState(!1),[y,x]=w.useState(null),{data:E=[],isLoading:S}=hn({queryKey:["dispositivos-usuarios"],queryFn:async()=>{const{data:U,error:W}=await Le.from("dispositivos").select("*").order("status",{ascending:!1}).order("usuario");if(W)throw W;return U||[]}}),{data:k=[]}=hn({queryKey:["motoboys-lista"],queryFn:async()=>{const{data:U,error:W}=await Le.from("motoboys").select("*").order("nome");if(W)throw W;return U||[]}}),N=Xr({mutationFn:async({id:U,tipo_usuario:W,nome_motoboy:be})=>{const{error:me}=await Le.from("dispositivos").update({tipo_usuario:W,nome_motoboy:be||null}).eq("id",U);if(me)throw me},onSuccess:()=>{e.invalidateQueries({queryKey:["dispositivos-usuarios"]}),Se.success("Tipo de usurio atualizado!")},onError:()=>{Se.error("Erro ao atualizar usurio")}}),P=Xr({mutationFn:async U=>{const{error:W}=await Le.from("dispositivos").insert([{usuario:U.usuario,nome:U.nome,senha:U.senha,tipo_usuario:U.tipo_usuario,nome_motoboy:U.tipo_usuario==="motoboy"?U.nome_motoboy:null,nome_atendente:U.tipo_usuario==="atendente"?U.nome_atendente:null,status:"Pendente",impressao_digital:"user-"+Date.now(),ultimo_acesso:new Date().toISOString()}]);if(W)throw W},onSuccess:()=>{e.invalidateQueries({queryKey:["dispositivos-usuarios"]}),Se.success("Usurio criado! Aguardando autorizao."),c(!1),p({nome:"",usuario:"",senha:"",tipo_usuario:"atendente",nome_motoboy:"",nome_atendente:""})},onError:U=>{console.error("Erro ao criar usurio:",U),Se.error("Erro ao criar usurio")}}),O=()=>{if(!u.nome||!u.usuario||!u.senha){Se.error("Preencha nome, usurio e senha");return}if(u.tipo_usuario==="motoboy"&&!u.nome_motoboy){Se.error("Selecione o motoboy");return}if(u.tipo_usuario==="atendente"&&!u.nome_atendente){Se.error("Informe o nome da atendente");return}P.mutate(u)},T=Xr({mutationFn:async U=>{const W={nome:U.nome,usuario:U.usuario,tipo_usuario:U.tipo_usuario,nome_motoboy:U.tipo_usuario==="motoboy"?U.nome_motoboy:null,nome_atendente:U.tipo_usuario==="atendente"?U.nome_atendente:null};U.senha&&(W.senha=U.senha),console.log("Atualizando usurio:",U.id,W);const{data:be,error:me}=await Le.from("dispositivos").update(W).eq("id",U.id).select();if(me)throw console.error("Erro Supabase:",me),me;return console.log("Resultado:",be),be},onSuccess:()=>{e.invalidateQueries({queryKey:["dispositivos-usuarios"]}),Se.success("Usurio atualizado com sucesso!"),v(!1),x(null)},onError:U=>{console.error("Erro ao editar usurio:",U),Se.error("Erro ao editar usurio: "+(U.message||"Erro desconhecido"))}}),R=Xr({mutationFn:async({id:U,status:W})=>{const{error:be}=await Le.from("dispositivos").update({status:W}).eq("id",U);if(be)throw be},onSuccess:(U,{status:W})=>{e.invalidateQueries({queryKey:["dispositivos-usuarios"]}),Se.success(W==="Autorizado"?"Usurio autorizado!":"Usurio bloqueado!")},onError:()=>{Se.error("Erro ao atualizar status")}}),z=Xr({mutationFn:async U=>{const{error:W}=await Le.from("dispositivos").delete().eq("id",U);if(W)throw W},onSuccess:()=>{e.invalidateQueries({queryKey:["dispositivos-usuarios"]}),Se.success("Usurio excludo!")},onError:()=>{Se.error("Erro ao excluir usurio")}}),Y=U=>{x({id:U.id,nome:U.nome||"",usuario:U.usuario||"",senha:"",tipo_usuario:U.tipo_usuario||"atendente",nome_motoboy:U.nome_motoboy||"",nome_atendente:U.nome_atendente||""}),v(!0)},D=()=>{if(!y.nome||!y.usuario){Se.error("Preencha nome e usurio");return}if(y.tipo_usuario==="motoboy"&&!y.nome_motoboy){Se.error("Selecione o motoboy");return}if(y.tipo_usuario==="atendente"&&!y.nome_atendente){Se.error("Informe o nome da atendente");return}T.mutate(y)},J=(U,W)=>{R.mutate({id:U,status:W})},ne=U=>{window.confirm("Tem certeza que deseja excluir este usurio?")&&z.mutate(U)},we=(U,W,be)=>{N.mutate({id:U,tipo_usuario:W,nome_motoboy:be})},Z=E.filter(U=>{var W,be;return((W=U.usuario)==null?void 0:W.toLowerCase().includes(r.toLowerCase()))||((be=U.nome)==null?void 0:be.toLowerCase().includes(r.toLowerCase()))}),$=(U,W)=>{const be={admin:{bg:"bg-purple-100",text:"text-purple-700",label:"Administrador"},atendente:{bg:"bg-blue-100",text:"text-blue-700",label:"Atendente"},motoboy:{bg:"bg-orange-100",text:"text-orange-700",label:`Motoboy${W?`: ${W}`:""}`}},{bg:me,text:_e,label:q}=be[U]||{bg:"bg-slate-100",text:"text-slate-700",label:"No Definido"};return n.jsx("span",{className:`px-3 py-1 rounded-lg text-xs font-bold ${me} ${_e}`,children:q})},re=U=>U!=null&&U.toLowerCase().includes("safari")||U!=null&&U.toLowerCase().includes("mac")||U!=null&&U.toLowerCase().includes("windows")?n.jsx(Zd,{className:"w-5 h-5 text-slate-500"}):n.jsx(T1,{className:"w-5 h-5 text-slate-500"});return n.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100",children:[n.jsx("div",{className:"py-8 shadow-sm",style:{background:"linear-gradient(135deg, #457bba 0%, #890d5d 100%)"},children:n.jsx("div",{className:"max-w-7xl mx-auto px-6",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("button",{onClick:()=>t(-1),className:"p-2 rounded-lg bg-white/20 hover:bg-white/30 transition-colors",children:n.jsx(uR,{className:"w-6 h-6 text-white"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-4xl font-bold text-white",children:"Gerenciar Usurios"}),n.jsx("p",{className:"text-base text-white opacity-90 mt-1",children:"Defina os tipos de acesso para cada dispositivo"})]})]})})}),n.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-6",children:[n.jsxs("div",{onClick:()=>c(!0),className:"bg-white rounded-xl shadow-sm p-5 mb-6 cursor-pointer transition-all hover:shadow-md hover:scale-[1.01] flex items-center gap-4",style:{borderLeft:"4px solid #890d5d"},children:[n.jsx("div",{className:"p-3 rounded-full",style:{backgroundColor:"#890d5d"},children:n.jsx(sb,{className:"w-6 h-6 text-white"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-bold text-slate-900",children:"Criar Novo Usurio"}),n.jsx("p",{className:"text-sm text-slate-500",children:"Adicione um novo usurio ao sistema"})]})]}),n.jsx("div",{className:"bg-white rounded-xl shadow-sm p-4 mb-6",children:n.jsxs("div",{className:"relative",children:[n.jsx(uo,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),n.jsx("input",{type:"text",value:r,onChange:U=>s(U.target.value),placeholder:"Buscar por nome ou dispositivo...",className:"w-full pl-10 pr-4 py-3 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:border-transparent",style:{"--tw-ring-color":"#376295"}})]})}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:[n.jsx("div",{className:"px-6 py-4 border-b border-slate-200",style:{backgroundColor:"#890d5d"},children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(wA,{className:"w-5 h-5 text-white"}),n.jsxs("h2",{className:"text-lg font-bold text-white",children:["Usurios Autorizados (",Z.length,")"]})]})}),n.jsx("div",{className:"divide-y divide-slate-200",children:S?n.jsx("div",{className:"p-12 text-center text-slate-500",children:"Carregando usurios..."}):Z.length===0?n.jsxs("div",{className:"p-12 text-center",children:[n.jsx(lo,{className:"w-12 h-12 text-slate-300 mx-auto mb-3"}),n.jsx("div",{className:"text-slate-600 font-medium",children:"Nenhum usurio encontrado"}),n.jsx("div",{className:"text-sm text-slate-500 mt-1",children:"Autorize dispositivos na pgina de Dispositivos"})]}):Z.map(U=>n.jsx(OD,{dispositivo:U,motoboys:k,onUpdateTipo:we,onEditar:Y,onExcluir:ne,onAutorizar:J,isUpdating:N.isPending,getDeviceIcon:re,getTipoBadge:$},U.id))})]})]}),n.jsx(ds,{open:l,onOpenChange:c,children:n.jsxs(Ao,{className:"max-w-md",children:[n.jsx(Oo,{children:n.jsxs(Mo,{className:"flex items-center gap-2",children:[n.jsx(sb,{className:"w-5 h-5",style:{color:"#890d5d"}}),"Criar Novo Usurio"]})}),n.jsxs("div",{className:"space-y-4 py-4",children:[n.jsxs("div",{children:[n.jsx(kt,{children:"Nome *"}),n.jsx(Vt,{value:u.nome,onChange:U=>p({...u,nome:U.target.value}),placeholder:"Nome do usurio"})]}),n.jsxs("div",{children:[n.jsx(kt,{children:"Usurio (usado para login) *"}),n.jsx(Vt,{type:"text",value:u.usuario,onChange:U=>p({...u,usuario:U.target.value}),placeholder:"Digite o nome de usurio"})]}),n.jsxs("div",{children:[n.jsx(kt,{children:"Senha *"}),n.jsx(Vt,{type:"password",value:u.senha,onChange:U=>p({...u,senha:U.target.value}),placeholder:"Digite uma senha"})]}),n.jsxs("div",{children:[n.jsx(kt,{children:"Tipo de Usurio *"}),n.jsxs("select",{value:u.tipo_usuario,onChange:U=>p({...u,tipo_usuario:U.target.value}),className:"w-full h-10 rounded-lg border border-slate-300 bg-white px-3 py-2 text-sm font-medium",children:[n.jsx("option",{value:"admin",children:"Administrador"}),n.jsx("option",{value:"atendente",children:"Atendente"}),n.jsx("option",{value:"motoboy",children:"Motoboy"})]})]}),u.tipo_usuario==="atendente"&&n.jsxs("div",{children:[n.jsx(kt,{children:"Nome da Atendente *"}),n.jsx(Vt,{value:u.nome_atendente,onChange:U=>p({...u,nome_atendente:U.target.value}),placeholder:"Nome da atendente"})]}),u.tipo_usuario==="motoboy"&&n.jsxs("div",{children:[n.jsx(kt,{children:"Selecionar Motoboy *"}),n.jsxs("select",{value:u.nome_motoboy,onChange:U=>p({...u,nome_motoboy:U.target.value}),className:"w-full h-10 rounded-lg border border-slate-300 bg-white px-3 py-2 text-sm font-medium",children:[n.jsx("option",{value:"",children:"Selecione..."}),k.map(U=>n.jsx("option",{value:U.nome,children:U.nome},U.id))]}),n.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"O motoboy s ver suas prprias entregas"})]}),n.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[n.jsx(pr,{variant:"outline",onClick:()=>c(!1),children:"Cancelar"}),n.jsx(pr,{onClick:O,disabled:P.isPending,style:{backgroundColor:"#890d5d"},className:"text-white",children:P.isPending?"Criando...":"Criar Usurio"})]})]})]})}),n.jsx(ds,{open:m,onOpenChange:v,children:n.jsxs(Ao,{className:"max-w-md",children:[n.jsx(Oo,{children:n.jsxs(Mo,{className:"flex items-center gap-2",children:[n.jsx(C1,{className:"w-5 h-5",style:{color:"#457bba"}}),"Editar Usurio"]})}),y&&n.jsxs("div",{className:"space-y-4 py-4",children:[n.jsxs("div",{children:[n.jsx(kt,{children:"Nome *"}),n.jsx(Vt,{value:y.nome,onChange:U=>x({...y,nome:U.target.value}),placeholder:"Nome do usurio"})]}),n.jsxs("div",{children:[n.jsx(kt,{children:"Usurio (usado para login) *"}),n.jsx(Vt,{type:"text",value:y.usuario,onChange:U=>x({...y,usuario:U.target.value}),placeholder:"Digite o nome de usurio"})]}),n.jsxs("div",{children:[n.jsx(kt,{children:"Nova Senha (deixe em branco para manter)"}),n.jsx(Vt,{type:"password",value:y.senha,onChange:U=>x({...y,senha:U.target.value}),placeholder:"Digite uma nova senha"})]}),n.jsxs("div",{children:[n.jsx(kt,{children:"Tipo de Usurio *"}),n.jsxs("select",{value:y.tipo_usuario,onChange:U=>x({...y,tipo_usuario:U.target.value}),className:"w-full h-10 rounded-lg border border-slate-300 bg-white px-3 py-2 text-sm font-medium",children:[n.jsx("option",{value:"admin",children:"Administrador"}),n.jsx("option",{value:"atendente",children:"Atendente"}),n.jsx("option",{value:"motoboy",children:"Motoboy"})]})]}),y.tipo_usuario==="atendente"&&n.jsxs("div",{children:[n.jsx(kt,{children:"Nome da Atendente *"}),n.jsx(Vt,{value:y.nome_atendente,onChange:U=>x({...y,nome_atendente:U.target.value}),placeholder:"Nome da atendente"})]}),y.tipo_usuario==="motoboy"&&n.jsxs("div",{children:[n.jsx(kt,{children:"Selecionar Motoboy *"}),n.jsxs("select",{value:y.nome_motoboy,onChange:U=>x({...y,nome_motoboy:U.target.value}),className:"w-full h-10 rounded-lg border border-slate-300 bg-white px-3 py-2 text-sm font-medium",children:[n.jsx("option",{value:"",children:"Selecione..."}),k.map(U=>n.jsx("option",{value:U.nome,children:U.nome},U.id))]})]}),n.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[n.jsx(pr,{variant:"outline",onClick:()=>v(!1),children:"Cancelar"}),n.jsx(pr,{onClick:D,disabled:T.isPending,style:{backgroundColor:"#457bba"},className:"text-white",children:T.isPending?"Salvando...":"Salvar"})]})]})]})})]})}function OD({dispositivo:t,motoboys:e,onUpdateTipo:r,onEditar:s,onExcluir:l,onAutorizar:c,isUpdating:u,getDeviceIcon:p,getTipoBadge:m}){const[v,y]=Te.useState(t.tipo_usuario||""),[x,E]=Te.useState(t.nome_motoboy||""),[S,k]=Te.useState(!1),N=t.status!=="Autorizado",P=R=>{y(R),R!=="motoboy"&&(E(""),r(t.id,R,null))},O=R=>{E(R),R&&r(t.id,"motoboy",R)},T=()=>N?n.jsxs("span",{className:"flex items-center gap-1 px-3 py-1 rounded-lg text-xs font-bold bg-yellow-100 text-yellow-700",children:[n.jsx(Ro,{className:"w-3 h-3"}),"Pendente"]}):n.jsxs("span",{className:"flex items-center gap-1 px-3 py-1 rounded-lg text-xs font-bold bg-green-100 text-green-700",children:[n.jsx(Xa,{className:"w-3 h-3"}),"Autorizado"]});return n.jsx("div",{className:`p-6 hover:bg-slate-50 transition-colors ${N?"bg-yellow-50":""}`,children:n.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center ${N?"bg-yellow-400":"bg-gradient-to-br from-[#457bba] to-[#890d5d]"}`,children:n.jsx(lo,{className:"w-6 h-6 text-white"})}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("h3",{className:"font-bold text-slate-900 text-lg",children:t.nome||t.usuario||"Usurio"}),T()]}),n.jsxs("div",{className:"flex items-center gap-4 text-sm text-slate-500 mt-1",children:[n.jsxs("span",{className:"font-medium",children:["Login: ",t.usuario||"-"]}),n.jsxs("span",{className:"flex items-center gap-1 font-medium",children:["Senha: ",S?t.senha||"-":"",n.jsx("button",{onClick:()=>k(!S),className:"p-1 hover:bg-slate-200 rounded transition-colors",title:S?"Ocultar senha":"Mostrar senha",children:S?n.jsx(AR,{className:"w-4 h-4"}):n.jsx(S1,{className:"w-4 h-4"})})]})]})]})]}),n.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[N?n.jsxs("button",{onClick:()=>c(t.id,"Autorizado"),className:"flex items-center gap-2 px-4 py-2 bg-green-500 hover:bg-green-600 text-white rounded-lg transition-colors font-medium",children:[n.jsx(Xa,{className:"w-4 h-4"}),"Autorizar"]}):n.jsxs("button",{onClick:()=>c(t.id,"Bloqueado"),className:"flex items-center gap-2 px-4 py-2 bg-slate-200 hover:bg-red-100 text-slate-600 hover:text-red-600 rounded-lg transition-colors font-medium",children:[n.jsx(Kd,{className:"w-4 h-4"}),"Bloquear"]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-sm font-medium text-slate-600",children:"Tipo:"}),n.jsxs("select",{value:v,onChange:R=>P(R.target.value),disabled:u,className:"min-w-[160px] h-10 rounded-lg border border-slate-300 bg-white px-3 py-2 text-sm font-medium text-slate-900 disabled:opacity-50 cursor-pointer",children:[n.jsx("option",{value:"",children:"Selecione..."}),n.jsx("option",{value:"admin",children:"Administrador"}),n.jsx("option",{value:"atendente",children:"Atendente"}),n.jsx("option",{value:"motoboy",children:"Motoboy"})]})]}),v==="motoboy"&&n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-sm font-medium text-slate-600",children:"Motoboy:"}),n.jsxs("select",{value:x,onChange:R=>O(R.target.value),disabled:u,className:"min-w-[150px] h-10 rounded-lg border border-slate-300 bg-white px-3 py-2 text-sm font-medium text-slate-900 disabled:opacity-50 cursor-pointer",children:[n.jsx("option",{value:"",children:"Selecione..."}),e==null?void 0:e.map(R=>n.jsx("option",{value:R.nome,children:R.nome},R.id))]})]}),v&&m(v,x),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("button",{onClick:()=>s(t),className:"p-2 text-slate-600 hover:bg-slate-200 rounded-lg transition-colors",title:"Editar usurio",children:n.jsx(C1,{className:"w-5 h-5"})}),n.jsx("button",{onClick:()=>l(t.id),className:"p-2 text-red-500 hover:bg-red-100 rounded-lg transition-colors",title:"Excluir usurio",children:n.jsx(Bc,{className:"w-5 h-5"})})]})]})]})})}const MD=new r2({defaultOptions:{queries:{refetchOnWindowFocus:!1,retry:1,staleTime:300*1e3}}});function Ib({children:t}){const{user:e,loading:r}=al();return r?n.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",minHeight:"100vh"},children:n.jsxs("div",{style:{textAlign:"center"},children:[n.jsx("div",{style:{width:"50px",height:"50px",border:"4px solid #e2e8f0",borderTop:"4px solid #457bba",borderRadius:"50%",animation:"spin 1s linear infinite",margin:"0 auto 1rem"}}),n.jsx("p",{children:"Carregando..."})]})}):e?t:n.jsx(pf,{to:"/login"})}function _n({children:t}){const{userType:e}=al();return e==="motoboy"?n.jsx(pf,{to:"/painel-motoboys",replace:!0}):t}function LD(){const{user:t,userType:e}=al(),r=()=>e==="motoboy"?"/painel-motoboys":"/";return n.jsxs(J0,{children:[n.jsx(br,{path:"/login",element:t?n.jsx(pf,{to:r()}):n.jsx(RP,{})}),n.jsx(br,{path:"/imprimir-romaneio",element:n.jsx(Ib,{children:n.jsx(vb,{printMode:!0})})}),n.jsx(br,{path:"/*",element:n.jsx(Ib,{children:n.jsx(PP,{children:n.jsxs(J0,{children:[n.jsx(br,{path:"/",element:e==="motoboy"?n.jsx(pf,{to:"/painel-motoboys",replace:!0}):n.jsx(dO,{})}),n.jsx(br,{path:"/sedex",element:n.jsx(_n,{children:n.jsx(HI,{})})}),n.jsx(br,{path:"/sedex-detalhes",element:n.jsx(_n,{children:n.jsx(GI,{})})}),n.jsx(br,{path:"/novo-romaneio",element:n.jsx(_n,{children:n.jsx(pO,{})})}),n.jsx(br,{path:"/editar-romaneio",element:n.jsx(_n,{children:n.jsx(yO,{})})}),n.jsx(br,{path:"/detalhes-romaneio",element:n.jsx(_n,{children:n.jsx(vb,{})})}),n.jsx(br,{path:"/clientes",element:n.jsx(_n,{children:n.jsx(VM,{})})}),n.jsx(br,{path:"/historico-clientes",element:n.jsx(_n,{children:n.jsx("div",{style:{padding:"2rem"},children:"Histrico - Em construo"})})}),n.jsx(br,{path:"/relatorios",element:n.jsx(_n,{children:n.jsx(KI,{})})}),n.jsx(br,{path:"/receitas",element:n.jsx(_n,{children:n.jsx(eD,{})})}),n.jsx(br,{path:"/pagamentos",element:n.jsx(_n,{children:n.jsx(rD,{})})}),n.jsx(br,{path:"/planilha-diaria",element:n.jsx(_n,{children:n.jsx(oD,{})})}),n.jsx(br,{path:"/painel-motoboys",element:n.jsx(CD,{})}),n.jsx(br,{path:"/dispositivos",element:n.jsx(_n,{children:n.jsx(kD,{})})}),n.jsx(br,{path:"/romaneios-do-dia",element:n.jsx(_n,{children:n.jsx(RD,{})})}),n.jsx(br,{path:"/usuarios",element:n.jsx(_n,{children:n.jsx(AD,{})})})]})})})})]})}function ID(){return n.jsx(TP,{children:n.jsx(n2,{client:MD,children:n.jsx(CP,{children:n.jsxs(JN,{basename:"/FormedicaEntregas",children:[n.jsx(LD,{}),n.jsx(OC,{position:"top-right",richColors:!0}),n.jsx("style",{children:`
              @keyframes spin {
                to { transform: rotate(360deg); }
              }
              * {
                margin: 0;
                padding: 0;
                box-sizing: border-box;
              }
              body {
                font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
              }
            `})]})})})})}window.addEventListener("error",t=>{var e,r;if((e=t.message)!=null&&e.includes("removeChild")||(r=t.message)!=null&&r.includes("The node to be removed is not a child"))return console.warn(" [Global] Erro de removeChild capturado e prevenido:",t.message),t.preventDefault(),t.stopPropagation(),!0});window.addEventListener("unhandledrejection",t=>{var e,r,s,l;if((r=(e=t.reason)==null?void 0:e.message)!=null&&r.includes("removeChild")||(l=(s=t.reason)==null?void 0:s.message)!=null&&l.includes("The node to be removed is not a child"))return console.warn(" [Global] Promise rejection de removeChild capturada e prevenida"),t.preventDefault(),!0});DE.createRoot(document.getElementById("root")).render(n.jsx(ID,{}));
