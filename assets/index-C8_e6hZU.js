var d0=t=>{throw TypeError(t)};var df=(t,e,r)=>e.has(t)||d0("Cannot "+r);var W=(t,e,r)=>(df(t,e,"read from private field"),r?r.call(t):e.get(t)),De=(t,e,r)=>e.has(t)?d0("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),je=(t,e,r,o)=>(df(t,e,"write to private field"),o?o.call(t,r):e.set(t,r),r),Ve=(t,e,r)=>(df(t,e,"access private method"),r);var Zc=(t,e,r,o)=>({set _(i){je(t,e,i,r)},get _(){return W(t,e,o)}});function vy(t,e){for(var r=0;r<e.length;r++){const o=e[r];if(typeof o!="string"&&!Array.isArray(o)){for(const i in o)if(i!=="default"&&!(i in t)){const l=Object.getOwnPropertyDescriptor(o,i);l&&Object.defineProperty(t,i,l.get?l:{enumerable:!0,get:()=>o[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))o(i);new MutationObserver(i=>{for(const l of i)if(l.type==="childList")for(const d of l.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&o(d)}).observe(document,{childList:!0,subtree:!0});function r(i){const l={};return i.integrity&&(l.integrity=i.integrity),i.referrerPolicy&&(l.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?l.credentials="include":i.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function o(i){if(i.ep)return;i.ep=!0;const l=r(i);fetch(i.href,l)}})();function ou(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Ll(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var r=function o(){return this instanceof o?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(o){var i=Object.getOwnPropertyDescriptor(t,o);Object.defineProperty(r,o,i.get?i:{enumerable:!0,get:function(){return t[o]}})}),r}var uf={exports:{}},hl={},hf={exports:{}},Ge={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var u0;function sN(){if(u0)return Ge;u0=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),d=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),p=Symbol.iterator;function w(D){return D===null||typeof D!="object"?null:(D=p&&D[p]||D["@@iterator"],typeof D=="function"?D:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,_={};function j(D,L,F){this.props=D,this.context=L,this.refs=_,this.updater=F||b}j.prototype.isReactComponent={},j.prototype.setState=function(D,L){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,L,"setState")},j.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function N(){}N.prototype=j.prototype;function S(D,L,F){this.props=D,this.context=L,this.refs=_,this.updater=F||b}var k=S.prototype=new N;k.constructor=S,E(k,j.prototype),k.isPureReactComponent=!0;var P=Array.isArray,z=Object.prototype.hasOwnProperty,A={current:null},q={key:!0,ref:!0,__self:!0,__source:!0};function K(D,L,F){var O,ie={},ue=null,le=null;if(L!=null)for(O in L.ref!==void 0&&(le=L.ref),L.key!==void 0&&(ue=""+L.key),L)z.call(L,O)&&!q.hasOwnProperty(O)&&(ie[O]=L[O]);var X=arguments.length-2;if(X===1)ie.children=F;else if(1<X){for(var ye=Array(X),be=0;be<X;be++)ye[be]=arguments[be+2];ie.children=ye}if(D&&D.defaultProps)for(O in X=D.defaultProps,X)ie[O]===void 0&&(ie[O]=X[O]);return{$$typeof:t,type:D,key:ue,ref:le,props:ie,_owner:A.current}}function de(D,L){return{$$typeof:t,type:D.type,key:L,ref:D.ref,props:D.props,_owner:D._owner}}function V(D){return typeof D=="object"&&D!==null&&D.$$typeof===t}function T(D){var L={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(F){return L[F]})}var Y=/\/+/g;function te(D,L){return typeof D=="object"&&D!==null&&D.key!=null?T(""+D.key):L.toString(36)}function U(D,L,F,O,ie){var ue=typeof D;(ue==="undefined"||ue==="boolean")&&(D=null);var le=!1;if(D===null)le=!0;else switch(ue){case"string":case"number":le=!0;break;case"object":switch(D.$$typeof){case t:case e:le=!0}}if(le)return le=D,ie=ie(le),D=O===""?"."+te(le,0):O,P(ie)?(F="",D!=null&&(F=D.replace(Y,"$&/")+"/"),U(ie,L,F,"",function(be){return be})):ie!=null&&(V(ie)&&(ie=de(ie,F+(!ie.key||le&&le.key===ie.key?"":(""+ie.key).replace(Y,"$&/")+"/")+D)),L.push(ie)),1;if(le=0,O=O===""?".":O+":",P(D))for(var X=0;X<D.length;X++){ue=D[X];var ye=O+te(ue,X);le+=U(ue,L,F,ye,ie)}else if(ye=w(D),typeof ye=="function")for(D=ye.call(D),X=0;!(ue=D.next()).done;)ue=ue.value,ye=O+te(ue,X++),le+=U(ue,L,F,ye,ie);else if(ue==="object")throw L=String(D),Error("Objects are not valid as a React child (found: "+(L==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":L)+"). If you meant to render a collection of children, use an array instead.");return le}function he(D,L,F){if(D==null)return D;var O=[],ie=0;return U(D,O,"","",function(ue){return L.call(F,ue,ie++)}),O}function $(D){if(D._status===-1){var L=D._result;L=L(),L.then(function(F){(D._status===0||D._status===-1)&&(D._status=1,D._result=F)},function(F){(D._status===0||D._status===-1)&&(D._status=2,D._result=F)}),D._status===-1&&(D._status=0,D._result=L)}if(D._status===1)return D._result.default;throw D._result}var Z={current:null},M={transition:null},ae={ReactCurrentDispatcher:Z,ReactCurrentBatchConfig:M,ReactCurrentOwner:A};function R(){throw Error("act(...) is not supported in production builds of React.")}return Ge.Children={map:he,forEach:function(D,L,F){he(D,function(){L.apply(this,arguments)},F)},count:function(D){var L=0;return he(D,function(){L++}),L},toArray:function(D){return he(D,function(L){return L})||[]},only:function(D){if(!V(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},Ge.Component=j,Ge.Fragment=r,Ge.Profiler=i,Ge.PureComponent=S,Ge.StrictMode=o,Ge.Suspense=h,Ge.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ae,Ge.act=R,Ge.cloneElement=function(D,L,F){if(D==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+D+".");var O=E({},D.props),ie=D.key,ue=D.ref,le=D._owner;if(L!=null){if(L.ref!==void 0&&(ue=L.ref,le=A.current),L.key!==void 0&&(ie=""+L.key),D.type&&D.type.defaultProps)var X=D.type.defaultProps;for(ye in L)z.call(L,ye)&&!q.hasOwnProperty(ye)&&(O[ye]=L[ye]===void 0&&X!==void 0?X[ye]:L[ye])}var ye=arguments.length-2;if(ye===1)O.children=F;else if(1<ye){X=Array(ye);for(var be=0;be<ye;be++)X[be]=arguments[be+2];O.children=X}return{$$typeof:t,type:D.type,key:ie,ref:ue,props:O,_owner:le}},Ge.createContext=function(D){return D={$$typeof:d,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},D.Provider={$$typeof:l,_context:D},D.Consumer=D},Ge.createElement=K,Ge.createFactory=function(D){var L=K.bind(null,D);return L.type=D,L},Ge.createRef=function(){return{current:null}},Ge.forwardRef=function(D){return{$$typeof:u,render:D}},Ge.isValidElement=V,Ge.lazy=function(D){return{$$typeof:x,_payload:{_status:-1,_result:D},_init:$}},Ge.memo=function(D,L){return{$$typeof:m,type:D,compare:L===void 0?null:L}},Ge.startTransition=function(D){var L=M.transition;M.transition={};try{D()}finally{M.transition=L}},Ge.unstable_act=R,Ge.useCallback=function(D,L){return Z.current.useCallback(D,L)},Ge.useContext=function(D){return Z.current.useContext(D)},Ge.useDebugValue=function(){},Ge.useDeferredValue=function(D){return Z.current.useDeferredValue(D)},Ge.useEffect=function(D,L){return Z.current.useEffect(D,L)},Ge.useId=function(){return Z.current.useId()},Ge.useImperativeHandle=function(D,L,F){return Z.current.useImperativeHandle(D,L,F)},Ge.useInsertionEffect=function(D,L){return Z.current.useInsertionEffect(D,L)},Ge.useLayoutEffect=function(D,L){return Z.current.useLayoutEffect(D,L)},Ge.useMemo=function(D,L){return Z.current.useMemo(D,L)},Ge.useReducer=function(D,L,F){return Z.current.useReducer(D,L,F)},Ge.useRef=function(D){return Z.current.useRef(D)},Ge.useState=function(D){return Z.current.useState(D)},Ge.useSyncExternalStore=function(D,L,F){return Z.current.useSyncExternalStore(D,L,F)},Ge.useTransition=function(){return Z.current.useTransition()},Ge.version="18.3.1",Ge}var h0;function Lm(){return h0||(h0=1,hf.exports=sN()),hf.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f0;function oN(){if(f0)return hl;f0=1;var t=Lm(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function d(u,h,m){var x,p={},w=null,b=null;m!==void 0&&(w=""+m),h.key!==void 0&&(w=""+h.key),h.ref!==void 0&&(b=h.ref);for(x in h)o.call(h,x)&&!l.hasOwnProperty(x)&&(p[x]=h[x]);if(u&&u.defaultProps)for(x in h=u.defaultProps,h)p[x]===void 0&&(p[x]=h[x]);return{$$typeof:e,type:u,key:w,ref:b,props:p,_owner:i.current}}return hl.Fragment=r,hl.jsx=d,hl.jsxs=d,hl}var m0;function aN(){return m0||(m0=1,uf.exports=oN()),uf.exports}var n=aN(),y=Lm();const xe=ou(y),yy=vy({__proto__:null,default:xe},[y]);var ed={},ff={exports:{}},kr={},mf={exports:{}},pf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var p0;function iN(){return p0||(p0=1,(function(t){function e(M,ae){var R=M.length;M.push(ae);e:for(;0<R;){var D=R-1>>>1,L=M[D];if(0<i(L,ae))M[D]=ae,M[R]=L,R=D;else break e}}function r(M){return M.length===0?null:M[0]}function o(M){if(M.length===0)return null;var ae=M[0],R=M.pop();if(R!==ae){M[0]=R;e:for(var D=0,L=M.length,F=L>>>1;D<F;){var O=2*(D+1)-1,ie=M[O],ue=O+1,le=M[ue];if(0>i(ie,R))ue<L&&0>i(le,ie)?(M[D]=le,M[ue]=R,D=ue):(M[D]=ie,M[O]=R,D=O);else if(ue<L&&0>i(le,R))M[D]=le,M[ue]=R,D=ue;else break e}}return ae}function i(M,ae){var R=M.sortIndex-ae.sortIndex;return R!==0?R:M.id-ae.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var d=Date,u=d.now();t.unstable_now=function(){return d.now()-u}}var h=[],m=[],x=1,p=null,w=3,b=!1,E=!1,_=!1,j=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function k(M){for(var ae=r(m);ae!==null;){if(ae.callback===null)o(m);else if(ae.startTime<=M)o(m),ae.sortIndex=ae.expirationTime,e(h,ae);else break;ae=r(m)}}function P(M){if(_=!1,k(M),!E)if(r(h)!==null)E=!0,$(z);else{var ae=r(m);ae!==null&&Z(P,ae.startTime-M)}}function z(M,ae){E=!1,_&&(_=!1,N(K),K=-1),b=!0;var R=w;try{for(k(ae),p=r(h);p!==null&&(!(p.expirationTime>ae)||M&&!T());){var D=p.callback;if(typeof D=="function"){p.callback=null,w=p.priorityLevel;var L=D(p.expirationTime<=ae);ae=t.unstable_now(),typeof L=="function"?p.callback=L:p===r(h)&&o(h),k(ae)}else o(h);p=r(h)}if(p!==null)var F=!0;else{var O=r(m);O!==null&&Z(P,O.startTime-ae),F=!1}return F}finally{p=null,w=R,b=!1}}var A=!1,q=null,K=-1,de=5,V=-1;function T(){return!(t.unstable_now()-V<de)}function Y(){if(q!==null){var M=t.unstable_now();V=M;var ae=!0;try{ae=q(!0,M)}finally{ae?te():(A=!1,q=null)}}else A=!1}var te;if(typeof S=="function")te=function(){S(Y)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,he=U.port2;U.port1.onmessage=Y,te=function(){he.postMessage(null)}}else te=function(){j(Y,0)};function $(M){q=M,A||(A=!0,te())}function Z(M,ae){K=j(function(){M(t.unstable_now())},ae)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(M){M.callback=null},t.unstable_continueExecution=function(){E||b||(E=!0,$(z))},t.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):de=0<M?Math.floor(1e3/M):5},t.unstable_getCurrentPriorityLevel=function(){return w},t.unstable_getFirstCallbackNode=function(){return r(h)},t.unstable_next=function(M){switch(w){case 1:case 2:case 3:var ae=3;break;default:ae=w}var R=w;w=ae;try{return M()}finally{w=R}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(M,ae){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var R=w;w=M;try{return ae()}finally{w=R}},t.unstable_scheduleCallback=function(M,ae,R){var D=t.unstable_now();switch(typeof R=="object"&&R!==null?(R=R.delay,R=typeof R=="number"&&0<R?D+R:D):R=D,M){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=R+L,M={id:x++,callback:ae,priorityLevel:M,startTime:R,expirationTime:L,sortIndex:-1},R>D?(M.sortIndex=R,e(m,M),r(h)===null&&M===r(m)&&(_?(N(K),K=-1):_=!0,Z(P,R-D))):(M.sortIndex=L,e(h,M),E||b||(E=!0,$(z))),M},t.unstable_shouldYield=T,t.unstable_wrapCallback=function(M){var ae=w;return function(){var R=w;w=ae;try{return M.apply(this,arguments)}finally{w=R}}}})(pf)),pf}var g0;function lN(){return g0||(g0=1,mf.exports=iN()),mf.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var x0;function cN(){if(x0)return kr;x0=1;var t=Lm(),e=lN();function r(s){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+s,c=1;c<arguments.length;c++)a+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+s+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,i={};function l(s,a){d(s,a),d(s+"Capture",a)}function d(s,a){for(i[s]=a,s=0;s<a.length;s++)o.add(a[s])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,x={},p={};function w(s){return h.call(p,s)?!0:h.call(x,s)?!1:m.test(s)?p[s]=!0:(x[s]=!0,!1)}function b(s,a,c,f){if(c!==null&&c.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return f?!1:c!==null?!c.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function E(s,a,c,f){if(a===null||typeof a>"u"||b(s,a,c,f))return!0;if(f)return!1;if(c!==null)switch(c.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function _(s,a,c,f,g,v,C){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=f,this.attributeNamespace=g,this.mustUseProperty=c,this.propertyName=s,this.type=a,this.sanitizeURL=v,this.removeEmptyString=C}var j={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){j[s]=new _(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var a=s[0];j[a]=new _(a,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){j[s]=new _(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){j[s]=new _(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){j[s]=new _(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){j[s]=new _(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){j[s]=new _(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){j[s]=new _(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){j[s]=new _(s,5,!1,s.toLowerCase(),null,!1,!1)});var N=/[\-:]([a-z])/g;function S(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var a=s.replace(N,S);j[a]=new _(a,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var a=s.replace(N,S);j[a]=new _(a,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var a=s.replace(N,S);j[a]=new _(a,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){j[s]=new _(s,1,!1,s.toLowerCase(),null,!1,!1)}),j.xlinkHref=new _("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){j[s]=new _(s,1,!1,s.toLowerCase(),null,!0,!0)});function k(s,a,c,f){var g=j.hasOwnProperty(a)?j[a]:null;(g!==null?g.type!==0:f||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(E(a,c,g,f)&&(c=null),f||g===null?w(a)&&(c===null?s.removeAttribute(a):s.setAttribute(a,""+c)):g.mustUseProperty?s[g.propertyName]=c===null?g.type===3?!1:"":c:(a=g.attributeName,f=g.attributeNamespace,c===null?s.removeAttribute(a):(g=g.type,c=g===3||g===4&&c===!0?"":""+c,f?s.setAttributeNS(f,a,c):s.setAttribute(a,c))))}var P=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,z=Symbol.for("react.element"),A=Symbol.for("react.portal"),q=Symbol.for("react.fragment"),K=Symbol.for("react.strict_mode"),de=Symbol.for("react.profiler"),V=Symbol.for("react.provider"),T=Symbol.for("react.context"),Y=Symbol.for("react.forward_ref"),te=Symbol.for("react.suspense"),U=Symbol.for("react.suspense_list"),he=Symbol.for("react.memo"),$=Symbol.for("react.lazy"),Z=Symbol.for("react.offscreen"),M=Symbol.iterator;function ae(s){return s===null||typeof s!="object"?null:(s=M&&s[M]||s["@@iterator"],typeof s=="function"?s:null)}var R=Object.assign,D;function L(s){if(D===void 0)try{throw Error()}catch(c){var a=c.stack.trim().match(/\n( *(at )?)/);D=a&&a[1]||""}return`
`+D+s}var F=!1;function O(s,a){if(!s||F)return"";F=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(oe){var f=oe}Reflect.construct(s,[],a)}else{try{a.call()}catch(oe){f=oe}s.call(a.prototype)}else{try{throw Error()}catch(oe){f=oe}s()}}catch(oe){if(oe&&f&&typeof oe.stack=="string"){for(var g=oe.stack.split(`
`),v=f.stack.split(`
`),C=g.length-1,B=v.length-1;1<=C&&0<=B&&g[C]!==v[B];)B--;for(;1<=C&&0<=B;C--,B--)if(g[C]!==v[B]){if(C!==1||B!==1)do if(C--,B--,0>B||g[C]!==v[B]){var H=`
`+g[C].replace(" at new "," at ");return s.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",s.displayName)),H}while(1<=C&&0<=B);break}}}finally{F=!1,Error.prepareStackTrace=c}return(s=s?s.displayName||s.name:"")?L(s):""}function ie(s){switch(s.tag){case 5:return L(s.type);case 16:return L("Lazy");case 13:return L("Suspense");case 19:return L("SuspenseList");case 0:case 2:case 15:return s=O(s.type,!1),s;case 11:return s=O(s.type.render,!1),s;case 1:return s=O(s.type,!0),s;default:return""}}function ue(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case q:return"Fragment";case A:return"Portal";case de:return"Profiler";case K:return"StrictMode";case te:return"Suspense";case U:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case T:return(s.displayName||"Context")+".Consumer";case V:return(s._context.displayName||"Context")+".Provider";case Y:var a=s.render;return s=s.displayName,s||(s=a.displayName||a.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case he:return a=s.displayName||null,a!==null?a:ue(s.type)||"Memo";case $:a=s._payload,s=s._init;try{return ue(s(a))}catch{}}return null}function le(s){var a=s.type;switch(s.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=a.render,s=s.displayName||s.name||"",a.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ue(a);case 8:return a===K?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function X(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function ye(s){var a=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function be(s){var a=ye(s)?"checked":"value",c=Object.getOwnPropertyDescriptor(s.constructor.prototype,a),f=""+s[a];if(!s.hasOwnProperty(a)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var g=c.get,v=c.set;return Object.defineProperty(s,a,{configurable:!0,get:function(){return g.call(this)},set:function(C){f=""+C,v.call(this,C)}}),Object.defineProperty(s,a,{enumerable:c.enumerable}),{getValue:function(){return f},setValue:function(C){f=""+C},stopTracking:function(){s._valueTracker=null,delete s[a]}}}}function Pe(s){s._valueTracker||(s._valueTracker=be(s))}function Ae(s){if(!s)return!1;var a=s._valueTracker;if(!a)return!0;var c=a.getValue(),f="";return s&&(f=ye(s)?s.checked?"true":"false":s.value),s=f,s!==c?(a.setValue(s),!0):!1}function Ue(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function We(s,a){var c=a.checked;return R({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:c??s._wrapperState.initialChecked})}function Rt(s,a){var c=a.defaultValue==null?"":a.defaultValue,f=a.checked!=null?a.checked:a.defaultChecked;c=X(a.value!=null?a.value:c),s._wrapperState={initialChecked:f,initialValue:c,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function Bt(s,a){a=a.checked,a!=null&&k(s,"checked",a,!1)}function Et(s,a){Bt(s,a);var c=X(a.value),f=a.type;if(c!=null)f==="number"?(c===0&&s.value===""||s.value!=c)&&(s.value=""+c):s.value!==""+c&&(s.value=""+c);else if(f==="submit"||f==="reset"){s.removeAttribute("value");return}a.hasOwnProperty("value")?ut(s,a.type,c):a.hasOwnProperty("defaultValue")&&ut(s,a.type,X(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(s.defaultChecked=!!a.defaultChecked)}function dt(s,a,c){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var f=a.type;if(!(f!=="submit"&&f!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+s._wrapperState.initialValue,c||a===s.value||(s.value=a),s.defaultValue=a}c=s.name,c!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,c!==""&&(s.name=c)}function ut(s,a,c){(a!=="number"||Ue(s.ownerDocument)!==s)&&(c==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+c&&(s.defaultValue=""+c))}var wr=Array.isArray;function jr(s,a,c,f){if(s=s.options,a){a={};for(var g=0;g<c.length;g++)a["$"+c[g]]=!0;for(c=0;c<s.length;c++)g=a.hasOwnProperty("$"+s[c].value),s[c].selected!==g&&(s[c].selected=g),g&&f&&(s[c].defaultSelected=!0)}else{for(c=""+X(c),a=null,g=0;g<s.length;g++){if(s[g].value===c){s[g].selected=!0,f&&(s[g].defaultSelected=!0);return}a!==null||s[g].disabled||(a=s[g])}a!==null&&(a.selected=!0)}}function it(s,a){if(a.dangerouslySetInnerHTML!=null)throw Error(r(91));return R({},a,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function Kt(s,a){var c=a.value;if(c==null){if(c=a.children,a=a.defaultValue,c!=null){if(a!=null)throw Error(r(92));if(wr(c)){if(1<c.length)throw Error(r(93));c=c[0]}a=c}a==null&&(a=""),c=a}s._wrapperState={initialValue:X(c)}}function Cs(s,a){var c=X(a.value),f=X(a.defaultValue);c!=null&&(c=""+c,c!==s.value&&(s.value=c),a.defaultValue==null&&s.defaultValue!==c&&(s.defaultValue=c)),f!=null&&(s.defaultValue=""+f)}function ks(s){var a=s.textContent;a===s._wrapperState.initialValue&&a!==""&&a!==null&&(s.value=a)}function rn(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function kn(s,a){return s==null||s==="http://www.w3.org/1999/xhtml"?rn(a):s==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var ir,Rn=(function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,c,f,g){MSApp.execUnsafeLocalFunction(function(){return s(a,c,f,g)})}:s})(function(s,a){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=a;else{for(ir=ir||document.createElement("div"),ir.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=ir.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;a.firstChild;)s.appendChild(a.firstChild)}});function G(s,a){if(a){var c=s.firstChild;if(c&&c===s.lastChild&&c.nodeType===3){c.nodeValue=a;return}}s.textContent=a}var I={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Q=["Webkit","ms","Moz","O"];Object.keys(I).forEach(function(s){Q.forEach(function(a){a=a+s.charAt(0).toUpperCase()+s.substring(1),I[a]=I[s]})});function se(s,a,c){return a==null||typeof a=="boolean"||a===""?"":c||typeof a!="number"||a===0||I.hasOwnProperty(s)&&I[s]?(""+a).trim():a+"px"}function ce(s,a){s=s.style;for(var c in a)if(a.hasOwnProperty(c)){var f=c.indexOf("--")===0,g=se(c,a[c],f);c==="float"&&(c="cssFloat"),f?s.setProperty(c,g):s[c]=g}}var we=R({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Me(s,a){if(a){if(we[s]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(r(137,s));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(r(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(r(61))}if(a.style!=null&&typeof a.style!="object")throw Error(r(62))}}function et(s,a){if(s.indexOf("-")===-1)return typeof a.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ot=null;function Ke(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var pt=null,Nt=null,nn=null;function No(s){if(s=Yi(s)){if(typeof pt!="function")throw Error(r(280));var a=s.stateNode;a&&(a=mc(a),pt(s.stateNode,s.type,a))}}function ze(s){Nt?nn?nn.push(s):nn=[s]:Nt=s}function At(){if(Nt){var s=Nt,a=nn;if(nn=Nt=null,No(s),a)for(s=0;s<a.length;s++)No(a[s])}}function Ft(s,a){return s(a)}function lr(){}var Rs=!1;function Ot(s,a,c){if(Rs)return s(a,c);Rs=!0;try{return Ft(s,a,c)}finally{Rs=!1,(Nt!==null||nn!==null)&&(lr(),At())}}function Gt(s,a){var c=s.stateNode;if(c===null)return null;var f=mc(c);if(f===null)return null;c=f[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(s=s.type,f=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!f;break e;default:s=!1}if(s)return null;if(c&&typeof c!="function")throw Error(r(231,a,typeof c));return c}var As=!1;if(u)try{var tr={};Object.defineProperty(tr,"passive",{get:function(){As=!0}}),window.addEventListener("test",tr,tr),window.removeEventListener("test",tr,tr)}catch{As=!1}function Ir(s,a,c,f,g,v,C,B,H){var oe=Array.prototype.slice.call(arguments,3);try{a.apply(c,oe)}catch(me){this.onError(me)}}var Ps=!1,Wr=null,Ti=!1,ku=null,u_={onError:function(s){Ps=!0,Wr=s}};function h_(s,a,c,f,g,v,C,B,H){Ps=!1,Wr=null,Ir.apply(u_,arguments)}function f_(s,a,c,f,g,v,C,B,H){if(h_.apply(this,arguments),Ps){if(Ps){var oe=Wr;Ps=!1,Wr=null}else throw Error(r(198));Ti||(Ti=!0,ku=oe)}}function So(s){var a=s,c=s;if(s.alternate)for(;a.return;)a=a.return;else{s=a;do a=s,(a.flags&4098)!==0&&(c=a.return),s=a.return;while(s)}return a.tag===3?c:null}function Op(s){if(s.tag===13){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function Ip(s){if(So(s)!==s)throw Error(r(188))}function m_(s){var a=s.alternate;if(!a){if(a=So(s),a===null)throw Error(r(188));return a!==s?null:s}for(var c=s,f=a;;){var g=c.return;if(g===null)break;var v=g.alternate;if(v===null){if(f=g.return,f!==null){c=f;continue}break}if(g.child===v.child){for(v=g.child;v;){if(v===c)return Ip(g),s;if(v===f)return Ip(g),a;v=v.sibling}throw Error(r(188))}if(c.return!==f.return)c=g,f=v;else{for(var C=!1,B=g.child;B;){if(B===c){C=!0,c=g,f=v;break}if(B===f){C=!0,f=g,c=v;break}B=B.sibling}if(!C){for(B=v.child;B;){if(B===c){C=!0,c=v,f=g;break}if(B===f){C=!0,f=v,c=g;break}B=B.sibling}if(!C)throw Error(r(189))}}if(c.alternate!==f)throw Error(r(190))}if(c.tag!==3)throw Error(r(188));return c.stateNode.current===c?s:a}function Dp(s){return s=m_(s),s!==null?Mp(s):null}function Mp(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var a=Mp(s);if(a!==null)return a;s=s.sibling}return null}var Lp=e.unstable_scheduleCallback,$p=e.unstable_cancelCallback,p_=e.unstable_shouldYield,g_=e.unstable_requestPaint,Pt=e.unstable_now,x_=e.unstable_getCurrentPriorityLevel,Ru=e.unstable_ImmediatePriority,Bp=e.unstable_UserBlockingPriority,Gl=e.unstable_NormalPriority,v_=e.unstable_LowPriority,Fp=e.unstable_IdlePriority,Ql=null,An=null;function y_(s){if(An&&typeof An.onCommitFiberRoot=="function")try{An.onCommitFiberRoot(Ql,s,void 0,(s.current.flags&128)===128)}catch{}}var sn=Math.clz32?Math.clz32:j_,b_=Math.log,w_=Math.LN2;function j_(s){return s>>>=0,s===0?32:31-(b_(s)/w_|0)|0}var Jl=64,Yl=4194304;function Oi(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function Xl(s,a){var c=s.pendingLanes;if(c===0)return 0;var f=0,g=s.suspendedLanes,v=s.pingedLanes,C=c&268435455;if(C!==0){var B=C&~g;B!==0?f=Oi(B):(v&=C,v!==0&&(f=Oi(v)))}else C=c&~g,C!==0?f=Oi(C):v!==0&&(f=Oi(v));if(f===0)return 0;if(a!==0&&a!==f&&(a&g)===0&&(g=f&-f,v=a&-a,g>=v||g===16&&(v&4194240)!==0))return a;if((f&4)!==0&&(f|=c&16),a=s.entangledLanes,a!==0)for(s=s.entanglements,a&=f;0<a;)c=31-sn(a),g=1<<c,f|=s[c],a&=~g;return f}function __(s,a){switch(s){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function E_(s,a){for(var c=s.suspendedLanes,f=s.pingedLanes,g=s.expirationTimes,v=s.pendingLanes;0<v;){var C=31-sn(v),B=1<<C,H=g[C];H===-1?((B&c)===0||(B&f)!==0)&&(g[C]=__(B,a)):H<=a&&(s.expiredLanes|=B),v&=~B}}function Au(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function zp(){var s=Jl;return Jl<<=1,(Jl&4194240)===0&&(Jl=64),s}function Pu(s){for(var a=[],c=0;31>c;c++)a.push(s);return a}function Ii(s,a,c){s.pendingLanes|=a,a!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,a=31-sn(a),s[a]=c}function N_(s,a){var c=s.pendingLanes&~a;s.pendingLanes=a,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=a,s.mutableReadLanes&=a,s.entangledLanes&=a,a=s.entanglements;var f=s.eventTimes;for(s=s.expirationTimes;0<c;){var g=31-sn(c),v=1<<g;a[g]=0,f[g]=-1,s[g]=-1,c&=~v}}function Tu(s,a){var c=s.entangledLanes|=a;for(s=s.entanglements;c;){var f=31-sn(c),g=1<<f;g&a|s[f]&a&&(s[f]|=a),c&=~g}}var nt=0;function Up(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var qp,Ou,Wp,Vp,Hp,Iu=!1,Zl=[],Ts=null,Os=null,Is=null,Di=new Map,Mi=new Map,Ds=[],S_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Kp(s,a){switch(s){case"focusin":case"focusout":Ts=null;break;case"dragenter":case"dragleave":Os=null;break;case"mouseover":case"mouseout":Is=null;break;case"pointerover":case"pointerout":Di.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Mi.delete(a.pointerId)}}function Li(s,a,c,f,g,v){return s===null||s.nativeEvent!==v?(s={blockedOn:a,domEventName:c,eventSystemFlags:f,nativeEvent:v,targetContainers:[g]},a!==null&&(a=Yi(a),a!==null&&Ou(a)),s):(s.eventSystemFlags|=f,a=s.targetContainers,g!==null&&a.indexOf(g)===-1&&a.push(g),s)}function C_(s,a,c,f,g){switch(a){case"focusin":return Ts=Li(Ts,s,a,c,f,g),!0;case"dragenter":return Os=Li(Os,s,a,c,f,g),!0;case"mouseover":return Is=Li(Is,s,a,c,f,g),!0;case"pointerover":var v=g.pointerId;return Di.set(v,Li(Di.get(v)||null,s,a,c,f,g)),!0;case"gotpointercapture":return v=g.pointerId,Mi.set(v,Li(Mi.get(v)||null,s,a,c,f,g)),!0}return!1}function Gp(s){var a=Co(s.target);if(a!==null){var c=So(a);if(c!==null){if(a=c.tag,a===13){if(a=Op(c),a!==null){s.blockedOn=a,Hp(s.priority,function(){Wp(c)});return}}else if(a===3&&c.stateNode.current.memoizedState.isDehydrated){s.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}s.blockedOn=null}function ec(s){if(s.blockedOn!==null)return!1;for(var a=s.targetContainers;0<a.length;){var c=Mu(s.domEventName,s.eventSystemFlags,a[0],s.nativeEvent);if(c===null){c=s.nativeEvent;var f=new c.constructor(c.type,c);ot=f,c.target.dispatchEvent(f),ot=null}else return a=Yi(c),a!==null&&Ou(a),s.blockedOn=c,!1;a.shift()}return!0}function Qp(s,a,c){ec(s)&&c.delete(a)}function k_(){Iu=!1,Ts!==null&&ec(Ts)&&(Ts=null),Os!==null&&ec(Os)&&(Os=null),Is!==null&&ec(Is)&&(Is=null),Di.forEach(Qp),Mi.forEach(Qp)}function $i(s,a){s.blockedOn===a&&(s.blockedOn=null,Iu||(Iu=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,k_)))}function Bi(s){function a(g){return $i(g,s)}if(0<Zl.length){$i(Zl[0],s);for(var c=1;c<Zl.length;c++){var f=Zl[c];f.blockedOn===s&&(f.blockedOn=null)}}for(Ts!==null&&$i(Ts,s),Os!==null&&$i(Os,s),Is!==null&&$i(Is,s),Di.forEach(a),Mi.forEach(a),c=0;c<Ds.length;c++)f=Ds[c],f.blockedOn===s&&(f.blockedOn=null);for(;0<Ds.length&&(c=Ds[0],c.blockedOn===null);)Gp(c),c.blockedOn===null&&Ds.shift()}var xa=P.ReactCurrentBatchConfig,tc=!0;function R_(s,a,c,f){var g=nt,v=xa.transition;xa.transition=null;try{nt=1,Du(s,a,c,f)}finally{nt=g,xa.transition=v}}function A_(s,a,c,f){var g=nt,v=xa.transition;xa.transition=null;try{nt=4,Du(s,a,c,f)}finally{nt=g,xa.transition=v}}function Du(s,a,c,f){if(tc){var g=Mu(s,a,c,f);if(g===null)Zu(s,a,f,rc,c),Kp(s,f);else if(C_(g,s,a,c,f))f.stopPropagation();else if(Kp(s,f),a&4&&-1<S_.indexOf(s)){for(;g!==null;){var v=Yi(g);if(v!==null&&qp(v),v=Mu(s,a,c,f),v===null&&Zu(s,a,f,rc,c),v===g)break;g=v}g!==null&&f.stopPropagation()}else Zu(s,a,f,null,c)}}var rc=null;function Mu(s,a,c,f){if(rc=null,s=Ke(f),s=Co(s),s!==null)if(a=So(s),a===null)s=null;else if(c=a.tag,c===13){if(s=Op(a),s!==null)return s;s=null}else if(c===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;s=null}else a!==s&&(s=null);return rc=s,null}function Jp(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(x_()){case Ru:return 1;case Bp:return 4;case Gl:case v_:return 16;case Fp:return 536870912;default:return 16}default:return 16}}var Ms=null,Lu=null,nc=null;function Yp(){if(nc)return nc;var s,a=Lu,c=a.length,f,g="value"in Ms?Ms.value:Ms.textContent,v=g.length;for(s=0;s<c&&a[s]===g[s];s++);var C=c-s;for(f=1;f<=C&&a[c-f]===g[v-f];f++);return nc=g.slice(s,1<f?1-f:void 0)}function sc(s){var a=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&a===13&&(s=13)):s=a,s===10&&(s=13),32<=s||s===13?s:0}function oc(){return!0}function Xp(){return!1}function Dr(s){function a(c,f,g,v,C){this._reactName=c,this._targetInst=g,this.type=f,this.nativeEvent=v,this.target=C,this.currentTarget=null;for(var B in s)s.hasOwnProperty(B)&&(c=s[B],this[B]=c?c(v):v[B]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?oc:Xp,this.isPropagationStopped=Xp,this}return R(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=oc)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=oc)},persist:function(){},isPersistent:oc}),a}var va={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$u=Dr(va),Fi=R({},va,{view:0,detail:0}),P_=Dr(Fi),Bu,Fu,zi,ac=R({},Fi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Uu,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==zi&&(zi&&s.type==="mousemove"?(Bu=s.screenX-zi.screenX,Fu=s.screenY-zi.screenY):Fu=Bu=0,zi=s),Bu)},movementY:function(s){return"movementY"in s?s.movementY:Fu}}),Zp=Dr(ac),T_=R({},ac,{dataTransfer:0}),O_=Dr(T_),I_=R({},Fi,{relatedTarget:0}),zu=Dr(I_),D_=R({},va,{animationName:0,elapsedTime:0,pseudoElement:0}),M_=Dr(D_),L_=R({},va,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),$_=Dr(L_),B_=R({},va,{data:0}),eg=Dr(B_),F_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},z_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},U_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function q_(s){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(s):(s=U_[s])?!!a[s]:!1}function Uu(){return q_}var W_=R({},Fi,{key:function(s){if(s.key){var a=F_[s.key]||s.key;if(a!=="Unidentified")return a}return s.type==="keypress"?(s=sc(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?z_[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Uu,charCode:function(s){return s.type==="keypress"?sc(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?sc(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),V_=Dr(W_),H_=R({},ac,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),tg=Dr(H_),K_=R({},Fi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Uu}),G_=Dr(K_),Q_=R({},va,{propertyName:0,elapsedTime:0,pseudoElement:0}),J_=Dr(Q_),Y_=R({},ac,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),X_=Dr(Y_),Z_=[9,13,27,32],qu=u&&"CompositionEvent"in window,Ui=null;u&&"documentMode"in document&&(Ui=document.documentMode);var eE=u&&"TextEvent"in window&&!Ui,rg=u&&(!qu||Ui&&8<Ui&&11>=Ui),ng=" ",sg=!1;function og(s,a){switch(s){case"keyup":return Z_.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ag(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var ya=!1;function tE(s,a){switch(s){case"compositionend":return ag(a);case"keypress":return a.which!==32?null:(sg=!0,ng);case"textInput":return s=a.data,s===ng&&sg?null:s;default:return null}}function rE(s,a){if(ya)return s==="compositionend"||!qu&&og(s,a)?(s=Yp(),nc=Lu=Ms=null,ya=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return rg&&a.locale!=="ko"?null:a.data;default:return null}}var nE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ig(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a==="input"?!!nE[s.type]:a==="textarea"}function lg(s,a,c,f){ze(f),a=uc(a,"onChange"),0<a.length&&(c=new $u("onChange","change",null,c,f),s.push({event:c,listeners:a}))}var qi=null,Wi=null;function sE(s){Sg(s,0)}function ic(s){var a=Ea(s);if(Ae(a))return s}function oE(s,a){if(s==="change")return a}var cg=!1;if(u){var Wu;if(u){var Vu="oninput"in document;if(!Vu){var dg=document.createElement("div");dg.setAttribute("oninput","return;"),Vu=typeof dg.oninput=="function"}Wu=Vu}else Wu=!1;cg=Wu&&(!document.documentMode||9<document.documentMode)}function ug(){qi&&(qi.detachEvent("onpropertychange",hg),Wi=qi=null)}function hg(s){if(s.propertyName==="value"&&ic(Wi)){var a=[];lg(a,Wi,s,Ke(s)),Ot(sE,a)}}function aE(s,a,c){s==="focusin"?(ug(),qi=a,Wi=c,qi.attachEvent("onpropertychange",hg)):s==="focusout"&&ug()}function iE(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return ic(Wi)}function lE(s,a){if(s==="click")return ic(a)}function cE(s,a){if(s==="input"||s==="change")return ic(a)}function dE(s,a){return s===a&&(s!==0||1/s===1/a)||s!==s&&a!==a}var on=typeof Object.is=="function"?Object.is:dE;function Vi(s,a){if(on(s,a))return!0;if(typeof s!="object"||s===null||typeof a!="object"||a===null)return!1;var c=Object.keys(s),f=Object.keys(a);if(c.length!==f.length)return!1;for(f=0;f<c.length;f++){var g=c[f];if(!h.call(a,g)||!on(s[g],a[g]))return!1}return!0}function fg(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function mg(s,a){var c=fg(s);s=0;for(var f;c;){if(c.nodeType===3){if(f=s+c.textContent.length,s<=a&&f>=a)return{node:c,offset:a-s};s=f}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=fg(c)}}function pg(s,a){return s&&a?s===a?!0:s&&s.nodeType===3?!1:a&&a.nodeType===3?pg(s,a.parentNode):"contains"in s?s.contains(a):s.compareDocumentPosition?!!(s.compareDocumentPosition(a)&16):!1:!1}function gg(){for(var s=window,a=Ue();a instanceof s.HTMLIFrameElement;){try{var c=typeof a.contentWindow.location.href=="string"}catch{c=!1}if(c)s=a.contentWindow;else break;a=Ue(s.document)}return a}function Hu(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a&&(a==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||a==="textarea"||s.contentEditable==="true")}function uE(s){var a=gg(),c=s.focusedElem,f=s.selectionRange;if(a!==c&&c&&c.ownerDocument&&pg(c.ownerDocument.documentElement,c)){if(f!==null&&Hu(c)){if(a=f.start,s=f.end,s===void 0&&(s=a),"selectionStart"in c)c.selectionStart=a,c.selectionEnd=Math.min(s,c.value.length);else if(s=(a=c.ownerDocument||document)&&a.defaultView||window,s.getSelection){s=s.getSelection();var g=c.textContent.length,v=Math.min(f.start,g);f=f.end===void 0?v:Math.min(f.end,g),!s.extend&&v>f&&(g=f,f=v,v=g),g=mg(c,v);var C=mg(c,f);g&&C&&(s.rangeCount!==1||s.anchorNode!==g.node||s.anchorOffset!==g.offset||s.focusNode!==C.node||s.focusOffset!==C.offset)&&(a=a.createRange(),a.setStart(g.node,g.offset),s.removeAllRanges(),v>f?(s.addRange(a),s.extend(C.node,C.offset)):(a.setEnd(C.node,C.offset),s.addRange(a)))}}for(a=[],s=c;s=s.parentNode;)s.nodeType===1&&a.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<a.length;c++)s=a[c],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var hE=u&&"documentMode"in document&&11>=document.documentMode,ba=null,Ku=null,Hi=null,Gu=!1;function xg(s,a,c){var f=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;Gu||ba==null||ba!==Ue(f)||(f=ba,"selectionStart"in f&&Hu(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),Hi&&Vi(Hi,f)||(Hi=f,f=uc(Ku,"onSelect"),0<f.length&&(a=new $u("onSelect","select",null,a,c),s.push({event:a,listeners:f}),a.target=ba)))}function lc(s,a){var c={};return c[s.toLowerCase()]=a.toLowerCase(),c["Webkit"+s]="webkit"+a,c["Moz"+s]="moz"+a,c}var wa={animationend:lc("Animation","AnimationEnd"),animationiteration:lc("Animation","AnimationIteration"),animationstart:lc("Animation","AnimationStart"),transitionend:lc("Transition","TransitionEnd")},Qu={},vg={};u&&(vg=document.createElement("div").style,"AnimationEvent"in window||(delete wa.animationend.animation,delete wa.animationiteration.animation,delete wa.animationstart.animation),"TransitionEvent"in window||delete wa.transitionend.transition);function cc(s){if(Qu[s])return Qu[s];if(!wa[s])return s;var a=wa[s],c;for(c in a)if(a.hasOwnProperty(c)&&c in vg)return Qu[s]=a[c];return s}var yg=cc("animationend"),bg=cc("animationiteration"),wg=cc("animationstart"),jg=cc("transitionend"),_g=new Map,Eg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ls(s,a){_g.set(s,a),l(a,[s])}for(var Ju=0;Ju<Eg.length;Ju++){var Yu=Eg[Ju],fE=Yu.toLowerCase(),mE=Yu[0].toUpperCase()+Yu.slice(1);Ls(fE,"on"+mE)}Ls(yg,"onAnimationEnd"),Ls(bg,"onAnimationIteration"),Ls(wg,"onAnimationStart"),Ls("dblclick","onDoubleClick"),Ls("focusin","onFocus"),Ls("focusout","onBlur"),Ls(jg,"onTransitionEnd"),d("onMouseEnter",["mouseout","mouseover"]),d("onMouseLeave",["mouseout","mouseover"]),d("onPointerEnter",["pointerout","pointerover"]),d("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ki="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),pE=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ki));function Ng(s,a,c){var f=s.type||"unknown-event";s.currentTarget=c,f_(f,a,void 0,s),s.currentTarget=null}function Sg(s,a){a=(a&4)!==0;for(var c=0;c<s.length;c++){var f=s[c],g=f.event;f=f.listeners;e:{var v=void 0;if(a)for(var C=f.length-1;0<=C;C--){var B=f[C],H=B.instance,oe=B.currentTarget;if(B=B.listener,H!==v&&g.isPropagationStopped())break e;Ng(g,B,oe),v=H}else for(C=0;C<f.length;C++){if(B=f[C],H=B.instance,oe=B.currentTarget,B=B.listener,H!==v&&g.isPropagationStopped())break e;Ng(g,B,oe),v=H}}}if(Ti)throw s=ku,Ti=!1,ku=null,s}function ht(s,a){var c=a[oh];c===void 0&&(c=a[oh]=new Set);var f=s+"__bubble";c.has(f)||(Cg(a,s,2,!1),c.add(f))}function Xu(s,a,c){var f=0;a&&(f|=4),Cg(c,s,f,a)}var dc="_reactListening"+Math.random().toString(36).slice(2);function Gi(s){if(!s[dc]){s[dc]=!0,o.forEach(function(c){c!=="selectionchange"&&(pE.has(c)||Xu(c,!1,s),Xu(c,!0,s))});var a=s.nodeType===9?s:s.ownerDocument;a===null||a[dc]||(a[dc]=!0,Xu("selectionchange",!1,a))}}function Cg(s,a,c,f){switch(Jp(a)){case 1:var g=R_;break;case 4:g=A_;break;default:g=Du}c=g.bind(null,a,c,s),g=void 0,!As||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(g=!0),f?g!==void 0?s.addEventListener(a,c,{capture:!0,passive:g}):s.addEventListener(a,c,!0):g!==void 0?s.addEventListener(a,c,{passive:g}):s.addEventListener(a,c,!1)}function Zu(s,a,c,f,g){var v=f;if((a&1)===0&&(a&2)===0&&f!==null)e:for(;;){if(f===null)return;var C=f.tag;if(C===3||C===4){var B=f.stateNode.containerInfo;if(B===g||B.nodeType===8&&B.parentNode===g)break;if(C===4)for(C=f.return;C!==null;){var H=C.tag;if((H===3||H===4)&&(H=C.stateNode.containerInfo,H===g||H.nodeType===8&&H.parentNode===g))return;C=C.return}for(;B!==null;){if(C=Co(B),C===null)return;if(H=C.tag,H===5||H===6){f=v=C;continue e}B=B.parentNode}}f=f.return}Ot(function(){var oe=v,me=Ke(c),pe=[];e:{var fe=_g.get(s);if(fe!==void 0){var Ee=$u,Ce=s;switch(s){case"keypress":if(sc(c)===0)break e;case"keydown":case"keyup":Ee=V_;break;case"focusin":Ce="focus",Ee=zu;break;case"focusout":Ce="blur",Ee=zu;break;case"beforeblur":case"afterblur":Ee=zu;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ee=Zp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ee=O_;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ee=G_;break;case yg:case bg:case wg:Ee=M_;break;case jg:Ee=J_;break;case"scroll":Ee=P_;break;case"wheel":Ee=X_;break;case"copy":case"cut":case"paste":Ee=$_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ee=tg}var Te=(a&4)!==0,Tt=!Te&&s==="scroll",re=Te?fe!==null?fe+"Capture":null:fe;Te=[];for(var J=oe,ne;J!==null;){ne=J;var ve=ne.stateNode;if(ne.tag===5&&ve!==null&&(ne=ve,re!==null&&(ve=Gt(J,re),ve!=null&&Te.push(Qi(J,ve,ne)))),Tt)break;J=J.return}0<Te.length&&(fe=new Ee(fe,Ce,null,c,me),pe.push({event:fe,listeners:Te}))}}if((a&7)===0){e:{if(fe=s==="mouseover"||s==="pointerover",Ee=s==="mouseout"||s==="pointerout",fe&&c!==ot&&(Ce=c.relatedTarget||c.fromElement)&&(Co(Ce)||Ce[Jn]))break e;if((Ee||fe)&&(fe=me.window===me?me:(fe=me.ownerDocument)?fe.defaultView||fe.parentWindow:window,Ee?(Ce=c.relatedTarget||c.toElement,Ee=oe,Ce=Ce?Co(Ce):null,Ce!==null&&(Tt=So(Ce),Ce!==Tt||Ce.tag!==5&&Ce.tag!==6)&&(Ce=null)):(Ee=null,Ce=oe),Ee!==Ce)){if(Te=Zp,ve="onMouseLeave",re="onMouseEnter",J="mouse",(s==="pointerout"||s==="pointerover")&&(Te=tg,ve="onPointerLeave",re="onPointerEnter",J="pointer"),Tt=Ee==null?fe:Ea(Ee),ne=Ce==null?fe:Ea(Ce),fe=new Te(ve,J+"leave",Ee,c,me),fe.target=Tt,fe.relatedTarget=ne,ve=null,Co(me)===oe&&(Te=new Te(re,J+"enter",Ce,c,me),Te.target=ne,Te.relatedTarget=Tt,ve=Te),Tt=ve,Ee&&Ce)t:{for(Te=Ee,re=Ce,J=0,ne=Te;ne;ne=ja(ne))J++;for(ne=0,ve=re;ve;ve=ja(ve))ne++;for(;0<J-ne;)Te=ja(Te),J--;for(;0<ne-J;)re=ja(re),ne--;for(;J--;){if(Te===re||re!==null&&Te===re.alternate)break t;Te=ja(Te),re=ja(re)}Te=null}else Te=null;Ee!==null&&kg(pe,fe,Ee,Te,!1),Ce!==null&&Tt!==null&&kg(pe,Tt,Ce,Te,!0)}}e:{if(fe=oe?Ea(oe):window,Ee=fe.nodeName&&fe.nodeName.toLowerCase(),Ee==="select"||Ee==="input"&&fe.type==="file")var Oe=oE;else if(ig(fe))if(cg)Oe=cE;else{Oe=iE;var Le=aE}else(Ee=fe.nodeName)&&Ee.toLowerCase()==="input"&&(fe.type==="checkbox"||fe.type==="radio")&&(Oe=lE);if(Oe&&(Oe=Oe(s,oe))){lg(pe,Oe,c,me);break e}Le&&Le(s,fe,oe),s==="focusout"&&(Le=fe._wrapperState)&&Le.controlled&&fe.type==="number"&&ut(fe,"number",fe.value)}switch(Le=oe?Ea(oe):window,s){case"focusin":(ig(Le)||Le.contentEditable==="true")&&(ba=Le,Ku=oe,Hi=null);break;case"focusout":Hi=Ku=ba=null;break;case"mousedown":Gu=!0;break;case"contextmenu":case"mouseup":case"dragend":Gu=!1,xg(pe,c,me);break;case"selectionchange":if(hE)break;case"keydown":case"keyup":xg(pe,c,me)}var $e;if(qu)e:{switch(s){case"compositionstart":var Fe="onCompositionStart";break e;case"compositionend":Fe="onCompositionEnd";break e;case"compositionupdate":Fe="onCompositionUpdate";break e}Fe=void 0}else ya?og(s,c)&&(Fe="onCompositionEnd"):s==="keydown"&&c.keyCode===229&&(Fe="onCompositionStart");Fe&&(rg&&c.locale!=="ko"&&(ya||Fe!=="onCompositionStart"?Fe==="onCompositionEnd"&&ya&&($e=Yp()):(Ms=me,Lu="value"in Ms?Ms.value:Ms.textContent,ya=!0)),Le=uc(oe,Fe),0<Le.length&&(Fe=new eg(Fe,s,null,c,me),pe.push({event:Fe,listeners:Le}),$e?Fe.data=$e:($e=ag(c),$e!==null&&(Fe.data=$e)))),($e=eE?tE(s,c):rE(s,c))&&(oe=uc(oe,"onBeforeInput"),0<oe.length&&(me=new eg("onBeforeInput","beforeinput",null,c,me),pe.push({event:me,listeners:oe}),me.data=$e))}Sg(pe,a)})}function Qi(s,a,c){return{instance:s,listener:a,currentTarget:c}}function uc(s,a){for(var c=a+"Capture",f=[];s!==null;){var g=s,v=g.stateNode;g.tag===5&&v!==null&&(g=v,v=Gt(s,c),v!=null&&f.unshift(Qi(s,v,g)),v=Gt(s,a),v!=null&&f.push(Qi(s,v,g))),s=s.return}return f}function ja(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function kg(s,a,c,f,g){for(var v=a._reactName,C=[];c!==null&&c!==f;){var B=c,H=B.alternate,oe=B.stateNode;if(H!==null&&H===f)break;B.tag===5&&oe!==null&&(B=oe,g?(H=Gt(c,v),H!=null&&C.unshift(Qi(c,H,B))):g||(H=Gt(c,v),H!=null&&C.push(Qi(c,H,B)))),c=c.return}C.length!==0&&s.push({event:a,listeners:C})}var gE=/\r\n?/g,xE=/\u0000|\uFFFD/g;function Rg(s){return(typeof s=="string"?s:""+s).replace(gE,`
`).replace(xE,"")}function hc(s,a,c){if(a=Rg(a),Rg(s)!==a&&c)throw Error(r(425))}function fc(){}var eh=null,th=null;function rh(s,a){return s==="textarea"||s==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var nh=typeof setTimeout=="function"?setTimeout:void 0,vE=typeof clearTimeout=="function"?clearTimeout:void 0,Ag=typeof Promise=="function"?Promise:void 0,yE=typeof queueMicrotask=="function"?queueMicrotask:typeof Ag<"u"?function(s){return Ag.resolve(null).then(s).catch(bE)}:nh;function bE(s){setTimeout(function(){throw s})}function sh(s,a){var c=a,f=0;do{var g=c.nextSibling;if(s.removeChild(c),g&&g.nodeType===8)if(c=g.data,c==="/$"){if(f===0){s.removeChild(g),Bi(a);return}f--}else c!=="$"&&c!=="$?"&&c!=="$!"||f++;c=g}while(c);Bi(a)}function $s(s){for(;s!=null;s=s.nextSibling){var a=s.nodeType;if(a===1||a===3)break;if(a===8){if(a=s.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return s}function Pg(s){s=s.previousSibling;for(var a=0;s;){if(s.nodeType===8){var c=s.data;if(c==="$"||c==="$!"||c==="$?"){if(a===0)return s;a--}else c==="/$"&&a++}s=s.previousSibling}return null}var _a=Math.random().toString(36).slice(2),Pn="__reactFiber$"+_a,Ji="__reactProps$"+_a,Jn="__reactContainer$"+_a,oh="__reactEvents$"+_a,wE="__reactListeners$"+_a,jE="__reactHandles$"+_a;function Co(s){var a=s[Pn];if(a)return a;for(var c=s.parentNode;c;){if(a=c[Jn]||c[Pn]){if(c=a.alternate,a.child!==null||c!==null&&c.child!==null)for(s=Pg(s);s!==null;){if(c=s[Pn])return c;s=Pg(s)}return a}s=c,c=s.parentNode}return null}function Yi(s){return s=s[Pn]||s[Jn],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function Ea(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(r(33))}function mc(s){return s[Ji]||null}var ah=[],Na=-1;function Bs(s){return{current:s}}function ft(s){0>Na||(s.current=ah[Na],ah[Na]=null,Na--)}function lt(s,a){Na++,ah[Na]=s.current,s.current=a}var Fs={},cr=Bs(Fs),_r=Bs(!1),ko=Fs;function Sa(s,a){var c=s.type.contextTypes;if(!c)return Fs;var f=s.stateNode;if(f&&f.__reactInternalMemoizedUnmaskedChildContext===a)return f.__reactInternalMemoizedMaskedChildContext;var g={},v;for(v in c)g[v]=a[v];return f&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=a,s.__reactInternalMemoizedMaskedChildContext=g),g}function Er(s){return s=s.childContextTypes,s!=null}function pc(){ft(_r),ft(cr)}function Tg(s,a,c){if(cr.current!==Fs)throw Error(r(168));lt(cr,a),lt(_r,c)}function Og(s,a,c){var f=s.stateNode;if(a=a.childContextTypes,typeof f.getChildContext!="function")return c;f=f.getChildContext();for(var g in f)if(!(g in a))throw Error(r(108,le(s)||"Unknown",g));return R({},c,f)}function gc(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||Fs,ko=cr.current,lt(cr,s),lt(_r,_r.current),!0}function Ig(s,a,c){var f=s.stateNode;if(!f)throw Error(r(169));c?(s=Og(s,a,ko),f.__reactInternalMemoizedMergedChildContext=s,ft(_r),ft(cr),lt(cr,s)):ft(_r),lt(_r,c)}var Yn=null,xc=!1,ih=!1;function Dg(s){Yn===null?Yn=[s]:Yn.push(s)}function _E(s){xc=!0,Dg(s)}function zs(){if(!ih&&Yn!==null){ih=!0;var s=0,a=nt;try{var c=Yn;for(nt=1;s<c.length;s++){var f=c[s];do f=f(!0);while(f!==null)}Yn=null,xc=!1}catch(g){throw Yn!==null&&(Yn=Yn.slice(s+1)),Lp(Ru,zs),g}finally{nt=a,ih=!1}}return null}var Ca=[],ka=0,vc=null,yc=0,Vr=[],Hr=0,Ro=null,Xn=1,Zn="";function Ao(s,a){Ca[ka++]=yc,Ca[ka++]=vc,vc=s,yc=a}function Mg(s,a,c){Vr[Hr++]=Xn,Vr[Hr++]=Zn,Vr[Hr++]=Ro,Ro=s;var f=Xn;s=Zn;var g=32-sn(f)-1;f&=~(1<<g),c+=1;var v=32-sn(a)+g;if(30<v){var C=g-g%5;v=(f&(1<<C)-1).toString(32),f>>=C,g-=C,Xn=1<<32-sn(a)+g|c<<g|f,Zn=v+s}else Xn=1<<v|c<<g|f,Zn=s}function lh(s){s.return!==null&&(Ao(s,1),Mg(s,1,0))}function ch(s){for(;s===vc;)vc=Ca[--ka],Ca[ka]=null,yc=Ca[--ka],Ca[ka]=null;for(;s===Ro;)Ro=Vr[--Hr],Vr[Hr]=null,Zn=Vr[--Hr],Vr[Hr]=null,Xn=Vr[--Hr],Vr[Hr]=null}var Mr=null,Lr=null,gt=!1,an=null;function Lg(s,a){var c=Jr(5,null,null,0);c.elementType="DELETED",c.stateNode=a,c.return=s,a=s.deletions,a===null?(s.deletions=[c],s.flags|=16):a.push(c)}function $g(s,a){switch(s.tag){case 5:var c=s.type;return a=a.nodeType!==1||c.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(s.stateNode=a,Mr=s,Lr=$s(a.firstChild),!0):!1;case 6:return a=s.pendingProps===""||a.nodeType!==3?null:a,a!==null?(s.stateNode=a,Mr=s,Lr=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(c=Ro!==null?{id:Xn,overflow:Zn}:null,s.memoizedState={dehydrated:a,treeContext:c,retryLane:1073741824},c=Jr(18,null,null,0),c.stateNode=a,c.return=s,s.child=c,Mr=s,Lr=null,!0):!1;default:return!1}}function dh(s){return(s.mode&1)!==0&&(s.flags&128)===0}function uh(s){if(gt){var a=Lr;if(a){var c=a;if(!$g(s,a)){if(dh(s))throw Error(r(418));a=$s(c.nextSibling);var f=Mr;a&&$g(s,a)?Lg(f,c):(s.flags=s.flags&-4097|2,gt=!1,Mr=s)}}else{if(dh(s))throw Error(r(418));s.flags=s.flags&-4097|2,gt=!1,Mr=s}}}function Bg(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;Mr=s}function bc(s){if(s!==Mr)return!1;if(!gt)return Bg(s),gt=!0,!1;var a;if((a=s.tag!==3)&&!(a=s.tag!==5)&&(a=s.type,a=a!=="head"&&a!=="body"&&!rh(s.type,s.memoizedProps)),a&&(a=Lr)){if(dh(s))throw Fg(),Error(r(418));for(;a;)Lg(s,a),a=$s(a.nextSibling)}if(Bg(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));e:{for(s=s.nextSibling,a=0;s;){if(s.nodeType===8){var c=s.data;if(c==="/$"){if(a===0){Lr=$s(s.nextSibling);break e}a--}else c!=="$"&&c!=="$!"&&c!=="$?"||a++}s=s.nextSibling}Lr=null}}else Lr=Mr?$s(s.stateNode.nextSibling):null;return!0}function Fg(){for(var s=Lr;s;)s=$s(s.nextSibling)}function Ra(){Lr=Mr=null,gt=!1}function hh(s){an===null?an=[s]:an.push(s)}var EE=P.ReactCurrentBatchConfig;function Xi(s,a,c){if(s=c.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(c._owner){if(c=c._owner,c){if(c.tag!==1)throw Error(r(309));var f=c.stateNode}if(!f)throw Error(r(147,s));var g=f,v=""+s;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===v?a.ref:(a=function(C){var B=g.refs;C===null?delete B[v]:B[v]=C},a._stringRef=v,a)}if(typeof s!="string")throw Error(r(284));if(!c._owner)throw Error(r(290,s))}return s}function wc(s,a){throw s=Object.prototype.toString.call(a),Error(r(31,s==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":s))}function zg(s){var a=s._init;return a(s._payload)}function Ug(s){function a(re,J){if(s){var ne=re.deletions;ne===null?(re.deletions=[J],re.flags|=16):ne.push(J)}}function c(re,J){if(!s)return null;for(;J!==null;)a(re,J),J=J.sibling;return null}function f(re,J){for(re=new Map;J!==null;)J.key!==null?re.set(J.key,J):re.set(J.index,J),J=J.sibling;return re}function g(re,J){return re=Qs(re,J),re.index=0,re.sibling=null,re}function v(re,J,ne){return re.index=ne,s?(ne=re.alternate,ne!==null?(ne=ne.index,ne<J?(re.flags|=2,J):ne):(re.flags|=2,J)):(re.flags|=1048576,J)}function C(re){return s&&re.alternate===null&&(re.flags|=2),re}function B(re,J,ne,ve){return J===null||J.tag!==6?(J=nf(ne,re.mode,ve),J.return=re,J):(J=g(J,ne),J.return=re,J)}function H(re,J,ne,ve){var Oe=ne.type;return Oe===q?me(re,J,ne.props.children,ve,ne.key):J!==null&&(J.elementType===Oe||typeof Oe=="object"&&Oe!==null&&Oe.$$typeof===$&&zg(Oe)===J.type)?(ve=g(J,ne.props),ve.ref=Xi(re,J,ne),ve.return=re,ve):(ve=Vc(ne.type,ne.key,ne.props,null,re.mode,ve),ve.ref=Xi(re,J,ne),ve.return=re,ve)}function oe(re,J,ne,ve){return J===null||J.tag!==4||J.stateNode.containerInfo!==ne.containerInfo||J.stateNode.implementation!==ne.implementation?(J=sf(ne,re.mode,ve),J.return=re,J):(J=g(J,ne.children||[]),J.return=re,J)}function me(re,J,ne,ve,Oe){return J===null||J.tag!==7?(J=$o(ne,re.mode,ve,Oe),J.return=re,J):(J=g(J,ne),J.return=re,J)}function pe(re,J,ne){if(typeof J=="string"&&J!==""||typeof J=="number")return J=nf(""+J,re.mode,ne),J.return=re,J;if(typeof J=="object"&&J!==null){switch(J.$$typeof){case z:return ne=Vc(J.type,J.key,J.props,null,re.mode,ne),ne.ref=Xi(re,null,J),ne.return=re,ne;case A:return J=sf(J,re.mode,ne),J.return=re,J;case $:var ve=J._init;return pe(re,ve(J._payload),ne)}if(wr(J)||ae(J))return J=$o(J,re.mode,ne,null),J.return=re,J;wc(re,J)}return null}function fe(re,J,ne,ve){var Oe=J!==null?J.key:null;if(typeof ne=="string"&&ne!==""||typeof ne=="number")return Oe!==null?null:B(re,J,""+ne,ve);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case z:return ne.key===Oe?H(re,J,ne,ve):null;case A:return ne.key===Oe?oe(re,J,ne,ve):null;case $:return Oe=ne._init,fe(re,J,Oe(ne._payload),ve)}if(wr(ne)||ae(ne))return Oe!==null?null:me(re,J,ne,ve,null);wc(re,ne)}return null}function Ee(re,J,ne,ve,Oe){if(typeof ve=="string"&&ve!==""||typeof ve=="number")return re=re.get(ne)||null,B(J,re,""+ve,Oe);if(typeof ve=="object"&&ve!==null){switch(ve.$$typeof){case z:return re=re.get(ve.key===null?ne:ve.key)||null,H(J,re,ve,Oe);case A:return re=re.get(ve.key===null?ne:ve.key)||null,oe(J,re,ve,Oe);case $:var Le=ve._init;return Ee(re,J,ne,Le(ve._payload),Oe)}if(wr(ve)||ae(ve))return re=re.get(ne)||null,me(J,re,ve,Oe,null);wc(J,ve)}return null}function Ce(re,J,ne,ve){for(var Oe=null,Le=null,$e=J,Fe=J=0,Yt=null;$e!==null&&Fe<ne.length;Fe++){$e.index>Fe?(Yt=$e,$e=null):Yt=$e.sibling;var Ze=fe(re,$e,ne[Fe],ve);if(Ze===null){$e===null&&($e=Yt);break}s&&$e&&Ze.alternate===null&&a(re,$e),J=v(Ze,J,Fe),Le===null?Oe=Ze:Le.sibling=Ze,Le=Ze,$e=Yt}if(Fe===ne.length)return c(re,$e),gt&&Ao(re,Fe),Oe;if($e===null){for(;Fe<ne.length;Fe++)$e=pe(re,ne[Fe],ve),$e!==null&&(J=v($e,J,Fe),Le===null?Oe=$e:Le.sibling=$e,Le=$e);return gt&&Ao(re,Fe),Oe}for($e=f(re,$e);Fe<ne.length;Fe++)Yt=Ee($e,re,Fe,ne[Fe],ve),Yt!==null&&(s&&Yt.alternate!==null&&$e.delete(Yt.key===null?Fe:Yt.key),J=v(Yt,J,Fe),Le===null?Oe=Yt:Le.sibling=Yt,Le=Yt);return s&&$e.forEach(function(Js){return a(re,Js)}),gt&&Ao(re,Fe),Oe}function Te(re,J,ne,ve){var Oe=ae(ne);if(typeof Oe!="function")throw Error(r(150));if(ne=Oe.call(ne),ne==null)throw Error(r(151));for(var Le=Oe=null,$e=J,Fe=J=0,Yt=null,Ze=ne.next();$e!==null&&!Ze.done;Fe++,Ze=ne.next()){$e.index>Fe?(Yt=$e,$e=null):Yt=$e.sibling;var Js=fe(re,$e,Ze.value,ve);if(Js===null){$e===null&&($e=Yt);break}s&&$e&&Js.alternate===null&&a(re,$e),J=v(Js,J,Fe),Le===null?Oe=Js:Le.sibling=Js,Le=Js,$e=Yt}if(Ze.done)return c(re,$e),gt&&Ao(re,Fe),Oe;if($e===null){for(;!Ze.done;Fe++,Ze=ne.next())Ze=pe(re,Ze.value,ve),Ze!==null&&(J=v(Ze,J,Fe),Le===null?Oe=Ze:Le.sibling=Ze,Le=Ze);return gt&&Ao(re,Fe),Oe}for($e=f(re,$e);!Ze.done;Fe++,Ze=ne.next())Ze=Ee($e,re,Fe,Ze.value,ve),Ze!==null&&(s&&Ze.alternate!==null&&$e.delete(Ze.key===null?Fe:Ze.key),J=v(Ze,J,Fe),Le===null?Oe=Ze:Le.sibling=Ze,Le=Ze);return s&&$e.forEach(function(nN){return a(re,nN)}),gt&&Ao(re,Fe),Oe}function Tt(re,J,ne,ve){if(typeof ne=="object"&&ne!==null&&ne.type===q&&ne.key===null&&(ne=ne.props.children),typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case z:e:{for(var Oe=ne.key,Le=J;Le!==null;){if(Le.key===Oe){if(Oe=ne.type,Oe===q){if(Le.tag===7){c(re,Le.sibling),J=g(Le,ne.props.children),J.return=re,re=J;break e}}else if(Le.elementType===Oe||typeof Oe=="object"&&Oe!==null&&Oe.$$typeof===$&&zg(Oe)===Le.type){c(re,Le.sibling),J=g(Le,ne.props),J.ref=Xi(re,Le,ne),J.return=re,re=J;break e}c(re,Le);break}else a(re,Le);Le=Le.sibling}ne.type===q?(J=$o(ne.props.children,re.mode,ve,ne.key),J.return=re,re=J):(ve=Vc(ne.type,ne.key,ne.props,null,re.mode,ve),ve.ref=Xi(re,J,ne),ve.return=re,re=ve)}return C(re);case A:e:{for(Le=ne.key;J!==null;){if(J.key===Le)if(J.tag===4&&J.stateNode.containerInfo===ne.containerInfo&&J.stateNode.implementation===ne.implementation){c(re,J.sibling),J=g(J,ne.children||[]),J.return=re,re=J;break e}else{c(re,J);break}else a(re,J);J=J.sibling}J=sf(ne,re.mode,ve),J.return=re,re=J}return C(re);case $:return Le=ne._init,Tt(re,J,Le(ne._payload),ve)}if(wr(ne))return Ce(re,J,ne,ve);if(ae(ne))return Te(re,J,ne,ve);wc(re,ne)}return typeof ne=="string"&&ne!==""||typeof ne=="number"?(ne=""+ne,J!==null&&J.tag===6?(c(re,J.sibling),J=g(J,ne),J.return=re,re=J):(c(re,J),J=nf(ne,re.mode,ve),J.return=re,re=J),C(re)):c(re,J)}return Tt}var Aa=Ug(!0),qg=Ug(!1),jc=Bs(null),_c=null,Pa=null,fh=null;function mh(){fh=Pa=_c=null}function ph(s){var a=jc.current;ft(jc),s._currentValue=a}function gh(s,a,c){for(;s!==null;){var f=s.alternate;if((s.childLanes&a)!==a?(s.childLanes|=a,f!==null&&(f.childLanes|=a)):f!==null&&(f.childLanes&a)!==a&&(f.childLanes|=a),s===c)break;s=s.return}}function Ta(s,a){_c=s,fh=Pa=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&a)!==0&&(Nr=!0),s.firstContext=null)}function Kr(s){var a=s._currentValue;if(fh!==s)if(s={context:s,memoizedValue:a,next:null},Pa===null){if(_c===null)throw Error(r(308));Pa=s,_c.dependencies={lanes:0,firstContext:s}}else Pa=Pa.next=s;return a}var Po=null;function xh(s){Po===null?Po=[s]:Po.push(s)}function Wg(s,a,c,f){var g=a.interleaved;return g===null?(c.next=c,xh(a)):(c.next=g.next,g.next=c),a.interleaved=c,es(s,f)}function es(s,a){s.lanes|=a;var c=s.alternate;for(c!==null&&(c.lanes|=a),c=s,s=s.return;s!==null;)s.childLanes|=a,c=s.alternate,c!==null&&(c.childLanes|=a),c=s,s=s.return;return c.tag===3?c.stateNode:null}var Us=!1;function vh(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Vg(s,a){s=s.updateQueue,a.updateQueue===s&&(a.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function ts(s,a){return{eventTime:s,lane:a,tag:0,payload:null,callback:null,next:null}}function qs(s,a,c){var f=s.updateQueue;if(f===null)return null;if(f=f.shared,(Xe&2)!==0){var g=f.pending;return g===null?a.next=a:(a.next=g.next,g.next=a),f.pending=a,es(s,c)}return g=f.interleaved,g===null?(a.next=a,xh(f)):(a.next=g.next,g.next=a),f.interleaved=a,es(s,c)}function Ec(s,a,c){if(a=a.updateQueue,a!==null&&(a=a.shared,(c&4194240)!==0)){var f=a.lanes;f&=s.pendingLanes,c|=f,a.lanes=c,Tu(s,c)}}function Hg(s,a){var c=s.updateQueue,f=s.alternate;if(f!==null&&(f=f.updateQueue,c===f)){var g=null,v=null;if(c=c.firstBaseUpdate,c!==null){do{var C={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};v===null?g=v=C:v=v.next=C,c=c.next}while(c!==null);v===null?g=v=a:v=v.next=a}else g=v=a;c={baseState:f.baseState,firstBaseUpdate:g,lastBaseUpdate:v,shared:f.shared,effects:f.effects},s.updateQueue=c;return}s=c.lastBaseUpdate,s===null?c.firstBaseUpdate=a:s.next=a,c.lastBaseUpdate=a}function Nc(s,a,c,f){var g=s.updateQueue;Us=!1;var v=g.firstBaseUpdate,C=g.lastBaseUpdate,B=g.shared.pending;if(B!==null){g.shared.pending=null;var H=B,oe=H.next;H.next=null,C===null?v=oe:C.next=oe,C=H;var me=s.alternate;me!==null&&(me=me.updateQueue,B=me.lastBaseUpdate,B!==C&&(B===null?me.firstBaseUpdate=oe:B.next=oe,me.lastBaseUpdate=H))}if(v!==null){var pe=g.baseState;C=0,me=oe=H=null,B=v;do{var fe=B.lane,Ee=B.eventTime;if((f&fe)===fe){me!==null&&(me=me.next={eventTime:Ee,lane:0,tag:B.tag,payload:B.payload,callback:B.callback,next:null});e:{var Ce=s,Te=B;switch(fe=a,Ee=c,Te.tag){case 1:if(Ce=Te.payload,typeof Ce=="function"){pe=Ce.call(Ee,pe,fe);break e}pe=Ce;break e;case 3:Ce.flags=Ce.flags&-65537|128;case 0:if(Ce=Te.payload,fe=typeof Ce=="function"?Ce.call(Ee,pe,fe):Ce,fe==null)break e;pe=R({},pe,fe);break e;case 2:Us=!0}}B.callback!==null&&B.lane!==0&&(s.flags|=64,fe=g.effects,fe===null?g.effects=[B]:fe.push(B))}else Ee={eventTime:Ee,lane:fe,tag:B.tag,payload:B.payload,callback:B.callback,next:null},me===null?(oe=me=Ee,H=pe):me=me.next=Ee,C|=fe;if(B=B.next,B===null){if(B=g.shared.pending,B===null)break;fe=B,B=fe.next,fe.next=null,g.lastBaseUpdate=fe,g.shared.pending=null}}while(!0);if(me===null&&(H=pe),g.baseState=H,g.firstBaseUpdate=oe,g.lastBaseUpdate=me,a=g.shared.interleaved,a!==null){g=a;do C|=g.lane,g=g.next;while(g!==a)}else v===null&&(g.shared.lanes=0);Io|=C,s.lanes=C,s.memoizedState=pe}}function Kg(s,a,c){if(s=a.effects,a.effects=null,s!==null)for(a=0;a<s.length;a++){var f=s[a],g=f.callback;if(g!==null){if(f.callback=null,f=c,typeof g!="function")throw Error(r(191,g));g.call(f)}}}var Zi={},Tn=Bs(Zi),el=Bs(Zi),tl=Bs(Zi);function To(s){if(s===Zi)throw Error(r(174));return s}function yh(s,a){switch(lt(tl,a),lt(el,s),lt(Tn,Zi),s=a.nodeType,s){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:kn(null,"");break;default:s=s===8?a.parentNode:a,a=s.namespaceURI||null,s=s.tagName,a=kn(a,s)}ft(Tn),lt(Tn,a)}function Oa(){ft(Tn),ft(el),ft(tl)}function Gg(s){To(tl.current);var a=To(Tn.current),c=kn(a,s.type);a!==c&&(lt(el,s),lt(Tn,c))}function bh(s){el.current===s&&(ft(Tn),ft(el))}var bt=Bs(0);function Sc(s){for(var a=s;a!==null;){if(a.tag===13){var c=a.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||c.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var wh=[];function jh(){for(var s=0;s<wh.length;s++)wh[s]._workInProgressVersionPrimary=null;wh.length=0}var Cc=P.ReactCurrentDispatcher,_h=P.ReactCurrentBatchConfig,Oo=0,wt=null,zt=null,Qt=null,kc=!1,rl=!1,nl=0,NE=0;function dr(){throw Error(r(321))}function Eh(s,a){if(a===null)return!1;for(var c=0;c<a.length&&c<s.length;c++)if(!on(s[c],a[c]))return!1;return!0}function Nh(s,a,c,f,g,v){if(Oo=v,wt=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,Cc.current=s===null||s.memoizedState===null?RE:AE,s=c(f,g),rl){v=0;do{if(rl=!1,nl=0,25<=v)throw Error(r(301));v+=1,Qt=zt=null,a.updateQueue=null,Cc.current=PE,s=c(f,g)}while(rl)}if(Cc.current=Pc,a=zt!==null&&zt.next!==null,Oo=0,Qt=zt=wt=null,kc=!1,a)throw Error(r(300));return s}function Sh(){var s=nl!==0;return nl=0,s}function On(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qt===null?wt.memoizedState=Qt=s:Qt=Qt.next=s,Qt}function Gr(){if(zt===null){var s=wt.alternate;s=s!==null?s.memoizedState:null}else s=zt.next;var a=Qt===null?wt.memoizedState:Qt.next;if(a!==null)Qt=a,zt=s;else{if(s===null)throw Error(r(310));zt=s,s={memoizedState:zt.memoizedState,baseState:zt.baseState,baseQueue:zt.baseQueue,queue:zt.queue,next:null},Qt===null?wt.memoizedState=Qt=s:Qt=Qt.next=s}return Qt}function sl(s,a){return typeof a=="function"?a(s):a}function Ch(s){var a=Gr(),c=a.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=s;var f=zt,g=f.baseQueue,v=c.pending;if(v!==null){if(g!==null){var C=g.next;g.next=v.next,v.next=C}f.baseQueue=g=v,c.pending=null}if(g!==null){v=g.next,f=f.baseState;var B=C=null,H=null,oe=v;do{var me=oe.lane;if((Oo&me)===me)H!==null&&(H=H.next={lane:0,action:oe.action,hasEagerState:oe.hasEagerState,eagerState:oe.eagerState,next:null}),f=oe.hasEagerState?oe.eagerState:s(f,oe.action);else{var pe={lane:me,action:oe.action,hasEagerState:oe.hasEagerState,eagerState:oe.eagerState,next:null};H===null?(B=H=pe,C=f):H=H.next=pe,wt.lanes|=me,Io|=me}oe=oe.next}while(oe!==null&&oe!==v);H===null?C=f:H.next=B,on(f,a.memoizedState)||(Nr=!0),a.memoizedState=f,a.baseState=C,a.baseQueue=H,c.lastRenderedState=f}if(s=c.interleaved,s!==null){g=s;do v=g.lane,wt.lanes|=v,Io|=v,g=g.next;while(g!==s)}else g===null&&(c.lanes=0);return[a.memoizedState,c.dispatch]}function kh(s){var a=Gr(),c=a.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=s;var f=c.dispatch,g=c.pending,v=a.memoizedState;if(g!==null){c.pending=null;var C=g=g.next;do v=s(v,C.action),C=C.next;while(C!==g);on(v,a.memoizedState)||(Nr=!0),a.memoizedState=v,a.baseQueue===null&&(a.baseState=v),c.lastRenderedState=v}return[v,f]}function Qg(){}function Jg(s,a){var c=wt,f=Gr(),g=a(),v=!on(f.memoizedState,g);if(v&&(f.memoizedState=g,Nr=!0),f=f.queue,Rh(Zg.bind(null,c,f,s),[s]),f.getSnapshot!==a||v||Qt!==null&&Qt.memoizedState.tag&1){if(c.flags|=2048,ol(9,Xg.bind(null,c,f,g,a),void 0,null),Jt===null)throw Error(r(349));(Oo&30)!==0||Yg(c,a,g)}return g}function Yg(s,a,c){s.flags|=16384,s={getSnapshot:a,value:c},a=wt.updateQueue,a===null?(a={lastEffect:null,stores:null},wt.updateQueue=a,a.stores=[s]):(c=a.stores,c===null?a.stores=[s]:c.push(s))}function Xg(s,a,c,f){a.value=c,a.getSnapshot=f,ex(a)&&tx(s)}function Zg(s,a,c){return c(function(){ex(a)&&tx(s)})}function ex(s){var a=s.getSnapshot;s=s.value;try{var c=a();return!on(s,c)}catch{return!0}}function tx(s){var a=es(s,1);a!==null&&un(a,s,1,-1)}function rx(s){var a=On();return typeof s=="function"&&(s=s()),a.memoizedState=a.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:sl,lastRenderedState:s},a.queue=s,s=s.dispatch=kE.bind(null,wt,s),[a.memoizedState,s]}function ol(s,a,c,f){return s={tag:s,create:a,destroy:c,deps:f,next:null},a=wt.updateQueue,a===null?(a={lastEffect:null,stores:null},wt.updateQueue=a,a.lastEffect=s.next=s):(c=a.lastEffect,c===null?a.lastEffect=s.next=s:(f=c.next,c.next=s,s.next=f,a.lastEffect=s)),s}function nx(){return Gr().memoizedState}function Rc(s,a,c,f){var g=On();wt.flags|=s,g.memoizedState=ol(1|a,c,void 0,f===void 0?null:f)}function Ac(s,a,c,f){var g=Gr();f=f===void 0?null:f;var v=void 0;if(zt!==null){var C=zt.memoizedState;if(v=C.destroy,f!==null&&Eh(f,C.deps)){g.memoizedState=ol(a,c,v,f);return}}wt.flags|=s,g.memoizedState=ol(1|a,c,v,f)}function sx(s,a){return Rc(8390656,8,s,a)}function Rh(s,a){return Ac(2048,8,s,a)}function ox(s,a){return Ac(4,2,s,a)}function ax(s,a){return Ac(4,4,s,a)}function ix(s,a){if(typeof a=="function")return s=s(),a(s),function(){a(null)};if(a!=null)return s=s(),a.current=s,function(){a.current=null}}function lx(s,a,c){return c=c!=null?c.concat([s]):null,Ac(4,4,ix.bind(null,a,s),c)}function Ah(){}function cx(s,a){var c=Gr();a=a===void 0?null:a;var f=c.memoizedState;return f!==null&&a!==null&&Eh(a,f[1])?f[0]:(c.memoizedState=[s,a],s)}function dx(s,a){var c=Gr();a=a===void 0?null:a;var f=c.memoizedState;return f!==null&&a!==null&&Eh(a,f[1])?f[0]:(s=s(),c.memoizedState=[s,a],s)}function ux(s,a,c){return(Oo&21)===0?(s.baseState&&(s.baseState=!1,Nr=!0),s.memoizedState=c):(on(c,a)||(c=zp(),wt.lanes|=c,Io|=c,s.baseState=!0),a)}function SE(s,a){var c=nt;nt=c!==0&&4>c?c:4,s(!0);var f=_h.transition;_h.transition={};try{s(!1),a()}finally{nt=c,_h.transition=f}}function hx(){return Gr().memoizedState}function CE(s,a,c){var f=Ks(s);if(c={lane:f,action:c,hasEagerState:!1,eagerState:null,next:null},fx(s))mx(a,c);else if(c=Wg(s,a,c,f),c!==null){var g=gr();un(c,s,f,g),px(c,a,f)}}function kE(s,a,c){var f=Ks(s),g={lane:f,action:c,hasEagerState:!1,eagerState:null,next:null};if(fx(s))mx(a,g);else{var v=s.alternate;if(s.lanes===0&&(v===null||v.lanes===0)&&(v=a.lastRenderedReducer,v!==null))try{var C=a.lastRenderedState,B=v(C,c);if(g.hasEagerState=!0,g.eagerState=B,on(B,C)){var H=a.interleaved;H===null?(g.next=g,xh(a)):(g.next=H.next,H.next=g),a.interleaved=g;return}}catch{}finally{}c=Wg(s,a,g,f),c!==null&&(g=gr(),un(c,s,f,g),px(c,a,f))}}function fx(s){var a=s.alternate;return s===wt||a!==null&&a===wt}function mx(s,a){rl=kc=!0;var c=s.pending;c===null?a.next=a:(a.next=c.next,c.next=a),s.pending=a}function px(s,a,c){if((c&4194240)!==0){var f=a.lanes;f&=s.pendingLanes,c|=f,a.lanes=c,Tu(s,c)}}var Pc={readContext:Kr,useCallback:dr,useContext:dr,useEffect:dr,useImperativeHandle:dr,useInsertionEffect:dr,useLayoutEffect:dr,useMemo:dr,useReducer:dr,useRef:dr,useState:dr,useDebugValue:dr,useDeferredValue:dr,useTransition:dr,useMutableSource:dr,useSyncExternalStore:dr,useId:dr,unstable_isNewReconciler:!1},RE={readContext:Kr,useCallback:function(s,a){return On().memoizedState=[s,a===void 0?null:a],s},useContext:Kr,useEffect:sx,useImperativeHandle:function(s,a,c){return c=c!=null?c.concat([s]):null,Rc(4194308,4,ix.bind(null,a,s),c)},useLayoutEffect:function(s,a){return Rc(4194308,4,s,a)},useInsertionEffect:function(s,a){return Rc(4,2,s,a)},useMemo:function(s,a){var c=On();return a=a===void 0?null:a,s=s(),c.memoizedState=[s,a],s},useReducer:function(s,a,c){var f=On();return a=c!==void 0?c(a):a,f.memoizedState=f.baseState=a,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:a},f.queue=s,s=s.dispatch=CE.bind(null,wt,s),[f.memoizedState,s]},useRef:function(s){var a=On();return s={current:s},a.memoizedState=s},useState:rx,useDebugValue:Ah,useDeferredValue:function(s){return On().memoizedState=s},useTransition:function(){var s=rx(!1),a=s[0];return s=SE.bind(null,s[1]),On().memoizedState=s,[a,s]},useMutableSource:function(){},useSyncExternalStore:function(s,a,c){var f=wt,g=On();if(gt){if(c===void 0)throw Error(r(407));c=c()}else{if(c=a(),Jt===null)throw Error(r(349));(Oo&30)!==0||Yg(f,a,c)}g.memoizedState=c;var v={value:c,getSnapshot:a};return g.queue=v,sx(Zg.bind(null,f,v,s),[s]),f.flags|=2048,ol(9,Xg.bind(null,f,v,c,a),void 0,null),c},useId:function(){var s=On(),a=Jt.identifierPrefix;if(gt){var c=Zn,f=Xn;c=(f&~(1<<32-sn(f)-1)).toString(32)+c,a=":"+a+"R"+c,c=nl++,0<c&&(a+="H"+c.toString(32)),a+=":"}else c=NE++,a=":"+a+"r"+c.toString(32)+":";return s.memoizedState=a},unstable_isNewReconciler:!1},AE={readContext:Kr,useCallback:cx,useContext:Kr,useEffect:Rh,useImperativeHandle:lx,useInsertionEffect:ox,useLayoutEffect:ax,useMemo:dx,useReducer:Ch,useRef:nx,useState:function(){return Ch(sl)},useDebugValue:Ah,useDeferredValue:function(s){var a=Gr();return ux(a,zt.memoizedState,s)},useTransition:function(){var s=Ch(sl)[0],a=Gr().memoizedState;return[s,a]},useMutableSource:Qg,useSyncExternalStore:Jg,useId:hx,unstable_isNewReconciler:!1},PE={readContext:Kr,useCallback:cx,useContext:Kr,useEffect:Rh,useImperativeHandle:lx,useInsertionEffect:ox,useLayoutEffect:ax,useMemo:dx,useReducer:kh,useRef:nx,useState:function(){return kh(sl)},useDebugValue:Ah,useDeferredValue:function(s){var a=Gr();return zt===null?a.memoizedState=s:ux(a,zt.memoizedState,s)},useTransition:function(){var s=kh(sl)[0],a=Gr().memoizedState;return[s,a]},useMutableSource:Qg,useSyncExternalStore:Jg,useId:hx,unstable_isNewReconciler:!1};function ln(s,a){if(s&&s.defaultProps){a=R({},a),s=s.defaultProps;for(var c in s)a[c]===void 0&&(a[c]=s[c]);return a}return a}function Ph(s,a,c,f){a=s.memoizedState,c=c(f,a),c=c==null?a:R({},a,c),s.memoizedState=c,s.lanes===0&&(s.updateQueue.baseState=c)}var Tc={isMounted:function(s){return(s=s._reactInternals)?So(s)===s:!1},enqueueSetState:function(s,a,c){s=s._reactInternals;var f=gr(),g=Ks(s),v=ts(f,g);v.payload=a,c!=null&&(v.callback=c),a=qs(s,v,g),a!==null&&(un(a,s,g,f),Ec(a,s,g))},enqueueReplaceState:function(s,a,c){s=s._reactInternals;var f=gr(),g=Ks(s),v=ts(f,g);v.tag=1,v.payload=a,c!=null&&(v.callback=c),a=qs(s,v,g),a!==null&&(un(a,s,g,f),Ec(a,s,g))},enqueueForceUpdate:function(s,a){s=s._reactInternals;var c=gr(),f=Ks(s),g=ts(c,f);g.tag=2,a!=null&&(g.callback=a),a=qs(s,g,f),a!==null&&(un(a,s,f,c),Ec(a,s,f))}};function gx(s,a,c,f,g,v,C){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(f,v,C):a.prototype&&a.prototype.isPureReactComponent?!Vi(c,f)||!Vi(g,v):!0}function xx(s,a,c){var f=!1,g=Fs,v=a.contextType;return typeof v=="object"&&v!==null?v=Kr(v):(g=Er(a)?ko:cr.current,f=a.contextTypes,v=(f=f!=null)?Sa(s,g):Fs),a=new a(c,v),s.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=Tc,s.stateNode=a,a._reactInternals=s,f&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=g,s.__reactInternalMemoizedMaskedChildContext=v),a}function vx(s,a,c,f){s=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(c,f),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(c,f),a.state!==s&&Tc.enqueueReplaceState(a,a.state,null)}function Th(s,a,c,f){var g=s.stateNode;g.props=c,g.state=s.memoizedState,g.refs={},vh(s);var v=a.contextType;typeof v=="object"&&v!==null?g.context=Kr(v):(v=Er(a)?ko:cr.current,g.context=Sa(s,v)),g.state=s.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(Ph(s,a,v,c),g.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(a=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),a!==g.state&&Tc.enqueueReplaceState(g,g.state,null),Nc(s,c,g,f),g.state=s.memoizedState),typeof g.componentDidMount=="function"&&(s.flags|=4194308)}function Ia(s,a){try{var c="",f=a;do c+=ie(f),f=f.return;while(f);var g=c}catch(v){g=`
Error generating stack: `+v.message+`
`+v.stack}return{value:s,source:a,stack:g,digest:null}}function Oh(s,a,c){return{value:s,source:null,stack:c??null,digest:a??null}}function Ih(s,a){try{console.error(a.value)}catch(c){setTimeout(function(){throw c})}}var TE=typeof WeakMap=="function"?WeakMap:Map;function yx(s,a,c){c=ts(-1,c),c.tag=3,c.payload={element:null};var f=a.value;return c.callback=function(){Bc||(Bc=!0,Qh=f),Ih(s,a)},c}function bx(s,a,c){c=ts(-1,c),c.tag=3;var f=s.type.getDerivedStateFromError;if(typeof f=="function"){var g=a.value;c.payload=function(){return f(g)},c.callback=function(){Ih(s,a)}}var v=s.stateNode;return v!==null&&typeof v.componentDidCatch=="function"&&(c.callback=function(){Ih(s,a),typeof f!="function"&&(Vs===null?Vs=new Set([this]):Vs.add(this));var C=a.stack;this.componentDidCatch(a.value,{componentStack:C!==null?C:""})}),c}function wx(s,a,c){var f=s.pingCache;if(f===null){f=s.pingCache=new TE;var g=new Set;f.set(a,g)}else g=f.get(a),g===void 0&&(g=new Set,f.set(a,g));g.has(c)||(g.add(c),s=HE.bind(null,s,a,c),a.then(s,s))}function jx(s){do{var a;if((a=s.tag===13)&&(a=s.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return s;s=s.return}while(s!==null);return null}function _x(s,a,c,f,g){return(s.mode&1)===0?(s===a?s.flags|=65536:(s.flags|=128,c.flags|=131072,c.flags&=-52805,c.tag===1&&(c.alternate===null?c.tag=17:(a=ts(-1,1),a.tag=2,qs(c,a,1))),c.lanes|=1),s):(s.flags|=65536,s.lanes=g,s)}var OE=P.ReactCurrentOwner,Nr=!1;function pr(s,a,c,f){a.child=s===null?qg(a,null,c,f):Aa(a,s.child,c,f)}function Ex(s,a,c,f,g){c=c.render;var v=a.ref;return Ta(a,g),f=Nh(s,a,c,f,v,g),c=Sh(),s!==null&&!Nr?(a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~g,rs(s,a,g)):(gt&&c&&lh(a),a.flags|=1,pr(s,a,f,g),a.child)}function Nx(s,a,c,f,g){if(s===null){var v=c.type;return typeof v=="function"&&!rf(v)&&v.defaultProps===void 0&&c.compare===null&&c.defaultProps===void 0?(a.tag=15,a.type=v,Sx(s,a,v,f,g)):(s=Vc(c.type,null,f,a,a.mode,g),s.ref=a.ref,s.return=a,a.child=s)}if(v=s.child,(s.lanes&g)===0){var C=v.memoizedProps;if(c=c.compare,c=c!==null?c:Vi,c(C,f)&&s.ref===a.ref)return rs(s,a,g)}return a.flags|=1,s=Qs(v,f),s.ref=a.ref,s.return=a,a.child=s}function Sx(s,a,c,f,g){if(s!==null){var v=s.memoizedProps;if(Vi(v,f)&&s.ref===a.ref)if(Nr=!1,a.pendingProps=f=v,(s.lanes&g)!==0)(s.flags&131072)!==0&&(Nr=!0);else return a.lanes=s.lanes,rs(s,a,g)}return Dh(s,a,c,f,g)}function Cx(s,a,c){var f=a.pendingProps,g=f.children,v=s!==null?s.memoizedState:null;if(f.mode==="hidden")if((a.mode&1)===0)a.memoizedState={baseLanes:0,cachePool:null,transitions:null},lt(Ma,$r),$r|=c;else{if((c&1073741824)===0)return s=v!==null?v.baseLanes|c:c,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:s,cachePool:null,transitions:null},a.updateQueue=null,lt(Ma,$r),$r|=s,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},f=v!==null?v.baseLanes:c,lt(Ma,$r),$r|=f}else v!==null?(f=v.baseLanes|c,a.memoizedState=null):f=c,lt(Ma,$r),$r|=f;return pr(s,a,g,c),a.child}function kx(s,a){var c=a.ref;(s===null&&c!==null||s!==null&&s.ref!==c)&&(a.flags|=512,a.flags|=2097152)}function Dh(s,a,c,f,g){var v=Er(c)?ko:cr.current;return v=Sa(a,v),Ta(a,g),c=Nh(s,a,c,f,v,g),f=Sh(),s!==null&&!Nr?(a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~g,rs(s,a,g)):(gt&&f&&lh(a),a.flags|=1,pr(s,a,c,g),a.child)}function Rx(s,a,c,f,g){if(Er(c)){var v=!0;gc(a)}else v=!1;if(Ta(a,g),a.stateNode===null)Ic(s,a),xx(a,c,f),Th(a,c,f,g),f=!0;else if(s===null){var C=a.stateNode,B=a.memoizedProps;C.props=B;var H=C.context,oe=c.contextType;typeof oe=="object"&&oe!==null?oe=Kr(oe):(oe=Er(c)?ko:cr.current,oe=Sa(a,oe));var me=c.getDerivedStateFromProps,pe=typeof me=="function"||typeof C.getSnapshotBeforeUpdate=="function";pe||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(B!==f||H!==oe)&&vx(a,C,f,oe),Us=!1;var fe=a.memoizedState;C.state=fe,Nc(a,f,C,g),H=a.memoizedState,B!==f||fe!==H||_r.current||Us?(typeof me=="function"&&(Ph(a,c,me,f),H=a.memoizedState),(B=Us||gx(a,c,B,f,fe,H,oe))?(pe||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount()),typeof C.componentDidMount=="function"&&(a.flags|=4194308)):(typeof C.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=f,a.memoizedState=H),C.props=f,C.state=H,C.context=oe,f=B):(typeof C.componentDidMount=="function"&&(a.flags|=4194308),f=!1)}else{C=a.stateNode,Vg(s,a),B=a.memoizedProps,oe=a.type===a.elementType?B:ln(a.type,B),C.props=oe,pe=a.pendingProps,fe=C.context,H=c.contextType,typeof H=="object"&&H!==null?H=Kr(H):(H=Er(c)?ko:cr.current,H=Sa(a,H));var Ee=c.getDerivedStateFromProps;(me=typeof Ee=="function"||typeof C.getSnapshotBeforeUpdate=="function")||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(B!==pe||fe!==H)&&vx(a,C,f,H),Us=!1,fe=a.memoizedState,C.state=fe,Nc(a,f,C,g);var Ce=a.memoizedState;B!==pe||fe!==Ce||_r.current||Us?(typeof Ee=="function"&&(Ph(a,c,Ee,f),Ce=a.memoizedState),(oe=Us||gx(a,c,oe,f,fe,Ce,H)||!1)?(me||typeof C.UNSAFE_componentWillUpdate!="function"&&typeof C.componentWillUpdate!="function"||(typeof C.componentWillUpdate=="function"&&C.componentWillUpdate(f,Ce,H),typeof C.UNSAFE_componentWillUpdate=="function"&&C.UNSAFE_componentWillUpdate(f,Ce,H)),typeof C.componentDidUpdate=="function"&&(a.flags|=4),typeof C.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof C.componentDidUpdate!="function"||B===s.memoizedProps&&fe===s.memoizedState||(a.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||B===s.memoizedProps&&fe===s.memoizedState||(a.flags|=1024),a.memoizedProps=f,a.memoizedState=Ce),C.props=f,C.state=Ce,C.context=H,f=oe):(typeof C.componentDidUpdate!="function"||B===s.memoizedProps&&fe===s.memoizedState||(a.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||B===s.memoizedProps&&fe===s.memoizedState||(a.flags|=1024),f=!1)}return Mh(s,a,c,f,v,g)}function Mh(s,a,c,f,g,v){kx(s,a);var C=(a.flags&128)!==0;if(!f&&!C)return g&&Ig(a,c,!1),rs(s,a,v);f=a.stateNode,OE.current=a;var B=C&&typeof c.getDerivedStateFromError!="function"?null:f.render();return a.flags|=1,s!==null&&C?(a.child=Aa(a,s.child,null,v),a.child=Aa(a,null,B,v)):pr(s,a,B,v),a.memoizedState=f.state,g&&Ig(a,c,!0),a.child}function Ax(s){var a=s.stateNode;a.pendingContext?Tg(s,a.pendingContext,a.pendingContext!==a.context):a.context&&Tg(s,a.context,!1),yh(s,a.containerInfo)}function Px(s,a,c,f,g){return Ra(),hh(g),a.flags|=256,pr(s,a,c,f),a.child}var Lh={dehydrated:null,treeContext:null,retryLane:0};function $h(s){return{baseLanes:s,cachePool:null,transitions:null}}function Tx(s,a,c){var f=a.pendingProps,g=bt.current,v=!1,C=(a.flags&128)!==0,B;if((B=C)||(B=s!==null&&s.memoizedState===null?!1:(g&2)!==0),B?(v=!0,a.flags&=-129):(s===null||s.memoizedState!==null)&&(g|=1),lt(bt,g&1),s===null)return uh(a),s=a.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((a.mode&1)===0?a.lanes=1:s.data==="$!"?a.lanes=8:a.lanes=1073741824,null):(C=f.children,s=f.fallback,v?(f=a.mode,v=a.child,C={mode:"hidden",children:C},(f&1)===0&&v!==null?(v.childLanes=0,v.pendingProps=C):v=Hc(C,f,0,null),s=$o(s,f,c,null),v.return=a,s.return=a,v.sibling=s,a.child=v,a.child.memoizedState=$h(c),a.memoizedState=Lh,s):Bh(a,C));if(g=s.memoizedState,g!==null&&(B=g.dehydrated,B!==null))return IE(s,a,C,f,B,g,c);if(v){v=f.fallback,C=a.mode,g=s.child,B=g.sibling;var H={mode:"hidden",children:f.children};return(C&1)===0&&a.child!==g?(f=a.child,f.childLanes=0,f.pendingProps=H,a.deletions=null):(f=Qs(g,H),f.subtreeFlags=g.subtreeFlags&14680064),B!==null?v=Qs(B,v):(v=$o(v,C,c,null),v.flags|=2),v.return=a,f.return=a,f.sibling=v,a.child=f,f=v,v=a.child,C=s.child.memoizedState,C=C===null?$h(c):{baseLanes:C.baseLanes|c,cachePool:null,transitions:C.transitions},v.memoizedState=C,v.childLanes=s.childLanes&~c,a.memoizedState=Lh,f}return v=s.child,s=v.sibling,f=Qs(v,{mode:"visible",children:f.children}),(a.mode&1)===0&&(f.lanes=c),f.return=a,f.sibling=null,s!==null&&(c=a.deletions,c===null?(a.deletions=[s],a.flags|=16):c.push(s)),a.child=f,a.memoizedState=null,f}function Bh(s,a){return a=Hc({mode:"visible",children:a},s.mode,0,null),a.return=s,s.child=a}function Oc(s,a,c,f){return f!==null&&hh(f),Aa(a,s.child,null,c),s=Bh(a,a.pendingProps.children),s.flags|=2,a.memoizedState=null,s}function IE(s,a,c,f,g,v,C){if(c)return a.flags&256?(a.flags&=-257,f=Oh(Error(r(422))),Oc(s,a,C,f)):a.memoizedState!==null?(a.child=s.child,a.flags|=128,null):(v=f.fallback,g=a.mode,f=Hc({mode:"visible",children:f.children},g,0,null),v=$o(v,g,C,null),v.flags|=2,f.return=a,v.return=a,f.sibling=v,a.child=f,(a.mode&1)!==0&&Aa(a,s.child,null,C),a.child.memoizedState=$h(C),a.memoizedState=Lh,v);if((a.mode&1)===0)return Oc(s,a,C,null);if(g.data==="$!"){if(f=g.nextSibling&&g.nextSibling.dataset,f)var B=f.dgst;return f=B,v=Error(r(419)),f=Oh(v,f,void 0),Oc(s,a,C,f)}if(B=(C&s.childLanes)!==0,Nr||B){if(f=Jt,f!==null){switch(C&-C){case 4:g=2;break;case 16:g=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:g=32;break;case 536870912:g=268435456;break;default:g=0}g=(g&(f.suspendedLanes|C))!==0?0:g,g!==0&&g!==v.retryLane&&(v.retryLane=g,es(s,g),un(f,s,g,-1))}return tf(),f=Oh(Error(r(421))),Oc(s,a,C,f)}return g.data==="$?"?(a.flags|=128,a.child=s.child,a=KE.bind(null,s),g._reactRetry=a,null):(s=v.treeContext,Lr=$s(g.nextSibling),Mr=a,gt=!0,an=null,s!==null&&(Vr[Hr++]=Xn,Vr[Hr++]=Zn,Vr[Hr++]=Ro,Xn=s.id,Zn=s.overflow,Ro=a),a=Bh(a,f.children),a.flags|=4096,a)}function Ox(s,a,c){s.lanes|=a;var f=s.alternate;f!==null&&(f.lanes|=a),gh(s.return,a,c)}function Fh(s,a,c,f,g){var v=s.memoizedState;v===null?s.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:f,tail:c,tailMode:g}:(v.isBackwards=a,v.rendering=null,v.renderingStartTime=0,v.last=f,v.tail=c,v.tailMode=g)}function Ix(s,a,c){var f=a.pendingProps,g=f.revealOrder,v=f.tail;if(pr(s,a,f.children,c),f=bt.current,(f&2)!==0)f=f&1|2,a.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=a.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&Ox(s,c,a);else if(s.tag===19)Ox(s,c,a);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break e;for(;s.sibling===null;){if(s.return===null||s.return===a)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}f&=1}if(lt(bt,f),(a.mode&1)===0)a.memoizedState=null;else switch(g){case"forwards":for(c=a.child,g=null;c!==null;)s=c.alternate,s!==null&&Sc(s)===null&&(g=c),c=c.sibling;c=g,c===null?(g=a.child,a.child=null):(g=c.sibling,c.sibling=null),Fh(a,!1,g,c,v);break;case"backwards":for(c=null,g=a.child,a.child=null;g!==null;){if(s=g.alternate,s!==null&&Sc(s)===null){a.child=g;break}s=g.sibling,g.sibling=c,c=g,g=s}Fh(a,!0,c,null,v);break;case"together":Fh(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Ic(s,a){(a.mode&1)===0&&s!==null&&(s.alternate=null,a.alternate=null,a.flags|=2)}function rs(s,a,c){if(s!==null&&(a.dependencies=s.dependencies),Io|=a.lanes,(c&a.childLanes)===0)return null;if(s!==null&&a.child!==s.child)throw Error(r(153));if(a.child!==null){for(s=a.child,c=Qs(s,s.pendingProps),a.child=c,c.return=a;s.sibling!==null;)s=s.sibling,c=c.sibling=Qs(s,s.pendingProps),c.return=a;c.sibling=null}return a.child}function DE(s,a,c){switch(a.tag){case 3:Ax(a),Ra();break;case 5:Gg(a);break;case 1:Er(a.type)&&gc(a);break;case 4:yh(a,a.stateNode.containerInfo);break;case 10:var f=a.type._context,g=a.memoizedProps.value;lt(jc,f._currentValue),f._currentValue=g;break;case 13:if(f=a.memoizedState,f!==null)return f.dehydrated!==null?(lt(bt,bt.current&1),a.flags|=128,null):(c&a.child.childLanes)!==0?Tx(s,a,c):(lt(bt,bt.current&1),s=rs(s,a,c),s!==null?s.sibling:null);lt(bt,bt.current&1);break;case 19:if(f=(c&a.childLanes)!==0,(s.flags&128)!==0){if(f)return Ix(s,a,c);a.flags|=128}if(g=a.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),lt(bt,bt.current),f)break;return null;case 22:case 23:return a.lanes=0,Cx(s,a,c)}return rs(s,a,c)}var Dx,zh,Mx,Lx;Dx=function(s,a){for(var c=a.child;c!==null;){if(c.tag===5||c.tag===6)s.appendChild(c.stateNode);else if(c.tag!==4&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===a)break;for(;c.sibling===null;){if(c.return===null||c.return===a)return;c=c.return}c.sibling.return=c.return,c=c.sibling}},zh=function(){},Mx=function(s,a,c,f){var g=s.memoizedProps;if(g!==f){s=a.stateNode,To(Tn.current);var v=null;switch(c){case"input":g=We(s,g),f=We(s,f),v=[];break;case"select":g=R({},g,{value:void 0}),f=R({},f,{value:void 0}),v=[];break;case"textarea":g=it(s,g),f=it(s,f),v=[];break;default:typeof g.onClick!="function"&&typeof f.onClick=="function"&&(s.onclick=fc)}Me(c,f);var C;c=null;for(oe in g)if(!f.hasOwnProperty(oe)&&g.hasOwnProperty(oe)&&g[oe]!=null)if(oe==="style"){var B=g[oe];for(C in B)B.hasOwnProperty(C)&&(c||(c={}),c[C]="")}else oe!=="dangerouslySetInnerHTML"&&oe!=="children"&&oe!=="suppressContentEditableWarning"&&oe!=="suppressHydrationWarning"&&oe!=="autoFocus"&&(i.hasOwnProperty(oe)?v||(v=[]):(v=v||[]).push(oe,null));for(oe in f){var H=f[oe];if(B=g!=null?g[oe]:void 0,f.hasOwnProperty(oe)&&H!==B&&(H!=null||B!=null))if(oe==="style")if(B){for(C in B)!B.hasOwnProperty(C)||H&&H.hasOwnProperty(C)||(c||(c={}),c[C]="");for(C in H)H.hasOwnProperty(C)&&B[C]!==H[C]&&(c||(c={}),c[C]=H[C])}else c||(v||(v=[]),v.push(oe,c)),c=H;else oe==="dangerouslySetInnerHTML"?(H=H?H.__html:void 0,B=B?B.__html:void 0,H!=null&&B!==H&&(v=v||[]).push(oe,H)):oe==="children"?typeof H!="string"&&typeof H!="number"||(v=v||[]).push(oe,""+H):oe!=="suppressContentEditableWarning"&&oe!=="suppressHydrationWarning"&&(i.hasOwnProperty(oe)?(H!=null&&oe==="onScroll"&&ht("scroll",s),v||B===H||(v=[])):(v=v||[]).push(oe,H))}c&&(v=v||[]).push("style",c);var oe=v;(a.updateQueue=oe)&&(a.flags|=4)}},Lx=function(s,a,c,f){c!==f&&(a.flags|=4)};function al(s,a){if(!gt)switch(s.tailMode){case"hidden":a=s.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?s.tail=null:c.sibling=null;break;case"collapsed":c=s.tail;for(var f=null;c!==null;)c.alternate!==null&&(f=c),c=c.sibling;f===null?a||s.tail===null?s.tail=null:s.tail.sibling=null:f.sibling=null}}function ur(s){var a=s.alternate!==null&&s.alternate.child===s.child,c=0,f=0;if(a)for(var g=s.child;g!==null;)c|=g.lanes|g.childLanes,f|=g.subtreeFlags&14680064,f|=g.flags&14680064,g.return=s,g=g.sibling;else for(g=s.child;g!==null;)c|=g.lanes|g.childLanes,f|=g.subtreeFlags,f|=g.flags,g.return=s,g=g.sibling;return s.subtreeFlags|=f,s.childLanes=c,a}function ME(s,a,c){var f=a.pendingProps;switch(ch(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ur(a),null;case 1:return Er(a.type)&&pc(),ur(a),null;case 3:return f=a.stateNode,Oa(),ft(_r),ft(cr),jh(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(s===null||s.child===null)&&(bc(a)?a.flags|=4:s===null||s.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,an!==null&&(Xh(an),an=null))),zh(s,a),ur(a),null;case 5:bh(a);var g=To(tl.current);if(c=a.type,s!==null&&a.stateNode!=null)Mx(s,a,c,f,g),s.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!f){if(a.stateNode===null)throw Error(r(166));return ur(a),null}if(s=To(Tn.current),bc(a)){f=a.stateNode,c=a.type;var v=a.memoizedProps;switch(f[Pn]=a,f[Ji]=v,s=(a.mode&1)!==0,c){case"dialog":ht("cancel",f),ht("close",f);break;case"iframe":case"object":case"embed":ht("load",f);break;case"video":case"audio":for(g=0;g<Ki.length;g++)ht(Ki[g],f);break;case"source":ht("error",f);break;case"img":case"image":case"link":ht("error",f),ht("load",f);break;case"details":ht("toggle",f);break;case"input":Rt(f,v),ht("invalid",f);break;case"select":f._wrapperState={wasMultiple:!!v.multiple},ht("invalid",f);break;case"textarea":Kt(f,v),ht("invalid",f)}Me(c,v),g=null;for(var C in v)if(v.hasOwnProperty(C)){var B=v[C];C==="children"?typeof B=="string"?f.textContent!==B&&(v.suppressHydrationWarning!==!0&&hc(f.textContent,B,s),g=["children",B]):typeof B=="number"&&f.textContent!==""+B&&(v.suppressHydrationWarning!==!0&&hc(f.textContent,B,s),g=["children",""+B]):i.hasOwnProperty(C)&&B!=null&&C==="onScroll"&&ht("scroll",f)}switch(c){case"input":Pe(f),dt(f,v,!0);break;case"textarea":Pe(f),ks(f);break;case"select":case"option":break;default:typeof v.onClick=="function"&&(f.onclick=fc)}f=g,a.updateQueue=f,f!==null&&(a.flags|=4)}else{C=g.nodeType===9?g:g.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=rn(c)),s==="http://www.w3.org/1999/xhtml"?c==="script"?(s=C.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof f.is=="string"?s=C.createElement(c,{is:f.is}):(s=C.createElement(c),c==="select"&&(C=s,f.multiple?C.multiple=!0:f.size&&(C.size=f.size))):s=C.createElementNS(s,c),s[Pn]=a,s[Ji]=f,Dx(s,a,!1,!1),a.stateNode=s;e:{switch(C=et(c,f),c){case"dialog":ht("cancel",s),ht("close",s),g=f;break;case"iframe":case"object":case"embed":ht("load",s),g=f;break;case"video":case"audio":for(g=0;g<Ki.length;g++)ht(Ki[g],s);g=f;break;case"source":ht("error",s),g=f;break;case"img":case"image":case"link":ht("error",s),ht("load",s),g=f;break;case"details":ht("toggle",s),g=f;break;case"input":Rt(s,f),g=We(s,f),ht("invalid",s);break;case"option":g=f;break;case"select":s._wrapperState={wasMultiple:!!f.multiple},g=R({},f,{value:void 0}),ht("invalid",s);break;case"textarea":Kt(s,f),g=it(s,f),ht("invalid",s);break;default:g=f}Me(c,g),B=g;for(v in B)if(B.hasOwnProperty(v)){var H=B[v];v==="style"?ce(s,H):v==="dangerouslySetInnerHTML"?(H=H?H.__html:void 0,H!=null&&Rn(s,H)):v==="children"?typeof H=="string"?(c!=="textarea"||H!=="")&&G(s,H):typeof H=="number"&&G(s,""+H):v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&v!=="autoFocus"&&(i.hasOwnProperty(v)?H!=null&&v==="onScroll"&&ht("scroll",s):H!=null&&k(s,v,H,C))}switch(c){case"input":Pe(s),dt(s,f,!1);break;case"textarea":Pe(s),ks(s);break;case"option":f.value!=null&&s.setAttribute("value",""+X(f.value));break;case"select":s.multiple=!!f.multiple,v=f.value,v!=null?jr(s,!!f.multiple,v,!1):f.defaultValue!=null&&jr(s,!!f.multiple,f.defaultValue,!0);break;default:typeof g.onClick=="function"&&(s.onclick=fc)}switch(c){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}}f&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return ur(a),null;case 6:if(s&&a.stateNode!=null)Lx(s,a,s.memoizedProps,f);else{if(typeof f!="string"&&a.stateNode===null)throw Error(r(166));if(c=To(tl.current),To(Tn.current),bc(a)){if(f=a.stateNode,c=a.memoizedProps,f[Pn]=a,(v=f.nodeValue!==c)&&(s=Mr,s!==null))switch(s.tag){case 3:hc(f.nodeValue,c,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&hc(f.nodeValue,c,(s.mode&1)!==0)}v&&(a.flags|=4)}else f=(c.nodeType===9?c:c.ownerDocument).createTextNode(f),f[Pn]=a,a.stateNode=f}return ur(a),null;case 13:if(ft(bt),f=a.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(gt&&Lr!==null&&(a.mode&1)!==0&&(a.flags&128)===0)Fg(),Ra(),a.flags|=98560,v=!1;else if(v=bc(a),f!==null&&f.dehydrated!==null){if(s===null){if(!v)throw Error(r(318));if(v=a.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(r(317));v[Pn]=a}else Ra(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;ur(a),v=!1}else an!==null&&(Xh(an),an=null),v=!0;if(!v)return a.flags&65536?a:null}return(a.flags&128)!==0?(a.lanes=c,a):(f=f!==null,f!==(s!==null&&s.memoizedState!==null)&&f&&(a.child.flags|=8192,(a.mode&1)!==0&&(s===null||(bt.current&1)!==0?Ut===0&&(Ut=3):tf())),a.updateQueue!==null&&(a.flags|=4),ur(a),null);case 4:return Oa(),zh(s,a),s===null&&Gi(a.stateNode.containerInfo),ur(a),null;case 10:return ph(a.type._context),ur(a),null;case 17:return Er(a.type)&&pc(),ur(a),null;case 19:if(ft(bt),v=a.memoizedState,v===null)return ur(a),null;if(f=(a.flags&128)!==0,C=v.rendering,C===null)if(f)al(v,!1);else{if(Ut!==0||s!==null&&(s.flags&128)!==0)for(s=a.child;s!==null;){if(C=Sc(s),C!==null){for(a.flags|=128,al(v,!1),f=C.updateQueue,f!==null&&(a.updateQueue=f,a.flags|=4),a.subtreeFlags=0,f=c,c=a.child;c!==null;)v=c,s=f,v.flags&=14680066,C=v.alternate,C===null?(v.childLanes=0,v.lanes=s,v.child=null,v.subtreeFlags=0,v.memoizedProps=null,v.memoizedState=null,v.updateQueue=null,v.dependencies=null,v.stateNode=null):(v.childLanes=C.childLanes,v.lanes=C.lanes,v.child=C.child,v.subtreeFlags=0,v.deletions=null,v.memoizedProps=C.memoizedProps,v.memoizedState=C.memoizedState,v.updateQueue=C.updateQueue,v.type=C.type,s=C.dependencies,v.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),c=c.sibling;return lt(bt,bt.current&1|2),a.child}s=s.sibling}v.tail!==null&&Pt()>La&&(a.flags|=128,f=!0,al(v,!1),a.lanes=4194304)}else{if(!f)if(s=Sc(C),s!==null){if(a.flags|=128,f=!0,c=s.updateQueue,c!==null&&(a.updateQueue=c,a.flags|=4),al(v,!0),v.tail===null&&v.tailMode==="hidden"&&!C.alternate&&!gt)return ur(a),null}else 2*Pt()-v.renderingStartTime>La&&c!==1073741824&&(a.flags|=128,f=!0,al(v,!1),a.lanes=4194304);v.isBackwards?(C.sibling=a.child,a.child=C):(c=v.last,c!==null?c.sibling=C:a.child=C,v.last=C)}return v.tail!==null?(a=v.tail,v.rendering=a,v.tail=a.sibling,v.renderingStartTime=Pt(),a.sibling=null,c=bt.current,lt(bt,f?c&1|2:c&1),a):(ur(a),null);case 22:case 23:return ef(),f=a.memoizedState!==null,s!==null&&s.memoizedState!==null!==f&&(a.flags|=8192),f&&(a.mode&1)!==0?($r&1073741824)!==0&&(ur(a),a.subtreeFlags&6&&(a.flags|=8192)):ur(a),null;case 24:return null;case 25:return null}throw Error(r(156,a.tag))}function LE(s,a){switch(ch(a),a.tag){case 1:return Er(a.type)&&pc(),s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 3:return Oa(),ft(_r),ft(cr),jh(),s=a.flags,(s&65536)!==0&&(s&128)===0?(a.flags=s&-65537|128,a):null;case 5:return bh(a),null;case 13:if(ft(bt),s=a.memoizedState,s!==null&&s.dehydrated!==null){if(a.alternate===null)throw Error(r(340));Ra()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 19:return ft(bt),null;case 4:return Oa(),null;case 10:return ph(a.type._context),null;case 22:case 23:return ef(),null;case 24:return null;default:return null}}var Dc=!1,hr=!1,$E=typeof WeakSet=="function"?WeakSet:Set,Ne=null;function Da(s,a){var c=s.ref;if(c!==null)if(typeof c=="function")try{c(null)}catch(f){St(s,a,f)}else c.current=null}function Uh(s,a,c){try{c()}catch(f){St(s,a,f)}}var $x=!1;function BE(s,a){if(eh=tc,s=gg(),Hu(s)){if("selectionStart"in s)var c={start:s.selectionStart,end:s.selectionEnd};else e:{c=(c=s.ownerDocument)&&c.defaultView||window;var f=c.getSelection&&c.getSelection();if(f&&f.rangeCount!==0){c=f.anchorNode;var g=f.anchorOffset,v=f.focusNode;f=f.focusOffset;try{c.nodeType,v.nodeType}catch{c=null;break e}var C=0,B=-1,H=-1,oe=0,me=0,pe=s,fe=null;t:for(;;){for(var Ee;pe!==c||g!==0&&pe.nodeType!==3||(B=C+g),pe!==v||f!==0&&pe.nodeType!==3||(H=C+f),pe.nodeType===3&&(C+=pe.nodeValue.length),(Ee=pe.firstChild)!==null;)fe=pe,pe=Ee;for(;;){if(pe===s)break t;if(fe===c&&++oe===g&&(B=C),fe===v&&++me===f&&(H=C),(Ee=pe.nextSibling)!==null)break;pe=fe,fe=pe.parentNode}pe=Ee}c=B===-1||H===-1?null:{start:B,end:H}}else c=null}c=c||{start:0,end:0}}else c=null;for(th={focusedElem:s,selectionRange:c},tc=!1,Ne=a;Ne!==null;)if(a=Ne,s=a.child,(a.subtreeFlags&1028)!==0&&s!==null)s.return=a,Ne=s;else for(;Ne!==null;){a=Ne;try{var Ce=a.alternate;if((a.flags&1024)!==0)switch(a.tag){case 0:case 11:case 15:break;case 1:if(Ce!==null){var Te=Ce.memoizedProps,Tt=Ce.memoizedState,re=a.stateNode,J=re.getSnapshotBeforeUpdate(a.elementType===a.type?Te:ln(a.type,Te),Tt);re.__reactInternalSnapshotBeforeUpdate=J}break;case 3:var ne=a.stateNode.containerInfo;ne.nodeType===1?ne.textContent="":ne.nodeType===9&&ne.documentElement&&ne.removeChild(ne.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(ve){St(a,a.return,ve)}if(s=a.sibling,s!==null){s.return=a.return,Ne=s;break}Ne=a.return}return Ce=$x,$x=!1,Ce}function il(s,a,c){var f=a.updateQueue;if(f=f!==null?f.lastEffect:null,f!==null){var g=f=f.next;do{if((g.tag&s)===s){var v=g.destroy;g.destroy=void 0,v!==void 0&&Uh(a,c,v)}g=g.next}while(g!==f)}}function Mc(s,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var c=a=a.next;do{if((c.tag&s)===s){var f=c.create;c.destroy=f()}c=c.next}while(c!==a)}}function qh(s){var a=s.ref;if(a!==null){var c=s.stateNode;switch(s.tag){case 5:s=c;break;default:s=c}typeof a=="function"?a(s):a.current=s}}function Bx(s){var a=s.alternate;a!==null&&(s.alternate=null,Bx(a)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(a=s.stateNode,a!==null&&(delete a[Pn],delete a[Ji],delete a[oh],delete a[wE],delete a[jE])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function Fx(s){return s.tag===5||s.tag===3||s.tag===4}function zx(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||Fx(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Wh(s,a,c){var f=s.tag;if(f===5||f===6)s=s.stateNode,a?c.nodeType===8?c.parentNode.insertBefore(s,a):c.insertBefore(s,a):(c.nodeType===8?(a=c.parentNode,a.insertBefore(s,c)):(a=c,a.appendChild(s)),c=c._reactRootContainer,c!=null||a.onclick!==null||(a.onclick=fc));else if(f!==4&&(s=s.child,s!==null))for(Wh(s,a,c),s=s.sibling;s!==null;)Wh(s,a,c),s=s.sibling}function Vh(s,a,c){var f=s.tag;if(f===5||f===6)s=s.stateNode,a?c.insertBefore(s,a):c.appendChild(s);else if(f!==4&&(s=s.child,s!==null))for(Vh(s,a,c),s=s.sibling;s!==null;)Vh(s,a,c),s=s.sibling}var rr=null,cn=!1;function Ws(s,a,c){for(c=c.child;c!==null;)Ux(s,a,c),c=c.sibling}function Ux(s,a,c){if(An&&typeof An.onCommitFiberUnmount=="function")try{An.onCommitFiberUnmount(Ql,c)}catch{}switch(c.tag){case 5:hr||Da(c,a);case 6:var f=rr,g=cn;rr=null,Ws(s,a,c),rr=f,cn=g,rr!==null&&(cn?(s=rr,c=c.stateNode,s.nodeType===8?s.parentNode.removeChild(c):s.removeChild(c)):rr.removeChild(c.stateNode));break;case 18:rr!==null&&(cn?(s=rr,c=c.stateNode,s.nodeType===8?sh(s.parentNode,c):s.nodeType===1&&sh(s,c),Bi(s)):sh(rr,c.stateNode));break;case 4:f=rr,g=cn,rr=c.stateNode.containerInfo,cn=!0,Ws(s,a,c),rr=f,cn=g;break;case 0:case 11:case 14:case 15:if(!hr&&(f=c.updateQueue,f!==null&&(f=f.lastEffect,f!==null))){g=f=f.next;do{var v=g,C=v.destroy;v=v.tag,C!==void 0&&((v&2)!==0||(v&4)!==0)&&Uh(c,a,C),g=g.next}while(g!==f)}Ws(s,a,c);break;case 1:if(!hr&&(Da(c,a),f=c.stateNode,typeof f.componentWillUnmount=="function"))try{f.props=c.memoizedProps,f.state=c.memoizedState,f.componentWillUnmount()}catch(B){St(c,a,B)}Ws(s,a,c);break;case 21:Ws(s,a,c);break;case 22:c.mode&1?(hr=(f=hr)||c.memoizedState!==null,Ws(s,a,c),hr=f):Ws(s,a,c);break;default:Ws(s,a,c)}}function qx(s){var a=s.updateQueue;if(a!==null){s.updateQueue=null;var c=s.stateNode;c===null&&(c=s.stateNode=new $E),a.forEach(function(f){var g=GE.bind(null,s,f);c.has(f)||(c.add(f),f.then(g,g))})}}function dn(s,a){var c=a.deletions;if(c!==null)for(var f=0;f<c.length;f++){var g=c[f];try{var v=s,C=a,B=C;e:for(;B!==null;){switch(B.tag){case 5:rr=B.stateNode,cn=!1;break e;case 3:rr=B.stateNode.containerInfo,cn=!0;break e;case 4:rr=B.stateNode.containerInfo,cn=!0;break e}B=B.return}if(rr===null)throw Error(r(160));Ux(v,C,g),rr=null,cn=!1;var H=g.alternate;H!==null&&(H.return=null),g.return=null}catch(oe){St(g,a,oe)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)Wx(a,s),a=a.sibling}function Wx(s,a){var c=s.alternate,f=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(dn(a,s),In(s),f&4){try{il(3,s,s.return),Mc(3,s)}catch(Te){St(s,s.return,Te)}try{il(5,s,s.return)}catch(Te){St(s,s.return,Te)}}break;case 1:dn(a,s),In(s),f&512&&c!==null&&Da(c,c.return);break;case 5:if(dn(a,s),In(s),f&512&&c!==null&&Da(c,c.return),s.flags&32){var g=s.stateNode;try{G(g,"")}catch(Te){St(s,s.return,Te)}}if(f&4&&(g=s.stateNode,g!=null)){var v=s.memoizedProps,C=c!==null?c.memoizedProps:v,B=s.type,H=s.updateQueue;if(s.updateQueue=null,H!==null)try{B==="input"&&v.type==="radio"&&v.name!=null&&Bt(g,v),et(B,C);var oe=et(B,v);for(C=0;C<H.length;C+=2){var me=H[C],pe=H[C+1];me==="style"?ce(g,pe):me==="dangerouslySetInnerHTML"?Rn(g,pe):me==="children"?G(g,pe):k(g,me,pe,oe)}switch(B){case"input":Et(g,v);break;case"textarea":Cs(g,v);break;case"select":var fe=g._wrapperState.wasMultiple;g._wrapperState.wasMultiple=!!v.multiple;var Ee=v.value;Ee!=null?jr(g,!!v.multiple,Ee,!1):fe!==!!v.multiple&&(v.defaultValue!=null?jr(g,!!v.multiple,v.defaultValue,!0):jr(g,!!v.multiple,v.multiple?[]:"",!1))}g[Ji]=v}catch(Te){St(s,s.return,Te)}}break;case 6:if(dn(a,s),In(s),f&4){if(s.stateNode===null)throw Error(r(162));g=s.stateNode,v=s.memoizedProps;try{g.nodeValue=v}catch(Te){St(s,s.return,Te)}}break;case 3:if(dn(a,s),In(s),f&4&&c!==null&&c.memoizedState.isDehydrated)try{Bi(a.containerInfo)}catch(Te){St(s,s.return,Te)}break;case 4:dn(a,s),In(s);break;case 13:dn(a,s),In(s),g=s.child,g.flags&8192&&(v=g.memoizedState!==null,g.stateNode.isHidden=v,!v||g.alternate!==null&&g.alternate.memoizedState!==null||(Gh=Pt())),f&4&&qx(s);break;case 22:if(me=c!==null&&c.memoizedState!==null,s.mode&1?(hr=(oe=hr)||me,dn(a,s),hr=oe):dn(a,s),In(s),f&8192){if(oe=s.memoizedState!==null,(s.stateNode.isHidden=oe)&&!me&&(s.mode&1)!==0)for(Ne=s,me=s.child;me!==null;){for(pe=Ne=me;Ne!==null;){switch(fe=Ne,Ee=fe.child,fe.tag){case 0:case 11:case 14:case 15:il(4,fe,fe.return);break;case 1:Da(fe,fe.return);var Ce=fe.stateNode;if(typeof Ce.componentWillUnmount=="function"){f=fe,c=fe.return;try{a=f,Ce.props=a.memoizedProps,Ce.state=a.memoizedState,Ce.componentWillUnmount()}catch(Te){St(f,c,Te)}}break;case 5:Da(fe,fe.return);break;case 22:if(fe.memoizedState!==null){Kx(pe);continue}}Ee!==null?(Ee.return=fe,Ne=Ee):Kx(pe)}me=me.sibling}e:for(me=null,pe=s;;){if(pe.tag===5){if(me===null){me=pe;try{g=pe.stateNode,oe?(v=g.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none"):(B=pe.stateNode,H=pe.memoizedProps.style,C=H!=null&&H.hasOwnProperty("display")?H.display:null,B.style.display=se("display",C))}catch(Te){St(s,s.return,Te)}}}else if(pe.tag===6){if(me===null)try{pe.stateNode.nodeValue=oe?"":pe.memoizedProps}catch(Te){St(s,s.return,Te)}}else if((pe.tag!==22&&pe.tag!==23||pe.memoizedState===null||pe===s)&&pe.child!==null){pe.child.return=pe,pe=pe.child;continue}if(pe===s)break e;for(;pe.sibling===null;){if(pe.return===null||pe.return===s)break e;me===pe&&(me=null),pe=pe.return}me===pe&&(me=null),pe.sibling.return=pe.return,pe=pe.sibling}}break;case 19:dn(a,s),In(s),f&4&&qx(s);break;case 21:break;default:dn(a,s),In(s)}}function In(s){var a=s.flags;if(a&2){try{e:{for(var c=s.return;c!==null;){if(Fx(c)){var f=c;break e}c=c.return}throw Error(r(160))}switch(f.tag){case 5:var g=f.stateNode;f.flags&32&&(G(g,""),f.flags&=-33);var v=zx(s);Vh(s,v,g);break;case 3:case 4:var C=f.stateNode.containerInfo,B=zx(s);Wh(s,B,C);break;default:throw Error(r(161))}}catch(H){St(s,s.return,H)}s.flags&=-3}a&4096&&(s.flags&=-4097)}function FE(s,a,c){Ne=s,Vx(s)}function Vx(s,a,c){for(var f=(s.mode&1)!==0;Ne!==null;){var g=Ne,v=g.child;if(g.tag===22&&f){var C=g.memoizedState!==null||Dc;if(!C){var B=g.alternate,H=B!==null&&B.memoizedState!==null||hr;B=Dc;var oe=hr;if(Dc=C,(hr=H)&&!oe)for(Ne=g;Ne!==null;)C=Ne,H=C.child,C.tag===22&&C.memoizedState!==null?Gx(g):H!==null?(H.return=C,Ne=H):Gx(g);for(;v!==null;)Ne=v,Vx(v),v=v.sibling;Ne=g,Dc=B,hr=oe}Hx(s)}else(g.subtreeFlags&8772)!==0&&v!==null?(v.return=g,Ne=v):Hx(s)}}function Hx(s){for(;Ne!==null;){var a=Ne;if((a.flags&8772)!==0){var c=a.alternate;try{if((a.flags&8772)!==0)switch(a.tag){case 0:case 11:case 15:hr||Mc(5,a);break;case 1:var f=a.stateNode;if(a.flags&4&&!hr)if(c===null)f.componentDidMount();else{var g=a.elementType===a.type?c.memoizedProps:ln(a.type,c.memoizedProps);f.componentDidUpdate(g,c.memoizedState,f.__reactInternalSnapshotBeforeUpdate)}var v=a.updateQueue;v!==null&&Kg(a,v,f);break;case 3:var C=a.updateQueue;if(C!==null){if(c=null,a.child!==null)switch(a.child.tag){case 5:c=a.child.stateNode;break;case 1:c=a.child.stateNode}Kg(a,C,c)}break;case 5:var B=a.stateNode;if(c===null&&a.flags&4){c=B;var H=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":H.autoFocus&&c.focus();break;case"img":H.src&&(c.src=H.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var oe=a.alternate;if(oe!==null){var me=oe.memoizedState;if(me!==null){var pe=me.dehydrated;pe!==null&&Bi(pe)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}hr||a.flags&512&&qh(a)}catch(fe){St(a,a.return,fe)}}if(a===s){Ne=null;break}if(c=a.sibling,c!==null){c.return=a.return,Ne=c;break}Ne=a.return}}function Kx(s){for(;Ne!==null;){var a=Ne;if(a===s){Ne=null;break}var c=a.sibling;if(c!==null){c.return=a.return,Ne=c;break}Ne=a.return}}function Gx(s){for(;Ne!==null;){var a=Ne;try{switch(a.tag){case 0:case 11:case 15:var c=a.return;try{Mc(4,a)}catch(H){St(a,c,H)}break;case 1:var f=a.stateNode;if(typeof f.componentDidMount=="function"){var g=a.return;try{f.componentDidMount()}catch(H){St(a,g,H)}}var v=a.return;try{qh(a)}catch(H){St(a,v,H)}break;case 5:var C=a.return;try{qh(a)}catch(H){St(a,C,H)}}}catch(H){St(a,a.return,H)}if(a===s){Ne=null;break}var B=a.sibling;if(B!==null){B.return=a.return,Ne=B;break}Ne=a.return}}var zE=Math.ceil,Lc=P.ReactCurrentDispatcher,Hh=P.ReactCurrentOwner,Qr=P.ReactCurrentBatchConfig,Xe=0,Jt=null,It=null,nr=0,$r=0,Ma=Bs(0),Ut=0,ll=null,Io=0,$c=0,Kh=0,cl=null,Sr=null,Gh=0,La=1/0,ns=null,Bc=!1,Qh=null,Vs=null,Fc=!1,Hs=null,zc=0,dl=0,Jh=null,Uc=-1,qc=0;function gr(){return(Xe&6)!==0?Pt():Uc!==-1?Uc:Uc=Pt()}function Ks(s){return(s.mode&1)===0?1:(Xe&2)!==0&&nr!==0?nr&-nr:EE.transition!==null?(qc===0&&(qc=zp()),qc):(s=nt,s!==0||(s=window.event,s=s===void 0?16:Jp(s.type)),s)}function un(s,a,c,f){if(50<dl)throw dl=0,Jh=null,Error(r(185));Ii(s,c,f),((Xe&2)===0||s!==Jt)&&(s===Jt&&((Xe&2)===0&&($c|=c),Ut===4&&Gs(s,nr)),Cr(s,f),c===1&&Xe===0&&(a.mode&1)===0&&(La=Pt()+500,xc&&zs()))}function Cr(s,a){var c=s.callbackNode;E_(s,a);var f=Xl(s,s===Jt?nr:0);if(f===0)c!==null&&$p(c),s.callbackNode=null,s.callbackPriority=0;else if(a=f&-f,s.callbackPriority!==a){if(c!=null&&$p(c),a===1)s.tag===0?_E(Jx.bind(null,s)):Dg(Jx.bind(null,s)),yE(function(){(Xe&6)===0&&zs()}),c=null;else{switch(Up(f)){case 1:c=Ru;break;case 4:c=Bp;break;case 16:c=Gl;break;case 536870912:c=Fp;break;default:c=Gl}c=s0(c,Qx.bind(null,s))}s.callbackPriority=a,s.callbackNode=c}}function Qx(s,a){if(Uc=-1,qc=0,(Xe&6)!==0)throw Error(r(327));var c=s.callbackNode;if($a()&&s.callbackNode!==c)return null;var f=Xl(s,s===Jt?nr:0);if(f===0)return null;if((f&30)!==0||(f&s.expiredLanes)!==0||a)a=Wc(s,f);else{a=f;var g=Xe;Xe|=2;var v=Xx();(Jt!==s||nr!==a)&&(ns=null,La=Pt()+500,Mo(s,a));do try{WE();break}catch(B){Yx(s,B)}while(!0);mh(),Lc.current=v,Xe=g,It!==null?a=0:(Jt=null,nr=0,a=Ut)}if(a!==0){if(a===2&&(g=Au(s),g!==0&&(f=g,a=Yh(s,g))),a===1)throw c=ll,Mo(s,0),Gs(s,f),Cr(s,Pt()),c;if(a===6)Gs(s,f);else{if(g=s.current.alternate,(f&30)===0&&!UE(g)&&(a=Wc(s,f),a===2&&(v=Au(s),v!==0&&(f=v,a=Yh(s,v))),a===1))throw c=ll,Mo(s,0),Gs(s,f),Cr(s,Pt()),c;switch(s.finishedWork=g,s.finishedLanes=f,a){case 0:case 1:throw Error(r(345));case 2:Lo(s,Sr,ns);break;case 3:if(Gs(s,f),(f&130023424)===f&&(a=Gh+500-Pt(),10<a)){if(Xl(s,0)!==0)break;if(g=s.suspendedLanes,(g&f)!==f){gr(),s.pingedLanes|=s.suspendedLanes&g;break}s.timeoutHandle=nh(Lo.bind(null,s,Sr,ns),a);break}Lo(s,Sr,ns);break;case 4:if(Gs(s,f),(f&4194240)===f)break;for(a=s.eventTimes,g=-1;0<f;){var C=31-sn(f);v=1<<C,C=a[C],C>g&&(g=C),f&=~v}if(f=g,f=Pt()-f,f=(120>f?120:480>f?480:1080>f?1080:1920>f?1920:3e3>f?3e3:4320>f?4320:1960*zE(f/1960))-f,10<f){s.timeoutHandle=nh(Lo.bind(null,s,Sr,ns),f);break}Lo(s,Sr,ns);break;case 5:Lo(s,Sr,ns);break;default:throw Error(r(329))}}}return Cr(s,Pt()),s.callbackNode===c?Qx.bind(null,s):null}function Yh(s,a){var c=cl;return s.current.memoizedState.isDehydrated&&(Mo(s,a).flags|=256),s=Wc(s,a),s!==2&&(a=Sr,Sr=c,a!==null&&Xh(a)),s}function Xh(s){Sr===null?Sr=s:Sr.push.apply(Sr,s)}function UE(s){for(var a=s;;){if(a.flags&16384){var c=a.updateQueue;if(c!==null&&(c=c.stores,c!==null))for(var f=0;f<c.length;f++){var g=c[f],v=g.getSnapshot;g=g.value;try{if(!on(v(),g))return!1}catch{return!1}}}if(c=a.child,a.subtreeFlags&16384&&c!==null)c.return=a,a=c;else{if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Gs(s,a){for(a&=~Kh,a&=~$c,s.suspendedLanes|=a,s.pingedLanes&=~a,s=s.expirationTimes;0<a;){var c=31-sn(a),f=1<<c;s[c]=-1,a&=~f}}function Jx(s){if((Xe&6)!==0)throw Error(r(327));$a();var a=Xl(s,0);if((a&1)===0)return Cr(s,Pt()),null;var c=Wc(s,a);if(s.tag!==0&&c===2){var f=Au(s);f!==0&&(a=f,c=Yh(s,f))}if(c===1)throw c=ll,Mo(s,0),Gs(s,a),Cr(s,Pt()),c;if(c===6)throw Error(r(345));return s.finishedWork=s.current.alternate,s.finishedLanes=a,Lo(s,Sr,ns),Cr(s,Pt()),null}function Zh(s,a){var c=Xe;Xe|=1;try{return s(a)}finally{Xe=c,Xe===0&&(La=Pt()+500,xc&&zs())}}function Do(s){Hs!==null&&Hs.tag===0&&(Xe&6)===0&&$a();var a=Xe;Xe|=1;var c=Qr.transition,f=nt;try{if(Qr.transition=null,nt=1,s)return s()}finally{nt=f,Qr.transition=c,Xe=a,(Xe&6)===0&&zs()}}function ef(){$r=Ma.current,ft(Ma)}function Mo(s,a){s.finishedWork=null,s.finishedLanes=0;var c=s.timeoutHandle;if(c!==-1&&(s.timeoutHandle=-1,vE(c)),It!==null)for(c=It.return;c!==null;){var f=c;switch(ch(f),f.tag){case 1:f=f.type.childContextTypes,f!=null&&pc();break;case 3:Oa(),ft(_r),ft(cr),jh();break;case 5:bh(f);break;case 4:Oa();break;case 13:ft(bt);break;case 19:ft(bt);break;case 10:ph(f.type._context);break;case 22:case 23:ef()}c=c.return}if(Jt=s,It=s=Qs(s.current,null),nr=$r=a,Ut=0,ll=null,Kh=$c=Io=0,Sr=cl=null,Po!==null){for(a=0;a<Po.length;a++)if(c=Po[a],f=c.interleaved,f!==null){c.interleaved=null;var g=f.next,v=c.pending;if(v!==null){var C=v.next;v.next=g,f.next=C}c.pending=f}Po=null}return s}function Yx(s,a){do{var c=It;try{if(mh(),Cc.current=Pc,kc){for(var f=wt.memoizedState;f!==null;){var g=f.queue;g!==null&&(g.pending=null),f=f.next}kc=!1}if(Oo=0,Qt=zt=wt=null,rl=!1,nl=0,Hh.current=null,c===null||c.return===null){Ut=1,ll=a,It=null;break}e:{var v=s,C=c.return,B=c,H=a;if(a=nr,B.flags|=32768,H!==null&&typeof H=="object"&&typeof H.then=="function"){var oe=H,me=B,pe=me.tag;if((me.mode&1)===0&&(pe===0||pe===11||pe===15)){var fe=me.alternate;fe?(me.updateQueue=fe.updateQueue,me.memoizedState=fe.memoizedState,me.lanes=fe.lanes):(me.updateQueue=null,me.memoizedState=null)}var Ee=jx(C);if(Ee!==null){Ee.flags&=-257,_x(Ee,C,B,v,a),Ee.mode&1&&wx(v,oe,a),a=Ee,H=oe;var Ce=a.updateQueue;if(Ce===null){var Te=new Set;Te.add(H),a.updateQueue=Te}else Ce.add(H);break e}else{if((a&1)===0){wx(v,oe,a),tf();break e}H=Error(r(426))}}else if(gt&&B.mode&1){var Tt=jx(C);if(Tt!==null){(Tt.flags&65536)===0&&(Tt.flags|=256),_x(Tt,C,B,v,a),hh(Ia(H,B));break e}}v=H=Ia(H,B),Ut!==4&&(Ut=2),cl===null?cl=[v]:cl.push(v),v=C;do{switch(v.tag){case 3:v.flags|=65536,a&=-a,v.lanes|=a;var re=yx(v,H,a);Hg(v,re);break e;case 1:B=H;var J=v.type,ne=v.stateNode;if((v.flags&128)===0&&(typeof J.getDerivedStateFromError=="function"||ne!==null&&typeof ne.componentDidCatch=="function"&&(Vs===null||!Vs.has(ne)))){v.flags|=65536,a&=-a,v.lanes|=a;var ve=bx(v,B,a);Hg(v,ve);break e}}v=v.return}while(v!==null)}e0(c)}catch(Oe){a=Oe,It===c&&c!==null&&(It=c=c.return);continue}break}while(!0)}function Xx(){var s=Lc.current;return Lc.current=Pc,s===null?Pc:s}function tf(){(Ut===0||Ut===3||Ut===2)&&(Ut=4),Jt===null||(Io&268435455)===0&&($c&268435455)===0||Gs(Jt,nr)}function Wc(s,a){var c=Xe;Xe|=2;var f=Xx();(Jt!==s||nr!==a)&&(ns=null,Mo(s,a));do try{qE();break}catch(g){Yx(s,g)}while(!0);if(mh(),Xe=c,Lc.current=f,It!==null)throw Error(r(261));return Jt=null,nr=0,Ut}function qE(){for(;It!==null;)Zx(It)}function WE(){for(;It!==null&&!p_();)Zx(It)}function Zx(s){var a=n0(s.alternate,s,$r);s.memoizedProps=s.pendingProps,a===null?e0(s):It=a,Hh.current=null}function e0(s){var a=s;do{var c=a.alternate;if(s=a.return,(a.flags&32768)===0){if(c=ME(c,a,$r),c!==null){It=c;return}}else{if(c=LE(c,a),c!==null){c.flags&=32767,It=c;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{Ut=6,It=null;return}}if(a=a.sibling,a!==null){It=a;return}It=a=s}while(a!==null);Ut===0&&(Ut=5)}function Lo(s,a,c){var f=nt,g=Qr.transition;try{Qr.transition=null,nt=1,VE(s,a,c,f)}finally{Qr.transition=g,nt=f}return null}function VE(s,a,c,f){do $a();while(Hs!==null);if((Xe&6)!==0)throw Error(r(327));c=s.finishedWork;var g=s.finishedLanes;if(c===null)return null;if(s.finishedWork=null,s.finishedLanes=0,c===s.current)throw Error(r(177));s.callbackNode=null,s.callbackPriority=0;var v=c.lanes|c.childLanes;if(N_(s,v),s===Jt&&(It=Jt=null,nr=0),(c.subtreeFlags&2064)===0&&(c.flags&2064)===0||Fc||(Fc=!0,s0(Gl,function(){return $a(),null})),v=(c.flags&15990)!==0,(c.subtreeFlags&15990)!==0||v){v=Qr.transition,Qr.transition=null;var C=nt;nt=1;var B=Xe;Xe|=4,Hh.current=null,BE(s,c),Wx(c,s),uE(th),tc=!!eh,th=eh=null,s.current=c,FE(c),g_(),Xe=B,nt=C,Qr.transition=v}else s.current=c;if(Fc&&(Fc=!1,Hs=s,zc=g),v=s.pendingLanes,v===0&&(Vs=null),y_(c.stateNode),Cr(s,Pt()),a!==null)for(f=s.onRecoverableError,c=0;c<a.length;c++)g=a[c],f(g.value,{componentStack:g.stack,digest:g.digest});if(Bc)throw Bc=!1,s=Qh,Qh=null,s;return(zc&1)!==0&&s.tag!==0&&$a(),v=s.pendingLanes,(v&1)!==0?s===Jh?dl++:(dl=0,Jh=s):dl=0,zs(),null}function $a(){if(Hs!==null){var s=Up(zc),a=Qr.transition,c=nt;try{if(Qr.transition=null,nt=16>s?16:s,Hs===null)var f=!1;else{if(s=Hs,Hs=null,zc=0,(Xe&6)!==0)throw Error(r(331));var g=Xe;for(Xe|=4,Ne=s.current;Ne!==null;){var v=Ne,C=v.child;if((Ne.flags&16)!==0){var B=v.deletions;if(B!==null){for(var H=0;H<B.length;H++){var oe=B[H];for(Ne=oe;Ne!==null;){var me=Ne;switch(me.tag){case 0:case 11:case 15:il(8,me,v)}var pe=me.child;if(pe!==null)pe.return=me,Ne=pe;else for(;Ne!==null;){me=Ne;var fe=me.sibling,Ee=me.return;if(Bx(me),me===oe){Ne=null;break}if(fe!==null){fe.return=Ee,Ne=fe;break}Ne=Ee}}}var Ce=v.alternate;if(Ce!==null){var Te=Ce.child;if(Te!==null){Ce.child=null;do{var Tt=Te.sibling;Te.sibling=null,Te=Tt}while(Te!==null)}}Ne=v}}if((v.subtreeFlags&2064)!==0&&C!==null)C.return=v,Ne=C;else e:for(;Ne!==null;){if(v=Ne,(v.flags&2048)!==0)switch(v.tag){case 0:case 11:case 15:il(9,v,v.return)}var re=v.sibling;if(re!==null){re.return=v.return,Ne=re;break e}Ne=v.return}}var J=s.current;for(Ne=J;Ne!==null;){C=Ne;var ne=C.child;if((C.subtreeFlags&2064)!==0&&ne!==null)ne.return=C,Ne=ne;else e:for(C=J;Ne!==null;){if(B=Ne,(B.flags&2048)!==0)try{switch(B.tag){case 0:case 11:case 15:Mc(9,B)}}catch(Oe){St(B,B.return,Oe)}if(B===C){Ne=null;break e}var ve=B.sibling;if(ve!==null){ve.return=B.return,Ne=ve;break e}Ne=B.return}}if(Xe=g,zs(),An&&typeof An.onPostCommitFiberRoot=="function")try{An.onPostCommitFiberRoot(Ql,s)}catch{}f=!0}return f}finally{nt=c,Qr.transition=a}}return!1}function t0(s,a,c){a=Ia(c,a),a=yx(s,a,1),s=qs(s,a,1),a=gr(),s!==null&&(Ii(s,1,a),Cr(s,a))}function St(s,a,c){if(s.tag===3)t0(s,s,c);else for(;a!==null;){if(a.tag===3){t0(a,s,c);break}else if(a.tag===1){var f=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(Vs===null||!Vs.has(f))){s=Ia(c,s),s=bx(a,s,1),a=qs(a,s,1),s=gr(),a!==null&&(Ii(a,1,s),Cr(a,s));break}}a=a.return}}function HE(s,a,c){var f=s.pingCache;f!==null&&f.delete(a),a=gr(),s.pingedLanes|=s.suspendedLanes&c,Jt===s&&(nr&c)===c&&(Ut===4||Ut===3&&(nr&130023424)===nr&&500>Pt()-Gh?Mo(s,0):Kh|=c),Cr(s,a)}function r0(s,a){a===0&&((s.mode&1)===0?a=1:(a=Yl,Yl<<=1,(Yl&130023424)===0&&(Yl=4194304)));var c=gr();s=es(s,a),s!==null&&(Ii(s,a,c),Cr(s,c))}function KE(s){var a=s.memoizedState,c=0;a!==null&&(c=a.retryLane),r0(s,c)}function GE(s,a){var c=0;switch(s.tag){case 13:var f=s.stateNode,g=s.memoizedState;g!==null&&(c=g.retryLane);break;case 19:f=s.stateNode;break;default:throw Error(r(314))}f!==null&&f.delete(a),r0(s,c)}var n0;n0=function(s,a,c){if(s!==null)if(s.memoizedProps!==a.pendingProps||_r.current)Nr=!0;else{if((s.lanes&c)===0&&(a.flags&128)===0)return Nr=!1,DE(s,a,c);Nr=(s.flags&131072)!==0}else Nr=!1,gt&&(a.flags&1048576)!==0&&Mg(a,yc,a.index);switch(a.lanes=0,a.tag){case 2:var f=a.type;Ic(s,a),s=a.pendingProps;var g=Sa(a,cr.current);Ta(a,c),g=Nh(null,a,f,s,g,c);var v=Sh();return a.flags|=1,typeof g=="object"&&g!==null&&typeof g.render=="function"&&g.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,Er(f)?(v=!0,gc(a)):v=!1,a.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,vh(a),g.updater=Tc,a.stateNode=g,g._reactInternals=a,Th(a,f,s,c),a=Mh(null,a,f,!0,v,c)):(a.tag=0,gt&&v&&lh(a),pr(null,a,g,c),a=a.child),a;case 16:f=a.elementType;e:{switch(Ic(s,a),s=a.pendingProps,g=f._init,f=g(f._payload),a.type=f,g=a.tag=JE(f),s=ln(f,s),g){case 0:a=Dh(null,a,f,s,c);break e;case 1:a=Rx(null,a,f,s,c);break e;case 11:a=Ex(null,a,f,s,c);break e;case 14:a=Nx(null,a,f,ln(f.type,s),c);break e}throw Error(r(306,f,""))}return a;case 0:return f=a.type,g=a.pendingProps,g=a.elementType===f?g:ln(f,g),Dh(s,a,f,g,c);case 1:return f=a.type,g=a.pendingProps,g=a.elementType===f?g:ln(f,g),Rx(s,a,f,g,c);case 3:e:{if(Ax(a),s===null)throw Error(r(387));f=a.pendingProps,v=a.memoizedState,g=v.element,Vg(s,a),Nc(a,f,null,c);var C=a.memoizedState;if(f=C.element,v.isDehydrated)if(v={element:f,isDehydrated:!1,cache:C.cache,pendingSuspenseBoundaries:C.pendingSuspenseBoundaries,transitions:C.transitions},a.updateQueue.baseState=v,a.memoizedState=v,a.flags&256){g=Ia(Error(r(423)),a),a=Px(s,a,f,c,g);break e}else if(f!==g){g=Ia(Error(r(424)),a),a=Px(s,a,f,c,g);break e}else for(Lr=$s(a.stateNode.containerInfo.firstChild),Mr=a,gt=!0,an=null,c=qg(a,null,f,c),a.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(Ra(),f===g){a=rs(s,a,c);break e}pr(s,a,f,c)}a=a.child}return a;case 5:return Gg(a),s===null&&uh(a),f=a.type,g=a.pendingProps,v=s!==null?s.memoizedProps:null,C=g.children,rh(f,g)?C=null:v!==null&&rh(f,v)&&(a.flags|=32),kx(s,a),pr(s,a,C,c),a.child;case 6:return s===null&&uh(a),null;case 13:return Tx(s,a,c);case 4:return yh(a,a.stateNode.containerInfo),f=a.pendingProps,s===null?a.child=Aa(a,null,f,c):pr(s,a,f,c),a.child;case 11:return f=a.type,g=a.pendingProps,g=a.elementType===f?g:ln(f,g),Ex(s,a,f,g,c);case 7:return pr(s,a,a.pendingProps,c),a.child;case 8:return pr(s,a,a.pendingProps.children,c),a.child;case 12:return pr(s,a,a.pendingProps.children,c),a.child;case 10:e:{if(f=a.type._context,g=a.pendingProps,v=a.memoizedProps,C=g.value,lt(jc,f._currentValue),f._currentValue=C,v!==null)if(on(v.value,C)){if(v.children===g.children&&!_r.current){a=rs(s,a,c);break e}}else for(v=a.child,v!==null&&(v.return=a);v!==null;){var B=v.dependencies;if(B!==null){C=v.child;for(var H=B.firstContext;H!==null;){if(H.context===f){if(v.tag===1){H=ts(-1,c&-c),H.tag=2;var oe=v.updateQueue;if(oe!==null){oe=oe.shared;var me=oe.pending;me===null?H.next=H:(H.next=me.next,me.next=H),oe.pending=H}}v.lanes|=c,H=v.alternate,H!==null&&(H.lanes|=c),gh(v.return,c,a),B.lanes|=c;break}H=H.next}}else if(v.tag===10)C=v.type===a.type?null:v.child;else if(v.tag===18){if(C=v.return,C===null)throw Error(r(341));C.lanes|=c,B=C.alternate,B!==null&&(B.lanes|=c),gh(C,c,a),C=v.sibling}else C=v.child;if(C!==null)C.return=v;else for(C=v;C!==null;){if(C===a){C=null;break}if(v=C.sibling,v!==null){v.return=C.return,C=v;break}C=C.return}v=C}pr(s,a,g.children,c),a=a.child}return a;case 9:return g=a.type,f=a.pendingProps.children,Ta(a,c),g=Kr(g),f=f(g),a.flags|=1,pr(s,a,f,c),a.child;case 14:return f=a.type,g=ln(f,a.pendingProps),g=ln(f.type,g),Nx(s,a,f,g,c);case 15:return Sx(s,a,a.type,a.pendingProps,c);case 17:return f=a.type,g=a.pendingProps,g=a.elementType===f?g:ln(f,g),Ic(s,a),a.tag=1,Er(f)?(s=!0,gc(a)):s=!1,Ta(a,c),xx(a,f,g),Th(a,f,g,c),Mh(null,a,f,!0,s,c);case 19:return Ix(s,a,c);case 22:return Cx(s,a,c)}throw Error(r(156,a.tag))};function s0(s,a){return Lp(s,a)}function QE(s,a,c,f){this.tag=s,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Jr(s,a,c,f){return new QE(s,a,c,f)}function rf(s){return s=s.prototype,!(!s||!s.isReactComponent)}function JE(s){if(typeof s=="function")return rf(s)?1:0;if(s!=null){if(s=s.$$typeof,s===Y)return 11;if(s===he)return 14}return 2}function Qs(s,a){var c=s.alternate;return c===null?(c=Jr(s.tag,a,s.key,s.mode),c.elementType=s.elementType,c.type=s.type,c.stateNode=s.stateNode,c.alternate=s,s.alternate=c):(c.pendingProps=a,c.type=s.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=s.flags&14680064,c.childLanes=s.childLanes,c.lanes=s.lanes,c.child=s.child,c.memoizedProps=s.memoizedProps,c.memoizedState=s.memoizedState,c.updateQueue=s.updateQueue,a=s.dependencies,c.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},c.sibling=s.sibling,c.index=s.index,c.ref=s.ref,c}function Vc(s,a,c,f,g,v){var C=2;if(f=s,typeof s=="function")rf(s)&&(C=1);else if(typeof s=="string")C=5;else e:switch(s){case q:return $o(c.children,g,v,a);case K:C=8,g|=8;break;case de:return s=Jr(12,c,a,g|2),s.elementType=de,s.lanes=v,s;case te:return s=Jr(13,c,a,g),s.elementType=te,s.lanes=v,s;case U:return s=Jr(19,c,a,g),s.elementType=U,s.lanes=v,s;case Z:return Hc(c,g,v,a);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case V:C=10;break e;case T:C=9;break e;case Y:C=11;break e;case he:C=14;break e;case $:C=16,f=null;break e}throw Error(r(130,s==null?s:typeof s,""))}return a=Jr(C,c,a,g),a.elementType=s,a.type=f,a.lanes=v,a}function $o(s,a,c,f){return s=Jr(7,s,f,a),s.lanes=c,s}function Hc(s,a,c,f){return s=Jr(22,s,f,a),s.elementType=Z,s.lanes=c,s.stateNode={isHidden:!1},s}function nf(s,a,c){return s=Jr(6,s,null,a),s.lanes=c,s}function sf(s,a,c){return a=Jr(4,s.children!==null?s.children:[],s.key,a),a.lanes=c,a.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},a}function YE(s,a,c,f,g){this.tag=a,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Pu(0),this.expirationTimes=Pu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Pu(0),this.identifierPrefix=f,this.onRecoverableError=g,this.mutableSourceEagerHydrationData=null}function of(s,a,c,f,g,v,C,B,H){return s=new YE(s,a,c,B,H),a===1?(a=1,v===!0&&(a|=8)):a=0,v=Jr(3,null,null,a),s.current=v,v.stateNode=s,v.memoizedState={element:f,isDehydrated:c,cache:null,transitions:null,pendingSuspenseBoundaries:null},vh(v),s}function XE(s,a,c){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:A,key:f==null?null:""+f,children:s,containerInfo:a,implementation:c}}function o0(s){if(!s)return Fs;s=s._reactInternals;e:{if(So(s)!==s||s.tag!==1)throw Error(r(170));var a=s;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(Er(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(r(171))}if(s.tag===1){var c=s.type;if(Er(c))return Og(s,c,a)}return a}function a0(s,a,c,f,g,v,C,B,H){return s=of(c,f,!0,s,g,v,C,B,H),s.context=o0(null),c=s.current,f=gr(),g=Ks(c),v=ts(f,g),v.callback=a??null,qs(c,v,g),s.current.lanes=g,Ii(s,g,f),Cr(s,f),s}function Kc(s,a,c,f){var g=a.current,v=gr(),C=Ks(g);return c=o0(c),a.context===null?a.context=c:a.pendingContext=c,a=ts(v,C),a.payload={element:s},f=f===void 0?null:f,f!==null&&(a.callback=f),s=qs(g,a,C),s!==null&&(un(s,g,C,v),Ec(s,g,C)),C}function Gc(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function i0(s,a){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var c=s.retryLane;s.retryLane=c!==0&&c<a?c:a}}function af(s,a){i0(s,a),(s=s.alternate)&&i0(s,a)}function ZE(){return null}var l0=typeof reportError=="function"?reportError:function(s){console.error(s)};function lf(s){this._internalRoot=s}Qc.prototype.render=lf.prototype.render=function(s){var a=this._internalRoot;if(a===null)throw Error(r(409));Kc(s,a,null,null)},Qc.prototype.unmount=lf.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var a=s.containerInfo;Do(function(){Kc(null,s,null,null)}),a[Jn]=null}};function Qc(s){this._internalRoot=s}Qc.prototype.unstable_scheduleHydration=function(s){if(s){var a=Vp();s={blockedOn:null,target:s,priority:a};for(var c=0;c<Ds.length&&a!==0&&a<Ds[c].priority;c++);Ds.splice(c,0,s),c===0&&Gp(s)}};function cf(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function Jc(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function c0(){}function eN(s,a,c,f,g){if(g){if(typeof f=="function"){var v=f;f=function(){var oe=Gc(C);v.call(oe)}}var C=a0(a,f,s,0,null,!1,!1,"",c0);return s._reactRootContainer=C,s[Jn]=C.current,Gi(s.nodeType===8?s.parentNode:s),Do(),C}for(;g=s.lastChild;)s.removeChild(g);if(typeof f=="function"){var B=f;f=function(){var oe=Gc(H);B.call(oe)}}var H=of(s,0,!1,null,null,!1,!1,"",c0);return s._reactRootContainer=H,s[Jn]=H.current,Gi(s.nodeType===8?s.parentNode:s),Do(function(){Kc(a,H,c,f)}),H}function Yc(s,a,c,f,g){var v=c._reactRootContainer;if(v){var C=v;if(typeof g=="function"){var B=g;g=function(){var H=Gc(C);B.call(H)}}Kc(a,C,s,g)}else C=eN(c,a,s,g,f);return Gc(C)}qp=function(s){switch(s.tag){case 3:var a=s.stateNode;if(a.current.memoizedState.isDehydrated){var c=Oi(a.pendingLanes);c!==0&&(Tu(a,c|1),Cr(a,Pt()),(Xe&6)===0&&(La=Pt()+500,zs()))}break;case 13:Do(function(){var f=es(s,1);if(f!==null){var g=gr();un(f,s,1,g)}}),af(s,1)}},Ou=function(s){if(s.tag===13){var a=es(s,134217728);if(a!==null){var c=gr();un(a,s,134217728,c)}af(s,134217728)}},Wp=function(s){if(s.tag===13){var a=Ks(s),c=es(s,a);if(c!==null){var f=gr();un(c,s,a,f)}af(s,a)}},Vp=function(){return nt},Hp=function(s,a){var c=nt;try{return nt=s,a()}finally{nt=c}},pt=function(s,a,c){switch(a){case"input":if(Et(s,c),a=c.name,c.type==="radio"&&a!=null){for(c=s;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<c.length;a++){var f=c[a];if(f!==s&&f.form===s.form){var g=mc(f);if(!g)throw Error(r(90));Ae(f),Et(f,g)}}}break;case"textarea":Cs(s,c);break;case"select":a=c.value,a!=null&&jr(s,!!c.multiple,a,!1)}},Ft=Zh,lr=Do;var tN={usingClientEntryPoint:!1,Events:[Yi,Ea,mc,ze,At,Zh]},ul={findFiberByHostInstance:Co,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},rN={bundleType:ul.bundleType,version:ul.version,rendererPackageName:ul.rendererPackageName,rendererConfig:ul.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:P.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=Dp(s),s===null?null:s.stateNode},findFiberByHostInstance:ul.findFiberByHostInstance||ZE,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Xc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xc.isDisabled&&Xc.supportsFiber)try{Ql=Xc.inject(rN),An=Xc}catch{}}return kr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tN,kr.createPortal=function(s,a){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!cf(a))throw Error(r(200));return XE(s,a,null,c)},kr.createRoot=function(s,a){if(!cf(s))throw Error(r(299));var c=!1,f="",g=l0;return a!=null&&(a.unstable_strictMode===!0&&(c=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onRecoverableError!==void 0&&(g=a.onRecoverableError)),a=of(s,1,!1,null,null,c,!1,f,g),s[Jn]=a.current,Gi(s.nodeType===8?s.parentNode:s),new lf(a)},kr.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var a=s._reactInternals;if(a===void 0)throw typeof s.render=="function"?Error(r(188)):(s=Object.keys(s).join(","),Error(r(268,s)));return s=Dp(a),s=s===null?null:s.stateNode,s},kr.flushSync=function(s){return Do(s)},kr.hydrate=function(s,a,c){if(!Jc(a))throw Error(r(200));return Yc(null,s,a,!0,c)},kr.hydrateRoot=function(s,a,c){if(!cf(s))throw Error(r(405));var f=c!=null&&c.hydratedSources||null,g=!1,v="",C=l0;if(c!=null&&(c.unstable_strictMode===!0&&(g=!0),c.identifierPrefix!==void 0&&(v=c.identifierPrefix),c.onRecoverableError!==void 0&&(C=c.onRecoverableError)),a=a0(a,null,s,1,c??null,g,!1,v,C),s[Jn]=a.current,Gi(s),f)for(s=0;s<f.length;s++)c=f[s],g=c._getVersion,g=g(c._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[c,g]:a.mutableSourceEagerHydrationData.push(c,g);return new Qc(a)},kr.render=function(s,a,c){if(!Jc(a))throw Error(r(200));return Yc(null,s,a,!1,c)},kr.unmountComponentAtNode=function(s){if(!Jc(s))throw Error(r(40));return s._reactRootContainer?(Do(function(){Yc(null,null,s,!1,function(){s._reactRootContainer=null,s[Jn]=null})}),!0):!1},kr.unstable_batchedUpdates=Zh,kr.unstable_renderSubtreeIntoContainer=function(s,a,c,f){if(!Jc(c))throw Error(r(200));if(s==null||s._reactInternals===void 0)throw Error(r(38));return Yc(s,a,c,!1,f)},kr.version="18.3.1-next-f1338f8080-20240426",kr}var v0;function by(){if(v0)return ff.exports;v0=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),ff.exports=cN(),ff.exports}var y0;function dN(){if(y0)return ed;y0=1;var t=by();return ed.createRoot=t.createRoot,ed.hydrateRoot=t.hydrateRoot,ed}var uN=dN();const hN=ou(uN);/**
 * react-router v7.9.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var b0="popstate";function fN(t={}){function e(o,i){let{pathname:l,search:d,hash:u}=o.location;return Ff("",{pathname:l,search:d,hash:u},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(o,i){return typeof i=="string"?i:Nl(i)}return pN(e,r,null,t)}function yt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function en(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function mN(){return Math.random().toString(36).substring(2,10)}function w0(t,e){return{usr:t.state,key:t.key,idx:e}}function Ff(t,e,r=null,o){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?wi(e):e,state:r,key:e&&e.key||o||mN()}}function Nl({pathname:t="/",search:e="",hash:r=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function wi(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substring(r),t=t.substring(0,r));let o=t.indexOf("?");o>=0&&(e.search=t.substring(o),t=t.substring(0,o)),t&&(e.pathname=t)}return e}function pN(t,e,r,o={}){let{window:i=document.defaultView,v5Compat:l=!1}=o,d=i.history,u="POP",h=null,m=x();m==null&&(m=0,d.replaceState({...d.state,idx:m},""));function x(){return(d.state||{idx:null}).idx}function p(){u="POP";let j=x(),N=j==null?null:j-m;m=j,h&&h({action:u,location:_.location,delta:N})}function w(j,N){u="PUSH";let S=Ff(_.location,j,N);m=x()+1;let k=w0(S,m),P=_.createHref(S);try{d.pushState(k,"",P)}catch(z){if(z instanceof DOMException&&z.name==="DataCloneError")throw z;i.location.assign(P)}l&&h&&h({action:u,location:_.location,delta:1})}function b(j,N){u="REPLACE";let S=Ff(_.location,j,N);m=x();let k=w0(S,m),P=_.createHref(S);d.replaceState(k,"",P),l&&h&&h({action:u,location:_.location,delta:0})}function E(j){return gN(j)}let _={get action(){return u},get location(){return t(i,d)},listen(j){if(h)throw new Error("A history only accepts one active listener");return i.addEventListener(b0,p),h=j,()=>{i.removeEventListener(b0,p),h=null}},createHref(j){return e(i,j)},createURL:E,encodeLocation(j){let N=E(j);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:w,replace:b,go(j){return d.go(j)}};return _}function gN(t,e=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),yt(r,"No window.location.(origin|href) available to create URL");let o=typeof t=="string"?t:Nl(t);return o=o.replace(/ $/,"%20"),!e&&o.startsWith("//")&&(o=r+o),new URL(o,r)}function wy(t,e,r="/"){return xN(t,e,r,!1)}function xN(t,e,r,o){let i=typeof e=="string"?wi(e):e,l=ys(i.pathname||"/",r);if(l==null)return null;let d=jy(t);vN(d);let u=null;for(let h=0;u==null&&h<d.length;++h){let m=RN(l);u=CN(d[h],m,o)}return u}function jy(t,e=[],r=[],o="",i=!1){let l=(d,u,h=i,m)=>{let x={relativePath:m===void 0?d.path||"":m,caseSensitive:d.caseSensitive===!0,childrenIndex:u,route:d};if(x.relativePath.startsWith("/")){if(!x.relativePath.startsWith(o)&&h)return;yt(x.relativePath.startsWith(o),`Absolute route path "${x.relativePath}" nested under path "${o}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),x.relativePath=x.relativePath.slice(o.length)}let p=gs([o,x.relativePath]),w=r.concat(x);d.children&&d.children.length>0&&(yt(d.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),jy(d.children,e,w,p,h)),!(d.path==null&&!d.index)&&e.push({path:p,score:NN(p,d.index),routesMeta:w})};return t.forEach((d,u)=>{var h;if(d.path===""||!((h=d.path)!=null&&h.includes("?")))l(d,u);else for(let m of _y(d.path))l(d,u,!0,m)}),e}function _y(t){let e=t.split("/");if(e.length===0)return[];let[r,...o]=e,i=r.endsWith("?"),l=r.replace(/\?$/,"");if(o.length===0)return i?[l,""]:[l];let d=_y(o.join("/")),u=[];return u.push(...d.map(h=>h===""?l:[l,h].join("/"))),i&&u.push(...d),u.map(h=>t.startsWith("/")&&h===""?"/":h)}function vN(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:SN(e.routesMeta.map(o=>o.childrenIndex),r.routesMeta.map(o=>o.childrenIndex)))}var yN=/^:[\w-]+$/,bN=3,wN=2,jN=1,_N=10,EN=-2,j0=t=>t==="*";function NN(t,e){let r=t.split("/"),o=r.length;return r.some(j0)&&(o+=EN),e&&(o+=wN),r.filter(i=>!j0(i)).reduce((i,l)=>i+(yN.test(l)?bN:l===""?jN:_N),o)}function SN(t,e){return t.length===e.length&&t.slice(0,-1).every((o,i)=>o===e[i])?t[t.length-1]-e[e.length-1]:0}function CN(t,e,r=!1){let{routesMeta:o}=t,i={},l="/",d=[];for(let u=0;u<o.length;++u){let h=o[u],m=u===o.length-1,x=l==="/"?e:e.slice(l.length)||"/",p=$d({path:h.relativePath,caseSensitive:h.caseSensitive,end:m},x),w=h.route;if(!p&&m&&r&&!o[o.length-1].route.index&&(p=$d({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},x)),!p)return null;Object.assign(i,p.params),d.push({params:i,pathname:gs([l,p.pathname]),pathnameBase:ON(gs([l,p.pathnameBase])),route:w}),p.pathnameBase!=="/"&&(l=gs([l,p.pathnameBase]))}return d}function $d(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,o]=kN(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let l=i[0],d=l.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:o.reduce((m,{paramName:x,isOptional:p},w)=>{if(x==="*"){let E=u[w]||"";d=l.slice(0,l.length-E.length).replace(/(.)\/+$/,"$1")}const b=u[w];return p&&!b?m[x]=void 0:m[x]=(b||"").replace(/%2F/g,"/"),m},{}),pathname:l,pathnameBase:d,pattern:t}}function kN(t,e=!1,r=!0){en(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let o=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,u,h)=>(o.push({paramName:u,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(o.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),o]}function RN(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return en(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function ys(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,o=t.charAt(r);return o&&o!=="/"?null:t.slice(r)||"/"}function AN(t,e="/"){let{pathname:r,search:o="",hash:i=""}=typeof t=="string"?wi(t):t;return{pathname:r?r.startsWith("/")?r:PN(r,e):e,search:IN(o),hash:DN(i)}}function PN(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function gf(t,e,r,o){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(o)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function TN(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function $m(t){let e=TN(t);return e.map((r,o)=>o===e.length-1?r.pathname:r.pathnameBase)}function Bm(t,e,r,o=!1){let i;typeof t=="string"?i=wi(t):(i={...t},yt(!i.pathname||!i.pathname.includes("?"),gf("?","pathname","search",i)),yt(!i.pathname||!i.pathname.includes("#"),gf("#","pathname","hash",i)),yt(!i.search||!i.search.includes("#"),gf("#","search","hash",i)));let l=t===""||i.pathname==="",d=l?"/":i.pathname,u;if(d==null)u=r;else{let p=e.length-1;if(!o&&d.startsWith("..")){let w=d.split("/");for(;w[0]==="..";)w.shift(),p-=1;i.pathname=w.join("/")}u=p>=0?e[p]:"/"}let h=AN(i,u),m=d&&d!=="/"&&d.endsWith("/"),x=(l||d===".")&&r.endsWith("/");return!h.pathname.endsWith("/")&&(m||x)&&(h.pathname+="/"),h}var gs=t=>t.join("/").replace(/\/\/+/g,"/"),ON=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),IN=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,DN=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function MN(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var Ey=["POST","PUT","PATCH","DELETE"];new Set(Ey);var LN=["GET",...Ey];new Set(LN);var ji=y.createContext(null);ji.displayName="DataRouter";var au=y.createContext(null);au.displayName="DataRouterState";y.createContext(!1);var Ny=y.createContext({isTransitioning:!1});Ny.displayName="ViewTransition";var $N=y.createContext(new Map);$N.displayName="Fetchers";var BN=y.createContext(null);BN.displayName="Await";var _n=y.createContext(null);_n.displayName="Navigation";var $l=y.createContext(null);$l.displayName="Location";var En=y.createContext({outlet:null,matches:[],isDataRoute:!1});En.displayName="Route";var Fm=y.createContext(null);Fm.displayName="RouteError";function FN(t,{relative:e}={}){yt(_i(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:o}=y.useContext(_n),{hash:i,pathname:l,search:d}=Bl(t,{relative:e}),u=l;return r!=="/"&&(u=l==="/"?r:gs([r,l])),o.createHref({pathname:u,search:d,hash:i})}function _i(){return y.useContext($l)!=null}function Nn(){return yt(_i(),"useLocation() may be used only in the context of a <Router> component."),y.useContext($l).location}var Sy="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Cy(t){y.useContext(_n).static||y.useLayoutEffect(t)}function Ht(){let{isDataRoute:t}=y.useContext(En);return t?eS():zN()}function zN(){yt(_i(),"useNavigate() may be used only in the context of a <Router> component.");let t=y.useContext(ji),{basename:e,navigator:r}=y.useContext(_n),{matches:o}=y.useContext(En),{pathname:i}=Nn(),l=JSON.stringify($m(o)),d=y.useRef(!1);return Cy(()=>{d.current=!0}),y.useCallback((h,m={})=>{if(en(d.current,Sy),!d.current)return;if(typeof h=="number"){r.go(h);return}let x=Bm(h,JSON.parse(l),i,m.relative==="path");t==null&&e!=="/"&&(x.pathname=x.pathname==="/"?e:gs([e,x.pathname])),(m.replace?r.replace:r.push)(x,m.state,m)},[e,r,l,i,t])}y.createContext(null);function UN(){let{matches:t}=y.useContext(En),e=t[t.length-1];return e?e.params:{}}function Bl(t,{relative:e}={}){let{matches:r}=y.useContext(En),{pathname:o}=Nn(),i=JSON.stringify($m(r));return y.useMemo(()=>Bm(t,JSON.parse(i),o,e==="path"),[t,i,o,e])}function qN(t,e){return ky(t,e)}function ky(t,e,r,o,i){var S;yt(_i(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=y.useContext(_n),{matches:d}=y.useContext(En),u=d[d.length-1],h=u?u.params:{},m=u?u.pathname:"/",x=u?u.pathnameBase:"/",p=u&&u.route;{let k=p&&p.path||"";Ry(m,!p||k.endsWith("*")||k.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${k}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${k}"> to <Route path="${k==="/"?"*":`${k}/*`}">.`)}let w=Nn(),b;if(e){let k=typeof e=="string"?wi(e):e;yt(x==="/"||((S=k.pathname)==null?void 0:S.startsWith(x)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${x}" but pathname "${k.pathname}" was given in the \`location\` prop.`),b=k}else b=w;let E=b.pathname||"/",_=E;if(x!=="/"){let k=x.replace(/^\//,"").split("/");_="/"+E.replace(/^\//,"").split("/").slice(k.length).join("/")}let j=wy(t,{pathname:_});en(p||j!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),en(j==null||j[j.length-1].route.element!==void 0||j[j.length-1].route.Component!==void 0||j[j.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let N=GN(j&&j.map(k=>Object.assign({},k,{params:Object.assign({},h,k.params),pathname:gs([x,l.encodeLocation?l.encodeLocation(k.pathname).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?x:gs([x,l.encodeLocation?l.encodeLocation(k.pathnameBase).pathname:k.pathnameBase])})),d,r,o,i);return e&&N?y.createElement($l.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},N):N}function WN(){let t=ZN(),e=MN(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,o="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:o},l={padding:"2px 4px",backgroundColor:o},d=null;return console.error("Error handled by React Router default ErrorBoundary:",t),d=y.createElement(y.Fragment,null,y.createElement("p",null," Hey developer "),y.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",y.createElement("code",{style:l},"ErrorBoundary")," or"," ",y.createElement("code",{style:l},"errorElement")," prop on your route.")),y.createElement(y.Fragment,null,y.createElement("h2",null,"Unexpected Application Error!"),y.createElement("h3",{style:{fontStyle:"italic"}},e),r?y.createElement("pre",{style:i},r):null,d)}var VN=y.createElement(WN,null),HN=class extends y.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?y.createElement(En.Provider,{value:this.props.routeContext},y.createElement(Fm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function KN({routeContext:t,match:e,children:r}){let o=y.useContext(ji);return o&&o.static&&o.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=e.route.id),y.createElement(En.Provider,{value:t},r)}function GN(t,e=[],r=null,o=null,i=null){if(t==null){if(!r)return null;if(r.errors)t=r.matches;else if(e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let l=t,d=r==null?void 0:r.errors;if(d!=null){let m=l.findIndex(x=>x.route.id&&(d==null?void 0:d[x.route.id])!==void 0);yt(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(d).join(",")}`),l=l.slice(0,Math.min(l.length,m+1))}let u=!1,h=-1;if(r)for(let m=0;m<l.length;m++){let x=l[m];if((x.route.HydrateFallback||x.route.hydrateFallbackElement)&&(h=m),x.route.id){let{loaderData:p,errors:w}=r,b=x.route.loader&&!p.hasOwnProperty(x.route.id)&&(!w||w[x.route.id]===void 0);if(x.route.lazy||b){u=!0,h>=0?l=l.slice(0,h+1):l=[l[0]];break}}}return l.reduceRight((m,x,p)=>{let w,b=!1,E=null,_=null;r&&(w=d&&x.route.id?d[x.route.id]:void 0,E=x.route.errorElement||VN,u&&(h<0&&p===0?(Ry("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,_=null):h===p&&(b=!0,_=x.route.hydrateFallbackElement||null)));let j=e.concat(l.slice(0,p+1)),N=()=>{let S;return w?S=E:b?S=_:x.route.Component?S=y.createElement(x.route.Component,null):x.route.element?S=x.route.element:S=m,y.createElement(KN,{match:x,routeContext:{outlet:m,matches:j,isDataRoute:r!=null},children:S})};return r&&(x.route.ErrorBoundary||x.route.errorElement||p===0)?y.createElement(HN,{location:r.location,revalidation:r.revalidation,component:E,error:w,children:N(),routeContext:{outlet:null,matches:j,isDataRoute:!0},unstable_onError:o}):N()},null)}function zm(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function QN(t){let e=y.useContext(ji);return yt(e,zm(t)),e}function JN(t){let e=y.useContext(au);return yt(e,zm(t)),e}function YN(t){let e=y.useContext(En);return yt(e,zm(t)),e}function Um(t){let e=YN(t),r=e.matches[e.matches.length-1];return yt(r.route.id,`${t} can only be used on routes that contain a unique "id"`),r.route.id}function XN(){return Um("useRouteId")}function ZN(){var o;let t=y.useContext(Fm),e=JN("useRouteError"),r=Um("useRouteError");return t!==void 0?t:(o=e.errors)==null?void 0:o[r]}function eS(){let{router:t}=QN("useNavigate"),e=Um("useNavigate"),r=y.useRef(!1);return Cy(()=>{r.current=!0}),y.useCallback(async(i,l={})=>{en(r.current,Sy),r.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...l}))},[t,e])}var _0={};function Ry(t,e,r){!e&&!_0[t]&&(_0[t]=!0,en(!1,r))}y.memo(tS);function tS({routes:t,future:e,state:r,unstable_onError:o}){return ky(t,void 0,r,o,e)}function Ay({to:t,replace:e,state:r,relative:o}){yt(_i(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=y.useContext(_n);en(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=y.useContext(En),{pathname:d}=Nn(),u=Ht(),h=Bm(t,$m(l),d,o==="path"),m=JSON.stringify(h);return y.useEffect(()=>{u(JSON.parse(m),{replace:e,state:r,relative:o})},[u,m,o,e,r]),null}function Wt(t){yt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function rS({basename:t="/",children:e=null,location:r,navigationType:o="POP",navigator:i,static:l=!1}){yt(!_i(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=t.replace(/^\/*/,"/"),u=y.useMemo(()=>({basename:d,navigator:i,static:l,future:{}}),[d,i,l]);typeof r=="string"&&(r=wi(r));let{pathname:h="/",search:m="",hash:x="",state:p=null,key:w="default"}=r,b=y.useMemo(()=>{let E=ys(h,d);return E==null?null:{location:{pathname:E,search:m,hash:x,state:p,key:w},navigationType:o}},[d,h,m,x,p,w,o]);return en(b!=null,`<Router basename="${d}"> is not able to match the URL "${h}${m}${x}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:y.createElement(_n.Provider,{value:u},y.createElement($l.Provider,{children:e,value:b}))}function E0({children:t,location:e}){return qN(zf(t),e)}function zf(t,e=[]){let r=[];return y.Children.forEach(t,(o,i)=>{if(!y.isValidElement(o))return;let l=[...e,i];if(o.type===y.Fragment){r.push.apply(r,zf(o.props.children,l));return}yt(o.type===Wt,`[${typeof o.type=="string"?o.type:o.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),yt(!o.props.index||!o.props.children,"An index route cannot have child routes.");let d={id:o.props.id||l.join("-"),caseSensitive:o.props.caseSensitive,element:o.props.element,Component:o.props.Component,index:o.props.index,path:o.props.path,loader:o.props.loader,action:o.props.action,hydrateFallbackElement:o.props.hydrateFallbackElement,HydrateFallback:o.props.HydrateFallback,errorElement:o.props.errorElement,ErrorBoundary:o.props.ErrorBoundary,hasErrorBoundary:o.props.hasErrorBoundary===!0||o.props.ErrorBoundary!=null||o.props.errorElement!=null,shouldRevalidate:o.props.shouldRevalidate,handle:o.props.handle,lazy:o.props.lazy};o.props.children&&(d.children=zf(o.props.children,l)),r.push(d)}),r}var Sd="get",Cd="application/x-www-form-urlencoded";function iu(t){return t!=null&&typeof t.tagName=="string"}function nS(t){return iu(t)&&t.tagName.toLowerCase()==="button"}function sS(t){return iu(t)&&t.tagName.toLowerCase()==="form"}function oS(t){return iu(t)&&t.tagName.toLowerCase()==="input"}function aS(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function iS(t,e){return t.button===0&&(!e||e==="_self")&&!aS(t)}function Uf(t=""){return new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,r)=>{let o=t[r];return e.concat(Array.isArray(o)?o.map(i=>[r,i]):[[r,o]])},[]))}function lS(t,e){let r=Uf(t);return e&&e.forEach((o,i)=>{r.has(i)||e.getAll(i).forEach(l=>{r.append(i,l)})}),r}var td=null;function cS(){if(td===null)try{new FormData(document.createElement("form"),0),td=!1}catch{td=!0}return td}var dS=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function xf(t){return t!=null&&!dS.has(t)?(en(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Cd}"`),null):t}function uS(t,e){let r,o,i,l,d;if(sS(t)){let u=t.getAttribute("action");o=u?ys(u,e):null,r=t.getAttribute("method")||Sd,i=xf(t.getAttribute("enctype"))||Cd,l=new FormData(t)}else if(nS(t)||oS(t)&&(t.type==="submit"||t.type==="image")){let u=t.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=t.getAttribute("formaction")||u.getAttribute("action");if(o=h?ys(h,e):null,r=t.getAttribute("formmethod")||u.getAttribute("method")||Sd,i=xf(t.getAttribute("formenctype"))||xf(u.getAttribute("enctype"))||Cd,l=new FormData(u,t),!cS()){let{name:m,type:x,value:p}=t;if(x==="image"){let w=m?`${m}.`:"";l.append(`${w}x`,"0"),l.append(`${w}y`,"0")}else m&&l.append(m,p)}}else{if(iu(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Sd,o=null,i=Cd,d=t}return l&&i==="text/plain"&&(d=l,l=void 0),{action:o,method:r.toLowerCase(),encType:i,formData:l,body:d}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function qm(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function hS(t,e,r){let o=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return o.pathname==="/"?o.pathname=`_root.${r}`:e&&ys(o.pathname,e)==="/"?o.pathname=`${e.replace(/\/$/,"")}/_root.${r}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${r}`,o}async function fS(t,e){if(t.id in e)return e[t.id];try{let r=await import(t.module);return e[t.id]=r,r}catch(r){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function mS(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function pS(t,e,r){let o=await Promise.all(t.map(async i=>{let l=e.routes[i.route.id];if(l){let d=await fS(l,r);return d.links?d.links():[]}return[]}));return yS(o.flat(1).filter(mS).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function N0(t,e,r,o,i,l){let d=(h,m)=>r[m]?h.route.id!==r[m].route.id:!0,u=(h,m)=>{var x;return r[m].pathname!==h.pathname||((x=r[m].route.path)==null?void 0:x.endsWith("*"))&&r[m].params["*"]!==h.params["*"]};return l==="assets"?e.filter((h,m)=>d(h,m)||u(h,m)):l==="data"?e.filter((h,m)=>{var p;let x=o.routes[h.route.id];if(!x||!x.hasLoader)return!1;if(d(h,m)||u(h,m))return!0;if(h.route.shouldRevalidate){let w=h.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((p=r[0])==null?void 0:p.params)||{},nextUrl:new URL(t,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function gS(t,e,{includeHydrateFallback:r}={}){return xS(t.map(o=>{let i=e.routes[o.route.id];if(!i)return[];let l=[i.module];return i.clientActionModule&&(l=l.concat(i.clientActionModule)),i.clientLoaderModule&&(l=l.concat(i.clientLoaderModule)),r&&i.hydrateFallbackModule&&(l=l.concat(i.hydrateFallbackModule)),i.imports&&(l=l.concat(i.imports)),l}).flat(1))}function xS(t){return[...new Set(t)]}function vS(t){let e={},r=Object.keys(t).sort();for(let o of r)e[o]=t[o];return e}function yS(t,e){let r=new Set;return new Set(e),t.reduce((o,i)=>{let l=JSON.stringify(vS(i));return r.has(l)||(r.add(l),o.push({key:l,link:i})),o},[])}function Py(){let t=y.useContext(ji);return qm(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function bS(){let t=y.useContext(au);return qm(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Wm=y.createContext(void 0);Wm.displayName="FrameworkContext";function Ty(){let t=y.useContext(Wm);return qm(t,"You must render this element inside a <HydratedRouter> element"),t}function wS(t,e){let r=y.useContext(Wm),[o,i]=y.useState(!1),[l,d]=y.useState(!1),{onFocus:u,onBlur:h,onMouseEnter:m,onMouseLeave:x,onTouchStart:p}=e,w=y.useRef(null);y.useEffect(()=>{if(t==="render"&&d(!0),t==="viewport"){let _=N=>{N.forEach(S=>{d(S.isIntersecting)})},j=new IntersectionObserver(_,{threshold:.5});return w.current&&j.observe(w.current),()=>{j.disconnect()}}},[t]),y.useEffect(()=>{if(o){let _=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(_)}}},[o]);let b=()=>{i(!0)},E=()=>{i(!1),d(!1)};return r?t!=="intent"?[l,w,{}]:[l,w,{onFocus:fl(u,b),onBlur:fl(h,E),onMouseEnter:fl(m,b),onMouseLeave:fl(x,E),onTouchStart:fl(p,b)}]:[!1,w,{}]}function fl(t,e){return r=>{t&&t(r),r.defaultPrevented||e(r)}}function jS({page:t,...e}){let{router:r}=Py(),o=y.useMemo(()=>wy(r.routes,t,r.basename),[r.routes,t,r.basename]);return o?y.createElement(ES,{page:t,matches:o,...e}):null}function _S(t){let{manifest:e,routeModules:r}=Ty(),[o,i]=y.useState([]);return y.useEffect(()=>{let l=!1;return pS(t,e,r).then(d=>{l||i(d)}),()=>{l=!0}},[t,e,r]),o}function ES({page:t,matches:e,...r}){let o=Nn(),{manifest:i,routeModules:l}=Ty(),{basename:d}=Py(),{loaderData:u,matches:h}=bS(),m=y.useMemo(()=>N0(t,e,h,i,o,"data"),[t,e,h,i,o]),x=y.useMemo(()=>N0(t,e,h,i,o,"assets"),[t,e,h,i,o]),p=y.useMemo(()=>{if(t===o.pathname+o.search+o.hash)return[];let E=new Set,_=!1;if(e.forEach(N=>{var k;let S=i.routes[N.route.id];!S||!S.hasLoader||(!m.some(P=>P.route.id===N.route.id)&&N.route.id in u&&((k=l[N.route.id])!=null&&k.shouldRevalidate)||S.hasClientLoader?_=!0:E.add(N.route.id))}),E.size===0)return[];let j=hS(t,d,"data");return _&&E.size>0&&j.searchParams.set("_routes",e.filter(N=>E.has(N.route.id)).map(N=>N.route.id).join(",")),[j.pathname+j.search]},[d,u,o,i,m,e,t,l]),w=y.useMemo(()=>gS(x,i),[x,i]),b=_S(x);return y.createElement(y.Fragment,null,p.map(E=>y.createElement("link",{key:E,rel:"prefetch",as:"fetch",href:E,...r})),w.map(E=>y.createElement("link",{key:E,rel:"modulepreload",href:E,...r})),b.map(({key:E,link:_})=>y.createElement("link",{key:E,nonce:r.nonce,..._})))}function NS(...t){return e=>{t.forEach(r=>{typeof r=="function"?r(e):r!=null&&(r.current=e)})}}var Oy=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Oy&&(window.__reactRouterVersion="7.9.1")}catch{}function SS({basename:t,children:e,window:r}){let o=y.useRef();o.current==null&&(o.current=fN({window:r,v5Compat:!0}));let i=o.current,[l,d]=y.useState({action:i.action,location:i.location}),u=y.useCallback(h=>{y.startTransition(()=>d(h))},[d]);return y.useLayoutEffect(()=>i.listen(u),[i,u]),y.createElement(rS,{basename:t,children:e,location:l.location,navigationType:l.action,navigator:i})}var Iy=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,hs=y.forwardRef(function({onClick:e,discover:r="render",prefetch:o="none",relative:i,reloadDocument:l,replace:d,state:u,target:h,to:m,preventScrollReset:x,viewTransition:p,...w},b){let{basename:E}=y.useContext(_n),_=typeof m=="string"&&Iy.test(m),j,N=!1;if(typeof m=="string"&&_&&(j=m,Oy))try{let de=new URL(window.location.href),V=m.startsWith("//")?new URL(de.protocol+m):new URL(m),T=ys(V.pathname,E);V.origin===de.origin&&T!=null?m=T+V.search+V.hash:N=!0}catch{en(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let S=FN(m,{relative:i}),[k,P,z]=wS(o,w),A=AS(m,{replace:d,state:u,target:h,preventScrollReset:x,relative:i,viewTransition:p});function q(de){e&&e(de),de.defaultPrevented||A(de)}let K=y.createElement("a",{...w,...z,href:j||S,onClick:N||l?e:q,ref:NS(b,P),target:h,"data-discover":!_&&r==="render"?"true":void 0});return k&&!_?y.createElement(y.Fragment,null,K,y.createElement(jS,{page:S})):K});hs.displayName="Link";var CS=y.forwardRef(function({"aria-current":e="page",caseSensitive:r=!1,className:o="",end:i=!1,style:l,to:d,viewTransition:u,children:h,...m},x){let p=Bl(d,{relative:m.relative}),w=Nn(),b=y.useContext(au),{navigator:E,basename:_}=y.useContext(_n),j=b!=null&&DS(p)&&u===!0,N=E.encodeLocation?E.encodeLocation(p).pathname:p.pathname,S=w.pathname,k=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;r||(S=S.toLowerCase(),k=k?k.toLowerCase():null,N=N.toLowerCase()),k&&_&&(k=ys(k,_)||k);const P=N!=="/"&&N.endsWith("/")?N.length-1:N.length;let z=S===N||!i&&S.startsWith(N)&&S.charAt(P)==="/",A=k!=null&&(k===N||!i&&k.startsWith(N)&&k.charAt(N.length)==="/"),q={isActive:z,isPending:A,isTransitioning:j},K=z?e:void 0,de;typeof o=="function"?de=o(q):de=[o,z?"active":null,A?"pending":null,j?"transitioning":null].filter(Boolean).join(" ");let V=typeof l=="function"?l(q):l;return y.createElement(hs,{...m,"aria-current":K,className:de,ref:x,style:V,to:d,viewTransition:u},typeof h=="function"?h(q):h)});CS.displayName="NavLink";var kS=y.forwardRef(({discover:t="render",fetcherKey:e,navigate:r,reloadDocument:o,replace:i,state:l,method:d=Sd,action:u,onSubmit:h,relative:m,preventScrollReset:x,viewTransition:p,...w},b)=>{let E=OS(),_=IS(u,{relative:m}),j=d.toLowerCase()==="get"?"get":"post",N=typeof u=="string"&&Iy.test(u),S=k=>{if(h&&h(k),k.defaultPrevented)return;k.preventDefault();let P=k.nativeEvent.submitter,z=(P==null?void 0:P.getAttribute("formmethod"))||d;E(P||k.currentTarget,{fetcherKey:e,method:z,navigate:r,replace:i,state:l,relative:m,preventScrollReset:x,viewTransition:p})};return y.createElement("form",{ref:b,method:j,action:_,onSubmit:o?h:S,...w,"data-discover":!N&&t==="render"?"true":void 0})});kS.displayName="Form";function RS(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Dy(t){let e=y.useContext(ji);return yt(e,RS(t)),e}function AS(t,{target:e,replace:r,state:o,preventScrollReset:i,relative:l,viewTransition:d}={}){let u=Ht(),h=Nn(),m=Bl(t,{relative:l});return y.useCallback(x=>{if(iS(x,e)){x.preventDefault();let p=r!==void 0?r:Nl(h)===Nl(m);u(t,{replace:p,state:o,preventScrollReset:i,relative:l,viewTransition:d})}},[h,u,m,r,o,e,t,i,l,d])}function My(t){en(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=y.useRef(Uf(t)),r=y.useRef(!1),o=Nn(),i=y.useMemo(()=>lS(o.search,r.current?null:e.current),[o.search]),l=Ht(),d=y.useCallback((u,h)=>{const m=Uf(typeof u=="function"?u(new URLSearchParams(i)):u);r.current=!0,l("?"+m,h)},[l,i]);return[i,d]}var PS=0,TS=()=>`__${String(++PS)}__`;function OS(){let{router:t}=Dy("useSubmit"),{basename:e}=y.useContext(_n),r=XN();return y.useCallback(async(o,i={})=>{let{action:l,method:d,encType:u,formData:h,body:m}=uS(o,e);if(i.navigate===!1){let x=i.fetcherKey||TS();await t.fetch(x,r,i.action||l,{preventScrollReset:i.preventScrollReset,formData:h,body:m,formMethod:i.method||d,formEncType:i.encType||u,flushSync:i.flushSync})}else await t.navigate(i.action||l,{preventScrollReset:i.preventScrollReset,formData:h,body:m,formMethod:i.method||d,formEncType:i.encType||u,replace:i.replace,state:i.state,fromRouteId:r,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,r])}function IS(t,{relative:e}={}){let{basename:r}=y.useContext(_n),o=y.useContext(En);yt(o,"useFormAction must be used inside a RouteContext");let[i]=o.matches.slice(-1),l={...Bl(t||".",{relative:e})},d=Nn();if(t==null){l.search=d.search;let u=new URLSearchParams(l.search),h=u.getAll("index");if(h.some(x=>x==="")){u.delete("index"),h.filter(p=>p).forEach(p=>u.append("index",p));let x=u.toString();l.search=x?`?${x}`:""}}return(!t||t===".")&&i.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(l.pathname=l.pathname==="/"?r:gs([r,l.pathname])),Nl(l)}function DS(t,{relative:e}={}){let r=y.useContext(Ny);yt(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:o}=Dy("useViewTransitionState"),i=Bl(t,{relative:e});if(!r.isTransitioning)return!1;let l=ys(r.currentLocation.pathname,o)||r.currentLocation.pathname,d=ys(r.nextLocation.pathname,o)||r.nextLocation.pathname;return $d(i.pathname,d)!=null||$d(i.pathname,l)!=null}var Fl=by();const Ly=ou(Fl);function MS(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}const LS=t=>{switch(t){case"success":return FS;case"info":return US;case"warning":return zS;case"error":return qS;default:return null}},$S=Array(12).fill(0),BS=({visible:t,className:e})=>xe.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},xe.createElement("div",{className:"sonner-spinner"},$S.map((r,o)=>xe.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${o}`})))),FS=xe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},xe.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),zS=xe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},xe.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),US=xe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},xe.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),qS=xe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},xe.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),WS=xe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},xe.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),xe.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),VS=()=>{const[t,e]=xe.useState(document.hidden);return xe.useEffect(()=>{const r=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),t};let qf=1;class HS{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const r=this.subscribers.indexOf(e);this.subscribers.splice(r,1)}),this.publish=e=>{this.subscribers.forEach(r=>r(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var r;const{message:o,...i}=e,l=typeof(e==null?void 0:e.id)=="number"||((r=e.id)==null?void 0:r.length)>0?e.id:qf++,d=this.toasts.find(h=>h.id===l),u=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(l)&&this.dismissedToasts.delete(l),d?this.toasts=this.toasts.map(h=>h.id===l?(this.publish({...h,...e,id:l,title:o}),{...h,...e,id:l,dismissible:u,title:o}):h):this.addToast({title:o,...i,dismissible:u,id:l}),l},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(r=>r({id:e,dismiss:!0})))):this.toasts.forEach(r=>{this.subscribers.forEach(o=>o({id:r.id,dismiss:!0}))}),e),this.message=(e,r)=>this.create({...r,message:e}),this.error=(e,r)=>this.create({...r,message:e,type:"error"}),this.success=(e,r)=>this.create({...r,type:"success",message:e}),this.info=(e,r)=>this.create({...r,type:"info",message:e}),this.warning=(e,r)=>this.create({...r,type:"warning",message:e}),this.loading=(e,r)=>this.create({...r,type:"loading",message:e}),this.promise=(e,r)=>{if(!r)return;let o;r.loading!==void 0&&(o=this.create({...r,promise:e,type:"loading",message:r.loading,description:typeof r.description!="function"?r.description:void 0}));const i=Promise.resolve(e instanceof Function?e():e);let l=o!==void 0,d;const u=i.then(async m=>{if(d=["resolve",m],xe.isValidElement(m))l=!1,this.create({id:o,type:"default",message:m});else if(GS(m)&&!m.ok){l=!1;const p=typeof r.error=="function"?await r.error(`HTTP error! status: ${m.status}`):r.error,w=typeof r.description=="function"?await r.description(`HTTP error! status: ${m.status}`):r.description,E=typeof p=="object"&&!xe.isValidElement(p)?p:{message:p};this.create({id:o,type:"error",description:w,...E})}else if(m instanceof Error){l=!1;const p=typeof r.error=="function"?await r.error(m):r.error,w=typeof r.description=="function"?await r.description(m):r.description,E=typeof p=="object"&&!xe.isValidElement(p)?p:{message:p};this.create({id:o,type:"error",description:w,...E})}else if(r.success!==void 0){l=!1;const p=typeof r.success=="function"?await r.success(m):r.success,w=typeof r.description=="function"?await r.description(m):r.description,E=typeof p=="object"&&!xe.isValidElement(p)?p:{message:p};this.create({id:o,type:"success",description:w,...E})}}).catch(async m=>{if(d=["reject",m],r.error!==void 0){l=!1;const x=typeof r.error=="function"?await r.error(m):r.error,p=typeof r.description=="function"?await r.description(m):r.description,b=typeof x=="object"&&!xe.isValidElement(x)?x:{message:x};this.create({id:o,type:"error",description:p,...b})}}).finally(()=>{l&&(this.dismiss(o),o=void 0),r.finally==null||r.finally.call(r)}),h=()=>new Promise((m,x)=>u.then(()=>d[0]==="reject"?x(d[1]):m(d[1])).catch(x));return typeof o!="string"&&typeof o!="number"?{unwrap:h}:Object.assign(o,{unwrap:h})},this.custom=(e,r)=>{const o=(r==null?void 0:r.id)||qf++;return this.create({jsx:e(o),id:o,...r}),o},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Tr=new HS,KS=(t,e)=>{const r=(e==null?void 0:e.id)||qf++;return Tr.addToast({title:t,...e,id:r}),r},GS=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",QS=KS,JS=()=>Tr.toasts,YS=()=>Tr.getActiveToasts(),ge=Object.assign(QS,{success:Tr.success,info:Tr.info,warning:Tr.warning,error:Tr.error,custom:Tr.custom,message:Tr.message,promise:Tr.promise,dismiss:Tr.dismiss,loading:Tr.loading},{getHistory:JS,getToasts:YS});MS("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function rd(t){return t.label!==void 0}const XS=3,ZS="24px",e2="16px",S0=4e3,t2=356,r2=14,n2=45,s2=200;function Dn(...t){return t.filter(Boolean).join(" ")}function o2(t){const[e,r]=t.split("-"),o=[];return e&&o.push(e),r&&o.push(r),o}const a2=t=>{var e,r,o,i,l,d,u,h,m;const{invert:x,toast:p,unstyled:w,interacting:b,setHeights:E,visibleToasts:_,heights:j,index:N,toasts:S,expanded:k,removeToast:P,defaultRichColors:z,closeButton:A,style:q,cancelButtonStyle:K,actionButtonStyle:de,className:V="",descriptionClassName:T="",duration:Y,position:te,gap:U,expandByDefault:he,classNames:$,icons:Z,closeButtonAriaLabel:M="Close toast"}=t,[ae,R]=xe.useState(null),[D,L]=xe.useState(null),[F,O]=xe.useState(!1),[ie,ue]=xe.useState(!1),[le,X]=xe.useState(!1),[ye,be]=xe.useState(!1),[Pe,Ae]=xe.useState(!1),[Ue,We]=xe.useState(0),[Rt,Bt]=xe.useState(0),Et=xe.useRef(p.duration||Y||S0),dt=xe.useRef(null),ut=xe.useRef(null),wr=N===0,jr=N+1<=_,it=p.type,Kt=p.dismissible!==!1,Cs=p.className||"",ks=p.descriptionClassName||"",rn=xe.useMemo(()=>j.findIndex(ze=>ze.toastId===p.id)||0,[j,p.id]),kn=xe.useMemo(()=>{var ze;return(ze=p.closeButton)!=null?ze:A},[p.closeButton,A]),ir=xe.useMemo(()=>p.duration||Y||S0,[p.duration,Y]),Rn=xe.useRef(0),G=xe.useRef(0),I=xe.useRef(0),Q=xe.useRef(null),[se,ce]=te.split("-"),we=xe.useMemo(()=>j.reduce((ze,At,Ft)=>Ft>=rn?ze:ze+At.height,0),[j,rn]),Me=VS(),et=p.invert||x,ot=it==="loading";G.current=xe.useMemo(()=>rn*U+we,[rn,we]),xe.useEffect(()=>{Et.current=ir},[ir]),xe.useEffect(()=>{O(!0)},[]),xe.useEffect(()=>{const ze=ut.current;if(ze){const At=ze.getBoundingClientRect().height;return Bt(At),E(Ft=>[{toastId:p.id,height:At,position:p.position},...Ft]),()=>E(Ft=>Ft.filter(lr=>lr.toastId!==p.id))}},[E,p.id]),xe.useLayoutEffect(()=>{if(!F)return;const ze=ut.current,At=ze.style.height;ze.style.height="auto";const Ft=ze.getBoundingClientRect().height;ze.style.height=At,Bt(Ft),E(lr=>lr.find(Ot=>Ot.toastId===p.id)?lr.map(Ot=>Ot.toastId===p.id?{...Ot,height:Ft}:Ot):[{toastId:p.id,height:Ft,position:p.position},...lr])},[F,p.title,p.description,E,p.id,p.jsx,p.action,p.cancel]);const Ke=xe.useCallback(()=>{ue(!0),We(G.current),E(ze=>ze.filter(At=>At.toastId!==p.id)),setTimeout(()=>{P(p)},s2)},[p,P,E,G]);xe.useEffect(()=>{if(p.promise&&it==="loading"||p.duration===1/0||p.type==="loading")return;let ze;return k||b||Me?(()=>{if(I.current<Rn.current){const lr=new Date().getTime()-Rn.current;Et.current=Et.current-lr}I.current=new Date().getTime()})():(()=>{Et.current!==1/0&&(Rn.current=new Date().getTime(),ze=setTimeout(()=>{p.onAutoClose==null||p.onAutoClose.call(p,p),Ke()},Et.current))})(),()=>clearTimeout(ze)},[k,b,p,it,Me,Ke]),xe.useEffect(()=>{p.delete&&(Ke(),p.onDismiss==null||p.onDismiss.call(p,p))},[Ke,p.delete]);function pt(){var ze;if(Z!=null&&Z.loading){var At;return xe.createElement("div",{className:Dn($==null?void 0:$.loader,p==null||(At=p.classNames)==null?void 0:At.loader,"sonner-loader"),"data-visible":it==="loading"},Z.loading)}return xe.createElement(BS,{className:Dn($==null?void 0:$.loader,p==null||(ze=p.classNames)==null?void 0:ze.loader),visible:it==="loading"})}const Nt=p.icon||(Z==null?void 0:Z[it])||LS(it);var nn,No;return xe.createElement("li",{tabIndex:0,ref:ut,className:Dn(V,Cs,$==null?void 0:$.toast,p==null||(e=p.classNames)==null?void 0:e.toast,$==null?void 0:$.default,$==null?void 0:$[it],p==null||(r=p.classNames)==null?void 0:r[it]),"data-sonner-toast":"","data-rich-colors":(nn=p.richColors)!=null?nn:z,"data-styled":!(p.jsx||p.unstyled||w),"data-mounted":F,"data-promise":!!p.promise,"data-swiped":Pe,"data-removed":ie,"data-visible":jr,"data-y-position":se,"data-x-position":ce,"data-index":N,"data-front":wr,"data-swiping":le,"data-dismissible":Kt,"data-type":it,"data-invert":et,"data-swipe-out":ye,"data-swipe-direction":D,"data-expanded":!!(k||he&&F),"data-testid":p.testId,style:{"--index":N,"--toasts-before":N,"--z-index":S.length-N,"--offset":`${ie?Ue:G.current}px`,"--initial-height":he?"auto":`${Rt}px`,...q,...p.style},onDragEnd:()=>{X(!1),R(null),Q.current=null},onPointerDown:ze=>{ze.button!==2&&(ot||!Kt||(dt.current=new Date,We(G.current),ze.target.setPointerCapture(ze.pointerId),ze.target.tagName!=="BUTTON"&&(X(!0),Q.current={x:ze.clientX,y:ze.clientY})))},onPointerUp:()=>{var ze,At,Ft;if(ye||!Kt)return;Q.current=null;const lr=Number(((ze=ut.current)==null?void 0:ze.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Rs=Number(((At=ut.current)==null?void 0:At.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Ot=new Date().getTime()-((Ft=dt.current)==null?void 0:Ft.getTime()),Gt=ae==="x"?lr:Rs,As=Math.abs(Gt)/Ot;if(Math.abs(Gt)>=n2||As>.11){We(G.current),p.onDismiss==null||p.onDismiss.call(p,p),L(ae==="x"?lr>0?"right":"left":Rs>0?"down":"up"),Ke(),be(!0);return}else{var tr,Ir;(tr=ut.current)==null||tr.style.setProperty("--swipe-amount-x","0px"),(Ir=ut.current)==null||Ir.style.setProperty("--swipe-amount-y","0px")}Ae(!1),X(!1),R(null)},onPointerMove:ze=>{var At,Ft,lr;if(!Q.current||!Kt||((At=window.getSelection())==null?void 0:At.toString().length)>0)return;const Ot=ze.clientY-Q.current.y,Gt=ze.clientX-Q.current.x;var As;const tr=(As=t.swipeDirections)!=null?As:o2(te);!ae&&(Math.abs(Gt)>1||Math.abs(Ot)>1)&&R(Math.abs(Gt)>Math.abs(Ot)?"x":"y");let Ir={x:0,y:0};const Ps=Wr=>1/(1.5+Math.abs(Wr)/20);if(ae==="y"){if(tr.includes("top")||tr.includes("bottom"))if(tr.includes("top")&&Ot<0||tr.includes("bottom")&&Ot>0)Ir.y=Ot;else{const Wr=Ot*Ps(Ot);Ir.y=Math.abs(Wr)<Math.abs(Ot)?Wr:Ot}}else if(ae==="x"&&(tr.includes("left")||tr.includes("right")))if(tr.includes("left")&&Gt<0||tr.includes("right")&&Gt>0)Ir.x=Gt;else{const Wr=Gt*Ps(Gt);Ir.x=Math.abs(Wr)<Math.abs(Gt)?Wr:Gt}(Math.abs(Ir.x)>0||Math.abs(Ir.y)>0)&&Ae(!0),(Ft=ut.current)==null||Ft.style.setProperty("--swipe-amount-x",`${Ir.x}px`),(lr=ut.current)==null||lr.style.setProperty("--swipe-amount-y",`${Ir.y}px`)}},kn&&!p.jsx&&it!=="loading"?xe.createElement("button",{"aria-label":M,"data-disabled":ot,"data-close-button":!0,onClick:ot||!Kt?()=>{}:()=>{Ke(),p.onDismiss==null||p.onDismiss.call(p,p)},className:Dn($==null?void 0:$.closeButton,p==null||(o=p.classNames)==null?void 0:o.closeButton)},(No=Z==null?void 0:Z.close)!=null?No:WS):null,(it||p.icon||p.promise)&&p.icon!==null&&((Z==null?void 0:Z[it])!==null||p.icon)?xe.createElement("div",{"data-icon":"",className:Dn($==null?void 0:$.icon,p==null||(i=p.classNames)==null?void 0:i.icon)},p.promise||p.type==="loading"&&!p.icon?p.icon||pt():null,p.type!=="loading"?Nt:null):null,xe.createElement("div",{"data-content":"",className:Dn($==null?void 0:$.content,p==null||(l=p.classNames)==null?void 0:l.content)},xe.createElement("div",{"data-title":"",className:Dn($==null?void 0:$.title,p==null||(d=p.classNames)==null?void 0:d.title)},p.jsx?p.jsx:typeof p.title=="function"?p.title():p.title),p.description?xe.createElement("div",{"data-description":"",className:Dn(T,ks,$==null?void 0:$.description,p==null||(u=p.classNames)==null?void 0:u.description)},typeof p.description=="function"?p.description():p.description):null),xe.isValidElement(p.cancel)?p.cancel:p.cancel&&rd(p.cancel)?xe.createElement("button",{"data-button":!0,"data-cancel":!0,style:p.cancelButtonStyle||K,onClick:ze=>{rd(p.cancel)&&Kt&&(p.cancel.onClick==null||p.cancel.onClick.call(p.cancel,ze),Ke())},className:Dn($==null?void 0:$.cancelButton,p==null||(h=p.classNames)==null?void 0:h.cancelButton)},p.cancel.label):null,xe.isValidElement(p.action)?p.action:p.action&&rd(p.action)?xe.createElement("button",{"data-button":!0,"data-action":!0,style:p.actionButtonStyle||de,onClick:ze=>{rd(p.action)&&(p.action.onClick==null||p.action.onClick.call(p.action,ze),!ze.defaultPrevented&&Ke())},className:Dn($==null?void 0:$.actionButton,p==null||(m=p.classNames)==null?void 0:m.actionButton)},p.action.label):null)};function C0(){if(typeof window>"u"||typeof document>"u")return"ltr";const t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function i2(t,e){const r={};return[t,e].forEach((o,i)=>{const l=i===1,d=l?"--mobile-offset":"--offset",u=l?e2:ZS;function h(m){["top","right","bottom","left"].forEach(x=>{r[`${d}-${x}`]=typeof m=="number"?`${m}px`:m})}typeof o=="number"||typeof o=="string"?h(o):typeof o=="object"?["top","right","bottom","left"].forEach(m=>{o[m]===void 0?r[`${d}-${m}`]=u:r[`${d}-${m}`]=typeof o[m]=="number"?`${o[m]}px`:o[m]}):h(u)}),r}const l2=xe.forwardRef(function(e,r){const{id:o,invert:i,position:l="bottom-right",hotkey:d=["altKey","KeyT"],expand:u,closeButton:h,className:m,offset:x,mobileOffset:p,theme:w="light",richColors:b,duration:E,style:_,visibleToasts:j=XS,toastOptions:N,dir:S=C0(),gap:k=r2,icons:P,containerAriaLabel:z="Notifications"}=e,[A,q]=xe.useState([]),K=xe.useMemo(()=>o?A.filter(F=>F.toasterId===o):A.filter(F=>!F.toasterId),[A,o]),de=xe.useMemo(()=>Array.from(new Set([l].concat(K.filter(F=>F.position).map(F=>F.position)))),[K,l]),[V,T]=xe.useState([]),[Y,te]=xe.useState(!1),[U,he]=xe.useState(!1),[$,Z]=xe.useState(w!=="system"?w:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),M=xe.useRef(null),ae=d.join("+").replace(/Key/g,"").replace(/Digit/g,""),R=xe.useRef(null),D=xe.useRef(!1),L=xe.useCallback(F=>{q(O=>{var ie;return(ie=O.find(ue=>ue.id===F.id))!=null&&ie.delete||Tr.dismiss(F.id),O.filter(({id:ue})=>ue!==F.id)})},[]);return xe.useEffect(()=>Tr.subscribe(F=>{if(F.dismiss){requestAnimationFrame(()=>{q(O=>O.map(ie=>ie.id===F.id?{...ie,delete:!0}:ie))});return}setTimeout(()=>{Ly.flushSync(()=>{q(O=>{const ie=O.findIndex(ue=>ue.id===F.id);return ie!==-1?[...O.slice(0,ie),{...O[ie],...F},...O.slice(ie+1)]:[F,...O]})})})}),[A]),xe.useEffect(()=>{if(w!=="system"){Z(w);return}if(w==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?Z("dark"):Z("light")),typeof window>"u")return;const F=window.matchMedia("(prefers-color-scheme: dark)");try{F.addEventListener("change",({matches:O})=>{Z(O?"dark":"light")})}catch{F.addListener(({matches:ie})=>{try{Z(ie?"dark":"light")}catch(ue){console.error(ue)}})}},[w]),xe.useEffect(()=>{A.length<=1&&te(!1)},[A]),xe.useEffect(()=>{const F=O=>{var ie;if(d.every(X=>O[X]||O.code===X)){var le;te(!0),(le=M.current)==null||le.focus()}O.code==="Escape"&&(document.activeElement===M.current||(ie=M.current)!=null&&ie.contains(document.activeElement))&&te(!1)};return document.addEventListener("keydown",F),()=>document.removeEventListener("keydown",F)},[d]),xe.useEffect(()=>{if(M.current)return()=>{R.current&&(R.current.focus({preventScroll:!0}),R.current=null,D.current=!1)}},[M.current]),xe.createElement("section",{ref:r,"aria-label":`${z} ${ae}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},de.map((F,O)=>{var ie;const[ue,le]=F.split("-");return K.length?xe.createElement("ol",{key:F,dir:S==="auto"?C0():S,tabIndex:-1,ref:M,className:m,"data-sonner-toaster":!0,"data-sonner-theme":$,"data-y-position":ue,"data-x-position":le,style:{"--front-toast-height":`${((ie=V[0])==null?void 0:ie.height)||0}px`,"--width":`${t2}px`,"--gap":`${k}px`,..._,...i2(x,p)},onBlur:X=>{D.current&&!X.currentTarget.contains(X.relatedTarget)&&(D.current=!1,R.current&&(R.current.focus({preventScroll:!0}),R.current=null))},onFocus:X=>{X.target instanceof HTMLElement&&X.target.dataset.dismissible==="false"||D.current||(D.current=!0,R.current=X.relatedTarget)},onMouseEnter:()=>te(!0),onMouseMove:()=>te(!0),onMouseLeave:()=>{U||te(!1)},onDragEnd:()=>te(!1),onPointerDown:X=>{X.target instanceof HTMLElement&&X.target.dataset.dismissible==="false"||he(!0)},onPointerUp:()=>he(!1)},K.filter(X=>!X.position&&O===0||X.position===F).map((X,ye)=>{var be,Pe;return xe.createElement(a2,{key:X.id,icons:P,index:ye,toast:X,defaultRichColors:b,duration:(be=N==null?void 0:N.duration)!=null?be:E,className:N==null?void 0:N.className,descriptionClassName:N==null?void 0:N.descriptionClassName,invert:i,visibleToasts:j,closeButton:(Pe=N==null?void 0:N.closeButton)!=null?Pe:h,interacting:U,position:F,style:N==null?void 0:N.style,unstyled:N==null?void 0:N.unstyled,classNames:N==null?void 0:N.classNames,cancelButtonStyle:N==null?void 0:N.cancelButtonStyle,actionButtonStyle:N==null?void 0:N.actionButtonStyle,closeButtonAriaLabel:N==null?void 0:N.closeButtonAriaLabel,removeToast:L,toasts:K.filter(Ae=>Ae.position==X.position),heights:V.filter(Ae=>Ae.position==X.position),setHeights:T,expandByDefault:u,gap:k,expanded:Y,swipeDirections:e.swipeDirections})})):null}))});var Ei=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},c2={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},no,Mm,iy,d2=(iy=class{constructor(){De(this,no,c2);De(this,Mm,!1)}setTimeoutProvider(t){je(this,no,t)}setTimeout(t,e){return W(this,no).setTimeout(t,e)}clearTimeout(t){W(this,no).clearTimeout(t)}setInterval(t,e){return W(this,no).setInterval(t,e)}clearInterval(t){W(this,no).clearInterval(t)}},no=new WeakMap,Mm=new WeakMap,iy),Go=new d2;function u2(t){setTimeout(t,0)}var ia=typeof window>"u"||"Deno"in globalThis;function yr(){}function h2(t,e){return typeof t=="function"?t(e):t}function Wf(t){return typeof t=="number"&&t>=0&&t!==1/0}function $y(t,e){return Math.max(t+(e||0)-Date.now(),0)}function po(t,e){return typeof t=="function"?t(e):t}function Xr(t,e){return typeof t=="function"?t(e):t}function k0(t,e){const{type:r="all",exact:o,fetchStatus:i,predicate:l,queryKey:d,stale:u}=t;if(d){if(o){if(e.queryHash!==Vm(d,e.options))return!1}else if(!Sl(e.queryKey,d))return!1}if(r!=="all"){const h=e.isActive();if(r==="active"&&!h||r==="inactive"&&h)return!1}return!(typeof u=="boolean"&&e.isStale()!==u||i&&i!==e.state.fetchStatus||l&&!l(e))}function R0(t,e){const{exact:r,status:o,predicate:i,mutationKey:l}=t;if(l){if(!e.options.mutationKey)return!1;if(r){if(la(e.options.mutationKey)!==la(l))return!1}else if(!Sl(e.options.mutationKey,l))return!1}return!(o&&e.state.status!==o||i&&!i(e))}function Vm(t,e){return((e==null?void 0:e.queryKeyHashFn)||la)(t)}function la(t){return JSON.stringify(t,(e,r)=>Vf(r)?Object.keys(r).sort().reduce((o,i)=>(o[i]=r[i],o),{}):r)}function Sl(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(r=>Sl(t[r],e[r])):!1}var f2=Object.prototype.hasOwnProperty;function By(t,e){if(t===e)return t;const r=A0(t)&&A0(e);if(!r&&!(Vf(t)&&Vf(e)))return e;const i=(r?t:Object.keys(t)).length,l=r?e:Object.keys(e),d=l.length,u=r?new Array(d):{};let h=0;for(let m=0;m<d;m++){const x=r?m:l[m],p=t[x],w=e[x];if(p===w){u[x]=p,(r?m<i:f2.call(t,x))&&h++;continue}if(p===null||w===null||typeof p!="object"||typeof w!="object"){u[x]=w;continue}const b=By(p,w);u[x]=b,b===p&&h++}return i===d&&h===i?t:u}function Bd(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const r in t)if(t[r]!==e[r])return!1;return!0}function A0(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Vf(t){if(!P0(t))return!1;const e=t.constructor;if(e===void 0)return!0;const r=e.prototype;return!(!P0(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function P0(t){return Object.prototype.toString.call(t)==="[object Object]"}function m2(t){return new Promise(e=>{Go.setTimeout(e,t)})}function Hf(t,e,r){return typeof r.structuralSharing=="function"?r.structuralSharing(t,e):r.structuralSharing!==!1?By(t,e):e}function p2(t,e,r=0){const o=[...t,e];return r&&o.length>r?o.slice(1):o}function g2(t,e,r=0){const o=[e,...t];return r&&o.length>r?o.slice(0,-1):o}var Hm=Symbol();function Fy(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===Hm?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function zy(t,e){return typeof t=="function"?t(...e):!!t}var Xo,so,si,ly,x2=(ly=class extends Ei{constructor(){super();De(this,Xo);De(this,so);De(this,si);je(this,si,e=>{if(!ia&&window.addEventListener){const r=()=>e();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){W(this,so)||this.setEventListener(W(this,si))}onUnsubscribe(){var e;this.hasListeners()||((e=W(this,so))==null||e.call(this),je(this,so,void 0))}setEventListener(e){var r;je(this,si,e),(r=W(this,so))==null||r.call(this),je(this,so,e(o=>{typeof o=="boolean"?this.setFocused(o):this.onFocus()}))}setFocused(e){W(this,Xo)!==e&&(je(this,Xo,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(r=>{r(e)})}isFocused(){var e;return typeof W(this,Xo)=="boolean"?W(this,Xo):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Xo=new WeakMap,so=new WeakMap,si=new WeakMap,ly),Km=new x2;function Kf(){let t,e;const r=new Promise((i,l)=>{t=i,e=l});r.status="pending",r.catch(()=>{});function o(i){Object.assign(r,i),delete r.resolve,delete r.reject}return r.resolve=i=>{o({status:"fulfilled",value:i}),t(i)},r.reject=i=>{o({status:"rejected",reason:i}),e(i)},r}var v2=u2;function y2(){let t=[],e=0,r=u=>{u()},o=u=>{u()},i=v2;const l=u=>{e?t.push(u):i(()=>{r(u)})},d=()=>{const u=t;t=[],u.length&&i(()=>{o(()=>{u.forEach(h=>{r(h)})})})};return{batch:u=>{let h;e++;try{h=u()}finally{e--,e||d()}return h},batchCalls:u=>(...h)=>{l(()=>{u(...h)})},schedule:l,setNotifyFunction:u=>{r=u},setBatchNotifyFunction:u=>{o=u},setScheduler:u=>{i=u}}}var Vt=y2(),oi,oo,ai,cy,b2=(cy=class extends Ei{constructor(){super();De(this,oi,!0);De(this,oo);De(this,ai);je(this,ai,e=>{if(!ia&&window.addEventListener){const r=()=>e(!0),o=()=>e(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",o,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",o)}}})}onSubscribe(){W(this,oo)||this.setEventListener(W(this,ai))}onUnsubscribe(){var e;this.hasListeners()||((e=W(this,oo))==null||e.call(this),je(this,oo,void 0))}setEventListener(e){var r;je(this,ai,e),(r=W(this,oo))==null||r.call(this),je(this,oo,e(this.setOnline.bind(this)))}setOnline(e){W(this,oi)!==e&&(je(this,oi,e),this.listeners.forEach(o=>{o(e)}))}isOnline(){return W(this,oi)}},oi=new WeakMap,oo=new WeakMap,ai=new WeakMap,cy),Fd=new b2;function w2(t){return Math.min(1e3*2**t,3e4)}function Uy(t){return(t??"online")==="online"?Fd.isOnline():!0}var Gf=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function qy(t){let e=!1,r=0,o;const i=Kf(),l=()=>i.status!=="pending",d=_=>{var j;if(!l()){const N=new Gf(_);w(N),(j=t.onCancel)==null||j.call(t,N)}},u=()=>{e=!0},h=()=>{e=!1},m=()=>Km.isFocused()&&(t.networkMode==="always"||Fd.isOnline())&&t.canRun(),x=()=>Uy(t.networkMode)&&t.canRun(),p=_=>{l()||(o==null||o(),i.resolve(_))},w=_=>{l()||(o==null||o(),i.reject(_))},b=()=>new Promise(_=>{var j;o=N=>{(l()||m())&&_(N)},(j=t.onPause)==null||j.call(t)}).then(()=>{var _;o=void 0,l()||(_=t.onContinue)==null||_.call(t)}),E=()=>{if(l())return;let _;const j=r===0?t.initialPromise:void 0;try{_=j??t.fn()}catch(N){_=Promise.reject(N)}Promise.resolve(_).then(p).catch(N=>{var A;if(l())return;const S=t.retry??(ia?0:3),k=t.retryDelay??w2,P=typeof k=="function"?k(r,N):k,z=S===!0||typeof S=="number"&&r<S||typeof S=="function"&&S(r,N);if(e||!z){w(N);return}r++,(A=t.onFail)==null||A.call(t,r,N),m2(P).then(()=>m()?void 0:b()).then(()=>{e?w(N):E()})})};return{promise:i,status:()=>i.status,cancel:d,continue:()=>(o==null||o(),i),cancelRetry:u,continueRetry:h,canStart:x,start:()=>(x()?E():b().then(E),i)}}var Zo,dy,Wy=(dy=class{constructor(){De(this,Zo)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Wf(this.gcTime)&&je(this,Zo,Go.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(ia?1/0:300*1e3))}clearGcTimeout(){W(this,Zo)&&(Go.clearTimeout(W(this,Zo)),je(this,Zo,void 0))}},Zo=new WeakMap,dy),ea,ii,Yr,ta,Xt,Tl,ra,pn,is,uy,j2=(uy=class extends Wy{constructor(e){super();De(this,pn);De(this,ea);De(this,ii);De(this,Yr);De(this,ta);De(this,Xt);De(this,Tl);De(this,ra);je(this,ra,!1),je(this,Tl,e.defaultOptions),this.setOptions(e.options),this.observers=[],je(this,ta,e.client),je(this,Yr,W(this,ta).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,je(this,ea,T0(this.options)),this.state=e.state??W(this,ea),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=W(this,Xt))==null?void 0:e.promise}setOptions(e){if(this.options={...W(this,Tl),...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=T0(this.options);r.data!==void 0&&(this.setData(r.data,{updatedAt:r.dataUpdatedAt,manual:!0}),je(this,ea,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&W(this,Yr).remove(this)}setData(e,r){const o=Hf(this.state.data,e,this.options);return Ve(this,pn,is).call(this,{data:o,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),o}setState(e,r){Ve(this,pn,is).call(this,{type:"setState",state:e,setStateOptions:r})}cancel(e){var o,i;const r=(o=W(this,Xt))==null?void 0:o.promise;return(i=W(this,Xt))==null||i.cancel(e),r?r.then(yr).catch(yr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(W(this,ea))}isActive(){return this.observers.some(e=>Xr(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Hm||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>po(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!$y(this.state.dataUpdatedAt,e)}onFocus(){var r;const e=this.observers.find(o=>o.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(r=W(this,Xt))==null||r.continue()}onOnline(){var r;const e=this.observers.find(o=>o.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(r=W(this,Xt))==null||r.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),W(this,Yr).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(r=>r!==e),this.observers.length||(W(this,Xt)&&(W(this,ra)?W(this,Xt).cancel({revert:!0}):W(this,Xt).cancelRetry()),this.scheduleGc()),W(this,Yr).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Ve(this,pn,is).call(this,{type:"invalidate"})}async fetch(e,r){var h,m,x,p,w,b,E,_,j,N,S,k;if(this.state.fetchStatus!=="idle"&&((h=W(this,Xt))==null?void 0:h.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(W(this,Xt))return W(this,Xt).continueRetry(),W(this,Xt).promise}if(e&&this.setOptions(e),!this.options.queryFn){const P=this.observers.find(z=>z.options.queryFn);P&&this.setOptions(P.options)}const o=new AbortController,i=P=>{Object.defineProperty(P,"signal",{enumerable:!0,get:()=>(je(this,ra,!0),o.signal)})},l=()=>{const P=Fy(this.options,r),A=(()=>{const q={client:W(this,ta),queryKey:this.queryKey,meta:this.meta};return i(q),q})();return je(this,ra,!1),this.options.persister?this.options.persister(P,A,this):P(A)},u=(()=>{const P={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:W(this,ta),state:this.state,fetchFn:l};return i(P),P})();(m=this.options.behavior)==null||m.onFetch(u,this),je(this,ii,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((x=u.fetchOptions)==null?void 0:x.meta))&&Ve(this,pn,is).call(this,{type:"fetch",meta:(p=u.fetchOptions)==null?void 0:p.meta}),je(this,Xt,qy({initialPromise:r==null?void 0:r.initialPromise,fn:u.fetchFn,onCancel:P=>{P instanceof Gf&&P.revert&&this.setState({...W(this,ii),fetchStatus:"idle"}),o.abort()},onFail:(P,z)=>{Ve(this,pn,is).call(this,{type:"failed",failureCount:P,error:z})},onPause:()=>{Ve(this,pn,is).call(this,{type:"pause"})},onContinue:()=>{Ve(this,pn,is).call(this,{type:"continue"})},retry:u.options.retry,retryDelay:u.options.retryDelay,networkMode:u.options.networkMode,canRun:()=>!0}));try{const P=await W(this,Xt).start();if(P===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(P),(b=(w=W(this,Yr).config).onSuccess)==null||b.call(w,P,this),(_=(E=W(this,Yr).config).onSettled)==null||_.call(E,P,this.state.error,this),P}catch(P){if(P instanceof Gf){if(P.silent)return W(this,Xt).promise;if(P.revert){if(this.state.data===void 0)throw P;return this.state.data}}throw Ve(this,pn,is).call(this,{type:"error",error:P}),(N=(j=W(this,Yr).config).onError)==null||N.call(j,P,this),(k=(S=W(this,Yr).config).onSettled)==null||k.call(S,this.state.data,P,this),P}finally{this.scheduleGc()}}},ea=new WeakMap,ii=new WeakMap,Yr=new WeakMap,ta=new WeakMap,Xt=new WeakMap,Tl=new WeakMap,ra=new WeakMap,pn=new WeakSet,is=function(e){const r=o=>{switch(e.type){case"failed":return{...o,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...o,fetchStatus:"paused"};case"continue":return{...o,fetchStatus:"fetching"};case"fetch":return{...o,...Vy(o.data,this.options),fetchMeta:e.meta??null};case"success":const i={...o,data:e.data,dataUpdateCount:o.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return je(this,ii,e.manual?i:void 0),i;case"error":const l=e.error;return{...o,error:l,errorUpdateCount:o.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:o.fetchFailureCount+1,fetchFailureReason:l,fetchStatus:"idle",status:"error"};case"invalidate":return{...o,isInvalidated:!0};case"setState":return{...o,...e.state}}};this.state=r(this.state),Vt.batch(()=>{this.observers.forEach(o=>{o.onQueryUpdate()}),W(this,Yr).notify({query:this,type:"updated",action:e})})},uy);function Vy(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Uy(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function T0(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,r=e!==void 0,o=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?o??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Ar,Ye,Ol,xr,na,li,ls,ao,Il,ci,di,sa,oa,io,ui,tt,yl,Qf,Jf,Yf,Xf,Zf,em,tm,Hy,hy,_2=(hy=class extends Ei{constructor(e,r){super();De(this,tt);De(this,Ar);De(this,Ye);De(this,Ol);De(this,xr);De(this,na);De(this,li);De(this,ls);De(this,ao);De(this,Il);De(this,ci);De(this,di);De(this,sa);De(this,oa);De(this,io);De(this,ui,new Set);this.options=r,je(this,Ar,e),je(this,ao,null),je(this,ls,Kf()),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(W(this,Ye).addObserver(this),O0(W(this,Ye),this.options)?Ve(this,tt,yl).call(this):this.updateResult(),Ve(this,tt,Xf).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return rm(W(this,Ye),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return rm(W(this,Ye),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Ve(this,tt,Zf).call(this),Ve(this,tt,em).call(this),W(this,Ye).removeObserver(this)}setOptions(e){const r=this.options,o=W(this,Ye);if(this.options=W(this,Ar).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Xr(this.options.enabled,W(this,Ye))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Ve(this,tt,tm).call(this),W(this,Ye).setOptions(this.options),r._defaulted&&!Bd(this.options,r)&&W(this,Ar).getQueryCache().notify({type:"observerOptionsUpdated",query:W(this,Ye),observer:this});const i=this.hasListeners();i&&I0(W(this,Ye),o,this.options,r)&&Ve(this,tt,yl).call(this),this.updateResult(),i&&(W(this,Ye)!==o||Xr(this.options.enabled,W(this,Ye))!==Xr(r.enabled,W(this,Ye))||po(this.options.staleTime,W(this,Ye))!==po(r.staleTime,W(this,Ye)))&&Ve(this,tt,Qf).call(this);const l=Ve(this,tt,Jf).call(this);i&&(W(this,Ye)!==o||Xr(this.options.enabled,W(this,Ye))!==Xr(r.enabled,W(this,Ye))||l!==W(this,io))&&Ve(this,tt,Yf).call(this,l)}getOptimisticResult(e){const r=W(this,Ar).getQueryCache().build(W(this,Ar),e),o=this.createResult(r,e);return N2(this,o)&&(je(this,xr,o),je(this,li,this.options),je(this,na,W(this,Ye).state)),o}getCurrentResult(){return W(this,xr)}trackResult(e,r){return new Proxy(e,{get:(o,i)=>(this.trackProp(i),r==null||r(i),i==="promise"&&!this.options.experimental_prefetchInRender&&W(this,ls).status==="pending"&&W(this,ls).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),Reflect.get(o,i))})}trackProp(e){W(this,ui).add(e)}getCurrentQuery(){return W(this,Ye)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const r=W(this,Ar).defaultQueryOptions(e),o=W(this,Ar).getQueryCache().build(W(this,Ar),r);return o.fetch().then(()=>this.createResult(o,r))}fetch(e){return Ve(this,tt,yl).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),W(this,xr)))}createResult(e,r){var de;const o=W(this,Ye),i=this.options,l=W(this,xr),d=W(this,na),u=W(this,li),m=e!==o?e.state:W(this,Ol),{state:x}=e;let p={...x},w=!1,b;if(r._optimisticResults){const V=this.hasListeners(),T=!V&&O0(e,r),Y=V&&I0(e,o,r,i);(T||Y)&&(p={...p,...Vy(x.data,e.options)}),r._optimisticResults==="isRestoring"&&(p.fetchStatus="idle")}let{error:E,errorUpdatedAt:_,status:j}=p;b=p.data;let N=!1;if(r.placeholderData!==void 0&&b===void 0&&j==="pending"){let V;l!=null&&l.isPlaceholderData&&r.placeholderData===(u==null?void 0:u.placeholderData)?(V=l.data,N=!0):V=typeof r.placeholderData=="function"?r.placeholderData((de=W(this,di))==null?void 0:de.state.data,W(this,di)):r.placeholderData,V!==void 0&&(j="success",b=Hf(l==null?void 0:l.data,V,r),w=!0)}if(r.select&&b!==void 0&&!N)if(l&&b===(d==null?void 0:d.data)&&r.select===W(this,Il))b=W(this,ci);else try{je(this,Il,r.select),b=r.select(b),b=Hf(l==null?void 0:l.data,b,r),je(this,ci,b),je(this,ao,null)}catch(V){je(this,ao,V)}W(this,ao)&&(E=W(this,ao),b=W(this,ci),_=Date.now(),j="error");const S=p.fetchStatus==="fetching",k=j==="pending",P=j==="error",z=k&&S,A=b!==void 0,K={status:j,fetchStatus:p.fetchStatus,isPending:k,isSuccess:j==="success",isError:P,isInitialLoading:z,isLoading:z,data:b,dataUpdatedAt:p.dataUpdatedAt,error:E,errorUpdatedAt:_,failureCount:p.fetchFailureCount,failureReason:p.fetchFailureReason,errorUpdateCount:p.errorUpdateCount,isFetched:p.dataUpdateCount>0||p.errorUpdateCount>0,isFetchedAfterMount:p.dataUpdateCount>m.dataUpdateCount||p.errorUpdateCount>m.errorUpdateCount,isFetching:S,isRefetching:S&&!k,isLoadingError:P&&!A,isPaused:p.fetchStatus==="paused",isPlaceholderData:w,isRefetchError:P&&A,isStale:Gm(e,r),refetch:this.refetch,promise:W(this,ls),isEnabled:Xr(r.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const V=te=>{K.status==="error"?te.reject(K.error):K.data!==void 0&&te.resolve(K.data)},T=()=>{const te=je(this,ls,K.promise=Kf());V(te)},Y=W(this,ls);switch(Y.status){case"pending":e.queryHash===o.queryHash&&V(Y);break;case"fulfilled":(K.status==="error"||K.data!==Y.value)&&T();break;case"rejected":(K.status!=="error"||K.error!==Y.reason)&&T();break}}return K}updateResult(){const e=W(this,xr),r=this.createResult(W(this,Ye),this.options);if(je(this,na,W(this,Ye).state),je(this,li,this.options),W(this,na).data!==void 0&&je(this,di,W(this,Ye)),Bd(r,e))return;je(this,xr,r);const o=()=>{if(!e)return!0;const{notifyOnChangeProps:i}=this.options,l=typeof i=="function"?i():i;if(l==="all"||!l&&!W(this,ui).size)return!0;const d=new Set(l??W(this,ui));return this.options.throwOnError&&d.add("error"),Object.keys(W(this,xr)).some(u=>{const h=u;return W(this,xr)[h]!==e[h]&&d.has(h)})};Ve(this,tt,Hy).call(this,{listeners:o()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Ve(this,tt,Xf).call(this)}},Ar=new WeakMap,Ye=new WeakMap,Ol=new WeakMap,xr=new WeakMap,na=new WeakMap,li=new WeakMap,ls=new WeakMap,ao=new WeakMap,Il=new WeakMap,ci=new WeakMap,di=new WeakMap,sa=new WeakMap,oa=new WeakMap,io=new WeakMap,ui=new WeakMap,tt=new WeakSet,yl=function(e){Ve(this,tt,tm).call(this);let r=W(this,Ye).fetch(this.options,e);return e!=null&&e.throwOnError||(r=r.catch(yr)),r},Qf=function(){Ve(this,tt,Zf).call(this);const e=po(this.options.staleTime,W(this,Ye));if(ia||W(this,xr).isStale||!Wf(e))return;const o=$y(W(this,xr).dataUpdatedAt,e)+1;je(this,sa,Go.setTimeout(()=>{W(this,xr).isStale||this.updateResult()},o))},Jf=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(W(this,Ye)):this.options.refetchInterval)??!1},Yf=function(e){Ve(this,tt,em).call(this),je(this,io,e),!(ia||Xr(this.options.enabled,W(this,Ye))===!1||!Wf(W(this,io))||W(this,io)===0)&&je(this,oa,Go.setInterval(()=>{(this.options.refetchIntervalInBackground||Km.isFocused())&&Ve(this,tt,yl).call(this)},W(this,io)))},Xf=function(){Ve(this,tt,Qf).call(this),Ve(this,tt,Yf).call(this,Ve(this,tt,Jf).call(this))},Zf=function(){W(this,sa)&&(Go.clearTimeout(W(this,sa)),je(this,sa,void 0))},em=function(){W(this,oa)&&(Go.clearInterval(W(this,oa)),je(this,oa,void 0))},tm=function(){const e=W(this,Ar).getQueryCache().build(W(this,Ar),this.options);if(e===W(this,Ye))return;const r=W(this,Ye);je(this,Ye,e),je(this,Ol,e.state),this.hasListeners()&&(r==null||r.removeObserver(this),e.addObserver(this))},Hy=function(e){Vt.batch(()=>{e.listeners&&this.listeners.forEach(r=>{r(W(this,xr))}),W(this,Ar).getQueryCache().notify({query:W(this,Ye),type:"observerResultsUpdated"})})},hy);function E2(t,e){return Xr(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function O0(t,e){return E2(t,e)||t.state.data!==void 0&&rm(t,e,e.refetchOnMount)}function rm(t,e,r){if(Xr(e.enabled,t)!==!1&&po(e.staleTime,t)!=="static"){const o=typeof r=="function"?r(t):r;return o==="always"||o!==!1&&Gm(t,e)}return!1}function I0(t,e,r,o){return(t!==e||Xr(o.enabled,t)===!1)&&(!r.suspense||t.state.status!=="error")&&Gm(t,r)}function Gm(t,e){return Xr(e.enabled,t)!==!1&&t.isStaleByTime(po(e.staleTime,t))}function N2(t,e){return!Bd(t.getCurrentResult(),e)}function D0(t){return{onFetch:(e,r)=>{var x,p,w,b,E;const o=e.options,i=(w=(p=(x=e.fetchOptions)==null?void 0:x.meta)==null?void 0:p.fetchMore)==null?void 0:w.direction,l=((b=e.state.data)==null?void 0:b.pages)||[],d=((E=e.state.data)==null?void 0:E.pageParams)||[];let u={pages:[],pageParams:[]},h=0;const m=async()=>{let _=!1;const j=k=>{Object.defineProperty(k,"signal",{enumerable:!0,get:()=>(e.signal.aborted?_=!0:e.signal.addEventListener("abort",()=>{_=!0}),e.signal)})},N=Fy(e.options,e.fetchOptions),S=async(k,P,z)=>{if(_)return Promise.reject();if(P==null&&k.pages.length)return Promise.resolve(k);const q=(()=>{const T={client:e.client,queryKey:e.queryKey,pageParam:P,direction:z?"backward":"forward",meta:e.options.meta};return j(T),T})(),K=await N(q),{maxPages:de}=e.options,V=z?g2:p2;return{pages:V(k.pages,K,de),pageParams:V(k.pageParams,P,de)}};if(i&&l.length){const k=i==="backward",P=k?S2:M0,z={pages:l,pageParams:d},A=P(o,z);u=await S(z,A,k)}else{const k=t??l.length;do{const P=h===0?d[0]??o.initialPageParam:M0(o,u);if(h>0&&P==null)break;u=await S(u,P),h++}while(h<k)}return u};e.options.persister?e.fetchFn=()=>{var _,j;return(j=(_=e.options).persister)==null?void 0:j.call(_,m,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},r)}:e.fetchFn=m}}}function M0(t,{pages:e,pageParams:r}){const o=e.length-1;return e.length>0?t.getNextPageParam(e[o],e,r[o],r):void 0}function S2(t,{pages:e,pageParams:r}){var o;return e.length>0?(o=t.getPreviousPageParam)==null?void 0:o.call(t,e[0],e,r[0],r):void 0}var Dl,$n,vr,aa,Bn,Zs,fy,C2=(fy=class extends Wy{constructor(e){super();De(this,Bn);De(this,Dl);De(this,$n);De(this,vr);De(this,aa);je(this,Dl,e.client),this.mutationId=e.mutationId,je(this,vr,e.mutationCache),je(this,$n,[]),this.state=e.state||Ky(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){W(this,$n).includes(e)||(W(this,$n).push(e),this.clearGcTimeout(),W(this,vr).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){je(this,$n,W(this,$n).filter(r=>r!==e)),this.scheduleGc(),W(this,vr).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){W(this,$n).length||(this.state.status==="pending"?this.scheduleGc():W(this,vr).remove(this))}continue(){var e;return((e=W(this,aa))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var d,u,h,m,x,p,w,b,E,_,j,N,S,k,P,z,A,q,K,de;const r=()=>{Ve(this,Bn,Zs).call(this,{type:"continue"})},o={client:W(this,Dl),meta:this.options.meta,mutationKey:this.options.mutationKey};je(this,aa,qy({fn:()=>this.options.mutationFn?this.options.mutationFn(e,o):Promise.reject(new Error("No mutationFn found")),onFail:(V,T)=>{Ve(this,Bn,Zs).call(this,{type:"failed",failureCount:V,error:T})},onPause:()=>{Ve(this,Bn,Zs).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>W(this,vr).canRun(this)}));const i=this.state.status==="pending",l=!W(this,aa).canStart();try{if(i)r();else{Ve(this,Bn,Zs).call(this,{type:"pending",variables:e,isPaused:l}),await((u=(d=W(this,vr).config).onMutate)==null?void 0:u.call(d,e,this,o));const T=await((m=(h=this.options).onMutate)==null?void 0:m.call(h,e,o));T!==this.state.context&&Ve(this,Bn,Zs).call(this,{type:"pending",context:T,variables:e,isPaused:l})}const V=await W(this,aa).start();return await((p=(x=W(this,vr).config).onSuccess)==null?void 0:p.call(x,V,e,this.state.context,this,o)),await((b=(w=this.options).onSuccess)==null?void 0:b.call(w,V,e,this.state.context,o)),await((_=(E=W(this,vr).config).onSettled)==null?void 0:_.call(E,V,null,this.state.variables,this.state.context,this,o)),await((N=(j=this.options).onSettled)==null?void 0:N.call(j,V,null,e,this.state.context,o)),Ve(this,Bn,Zs).call(this,{type:"success",data:V}),V}catch(V){try{throw await((k=(S=W(this,vr).config).onError)==null?void 0:k.call(S,V,e,this.state.context,this,o)),await((z=(P=this.options).onError)==null?void 0:z.call(P,V,e,this.state.context,o)),await((q=(A=W(this,vr).config).onSettled)==null?void 0:q.call(A,void 0,V,this.state.variables,this.state.context,this,o)),await((de=(K=this.options).onSettled)==null?void 0:de.call(K,void 0,V,e,this.state.context,o)),V}finally{Ve(this,Bn,Zs).call(this,{type:"error",error:V})}}finally{W(this,vr).runNext(this)}}},Dl=new WeakMap,$n=new WeakMap,vr=new WeakMap,aa=new WeakMap,Bn=new WeakSet,Zs=function(e){const r=o=>{switch(e.type){case"failed":return{...o,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...o,isPaused:!0};case"continue":return{...o,isPaused:!1};case"pending":return{...o,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...o,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...o,data:void 0,error:e.error,failureCount:o.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Vt.batch(()=>{W(this,$n).forEach(o=>{o.onMutationUpdate(e)}),W(this,vr).notify({mutation:this,type:"updated",action:e})})},fy);function Ky(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var cs,gn,Ml,my,k2=(my=class extends Ei{constructor(e={}){super();De(this,cs);De(this,gn);De(this,Ml);this.config=e,je(this,cs,new Set),je(this,gn,new Map),je(this,Ml,0)}build(e,r,o){const i=new C2({client:e,mutationCache:this,mutationId:++Zc(this,Ml)._,options:e.defaultMutationOptions(r),state:o});return this.add(i),i}add(e){W(this,cs).add(e);const r=nd(e);if(typeof r=="string"){const o=W(this,gn).get(r);o?o.push(e):W(this,gn).set(r,[e])}this.notify({type:"added",mutation:e})}remove(e){if(W(this,cs).delete(e)){const r=nd(e);if(typeof r=="string"){const o=W(this,gn).get(r);if(o)if(o.length>1){const i=o.indexOf(e);i!==-1&&o.splice(i,1)}else o[0]===e&&W(this,gn).delete(r)}}this.notify({type:"removed",mutation:e})}canRun(e){const r=nd(e);if(typeof r=="string"){const o=W(this,gn).get(r),i=o==null?void 0:o.find(l=>l.state.status==="pending");return!i||i===e}else return!0}runNext(e){var o;const r=nd(e);if(typeof r=="string"){const i=(o=W(this,gn).get(r))==null?void 0:o.find(l=>l!==e&&l.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Vt.batch(()=>{W(this,cs).forEach(e=>{this.notify({type:"removed",mutation:e})}),W(this,cs).clear(),W(this,gn).clear()})}getAll(){return Array.from(W(this,cs))}find(e){const r={exact:!0,...e};return this.getAll().find(o=>R0(r,o))}findAll(e={}){return this.getAll().filter(r=>R0(e,r))}notify(e){Vt.batch(()=>{this.listeners.forEach(r=>{r(e)})})}resumePausedMutations(){const e=this.getAll().filter(r=>r.state.isPaused);return Vt.batch(()=>Promise.all(e.map(r=>r.continue().catch(yr))))}},cs=new WeakMap,gn=new WeakMap,Ml=new WeakMap,my);function nd(t){var e;return(e=t.options.scope)==null?void 0:e.id}var ds,lo,Pr,us,vs,kd,nm,py,R2=(py=class extends Ei{constructor(r,o){super();De(this,vs);De(this,ds);De(this,lo);De(this,Pr);De(this,us);je(this,ds,r),this.setOptions(o),this.bindMethods(),Ve(this,vs,kd).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var i;const o=this.options;this.options=W(this,ds).defaultMutationOptions(r),Bd(this.options,o)||W(this,ds).getMutationCache().notify({type:"observerOptionsUpdated",mutation:W(this,Pr),observer:this}),o!=null&&o.mutationKey&&this.options.mutationKey&&la(o.mutationKey)!==la(this.options.mutationKey)?this.reset():((i=W(this,Pr))==null?void 0:i.state.status)==="pending"&&W(this,Pr).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=W(this,Pr))==null||r.removeObserver(this)}onMutationUpdate(r){Ve(this,vs,kd).call(this),Ve(this,vs,nm).call(this,r)}getCurrentResult(){return W(this,lo)}reset(){var r;(r=W(this,Pr))==null||r.removeObserver(this),je(this,Pr,void 0),Ve(this,vs,kd).call(this),Ve(this,vs,nm).call(this)}mutate(r,o){var i;return je(this,us,o),(i=W(this,Pr))==null||i.removeObserver(this),je(this,Pr,W(this,ds).getMutationCache().build(W(this,ds),this.options)),W(this,Pr).addObserver(this),W(this,Pr).execute(r)}},ds=new WeakMap,lo=new WeakMap,Pr=new WeakMap,us=new WeakMap,vs=new WeakSet,kd=function(){var o;const r=((o=W(this,Pr))==null?void 0:o.state)??Ky();je(this,lo,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},nm=function(r){Vt.batch(()=>{var o,i,l,d,u,h,m,x;if(W(this,us)&&this.hasListeners()){const p=W(this,lo).variables,w=W(this,lo).context,b={client:W(this,ds),meta:this.options.meta,mutationKey:this.options.mutationKey};(r==null?void 0:r.type)==="success"?((i=(o=W(this,us)).onSuccess)==null||i.call(o,r.data,p,w,b),(d=(l=W(this,us)).onSettled)==null||d.call(l,r.data,null,p,w,b)):(r==null?void 0:r.type)==="error"&&((h=(u=W(this,us)).onError)==null||h.call(u,r.error,p,w,b),(x=(m=W(this,us)).onSettled)==null||x.call(m,void 0,r.error,p,w,b))}this.listeners.forEach(p=>{p(W(this,lo))})})},py),Fn,gy,A2=(gy=class extends Ei{constructor(e={}){super();De(this,Fn);this.config=e,je(this,Fn,new Map)}build(e,r,o){const i=r.queryKey,l=r.queryHash??Vm(i,r);let d=this.get(l);return d||(d=new j2({client:e,queryKey:i,queryHash:l,options:e.defaultQueryOptions(r),state:o,defaultOptions:e.getQueryDefaults(i)}),this.add(d)),d}add(e){W(this,Fn).has(e.queryHash)||(W(this,Fn).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const r=W(this,Fn).get(e.queryHash);r&&(e.destroy(),r===e&&W(this,Fn).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Vt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return W(this,Fn).get(e)}getAll(){return[...W(this,Fn).values()]}find(e){const r={exact:!0,...e};return this.getAll().find(o=>k0(r,o))}findAll(e={}){const r=this.getAll();return Object.keys(e).length>0?r.filter(o=>k0(e,o)):r}notify(e){Vt.batch(()=>{this.listeners.forEach(r=>{r(e)})})}onFocus(){Vt.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Vt.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Fn=new WeakMap,gy),Ct,co,uo,hi,fi,ho,mi,pi,xy,P2=(xy=class{constructor(t={}){De(this,Ct);De(this,co);De(this,uo);De(this,hi);De(this,fi);De(this,ho);De(this,mi);De(this,pi);je(this,Ct,t.queryCache||new A2),je(this,co,t.mutationCache||new k2),je(this,uo,t.defaultOptions||{}),je(this,hi,new Map),je(this,fi,new Map),je(this,ho,0)}mount(){Zc(this,ho)._++,W(this,ho)===1&&(je(this,mi,Km.subscribe(async t=>{t&&(await this.resumePausedMutations(),W(this,Ct).onFocus())})),je(this,pi,Fd.subscribe(async t=>{t&&(await this.resumePausedMutations(),W(this,Ct).onOnline())})))}unmount(){var t,e;Zc(this,ho)._--,W(this,ho)===0&&((t=W(this,mi))==null||t.call(this),je(this,mi,void 0),(e=W(this,pi))==null||e.call(this),je(this,pi,void 0))}isFetching(t){return W(this,Ct).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return W(this,co).findAll({...t,status:"pending"}).length}getQueryData(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=W(this,Ct).get(e.queryHash))==null?void 0:r.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),r=W(this,Ct).build(this,e),o=r.state.data;return o===void 0?this.fetchQuery(t):(t.revalidateIfStale&&r.isStaleByTime(po(e.staleTime,r))&&this.prefetchQuery(e),Promise.resolve(o))}getQueriesData(t){return W(this,Ct).findAll(t).map(({queryKey:e,state:r})=>{const o=r.data;return[e,o]})}setQueryData(t,e,r){const o=this.defaultQueryOptions({queryKey:t}),i=W(this,Ct).get(o.queryHash),l=i==null?void 0:i.state.data,d=h2(e,l);if(d!==void 0)return W(this,Ct).build(this,o).setData(d,{...r,manual:!0})}setQueriesData(t,e,r){return Vt.batch(()=>W(this,Ct).findAll(t).map(({queryKey:o})=>[o,this.setQueryData(o,e,r)]))}getQueryState(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=W(this,Ct).get(e.queryHash))==null?void 0:r.state}removeQueries(t){const e=W(this,Ct);Vt.batch(()=>{e.findAll(t).forEach(r=>{e.remove(r)})})}resetQueries(t,e){const r=W(this,Ct);return Vt.batch(()=>(r.findAll(t).forEach(o=>{o.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const r={revert:!0,...e},o=Vt.batch(()=>W(this,Ct).findAll(t).map(i=>i.cancel(r)));return Promise.all(o).then(yr).catch(yr)}invalidateQueries(t,e={}){return Vt.batch(()=>(W(this,Ct).findAll(t).forEach(r=>{r.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const r={...e,cancelRefetch:e.cancelRefetch??!0},o=Vt.batch(()=>W(this,Ct).findAll(t).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let l=i.fetch(void 0,r);return r.throwOnError||(l=l.catch(yr)),i.state.fetchStatus==="paused"?Promise.resolve():l}));return Promise.all(o).then(yr)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const r=W(this,Ct).build(this,e);return r.isStaleByTime(po(e.staleTime,r))?r.fetch(e):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(yr).catch(yr)}fetchInfiniteQuery(t){return t.behavior=D0(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(yr).catch(yr)}ensureInfiniteQueryData(t){return t.behavior=D0(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Fd.isOnline()?W(this,co).resumePausedMutations():Promise.resolve()}getQueryCache(){return W(this,Ct)}getMutationCache(){return W(this,co)}getDefaultOptions(){return W(this,uo)}setDefaultOptions(t){je(this,uo,t)}setQueryDefaults(t,e){W(this,hi).set(la(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...W(this,hi).values()],r={};return e.forEach(o=>{Sl(t,o.queryKey)&&Object.assign(r,o.defaultOptions)}),r}setMutationDefaults(t,e){W(this,fi).set(la(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...W(this,fi).values()],r={};return e.forEach(o=>{Sl(t,o.mutationKey)&&Object.assign(r,o.defaultOptions)}),r}defaultQueryOptions(t){if(t._defaulted)return t;const e={...W(this,uo).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=Vm(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===Hm&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...W(this,uo).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){W(this,Ct).clear(),W(this,co).clear()}},Ct=new WeakMap,co=new WeakMap,uo=new WeakMap,hi=new WeakMap,fi=new WeakMap,ho=new WeakMap,mi=new WeakMap,pi=new WeakMap,xy),Gy=y.createContext(void 0),Sn=t=>{const e=y.useContext(Gy);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},T2=({client:t,children:e})=>(y.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),n.jsx(Gy.Provider,{value:t,children:e})),Qy=y.createContext(!1),O2=()=>y.useContext(Qy);Qy.Provider;function I2(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var D2=y.createContext(I2()),M2=()=>y.useContext(D2),L2=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},$2=t=>{y.useEffect(()=>{t.clearReset()},[t])},B2=({result:t,errorResetBoundary:e,throwOnError:r,query:o,suspense:i})=>t.isError&&!e.isReset()&&!t.isFetching&&o&&(i&&t.data===void 0||zy(r,[t.error,o])),F2=t=>{if(t.suspense){const r=i=>i==="static"?i:Math.max(i??1e3,1e3),o=t.staleTime;t.staleTime=typeof o=="function"?(...i)=>r(o(...i)):r(o),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},z2=(t,e)=>t.isLoading&&t.isFetching&&!e,U2=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,L0=(t,e,r)=>e.fetchOptimistic(t).catch(()=>{r.clearReset()});function q2(t,e,r){var p,w,b,E,_;const o=O2(),i=M2(),l=Sn(),d=l.defaultQueryOptions(t);(w=(p=l.getDefaultOptions().queries)==null?void 0:p._experimental_beforeQuery)==null||w.call(p,d),d._optimisticResults=o?"isRestoring":"optimistic",F2(d),L2(d,i),$2(i);const u=!l.getQueryCache().get(d.queryHash),[h]=y.useState(()=>new e(l,d)),m=h.getOptimisticResult(d),x=!o&&t.subscribed!==!1;if(y.useSyncExternalStore(y.useCallback(j=>{const N=x?h.subscribe(Vt.batchCalls(j)):yr;return h.updateResult(),N},[h,x]),()=>h.getCurrentResult(),()=>h.getCurrentResult()),y.useEffect(()=>{h.setOptions(d)},[d,h]),U2(d,m))throw L0(d,h,i);if(B2({result:m,errorResetBoundary:i,throwOnError:d.throwOnError,query:l.getQueryCache().get(d.queryHash),suspense:d.suspense}))throw m.error;if((E=(b=l.getDefaultOptions().queries)==null?void 0:b._experimental_afterQuery)==null||E.call(b,d,m),d.experimental_prefetchInRender&&!ia&&z2(m,o)){const j=u?L0(d,h,i):(_=l.getQueryCache().get(d.queryHash))==null?void 0:_.promise;j==null||j.catch(yr).finally(()=>{h.updateResult()})}return d.notifyOnChangeProps?m:h.trackResult(m)}function tn(t,e){return q2(t,_2)}function xs(t,e){const r=Sn(),[o]=y.useState(()=>new R2(r,t));y.useEffect(()=>{o.setOptions(t)},[o,t]);const i=y.useSyncExternalStore(y.useCallback(d=>o.subscribe(Vt.batchCalls(d)),[o]),()=>o.getCurrentResult(),()=>o.getCurrentResult()),l=y.useCallback((d,u)=>{o.mutate(d,u).catch(yr)},[o]);if(i.error&&zy(o.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:l,mutateAsync:i.mutate}}var ss={},sd={},sm=function(t,e){return sm=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},sm(t,e)};function Jy(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");sm(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Zr=function(){return Zr=Object.assign||function(e){for(var r,o=1,i=arguments.length;o<i;o++){r=arguments[o];for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&(e[l]=r[l])}return e},Zr.apply(this,arguments)};function wo(t,e){var r={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.indexOf(o)<0&&(r[o]=t[o]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,o=Object.getOwnPropertySymbols(t);i<o.length;i++)e.indexOf(o[i])<0&&Object.prototype.propertyIsEnumerable.call(t,o[i])&&(r[o[i]]=t[o[i]]);return r}function Yy(t,e,r,o){var i=arguments.length,l=i<3?e:o===null?o=Object.getOwnPropertyDescriptor(e,r):o,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(t,e,r,o);else for(var u=t.length-1;u>=0;u--)(d=t[u])&&(l=(i<3?d(l):i>3?d(e,r,l):d(e,r))||l);return i>3&&l&&Object.defineProperty(e,r,l),l}function Xy(t,e){return function(r,o){e(r,o,t)}}function Zy(t,e,r,o,i,l){function d(N){if(N!==void 0&&typeof N!="function")throw new TypeError("Function expected");return N}for(var u=o.kind,h=u==="getter"?"get":u==="setter"?"set":"value",m=!e&&t?o.static?t:t.prototype:null,x=e||(m?Object.getOwnPropertyDescriptor(m,o.name):{}),p,w=!1,b=r.length-1;b>=0;b--){var E={};for(var _ in o)E[_]=_==="access"?{}:o[_];for(var _ in o.access)E.access[_]=o.access[_];E.addInitializer=function(N){if(w)throw new TypeError("Cannot add initializers after decoration has completed");l.push(d(N||null))};var j=(0,r[b])(u==="accessor"?{get:x.get,set:x.set}:x[h],E);if(u==="accessor"){if(j===void 0)continue;if(j===null||typeof j!="object")throw new TypeError("Object expected");(p=d(j.get))&&(x.get=p),(p=d(j.set))&&(x.set=p),(p=d(j.init))&&i.unshift(p)}else(p=d(j))&&(u==="field"?i.unshift(p):x[h]=p)}m&&Object.defineProperty(m,o.name,x),w=!0}function eb(t,e,r){for(var o=arguments.length>2,i=0;i<e.length;i++)r=o?e[i].call(t,r):e[i].call(t);return o?r:void 0}function tb(t){return typeof t=="symbol"?t:"".concat(t)}function rb(t,e,r){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:r?"".concat(r," ",e):e})}function nb(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function Se(t,e,r,o){function i(l){return l instanceof r?l:new r(function(d){d(l)})}return new(r||(r=Promise))(function(l,d){function u(x){try{m(o.next(x))}catch(p){d(p)}}function h(x){try{m(o.throw(x))}catch(p){d(p)}}function m(x){x.done?l(x.value):i(x.value).then(u,h)}m((o=o.apply(t,e||[])).next())})}function sb(t,e){var r={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},o,i,l,d=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return d.next=u(0),d.throw=u(1),d.return=u(2),typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function u(m){return function(x){return h([m,x])}}function h(m){if(o)throw new TypeError("Generator is already executing.");for(;d&&(d=0,m[0]&&(r=0)),r;)try{if(o=1,i&&(l=m[0]&2?i.return:m[0]?i.throw||((l=i.return)&&l.call(i),0):i.next)&&!(l=l.call(i,m[1])).done)return l;switch(i=0,l&&(m=[m[0]&2,l.value]),m[0]){case 0:case 1:l=m;break;case 4:return r.label++,{value:m[1],done:!1};case 5:r.label++,i=m[1],m=[0];continue;case 7:m=r.ops.pop(),r.trys.pop();continue;default:if(l=r.trys,!(l=l.length>0&&l[l.length-1])&&(m[0]===6||m[0]===2)){r=0;continue}if(m[0]===3&&(!l||m[1]>l[0]&&m[1]<l[3])){r.label=m[1];break}if(m[0]===6&&r.label<l[1]){r.label=l[1],l=m;break}if(l&&r.label<l[2]){r.label=l[2],r.ops.push(m);break}l[2]&&r.ops.pop(),r.trys.pop();continue}m=e.call(t,r)}catch(x){m=[6,x],i=0}finally{o=l=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}}var lu=Object.create?(function(t,e,r,o){o===void 0&&(o=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,o,i)}):(function(t,e,r,o){o===void 0&&(o=r),t[o]=e[r]});function ob(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&lu(e,t,r)}function zd(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],o=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Qm(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var o=r.call(t),i,l=[],d;try{for(;(e===void 0||e-- >0)&&!(i=o.next()).done;)l.push(i.value)}catch(u){d={error:u}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(d)throw d.error}}return l}function ab(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Qm(arguments[e]));return t}function ib(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var o=Array(t),i=0,e=0;e<r;e++)for(var l=arguments[e],d=0,u=l.length;d<u;d++,i++)o[i]=l[d];return o}function Jm(t,e,r){if(r||arguments.length===2)for(var o=0,i=e.length,l;o<i;o++)(l||!(o in e))&&(l||(l=Array.prototype.slice.call(e,0,o)),l[o]=e[o]);return t.concat(l||Array.prototype.slice.call(e))}function gi(t){return this instanceof gi?(this.v=t,this):new gi(t)}function lb(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=r.apply(t,e||[]),i,l=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),u("next"),u("throw"),u("return",d),i[Symbol.asyncIterator]=function(){return this},i;function d(b){return function(E){return Promise.resolve(E).then(b,p)}}function u(b,E){o[b]&&(i[b]=function(_){return new Promise(function(j,N){l.push([b,_,j,N])>1||h(b,_)})},E&&(i[b]=E(i[b])))}function h(b,E){try{m(o[b](E))}catch(_){w(l[0][3],_)}}function m(b){b.value instanceof gi?Promise.resolve(b.value.v).then(x,p):w(l[0][2],b)}function x(b){h("next",b)}function p(b){h("throw",b)}function w(b,E){b(E),l.shift(),l.length&&h(l[0][0],l[0][1])}}function cb(t){var e,r;return e={},o("next"),o("throw",function(i){throw i}),o("return"),e[Symbol.iterator]=function(){return this},e;function o(i,l){e[i]=t[i]?function(d){return(r=!r)?{value:gi(t[i](d)),done:!1}:l?l(d):d}:l}}function db(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof zd=="function"?zd(t):t[Symbol.iterator](),r={},o("next"),o("throw"),o("return"),r[Symbol.asyncIterator]=function(){return this},r);function o(l){r[l]=t[l]&&function(d){return new Promise(function(u,h){d=t[l](d),i(u,h,d.done,d.value)})}}function i(l,d,u,h){Promise.resolve(h).then(function(m){l({value:m,done:u})},d)}}function ub(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var W2=Object.create?(function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}):function(t,e){t.default=e},om=function(t){return om=Object.getOwnPropertyNames||function(e){var r=[];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[r.length]=o);return r},om(t)};function hb(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r=om(t),o=0;o<r.length;o++)r[o]!=="default"&&lu(e,t,r[o]);return W2(e,t),e}function fb(t){return t&&t.__esModule?t:{default:t}}function mb(t,e,r,o){if(r==="a"&&!o)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!o:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?o:r==="a"?o.call(t):o?o.value:e.get(t)}function pb(t,e,r,o,i){if(o==="m")throw new TypeError("Private method is not writable");if(o==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return o==="a"?i.call(t,r):i?i.value=r:e.set(t,r),r}function gb(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function xb(t,e,r){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var o,i;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");o=e[Symbol.asyncDispose]}if(o===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");o=e[Symbol.dispose],r&&(i=o)}if(typeof o!="function")throw new TypeError("Object not disposable.");i&&(o=function(){try{i.call(this)}catch(l){return Promise.reject(l)}}),t.stack.push({value:e,dispose:o,async:r})}else r&&t.stack.push({async:!0});return e}var V2=typeof SuppressedError=="function"?SuppressedError:function(t,e,r){var o=new Error(r);return o.name="SuppressedError",o.error=t,o.suppressed=e,o};function vb(t){function e(l){t.error=t.hasError?new V2(l,t.error,"An error was suppressed during disposal."):l,t.hasError=!0}var r,o=0;function i(){for(;r=t.stack.pop();)try{if(!r.async&&o===1)return o=0,t.stack.push(r),Promise.resolve().then(i);if(r.dispose){var l=r.dispose.call(r.value);if(r.async)return o|=2,Promise.resolve(l).then(i,function(d){return e(d),i()})}else o|=1}catch(d){e(d)}if(o===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return i()}function yb(t,e){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,o,i,l,d){return o?e?".jsx":".js":i&&(!l||!d)?r:i+l+"."+d.toLowerCase()+"js"}):t}const H2={__extends:Jy,__assign:Zr,__rest:wo,__decorate:Yy,__param:Xy,__esDecorate:Zy,__runInitializers:eb,__propKey:tb,__setFunctionName:rb,__metadata:nb,__awaiter:Se,__generator:sb,__createBinding:lu,__exportStar:ob,__values:zd,__read:Qm,__spread:ab,__spreadArrays:ib,__spreadArray:Jm,__await:gi,__asyncGenerator:lb,__asyncDelegator:cb,__asyncValues:db,__makeTemplateObject:ub,__importStar:hb,__importDefault:fb,__classPrivateFieldGet:mb,__classPrivateFieldSet:pb,__classPrivateFieldIn:gb,__addDisposableResource:xb,__disposeResources:vb,__rewriteRelativeImportExtension:yb},K2=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:xb,get __assign(){return Zr},__asyncDelegator:cb,__asyncGenerator:lb,__asyncValues:db,__await:gi,__awaiter:Se,__classPrivateFieldGet:mb,__classPrivateFieldIn:gb,__classPrivateFieldSet:pb,__createBinding:lu,__decorate:Yy,__disposeResources:vb,__esDecorate:Zy,__exportStar:ob,__extends:Jy,__generator:sb,__importDefault:fb,__importStar:hb,__makeTemplateObject:ub,__metadata:nb,__param:Xy,__propKey:tb,__read:Qm,__rest:wo,__rewriteRelativeImportExtension:yb,__runInitializers:eb,__setFunctionName:rb,__spread:ab,__spreadArray:Jm,__spreadArrays:ib,__values:zd,default:H2},Symbol.toStringTag,{value:"Module"})),G2=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);let cu=class extends Error{constructor(e,r="FunctionsError",o){super(e),this.name=r,this.context=o}},bb=class extends cu{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}},am=class extends cu{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}},im=class extends cu{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}};var Ud;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Ud||(Ud={}));class Q2{constructor(e,{headers:r={},customFetch:o,region:i=Ud.Any}={}){this.url=e,this.headers=r,this.region=i,this.fetch=G2(o)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return Se(this,arguments,void 0,function*(r,o={}){var i;let l,d;try{const{headers:u,method:h,body:m,signal:x,timeout:p}=o;let w={},{region:b}=o;b||(b=this.region);const E=new URL(`${this.url}/${r}`);b&&b!=="any"&&(w["x-region"]=b,E.searchParams.set("forceFunctionRegion",b));let _;m&&(u&&!Object.prototype.hasOwnProperty.call(u,"Content-Type")||!u)?typeof Blob<"u"&&m instanceof Blob||m instanceof ArrayBuffer?(w["Content-Type"]="application/octet-stream",_=m):typeof m=="string"?(w["Content-Type"]="text/plain",_=m):typeof FormData<"u"&&m instanceof FormData?_=m:(w["Content-Type"]="application/json",_=JSON.stringify(m)):_=m;let j=x;p&&(d=new AbortController,l=setTimeout(()=>d.abort(),p),x?(j=d.signal,x.addEventListener("abort",()=>d.abort())):j=d.signal);const N=yield this.fetch(E.toString(),{method:h||"POST",headers:Object.assign(Object.assign(Object.assign({},w),this.headers),u),body:_,signal:j}).catch(z=>{throw new bb(z)}),S=N.headers.get("x-relay-error");if(S&&S==="true")throw new am(N);if(!N.ok)throw new im(N);let k=((i=N.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),P;return k==="application/json"?P=yield N.json():k==="application/octet-stream"||k==="application/pdf"?P=yield N.blob():k==="text/event-stream"?P=N:k==="multipart/form-data"?P=yield N.formData():P=yield N.text(),{data:P,error:null,response:N}}catch(u){return{data:null,error:u,response:u instanceof im||u instanceof am?u.context:void 0}}finally{l&&clearTimeout(l)}})}}const J2=Object.freeze(Object.defineProperty({__proto__:null,get FunctionRegion(){return Ud},FunctionsClient:Q2,FunctionsError:cu,FunctionsFetchError:bb,FunctionsHttpError:im,FunctionsRelayError:am},Symbol.toStringTag,{value:"Module"})),wb=Ll(J2);var fr={};const Ni=Ll(K2);var od={},ad={},id={},ld={},cd={},dd={},$0;function jb(){if($0)return dd;$0=1,Object.defineProperty(dd,"__esModule",{value:!0});class t extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return dd.default=t,dd}var B0;function _b(){if(B0)return cd;B0=1,Object.defineProperty(cd,"__esModule",{value:!0});const e=Ni.__importDefault(jb());let r=class{constructor(i){var l,d;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(l=i.shouldThrowOnError)!==null&&l!==void 0?l:!1,this.signal=i.signal,this.isMaybeSingle=(d=i.isMaybeSingle)!==null&&d!==void 0?d:!1,i.fetch?this.fetch=i.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,l){return this.headers=new Headers(this.headers),this.headers.set(i,l),this}then(i,l){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const d=this.fetch;let u=d(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async h=>{var m,x,p,w;let b=null,E=null,_=null,j=h.status,N=h.statusText;if(h.ok){if(this.method!=="HEAD"){const z=await h.text();z===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((m=this.headers.get("Accept"))===null||m===void 0)&&m.includes("application/vnd.pgrst.plan+text"))?E=z:E=JSON.parse(z))}const k=(x=this.headers.get("Prefer"))===null||x===void 0?void 0:x.match(/count=(exact|planned|estimated)/),P=(p=h.headers.get("content-range"))===null||p===void 0?void 0:p.split("/");k&&P&&P.length>1&&(_=parseInt(P[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(E)&&(E.length>1?(b={code:"PGRST116",details:`Results contain ${E.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},E=null,_=null,j=406,N="Not Acceptable"):E.length===1?E=E[0]:E=null)}else{const k=await h.text();try{b=JSON.parse(k),Array.isArray(b)&&h.status===404&&(E=[],b=null,j=200,N="OK")}catch{h.status===404&&k===""?(j=204,N="No Content"):b={message:k}}if(b&&this.isMaybeSingle&&(!((w=b==null?void 0:b.details)===null||w===void 0)&&w.includes("0 rows"))&&(b=null,j=200,N="OK"),b&&this.shouldThrowOnError)throw new e.default(b)}return{error:b,data:E,count:_,status:j,statusText:N}});return this.shouldThrowOnError||(u=u.catch(h=>{var m,x,p,w,b,E;let _="";const j=h==null?void 0:h.cause;if(j){const N=(m=j==null?void 0:j.message)!==null&&m!==void 0?m:"",S=(x=j==null?void 0:j.code)!==null&&x!==void 0?x:"";_=`${(p=h==null?void 0:h.name)!==null&&p!==void 0?p:"FetchError"}: ${h==null?void 0:h.message}`,_+=`

Caused by: ${(w=j==null?void 0:j.name)!==null&&w!==void 0?w:"Error"}: ${N}`,S&&(_+=` (${S})`),j!=null&&j.stack&&(_+=`
${j.stack}`)}else _=(b=h==null?void 0:h.stack)!==null&&b!==void 0?b:"";return{error:{message:`${(E=h==null?void 0:h.name)!==null&&E!==void 0?E:"FetchError"}: ${h==null?void 0:h.message}`,details:_,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),u.then(i,l)}returns(){return this}overrideTypes(){return this}};return cd.default=r,cd}var F0;function Eb(){if(F0)return ld;F0=1,Object.defineProperty(ld,"__esModule",{value:!0});const e=Ni.__importDefault(_b());let r=class extends e.default{select(i){let l=!1;const d=(i??"*").split("").map(u=>/\s/.test(u)&&!l?"":(u==='"'&&(l=!l),u)).join("");return this.url.searchParams.set("select",d),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:l=!0,nullsFirst:d,foreignTable:u,referencedTable:h=u}={}){const m=h?`${h}.order`:"order",x=this.url.searchParams.get(m);return this.url.searchParams.set(m,`${x?`${x},`:""}${i}.${l?"asc":"desc"}${d===void 0?"":d?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:l,referencedTable:d=l}={}){const u=typeof d>"u"?"limit":`${d}.limit`;return this.url.searchParams.set(u,`${i}`),this}range(i,l,{foreignTable:d,referencedTable:u=d}={}){const h=typeof u>"u"?"offset":`${u}.offset`,m=typeof u>"u"?"limit":`${u}.limit`;return this.url.searchParams.set(h,`${i}`),this.url.searchParams.set(m,`${l-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:l=!1,settings:d=!1,buffers:u=!1,wal:h=!1,format:m="text"}={}){var x;const p=[i?"analyze":null,l?"verbose":null,d?"settings":null,u?"buffers":null,h?"wal":null].filter(Boolean).join("|"),w=(x=this.headers.get("Accept"))!==null&&x!==void 0?x:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${m}; for="${w}"; options=${p};`),m==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}};return ld.default=r,ld}var z0;function Ym(){if(z0)return id;z0=1,Object.defineProperty(id,"__esModule",{value:!0});const e=Ni.__importDefault(Eb()),r=new RegExp("[,()]");let o=class extends e.default{eq(l,d){return this.url.searchParams.append(l,`eq.${d}`),this}neq(l,d){return this.url.searchParams.append(l,`neq.${d}`),this}gt(l,d){return this.url.searchParams.append(l,`gt.${d}`),this}gte(l,d){return this.url.searchParams.append(l,`gte.${d}`),this}lt(l,d){return this.url.searchParams.append(l,`lt.${d}`),this}lte(l,d){return this.url.searchParams.append(l,`lte.${d}`),this}like(l,d){return this.url.searchParams.append(l,`like.${d}`),this}likeAllOf(l,d){return this.url.searchParams.append(l,`like(all).{${d.join(",")}}`),this}likeAnyOf(l,d){return this.url.searchParams.append(l,`like(any).{${d.join(",")}}`),this}ilike(l,d){return this.url.searchParams.append(l,`ilike.${d}`),this}ilikeAllOf(l,d){return this.url.searchParams.append(l,`ilike(all).{${d.join(",")}}`),this}ilikeAnyOf(l,d){return this.url.searchParams.append(l,`ilike(any).{${d.join(",")}}`),this}regexMatch(l,d){return this.url.searchParams.append(l,`match.${d}`),this}regexIMatch(l,d){return this.url.searchParams.append(l,`imatch.${d}`),this}is(l,d){return this.url.searchParams.append(l,`is.${d}`),this}isDistinct(l,d){return this.url.searchParams.append(l,`isdistinct.${d}`),this}in(l,d){const u=Array.from(new Set(d)).map(h=>typeof h=="string"&&r.test(h)?`"${h}"`:`${h}`).join(",");return this.url.searchParams.append(l,`in.(${u})`),this}contains(l,d){return typeof d=="string"?this.url.searchParams.append(l,`cs.${d}`):Array.isArray(d)?this.url.searchParams.append(l,`cs.{${d.join(",")}}`):this.url.searchParams.append(l,`cs.${JSON.stringify(d)}`),this}containedBy(l,d){return typeof d=="string"?this.url.searchParams.append(l,`cd.${d}`):Array.isArray(d)?this.url.searchParams.append(l,`cd.{${d.join(",")}}`):this.url.searchParams.append(l,`cd.${JSON.stringify(d)}`),this}rangeGt(l,d){return this.url.searchParams.append(l,`sr.${d}`),this}rangeGte(l,d){return this.url.searchParams.append(l,`nxl.${d}`),this}rangeLt(l,d){return this.url.searchParams.append(l,`sl.${d}`),this}rangeLte(l,d){return this.url.searchParams.append(l,`nxr.${d}`),this}rangeAdjacent(l,d){return this.url.searchParams.append(l,`adj.${d}`),this}overlaps(l,d){return typeof d=="string"?this.url.searchParams.append(l,`ov.${d}`):this.url.searchParams.append(l,`ov.{${d.join(",")}}`),this}textSearch(l,d,{config:u,type:h}={}){let m="";h==="plain"?m="pl":h==="phrase"?m="ph":h==="websearch"&&(m="w");const x=u===void 0?"":`(${u})`;return this.url.searchParams.append(l,`${m}fts${x}.${d}`),this}match(l){return Object.entries(l).forEach(([d,u])=>{this.url.searchParams.append(d,`eq.${u}`)}),this}not(l,d,u){return this.url.searchParams.append(l,`not.${d}.${u}`),this}or(l,{foreignTable:d,referencedTable:u=d}={}){const h=u?`${u}.or`:"or";return this.url.searchParams.append(h,`(${l})`),this}filter(l,d,u){return this.url.searchParams.append(l,`${d}.${u}`),this}};return id.default=o,id}var U0;function Nb(){if(U0)return ad;U0=1,Object.defineProperty(ad,"__esModule",{value:!0});const e=Ni.__importDefault(Ym());let r=class{constructor(i,{headers:l={},schema:d,fetch:u}){this.url=i,this.headers=new Headers(l),this.schema=d,this.fetch=u}select(i,l){const{head:d=!1,count:u}=l??{},h=d?"HEAD":"GET";let m=!1;const x=(i??"*").split("").map(p=>/\s/.test(p)&&!m?"":(p==='"'&&(m=!m),p)).join("");return this.url.searchParams.set("select",x),u&&this.headers.append("Prefer",`count=${u}`),new e.default({method:h,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:l,defaultToNull:d=!0}={}){var u;const h="POST";if(l&&this.headers.append("Prefer",`count=${l}`),d||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const m=i.reduce((x,p)=>x.concat(Object.keys(p)),[]);if(m.length>0){const x=[...new Set(m)].map(p=>`"${p}"`);this.url.searchParams.set("columns",x.join(","))}}return new e.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}upsert(i,{onConflict:l,ignoreDuplicates:d=!1,count:u,defaultToNull:h=!0}={}){var m;const x="POST";if(this.headers.append("Prefer",`resolution=${d?"ignore":"merge"}-duplicates`),l!==void 0&&this.url.searchParams.set("on_conflict",l),u&&this.headers.append("Prefer",`count=${u}`),h||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const p=i.reduce((w,b)=>w.concat(Object.keys(b)),[]);if(p.length>0){const w=[...new Set(p)].map(b=>`"${b}"`);this.url.searchParams.set("columns",w.join(","))}}return new e.default({method:x,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(m=this.fetch)!==null&&m!==void 0?m:fetch})}update(i,{count:l}={}){var d;const u="PATCH";return l&&this.headers.append("Prefer",`count=${l}`),new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}delete({count:i}={}){var l;const d="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new e.default({method:d,url:this.url,headers:this.headers,schema:this.schema,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}};return ad.default=r,ad}var q0;function Y2(){if(q0)return od;q0=1,Object.defineProperty(od,"__esModule",{value:!0});const t=Ni,e=t.__importDefault(Nb()),r=t.__importDefault(Ym());let o=class Sb{constructor(l,{headers:d={},schema:u,fetch:h}={}){this.url=l,this.headers=new Headers(d),this.schemaName=u,this.fetch=h}from(l){if(!l||typeof l!="string"||l.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const d=new URL(`${this.url}/${l}`);return new e.default(d,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(l){return new Sb(this.url,{headers:this.headers,schema:l,fetch:this.fetch})}rpc(l,d={},{head:u=!1,get:h=!1,count:m}={}){var x;let p;const w=new URL(`${this.url}/rpc/${l}`);let b;u||h?(p=u?"HEAD":"GET",Object.entries(d).filter(([_,j])=>j!==void 0).map(([_,j])=>[_,Array.isArray(j)?`{${j.join(",")}}`:`${j}`]).forEach(([_,j])=>{w.searchParams.append(_,j)})):(p="POST",b=d);const E=new Headers(this.headers);return m&&E.set("Prefer",`count=${m}`),new r.default({method:p,url:w,headers:E,schema:this.schemaName,body:b,fetch:(x=this.fetch)!==null&&x!==void 0?x:fetch})}};return od.default=o,od}var W0;function Cb(){if(W0)return fr;W0=1,Object.defineProperty(fr,"__esModule",{value:!0}),fr.PostgrestError=fr.PostgrestBuilder=fr.PostgrestTransformBuilder=fr.PostgrestFilterBuilder=fr.PostgrestQueryBuilder=fr.PostgrestClient=void 0;const t=Ni,e=t.__importDefault(Y2());fr.PostgrestClient=e.default;const r=t.__importDefault(Nb());fr.PostgrestQueryBuilder=r.default;const o=t.__importDefault(Ym());fr.PostgrestFilterBuilder=o.default;const i=t.__importDefault(Eb());fr.PostgrestTransformBuilder=i.default;const l=t.__importDefault(_b());fr.PostgrestBuilder=l.default;const d=t.__importDefault(jb());return fr.PostgrestError=d.default,fr.default={PostgrestClient:e.default,PostgrestQueryBuilder:r.default,PostgrestFilterBuilder:o.default,PostgrestTransformBuilder:i.default,PostgrestBuilder:l.default,PostgrestError:d.default},fr}class kb{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const o=r.node,i=parseInt(o.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const o=this.getWebSocketConstructor();return new o(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const X2="2.87.1",Z2=`realtime-js/${X2}`,Rb="1.0.0",eC="2.0.0",V0=Rb,lm=1e4,tC=1e3,rC=100;var Ho;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Ho||(Ho={}));var Dt;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Dt||(Dt={}));var xn;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(xn||(xn={}));var cm;(function(t){t.websocket="websocket"})(cm||(cm={}));var Ko;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Ko||(Ko={}));class nC{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,r){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(e));let o=[e.join_ref,e.ref,e.topic,e.event,e.payload];return r(JSON.stringify(o))}_binaryEncodeUserBroadcastPush(e){var r;return this._isArrayBuffer((r=e.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var r,o;const i=(o=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&o!==void 0?o:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(e){var r,o;const i=(o=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&o!==void 0?o:{},d=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,d)}_encodeUserBroadcastPush(e,r,o){var i,l;const d=e.topic,u=(i=e.ref)!==null&&i!==void 0?i:"",h=(l=e.join_ref)!==null&&l!==void 0?l:"",m=e.payload.event,x=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},p=Object.keys(x).length===0?"":JSON.stringify(x);if(h.length>255)throw new Error(`joinRef length ${h.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`ref length ${u.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`topic length ${d.length} exceeds maximum of 255`);if(m.length>255)throw new Error(`userEvent length ${m.length} exceeds maximum of 255`);if(p.length>255)throw new Error(`metadata length ${p.length} exceeds maximum of 255`);const w=this.USER_BROADCAST_PUSH_META_LENGTH+h.length+u.length+d.length+m.length+p.length,b=new ArrayBuffer(this.HEADER_LENGTH+w);let E=new DataView(b),_=0;E.setUint8(_++,this.KINDS.userBroadcastPush),E.setUint8(_++,h.length),E.setUint8(_++,u.length),E.setUint8(_++,d.length),E.setUint8(_++,m.length),E.setUint8(_++,p.length),E.setUint8(_++,r),Array.from(h,N=>E.setUint8(_++,N.charCodeAt(0))),Array.from(u,N=>E.setUint8(_++,N.charCodeAt(0))),Array.from(d,N=>E.setUint8(_++,N.charCodeAt(0))),Array.from(m,N=>E.setUint8(_++,N.charCodeAt(0))),Array.from(p,N=>E.setUint8(_++,N.charCodeAt(0)));var j=new Uint8Array(b.byteLength+o.byteLength);return j.set(new Uint8Array(b),0),j.set(new Uint8Array(o),b.byteLength),j.buffer}decode(e,r){if(this._isArrayBuffer(e)){let o=this._binaryDecode(e);return r(o)}if(typeof e=="string"){const o=JSON.parse(e),[i,l,d,u,h]=o;return r({join_ref:i,ref:l,topic:d,event:u,payload:h})}return r({})}_binaryDecode(e){const r=new DataView(e),o=r.getUint8(0),i=new TextDecoder;switch(o){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,r,i)}}_decodeUserBroadcast(e,r,o){const i=r.getUint8(1),l=r.getUint8(2),d=r.getUint8(3),u=r.getUint8(4);let h=this.HEADER_LENGTH+4;const m=o.decode(e.slice(h,h+i));h=h+i;const x=o.decode(e.slice(h,h+l));h=h+l;const p=o.decode(e.slice(h,h+d));h=h+d;const w=e.slice(h,e.byteLength),b=u===this.JSON_ENCODING?JSON.parse(o.decode(w)):w,E={type:this.BROADCAST_EVENT,event:x,payload:b};return d>0&&(E.meta=JSON.parse(p)),{join_ref:null,ref:null,topic:m,event:this.BROADCAST_EVENT,payload:E}}_isArrayBuffer(e){var r;return e instanceof ArrayBuffer||((r=e==null?void 0:e.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(e,r){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([o])=>r.includes(o)))}}class Ab{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ct;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(ct||(ct={}));const H0=(t,e,r={})=>{var o;const i=(o=r.skipTypes)!==null&&o!==void 0?o:[];return e?Object.keys(e).reduce((l,d)=>(l[d]=sC(d,t,e,i),l),{}):{}},sC=(t,e,r,o)=>{const i=e.find(u=>u.name===t),l=i==null?void 0:i.type,d=r[t];return l&&!o.includes(l)?Pb(l,d):dm(d)},Pb=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return lC(e,r)}switch(t){case ct.bool:return oC(e);case ct.float4:case ct.float8:case ct.int2:case ct.int4:case ct.int8:case ct.numeric:case ct.oid:return aC(e);case ct.json:case ct.jsonb:return iC(e);case ct.timestamp:return cC(e);case ct.abstime:case ct.date:case ct.daterange:case ct.int4range:case ct.int8range:case ct.money:case ct.reltime:case ct.text:case ct.time:case ct.timestamptz:case ct.timetz:case ct.tsrange:case ct.tstzrange:return dm(e);default:return dm(e)}},dm=t=>t,oC=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},aC=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},iC=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},lC=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,o=t[r];if(t[0]==="{"&&o==="}"){let l;const d=t.slice(1,r);try{l=JSON.parse("["+d+"]")}catch{l=d?d.split(","):[]}return l.map(u=>Pb(e,u))}return t},cC=t=>typeof t=="string"?t.replace(" ","T"):t,Tb=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class vf{constructor(e,r,o={},i=lm){this.channel=e,this.event=r,this.payload=o,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var o;return this._hasReceived(e)&&r((o=this.receivedResp)===null||o===void 0?void 0:o.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(o=>o.status===e).forEach(o=>o.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var um;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(um||(um={}));let Ob=class Rd{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const o=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(o.state,{},i=>{const{onJoin:l,onLeave:d,onSync:u}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Rd.syncState(this.state,i,l,d),this.pendingDiffs.forEach(h=>{this.state=Rd.syncDiff(this.state,h,l,d)}),this.pendingDiffs=[],u()}),this.channel._on(o.diff,{},i=>{const{onJoin:l,onLeave:d,onSync:u}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Rd.syncDiff(this.state,i,l,d),u())}),this.onJoin((i,l,d)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:l,newPresences:d})}),this.onLeave((i,l,d)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:l,leftPresences:d})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,o,i){const l=this.cloneDeep(e),d=this.transformState(r),u={},h={};return this.map(l,(m,x)=>{d[m]||(h[m]=x)}),this.map(d,(m,x)=>{const p=l[m];if(p){const w=x.map(j=>j.presence_ref),b=p.map(j=>j.presence_ref),E=x.filter(j=>b.indexOf(j.presence_ref)<0),_=p.filter(j=>w.indexOf(j.presence_ref)<0);E.length>0&&(u[m]=E),_.length>0&&(h[m]=_)}else u[m]=x}),this.syncDiff(l,{joins:u,leaves:h},o,i)}static syncDiff(e,r,o,i){const{joins:l,leaves:d}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return o||(o=()=>{}),i||(i=()=>{}),this.map(l,(u,h)=>{var m;const x=(m=e[u])!==null&&m!==void 0?m:[];if(e[u]=this.cloneDeep(h),x.length>0){const p=e[u].map(b=>b.presence_ref),w=x.filter(b=>p.indexOf(b.presence_ref)<0);e[u].unshift(...w)}o(u,x,h)}),this.map(d,(u,h)=>{let m=e[u];if(!m)return;const x=h.map(p=>p.presence_ref);m=m.filter(p=>x.indexOf(p.presence_ref)<0),e[u]=m,i(u,m,h),m.length===0&&delete e[u]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(o=>r(o,e[o]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,o)=>{const i=e[o];return"metas"in i?r[o]=i.metas.map(l=>(l.presence_ref=l.phx_ref,delete l.phx_ref,delete l.phx_ref_prev,l)):r[o]=i,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var hm;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(hm||(hm={}));var Ja;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Ja||(Ja={}));var Mn;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Mn||(Mn={}));const dC=Dt;let Ib=class bl{constructor(e,r={config:{}},o){var i,l;if(this.topic=e,this.params=r,this.socket=o,this.bindings={},this.state=Dt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new vf(this,xn.join,this.params,this.timeout),this.rejoinTimer=new Ab(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Dt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(d=>d.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Dt.closed,this.socket._remove(this)}),this._onError(d=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,d),this.state=Dt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Dt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",d=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,d),this.state=Dt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(xn.reply,{},(d,u)=>{this._trigger(this._replyEventName(u),d)}),this.presence=new Ob(this),this.broadcastEndpointURL=Tb(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((l=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||l===void 0)&&l.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,r=this.timeout){var o,i,l;if(this.socket.isConnected()||this.socket.connect(),this.state==Dt.closed){const{config:{broadcast:d,presence:u,private:h}}=this.params,m=(i=(o=this.bindings.postgres_changes)===null||o===void 0?void 0:o.map(b=>b.filter))!==null&&i!==void 0?i:[],x=!!this.bindings[Ja.PRESENCE]&&this.bindings[Ja.PRESENCE].length>0||((l=this.params.config.presence)===null||l===void 0?void 0:l.enabled)===!0,p={},w={broadcast:d,presence:Object.assign(Object.assign({},u),{enabled:x}),postgres_changes:m,private:h};this.socket.accessTokenValue&&(p.access_token=this.socket.accessTokenValue),this._onError(b=>e==null?void 0:e(Mn.CHANNEL_ERROR,b)),this._onClose(()=>e==null?void 0:e(Mn.CLOSED)),this.updateJoinPayload(Object.assign({config:w},p)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:b})=>{var E;if(this.socket._isManualToken()||this.socket.setAuth(),b===void 0){e==null||e(Mn.SUBSCRIBED);return}else{const _=this.bindings.postgres_changes,j=(E=_==null?void 0:_.length)!==null&&E!==void 0?E:0,N=[];for(let S=0;S<j;S++){const k=_[S],{filter:{event:P,schema:z,table:A,filter:q}}=k,K=b&&b[S];if(K&&K.event===P&&bl.isFilterValueEqual(K.schema,z)&&bl.isFilterValueEqual(K.table,A)&&bl.isFilterValueEqual(K.filter,q))N.push(Object.assign(Object.assign({},k),{id:K.id}));else{this.unsubscribe(),this.state=Dt.errored,e==null||e(Mn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=N,e&&e(Mn.SUBSCRIBED);return}}).receive("error",b=>{this.state=Dt.errored,e==null||e(Mn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(b).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Mn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,o){return this.state===Dt.joined&&e===Ja.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,r,o)}async httpSend(e,r,o={}){var i;const l=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const d={method:"POST",headers:{Authorization:l,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:r,private:this.private}]})},u=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(i=o.timeout)!==null&&i!==void 0?i:this.timeout);if(u.status===202)return{success:!0};let h=u.statusText;try{const m=await u.json();h=m.error||m.message||h}catch{}return Promise.reject(new Error(h))}async send(e,r={}){var o,i;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:l,payload:d}=e,h={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:l,payload:d,private:this.private}]})};try{const m=await this._fetchWithTimeout(this.broadcastEndpointURL,h,(o=r.timeout)!==null&&o!==void 0?o:this.timeout);return await((i=m.body)===null||i===void 0?void 0:i.cancel()),m.ok?"ok":"error"}catch(m){return m.name==="AbortError"?"timed out":"error"}}else return new Promise(l=>{var d,u,h;const m=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((h=(u=(d=this.params)===null||d===void 0?void 0:d.config)===null||u===void 0?void 0:u.broadcast)===null||h===void 0)&&h.ack)&&l("ok"),m.receive("ok",()=>l("ok")),m.receive("error",()=>l("error")),m.receive("timeout",()=>l("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Dt.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(xn.close,"leave",this._joinRef())};this.joinPush.destroy();let o=null;return new Promise(i=>{o=new vf(this,xn.leave,{},e),o.receive("ok",()=>{r(),i("ok")}).receive("timeout",()=>{r(),i("timed out")}).receive("error",()=>{i("error")}),o.send(),this._canPush()||o.trigger("ok",{})}).finally(()=>{o==null||o.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Dt.closed,this.bindings={}}async _fetchWithTimeout(e,r,o){const i=new AbortController,l=setTimeout(()=>i.abort(),o),d=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(l),d}_push(e,r,o=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new vf(this,e,r,o);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>rC){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,o){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,o){var i,l;const d=e.toLocaleLowerCase(),{close:u,error:h,leave:m,join:x}=xn;if(o&&[u,h,m,x].indexOf(d)>=0&&o!==this._joinRef())return;let w=this._onMessage(d,r,o);if(r&&!w)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(d)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(b=>{var E,_,j;return((E=b.filter)===null||E===void 0?void 0:E.event)==="*"||((j=(_=b.filter)===null||_===void 0?void 0:_.event)===null||j===void 0?void 0:j.toLocaleLowerCase())===d}).map(b=>b.callback(w,o)):(l=this.bindings[d])===null||l===void 0||l.filter(b=>{var E,_,j,N,S,k;if(["broadcast","presence","postgres_changes"].includes(d))if("id"in b){const P=b.id,z=(E=b.filter)===null||E===void 0?void 0:E.event;return P&&((_=r.ids)===null||_===void 0?void 0:_.includes(P))&&(z==="*"||(z==null?void 0:z.toLocaleLowerCase())===((j=r.data)===null||j===void 0?void 0:j.type.toLocaleLowerCase()))}else{const P=(S=(N=b==null?void 0:b.filter)===null||N===void 0?void 0:N.event)===null||S===void 0?void 0:S.toLocaleLowerCase();return P==="*"||P===((k=r==null?void 0:r.event)===null||k===void 0?void 0:k.toLocaleLowerCase())}else return b.type.toLocaleLowerCase()===d}).map(b=>{if(typeof w=="object"&&"ids"in w){const E=w.data,{schema:_,table:j,commit_timestamp:N,type:S,errors:k}=E;w=Object.assign(Object.assign({},{schema:_,table:j,commit_timestamp:N,eventType:S,new:{},old:{},errors:k}),this._getPayloadRecords(E))}b.callback(w,o)})}_isClosed(){return this.state===Dt.closed}_isJoined(){return this.state===Dt.joined}_isJoining(){return this.state===Dt.joining}_isLeaving(){return this.state===Dt.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,o){const i=e.toLocaleLowerCase(),l={type:i,filter:r,callback:o};return this.bindings[i]?this.bindings[i].push(l):this.bindings[i]=[l],this}_off(e,r){const o=e.toLocaleLowerCase();return this.bindings[o]&&(this.bindings[o]=this.bindings[o].filter(i=>{var l;return!(((l=i.type)===null||l===void 0?void 0:l.toLocaleLowerCase())===o&&bl.isEqual(i.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const o in e)if(e[o]!==r[o])return!1;return!0}static isFilterValueEqual(e,r){return(e??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(xn.close,{},e)}_onError(e){this._on(xn.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Dt.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=H0(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=H0(e.columns,e.old_record)),r}};const yf=()=>{},ud={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},uC=[1e3,2e3,5e3,1e4],hC=1e4,fC=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;let mC=class{constructor(e,r){var o;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=lm,this.transport=null,this.heartbeatIntervalMs=ud.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=yf,this.ref=0,this.reconnectTimer=null,this.vsn=V0,this.logger=yf,this.conn=null,this.sendBuffer=[],this.serializer=new nC,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>i?(...l)=>i(...l):(...l)=>fetch(...l),!(!((o=r==null?void 0:r.params)===null||o===void 0)&&o.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${cm.websocket}`,this.httpEndpoint=Tb(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=kb.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const o=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(o),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,o){this.logger(e,r,o)}connectionState(){switch(this.conn&&this.conn.readyState){case Ho.connecting:return Ko.Connecting;case Ho.open:return Ko.Open;case Ho.closing:return Ko.Closing;default:return Ko.Closed}}isConnected(){return this.connectionState()===Ko.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const o=`realtime:${e}`,i=this.getChannels().find(l=>l.topic===o);if(i)return i;{const l=new Ib(`realtime:${e}`,r,this);return this.channels.push(l),l}}push(e){const{topic:r,event:o,payload:i,ref:l}=e,d=()=>{this.encode(e,u=>{var h;(h=this.conn)===null||h===void 0||h.send(u)})};this.log("push",`${r} ${o} (${l})`,i),this.isConnected()?d():this.sendBuffer.push(d)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(tC,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},ud.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(o=>o.topic===e&&(o._isJoined()||o._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(m){this.log("error","error in heartbeat callback",m)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:o,event:i,payload:l,ref:d}=r,u=d?`(${d})`:"",h=l.status||"";this.log("receive",`${h} ${o} ${i} ${u}`.trim(),l),this.channels.filter(m=>m._isMember(o)).forEach(m=>m._trigger(i,l,d)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){if(this.conn){if(this.conn.readyState===Ho.open||this.conn.readyState===Ho.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(xn.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const o=e.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${e}${o}${i}`}_workerObjectUrl(e){let r;if(e)r=e;else{const o=new Blob([fC],{type:"application/javascript"});r=URL.createObjectURL(o)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r,o=!1;if(e)r=e,o=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(i){this.log("error","Error fetching access token from callback",i),r=this.accessTokenValue}else r=this.accessTokenValue;o?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(i=>{const l={access_token:r,version:Z2};r&&i.updateJoinPayload(l),i.joinedOnce&&i._isJoined()&&i._push(xn.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(o=>{try{o(r)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(o){this.log("error",`error triggering ${e} callbacks`,o)}}_setupReconnectionTimer(){this.reconnectTimer=new Ab(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},ud.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,o,i,l,d,u,h,m,x,p,w,b;switch(this.transport=(r=e==null?void 0:e.transport)!==null&&r!==void 0?r:null,this.timeout=(o=e==null?void 0:e.timeout)!==null&&o!==void 0?o:lm,this.heartbeatIntervalMs=(i=e==null?void 0:e.heartbeatIntervalMs)!==null&&i!==void 0?i:ud.HEARTBEAT_INTERVAL,this.worker=(l=e==null?void 0:e.worker)!==null&&l!==void 0?l:!1,this.accessToken=(d=e==null?void 0:e.accessToken)!==null&&d!==void 0?d:null,this.heartbeatCallback=(u=e==null?void 0:e.heartbeatCallback)!==null&&u!==void 0?u:yf,this.vsn=(h=e==null?void 0:e.vsn)!==null&&h!==void 0?h:V0,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(m=e==null?void 0:e.reconnectAfterMs)!==null&&m!==void 0?m:(E=>uC[E-1]||hC),this.vsn){case Rb:this.encode=(x=e==null?void 0:e.encode)!==null&&x!==void 0?x:((E,_)=>_(JSON.stringify(E))),this.decode=(p=e==null?void 0:e.decode)!==null&&p!==void 0?p:((E,_)=>_(JSON.parse(E)));break;case eC:this.encode=(w=e==null?void 0:e.encode)!==null&&w!==void 0?w:this.serializer.encode.bind(this.serializer),this.decode=(b=e==null?void 0:e.decode)!==null&&b!==void 0?b:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}};const pC=Object.freeze(Object.defineProperty({__proto__:null,REALTIME_CHANNEL_STATES:dC,get REALTIME_LISTEN_TYPES(){return Ja},get REALTIME_POSTGRES_CHANGES_LISTEN_EVENT(){return hm},get REALTIME_PRESENCE_LISTEN_EVENTS(){return um},get REALTIME_SUBSCRIBE_STATES(){return Mn},RealtimeChannel:Ib,RealtimeClient:mC,RealtimePresence:Ob,WebSocketFactory:kb},Symbol.toStringTag,{value:"Module"})),Db=Ll(pC);class zl extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function xt(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class Mb extends zl{constructor(e,r,o){super(e),this.name="StorageApiError",this.status=r,this.statusCode=o}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class qd extends zl{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}const Xm=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),gC=()=>Response,fm=t=>{if(Array.isArray(t))return t.map(r=>fm(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,o])=>{const i=r.replace(/([-_][a-z])/gi,l=>l.toUpperCase().replace(/[-_]/g,""));e[i]=fm(o)}),e},xC=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},vC=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t),bf=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},yC=(t,e,r)=>Se(void 0,void 0,void 0,function*(){const o=yield gC();t instanceof o&&!(r!=null&&r.noResolveJson)?t.json().then(i=>{const l=t.status||500,d=(i==null?void 0:i.statusCode)||l+"";e(new Mb(bf(i),l,d))}).catch(i=>{e(new qd(bf(i),i))}):e(new qd(bf(t),t))}),bC=(t,e,r,o)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!o?i:(xC(o)?(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(o)):i.body=o,e!=null&&e.duplex&&(i.duplex=e.duplex),Object.assign(Object.assign({},i),r))};function Ul(t,e,r,o,i,l){return Se(this,void 0,void 0,function*(){return new Promise((d,u)=>{t(r,bC(e,o,i,l)).then(h=>{if(!h.ok)throw h;return o!=null&&o.noResolveJson?h:h.json()}).then(h=>d(h)).catch(h=>yC(h,u,o))})})}function Cl(t,e,r,o){return Se(this,void 0,void 0,function*(){return Ul(t,"GET",e,r,o)})}function mn(t,e,r,o,i){return Se(this,void 0,void 0,function*(){return Ul(t,"POST",e,o,i,r)})}function mm(t,e,r,o,i){return Se(this,void 0,void 0,function*(){return Ul(t,"PUT",e,o,i,r)})}function wC(t,e,r,o){return Se(this,void 0,void 0,function*(){return Ul(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),o)})}function Zm(t,e,r,o,i){return Se(this,void 0,void 0,function*(){return Ul(t,"DELETE",e,o,i,r)})}class jC{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r}then(e,r){return this.execute().then(e,r)}execute(){return Se(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(xt(e))return{data:null,error:e};throw e}})}}var Lb;class _C{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r,this[Lb]="BlobDownloadBuilder",this.promise=null}asStream(){return new jC(this.downloadFn,this.shouldThrowOnError)}then(e,r){return this.getPromise().then(e,r)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return Se(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(xt(e))return{data:null,error:e};throw e}})}}Lb=Symbol.toStringTag;const EC={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},K0={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class NC{constructor(e,r={},o,i){this.shouldThrowOnError=!1,this.url=e,this.headers=r,this.bucketId=o,this.fetch=Xm(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,r,o,i){return Se(this,void 0,void 0,function*(){try{let l;const d=Object.assign(Object.assign({},K0),i);let u=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(d.upsert)});const h=d.metadata;typeof Blob<"u"&&o instanceof Blob?(l=new FormData,l.append("cacheControl",d.cacheControl),h&&l.append("metadata",this.encodeMetadata(h)),l.append("",o)):typeof FormData<"u"&&o instanceof FormData?(l=o,l.has("cacheControl")||l.append("cacheControl",d.cacheControl),h&&!l.has("metadata")&&l.append("metadata",this.encodeMetadata(h))):(l=o,u["cache-control"]=`max-age=${d.cacheControl}`,u["content-type"]=d.contentType,h&&(u["x-metadata"]=this.toBase64(this.encodeMetadata(h))),(typeof ReadableStream<"u"&&l instanceof ReadableStream||l&&typeof l=="object"&&"pipe"in l&&typeof l.pipe=="function")&&!d.duplex&&(d.duplex="half")),i!=null&&i.headers&&(u=Object.assign(Object.assign({},u),i.headers));const m=this._removeEmptyFolders(r),x=this._getFinalPath(m),p=yield(e=="PUT"?mm:mn)(this.fetch,`${this.url}/object/${x}`,l,Object.assign({headers:u},d!=null&&d.duplex?{duplex:d.duplex}:{}));return{data:{path:m,id:p.Id,fullPath:p.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(xt(l))return{data:null,error:l};throw l}})}upload(e,r,o){return Se(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,o)})}uploadToSignedUrl(e,r,o,i){return Se(this,void 0,void 0,function*(){const l=this._removeEmptyFolders(e),d=this._getFinalPath(l),u=new URL(this.url+`/object/upload/sign/${d}`);u.searchParams.set("token",r);try{let h;const m=Object.assign({upsert:K0.upsert},i),x=Object.assign(Object.assign({},this.headers),{"x-upsert":String(m.upsert)});typeof Blob<"u"&&o instanceof Blob?(h=new FormData,h.append("cacheControl",m.cacheControl),h.append("",o)):typeof FormData<"u"&&o instanceof FormData?(h=o,h.append("cacheControl",m.cacheControl)):(h=o,x["cache-control"]=`max-age=${m.cacheControl}`,x["content-type"]=m.contentType);const p=yield mm(this.fetch,u.toString(),h,{headers:x});return{data:{path:l,fullPath:p.Key},error:null}}catch(h){if(this.shouldThrowOnError)throw h;if(xt(h))return{data:null,error:h};throw h}})}createSignedUploadUrl(e,r){return Se(this,void 0,void 0,function*(){try{let o=this._getFinalPath(e);const i=Object.assign({},this.headers);r!=null&&r.upsert&&(i["x-upsert"]="true");const l=yield mn(this.fetch,`${this.url}/object/upload/sign/${o}`,{},{headers:i}),d=new URL(this.url+l.url),u=d.searchParams.get("token");if(!u)throw new zl("No token returned by API");return{data:{signedUrl:d.toString(),path:e,token:u},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(xt(o))return{data:null,error:o};throw o}})}update(e,r,o){return Se(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,o)})}move(e,r,o){return Se(this,void 0,void 0,function*(){try{return{data:yield mn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:o==null?void 0:o.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(xt(i))return{data:null,error:i};throw i}})}copy(e,r,o){return Se(this,void 0,void 0,function*(){try{return{data:{path:(yield mn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:o==null?void 0:o.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(xt(i))return{data:null,error:i};throw i}})}createSignedUrl(e,r,o){return Se(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),l=yield mn(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:r},o!=null&&o.transform?{transform:o.transform}:{}),{headers:this.headers});const d=o!=null&&o.download?`&download=${o.download===!0?"":o.download}`:"";return l={signedUrl:encodeURI(`${this.url}${l.signedURL}${d}`)},{data:l,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(xt(i))return{data:null,error:i};throw i}})}createSignedUrls(e,r,o){return Se(this,void 0,void 0,function*(){try{const i=yield mn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),l=o!=null&&o.download?`&download=${o.download===!0?"":o.download}`:"";return{data:i.map(d=>Object.assign(Object.assign({},d),{signedUrl:d.signedURL?encodeURI(`${this.url}${d.signedURL}${l}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(xt(i))return{data:null,error:i};throw i}})}download(e,r){const i=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",l=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),d=l?`?${l}`:"",u=this._getFinalPath(e),h=()=>Cl(this.fetch,`${this.url}/${i}/${u}${d}`,{headers:this.headers,noResolveJson:!0});return new _C(h,this.shouldThrowOnError)}info(e){return Se(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const o=yield Cl(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:fm(o),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(xt(o))return{data:null,error:o};throw o}})}exists(e){return Se(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield wC(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(xt(o)&&o instanceof qd){const i=o.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:o}}throw o}})}getPublicUrl(e,r){const o=this._getFinalPath(e),i=[],l=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";l!==""&&i.push(l);const u=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",h=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});h!==""&&i.push(h);let m=i.join("&");return m!==""&&(m=`?${m}`),{data:{publicUrl:encodeURI(`${this.url}/${u}/public/${o}${m}`)}}}remove(e){return Se(this,void 0,void 0,function*(){try{return{data:yield Zm(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(xt(r))return{data:null,error:r};throw r}})}list(e,r,o){return Se(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},EC),r),{prefix:e||""});return{data:yield mn(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},o),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(xt(i))return{data:null,error:i};throw i}})}listV2(e,r){return Se(this,void 0,void 0,function*(){try{const o=Object.assign({},e);return{data:yield mn(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,o,{headers:this.headers},r),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(xt(o))return{data:null,error:o};throw o}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const $b="2.87.1",Bb={"X-Client-Info":`storage-js/${$b}`};class SC{constructor(e,r={},o,i){this.shouldThrowOnError=!1;const l=new URL(e);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(l.hostname)&&!l.hostname.includes("storage.supabase.")&&(l.hostname=l.hostname.replace("supabase.","storage.supabase.")),this.url=l.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Bb),r),this.fetch=Xm(o)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return Se(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(e);return{data:yield Cl(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(xt(r))return{data:null,error:r};throw r}})}getBucket(e){return Se(this,void 0,void 0,function*(){try{return{data:yield Cl(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(xt(r))return{data:null,error:r};throw r}})}createBucket(e){return Se(this,arguments,void 0,function*(r,o={public:!1}){try{return{data:yield mn(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:o.type,public:o.public,file_size_limit:o.fileSizeLimit,allowed_mime_types:o.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(xt(i))return{data:null,error:i};throw i}})}updateBucket(e,r){return Se(this,void 0,void 0,function*(){try{return{data:yield mm(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(xt(o))return{data:null,error:o};throw o}})}emptyBucket(e){return Se(this,void 0,void 0,function*(){try{return{data:yield mn(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(xt(r))return{data:null,error:r};throw r}})}deleteBucket(e){return Se(this,void 0,void 0,function*(){try{return{data:yield Zm(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(xt(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(e){const r={};return e&&("limit"in e&&(r.limit=String(e.limit)),"offset"in e&&(r.offset=String(e.offset)),e.search&&(r.search=e.search),e.sortColumn&&(r.sortColumn=e.sortColumn),e.sortOrder&&(r.sortOrder=e.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}var kl=class extends Error{constructor(t,e){var r;super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&((r=e.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function CC(t,e,r){const o=new URL(e,t);if(r)for(const[i,l]of Object.entries(r))l!==void 0&&o.searchParams.set(i,l);return o.toString()}async function kC(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function RC(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:r,path:o,query:i,body:l,headers:d}){const u=CC(t.baseUrl,o,i),h=await kC(t.auth),m=await e(u,{method:r,headers:{...l?{"Content-Type":"application/json"}:{},...h,...d},body:l?JSON.stringify(l):void 0}),x=await m.text(),p=(m.headers.get("content-type")||"").includes("application/json"),w=p&&x?JSON.parse(x):x;if(!m.ok){const b=p?w:void 0,E=b==null?void 0:b.error;throw new kl((E==null?void 0:E.message)??`Request failed with status ${m.status}`,{status:m.status,icebergType:E==null?void 0:E.type,icebergCode:E==null?void 0:E.code,details:b})}return{status:m.status,headers:m.headers,data:w}}}}function hd(t){return t.join("")}var AC=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:hd(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(o=>({namespace:o}))}async createNamespace(t,e){const r={namespace:t.namespace,properties:e==null?void 0:e.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${hd(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${hd(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${hd(t.namespace)}`}),!0}catch(e){if(e instanceof kl&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(r){if(r instanceof kl&&r.status===409)return;throw r}}};function Ba(t){return t.join("")}var PC=class{constructor(t,e="",r){this.client=t,this.prefix=e,this.accessDelegation=r}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ba(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Ba(t.namespace)}/tables`,body:e,headers:r})).data.metadata}async updateTable(t,e){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Ba(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Ba(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String((e==null?void 0:e.purge)??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ba(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Ba(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(r){if(r instanceof kl&&r.status===404)return!1;throw r}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(r){if(r instanceof kl&&r.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw r}}},TC=class{constructor(t){var o;let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const r=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=RC({baseUrl:r,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=(o=t.accessDelegation)==null?void 0:o.join(","),this.namespaceOps=new AC(this.client,e),this.tableOps=new PC(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}};class Fb{constructor(e,r={},o){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Bb),r),this.fetch=Xm(o)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return Se(this,void 0,void 0,function*(){try{return{data:yield mn(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(xt(r))return{data:null,error:r};throw r}})}listBuckets(e){return Se(this,void 0,void 0,function*(){try{const r=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&r.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&r.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&r.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&r.set("sortOrder",e.sortOrder),e!=null&&e.search&&r.set("search",e.search);const o=r.toString(),i=o?`${this.url}/bucket?${o}`:`${this.url}/bucket`;return{data:yield Cl(this.fetch,i,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(xt(r))return{data:null,error:r};throw r}})}deleteBucket(e){return Se(this,void 0,void 0,function*(){try{return{data:yield Zm(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(xt(r))return{data:null,error:r};throw r}})}from(e){if(!vC(e))throw new zl("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new TC({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:()=>Se(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch}),o=this.shouldThrowOnError;return new Proxy(r,{get(l,d){const u=l[d];return typeof u!="function"?u:(...h)=>Se(this,void 0,void 0,function*(){try{return{data:yield u.apply(l,h),error:null}}catch(m){if(o)throw m;return{data:null,error:m}}})}})}}const ep={"X-Client-Info":`storage-js/${$b}`,"Content-Type":"application/json"};class tp extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Or(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}class Ad extends tp{constructor(e,r,o){super(e),this.name="StorageVectorsApiError",this.status=r,this.statusCode=o}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class zb extends tp{constructor(e,r){super(e),this.name="StorageVectorsUnknownError",this.originalError=r}}var pm;(function(t){t.InternalError="InternalError",t.S3VectorConflictException="S3VectorConflictException",t.S3VectorNotFoundException="S3VectorNotFoundException",t.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",t.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",t.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(pm||(pm={}));const du=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),OC=()=>Response,Ub=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},IC=t=>Array.from(new Float32Array(t)),DC=(t,e)=>{if(e!==void 0&&t.float32.length!==e)throw new Error(`Vector dimension mismatch: expected ${e}, got ${t.float32.length}`)},G0=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),MC=(t,e,r)=>Se(void 0,void 0,void 0,function*(){if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(r!=null&&r.noResolveJson)){const i=t.status||500,l=t;if(typeof l.json=="function")l.json().then(d=>{const u=(d==null?void 0:d.statusCode)||(d==null?void 0:d.code)||i+"";e(new Ad(G0(d),i,u))}).catch(()=>{const d=i+"",u=l.statusText||`HTTP ${i} error`;e(new Ad(u,i,d))});else{const d=i+"",u=l.statusText||`HTTP ${i} error`;e(new Ad(u,i,d))}}else e(new zb(G0(t),t))}),LC=(t,e,r,o)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return o?(Ub(o)?(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(o)):i.body=o,Object.assign(Object.assign({},i),r)):i};function $C(t,e,r,o,i,l){return Se(this,void 0,void 0,function*(){return new Promise((d,u)=>{t(r,LC(e,o,i,l)).then(h=>{if(!h.ok)throw h;if(o!=null&&o.noResolveJson)return h;const m=h.headers.get("content-type");return!m||!m.includes("application/json")?{}:h.json()}).then(h=>d(h)).catch(h=>MC(h,u,o))})})}function Fr(t,e,r,o,i){return Se(this,void 0,void 0,function*(){return $C(t,"POST",e,o,i,r)})}class qb{constructor(e,r={},o){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},ep),r),this.fetch=du(o)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return Se(this,void 0,void 0,function*(){try{return{data:(yield Fr(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Or(r))return{data:null,error:r};throw r}})}getIndex(e,r){return Se(this,void 0,void 0,function*(){try{return{data:yield Fr(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Or(o))return{data:null,error:o};throw o}})}listIndexes(e){return Se(this,void 0,void 0,function*(){try{return{data:yield Fr(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Or(r))return{data:null,error:r};throw r}})}deleteIndex(e,r){return Se(this,void 0,void 0,function*(){try{return{data:(yield Fr(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}))||{},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Or(o))return{data:null,error:o};throw o}})}}class Wb{constructor(e,r={},o){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},ep),r),this.fetch=du(o)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return Se(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Fr(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Or(r))return{data:null,error:r};throw r}})}getVectors(e){return Se(this,void 0,void 0,function*(){try{return{data:yield Fr(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Or(r))return{data:null,error:r};throw r}})}listVectors(e){return Se(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield Fr(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Or(r))return{data:null,error:r};throw r}})}queryVectors(e){return Se(this,void 0,void 0,function*(){try{return{data:yield Fr(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Or(r))return{data:null,error:r};throw r}})}deleteVectors(e){return Se(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Fr(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Or(r))return{data:null,error:r};throw r}})}}class Vb{constructor(e,r={},o){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},ep),r),this.fetch=du(o)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return Se(this,void 0,void 0,function*(){try{return{data:(yield Fr(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Or(r))return{data:null,error:r};throw r}})}getBucket(e){return Se(this,void 0,void 0,function*(){try{return{data:yield Fr(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Or(r))return{data:null,error:r};throw r}})}listBuckets(){return Se(this,arguments,void 0,function*(e={}){try{return{data:yield Fr(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Or(r))return{data:null,error:r};throw r}})}deleteBucket(e){return Se(this,void 0,void 0,function*(){try{return{data:(yield Fr(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Or(r))return{data:null,error:r};throw r}})}}class Hb extends Vb{constructor(e,r={}){super(e,r.headers||{},r.fetch)}from(e){return new Kb(this.url,this.headers,e,this.fetch)}createBucket(e){const r=Object.create(null,{createBucket:{get:()=>super.createBucket}});return Se(this,void 0,void 0,function*(){return r.createBucket.call(this,e)})}getBucket(e){const r=Object.create(null,{getBucket:{get:()=>super.getBucket}});return Se(this,void 0,void 0,function*(){return r.getBucket.call(this,e)})}listBuckets(){const e=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return Se(this,arguments,void 0,function*(r={}){return e.listBuckets.call(this,r)})}deleteBucket(e){const r=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return Se(this,void 0,void 0,function*(){return r.deleteBucket.call(this,e)})}}class Kb extends qb{constructor(e,r,o,i){super(e,r,i),this.vectorBucketName=o}createIndex(e){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return Se(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return Se(this,arguments,void 0,function*(r={}){return e.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return Se(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return Se(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new Gb(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class Gb extends Wb{constructor(e,r,o,i,l){super(e,r,l),this.vectorBucketName=o,this.indexName=i}putVectors(e){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return Se(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return Se(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return Se(this,arguments,void 0,function*(r={}){return e.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return Se(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return Se(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class BC extends SC{constructor(e,r={},o,i){super(e,r,o,i)}from(e){return new NC(this.url,this.headers,e,this.fetch)}get vectors(){return new Hb(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Fb(this.url+"/iceberg",this.headers,this.fetch)}}const FC=Object.freeze(Object.defineProperty({__proto__:null,StorageAnalyticsClient:Fb,StorageApiError:Mb,StorageClient:BC,StorageError:zl,StorageUnknownError:qd,StorageVectorsApiError:Ad,StorageVectorsClient:Hb,StorageVectorsError:tp,get StorageVectorsErrorCode(){return pm},StorageVectorsUnknownError:zb,VectorBucketApi:Vb,VectorBucketScope:Kb,VectorDataApi:Wb,VectorIndexApi:qb,VectorIndexScope:Gb,isPlainObject:Ub,isStorageError:xt,isStorageVectorsError:Or,normalizeToFloat32:IC,resolveFetch:du,resolveResponse:OC,validateVectorDimension:DC},Symbol.toStringTag,{value:"Module"})),zC=Ll(FC);var wf={},ml={},Q0;function UC(){return Q0||(Q0=1,Object.defineProperty(ml,"__esModule",{value:!0}),ml.version=void 0,ml.version="2.87.1"),ml}var J0;function qC(){return J0||(J0=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_REALTIME_OPTIONS=t.DEFAULT_AUTH_OPTIONS=t.DEFAULT_DB_OPTIONS=t.DEFAULT_GLOBAL_OPTIONS=t.DEFAULT_HEADERS=void 0;const e=UC();let r="";typeof Deno<"u"?r="deno":typeof document<"u"?r="web":typeof navigator<"u"&&navigator.product==="ReactNative"?r="react-native":r="node",t.DEFAULT_HEADERS={"X-Client-Info":`supabase-js-${r}/${e.version}`},t.DEFAULT_GLOBAL_OPTIONS={headers:t.DEFAULT_HEADERS},t.DEFAULT_DB_OPTIONS={schema:"public"},t.DEFAULT_AUTH_OPTIONS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},t.DEFAULT_REALTIME_OPTIONS={}})(wf)),wf}var jf={},Y0;function WC(){return Y0||(Y0=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.fetchWithAuth=t.resolveHeadersConstructor=t.resolveFetch=void 0;const e=i=>i?(...l)=>i(...l):(...l)=>fetch(...l);t.resolveFetch=e;const r=()=>Headers;t.resolveHeadersConstructor=r;const o=(i,l,d)=>{const u=(0,t.resolveFetch)(d),h=(0,t.resolveHeadersConstructor)();return async(m,x)=>{var p;const w=(p=await l())!==null&&p!==void 0?p:i;let b=new h(x==null?void 0:x.headers);return b.has("apikey")||b.set("apikey",i),b.has("Authorization")||b.set("Authorization",`Bearer ${w}`),u(m,Object.assign(Object.assign({},x),{headers:b}))}};t.fetchWithAuth=o})(jf)),jf}var os={},X0;function VC(){if(X0)return os;X0=1,Object.defineProperty(os,"__esModule",{value:!0}),os.isBrowser=void 0,os.uuid=t,os.ensureTrailingSlash=e,os.applySettingDefaults=o,os.validateSupabaseUrl=i;function t(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(l){var d=Math.random()*16|0,u=l=="x"?d:d&3|8;return u.toString(16)})}function e(l){return l.endsWith("/")?l:l+"/"}const r=()=>typeof window<"u";os.isBrowser=r;function o(l,d){var u,h;const{db:m,auth:x,realtime:p,global:w}=l,{db:b,auth:E,realtime:_,global:j}=d,N={db:Object.assign(Object.assign({},b),m),auth:Object.assign(Object.assign({},E),x),realtime:Object.assign(Object.assign({},_),p),storage:{},global:Object.assign(Object.assign(Object.assign({},j),w),{headers:Object.assign(Object.assign({},(u=j==null?void 0:j.headers)!==null&&u!==void 0?u:{}),(h=w==null?void 0:w.headers)!==null&&h!==void 0?h:{})}),accessToken:async()=>""};return l.accessToken?N.accessToken=l.accessToken:delete N.accessToken,N}function i(l){const d=l==null?void 0:l.trim();if(!d)throw new Error("supabaseUrl is required.");if(!d.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(e(d))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}return os}var pl={};const Qb="2.87.1",Ga=30*1e3,gm=3,_f=gm*Ga,HC="http://localhost:9999",KC="supabase.auth.token",GC={"X-Client-Info":`gotrue-js/${Qb}`},xm="X-Supabase-Api-Version",Jb={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},QC=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,JC=600*1e3;let xi=class extends Error{constructor(e,r,o){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=o}};function Ie(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}let Yb=class extends xi{constructor(e,r,o){super(e,r,o),this.name="AuthApiError",this.status=r,this.code=o}};function Xb(t){return Ie(t)&&t.name==="AuthApiError"}let to=class extends xi{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}},js=class extends xi{constructor(e,r,o,i){super(e,o,i),this.name=r,this.status=o}},Rr=class extends js{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function Zb(t){return Ie(t)&&t.name==="AuthSessionMissingError"}let Uo=class extends js{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},wl=class extends js{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}},jl=class extends js{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function ew(t){return Ie(t)&&t.name==="AuthImplicitGrantRedirectError"}let vm=class extends js{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},Wd=class extends js{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}};function Pd(t){return Ie(t)&&t.name==="AuthRetryableFetchError"}let ym=class extends js{constructor(e,r,o){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=o}};function YC(t){return Ie(t)&&t.name==="AuthWeakPasswordError"}let Vd=class extends js{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}};const Hd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Z0=` 	
\r=`.split(""),XC=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Z0.length;e+=1)t[Z0[e].charCodeAt(0)]=-2;for(let e=0;e<Hd.length;e+=1)t[Hd[e].charCodeAt(0)]=e;return t})();function ev(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const o=e.queue>>e.queuedBits-6&63;r(Hd[o]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const o=e.queue>>e.queuedBits-6&63;r(Hd[o]),e.queuedBits-=6}}function tw(t,e,r){const o=XC[t];if(o>-1)for(e.queue=e.queue<<6|o,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(o===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function tv(t){const e=[],r=d=>{e.push(String.fromCodePoint(d))},o={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},l=d=>{tk(d,o,r)};for(let d=0;d<t.length;d+=1)tw(t.charCodeAt(d),i,l);return e.join("")}function ZC(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function ek(t,e){for(let r=0;r<t.length;r+=1){let o=t.charCodeAt(r);if(o>55295&&o<=56319){const i=(o-55296)*1024&65535;o=(t.charCodeAt(r+1)-56320&65535|i)+65536,r+=1}ZC(o,e)}}function tk(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let o=1;o<6;o+=1)if((t>>7-o&1)===0){e.utf8seq=o;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function Ya(t){const e=[],r={queue:0,queuedBits:0},o=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)tw(t.charCodeAt(i),r,o);return new Uint8Array(e)}function rk(t){const e=[];return ek(t,r=>e.push(r)),new Uint8Array(e)}function Qo(t){const e=[],r={queue:0,queuedBits:0},o=i=>{e.push(i)};return t.forEach(i=>ev(i,r,o)),ev(null,r,o),e.join("")}function nk(t){return Math.round(Date.now()/1e3)+t}function sk(){return Symbol("auth-callback")}const or=()=>typeof window<"u"&&typeof document<"u",Bo={tested:!1,writable:!1},rw=()=>{if(!or())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Bo.tested)return Bo.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Bo.tested=!0,Bo.writable=!0}catch{Bo.tested=!0,Bo.writable=!1}return Bo.writable};function ok(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,l)=>{e[l]=i})}catch{}return r.searchParams.forEach((o,i)=>{e[i]=o}),e}const nw=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),ak=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Qa=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},Fo=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},sr=async(t,e)=>{await t.removeItem(e)};class uu{constructor(){this.promise=new uu.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}uu.promiseConstructor=Promise;function Ef(t){const e=t.split(".");if(e.length!==3)throw new Vd("Invalid JWT structure");for(let o=0;o<e.length;o++)if(!QC.test(e[o]))throw new Vd("JWT not in base64url format");return{header:JSON.parse(tv(e[0])),payload:JSON.parse(tv(e[1])),signature:Ya(e[2]),raw:{header:e[0],payload:e[1]}}}async function ik(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function lk(t,e){return new Promise((o,i)=>{(async()=>{for(let l=0;l<1/0;l++)try{const d=await t(l);if(!e(l,null,d)){o(d);return}}catch(d){if(!e(l,d)){i(d);return}}})()})}function ck(t){return("0"+t.toString(16)).substr(-2)}function dk(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",o=r.length;let i="";for(let l=0;l<56;l++)i+=r.charAt(Math.floor(Math.random()*o));return i}return crypto.getRandomValues(e),Array.from(e,ck).join("")}async function uk(t){const r=new TextEncoder().encode(t),o=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(o);return Array.from(i).map(l=>String.fromCharCode(l)).join("")}async function hk(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await uk(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Fa(t,e,r=!1){const o=dk();let i=o;r&&(i+="/PASSWORD_RECOVERY"),await Qa(t,`${e}-code-verifier`,i);const l=await hk(o);return[l,o===l?"plain":"s256"]}const fk=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function mk(t){const e=t.headers.get(xm);if(!e||!e.match(fk))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function pk(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function gk(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const xk=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function za(t){if(!xk.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Nf(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const o=r.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function vk(t,e){return new Proxy(t,{get:(r,o,i)=>{if(o==="__isInsecureUserWarningProxy")return!0;if(typeof o=="symbol"){const l=o.toString();if(l==="Symbol(Symbol.toPrimitive)"||l==="Symbol(Symbol.toStringTag)"||l==="Symbol(util.inspect.custom)"||l==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,o,i)}return!e.value&&typeof o=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(r,o,i)}})}function rv(t){return JSON.parse(JSON.stringify(t))}const qo=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),yk=[502,503,504];async function nv(t){var e;if(!ak(t))throw new Wd(qo(t),0);if(yk.includes(t.status))throw new Wd(qo(t),t.status);let r;try{r=await t.json()}catch(l){throw new to(qo(l),l)}let o;const i=mk(t);if(i&&i.getTime()>=Jb["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?o=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(o=r.error_code),o){if(o==="weak_password")throw new ym(qo(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(o==="session_not_found")throw new Rr}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((l,d)=>l&&typeof d=="string",!0))throw new ym(qo(r),t.status,r.weak_password.reasons);throw new Yb(qo(r),t.status||500,o)}const bk=(t,e,r,o)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(o),Object.assign(Object.assign({},i),r))};async function Be(t,e,r,o){var i;const l=Object.assign({},o==null?void 0:o.headers);l[xm]||(l[xm]=Jb["2024-01-01"].name),o!=null&&o.jwt&&(l.Authorization=`Bearer ${o.jwt}`);const d=(i=o==null?void 0:o.query)!==null&&i!==void 0?i:{};o!=null&&o.redirectTo&&(d.redirect_to=o.redirectTo);const u=Object.keys(d).length?"?"+new URLSearchParams(d).toString():"",h=await wk(t,e,r+u,{headers:l,noResolveJson:o==null?void 0:o.noResolveJson},{},o==null?void 0:o.body);return o!=null&&o.xform?o==null?void 0:o.xform(h):{data:Object.assign({},h),error:null}}async function wk(t,e,r,o,i,l){const d=bk(e,o,i,l);let u;try{u=await t(r,Object.assign({},d))}catch(h){throw console.error(h),new Wd(qo(h),0)}if(u.ok||await nv(u),o!=null&&o.noResolveJson)return u;try{return await u.json()}catch(h){await nv(h)}}function hn(t){var e;let r=null;Ek(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=nk(t.expires_in)));const o=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:o},error:null}}function sv(t){const e=hn(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,o)=>r&&typeof o=="string",!0)&&(e.data.weak_password=t.weak_password),e}function ro(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function jk(t){return{data:t,error:null}}function _k(t){const{action_link:e,email_otp:r,hashed_token:o,redirect_to:i,verification_type:l}=t,d=wo(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),u={action_link:e,email_otp:r,hashed_token:o,redirect_to:i,verification_type:l},h=Object.assign({},d);return{data:{properties:u,user:h},error:null}}function ov(t){return t}function Ek(t){return t.access_token&&t.refresh_token&&t.expires_in}const Td=["global","local","others"];let rp=class{constructor({url:e="",headers:r={},fetch:o}){this.url=e,this.headers=r,this.fetch=nw(o),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,r=Td[0]){if(Td.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Td.join(", ")}`);try{return await Be(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(o){if(Ie(o))return{data:null,error:o};throw o}}async inviteUserByEmail(e,r={}){try{return await Be(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:ro})}catch(o){if(Ie(o))return{data:{user:null},error:o};throw o}}async generateLink(e){try{const{options:r}=e,o=wo(e,["options"]),i=Object.assign(Object.assign({},o),r);return"newEmail"in o&&(i.new_email=o==null?void 0:o.newEmail,delete i.newEmail),await Be(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:_k,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(Ie(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await Be(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:ro})}catch(r){if(Ie(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,o,i,l,d,u,h;try{const m={nextPage:null,lastPage:0,total:0},x=await Be(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(o=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&o!==void 0?o:"",per_page:(l=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&l!==void 0?l:""},xform:ov});if(x.error)throw x.error;const p=await x.json(),w=(d=x.headers.get("x-total-count"))!==null&&d!==void 0?d:0,b=(h=(u=x.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&h!==void 0?h:[];return b.length>0&&(b.forEach(E=>{const _=parseInt(E.split(";")[0].split("=")[1].substring(0,1)),j=JSON.parse(E.split(";")[1].split("=")[1]);m[`${j}Page`]=_}),m.total=parseInt(w)),{data:Object.assign(Object.assign({},p),m),error:null}}catch(m){if(Ie(m))return{data:{users:[]},error:m};throw m}}async getUserById(e){za(e);try{return await Be(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:ro})}catch(r){if(Ie(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){za(e);try{return await Be(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:ro})}catch(o){if(Ie(o))return{data:{user:null},error:o};throw o}}async deleteUser(e,r=!1){za(e);try{return await Be(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:ro})}catch(o){if(Ie(o))return{data:{user:null},error:o};throw o}}async _listFactors(e){za(e.userId);try{const{data:r,error:o}=await Be(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:o}}catch(r){if(Ie(r))return{data:null,error:r};throw r}}async _deleteFactor(e){za(e.userId),za(e.id);try{return{data:await Be(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(Ie(r))return{data:null,error:r};throw r}}async _listOAuthClients(e){var r,o,i,l,d,u,h;try{const m={nextPage:null,lastPage:0,total:0},x=await Be(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(o=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&o!==void 0?o:"",per_page:(l=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&l!==void 0?l:""},xform:ov});if(x.error)throw x.error;const p=await x.json(),w=(d=x.headers.get("x-total-count"))!==null&&d!==void 0?d:0,b=(h=(u=x.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&h!==void 0?h:[];return b.length>0&&(b.forEach(E=>{const _=parseInt(E.split(";")[0].split("=")[1].substring(0,1)),j=JSON.parse(E.split(";")[1].split("=")[1]);m[`${j}Page`]=_}),m.total=parseInt(w)),{data:Object.assign(Object.assign({},p),m),error:null}}catch(m){if(Ie(m))return{data:{clients:[]},error:m};throw m}}async _createOAuthClient(e){try{return await Be(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Ie(r))return{data:null,error:r};throw r}}async _getOAuthClient(e){try{return await Be(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Ie(r))return{data:null,error:r};throw r}}async _updateOAuthClient(e,r){try{return await Be(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:r,headers:this.headers,xform:o=>({data:o,error:null})})}catch(o){if(Ie(o))return{data:null,error:o};throw o}}async _deleteOAuthClient(e){try{return await Be(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Ie(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(e){try{return await Be(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Ie(r))return{data:null,error:r};throw r}}};function av(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}const Wo={debug:!!(globalThis&&rw()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class np extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}let sw=class extends np{};class Nk extends np{}async function ow(t,e,r){Wo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const o=new globalThis.AbortController;return e>0&&setTimeout(()=>{o.abort(),Wo.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:o.signal},async i=>{if(i){Wo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await r()}finally{Wo.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw Wo.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new sw(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Wo.debug)try{const l=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(l,null,"  "))}catch(l){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",l)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}const iv={};async function Sk(t,e,r){var o;const i=(o=iv[t])!==null&&o!==void 0?o:Promise.resolve(),l=Promise.race([i.catch(()=>null),e>=0?new Promise((d,u)=>{setTimeout(()=>{u(new Nk(`Acquring process lock with name "${t}" timed out`))},e)}):null].filter(d=>d)).catch(d=>{if(d&&d.isAcquireTimeout)throw d;return null}).then(async()=>await r());return iv[t]=l.catch(async d=>{if(d&&d.isAcquireTimeout)return await i,null;throw d}),await l}function Ck(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function aw(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function kk(t){return parseInt(t,16)}function Rk(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,o=>o.toString(16).padStart(2,"0")).join("")}function Ak(t){var e;const{chainId:r,domain:o,expirationTime:i,issuedAt:l=new Date,nonce:d,notBefore:u,requestId:h,resources:m,scheme:x,uri:p,version:w}=t;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!o)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(d&&d.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${d}`);if(!p)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(w!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${w}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const b=aw(t.address),E=x?`${x}://${o}`:o,_=t.statement?`${t.statement}
`:"",j=`${E} wants you to sign in with your Ethereum account:
${b}

${_}`;let N=`URI: ${p}
Version: ${w}
Chain ID: ${r}${d?`
Nonce: ${d}`:""}
Issued At: ${l.toISOString()}`;if(i&&(N+=`
Expiration Time: ${i.toISOString()}`),u&&(N+=`
Not Before: ${u.toISOString()}`),h&&(N+=`
Request ID: ${h}`),m){let S=`
Resources:`;for(const k of m){if(!k||typeof k!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${k}`);S+=`
- ${k}`}N+=S}return`${j}
${N}`}class Mt extends Error{constructor({message:e,code:r,cause:o,name:i}){var l;super(e,{cause:o}),this.__isWebAuthnError=!0,this.name=(l=i??(o instanceof Error?o.name:void 0))!==null&&l!==void 0?l:"Unknown Error",this.code=r}}class Kd extends Mt{constructor(e,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:e}),this.name="WebAuthnUnknownError",this.originalError=r}}function Pk({error:t,options:e}){var r,o,i;const{publicKey:l}=e;if(!l)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Mt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((r=l.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Mt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((o=l.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new Mt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((i=l.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new Mt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new Mt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new Mt({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return l.pubKeyCredParams.filter(u=>u.type==="public-key").length===0?new Mt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new Mt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const d=window.location.hostname;if(iw(d)){if(l.rp.id!==d)return new Mt({message:`The RP ID "${l.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Mt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(l.user.id.byteLength<1||l.user.id.byteLength>64)return new Mt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new Mt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Mt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function Tk({error:t,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Mt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new Mt({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const o=window.location.hostname;if(iw(o)){if(r.rpId!==o)return new Mt({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Mt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new Mt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Mt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class Ok{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const Ik=new Ok;function Dk(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:r,excludeCredentials:o}=t,i=wo(t,["challenge","user","excludeCredentials"]),l=Ya(e).buffer,d=Object.assign(Object.assign({},r),{id:Ya(r.id).buffer}),u=Object.assign(Object.assign({},i),{challenge:l,user:d});if(o&&o.length>0){u.excludeCredentials=new Array(o.length);for(let h=0;h<o.length;h++){const m=o[h];u.excludeCredentials[h]=Object.assign(Object.assign({},m),{id:Ya(m.id).buffer,type:m.type||"public-key",transports:m.transports})}}return u}function Mk(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:r}=t,o=wo(t,["challenge","allowCredentials"]),i=Ya(e).buffer,l=Object.assign(Object.assign({},o),{challenge:i});if(r&&r.length>0){l.allowCredentials=new Array(r.length);for(let d=0;d<r.length;d++){const u=r[d];l.allowCredentials[d]=Object.assign(Object.assign({},u),{id:Ya(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return l}function Lk(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t;return{id:t.id,rawId:t.id,response:{attestationObject:Qo(new Uint8Array(t.response.attestationObject)),clientDataJSON:Qo(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function $k(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t,o=t.getClientExtensionResults(),i=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:Qo(new Uint8Array(i.authenticatorData)),clientDataJSON:Qo(new Uint8Array(i.clientDataJSON)),signature:Qo(new Uint8Array(i.signature)),userHandle:i.userHandle?Qo(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:o,authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function iw(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function lv(){var t,e;return!!(or()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function Bk(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Kd("Browser returned unexpected credential type",e)}:{data:null,error:new Kd("Empty credential response",e)}}catch(e){return{data:null,error:Pk({error:e,options:t})}}}async function Fk(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Kd("Browser returned unexpected credential type",e)}:{data:null,error:new Kd("Empty credential response",e)}}catch(e){return{data:null,error:Tk({error:e,options:t})}}}const zk={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},Uk={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Gd(...t){const e=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),r=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),o={};for(const i of t)if(i)for(const l in i){const d=i[l];if(d!==void 0)if(Array.isArray(d))o[l]=d;else if(r(d))o[l]=d;else if(e(d)){const u=o[l];e(u)?o[l]=Gd(u,d):o[l]=Gd(d)}else o[l]=d}return o}function qk(t,e){return Gd(zk,t,e||{})}function Wk(t,e){return Gd(Uk,t,e||{})}class Vk{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:r,friendlyName:o,signal:i},l){try{const{data:d,error:u}=await this.client.mfa.challenge({factorId:e,webauthn:r});if(!d)return{data:null,error:u};const h=i??Ik.createNewAbortSignal();if(d.webauthn.type==="create"){const{user:m}=d.webauthn.credential_options.publicKey;m.name||(m.name=`${m.id}:${o}`),m.displayName||(m.displayName=m.name)}switch(d.webauthn.type){case"create":{const m=qk(d.webauthn.credential_options.publicKey,l==null?void 0:l.create),{data:x,error:p}=await Bk({publicKey:m,signal:h});return x?{data:{factorId:e,challengeId:d.id,webauthn:{type:d.webauthn.type,credential_response:x}},error:null}:{data:null,error:p}}case"request":{const m=Wk(d.webauthn.credential_options.publicKey,l==null?void 0:l.request),{data:x,error:p}=await Fk(Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:m,signal:h}));return x?{data:{factorId:e,challengeId:d.id,webauthn:{type:d.webauthn.type,credential_response:x}},error:null}:{data:null,error:p}}}}catch(d){return Ie(d)?{data:null,error:d}:{data:null,error:new to("Unexpected error in challenge",d)}}}async _verify({challengeId:e,factorId:r,webauthn:o}){return this.client.mfa.verify({factorId:r,challengeId:e,webauthn:o})}async _authenticate({factorId:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:o=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},l){if(!r)return{data:null,error:new xi("rpId is required for WebAuthn authentication")};try{if(!lv())return{data:null,error:new to("Browser does not support WebAuthn",null)};const{data:d,error:u}=await this.challenge({factorId:e,webauthn:{rpId:r,rpOrigins:o},signal:i},{request:l});if(!d)return{data:null,error:u};const{webauthn:h}=d;return this._verify({factorId:e,challengeId:d.challengeId,webauthn:{type:h.type,rpId:r,rpOrigins:o,credential_response:h.credential_response}})}catch(d){return Ie(d)?{data:null,error:d}:{data:null,error:new to("Unexpected error in authenticate",d)}}}async _register({friendlyName:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:o=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},l){if(!r)return{data:null,error:new xi("rpId is required for WebAuthn registration")};try{if(!lv())return{data:null,error:new to("Browser does not support WebAuthn",null)};const{data:d,error:u}=await this._enroll({friendlyName:e});if(!d)return await this.client.mfa.listFactors().then(x=>{var p;return(p=x.data)===null||p===void 0?void 0:p.all.find(w=>w.factor_type==="webauthn"&&w.friendly_name===e&&w.status!=="unverified")}).then(x=>x?this.client.mfa.unenroll({factorId:x==null?void 0:x.id}):void 0),{data:null,error:u};const{data:h,error:m}=await this._challenge({factorId:d.id,friendlyName:d.friendly_name,webauthn:{rpId:r,rpOrigins:o},signal:i},{create:l});return h?this._verify({factorId:d.id,challengeId:h.challengeId,webauthn:{rpId:r,rpOrigins:o,type:h.webauthn.type,credential_response:h.webauthn.credential_response}}):{data:null,error:m}}catch(d){return Ie(d)?{data:null,error:d}:{data:null,error:new to("Unexpected error in register",d)}}}}Ck();const Hk={url:HC,storageKey:KC,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:GC,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function cv(t,e,r){return await r()}const Ua={};let sp=class bm{get jwks(){var e,r;return(r=(e=Ua[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){Ua[this.storageKey]=Object.assign(Object.assign({},Ua[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=Ua[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Ua[this.storageKey]=Object.assign(Object.assign({},Ua[this.storageKey]),{cachedAt:e})}constructor(e){var r,o,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const l=Object.assign(Object.assign({},Hk),e);if(this.storageKey=l.storageKey,this.instanceID=(r=bm.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,bm.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!l.debug,typeof l.debug=="function"&&(this.logger=l.debug),this.instanceID>0&&or()){const d=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(d),this.logDebugMessages&&console.trace(d)}if(this.persistSession=l.persistSession,this.autoRefreshToken=l.autoRefreshToken,this.admin=new rp({url:l.url,headers:l.headers,fetch:l.fetch}),this.url=l.url,this.headers=l.headers,this.fetch=nw(l.fetch),this.lock=l.lock||cv,this.detectSessionInUrl=l.detectSessionInUrl,this.flowType=l.flowType,this.hasCustomAuthorizationHeader=l.hasCustomAuthorizationHeader,this.throwOnError=l.throwOnError,l.lock?this.lock=l.lock:this.persistSession&&or()&&(!((o=globalThis==null?void 0:globalThis.navigator)===null||o===void 0)&&o.locks)?this.lock=ow:this.lock=cv,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Vk(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(l.storage?this.storage=l.storage:rw()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=av(this.memoryStorage)),l.userStorage&&(this.userStorage=l.userStorage)):(this.memoryStorage={},this.storage=av(this.memoryStorage)),or()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(d){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",d)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async d=>{this._debug("received broadcast notification from other tab or client",d),await this._notifyAllSubscribers(d.data.event,d.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Qb}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let r={},o="none";if(or()&&(r=ok(window.location.href),this._isImplicitGrantCallback(r)?o="implicit":await this._isPKCECallback(r)&&(o="pkce")),or()&&this.detectSessionInUrl&&o!=="none"){const{data:i,error:l}=await this._getSessionFromURL(r,o);if(l){if(this._debug("#_initialize()","error detecting session from URL",l),ew(l)){const h=(e=l.details)===null||e===void 0?void 0:e.code;if(h==="identity_already_exists"||h==="identity_not_found"||h==="single_identity_not_deletable")return{error:l}}return await this._removeSession(),{error:l}}const{session:d,redirectType:u}=i;return this._debug("#_initialize()","detected session in URL",d,"redirect type",u),await this._saveSession(d),setTimeout(async()=>{u==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",d):await this._notifyAllSubscribers("SIGNED_IN",d)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Ie(r)?this._returnResult({error:r}):this._returnResult({error:new to("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,o,i;try{const l=await Be(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(o=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&o!==void 0?o:{},gotrue_meta_security:{captcha_token:(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.captchaToken}},xform:hn}),{data:d,error:u}=l;if(u||!d)return this._returnResult({data:{user:null,session:null},error:u});const h=d.session,m=d.user;return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",h)),this._returnResult({data:{user:m,session:h},error:null})}catch(l){if(Ie(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signUp(e){var r,o,i;try{let l;if("email"in e){const{email:x,password:p,options:w}=e;let b=null,E=null;this.flowType==="pkce"&&([b,E]=await Fa(this.storage,this.storageKey)),l=await Be(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:w==null?void 0:w.emailRedirectTo,body:{email:x,password:p,data:(r=w==null?void 0:w.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:w==null?void 0:w.captchaToken},code_challenge:b,code_challenge_method:E},xform:hn})}else if("phone"in e){const{phone:x,password:p,options:w}=e;l=await Be(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:x,password:p,data:(o=w==null?void 0:w.data)!==null&&o!==void 0?o:{},channel:(i=w==null?void 0:w.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:w==null?void 0:w.captchaToken}},xform:hn})}else throw new wl("You must provide either an email or phone number and a password");const{data:d,error:u}=l;if(u||!d)return await sr(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:u});const h=d.session,m=d.user;return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",h)),this._returnResult({data:{user:m,session:h},error:null})}catch(l){if(await sr(this.storage,`${this.storageKey}-code-verifier`),Ie(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signInWithPassword(e){try{let r;if("email"in e){const{email:l,password:d,options:u}=e;r=await Be(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:l,password:d,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:sv})}else if("phone"in e){const{phone:l,password:d,options:u}=e;r=await Be(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:l,password:d,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:sv})}else throw new wl("You must provide either an email or phone number and a password");const{data:o,error:i}=r;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!o||!o.session||!o.user){const l=new Uo;return this._returnResult({data:{user:null,session:null},error:l})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:Object.assign({user:o.user,session:o.session},o.weak_password?{weakPassword:o.weak_password}:null),error:i})}catch(r){if(Ie(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(e){var r,o,i,l;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(o=e.options)===null||o===void 0?void 0:o.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(l=e.options)===null||l===void 0?void 0:l.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,o,i,l,d,u,h,m,x,p,w;let b,E;if("message"in e)b=e.message,E=e.signature;else{const{chain:_,wallet:j,statement:N,options:S}=e;let k;if(or())if(typeof j=="object")k=j;else{const de=window;if("ethereum"in de&&typeof de.ethereum=="object"&&"request"in de.ethereum&&typeof de.ethereum.request=="function")k=de.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof j!="object"||!(S!=null&&S.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");k=j}const P=new URL((r=S==null?void 0:S.url)!==null&&r!==void 0?r:window.location.href),z=await k.request({method:"eth_requestAccounts"}).then(de=>de).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!z||z.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const A=aw(z[0]);let q=(o=S==null?void 0:S.signInWithEthereum)===null||o===void 0?void 0:o.chainId;if(!q){const de=await k.request({method:"eth_chainId"});q=kk(de)}const K={domain:P.host,address:A,statement:N,uri:P.href,version:"1",chainId:q,nonce:(i=S==null?void 0:S.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(d=(l=S==null?void 0:S.signInWithEthereum)===null||l===void 0?void 0:l.issuedAt)!==null&&d!==void 0?d:new Date,expirationTime:(u=S==null?void 0:S.signInWithEthereum)===null||u===void 0?void 0:u.expirationTime,notBefore:(h=S==null?void 0:S.signInWithEthereum)===null||h===void 0?void 0:h.notBefore,requestId:(m=S==null?void 0:S.signInWithEthereum)===null||m===void 0?void 0:m.requestId,resources:(x=S==null?void 0:S.signInWithEthereum)===null||x===void 0?void 0:x.resources};b=Ak(K),E=await k.request({method:"personal_sign",params:[Rk(b),A]})}try{const{data:_,error:j}=await Be(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:b,signature:E},!((p=e.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(w=e.options)===null||w===void 0?void 0:w.captchaToken}}:null),xform:hn});if(j)throw j;if(!_||!_.session||!_.user){const N=new Uo;return this._returnResult({data:{user:null,session:null},error:N})}return _.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),this._returnResult({data:Object.assign({},_),error:j})}catch(_){if(Ie(_))return this._returnResult({data:{user:null,session:null},error:_});throw _}}async signInWithSolana(e){var r,o,i,l,d,u,h,m,x,p,w,b;let E,_;if("message"in e)E=e.message,_=e.signature;else{const{chain:j,wallet:N,statement:S,options:k}=e;let P;if(or())if(typeof N=="object")P=N;else{const A=window;if("solana"in A&&typeof A.solana=="object"&&("signIn"in A.solana&&typeof A.solana.signIn=="function"||"signMessage"in A.solana&&typeof A.solana.signMessage=="function"))P=A.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof N!="object"||!(k!=null&&k.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");P=N}const z=new URL((r=k==null?void 0:k.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in P&&P.signIn){const A=await P.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},k==null?void 0:k.signInWithSolana),{version:"1",domain:z.host,uri:z.href}),S?{statement:S}:null));let q;if(Array.isArray(A)&&A[0]&&typeof A[0]=="object")q=A[0];else if(A&&typeof A=="object"&&"signedMessage"in A&&"signature"in A)q=A;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in q&&"signature"in q&&(typeof q.signedMessage=="string"||q.signedMessage instanceof Uint8Array)&&q.signature instanceof Uint8Array)E=typeof q.signedMessage=="string"?q.signedMessage:new TextDecoder().decode(q.signedMessage),_=q.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in P)||typeof P.signMessage!="function"||!("publicKey"in P)||typeof P!="object"||!P.publicKey||!("toBase58"in P.publicKey)||typeof P.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");E=[`${z.host} wants you to sign in with your Solana account:`,P.publicKey.toBase58(),...S?["",S,""]:[""],"Version: 1",`URI: ${z.href}`,`Issued At: ${(i=(o=k==null?void 0:k.signInWithSolana)===null||o===void 0?void 0:o.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((l=k==null?void 0:k.signInWithSolana)===null||l===void 0)&&l.notBefore?[`Not Before: ${k.signInWithSolana.notBefore}`]:[],...!((d=k==null?void 0:k.signInWithSolana)===null||d===void 0)&&d.expirationTime?[`Expiration Time: ${k.signInWithSolana.expirationTime}`]:[],...!((u=k==null?void 0:k.signInWithSolana)===null||u===void 0)&&u.chainId?[`Chain ID: ${k.signInWithSolana.chainId}`]:[],...!((h=k==null?void 0:k.signInWithSolana)===null||h===void 0)&&h.nonce?[`Nonce: ${k.signInWithSolana.nonce}`]:[],...!((m=k==null?void 0:k.signInWithSolana)===null||m===void 0)&&m.requestId?[`Request ID: ${k.signInWithSolana.requestId}`]:[],...!((p=(x=k==null?void 0:k.signInWithSolana)===null||x===void 0?void 0:x.resources)===null||p===void 0)&&p.length?["Resources",...k.signInWithSolana.resources.map(q=>`- ${q}`)]:[]].join(`
`);const A=await P.signMessage(new TextEncoder().encode(E),"utf8");if(!A||!(A instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");_=A}}try{const{data:j,error:N}=await Be(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:E,signature:Qo(_)},!((w=e.options)===null||w===void 0)&&w.captchaToken?{gotrue_meta_security:{captcha_token:(b=e.options)===null||b===void 0?void 0:b.captchaToken}}:null),xform:hn});if(N)throw N;if(!j||!j.session||!j.user){const S=new Uo;return this._returnResult({data:{user:null,session:null},error:S})}return j.session&&(await this._saveSession(j.session),await this._notifyAllSubscribers("SIGNED_IN",j.session)),this._returnResult({data:Object.assign({},j),error:N})}catch(j){if(Ie(j))return this._returnResult({data:{user:null,session:null},error:j});throw j}}async _exchangeCodeForSession(e){const r=await Fo(this.storage,`${this.storageKey}-code-verifier`),[o,i]=(r??"").split("/");try{const{data:l,error:d}=await Be(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:o},xform:hn});if(await sr(this.storage,`${this.storageKey}-code-verifier`),d)throw d;if(!l||!l.session||!l.user){const u=new Uo;return this._returnResult({data:{user:null,session:null,redirectType:null},error:u})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:Object.assign(Object.assign({},l),{redirectType:i??null}),error:d})}catch(l){if(await sr(this.storage,`${this.storageKey}-code-verifier`),Ie(l))return this._returnResult({data:{user:null,session:null,redirectType:null},error:l});throw l}}async signInWithIdToken(e){try{const{options:r,provider:o,token:i,access_token:l,nonce:d}=e,u=await Be(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:o,id_token:i,access_token:l,nonce:d,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:hn}),{data:h,error:m}=u;if(m)return this._returnResult({data:{user:null,session:null},error:m});if(!h||!h.session||!h.user){const x=new Uo;return this._returnResult({data:{user:null,session:null},error:x})}return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",h.session)),this._returnResult({data:h,error:m})}catch(r){if(Ie(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(e){var r,o,i,l,d;try{if("email"in e){const{email:u,options:h}=e;let m=null,x=null;this.flowType==="pkce"&&([m,x]=await Fa(this.storage,this.storageKey));const{error:p}=await Be(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:u,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},create_user:(o=h==null?void 0:h.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:m,code_challenge_method:x},redirectTo:h==null?void 0:h.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:p})}if("phone"in e){const{phone:u,options:h}=e,{data:m,error:x}=await Be(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:u,data:(i=h==null?void 0:h.data)!==null&&i!==void 0?i:{},create_user:(l=h==null?void 0:h.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},channel:(d=h==null?void 0:h.channel)!==null&&d!==void 0?d:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:m==null?void 0:m.message_id},error:x})}throw new wl("You must provide either an email or phone number.")}catch(u){if(await sr(this.storage,`${this.storageKey}-code-verifier`),Ie(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async verifyOtp(e){var r,o;try{let i,l;"options"in e&&(i=(r=e.options)===null||r===void 0?void 0:r.redirectTo,l=(o=e.options)===null||o===void 0?void 0:o.captchaToken);const{data:d,error:u}=await Be(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:l}}),redirectTo:i,xform:hn});if(u)throw u;if(!d)throw new Error("An error occurred on token verification.");const h=d.session,m=d.user;return h!=null&&h.access_token&&(await this._saveSession(h),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",h)),this._returnResult({data:{user:m,session:h},error:null})}catch(i){if(Ie(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(e){var r,o,i,l,d;try{let u=null,h=null;this.flowType==="pkce"&&([u,h]=await Fa(this.storage,this.storageKey));const m=await Be(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(o=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&o!==void 0?o:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:u,code_challenge_method:h}),headers:this.headers,xform:jk});return!((l=m.data)===null||l===void 0)&&l.url&&or()&&!(!((d=e.options)===null||d===void 0)&&d.skipBrowserRedirect)&&window.location.assign(m.data.url),this._returnResult(m)}catch(u){if(await sr(this.storage,`${this.storageKey}-code-verifier`),Ie(u))return this._returnResult({data:null,error:u});throw u}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:o}=e;if(o)throw o;if(!r)throw new Rr;const{error:i}=await Be(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(e){if(Ie(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:o,type:i,options:l}=e,{error:d}=await Be(this.fetch,"POST",r,{headers:this.headers,body:{email:o,type:i,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:d})}else if("phone"in e){const{phone:o,type:i,options:l}=e,{data:d,error:u}=await Be(this.fetch,"POST",r,{headers:this.headers,body:{phone:o,type:i,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:u})}throw new wl("You must provide either an email or phone number and a type")}catch(r){if(Ie(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const o=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await o,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const o=r();for(this.pendingInLock.push((async()=>{try{await o}catch{}})()),await o;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await o}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await Fo(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const o=e.expires_at?e.expires_at*1e3-Date.now()<_f:!1;if(this._debug("#__loadSession()",`session has${o?"":" not"} expired`,"expires_at",e.expires_at),!o){if(this.userStorage){const d=await Fo(this.userStorage,this.storageKey+"-user");d!=null&&d.user?e.user=d.user:e.user=Nf()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const d={value:this.suppressGetSessionWarning};e.user=vk(e.user,d),d.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:i,error:l}=await this._callRefreshToken(e.refresh_token);return l?this._returnResult({data:{session:null},error:l}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const r=await this._acquireLock(-1,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(e){try{return e?await Be(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:ro}):await this._useSession(async r=>{var o,i,l;const{data:d,error:u}=r;if(u)throw u;return!(!((o=d.session)===null||o===void 0)&&o.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Rr}:await Be(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(l=(i=d.session)===null||i===void 0?void 0:i.access_token)!==null&&l!==void 0?l:void 0,xform:ro})})}catch(r){if(Ie(r))return Zb(r)&&(await this._removeSession(),await sr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async o=>{const{data:i,error:l}=o;if(l)throw l;if(!i.session)throw new Rr;const d=i.session;let u=null,h=null;this.flowType==="pkce"&&e.email!=null&&([u,h]=await Fa(this.storage,this.storageKey));const{data:m,error:x}=await Be(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:u,code_challenge_method:h}),jwt:d.access_token,xform:ro});if(x)throw x;return d.user=m.user,await this._saveSession(d),await this._notifyAllSubscribers("USER_UPDATED",d),this._returnResult({data:{user:d.user},error:null})})}catch(o){if(await sr(this.storage,`${this.storageKey}-code-verifier`),Ie(o))return this._returnResult({data:{user:null},error:o});throw o}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Rr;const r=Date.now()/1e3;let o=r,i=!0,l=null;const{payload:d}=Ef(e.access_token);if(d.exp&&(o=d.exp,i=o<=r),i){const{data:u,error:h}=await this._callRefreshToken(e.refresh_token);if(h)return this._returnResult({data:{user:null,session:null},error:h});if(!u)return{data:{user:null,session:null},error:null};l=u}else{const{data:u,error:h}=await this._getUser(e.access_token);if(h)throw h;l={access_token:e.access_token,refresh_token:e.refresh_token,user:u.user,token_type:"bearer",expires_in:o-r,expires_at:o},await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)}return this._returnResult({data:{user:l.user,session:l},error:null})}catch(r){if(Ie(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var o;if(!e){const{data:d,error:u}=r;if(u)throw u;e=(o=d.session)!==null&&o!==void 0?o:void 0}if(!(e!=null&&e.refresh_token))throw new Rr;const{data:i,error:l}=await this._callRefreshToken(e.refresh_token);return l?this._returnResult({data:{user:null,session:null},error:l}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(Ie(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(e,r){try{if(!or())throw new jl("No browser detected.");if(e.error||e.error_description||e.error_code)throw new jl(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new vm("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new jl("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new vm("No code detected.");const{data:S,error:k}=await this._exchangeCodeForSession(e.code);if(k)throw k;const P=new URL(window.location.href);return P.searchParams.delete("code"),window.history.replaceState(window.history.state,"",P.toString()),{data:{session:S.session,redirectType:null},error:null}}const{provider_token:o,provider_refresh_token:i,access_token:l,refresh_token:d,expires_in:u,expires_at:h,token_type:m}=e;if(!l||!u||!d||!m)throw new jl("No session defined in URL");const x=Math.round(Date.now()/1e3),p=parseInt(u);let w=x+p;h&&(w=parseInt(h));const b=w-x;b*1e3<=Ga&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${b}s, should have been closer to ${p}s`);const E=w-p;x-E>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",E,w,x):x-E<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",E,w,x);const{data:_,error:j}=await this._getUser(l);if(j)throw j;const N={provider_token:o,provider_refresh_token:i,access_token:l,expires_in:p,expires_at:w,refresh_token:d,token_type:m,user:_.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:N,redirectType:e.type},error:null})}catch(o){if(Ie(o))return this._returnResult({data:{session:null,redirectType:null},error:o});throw o}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await Fo(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var o;const{data:i,error:l}=r;if(l)return this._returnResult({error:l});const d=(o=i.session)===null||o===void 0?void 0:o.access_token;if(d){const{error:u}=await this.admin.signOut(d,e);if(u&&!(Xb(u)&&(u.status===404||u.status===401||u.status===403)))return this._returnResult({error:u})}return e!=="others"&&(await this._removeSession(),await sr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const r=sk(),o={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,o),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:o}}}async _emitInitialSession(e){return await this._useSession(async r=>{var o,i;try{const{data:{session:l},error:d}=r;if(d)throw d;await((o=this.stateChangeEmitters.get(e))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",l)),this._debug("INITIAL_SESSION","callback id",e,"session",l)}catch(l){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",l),console.error(l)}})}async resetPasswordForEmail(e,r={}){let o=null,i=null;this.flowType==="pkce"&&([o,i]=await Fa(this.storage,this.storageKey,!0));try{return await Be(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:o,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(l){if(await sr(this.storage,`${this.storageKey}-code-verifier`),Ie(l))return this._returnResult({data:null,error:l});throw l}}async getUserIdentities(){var e;try{const{data:r,error:o}=await this.getUser();if(o)throw o;return this._returnResult({data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(r){if(Ie(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var r;try{const{data:o,error:i}=await this._useSession(async l=>{var d,u,h,m,x;const{data:p,error:w}=l;if(w)throw w;const b=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(d=e.options)===null||d===void 0?void 0:d.redirectTo,scopes:(u=e.options)===null||u===void 0?void 0:u.scopes,queryParams:(h=e.options)===null||h===void 0?void 0:h.queryParams,skipBrowserRedirect:!0});return await Be(this.fetch,"GET",b,{headers:this.headers,jwt:(x=(m=p.session)===null||m===void 0?void 0:m.access_token)!==null&&x!==void 0?x:void 0})});if(i)throw i;return or()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(o==null?void 0:o.url),this._returnResult({data:{provider:e.provider,url:o==null?void 0:o.url},error:null})}catch(o){if(Ie(o))return this._returnResult({data:{provider:e.provider,url:null},error:o});throw o}}async linkIdentityIdToken(e){return await this._useSession(async r=>{var o;try{const{error:i,data:{session:l}}=r;if(i)throw i;const{options:d,provider:u,token:h,access_token:m,nonce:x}=e,p=await Be(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(o=l==null?void 0:l.access_token)!==null&&o!==void 0?o:void 0,body:{provider:u,id_token:h,access_token:m,nonce:x,link_identity:!0,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},xform:hn}),{data:w,error:b}=p;return b?this._returnResult({data:{user:null,session:null},error:b}):!w||!w.session||!w.user?this._returnResult({data:{user:null,session:null},error:new Uo}):(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("USER_UPDATED",w.session)),this._returnResult({data:w,error:b}))}catch(i){if(await sr(this.storage,`${this.storageKey}-code-verifier`),Ie(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(e){try{return await this._useSession(async r=>{var o,i;const{data:l,error:d}=r;if(d)throw d;return await Be(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(o=l.session)===null||o===void 0?void 0:o.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(Ie(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const o=Date.now();return await lk(async i=>(i>0&&await ik(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await Be(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:hn})),(i,l)=>{const d=200*Math.pow(2,i);return l&&Pd(l)&&Date.now()+d-o<Ga})}catch(o){if(this._debug(r,"error",o),Ie(o))return this._returnResult({data:{session:null,user:null},error:o});throw o}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const o=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",o),or()&&!r.skipBrowserRedirect&&window.location.assign(o),{data:{provider:e,url:o},error:null}}async _recoverAndRefresh(){var e,r;const o="#_recoverAndRefresh()";this._debug(o,"begin");try{const i=await Fo(this.storage,this.storageKey);if(i&&this.userStorage){let d=await Fo(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!d&&(d={user:i.user},await Qa(this.userStorage,this.storageKey+"-user",d)),i.user=(e=d==null?void 0:d.user)!==null&&e!==void 0?e:Nf()}else if(i&&!i.user&&!i.user){const d=await Fo(this.storage,this.storageKey+"-user");d&&(d!=null&&d.user)?(i.user=d.user,await sr(this.storage,this.storageKey+"-user"),await Qa(this.storage,this.storageKey,i)):i.user=Nf()}if(this._debug(o,"session from storage",i),!this._isValidSession(i)){this._debug(o,"session is not valid"),i!==null&&await this._removeSession();return}const l=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<_f;if(this._debug(o,`session has${l?"":" not"} expired with margin of ${_f}s`),l){if(this.autoRefreshToken&&i.refresh_token){const{error:d}=await this._callRefreshToken(i.refresh_token);d&&(console.error(d),Pd(d)||(this._debug(o,"refresh failed with a non-retryable error, removing the session",d),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:d,error:u}=await this._getUser(i.access_token);!u&&(d!=null&&d.user)?(i.user=d.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(o,"could not get user data, skipping SIGNED_IN notification")}catch(d){console.error("Error getting user data:",d),this._debug(o,"error getting user data, skipping SIGNED_IN notification",d)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(o,"error",i),console.error(i);return}finally{this._debug(o,"end")}}async _callRefreshToken(e){var r,o;if(!e)throw new Rr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new uu;const{data:l,error:d}=await this._refreshAccessToken(e);if(d)throw d;if(!l.session)throw new Rr;await this._saveSession(l.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",l.session);const u={data:l.session,error:null};return this.refreshingDeferred.resolve(u),u}catch(l){if(this._debug(i,"error",l),Ie(l)){const d={data:null,error:l};return Pd(l)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(d),d}throw(o=this.refreshingDeferred)===null||o===void 0||o.reject(l),l}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,r,o=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",r,`broadcast = ${o}`);try{this.broadcastChannel&&o&&this.broadcastChannel.postMessage({event:e,session:r});const l=[],d=Array.from(this.stateChangeEmitters.values()).map(async u=>{try{await u.callback(e,r)}catch(h){l.push(h)}});if(await Promise.all(d),l.length>0){for(let u=0;u<l.length;u+=1)console.error(l[u]);throw l[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await sr(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},e),o=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!o&&r.user&&await Qa(this.userStorage,this.storageKey+"-user",{user:r.user});const i=Object.assign({},r);delete i.user;const l=rv(i);await Qa(this.storage,this.storageKey,l)}else{const i=rv(r);await Qa(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await sr(this.storage,this.storageKey),await sr(this.storage,this.storageKey+"-code-verifier"),await sr(this.storage,this.storageKey+"-user"),this.userStorage&&await sr(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&or()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Ga);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:o}}=r;if(!o||!o.refresh_token||!o.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((o.expires_at*1e3-e)/Ga);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Ga}ms, refresh threshold is ${gm} ticks`),i<=gm&&await this._callRefreshToken(o.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof np)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!or()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,o){const i=[`provider=${encodeURIComponent(r)}`];if(o!=null&&o.redirectTo&&i.push(`redirect_to=${encodeURIComponent(o.redirectTo)}`),o!=null&&o.scopes&&i.push(`scopes=${encodeURIComponent(o.scopes)}`),this.flowType==="pkce"){const[l,d]=await Fa(this.storage,this.storageKey),u=new URLSearchParams({code_challenge:`${encodeURIComponent(l)}`,code_challenge_method:`${encodeURIComponent(d)}`});i.push(u.toString())}if(o!=null&&o.queryParams){const l=new URLSearchParams(o.queryParams);i.push(l.toString())}return o!=null&&o.skipBrowserRedirect&&i.push(`skip_http_redirect=${o.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var o;const{data:i,error:l}=r;return l?this._returnResult({data:null,error:l}):await Be(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(o=i==null?void 0:i.session)===null||o===void 0?void 0:o.access_token})})}catch(r){if(Ie(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(e){try{return await this._useSession(async r=>{var o,i;const{data:l,error:d}=r;if(d)return this._returnResult({data:null,error:d});const u=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:h,error:m}=await Be(this.fetch,"POST",`${this.url}/factors`,{body:u,headers:this.headers,jwt:(o=l==null?void 0:l.session)===null||o===void 0?void 0:o.access_token});return m?this._returnResult({data:null,error:m}):(e.factorType==="totp"&&h.type==="totp"&&(!((i=h==null?void 0:h.totp)===null||i===void 0)&&i.qr_code)&&(h.totp.qr_code=`data:image/svg+xml;utf-8,${h.totp.qr_code}`),this._returnResult({data:h,error:null}))})}catch(r){if(Ie(r))return this._returnResult({data:null,error:r});throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var o;const{data:i,error:l}=r;if(l)return this._returnResult({data:null,error:l});const d=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?Lk(e.webauthn.credential_response):$k(e.webauthn.credential_response)})}:{code:e.code}),{data:u,error:h}=await Be(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:d,headers:this.headers,jwt:(o=i==null?void 0:i.session)===null||o===void 0?void 0:o.access_token});return h?this._returnResult({data:null,error:h}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+u.expires_in},u)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",u),this._returnResult({data:u,error:h}))})}catch(r){if(Ie(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var o;const{data:i,error:l}=r;if(l)return this._returnResult({data:null,error:l});const d=await Be(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(o=i==null?void 0:i.session)===null||o===void 0?void 0:o.access_token});if(d.error)return d;const{data:u}=d;if(u.type!=="webauthn")return{data:u,error:null};switch(u.webauthn.type){case"create":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:Dk(u.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:Mk(u.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(Ie(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(e){const{data:r,error:o}=await this._challenge({factorId:e.factorId});return o?this._returnResult({data:null,error:o}):await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){var e;const{data:{user:r},error:o}=await this.getUser();if(o)return{data:null,error:o};const i={all:[],phone:[],totp:[],webauthn:[]};for(const l of(e=r==null?void 0:r.factors)!==null&&e!==void 0?e:[])i.all.push(l),l.status==="verified"&&i[l.factor_type].push(l);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var e,r;const{data:{session:o},error:i}=await this.getSession();if(i)return this._returnResult({data:null,error:i});if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=Ef(o.access_token);let d=null;l.aal&&(d=l.aal);let u=d;((r=(e=o.user.factors)===null||e===void 0?void 0:e.filter(x=>x.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(u="aal2");const m=l.amr||[];return{data:{currentLevel:d,nextLevel:u,currentAuthenticationMethods:m},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async r=>{const{data:{session:o},error:i}=r;return i?this._returnResult({data:null,error:i}):o?await Be(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:o.access_token,xform:l=>({data:l,error:null})}):this._returnResult({data:null,error:new Rr})})}catch(r){if(Ie(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(e,r){try{return await this._useSession(async o=>{const{data:{session:i},error:l}=o;if(l)return this._returnResult({data:null,error:l});if(!i)return this._returnResult({data:null,error:new Rr});const d=await Be(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:u=>({data:u,error:null})});return d.data&&d.data.redirect_url&&or()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(d.data.redirect_url),d})}catch(o){if(Ie(o))return this._returnResult({data:null,error:o});throw o}}async _denyAuthorization(e,r){try{return await this._useSession(async o=>{const{data:{session:i},error:l}=o;if(l)return this._returnResult({data:null,error:l});if(!i)return this._returnResult({data:null,error:new Rr});const d=await Be(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:u=>({data:u,error:null})});return d.data&&d.data.redirect_url&&or()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(d.data.redirect_url),d})}catch(o){if(Ie(o))return this._returnResult({data:null,error:o});throw o}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:r},error:o}=e;return o?this._returnResult({data:null,error:o}):r?await Be(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new Rr})})}catch(e){if(Ie(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async r=>{const{data:{session:o},error:i}=r;return i?this._returnResult({data:null,error:i}):o?(await Be(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:o.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Rr})})}catch(r){if(Ie(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(e,r={keys:[]}){let o=r.keys.find(u=>u.kid===e);if(o)return o;const i=Date.now();if(o=this.jwks.keys.find(u=>u.kid===e),o&&this.jwks_cached_at+JC>i)return o;const{data:l,error:d}=await Be(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(d)throw d;return!l.keys||l.keys.length===0||(this.jwks=l,this.jwks_cached_at=i,o=l.keys.find(u=>u.kid===e),!o)?null:o}async getClaims(e,r={}){try{let o=e;if(!o){const{data:b,error:E}=await this.getSession();if(E||!b.session)return this._returnResult({data:null,error:E});o=b.session.access_token}const{header:i,payload:l,signature:d,raw:{header:u,payload:h}}=Ef(o);r!=null&&r.allowExpired||pk(l.exp);const m=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!m){const{error:b}=await this.getUser(o);if(b)throw b;return{data:{claims:l,header:i,signature:d},error:null}}const x=gk(i.alg),p=await crypto.subtle.importKey("jwk",m,x,!0,["verify"]);if(!await crypto.subtle.verify(x,p,d,rk(`${u}.${h}`)))throw new Vd("Invalid JWT signature");return{data:{claims:l,header:i,signature:d},error:null}}catch(o){if(Ie(o))return this._returnResult({data:null,error:o});throw o}}};sp.nextInstanceID={};const Kk=rp,Gk=sp,Qk=Object.freeze(Object.defineProperty({__proto__:null,AuthAdminApi:Kk,AuthApiError:Yb,AuthClient:Gk,AuthError:xi,AuthImplicitGrantRedirectError:jl,AuthInvalidCredentialsError:wl,AuthInvalidJwtError:Vd,AuthInvalidTokenResponseError:Uo,AuthPKCEGrantCodeExchangeError:vm,AuthRetryableFetchError:Wd,AuthSessionMissingError:Rr,AuthUnknownError:to,AuthWeakPasswordError:ym,CustomAuthError:js,GoTrueAdminApi:rp,GoTrueClient:sp,NavigatorLockAcquireTimeoutError:sw,SIGN_OUT_SCOPES:Td,isAuthApiError:Xb,isAuthError:Ie,isAuthImplicitGrantRedirectError:ew,isAuthRetryableFetchError:Pd,isAuthSessionMissingError:Zb,isAuthWeakPasswordError:YC,lockInternals:Wo,navigatorLock:ow,processLock:Sk},Symbol.toStringTag,{value:"Module"})),lw=Ll(Qk);var dv;function Jk(){if(dv)return pl;dv=1,Object.defineProperty(pl,"__esModule",{value:!0}),pl.SupabaseAuthClient=void 0;const t=lw;let e=class extends t.AuthClient{constructor(o){super(o)}};return pl.SupabaseAuthClient=e,pl}var uv;function hv(){if(uv)return sd;uv=1,Object.defineProperty(sd,"__esModule",{value:!0});const t=wb,e=Cb(),r=Db,o=zC,i=qC(),l=WC(),d=VC(),u=Jk();class h{constructor(x,p,w){var b,E,_;this.supabaseUrl=x,this.supabaseKey=p;const j=(0,d.validateSupabaseUrl)(x);if(!p)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",j),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",j),this.storageUrl=new URL("storage/v1",j),this.functionsUrl=new URL("functions/v1",j);const N=`sb-${j.hostname.split(".")[0]}-auth-token`,S={db:i.DEFAULT_DB_OPTIONS,realtime:i.DEFAULT_REALTIME_OPTIONS,auth:Object.assign(Object.assign({},i.DEFAULT_AUTH_OPTIONS),{storageKey:N}),global:i.DEFAULT_GLOBAL_OPTIONS},k=(0,d.applySettingDefaults)(w??{},S);this.storageKey=(b=k.auth.storageKey)!==null&&b!==void 0?b:"",this.headers=(E=k.global.headers)!==null&&E!==void 0?E:{},k.accessToken?(this.accessToken=k.accessToken,this.auth=new Proxy({},{get:(P,z)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(z)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((_=k.auth)!==null&&_!==void 0?_:{},this.headers,k.global.fetch),this.fetch=(0,l.fetchWithAuth)(p,this._getAccessToken.bind(this),k.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},k.realtime)),this.accessToken&&this.accessToken().then(P=>this.realtime.setAuth(P)).catch(P=>console.warn("Failed to set initial Realtime auth token:",P)),this.rest=new e.PostgrestClient(new URL("rest/v1",j).href,{headers:this.headers,schema:k.db.schema,fetch:this.fetch}),this.storage=new o.StorageClient(this.storageUrl.href,this.headers,this.fetch,w==null?void 0:w.storage),k.accessToken||this._listenForAuthEvents()}get functions(){return new t.FunctionsClient(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(x){return this.rest.from(x)}schema(x){return this.rest.schema(x)}rpc(x,p={},w={head:!1,get:!1,count:void 0}){return this.rest.rpc(x,p,w)}channel(x,p={config:{}}){return this.realtime.channel(x,p)}getChannels(){return this.realtime.getChannels()}removeChannel(x){return this.realtime.removeChannel(x)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var x,p;if(this.accessToken)return await this.accessToken();const{data:w}=await this.auth.getSession();return(p=(x=w.session)===null||x===void 0?void 0:x.access_token)!==null&&p!==void 0?p:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:x,persistSession:p,detectSessionInUrl:w,storage:b,userStorage:E,storageKey:_,flowType:j,lock:N,debug:S,throwOnError:k},P,z){const A={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new u.SupabaseAuthClient({url:this.authUrl.href,headers:Object.assign(Object.assign({},A),P),storageKey:_,autoRefreshToken:x,persistSession:p,detectSessionInUrl:w,storage:b,userStorage:E,flowType:j,lock:N,debug:S,throwOnError:k,fetch:z,hasCustomAuthorizationHeader:Object.keys(this.headers).some(q=>q.toLowerCase()==="authorization")})}_initRealtimeClient(x){return new r.RealtimeClient(this.realtimeUrl.href,Object.assign(Object.assign({},x),{params:Object.assign({apikey:this.supabaseKey},x==null?void 0:x.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((p,w)=>{this._handleTokenChanged(p,"CLIENT",w==null?void 0:w.access_token)})}_handleTokenChanged(x,p,w){(x==="TOKEN_REFRESHED"||x==="SIGNED_IN")&&this.changedAccessToken!==w?(this.changedAccessToken=w,this.realtime.setAuth(w)):x==="SIGNED_OUT"&&(this.realtime.setAuth(),p=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}return sd.default=h,sd}var fv;function Yk(){return fv||(fv=1,(function(t){var e=ss&&ss.__createBinding||(Object.create?(function(x,p,w,b){b===void 0&&(b=w);var E=Object.getOwnPropertyDescriptor(p,w);(!E||("get"in E?!p.__esModule:E.writable||E.configurable))&&(E={enumerable:!0,get:function(){return p[w]}}),Object.defineProperty(x,b,E)}):(function(x,p,w,b){b===void 0&&(b=w),x[b]=p[w]})),r=ss&&ss.__exportStar||function(x,p){for(var w in x)w!=="default"&&!Object.prototype.hasOwnProperty.call(p,w)&&e(p,x,w)},o=ss&&ss.__importDefault||function(x){return x&&x.__esModule?x:{default:x}};Object.defineProperty(t,"__esModule",{value:!0}),t.createClient=t.SupabaseClient=t.FunctionRegion=t.FunctionsError=t.FunctionsRelayError=t.FunctionsFetchError=t.FunctionsHttpError=t.PostgrestError=void 0;const i=o(hv());r(lw,t);var l=Cb();Object.defineProperty(t,"PostgrestError",{enumerable:!0,get:function(){return l.PostgrestError}});var d=wb;Object.defineProperty(t,"FunctionsHttpError",{enumerable:!0,get:function(){return d.FunctionsHttpError}}),Object.defineProperty(t,"FunctionsFetchError",{enumerable:!0,get:function(){return d.FunctionsFetchError}}),Object.defineProperty(t,"FunctionsRelayError",{enumerable:!0,get:function(){return d.FunctionsRelayError}}),Object.defineProperty(t,"FunctionsError",{enumerable:!0,get:function(){return d.FunctionsError}}),Object.defineProperty(t,"FunctionRegion",{enumerable:!0,get:function(){return d.FunctionRegion}}),r(Db,t);var u=hv();Object.defineProperty(t,"SupabaseClient",{enumerable:!0,get:function(){return o(u).default}});const h=(x,p,w)=>new i.default(x,p,w);t.createClient=h;function m(){if(typeof window<"u"||typeof process>"u")return!1;const x=process.version;if(x==null)return!1;const p=x.match(/^v(\d+)\./);return p?parseInt(p[1],10)<=18:!1}m()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217")})(ss)),ss}var cw=Yk();const dw=ou(cw),Xk=vy({__proto__:null,default:dw},[cw]),{PostgrestError:QD,FunctionsHttpError:JD,FunctionsFetchError:YD,FunctionsRelayError:XD,FunctionsError:ZD,FunctionRegion:e4,SupabaseClient:t4,createClient:Zk,GoTrueAdminApi:r4,GoTrueClient:n4,AuthAdminApi:s4,AuthClient:o4,navigatorLock:a4,NavigatorLockAcquireTimeoutError:i4,lockInternals:l4,processLock:c4,SIGN_OUT_SCOPES:d4,AuthError:u4,AuthApiError:h4,AuthUnknownError:f4,CustomAuthError:m4,AuthSessionMissingError:p4,AuthInvalidTokenResponseError:g4,AuthInvalidCredentialsError:x4,AuthImplicitGrantRedirectError:v4,AuthPKCEGrantCodeExchangeError:y4,AuthRetryableFetchError:b4,AuthWeakPasswordError:w4,AuthInvalidJwtError:j4,isAuthError:_4,isAuthApiError:E4,isAuthSessionMissingError:N4,isAuthImplicitGrantRedirectError:S4,isAuthRetryableFetchError:C4,isAuthWeakPasswordError:k4,RealtimePresence:R4,RealtimeChannel:A4,RealtimeClient:P4,REALTIME_LISTEN_TYPES:T4,REALTIME_POSTGRES_CHANGES_LISTEN_EVENT:O4,REALTIME_PRESENCE_LISTEN_EVENTS:I4,REALTIME_SUBSCRIBE_STATES:D4,REALTIME_CHANNEL_STATES:M4}=dw||Xk,eR="https://ccnbkympqhtgfotrmguz.supabase.co",tR="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImNjbmJreW1wcWh0Z2ZvdHJtZ3V6Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjU1NzAxNzcsImV4cCI6MjA4MTE0NjE3N30.2uhxv75YfnO_eqsCR_-r2v78S-fe_sWAYp6vKOUrWm0",_e=Zk(eR,tR),uw=y.createContext(),rR=({children:t})=>{const[e,r]=y.useState(null),[o,i]=y.useState(!0),[l,d]=y.useState(null);y.useEffect(()=>{u()},[]);const u=async()=>{try{const x=localStorage.getItem("formedica_user"),p=localStorage.getItem("formedica_user_type");x&&(r(JSON.parse(x)),d(p))}catch(x){console.error("Erro ao verificar usurio:",x)}finally{i(!1)}},h=async(x,p)=>{try{const w={cpf:x,nome:"Usurio Teste",id:"1"};return r(w),localStorage.setItem("formedica_user",JSON.stringify(w)),d("admin"),localStorage.setItem("formedica_user_type","admin"),{success:!0}}catch(w){return console.error("Erro no login:",w),{success:!1,error:w.message}}},m=()=>{r(null),d(null),localStorage.removeItem("formedica_user"),localStorage.removeItem("formedica_user_type")};return n.jsx(uw.Provider,{value:{user:e,userType:l,loading:o,login:h,logout:m},children:t})},hu=()=>{const t=y.useContext(uw);if(!t)throw new Error("useAuth deve ser usado dentro de AuthProvider");return t},ee={colors:{primary:"#457bba",secondary:"#890d5d",danger:"#ef4444",background:"#f8fafc",text:"#1e293b",textLight:"#64748b",border:"#e2e8f0"}},nR={entregas:()=>n.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[n.jsx("path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"}),n.jsx("polyline",{points:"3.27 6.96 12 12.01 20.73 6.96"}),n.jsx("line",{x1:"12",y1:"22.08",x2:"12",y2:"12"})]}),aviao:()=>n.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:n.jsx("path",{d:"M21 16v-2l-8-5V3.5a1.5 1.5 0 0 0-3 0V9l-8 5v2l8-2.5V19l-2 1.5V22l3.5-1 3.5 1v-1.5L13 19v-5.5l8 2.5z"})}),adicionar:()=>n.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[n.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),n.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),usuarios:()=>n.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[n.jsx("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),n.jsx("circle",{cx:"9",cy:"7",r:"4"}),n.jsx("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),n.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]}),historico:()=>n.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[n.jsx("circle",{cx:"12",cy:"12",r:"10"}),n.jsx("polyline",{points:"12 6 12 12 16 14"})]}),grafico:()=>n.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[n.jsx("line",{x1:"18",y1:"20",x2:"18",y2:"10"}),n.jsx("line",{x1:"12",y1:"20",x2:"12",y2:"4"}),n.jsx("line",{x1:"6",y1:"20",x2:"6",y2:"14"})]}),documento:()=>n.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[n.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),n.jsx("polyline",{points:"14 2 14 8 20 8"}),n.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),n.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),n.jsx("polyline",{points:"10 9 9 9 8 9"})]}),dinheiro:()=>n.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[n.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),n.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),calendario:()=>n.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[n.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),n.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),n.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),n.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]}),moto:()=>n.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[n.jsx("circle",{cx:"5",cy:"18",r:"3"}),n.jsx("circle",{cx:"19",cy:"18",r:"3"}),n.jsx("path",{d:"M5.59 13.51l2.53-2.53L10 13v5l-.47-.53L7 15 5.59 13.51z"}),n.jsx("path",{d:"M12 13v5l2-2 2.5 2.5 1-1L15 15"}),n.jsx("path",{d:"M16 8h2l2 5"})]}),celular:()=>n.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[n.jsx("rect",{x:"5",y:"2",width:"14",height:"20",rx:"2",ry:"2"}),n.jsx("line",{x1:"12",y1:"18",x2:"12.01",y2:"18"})]})};function sR({children:t}){var x;const{user:e,userType:r,logout:o}=hu(),i=Ht(),l=Nn(),[d,u]=y.useState(!1),h={admin:[{icon:"entregas",label:"Entregas Moto",path:"/"},{icon:"aviao",label:"Sedex/Disktenha",path:"/sedex"},{icon:"adicionar",label:"Novo Romaneio",path:"/novo-romaneio"},{icon:"usuarios",label:"Clientes",path:"/clientes"},{icon:"grafico",label:"Relatrios",path:"/relatorios"},{icon:"documento",label:"Receitas",path:"/receitas"},{icon:"dinheiro",label:"Pagamentos",path:"/pagamentos"},{icon:"calendario",label:"Planilha Diria",path:"/planilha-diaria"},{icon:"moto",label:"Painel dos Motoboys",path:"/painel-motoboys"},{icon:"celular",label:"Dispositivos",path:"/dispositivos"}],atendente:[{icon:"entregas",label:"Entregas Moto",path:"/"},{icon:"aviao",label:"Sedex/Disktenha",path:"/sedex"},{icon:"adicionar",label:"Novo Romaneio",path:"/novo-romaneio"},{icon:"usuarios",label:"Clientes",path:"/clientes"},{icon:"grafico",label:"Relatrios",path:"/relatorios"},{icon:"dinheiro",label:"Pagamentos",path:"/pagamentos"}],motoboy:[{icon:"moto",label:"Minhas Entregas",path:"/"}]},m=h[r]||h.admin;return n.jsxs("div",{style:{display:"flex",minHeight:"100vh",background:ee.colors.background},children:[n.jsx("style",{children:`
        @media print {
          .no-print {
            display: none !important;
          }
        }
      `}),n.jsxs("div",{className:"no-print",style:{width:d?"200px":"64px",background:"white",borderRight:`1px solid ${ee.colors.border}`,display:"flex",flexDirection:"column",transition:"width 0.3s ease"},children:[n.jsxs("div",{style:{padding:"2rem 1rem",borderBottom:`1px solid ${ee.colors.border}`,display:"flex",alignItems:"center",justifyContent:d?"flex-start":"center",gap:"0.75rem",height:"132px",boxSizing:"border-box"},children:[n.jsx("div",{style:{width:"36px",height:"36px",background:ee.colors.primary,borderRadius:"0.375rem",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontWeight:"bold",fontSize:"1.125rem",flexShrink:0},children:"F"}),d&&n.jsxs("div",{style:{overflow:"hidden",transition:"opacity 0.3s ease",flex:1},children:[n.jsx("h2",{style:{fontSize:"1rem",fontWeight:"600",color:ee.colors.text,margin:0,lineHeight:1.2,whiteSpace:"nowrap"},children:"Formdica"}),n.jsx("p",{style:{fontSize:"0.75rem",color:ee.colors.textLight,margin:0,lineHeight:1.2,whiteSpace:"nowrap"},children:"Entregas"})]})]}),n.jsx("div",{style:{padding:"0.75rem 1rem",borderBottom:`1px solid ${ee.colors.border}`},children:n.jsx("button",{onClick:()=>u(!d),style:{padding:"0.5rem",background:"transparent",border:`1px solid ${ee.colors.border}`,cursor:"pointer",color:ee.colors.primary,display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"0.375rem",transition:"background 0.15s",width:"100%"},onMouseEnter:p=>p.currentTarget.style.background="#f0f0f0",onMouseLeave:p=>p.currentTarget.style.background="transparent",title:d?"Recolher menu":"Expandir menu",children:n.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:d?n.jsx("path",{d:"M11 19l-7-7 7-7m8 14l-7-7 7-7"}):n.jsx("path",{d:"M13 5l7 7-7 7M5 5l7 7-7 7"})})})}),n.jsxs("nav",{style:{flex:1,padding:"0.5rem 0",overflowY:"auto"},children:[d&&n.jsx("p",{style:{padding:"0.5rem 1rem",fontSize:"0.6875rem",fontWeight:"600",color:ee.colors.textLight,textTransform:"uppercase",letterSpacing:"0.05em",marginBottom:"0.25rem"},children:"Menu Principal"}),m.map(p=>{const w=l.pathname===p.path,b=nR[p.icon];return n.jsxs("button",{onClick:()=>i(p.path),title:d?"":p.label,style:{width:"100%",padding:d?"0.625rem 1rem":"0.625rem 0",display:"flex",alignItems:"center",justifyContent:d?"flex-start":"center",gap:"0.75rem",border:"none",background:w?`${ee.colors.primary}10`:"transparent",color:w?ee.colors.primary:ee.colors.text,cursor:"pointer",transition:"all 0.15s",fontSize:"0.875rem",fontWeight:w?"500":"400",borderLeft:w?`3px solid ${ee.colors.primary}`:"3px solid transparent",textAlign:"left",position:"relative"},onMouseEnter:E=>{w||(E.currentTarget.style.background="#f8fafc")},onMouseLeave:E=>{w||(E.currentTarget.style.background="transparent")},children:[n.jsx("span",{style:{display:"flex",alignItems:"center",flexShrink:0},children:b&&n.jsx(b,{})}),d&&n.jsx("span",{style:{flex:1,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:p.label})]},p.path)})]}),n.jsxs("div",{style:{padding:"1rem",borderTop:`1px solid ${ee.colors.border}`},children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:d?"flex-start":"center",gap:"0.75rem",marginBottom:"0.75rem"},children:[n.jsx("div",{style:{width:"36px",height:"36px",background:ee.colors.secondary,borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontWeight:"600",fontSize:"0.875rem",flexShrink:0},title:d?"":(e==null?void 0:e.nome)||"Usurio",children:((x=e==null?void 0:e.nome)==null?void 0:x.charAt(0))||"U"}),d&&n.jsxs("div",{style:{flex:1,minWidth:0},children:[n.jsx("p",{style:{margin:0,fontSize:"0.8125rem",fontWeight:"500",color:ee.colors.text,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:(e==null?void 0:e.nome)||"Usurio"}),n.jsx("p",{style:{margin:0,fontSize:"0.6875rem",color:ee.colors.textLight,textTransform:"capitalize"},children:r})]})]}),n.jsxs("button",{onClick:o,title:d?"":"Sair",style:{width:"100%",padding:"0.5rem",background:"transparent",border:`1px solid ${ee.colors.border}`,borderRadius:"0.375rem",color:ee.colors.text,cursor:"pointer",fontSize:"0.8125rem",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",fontWeight:"500"},children:[n.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[n.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),n.jsx("polyline",{points:"16 17 21 12 16 7"}),n.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),d&&n.jsx("span",{children:"Sair"})]})]})]}),n.jsx("div",{style:{flex:1,overflowY:"auto"},children:t})]})}class oR extends xe.Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(e){var r,o;return(r=e==null?void 0:e.message)!=null&&r.includes("removeChild")||(o=e==null?void 0:e.message)!=null&&o.includes("The node to be removed is not a child")?(console.warn(" [ErrorBoundary] Erro de removeChild capturado e ignorado:",e.message),{hasError:!1}):(console.error(" [ErrorBoundary] Erro capturado:",e),{hasError:!1})}componentDidCatch(e,r){var o,i;!((o=e==null?void 0:e.message)!=null&&o.includes("removeChild"))&&!((i=e==null?void 0:e.message)!=null&&i.includes("The node to be removed is not a child"))&&console.error(" [ErrorBoundary] Detalhes:",e,r)}render(){return this.props.children}}function aR(){const[t,e]=y.useState(""),[r,o]=y.useState(""),[i,l]=y.useState(""),[d,u]=y.useState(!1),{login:h}=hu(),m=Ht(),x=async p=>{p.preventDefault(),l(""),u(!0),(await h(t,r)).success?m("/"):l("CPF ou senha invlidos"),u(!1)};return n.jsx("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:`linear-gradient(135deg, ${ee.colors.primary} 0%, ${ee.colors.secondary} 100%)`},children:n.jsxs("div",{style:{background:"white",padding:"2rem",borderRadius:"1rem",boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1)",width:"100%",maxWidth:"400px"},children:[n.jsxs("div",{style:{textAlign:"center",marginBottom:"2rem"},children:[n.jsx("h1",{style:{fontSize:"1.875rem",fontWeight:"bold",color:ee.colors.primary,marginBottom:"0.5rem"},children:"Formdica Entregas"}),n.jsx("p",{style:{color:ee.colors.textLight},children:"Entre com suas credenciais"})]}),n.jsxs("form",{onSubmit:x,children:[i&&n.jsx("div",{style:{background:"#fee2e2",color:"#991b1b",padding:"0.75rem",borderRadius:"0.5rem",marginBottom:"1rem",fontSize:"0.875rem"},children:i}),n.jsxs("div",{style:{marginBottom:"1rem"},children:[n.jsx("label",{style:{display:"block",marginBottom:"0.5rem",color:ee.colors.text,fontWeight:"500"},children:"CPF"}),n.jsx("input",{type:"text",value:t,onChange:p=>e(p.target.value),placeholder:"000.000.000-00",required:!0,style:{width:"100%",padding:"0.75rem",border:`1px solid ${ee.colors.border}`,borderRadius:"0.5rem",fontSize:"1rem"}})]}),n.jsxs("div",{style:{marginBottom:"1.5rem"},children:[n.jsx("label",{style:{display:"block",marginBottom:"0.5rem",color:ee.colors.text,fontWeight:"500"},children:"Senha"}),n.jsx("input",{type:"password",value:r,onChange:p=>o(p.target.value),placeholder:"Digite sua senha",required:!0,style:{width:"100%",padding:"0.75rem",border:`1px solid ${ee.colors.border}`,borderRadius:"0.5rem",fontSize:"1rem"}})]}),n.jsx("button",{type:"submit",disabled:d,style:{width:"100%",padding:"0.75rem",background:ee.colors.primary,color:"white",border:"none",borderRadius:"0.5rem",fontSize:"1rem",fontWeight:"600",cursor:d?"not-allowed":"pointer",opacity:d?.7:1},children:d?"Entrando...":"Entrar"})]})]})})}function at(t,e,{checkForDefaultPrevented:r=!0}={}){return function(i){if(t==null||t(i),r===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function mv(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function hw(...t){return e=>{let r=!1;const o=t.map(i=>{const l=mv(i,e);return!r&&typeof l=="function"&&(r=!0),l});if(r)return()=>{for(let i=0;i<o.length;i++){const l=o[i];typeof l=="function"?l():mv(t[i],null)}}}}function mt(...t){return y.useCallback(hw(...t),t)}function iR(t,e){const r=y.createContext(e),o=l=>{const{children:d,...u}=l,h=y.useMemo(()=>u,Object.values(u));return n.jsx(r.Provider,{value:h,children:d})};o.displayName=t+"Provider";function i(l){const d=y.useContext(r);if(d)return d;if(e!==void 0)return e;throw new Error(`\`${l}\` must be used within \`${t}\``)}return[o,i]}function Si(t,e=[]){let r=[];function o(l,d){const u=y.createContext(d),h=r.length;r=[...r,d];const m=p=>{var N;const{scope:w,children:b,...E}=p,_=((N=w==null?void 0:w[t])==null?void 0:N[h])||u,j=y.useMemo(()=>E,Object.values(E));return n.jsx(_.Provider,{value:j,children:b})};m.displayName=l+"Provider";function x(p,w){var _;const b=((_=w==null?void 0:w[t])==null?void 0:_[h])||u,E=y.useContext(b);if(E)return E;if(d!==void 0)return d;throw new Error(`\`${p}\` must be used within \`${l}\``)}return[m,x]}const i=()=>{const l=r.map(d=>y.createContext(d));return function(u){const h=(u==null?void 0:u[t])||l;return y.useMemo(()=>({[`__scope${t}`]:{...u,[t]:h}}),[u,h])}};return i.scopeName=t,[o,lR(i,...e)]}function lR(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const o=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(l){const d=o.reduce((u,{useScope:h,scopeName:m})=>{const p=h(l)[`__scope${m}`];return{...u,...p}},{});return y.useMemo(()=>({[`__scope${e.scopeName}`]:d}),[d])}};return r.scopeName=e.scopeName,r}var mr=globalThis!=null&&globalThis.document?y.useLayoutEffect:()=>{},cR=yy[" useId ".trim().toString()]||(()=>{}),dR=0;function Xa(t){const[e,r]=y.useState(cR());return mr(()=>{r(o=>o??String(dR++))},[t]),e?`radix-${e}`:""}var uR=yy[" useInsertionEffect ".trim().toString()]||mr;function Qd({prop:t,defaultProp:e,onChange:r=()=>{},caller:o}){const[i,l,d]=hR({defaultProp:e,onChange:r}),u=t!==void 0,h=u?t:i;{const x=y.useRef(t!==void 0);y.useEffect(()=>{const p=x.current;p!==u&&console.warn(`${o} is changing from ${p?"controlled":"uncontrolled"} to ${u?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),x.current=u},[u,o])}const m=y.useCallback(x=>{var p;if(u){const w=fR(x)?x(t):x;w!==t&&((p=d.current)==null||p.call(d,w))}else l(x)},[u,t,l,d]);return[h,m]}function hR({defaultProp:t,onChange:e}){const[r,o]=y.useState(t),i=y.useRef(r),l=y.useRef(e);return uR(()=>{l.current=e},[e]),y.useEffect(()=>{var d;i.current!==r&&((d=l.current)==null||d.call(l,r),i.current=r)},[r,i]),[r,o,l]}function fR(t){return typeof t=="function"}function vi(t){const e=pR(t),r=y.forwardRef((o,i)=>{const{children:l,...d}=o,u=y.Children.toArray(l),h=u.find(xR);if(h){const m=h.props.children,x=u.map(p=>p===h?y.Children.count(m)>1?y.Children.only(null):y.isValidElement(m)?m.props.children:null:p);return n.jsx(e,{...d,ref:i,children:y.isValidElement(m)?y.cloneElement(m,void 0,x):null})}return n.jsx(e,{...d,ref:i,children:l})});return r.displayName=`${t}.Slot`,r}var mR=vi("Slot");function pR(t){const e=y.forwardRef((r,o)=>{const{children:i,...l}=r;if(y.isValidElement(i)){const d=yR(i),u=vR(l,i.props);return i.type!==y.Fragment&&(u.ref=o?hw(o,d):d),y.cloneElement(i,u)}return y.Children.count(i)>1?y.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var fw=Symbol("radix.slottable");function gR(t){const e=({children:r})=>n.jsx(n.Fragment,{children:r});return e.displayName=`${t}.Slottable`,e.__radixId=fw,e}function xR(t){return y.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===fw}function vR(t,e){const r={...e};for(const o in e){const i=t[o],l=e[o];/^on[A-Z]/.test(o)?i&&l?r[o]=(...u)=>{const h=l(...u);return i(...u),h}:i&&(r[o]=i):o==="style"?r[o]={...i,...l}:o==="className"&&(r[o]=[i,l].filter(Boolean).join(" "))}return{...t,...r}}function yR(t){var o,i;let e=(o=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:o.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var bR=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],rt=bR.reduce((t,e)=>{const r=vi(`Primitive.${e}`),o=y.forwardRef((i,l)=>{const{asChild:d,...u}=i,h=d?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),n.jsx(h,{...u,ref:l})});return o.displayName=`Primitive.${e}`,{...t,[e]:o}},{});function wR(t,e){t&&Fl.flushSync(()=>t.dispatchEvent(e))}function ca(t){const e=y.useRef(t);return y.useEffect(()=>{e.current=t}),y.useMemo(()=>(...r)=>{var o;return(o=e.current)==null?void 0:o.call(e,...r)},[])}function jR(t,e=globalThis==null?void 0:globalThis.document){const r=ca(t);y.useEffect(()=>{const o=i=>{i.key==="Escape"&&r(i)};return e.addEventListener("keydown",o,{capture:!0}),()=>e.removeEventListener("keydown",o,{capture:!0})},[r,e])}var _R="DismissableLayer",wm="dismissableLayer.update",ER="dismissableLayer.pointerDownOutside",NR="dismissableLayer.focusOutside",pv,mw=y.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),op=y.forwardRef((t,e)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:l,onInteractOutside:d,onDismiss:u,...h}=t,m=y.useContext(mw),[x,p]=y.useState(null),w=(x==null?void 0:x.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,b]=y.useState({}),E=mt(e,q=>p(q)),_=Array.from(m.layers),[j]=[...m.layersWithOutsidePointerEventsDisabled].slice(-1),N=_.indexOf(j),S=x?_.indexOf(x):-1,k=m.layersWithOutsidePointerEventsDisabled.size>0,P=S>=N,z=kR(q=>{const K=q.target,de=[...m.branches].some(V=>V.contains(K));!P||de||(i==null||i(q),d==null||d(q),q.defaultPrevented||u==null||u())},w),A=RR(q=>{const K=q.target;[...m.branches].some(V=>V.contains(K))||(l==null||l(q),d==null||d(q),q.defaultPrevented||u==null||u())},w);return jR(q=>{S===m.layers.size-1&&(o==null||o(q),!q.defaultPrevented&&u&&(q.preventDefault(),u()))},w),y.useEffect(()=>{if(x)return r&&(m.layersWithOutsidePointerEventsDisabled.size===0&&(pv=w.body.style.pointerEvents,w.body.style.pointerEvents="none"),m.layersWithOutsidePointerEventsDisabled.add(x)),m.layers.add(x),gv(),()=>{r&&m.layersWithOutsidePointerEventsDisabled.size===1&&(w.body.style.pointerEvents=pv)}},[x,w,r,m]),y.useEffect(()=>()=>{x&&(m.layers.delete(x),m.layersWithOutsidePointerEventsDisabled.delete(x),gv())},[x,m]),y.useEffect(()=>{const q=()=>b({});return document.addEventListener(wm,q),()=>document.removeEventListener(wm,q)},[]),n.jsx(rt.div,{...h,ref:E,style:{pointerEvents:k?P?"auto":"none":void 0,...t.style},onFocusCapture:at(t.onFocusCapture,A.onFocusCapture),onBlurCapture:at(t.onBlurCapture,A.onBlurCapture),onPointerDownCapture:at(t.onPointerDownCapture,z.onPointerDownCapture)})});op.displayName=_R;var SR="DismissableLayerBranch",CR=y.forwardRef((t,e)=>{const r=y.useContext(mw),o=y.useRef(null),i=mt(e,o);return y.useEffect(()=>{const l=o.current;if(l)return r.branches.add(l),()=>{r.branches.delete(l)}},[r.branches]),n.jsx(rt.div,{...t,ref:i})});CR.displayName=SR;function kR(t,e=globalThis==null?void 0:globalThis.document){const r=ca(t),o=y.useRef(!1),i=y.useRef(()=>{});return y.useEffect(()=>{const l=u=>{if(u.target&&!o.current){let h=function(){pw(ER,r,m,{discrete:!0})};const m={originalEvent:u};u.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=h,e.addEventListener("click",i.current,{once:!0})):h()}else e.removeEventListener("click",i.current);o.current=!1},d=window.setTimeout(()=>{e.addEventListener("pointerdown",l)},0);return()=>{window.clearTimeout(d),e.removeEventListener("pointerdown",l),e.removeEventListener("click",i.current)}},[e,r]),{onPointerDownCapture:()=>o.current=!0}}function RR(t,e=globalThis==null?void 0:globalThis.document){const r=ca(t),o=y.useRef(!1);return y.useEffect(()=>{const i=l=>{l.target&&!o.current&&pw(NR,r,{originalEvent:l},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,r]),{onFocusCapture:()=>o.current=!0,onBlurCapture:()=>o.current=!1}}function gv(){const t=new CustomEvent(wm);document.dispatchEvent(t)}function pw(t,e,r,{discrete:o}){const i=r.originalEvent.target,l=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});e&&i.addEventListener(t,e,{once:!0}),o?wR(i,l):i.dispatchEvent(l)}var Sf="focusScope.autoFocusOnMount",Cf="focusScope.autoFocusOnUnmount",xv={bubbles:!1,cancelable:!0},AR="FocusScope",ap=y.forwardRef((t,e)=>{const{loop:r=!1,trapped:o=!1,onMountAutoFocus:i,onUnmountAutoFocus:l,...d}=t,[u,h]=y.useState(null),m=ca(i),x=ca(l),p=y.useRef(null),w=mt(e,_=>h(_)),b=y.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;y.useEffect(()=>{if(o){let _=function(k){if(b.paused||!u)return;const P=k.target;u.contains(P)?p.current=P:eo(p.current,{select:!0})},j=function(k){if(b.paused||!u)return;const P=k.relatedTarget;P!==null&&(u.contains(P)||eo(p.current,{select:!0}))},N=function(k){if(document.activeElement===document.body)for(const z of k)z.removedNodes.length>0&&eo(u)};document.addEventListener("focusin",_),document.addEventListener("focusout",j);const S=new MutationObserver(N);return u&&S.observe(u,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",_),document.removeEventListener("focusout",j),S.disconnect()}}},[o,u,b.paused]),y.useEffect(()=>{if(u){yv.add(b);const _=document.activeElement;if(!u.contains(_)){const N=new CustomEvent(Sf,xv);u.addEventListener(Sf,m),u.dispatchEvent(N),N.defaultPrevented||(PR(MR(gw(u)),{select:!0}),document.activeElement===_&&eo(u))}return()=>{u.removeEventListener(Sf,m),setTimeout(()=>{const N=new CustomEvent(Cf,xv);u.addEventListener(Cf,x),u.dispatchEvent(N),N.defaultPrevented||eo(_??document.body,{select:!0}),u.removeEventListener(Cf,x),yv.remove(b)},0)}}},[u,m,x,b]);const E=y.useCallback(_=>{if(!r&&!o||b.paused)return;const j=_.key==="Tab"&&!_.altKey&&!_.ctrlKey&&!_.metaKey,N=document.activeElement;if(j&&N){const S=_.currentTarget,[k,P]=TR(S);k&&P?!_.shiftKey&&N===P?(_.preventDefault(),r&&eo(k,{select:!0})):_.shiftKey&&N===k&&(_.preventDefault(),r&&eo(P,{select:!0})):N===S&&_.preventDefault()}},[r,o,b.paused]);return n.jsx(rt.div,{tabIndex:-1,...d,ref:w,onKeyDown:E})});ap.displayName=AR;function PR(t,{select:e=!1}={}){const r=document.activeElement;for(const o of t)if(eo(o,{select:e}),document.activeElement!==r)return}function TR(t){const e=gw(t),r=vv(e,t),o=vv(e.reverse(),t);return[r,o]}function gw(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:o=>{const i=o.tagName==="INPUT"&&o.type==="hidden";return o.disabled||o.hidden||i?NodeFilter.FILTER_SKIP:o.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function vv(t,e){for(const r of t)if(!OR(r,{upTo:e}))return r}function OR(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function IR(t){return t instanceof HTMLInputElement&&"select"in t}function eo(t,{select:e=!1}={}){if(t&&t.focus){const r=document.activeElement;t.focus({preventScroll:!0}),t!==r&&IR(t)&&e&&t.select()}}var yv=DR();function DR(){let t=[];return{add(e){const r=t[0];e!==r&&(r==null||r.pause()),t=bv(t,e),t.unshift(e)},remove(e){var r;t=bv(t,e),(r=t[0])==null||r.resume()}}}function bv(t,e){const r=[...t],o=r.indexOf(e);return o!==-1&&r.splice(o,1),r}function MR(t){return t.filter(e=>e.tagName!=="A")}var LR="Portal",ip=y.forwardRef((t,e)=>{var u;const{container:r,...o}=t,[i,l]=y.useState(!1);mr(()=>l(!0),[]);const d=r||i&&((u=globalThis==null?void 0:globalThis.document)==null?void 0:u.body);return d?Ly.createPortal(n.jsx(rt.div,{...o,ref:e}),d):null});ip.displayName=LR;function $R(t,e){return y.useReducer((r,o)=>e[r][o]??r,t)}var ql=t=>{const{present:e,children:r}=t,o=BR(e),i=typeof r=="function"?r({present:o.isPresent}):y.Children.only(r),l=mt(o.ref,FR(i));return typeof r=="function"||o.isPresent?y.cloneElement(i,{ref:l}):null};ql.displayName="Presence";function BR(t){const[e,r]=y.useState(),o=y.useRef(null),i=y.useRef(t),l=y.useRef("none"),d=t?"mounted":"unmounted",[u,h]=$R(d,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return y.useEffect(()=>{const m=fd(o.current);l.current=u==="mounted"?m:"none"},[u]),mr(()=>{const m=o.current,x=i.current;if(x!==t){const w=l.current,b=fd(m);t?h("MOUNT"):b==="none"||(m==null?void 0:m.display)==="none"?h("UNMOUNT"):h(x&&w!==b?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,h]),mr(()=>{if(e){let m;const x=e.ownerDocument.defaultView??window,p=b=>{const _=fd(o.current).includes(CSS.escape(b.animationName));if(b.target===e&&_&&(h("ANIMATION_END"),!i.current)){const j=e.style.animationFillMode;e.style.animationFillMode="forwards",m=x.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=j)})}},w=b=>{b.target===e&&(l.current=fd(o.current))};return e.addEventListener("animationstart",w),e.addEventListener("animationcancel",p),e.addEventListener("animationend",p),()=>{x.clearTimeout(m),e.removeEventListener("animationstart",w),e.removeEventListener("animationcancel",p),e.removeEventListener("animationend",p)}}else h("ANIMATION_END")},[e,h]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:y.useCallback(m=>{o.current=m?getComputedStyle(m):null,r(m)},[])}}function fd(t){return(t==null?void 0:t.animationName)||"none"}function FR(t){var o,i;let e=(o=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:o.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var kf=0;function xw(){y.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??wv()),document.body.insertAdjacentElement("beforeend",t[1]??wv()),kf++,()=>{kf===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),kf--}},[])}function wv(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Od="right-scroll-bar-position",Id="width-before-scroll-bar",zR="with-scroll-bars-hidden",UR="--removed-body-scroll-bar-size";function Rf(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function qR(t,e){var r=y.useState(function(){return{value:t,callback:e,facade:{get current(){return r.value},set current(o){var i=r.value;i!==o&&(r.value=o,r.callback(o,i))}}}})[0];return r.callback=e,r.facade}var WR=typeof window<"u"?y.useLayoutEffect:y.useEffect,jv=new WeakMap;function VR(t,e){var r=qR(null,function(o){return t.forEach(function(i){return Rf(i,o)})});return WR(function(){var o=jv.get(r);if(o){var i=new Set(o),l=new Set(t),d=r.current;i.forEach(function(u){l.has(u)||Rf(u,null)}),l.forEach(function(u){i.has(u)||Rf(u,d)})}jv.set(r,t)},[t]),r}function HR(t){return t}function KR(t,e){e===void 0&&(e=HR);var r=[],o=!1,i={read:function(){if(o)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:t},useMedium:function(l){var d=e(l,o);return r.push(d),function(){r=r.filter(function(u){return u!==d})}},assignSyncMedium:function(l){for(o=!0;r.length;){var d=r;r=[],d.forEach(l)}r={push:function(u){return l(u)},filter:function(){return r}}},assignMedium:function(l){o=!0;var d=[];if(r.length){var u=r;r=[],u.forEach(l),d=r}var h=function(){var x=d;d=[],x.forEach(l)},m=function(){return Promise.resolve().then(h)};m(),r={push:function(x){d.push(x),m()},filter:function(x){return d=d.filter(x),r}}}};return i}function GR(t){t===void 0&&(t={});var e=KR(null);return e.options=Zr({async:!0,ssr:!1},t),e}var vw=function(t){var e=t.sideCar,r=wo(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var o=e.read();if(!o)throw new Error("Sidecar medium not found");return y.createElement(o,Zr({},r))};vw.isSideCarExport=!0;function QR(t,e){return t.useMedium(e),vw}var yw=GR(),Af=function(){},fu=y.forwardRef(function(t,e){var r=y.useRef(null),o=y.useState({onScrollCapture:Af,onWheelCapture:Af,onTouchMoveCapture:Af}),i=o[0],l=o[1],d=t.forwardProps,u=t.children,h=t.className,m=t.removeScrollBar,x=t.enabled,p=t.shards,w=t.sideCar,b=t.noRelative,E=t.noIsolation,_=t.inert,j=t.allowPinchZoom,N=t.as,S=N===void 0?"div":N,k=t.gapMode,P=wo(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),z=w,A=VR([r,e]),q=Zr(Zr({},P),i);return y.createElement(y.Fragment,null,x&&y.createElement(z,{sideCar:yw,removeScrollBar:m,shards:p,noRelative:b,noIsolation:E,inert:_,setCallbacks:l,allowPinchZoom:!!j,lockRef:r,gapMode:k}),d?y.cloneElement(y.Children.only(u),Zr(Zr({},q),{ref:A})):y.createElement(S,Zr({},q,{className:h,ref:A}),u))});fu.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};fu.classNames={fullWidth:Id,zeroRight:Od};var JR=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function YR(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=JR();return e&&t.setAttribute("nonce",e),t}function XR(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function ZR(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var eA=function(){var t=0,e=null;return{add:function(r){t==0&&(e=YR())&&(XR(e,r),ZR(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},tA=function(){var t=eA();return function(e,r){y.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&r])}},bw=function(){var t=tA(),e=function(r){var o=r.styles,i=r.dynamic;return t(o,i),null};return e},rA={left:0,top:0,right:0,gap:0},Pf=function(t){return parseInt(t||"",10)||0},nA=function(t){var e=window.getComputedStyle(document.body),r=e[t==="padding"?"paddingLeft":"marginLeft"],o=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[Pf(r),Pf(o),Pf(i)]},sA=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return rA;var e=nA(t),r=document.documentElement.clientWidth,o=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,o-r+e[2]-e[0])}},oA=bw(),Za="data-scroll-locked",aA=function(t,e,r,o){var i=t.left,l=t.top,d=t.right,u=t.gap;return r===void 0&&(r="margin"),`
  .`.concat(zR,` {
   overflow: hidden `).concat(o,`;
   padding-right: `).concat(u,"px ").concat(o,`;
  }
  body[`).concat(Za,`] {
    overflow: hidden `).concat(o,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(o,";"),r==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(l,`px;
    padding-right: `).concat(d,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(u,"px ").concat(o,`;
    `),r==="padding"&&"padding-right: ".concat(u,"px ").concat(o,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Od,` {
    right: `).concat(u,"px ").concat(o,`;
  }
  
  .`).concat(Id,` {
    margin-right: `).concat(u,"px ").concat(o,`;
  }
  
  .`).concat(Od," .").concat(Od,` {
    right: 0 `).concat(o,`;
  }
  
  .`).concat(Id," .").concat(Id,` {
    margin-right: 0 `).concat(o,`;
  }
  
  body[`).concat(Za,`] {
    `).concat(UR,": ").concat(u,`px;
  }
`)},_v=function(){var t=parseInt(document.body.getAttribute(Za)||"0",10);return isFinite(t)?t:0},iA=function(){y.useEffect(function(){return document.body.setAttribute(Za,(_v()+1).toString()),function(){var t=_v()-1;t<=0?document.body.removeAttribute(Za):document.body.setAttribute(Za,t.toString())}},[])},lA=function(t){var e=t.noRelative,r=t.noImportant,o=t.gapMode,i=o===void 0?"margin":o;iA();var l=y.useMemo(function(){return sA(i)},[i]);return y.createElement(oA,{styles:aA(l,!e,i,r?"":"!important")})},jm=!1;if(typeof window<"u")try{var md=Object.defineProperty({},"passive",{get:function(){return jm=!0,!0}});window.addEventListener("test",md,md),window.removeEventListener("test",md,md)}catch{jm=!1}var qa=jm?{passive:!1}:!1,cA=function(t){return t.tagName==="TEXTAREA"},ww=function(t,e){if(!(t instanceof Element))return!1;var r=window.getComputedStyle(t);return r[e]!=="hidden"&&!(r.overflowY===r.overflowX&&!cA(t)&&r[e]==="visible")},dA=function(t){return ww(t,"overflowY")},uA=function(t){return ww(t,"overflowX")},Ev=function(t,e){var r=e.ownerDocument,o=e;do{typeof ShadowRoot<"u"&&o instanceof ShadowRoot&&(o=o.host);var i=jw(t,o);if(i){var l=_w(t,o),d=l[1],u=l[2];if(d>u)return!0}o=o.parentNode}while(o&&o!==r.body);return!1},hA=function(t){var e=t.scrollTop,r=t.scrollHeight,o=t.clientHeight;return[e,r,o]},fA=function(t){var e=t.scrollLeft,r=t.scrollWidth,o=t.clientWidth;return[e,r,o]},jw=function(t,e){return t==="v"?dA(e):uA(e)},_w=function(t,e){return t==="v"?hA(e):fA(e)},mA=function(t,e){return t==="h"&&e==="rtl"?-1:1},pA=function(t,e,r,o,i){var l=mA(t,window.getComputedStyle(e).direction),d=l*o,u=r.target,h=e.contains(u),m=!1,x=d>0,p=0,w=0;do{if(!u)break;var b=_w(t,u),E=b[0],_=b[1],j=b[2],N=_-j-l*E;(E||N)&&jw(t,u)&&(p+=N,w+=E);var S=u.parentNode;u=S&&S.nodeType===Node.DOCUMENT_FRAGMENT_NODE?S.host:S}while(!h&&u!==document.body||h&&(e.contains(u)||e===u));return(x&&Math.abs(p)<1||!x&&Math.abs(w)<1)&&(m=!0),m},pd=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},Nv=function(t){return[t.deltaX,t.deltaY]},Sv=function(t){return t&&"current"in t?t.current:t},gA=function(t,e){return t[0]===e[0]&&t[1]===e[1]},xA=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},vA=0,Wa=[];function yA(t){var e=y.useRef([]),r=y.useRef([0,0]),o=y.useRef(),i=y.useState(vA++)[0],l=y.useState(bw)[0],d=y.useRef(t);y.useEffect(function(){d.current=t},[t]),y.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var _=Jm([t.lockRef.current],(t.shards||[]).map(Sv),!0).filter(Boolean);return _.forEach(function(j){return j.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),_.forEach(function(j){return j.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var u=y.useCallback(function(_,j){if("touches"in _&&_.touches.length===2||_.type==="wheel"&&_.ctrlKey)return!d.current.allowPinchZoom;var N=pd(_),S=r.current,k="deltaX"in _?_.deltaX:S[0]-N[0],P="deltaY"in _?_.deltaY:S[1]-N[1],z,A=_.target,q=Math.abs(k)>Math.abs(P)?"h":"v";if("touches"in _&&q==="h"&&A.type==="range")return!1;var K=Ev(q,A);if(!K)return!0;if(K?z=q:(z=q==="v"?"h":"v",K=Ev(q,A)),!K)return!1;if(!o.current&&"changedTouches"in _&&(k||P)&&(o.current=z),!z)return!0;var de=o.current||z;return pA(de,j,_,de==="h"?k:P)},[]),h=y.useCallback(function(_){var j=_;if(!(!Wa.length||Wa[Wa.length-1]!==l)){var N="deltaY"in j?Nv(j):pd(j),S=e.current.filter(function(z){return z.name===j.type&&(z.target===j.target||j.target===z.shadowParent)&&gA(z.delta,N)})[0];if(S&&S.should){j.cancelable&&j.preventDefault();return}if(!S){var k=(d.current.shards||[]).map(Sv).filter(Boolean).filter(function(z){return z.contains(j.target)}),P=k.length>0?u(j,k[0]):!d.current.noIsolation;P&&j.cancelable&&j.preventDefault()}}},[]),m=y.useCallback(function(_,j,N,S){var k={name:_,delta:j,target:N,should:S,shadowParent:bA(N)};e.current.push(k),setTimeout(function(){e.current=e.current.filter(function(P){return P!==k})},1)},[]),x=y.useCallback(function(_){r.current=pd(_),o.current=void 0},[]),p=y.useCallback(function(_){m(_.type,Nv(_),_.target,u(_,t.lockRef.current))},[]),w=y.useCallback(function(_){m(_.type,pd(_),_.target,u(_,t.lockRef.current))},[]);y.useEffect(function(){return Wa.push(l),t.setCallbacks({onScrollCapture:p,onWheelCapture:p,onTouchMoveCapture:w}),document.addEventListener("wheel",h,qa),document.addEventListener("touchmove",h,qa),document.addEventListener("touchstart",x,qa),function(){Wa=Wa.filter(function(_){return _!==l}),document.removeEventListener("wheel",h,qa),document.removeEventListener("touchmove",h,qa),document.removeEventListener("touchstart",x,qa)}},[]);var b=t.removeScrollBar,E=t.inert;return y.createElement(y.Fragment,null,E?y.createElement(l,{styles:xA(i)}):null,b?y.createElement(lA,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function bA(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const wA=QR(yw,yA);var lp=y.forwardRef(function(t,e){return y.createElement(fu,Zr({},t,{ref:e,sideCar:wA}))});lp.classNames=fu.classNames;var jA=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Va=new WeakMap,gd=new WeakMap,xd={},Tf=0,Ew=function(t){return t&&(t.host||Ew(t.parentNode))},_A=function(t,e){return e.map(function(r){if(t.contains(r))return r;var o=Ew(r);return o&&t.contains(o)?o:(console.error("aria-hidden",r,"in not contained inside",t,". Doing nothing"),null)}).filter(function(r){return!!r})},EA=function(t,e,r,o){var i=_A(e,Array.isArray(t)?t:[t]);xd[r]||(xd[r]=new WeakMap);var l=xd[r],d=[],u=new Set,h=new Set(i),m=function(p){!p||u.has(p)||(u.add(p),m(p.parentNode))};i.forEach(m);var x=function(p){!p||h.has(p)||Array.prototype.forEach.call(p.children,function(w){if(u.has(w))x(w);else try{var b=w.getAttribute(o),E=b!==null&&b!=="false",_=(Va.get(w)||0)+1,j=(l.get(w)||0)+1;Va.set(w,_),l.set(w,j),d.push(w),_===1&&E&&gd.set(w,!0),j===1&&w.setAttribute(r,"true"),E||w.setAttribute(o,"true")}catch(N){console.error("aria-hidden: cannot operate on ",w,N)}})};return x(e),u.clear(),Tf++,function(){d.forEach(function(p){var w=Va.get(p)-1,b=l.get(p)-1;Va.set(p,w),l.set(p,b),w||(gd.has(p)||p.removeAttribute(o),gd.delete(p)),b||p.removeAttribute(r)}),Tf--,Tf||(Va=new WeakMap,Va=new WeakMap,gd=new WeakMap,xd={})}},Nw=function(t,e,r){r===void 0&&(r="data-aria-hidden");var o=Array.from(Array.isArray(t)?t:[t]),i=jA(t);return i?(o.push.apply(o,Array.from(i.querySelectorAll("[aria-live], script"))),EA(o,i,r,"aria-hidden")):function(){return null}},mu="Dialog",[Sw,Cw]=Si(mu),[NA,Cn]=Sw(mu),kw=t=>{const{__scopeDialog:e,children:r,open:o,defaultOpen:i,onOpenChange:l,modal:d=!0}=t,u=y.useRef(null),h=y.useRef(null),[m,x]=Qd({prop:o,defaultProp:i??!1,onChange:l,caller:mu});return n.jsx(NA,{scope:e,triggerRef:u,contentRef:h,contentId:Xa(),titleId:Xa(),descriptionId:Xa(),open:m,onOpenChange:x,onOpenToggle:y.useCallback(()=>x(p=>!p),[x]),modal:d,children:r})};kw.displayName=mu;var Rw="DialogTrigger",Aw=y.forwardRef((t,e)=>{const{__scopeDialog:r,...o}=t,i=Cn(Rw,r),l=mt(e,i.triggerRef);return n.jsx(rt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":up(i.open),...o,ref:l,onClick:at(t.onClick,i.onOpenToggle)})});Aw.displayName=Rw;var cp="DialogPortal",[SA,Pw]=Sw(cp,{forceMount:void 0}),Tw=t=>{const{__scopeDialog:e,forceMount:r,children:o,container:i}=t,l=Cn(cp,e);return n.jsx(SA,{scope:e,forceMount:r,children:y.Children.map(o,d=>n.jsx(ql,{present:r||l.open,children:n.jsx(ip,{asChild:!0,container:i,children:d})}))})};Tw.displayName=cp;var Jd="DialogOverlay",Ow=y.forwardRef((t,e)=>{const r=Pw(Jd,t.__scopeDialog),{forceMount:o=r.forceMount,...i}=t,l=Cn(Jd,t.__scopeDialog);return l.modal?n.jsx(ql,{present:o||l.open,children:n.jsx(kA,{...i,ref:e})}):null});Ow.displayName=Jd;var CA=vi("DialogOverlay.RemoveScroll"),kA=y.forwardRef((t,e)=>{const{__scopeDialog:r,...o}=t,i=Cn(Jd,r);return n.jsx(lp,{as:CA,allowPinchZoom:!0,shards:[i.contentRef],children:n.jsx(rt.div,{"data-state":up(i.open),...o,ref:e,style:{pointerEvents:"auto",...o.style}})})}),da="DialogContent",Iw=y.forwardRef((t,e)=>{const r=Pw(da,t.__scopeDialog),{forceMount:o=r.forceMount,...i}=t,l=Cn(da,t.__scopeDialog);return n.jsx(ql,{present:o||l.open,children:l.modal?n.jsx(RA,{...i,ref:e}):n.jsx(AA,{...i,ref:e})})});Iw.displayName=da;var RA=y.forwardRef((t,e)=>{const r=Cn(da,t.__scopeDialog),o=y.useRef(null),i=mt(e,r.contentRef,o);return y.useEffect(()=>{const l=o.current;if(l)return Nw(l)},[]),n.jsx(Dw,{...t,ref:i,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:at(t.onCloseAutoFocus,l=>{var d;l.preventDefault(),(d=r.triggerRef.current)==null||d.focus()}),onPointerDownOutside:at(t.onPointerDownOutside,l=>{const d=l.detail.originalEvent,u=d.button===0&&d.ctrlKey===!0;(d.button===2||u)&&l.preventDefault()}),onFocusOutside:at(t.onFocusOutside,l=>l.preventDefault())})}),AA=y.forwardRef((t,e)=>{const r=Cn(da,t.__scopeDialog),o=y.useRef(!1),i=y.useRef(!1);return n.jsx(Dw,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:l=>{var d,u;(d=t.onCloseAutoFocus)==null||d.call(t,l),l.defaultPrevented||(o.current||(u=r.triggerRef.current)==null||u.focus(),l.preventDefault()),o.current=!1,i.current=!1},onInteractOutside:l=>{var h,m;(h=t.onInteractOutside)==null||h.call(t,l),l.defaultPrevented||(o.current=!0,l.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const d=l.target;((m=r.triggerRef.current)==null?void 0:m.contains(d))&&l.preventDefault(),l.detail.originalEvent.type==="focusin"&&i.current&&l.preventDefault()}})}),Dw=y.forwardRef((t,e)=>{const{__scopeDialog:r,trapFocus:o,onOpenAutoFocus:i,onCloseAutoFocus:l,...d}=t,u=Cn(da,r),h=y.useRef(null),m=mt(e,h);return xw(),n.jsxs(n.Fragment,{children:[n.jsx(ap,{asChild:!0,loop:!0,trapped:o,onMountAutoFocus:i,onUnmountAutoFocus:l,children:n.jsx(op,{role:"dialog",id:u.contentId,"aria-describedby":u.descriptionId,"aria-labelledby":u.titleId,"data-state":up(u.open),...d,ref:m,onDismiss:()=>u.onOpenChange(!1)})}),n.jsxs(n.Fragment,{children:[n.jsx(TA,{titleId:u.titleId}),n.jsx(IA,{contentRef:h,descriptionId:u.descriptionId})]})]})}),dp="DialogTitle",Mw=y.forwardRef((t,e)=>{const{__scopeDialog:r,...o}=t,i=Cn(dp,r);return n.jsx(rt.h2,{id:i.titleId,...o,ref:e})});Mw.displayName=dp;var Lw="DialogDescription",$w=y.forwardRef((t,e)=>{const{__scopeDialog:r,...o}=t,i=Cn(Lw,r);return n.jsx(rt.p,{id:i.descriptionId,...o,ref:e})});$w.displayName=Lw;var Bw="DialogClose",Fw=y.forwardRef((t,e)=>{const{__scopeDialog:r,...o}=t,i=Cn(Bw,r);return n.jsx(rt.button,{type:"button",...o,ref:e,onClick:at(t.onClick,()=>i.onOpenChange(!1))})});Fw.displayName=Bw;function up(t){return t?"open":"closed"}var zw="DialogTitleWarning",[PA,Uw]=iR(zw,{contentName:da,titleName:dp,docsSlug:"dialog"}),TA=({titleId:t})=>{const e=Uw(zw),r=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return y.useEffect(()=>{t&&(document.getElementById(t)||console.error(r))},[r,t]),null},OA="DialogDescriptionWarning",IA=({contentRef:t,descriptionId:e})=>{const o=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Uw(OA).contentName}}.`;return y.useEffect(()=>{var l;const i=(l=t.current)==null?void 0:l.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(o))},[o,t,e]),null},qw=kw,DA=Aw,Ww=Tw,hp=Ow,fp=Iw,mp=Mw,pp=$w,gp=Fw;/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MA=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Vw=(...t)=>t.filter((e,r,o)=>!!e&&e.trim()!==""&&o.indexOf(e)===r).join(" ").trim();/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var LA={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $A=y.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:o,className:i="",children:l,iconNode:d,...u},h)=>y.createElement("svg",{ref:h,...LA,width:e,height:e,stroke:t,strokeWidth:o?Number(r)*24/Number(e):r,className:Vw("lucide",i),...u},[...d.map(([m,x])=>y.createElement(m,x)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qe=(t,e)=>{const r=y.forwardRef(({className:o,...i},l)=>y.createElement($A,{ref:l,iconNode:e,className:Vw(`lucide-${MA(t)}`,o),...i}));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BA=[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]],_m=qe("Banknote",BA);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FA=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],vo=qe("Calendar",FA);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zA=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],ua=qe("Check",zA);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UA=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Hw=qe("ChevronDown",UA);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qA=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],kt=qe("ChevronLeft",qA);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WA=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Wl=qe("ChevronRight",WA);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VA=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],HA=qe("ChevronUp",VA);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Kw=qe("CircleAlert",KA);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GA=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],ei=qe("CircleCheckBig",GA);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Dd=qe("CircleX",QA);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JA=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],go=qe("ClipboardList",JA);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],yn=qe("Clock",YA);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XA=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],Gw=qe("CreditCard",XA);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZA=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],ga=qe("DollarSign",ZA);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e5=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],t5=qe("Download",e5);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r5=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],n5=qe("ExternalLink",r5);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s5=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],o5=qe("Eye",s5);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a5=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],br=qe("FileText",a5);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i5=[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]],l5=qe("Filter",i5);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c5=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],Cv=qe("Image",c5);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d5=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],u5=qe("Mail",d5);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h5=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],yi=qe("MapPin",h5);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f5=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],Md=qe("Monitor",f5);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m5=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],p5=qe("Moon",m5);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g5=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],Ur=qe("Package",g5);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x5=[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]],Rl=qe("Phone",x5);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v5=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],pu=qe("Plus",v5);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y5=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],gu=qe("Printer",y5);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b5=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],w5=qe("RefreshCw",b5);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j5=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],Vn=qe("Search",j5);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _5=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],kv=qe("Send",_5);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E5=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],N5=qe("Smartphone",E5);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S5=[["path",{d:"m10 20-1.25-2.5L6 18",key:"18frcb"}],["path",{d:"M10 4 8.75 6.5 6 6",key:"7mghy3"}],["path",{d:"m14 20 1.25-2.5L18 18",key:"1chtki"}],["path",{d:"m14 4 1.25 2.5L18 6",key:"1b4wsy"}],["path",{d:"m17 21-3-6h-4",key:"15hhxa"}],["path",{d:"m17 3-3 6 1.5 3",key:"11697g"}],["path",{d:"M2 12h6.5L10 9",key:"kv9z4n"}],["path",{d:"m20 10-1.5 2 1.5 2",key:"1swlpi"}],["path",{d:"M22 12h-6.5L14 15",key:"1mxi28"}],["path",{d:"m4 10 1.5 2L4 14",key:"k9enpj"}],["path",{d:"m7 21 3-6-1.5-3",key:"j8hb9u"}],["path",{d:"m7 3 3 6h4",key:"1otusx"}]],Rv=qe("Snowflake",S5);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C5=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],xu=qe("SquarePen",C5);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k5=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],Qw=qe("Sun",k5);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R5=[["path",{d:"M12 2v8",key:"1q4o3n"}],["path",{d:"m4.93 10.93 1.41 1.41",key:"2a7f42"}],["path",{d:"M2 18h2",key:"j10viu"}],["path",{d:"M20 18h2",key:"wocana"}],["path",{d:"m19.07 10.93-1.41 1.41",key:"15zs5n"}],["path",{d:"M22 22H2",key:"19qnx5"}],["path",{d:"m8 6 4-4 4 4",key:"ybng9g"}],["path",{d:"M16 18a4 4 0 0 0-8 0",key:"1lzouq"}]],A5=qe("Sunrise",R5);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P5=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],Vl=qe("Trash2",P5);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T5=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],O5=qe("TrendingUp",T5);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I5=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Av=qe("TriangleAlert",I5);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D5=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],fs=qe("Truck",D5);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M5=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],L5=qe("Upload",M5);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $5=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],bn=qe("User",$5);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B5=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Jw=qe("X",B5);function Yw(t){var e,r,o="";if(typeof t=="string"||typeof t=="number")o+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(r=Yw(t[e]))&&(o&&(o+=" "),o+=r)}else for(r in t)t[r]&&(o&&(o+=" "),o+=r);return o}function Xw(){for(var t,e,r=0,o="",i=arguments.length;r<i;r++)(t=arguments[r])&&(e=Yw(t))&&(o&&(o+=" "),o+=e);return o}const xp="-",F5=t=>{const e=U5(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:o}=t;return{getClassGroupId:d=>{const u=d.split(xp);return u[0]===""&&u.length!==1&&u.shift(),Zw(u,e)||z5(d)},getConflictingClassGroupIds:(d,u)=>{const h=r[d]||[];return u&&o[d]?[...h,...o[d]]:h}}},Zw=(t,e)=>{var d;if(t.length===0)return e.classGroupId;const r=t[0],o=e.nextPart.get(r),i=o?Zw(t.slice(1),o):void 0;if(i)return i;if(e.validators.length===0)return;const l=t.join(xp);return(d=e.validators.find(({validator:u})=>u(l)))==null?void 0:d.classGroupId},Pv=/^\[(.+)\]$/,z5=t=>{if(Pv.test(t)){const e=Pv.exec(t)[1],r=e==null?void 0:e.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}},U5=t=>{const{theme:e,classGroups:r}=t,o={nextPart:new Map,validators:[]};for(const i in r)Em(r[i],o,i,e);return o},Em=(t,e,r,o)=>{t.forEach(i=>{if(typeof i=="string"){const l=i===""?e:Tv(e,i);l.classGroupId=r;return}if(typeof i=="function"){if(q5(i)){Em(i(o),e,r,o);return}e.validators.push({validator:i,classGroupId:r});return}Object.entries(i).forEach(([l,d])=>{Em(d,Tv(e,l),r,o)})})},Tv=(t,e)=>{let r=t;return e.split(xp).forEach(o=>{r.nextPart.has(o)||r.nextPart.set(o,{nextPart:new Map,validators:[]}),r=r.nextPart.get(o)}),r},q5=t=>t.isThemeGetter,W5=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=new Map,o=new Map;const i=(l,d)=>{r.set(l,d),e++,e>t&&(e=0,o=r,r=new Map)};return{get(l){let d=r.get(l);if(d!==void 0)return d;if((d=o.get(l))!==void 0)return i(l,d),d},set(l,d){r.has(l)?r.set(l,d):i(l,d)}}},Nm="!",Sm=":",V5=Sm.length,H5=t=>{const{prefix:e,experimentalParseClassName:r}=t;let o=i=>{const l=[];let d=0,u=0,h=0,m;for(let E=0;E<i.length;E++){let _=i[E];if(d===0&&u===0){if(_===Sm){l.push(i.slice(h,E)),h=E+V5;continue}if(_==="/"){m=E;continue}}_==="["?d++:_==="]"?d--:_==="("?u++:_===")"&&u--}const x=l.length===0?i:i.substring(h),p=K5(x),w=p!==x,b=m&&m>h?m-h:void 0;return{modifiers:l,hasImportantModifier:w,baseClassName:p,maybePostfixModifierPosition:b}};if(e){const i=e+Sm,l=o;o=d=>d.startsWith(i)?l(d.substring(i.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:d,maybePostfixModifierPosition:void 0}}if(r){const i=o;o=l=>r({className:l,parseClassName:i})}return o},K5=t=>t.endsWith(Nm)?t.substring(0,t.length-1):t.startsWith(Nm)?t.substring(1):t,G5=t=>{const e=Object.fromEntries(t.orderSensitiveModifiers.map(o=>[o,!0]));return o=>{if(o.length<=1)return o;const i=[];let l=[];return o.forEach(d=>{d[0]==="["||e[d]?(i.push(...l.sort(),d),l=[]):l.push(d)}),i.push(...l.sort()),i}},Q5=t=>({cache:W5(t.cacheSize),parseClassName:H5(t),sortModifiers:G5(t),...F5(t)}),J5=/\s+/,Y5=(t,e)=>{const{parseClassName:r,getClassGroupId:o,getConflictingClassGroupIds:i,sortModifiers:l}=e,d=[],u=t.trim().split(J5);let h="";for(let m=u.length-1;m>=0;m-=1){const x=u[m],{isExternal:p,modifiers:w,hasImportantModifier:b,baseClassName:E,maybePostfixModifierPosition:_}=r(x);if(p){h=x+(h.length>0?" "+h:h);continue}let j=!!_,N=o(j?E.substring(0,_):E);if(!N){if(!j){h=x+(h.length>0?" "+h:h);continue}if(N=o(E),!N){h=x+(h.length>0?" "+h:h);continue}j=!1}const S=l(w).join(":"),k=b?S+Nm:S,P=k+N;if(d.includes(P))continue;d.push(P);const z=i(N,j);for(let A=0;A<z.length;++A){const q=z[A];d.push(k+q)}h=x+(h.length>0?" "+h:h)}return h};function X5(){let t=0,e,r,o="";for(;t<arguments.length;)(e=arguments[t++])&&(r=e1(e))&&(o&&(o+=" "),o+=r);return o}const e1=t=>{if(typeof t=="string")return t;let e,r="";for(let o=0;o<t.length;o++)t[o]&&(e=e1(t[o]))&&(r&&(r+=" "),r+=e);return r};function Z5(t,...e){let r,o,i,l=d;function d(h){const m=e.reduce((x,p)=>p(x),t());return r=Q5(m),o=r.cache.get,i=r.cache.set,l=u,u(h)}function u(h){const m=o(h);if(m)return m;const x=Y5(h,r);return i(h,x),x}return function(){return l(X5.apply(null,arguments))}}const qt=t=>{const e=r=>r[t]||[];return e.isThemeGetter=!0,e},t1=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,r1=/^\((?:(\w[\w-]*):)?(.+)\)$/i,eP=/^\d+\/\d+$/,tP=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,rP=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,nP=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,sP=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,oP=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ha=t=>eP.test(t),He=t=>!!t&&!Number.isNaN(Number(t)),Ys=t=>!!t&&Number.isInteger(Number(t)),Of=t=>t.endsWith("%")&&He(t.slice(0,-1)),as=t=>tP.test(t),aP=()=>!0,iP=t=>rP.test(t)&&!nP.test(t),n1=()=>!1,lP=t=>sP.test(t),cP=t=>oP.test(t),dP=t=>!ke(t)&&!Re(t),uP=t=>Ci(t,a1,n1),ke=t=>t1.test(t),zo=t=>Ci(t,i1,iP),If=t=>Ci(t,gP,He),Ov=t=>Ci(t,s1,n1),hP=t=>Ci(t,o1,cP),vd=t=>Ci(t,l1,lP),Re=t=>r1.test(t),gl=t=>ki(t,i1),fP=t=>ki(t,xP),Iv=t=>ki(t,s1),mP=t=>ki(t,a1),pP=t=>ki(t,o1),yd=t=>ki(t,l1,!0),Ci=(t,e,r)=>{const o=t1.exec(t);return o?o[1]?e(o[1]):r(o[2]):!1},ki=(t,e,r=!1)=>{const o=r1.exec(t);return o?o[1]?e(o[1]):r:!1},s1=t=>t==="position"||t==="percentage",o1=t=>t==="image"||t==="url",a1=t=>t==="length"||t==="size"||t==="bg-size",i1=t=>t==="length",gP=t=>t==="number",xP=t=>t==="family-name",l1=t=>t==="shadow",vP=()=>{const t=qt("color"),e=qt("font"),r=qt("text"),o=qt("font-weight"),i=qt("tracking"),l=qt("leading"),d=qt("breakpoint"),u=qt("container"),h=qt("spacing"),m=qt("radius"),x=qt("shadow"),p=qt("inset-shadow"),w=qt("text-shadow"),b=qt("drop-shadow"),E=qt("blur"),_=qt("perspective"),j=qt("aspect"),N=qt("ease"),S=qt("animate"),k=()=>["auto","avoid","all","avoid-page","page","left","right","column"],P=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],z=()=>[...P(),Re,ke],A=()=>["auto","hidden","clip","visible","scroll"],q=()=>["auto","contain","none"],K=()=>[Re,ke,h],de=()=>[Ha,"full","auto",...K()],V=()=>[Ys,"none","subgrid",Re,ke],T=()=>["auto",{span:["full",Ys,Re,ke]},Ys,Re,ke],Y=()=>[Ys,"auto",Re,ke],te=()=>["auto","min","max","fr",Re,ke],U=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],he=()=>["start","end","center","stretch","center-safe","end-safe"],$=()=>["auto",...K()],Z=()=>[Ha,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...K()],M=()=>[t,Re,ke],ae=()=>[...P(),Iv,Ov,{position:[Re,ke]}],R=()=>["no-repeat",{repeat:["","x","y","space","round"]}],D=()=>["auto","cover","contain",mP,uP,{size:[Re,ke]}],L=()=>[Of,gl,zo],F=()=>["","none","full",m,Re,ke],O=()=>["",He,gl,zo],ie=()=>["solid","dashed","dotted","double"],ue=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],le=()=>[He,Of,Iv,Ov],X=()=>["","none",E,Re,ke],ye=()=>["none",He,Re,ke],be=()=>["none",He,Re,ke],Pe=()=>[He,Re,ke],Ae=()=>[Ha,"full",...K()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[as],breakpoint:[as],color:[aP],container:[as],"drop-shadow":[as],ease:["in","out","in-out"],font:[dP],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[as],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[as],shadow:[as],spacing:["px",He],text:[as],"text-shadow":[as],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Ha,ke,Re,j]}],container:["container"],columns:[{columns:[He,ke,Re,u]}],"break-after":[{"break-after":k()}],"break-before":[{"break-before":k()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:z()}],overflow:[{overflow:A()}],"overflow-x":[{"overflow-x":A()}],"overflow-y":[{"overflow-y":A()}],overscroll:[{overscroll:q()}],"overscroll-x":[{"overscroll-x":q()}],"overscroll-y":[{"overscroll-y":q()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:de()}],"inset-x":[{"inset-x":de()}],"inset-y":[{"inset-y":de()}],start:[{start:de()}],end:[{end:de()}],top:[{top:de()}],right:[{right:de()}],bottom:[{bottom:de()}],left:[{left:de()}],visibility:["visible","invisible","collapse"],z:[{z:[Ys,"auto",Re,ke]}],basis:[{basis:[Ha,"full","auto",u,...K()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[He,Ha,"auto","initial","none",ke]}],grow:[{grow:["",He,Re,ke]}],shrink:[{shrink:["",He,Re,ke]}],order:[{order:[Ys,"first","last","none",Re,ke]}],"grid-cols":[{"grid-cols":V()}],"col-start-end":[{col:T()}],"col-start":[{"col-start":Y()}],"col-end":[{"col-end":Y()}],"grid-rows":[{"grid-rows":V()}],"row-start-end":[{row:T()}],"row-start":[{"row-start":Y()}],"row-end":[{"row-end":Y()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":te()}],"auto-rows":[{"auto-rows":te()}],gap:[{gap:K()}],"gap-x":[{"gap-x":K()}],"gap-y":[{"gap-y":K()}],"justify-content":[{justify:[...U(),"normal"]}],"justify-items":[{"justify-items":[...he(),"normal"]}],"justify-self":[{"justify-self":["auto",...he()]}],"align-content":[{content:["normal",...U()]}],"align-items":[{items:[...he(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...he(),{baseline:["","last"]}]}],"place-content":[{"place-content":U()}],"place-items":[{"place-items":[...he(),"baseline"]}],"place-self":[{"place-self":["auto",...he()]}],p:[{p:K()}],px:[{px:K()}],py:[{py:K()}],ps:[{ps:K()}],pe:[{pe:K()}],pt:[{pt:K()}],pr:[{pr:K()}],pb:[{pb:K()}],pl:[{pl:K()}],m:[{m:$()}],mx:[{mx:$()}],my:[{my:$()}],ms:[{ms:$()}],me:[{me:$()}],mt:[{mt:$()}],mr:[{mr:$()}],mb:[{mb:$()}],ml:[{ml:$()}],"space-x":[{"space-x":K()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":K()}],"space-y-reverse":["space-y-reverse"],size:[{size:Z()}],w:[{w:[u,"screen",...Z()]}],"min-w":[{"min-w":[u,"screen","none",...Z()]}],"max-w":[{"max-w":[u,"screen","none","prose",{screen:[d]},...Z()]}],h:[{h:["screen","lh",...Z()]}],"min-h":[{"min-h":["screen","lh","none",...Z()]}],"max-h":[{"max-h":["screen","lh",...Z()]}],"font-size":[{text:["base",r,gl,zo]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[o,Re,If]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Of,ke]}],"font-family":[{font:[fP,ke,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,Re,ke]}],"line-clamp":[{"line-clamp":[He,"none",Re,If]}],leading:[{leading:[l,...K()]}],"list-image":[{"list-image":["none",Re,ke]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Re,ke]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:M()}],"text-color":[{text:M()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ie(),"wavy"]}],"text-decoration-thickness":[{decoration:[He,"from-font","auto",Re,zo]}],"text-decoration-color":[{decoration:M()}],"underline-offset":[{"underline-offset":[He,"auto",Re,ke]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:K()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Re,ke]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Re,ke]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:ae()}],"bg-repeat":[{bg:R()}],"bg-size":[{bg:D()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Ys,Re,ke],radial:["",Re,ke],conic:[Ys,Re,ke]},pP,hP]}],"bg-color":[{bg:M()}],"gradient-from-pos":[{from:L()}],"gradient-via-pos":[{via:L()}],"gradient-to-pos":[{to:L()}],"gradient-from":[{from:M()}],"gradient-via":[{via:M()}],"gradient-to":[{to:M()}],rounded:[{rounded:F()}],"rounded-s":[{"rounded-s":F()}],"rounded-e":[{"rounded-e":F()}],"rounded-t":[{"rounded-t":F()}],"rounded-r":[{"rounded-r":F()}],"rounded-b":[{"rounded-b":F()}],"rounded-l":[{"rounded-l":F()}],"rounded-ss":[{"rounded-ss":F()}],"rounded-se":[{"rounded-se":F()}],"rounded-ee":[{"rounded-ee":F()}],"rounded-es":[{"rounded-es":F()}],"rounded-tl":[{"rounded-tl":F()}],"rounded-tr":[{"rounded-tr":F()}],"rounded-br":[{"rounded-br":F()}],"rounded-bl":[{"rounded-bl":F()}],"border-w":[{border:O()}],"border-w-x":[{"border-x":O()}],"border-w-y":[{"border-y":O()}],"border-w-s":[{"border-s":O()}],"border-w-e":[{"border-e":O()}],"border-w-t":[{"border-t":O()}],"border-w-r":[{"border-r":O()}],"border-w-b":[{"border-b":O()}],"border-w-l":[{"border-l":O()}],"divide-x":[{"divide-x":O()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":O()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...ie(),"hidden","none"]}],"divide-style":[{divide:[...ie(),"hidden","none"]}],"border-color":[{border:M()}],"border-color-x":[{"border-x":M()}],"border-color-y":[{"border-y":M()}],"border-color-s":[{"border-s":M()}],"border-color-e":[{"border-e":M()}],"border-color-t":[{"border-t":M()}],"border-color-r":[{"border-r":M()}],"border-color-b":[{"border-b":M()}],"border-color-l":[{"border-l":M()}],"divide-color":[{divide:M()}],"outline-style":[{outline:[...ie(),"none","hidden"]}],"outline-offset":[{"outline-offset":[He,Re,ke]}],"outline-w":[{outline:["",He,gl,zo]}],"outline-color":[{outline:M()}],shadow:[{shadow:["","none",x,yd,vd]}],"shadow-color":[{shadow:M()}],"inset-shadow":[{"inset-shadow":["none",p,yd,vd]}],"inset-shadow-color":[{"inset-shadow":M()}],"ring-w":[{ring:O()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:M()}],"ring-offset-w":[{"ring-offset":[He,zo]}],"ring-offset-color":[{"ring-offset":M()}],"inset-ring-w":[{"inset-ring":O()}],"inset-ring-color":[{"inset-ring":M()}],"text-shadow":[{"text-shadow":["none",w,yd,vd]}],"text-shadow-color":[{"text-shadow":M()}],opacity:[{opacity:[He,Re,ke]}],"mix-blend":[{"mix-blend":[...ue(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ue()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[He]}],"mask-image-linear-from-pos":[{"mask-linear-from":le()}],"mask-image-linear-to-pos":[{"mask-linear-to":le()}],"mask-image-linear-from-color":[{"mask-linear-from":M()}],"mask-image-linear-to-color":[{"mask-linear-to":M()}],"mask-image-t-from-pos":[{"mask-t-from":le()}],"mask-image-t-to-pos":[{"mask-t-to":le()}],"mask-image-t-from-color":[{"mask-t-from":M()}],"mask-image-t-to-color":[{"mask-t-to":M()}],"mask-image-r-from-pos":[{"mask-r-from":le()}],"mask-image-r-to-pos":[{"mask-r-to":le()}],"mask-image-r-from-color":[{"mask-r-from":M()}],"mask-image-r-to-color":[{"mask-r-to":M()}],"mask-image-b-from-pos":[{"mask-b-from":le()}],"mask-image-b-to-pos":[{"mask-b-to":le()}],"mask-image-b-from-color":[{"mask-b-from":M()}],"mask-image-b-to-color":[{"mask-b-to":M()}],"mask-image-l-from-pos":[{"mask-l-from":le()}],"mask-image-l-to-pos":[{"mask-l-to":le()}],"mask-image-l-from-color":[{"mask-l-from":M()}],"mask-image-l-to-color":[{"mask-l-to":M()}],"mask-image-x-from-pos":[{"mask-x-from":le()}],"mask-image-x-to-pos":[{"mask-x-to":le()}],"mask-image-x-from-color":[{"mask-x-from":M()}],"mask-image-x-to-color":[{"mask-x-to":M()}],"mask-image-y-from-pos":[{"mask-y-from":le()}],"mask-image-y-to-pos":[{"mask-y-to":le()}],"mask-image-y-from-color":[{"mask-y-from":M()}],"mask-image-y-to-color":[{"mask-y-to":M()}],"mask-image-radial":[{"mask-radial":[Re,ke]}],"mask-image-radial-from-pos":[{"mask-radial-from":le()}],"mask-image-radial-to-pos":[{"mask-radial-to":le()}],"mask-image-radial-from-color":[{"mask-radial-from":M()}],"mask-image-radial-to-color":[{"mask-radial-to":M()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":P()}],"mask-image-conic-pos":[{"mask-conic":[He]}],"mask-image-conic-from-pos":[{"mask-conic-from":le()}],"mask-image-conic-to-pos":[{"mask-conic-to":le()}],"mask-image-conic-from-color":[{"mask-conic-from":M()}],"mask-image-conic-to-color":[{"mask-conic-to":M()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:ae()}],"mask-repeat":[{mask:R()}],"mask-size":[{mask:D()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Re,ke]}],filter:[{filter:["","none",Re,ke]}],blur:[{blur:X()}],brightness:[{brightness:[He,Re,ke]}],contrast:[{contrast:[He,Re,ke]}],"drop-shadow":[{"drop-shadow":["","none",b,yd,vd]}],"drop-shadow-color":[{"drop-shadow":M()}],grayscale:[{grayscale:["",He,Re,ke]}],"hue-rotate":[{"hue-rotate":[He,Re,ke]}],invert:[{invert:["",He,Re,ke]}],saturate:[{saturate:[He,Re,ke]}],sepia:[{sepia:["",He,Re,ke]}],"backdrop-filter":[{"backdrop-filter":["","none",Re,ke]}],"backdrop-blur":[{"backdrop-blur":X()}],"backdrop-brightness":[{"backdrop-brightness":[He,Re,ke]}],"backdrop-contrast":[{"backdrop-contrast":[He,Re,ke]}],"backdrop-grayscale":[{"backdrop-grayscale":["",He,Re,ke]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[He,Re,ke]}],"backdrop-invert":[{"backdrop-invert":["",He,Re,ke]}],"backdrop-opacity":[{"backdrop-opacity":[He,Re,ke]}],"backdrop-saturate":[{"backdrop-saturate":[He,Re,ke]}],"backdrop-sepia":[{"backdrop-sepia":["",He,Re,ke]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":K()}],"border-spacing-x":[{"border-spacing-x":K()}],"border-spacing-y":[{"border-spacing-y":K()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Re,ke]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[He,"initial",Re,ke]}],ease:[{ease:["linear","initial",N,Re,ke]}],delay:[{delay:[He,Re,ke]}],animate:[{animate:["none",S,Re,ke]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[_,Re,ke]}],"perspective-origin":[{"perspective-origin":z()}],rotate:[{rotate:ye()}],"rotate-x":[{"rotate-x":ye()}],"rotate-y":[{"rotate-y":ye()}],"rotate-z":[{"rotate-z":ye()}],scale:[{scale:be()}],"scale-x":[{"scale-x":be()}],"scale-y":[{"scale-y":be()}],"scale-z":[{"scale-z":be()}],"scale-3d":["scale-3d"],skew:[{skew:Pe()}],"skew-x":[{"skew-x":Pe()}],"skew-y":[{"skew-y":Pe()}],transform:[{transform:[Re,ke,"","none","gpu","cpu"]}],"transform-origin":[{origin:z()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Ae()}],"translate-x":[{"translate-x":Ae()}],"translate-y":[{"translate-y":Ae()}],"translate-z":[{"translate-z":Ae()}],"translate-none":["translate-none"],accent:[{accent:M()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:M()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Re,ke]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":K()}],"scroll-mx":[{"scroll-mx":K()}],"scroll-my":[{"scroll-my":K()}],"scroll-ms":[{"scroll-ms":K()}],"scroll-me":[{"scroll-me":K()}],"scroll-mt":[{"scroll-mt":K()}],"scroll-mr":[{"scroll-mr":K()}],"scroll-mb":[{"scroll-mb":K()}],"scroll-ml":[{"scroll-ml":K()}],"scroll-p":[{"scroll-p":K()}],"scroll-px":[{"scroll-px":K()}],"scroll-py":[{"scroll-py":K()}],"scroll-ps":[{"scroll-ps":K()}],"scroll-pe":[{"scroll-pe":K()}],"scroll-pt":[{"scroll-pt":K()}],"scroll-pr":[{"scroll-pr":K()}],"scroll-pb":[{"scroll-pb":K()}],"scroll-pl":[{"scroll-pl":K()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Re,ke]}],fill:[{fill:["none",...M()]}],"stroke-w":[{stroke:[He,gl,zo,If]}],stroke:[{stroke:["none",...M()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},yP=Z5(vP);function Je(...t){return yP(Xw(t))}const jo=qw,bP=Ww,c1=y.forwardRef(({className:t,...e},r)=>n.jsx(hp,{ref:r,className:Je("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));c1.displayName=hp.displayName;const _s=y.forwardRef(({className:t,children:e,...r},o)=>n.jsxs(bP,{children:[n.jsx(c1,{}),n.jsxs(fp,{ref:o,className:Je("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...r,children:[e,n.jsxs(gp,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[n.jsx(Jw,{className:"h-4 w-4"}),n.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));_s.displayName=fp.displayName;const Es=({className:t,...e})=>n.jsx("div",{className:Je("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});Es.displayName="DialogHeader";const vp=({className:t,...e})=>n.jsx("div",{className:Je("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});vp.displayName="DialogFooter";const Ns=y.forwardRef(({className:t,...e},r)=>n.jsx(mp,{ref:r,className:Je("text-lg font-semibold leading-none tracking-tight",t),...e}));Ns.displayName=mp.displayName;const vu=y.forwardRef(({className:t,...e},r)=>n.jsx(pp,{ref:r,className:Je("text-sm text-muted-foreground",t),...e}));vu.displayName=pp.displayName;const Dv=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,Mv=Xw,yp=(t,e)=>r=>{var o;if((e==null?void 0:e.variants)==null)return Mv(t,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:i,defaultVariants:l}=e,d=Object.keys(i).map(m=>{const x=r==null?void 0:r[m],p=l==null?void 0:l[m];if(x===null)return null;const w=Dv(x)||Dv(p);return i[m][w]}),u=r&&Object.entries(r).reduce((m,x)=>{let[p,w]=x;return w===void 0||(m[p]=w),m},{}),h=e==null||(o=e.compoundVariants)===null||o===void 0?void 0:o.reduce((m,x)=>{let{class:p,className:w,...b}=x;return Object.entries(b).every(E=>{let[_,j]=E;return Array.isArray(j)?j.includes({...l,...u}[_]):{...l,...u}[_]===j})?[...m,p,w]:m},[]);return Mv(t,d,h,r==null?void 0:r.class,r==null?void 0:r.className)},bp=yp("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),ar=y.forwardRef(({className:t,variant:e,size:r,asChild:o=!1,...i},l)=>{const d=o?mR:"button";return n.jsx(d,{className:Je(bp({variant:e,size:r,className:t})),ref:l,...i})});ar.displayName="Button";function bd({options:t,value:e,onChange:r,placeholder:o}){const[i,l]=y.useState(!1),d=xe.useRef(null);y.useEffect(()=>{function m(x){d.current&&!d.current.contains(x.target)&&l(!1)}return document.addEventListener("mousedown",m),()=>document.removeEventListener("mousedown",m)},[]);const u=t.find(m=>m.value===e),h=u?u.label:o;return n.jsxs("div",{ref:d,style:{position:"relative"},children:[n.jsxs("button",{onClick:()=>l(!i),className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-100 bg-white",style:{display:"flex",alignItems:"center",justifyContent:"space-between",textAlign:"left"},children:[n.jsx("span",{className:"text-sm text-slate-700",children:h}),n.jsx("svg",{className:`w-4 h-4 text-slate-500 transition-transform flex-shrink-0 ml-2 ${i?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),i&&n.jsx("div",{className:"absolute z-50 w-full mt-2 bg-white rounded-lg shadow-lg overflow-hidden",style:{border:"1px solid #376295"},children:t.map(m=>n.jsx("div",{onClick:()=>{r(m.value),l(!1)},className:"px-4 py-3 cursor-pointer transition-colors text-sm text-slate-700 hover:bg-blue-50",style:{backgroundColor:e===m.value?"#E8F0F8":"white",fontWeight:e===m.value?"600":"normal"},children:m.label},m.value))})]})}function wP(){var ae;const t=Ht(),[e,r]=y.useState("day"),[o,i]=y.useState(new Date),[l,d]=y.useState(new Date),[u,h]=y.useState([]),[m,x]=y.useState(!0),[p,w]=y.useState(""),[b,E]=y.useState(""),[_,j]=y.useState("total"),[N,S]=y.useState({status:"",atendente:"",motoboy:"",regiao:"",periodo:""}),[k,P]=y.useState(!1),[z,A]=y.useState(null),q=R=>{const D=R.getFullYear(),L=R.getMonth(),F=new Date(D,L,1),ie=new Date(D,L+1,0).getDate(),ue=F.getDay(),le=[];for(let X=0;X<ue;X++)le.push({day:"",isCurrentMonth:!1});for(let X=1;X<=ie;X++){const ye=new Date(D,L,X);le.push({day:X,isCurrentMonth:!0,isSelected:X===o.getDate()&&L===o.getMonth()&&D===o.getFullYear(),date:ye})}return le},K=async()=>{x(!0);try{let R=_e.from("entregas").select(`
          *,
          cliente:clientes(id, nome, telefone),
          endereco:enderecos(id, logradouro, numero, bairro, cidade, complemento),
          motoboy:motoboys(id, nome)
        `).eq("tipo","moto").order("data_entrega",{ascending:!0});const{data:D,error:L}=await R;if(L)throw L;const O=await Promise.all((D||[]).map(async ue=>{let le=[];if(ue.clientes_adicionais&&ue.clientes_adicionais.length>0){const{data:ye}=await _e.from("clientes").select("id, nome, telefone").in("id",ue.clientes_adicionais);le=ye||[]}const X=ue.endereco_logradouro?{id:ue.endereco_id,logradouro:ue.endereco_logradouro,numero:ue.endereco_numero,complemento:ue.endereco_complemento,bairro:ue.endereco_bairro,cidade:ue.endereco_cidade,cep:ue.endereco_cep}:ue.endereco;return{...ue,endereco:X,clientes_adicionais_data:le}}))||[],ie=[{id:"exemplo-1",status:"A Caminho",requisicao:"12345",atendente:"Maria Isabel",data_entrega:o.toISOString(),regiao:"Centro",periodo:"Manh",valor:45.5,forma_pagamento:"Dinheiro",cliente:{nome:"Maria Silva Santos",telefone:"(11) 98765-4321"},endereco:{logradouro:"Rua das Flores",numero:"123",complemento:"Apto 45",bairro:"Jardim Paulista",cidade:"So Paulo"},motoboy:{nome:"Marcio"}},{id:"exemplo-2",status:"Produzindo no Laboratrio",requisicao:"12346",atendente:"Joo Silva",data_entrega:o.toISOString(),regiao:"Zona Sul",periodo:"Tarde",valor:32,forma_pagamento:"Carto",cliente:{nome:"Carlos Eduardo Oliveira",telefone:"(11) 97654-3210"},endereco:{logradouro:"Avenida Paulista",numero:"1578",complemento:"Sala 201",bairro:"Bela Vista",cidade:"So Paulo"},motoboy:{nome:"Bruno"}},{id:"exemplo-3",status:"Entregue",requisicao:"12347",atendente:"Ana Paula",data_entrega:o.toISOString(),regiao:"Zona Norte",periodo:"Manh",valor:28.75,forma_pagamento:"Pix",cliente:{nome:"Ana Paula Costa",telefone:"(11) 96543-2109"},endereco:{logradouro:"Rua Augusta",numero:"789",bairro:"Consolao",cidade:"So Paulo"},motoboy:{nome:"Marcio"}},{id:"exemplo-4",status:"A Caminho",requisicao:"REQ-001",atendente:"Carlos Santos",data_entrega:o.toISOString(),regiao:"ITAJA",periodo:"Tarde",valor:52,forma_pagamento:"Boleto",item_geladeira:!0,cliente:{nome:"Roberto Santos Silva",telefone:"(47) 99876-5432"},endereco:{logradouro:"Rua das Accias",numero:"456",complemento:"Casa",bairro:"Centro",cidade:"Itaja"},motoboy:{nome:"Marcio"}},{id:"exemplo-5",status:"Produzindo no Laboratrio",requisicao:"REQ-002",atendente:"Maria Isabel",data_entrega:o.toISOString(),regiao:"PRAIA BRAVA",periodo:"Manh",valor:65,forma_pagamento:"Pix - Aguardando",buscar_receita:!0,cliente:{nome:"Fernanda Lima Costa",telefone:"(47) 98888-7777"},endereco:{logradouro:"Avenida Atlntica",numero:"2000",complemento:"Apto 302",bairro:"Praia Brava",cidade:"Balnerio Cambori"},motoboy:{nome:"Bruno"}},{id:"exemplo-6",status:"A Caminho",requisicao:"REQ-003",atendente:"Joo Silva",data_entrega:o.toISOString(),regiao:"Centro",periodo:"Tarde",valor:38,forma_pagamento:"Carto",cliente:{nome:"Pedro Henrique Alves",telefone:"(11) 99123-4567"},endereco:{logradouro:"Rua Oscar Freire",numero:"500",bairro:"Jardins",cidade:"So Paulo"},motoboy:{nome:"Bruno"}},{id:"exemplo-7",status:"Entregue",requisicao:"REQ-004",atendente:"Ana Paula",data_entrega:o.toISOString(),regiao:"Zona Norte",periodo:"Manh",valor:42.5,forma_pagamento:"Pix",item_geladeira:!0,cliente:{nome:"Juliana Martins",telefone:"(11) 98234-5678"},endereco:{logradouro:"Avenida Pacaembu",numero:"1200",complemento:"Bloco A",bairro:"Pacaembu",cidade:"So Paulo"},motoboy:{nome:"Marcio"}},{id:"exemplo-8",status:"Produzindo no Laboratrio",requisicao:"REQ-005",atendente:"Carlos Santos",data_entrega:o.toISOString(),regiao:"ITAJA",periodo:"Tarde",valor:55,forma_pagamento:"Dinheiro",buscar_receita:!0,cliente:{nome:"Ricardo Souza Lima",telefone:"(47) 99345-6789"},endereco:{logradouro:"Rua Alberto Werner",numero:"800",bairro:"So Joo",cidade:"Itaja"},motoboy:{nome:"Bruno"}},{id:"exemplo-9",status:"A Caminho",requisicao:"REQ-006",atendente:"Maria Isabel",data_entrega:o.toISOString(),regiao:"PRAIA BRAVA",periodo:"Manh",valor:72,forma_pagamento:"Pix",item_geladeira:!0,buscar_receita:!0,cliente:{nome:"Beatriz Oliveira Santos",telefone:"(47) 98456-7890"},endereco:{logradouro:"Avenida Central",numero:"3500",complemento:"Apto 1502",bairro:"Praia Brava",cidade:"Balnerio Cambori"},motoboy:{nome:"Marcio"}},{id:"exemplo-10",status:"Entregue",requisicao:"REQ-007",atendente:"Joo Silva",data_entrega:o.toISOString(),regiao:"Zona Sul",periodo:"Tarde",valor:31.5,forma_pagamento:"Boleto",cliente:{nome:"Gustavo Ferreira Costa",telefone:"(11) 97567-8901"},endereco:{logradouro:"Avenida Ibirapuera",numero:"2500",bairro:"Moema",cidade:"So Paulo"},motoboy:{nome:"Bruno"}}];h(O)}catch(R){console.error("Erro ao carregar entregas:",R),ge.error("Erro ao carregar entregas")}finally{x(!1)}};y.useEffect(()=>{K()},[]);const de=R=>R.sort((D,L)=>{var be,Pe,Ae,Ue;const F=((be=D.motoboy)==null?void 0:be.nome)||"",O=((Pe=L.motoboy)==null?void 0:Pe.nome)||"";if(F!==O)return F.localeCompare(O);const ie={"Produzindo no Laboratrio":1,"A Caminho":2,Entregue:3},ue=ie[D.status]||999,le=ie[L.status]||999;if(ue!==le)return ue-le;const X=((Ae=D.cliente)==null?void 0:Ae.nome)||"",ye=((Ue=L.cliente)==null?void 0:Ue.nome)||"";return X.localeCompare(ye)}),V=R=>{var L;const D=[((L=R.cliente)==null?void 0:L.nome)||"Cliente no informado"];return R.clientes_adicionais_data&&R.clientes_adicionais_data.length>0&&R.clientes_adicionais_data.forEach(F=>{D.push(F.nome)}),D},T=R=>{const D=V(R);return D.length===1?D[0]:D.join(", ")},Y=u.filter(R=>{var D,L,F,O;if(e==="day"){if(!R.data_entrega)return!1;const ie=R.data_entrega.split("T")[0],ue=o.toISOString().split("T")[0];if(ie!==ue)return!1}if(b&&R.status!==b)return!1;if(p){const ie=p.toLowerCase(),le=V(R).some(be=>be.toLowerCase().includes(ie)),X=(D=R.requisicao)==null?void 0:D.toLowerCase().includes(ie),ye=(F=(L=R.cliente)==null?void 0:L.telefone)==null?void 0:F.includes(p);if(!le&&!X&&!ye)return!1}return!(N.atendente&&R.atendente!==N.atendente||N.motoboy&&((O=R.motoboy)==null?void 0:O.nome)!==N.motoboy||N.regiao&&R.regiao!==N.regiao||N.periodo&&R.periodo!==N.periodo)}),te=de(Y.filter(R=>R.periodo==="Manh")),U=de(Y.filter(R=>R.periodo==="Tarde")),he=u.filter(R=>{if(e==="day"){if(!R.data_entrega)return!1;const D=R.data_entrega.split("T")[0],L=o.toISOString().split("T")[0];if(D!==L)return!1}return!0}),$={total:he.length,producao:he.filter(R=>R.status==="Produzindo no Laboratrio").length,caminho:he.filter(R=>R.status==="A Caminho").length,entregues:he.filter(R=>R.status==="Entregue").length},Z=async(R,D)=>{const L=ge.loading("Alterando status...");try{const{error:F}=await _e.from("entregas").update({status:D}).eq("id",R.id);if(F)throw F;ge.success("Status alterado com sucesso!",{id:L}),K(),P(!1)}catch(F){console.error("Erro ao alterar status:",F),ge.error("Erro ao alterar status",{id:L})}},M=R=>{t(`/detalhes-romaneio?id=${R.id}`)};return n.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100",children:[n.jsx("div",{className:"py-8 shadow-sm",style:{background:"linear-gradient(135deg, #457bba 0%, #890d5d 100%)"},children:n.jsx("div",{className:"max-w-7xl mx-auto px-6",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("button",{onClick:()=>t(-1),className:"p-2 rounded-lg bg-white/20 hover:bg-white/30 transition-colors",children:n.jsx(kt,{className:"w-6 h-6 text-white"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-4xl font-bold text-white",children:"Entregas Moto"}),n.jsx("p",{className:"text-base text-white opacity-90 mt-1",children:"Ol, mariaizabeldelima0"})]})]})})}),n.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-6 flex gap-6",children:[n.jsx("div",{className:"w-80 flex-shrink-0",children:n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6 sticky top-6",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[n.jsxs("button",{onClick:()=>r("day"),className:"flex-1 flex items-center justify-center gap-2 px-4 py-2 rounded-lg font-semibold text-sm transition-all",style:{backgroundColor:e==="day"?"#376295":"white",color:e==="day"?"white":"#64748b",border:e==="day"?"none":"1px solid #e2e8f0"},children:[n.jsx(vo,{className:"w-4 h-4"}),"Por Dia"]}),n.jsxs("button",{onClick:()=>{r("all"),E("")},className:"flex-1 flex items-center justify-center gap-2 px-4 py-2 rounded-lg font-semibold text-sm transition-all",style:{backgroundColor:e==="all"?"#376295":"white",color:e==="all"?"white":"#64748b",border:e==="all"?"none":"1px solid #e2e8f0"},children:[n.jsx(go,{className:"w-4 h-4"}),"Todos"]})]}),n.jsxs("div",{className:"border rounded-xl p-3 mb-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsx("button",{onClick:()=>{const R=new Date(l);R.setMonth(R.getMonth()-1),d(R)},className:"p-2 hover:bg-slate-100 rounded-lg transition-colors",children:n.jsx(kt,{className:"w-5 h-5 text-slate-600"})}),n.jsx("span",{className:"text-sm font-semibold text-slate-700",children:l.toLocaleDateString("pt-BR",{month:"long",year:"numeric"}).replace(/^\w/,R=>R.toUpperCase())}),n.jsx("button",{onClick:()=>{const R=new Date(l);R.setMonth(R.getMonth()+1),d(R)},className:"p-2 hover:bg-slate-100 rounded-lg transition-colors",children:n.jsx(Wl,{className:"w-5 h-5 text-slate-600"})})]}),n.jsxs("div",{className:"grid grid-cols-7 gap-1",children:[["dom","seg","ter","qua","qui","sex","sb"].map(R=>n.jsx("div",{className:"text-center text-xs font-semibold text-slate-500 py-2",children:R},R)),q(l).map((R,D)=>{var O;if(!R.isCurrentMonth)return n.jsx("div",{className:"aspect-square"},D);const L=R.isSelected,F=((O=R.date)==null?void 0:O.toDateString())===new Date().toDateString();return n.jsx("button",{onClick:()=>{i(R.date),r("day")},className:"aspect-square rounded-lg text-sm font-medium transition-all flex items-center justify-center hover:bg-blue-50",style:{backgroundColor:L?"#376295":"transparent",color:L?"white":F?"#376295":"#1e293b",fontWeight:F||L?"bold":"normal"},children:R.day},D)})]})]}),n.jsxs("div",{className:"text-center pt-4 border-t border-slate-200",children:[n.jsx("div",{className:"text-base font-semibold text-slate-700",children:o.toLocaleDateString("pt-BR",{day:"numeric",month:"long"})}),n.jsxs("div",{className:"text-sm text-slate-500",children:[$.total," entregas"]})]}),n.jsxs("button",{onClick:()=>{const R=o.toISOString().split("T")[0];t(`/relatorios?data=${R}`)},className:"w-full mt-4 flex items-center justify-center gap-2 px-4 py-3 border border-slate-300 rounded-lg hover:bg-slate-50 transition-colors",children:[n.jsx(go,{className:"w-4 h-4 text-slate-600"}),n.jsx("span",{className:"text-sm font-medium text-slate-700",children:"Relatrio do Dia"})]}),n.jsxs("button",{onClick:()=>{const R=o.toISOString().split("T")[0];t(`/romaneios-do-dia?data=${R}`)},className:"w-full mt-2 flex items-center justify-center gap-2 px-4 py-3 border border-slate-300 rounded-lg hover:bg-slate-50 transition-colors",style:{borderColor:"#890d5d"},children:[n.jsx(br,{className:"w-4 h-4",style:{color:"#890d5d"}}),n.jsx("span",{className:"text-sm font-medium",style:{color:"#890d5d"},children:"Romaneios do Dia"})]})]})}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"grid grid-cols-5 gap-4 mb-6",children:[n.jsxs("div",{onClick:()=>{E(""),j("total")},className:"bg-white rounded-xl shadow-sm p-5 cursor-pointer transition-all hover:shadow-md",style:{border:_==="total"?"2px solid #376295":"2px solid transparent"},children:[n.jsxs("div",{className:"flex items-center justify-center gap-2 mb-3",children:[n.jsx("div",{className:"p-1.5 rounded-lg",style:{backgroundColor:"#E8F0F8"},children:n.jsx(go,{className:"w-6 h-6",style:{color:"#376295"}})}),n.jsx("span",{className:"text-sm font-bold text-slate-700",children:"Total"})]}),n.jsx("div",{className:"text-4xl font-bold text-center",style:{color:"#376295"},children:$.total})]}),n.jsxs("div",{onClick:()=>{E("Produzindo no Laboratrio"),j("producao")},className:"bg-white rounded-xl shadow-sm p-5 cursor-pointer transition-all hover:shadow-md",style:{border:_==="producao"?"2px solid #890d5d":"2px solid transparent"},children:[n.jsxs("div",{className:"flex items-center justify-center gap-2 mb-3",children:[n.jsx("div",{className:"p-1.5 rounded-lg",style:{backgroundColor:"#F5E8F5"},children:n.jsx(Ur,{className:"w-6 h-6",style:{color:"#890d5d"}})}),n.jsx("span",{className:"text-sm font-bold text-slate-700",children:"Produo"})]}),n.jsx("div",{className:"text-4xl font-bold text-center",style:{color:"#890d5d"},children:$.producao})]}),n.jsxs("div",{onClick:()=>{E("A Caminho"),j("caminho")},className:"bg-white rounded-xl shadow-sm p-5 cursor-pointer transition-all hover:shadow-md",style:{border:_==="caminho"?"2px solid #f97316":"2px solid transparent"},children:[n.jsxs("div",{className:"flex items-center justify-center gap-2 mb-3",children:[n.jsx("div",{className:"p-1.5 rounded-lg",style:{backgroundColor:"#FEF3E8"},children:n.jsx(fs,{className:"w-6 h-6",style:{color:"#f97316"}})}),n.jsx("span",{className:"text-sm font-bold text-slate-700",children:"A Caminho"})]}),n.jsx("div",{className:"text-4xl font-bold text-center",style:{color:"#f97316"},children:$.caminho})]}),n.jsxs("div",{onClick:()=>{E("Entregue"),j("entregues")},className:"bg-white rounded-xl shadow-sm p-5 cursor-pointer transition-all hover:shadow-md",style:{border:_==="entregues"?"2px solid #22c55e":"2px solid transparent"},children:[n.jsxs("div",{className:"flex items-center justify-center gap-2 mb-3",children:[n.jsx("div",{className:"p-1.5 rounded-lg",style:{backgroundColor:"#E8F5E8"},children:n.jsx(ua,{className:"w-6 h-6",style:{color:"#22c55e"}})}),n.jsx("span",{className:"text-sm font-bold text-slate-700",children:"Entregues"})]}),n.jsx("div",{className:"text-4xl font-bold text-center",style:{color:"#22c55e"},children:$.entregues})]}),n.jsxs("div",{onClick:()=>t("/novo-romaneio"),className:"bg-white rounded-xl shadow-sm p-5 cursor-pointer transition-all hover:shadow-md flex flex-col items-center justify-center text-center",style:{background:"linear-gradient(135deg, #890d5d 0%, #6E0A4A 100%)"},children:[n.jsx("div",{className:"mb-1",children:n.jsx("span",{className:"text-sm font-bold text-white uppercase",children:"Novo Romaneio"})}),n.jsx("div",{className:"text-5xl font-bold text-white",children:"+"})]})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6 mb-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h2",{className:"text-lg font-bold text-slate-900",children:"Buscar e Filtrar"}),(p||b||N.motoboy||N.regiao||N.periodo||N.atendente)&&n.jsxs("button",{onClick:()=>{w(""),E(""),j("total"),S({status:"",atendente:"",motoboy:"",regiao:"",periodo:""})},className:"px-4 py-2 text-sm font-medium text-slate-700 bg-slate-100 hover:bg-slate-200 rounded-lg transition-colors flex items-center gap-2",children:[n.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),"Limpar Filtros"]})]}),(p||b||N.motoboy||N.regiao||N.periodo||N.atendente)&&n.jsxs("div",{className:"mb-4 flex flex-wrap items-center gap-2",children:[n.jsx("span",{className:"text-sm font-medium text-slate-600",children:"Filtros ativos:"}),p&&n.jsxs("span",{className:"inline-flex items-center gap-1.5 px-3 py-1.5 bg-blue-100 text-blue-700 rounded text-sm font-medium",children:[n.jsx(Vn,{className:"w-3.5 h-3.5"}),'Busca: "',p,'"',n.jsx("button",{onClick:()=>w(""),className:"ml-1 hover:bg-blue-200 rounded p-0.5 transition-colors",children:n.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),b&&n.jsxs("span",{className:"inline-flex items-center gap-1.5 px-3 py-1.5 rounded text-sm font-medium",style:{backgroundColor:b==="Entregue"?"#E8F5E8":b==="A Caminho"?"#FEF3E8":"#F5E8F5",color:b==="Entregue"?"#22c55e":b==="A Caminho"?"#f97316":"#890d5d"},children:["Status: ",b==="Produzindo no Laboratrio"?"Produo":b,n.jsx("button",{onClick:()=>{E(""),j("total")},className:"ml-1 hover:opacity-70 rounded p-0.5 transition-opacity",children:n.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),N.motoboy&&n.jsxs("span",{className:"inline-flex items-center gap-1.5 px-3 py-1.5 bg-orange-100 text-orange-700 rounded text-sm font-medium",children:[n.jsx(fs,{className:"w-3.5 h-3.5"}),"Motoboy: ",N.motoboy,n.jsx("button",{onClick:()=>S({...N,motoboy:""}),className:"ml-1 hover:bg-orange-200 rounded p-0.5 transition-colors",children:n.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),N.regiao&&n.jsxs("span",{className:"inline-flex items-center gap-1.5 px-3 py-1.5 rounded text-sm font-medium",style:{backgroundColor:"#F5E8F5",color:"#890d5d"},children:[n.jsx(yi,{className:"w-3.5 h-3.5"}),"Regio: ",N.regiao,n.jsx("button",{onClick:()=>S({...N,regiao:""}),className:"ml-1 hover:opacity-70 rounded p-0.5 transition-opacity",children:n.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),N.periodo&&n.jsxs("span",{className:"inline-flex items-center gap-1.5 px-3 py-1.5 bg-amber-100 text-amber-700 rounded text-sm font-medium",children:[n.jsx(yn,{className:"w-3.5 h-3.5"}),"Perodo: ",N.periodo,n.jsx("button",{onClick:()=>S({...N,periodo:""}),className:"ml-1 hover:bg-amber-200 rounded p-0.5 transition-colors",children:n.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),N.atendente&&n.jsxs("span",{className:"inline-flex items-center gap-1.5 px-3 py-1.5 bg-green-100 text-green-700 rounded text-sm font-medium",children:[n.jsx(bn,{className:"w-3.5 h-3.5"}),"Atendente: ",N.atendente,n.jsx("button",{onClick:()=>S({...N,atendente:""}),className:"ml-1 hover:bg-green-200 rounded p-0.5 transition-colors",children:n.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"relative",children:[n.jsx(Vn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),n.jsx("input",{type:"text",value:p,onChange:R=>w(R.target.value),placeholder:"Buscar por cliente, requisio, atendente ou telefone...",className:"w-full pl-10 pr-4 py-3 border border-slate-300 rounded-lg focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-100 transition-all"})]}),n.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[n.jsx(bd,{options:[{value:"",label:"Atendentes"},{value:"Maria Isabel",label:"Maria Isabel"},{value:"Joo Silva",label:"Joo Silva"},{value:"Ana Paula",label:"Ana Paula"},{value:"Carlos Santos",label:"Carlos Santos"}],value:N.atendente,onChange:R=>S({...N,atendente:R}),placeholder:"Atendentes"}),n.jsx(bd,{options:[{value:"",label:"Motoboys"},...Array.from(new Set(u.map(R=>{var D;return(D=R.motoboy)==null?void 0:D.nome}).filter(Boolean))).map(R=>({value:R,label:R}))],value:N.motoboy,onChange:R=>S({...N,motoboy:R}),placeholder:"Motoboys"}),n.jsx(bd,{options:[{value:"",label:"Regies"},...Array.from(new Set(u.map(R=>R.regiao).filter(Boolean))).map(R=>({value:R,label:R}))],value:N.regiao,onChange:R=>S({...N,regiao:R}),placeholder:"Regies"}),n.jsx(bd,{options:[{value:"",label:"Perodos"},{value:"Manh",label:"Manh"},{value:"Tarde",label:"Tarde"}],value:N.periodo,onChange:R=>S({...N,periodo:R}),placeholder:"Perodos"})]})]})]}),n.jsx("div",{className:"space-y-6",children:m?n.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:n.jsxs("div",{className:"py-24 text-center",children:[n.jsx("div",{className:"inline-block w-8 h-8 border-4 border-slate-200 border-t-4 rounded-full animate-spin mb-4",style:{borderTopColor:"#376295"}}),n.jsx("p",{className:"text-slate-600",children:"Carregando entregas..."})]})}):Y.length===0?n.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:n.jsxs("div",{className:"py-24 text-center",children:[n.jsx(Ur,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:"Nenhuma entrega encontrada"}),n.jsx("p",{className:"text-sm text-slate-600",children:p||N.motoboy||N.regiao||N.periodo?"Tente ajustar os filtros de busca":e==="day"?"No h entregas para esta data":"No h entregas cadastradas"})]})}):n.jsxs(n.Fragment,{children:[te.length>0&&n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border-2 border-slate-300 p-6",children:[n.jsx("div",{className:"mb-6",children:n.jsxs("h2",{className:"text-2xl font-bold text-slate-900 flex items-center gap-2",children:[n.jsx(A5,{className:"w-7 h-7",style:{color:"#f97316"}}),"Entregas da Manh",n.jsx("span",{className:"text-lg font-semibold px-3 py-1 rounded-full bg-slate-100 text-slate-700",children:te.length})]})}),te.map(R=>{var D,L;return n.jsx("div",{onClick:()=>M(R),className:"p-5 mb-4 bg-white rounded-lg border border-slate-200 hover:border-slate-300 transition-all cursor-pointer hover:shadow-md last:mb-0",children:n.jsxs("div",{className:"flex items-center justify-between gap-6",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[n.jsxs("span",{className:"text-base font-semibold",style:{color:"#376295"},children:["#",R.requisicao]}),R.atendente&&n.jsxs(n.Fragment,{children:[n.jsx("span",{className:"text-slate-400",children:""}),n.jsxs("span",{className:"text-sm font-medium text-slate-600 flex items-center gap-1.5",children:[n.jsx(bn,{className:"w-3.5 h-3.5"}),R.atendente]})]}),n.jsx("span",{className:"px-3 py-1 rounded text-xs font-medium",style:{backgroundColor:R.status==="Entregue"?"#E8F5E8":R.status==="A Caminho"?"#FEF3E8":"#F5E8F5",color:R.status==="Entregue"?"#22c55e":R.status==="A Caminho"?"#f97316":"#890d5d"},children:R.status==="Produzindo no Laboratrio"?"Produo":R.status})]}),n.jsx("h3",{className:"text-lg font-bold text-slate-900 mb-2",children:T(R)}),n.jsx("div",{className:"mb-3 text-sm text-slate-600",children:n.jsx("span",{children:R.endereco?`${R.endereco.logradouro}, ${R.endereco.numero} - ${R.endereco.bairro} - ${R.endereco.cidade}`:R.endereco_destino||"Endereo no informado"})}),n.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-slate-900",children:[R.motoboy&&n.jsxs("div",{className:"flex items-center gap-1.5",children:[n.jsx(fs,{className:"w-4 h-4",style:{color:"#1e293b"}}),n.jsx("span",{children:R.motoboy.nome})]}),R.periodo&&n.jsxs("div",{className:"flex items-center gap-1.5",children:[n.jsx(yn,{className:"w-4 h-4",style:{color:"#1e293b"}}),n.jsx("span",{children:R.periodo})]}),R.forma_pagamento&&n.jsxs("div",{className:"flex items-center gap-1.5 flex-wrap",children:[n.jsx(_m,{className:"w-4 h-4",style:{color:"#1e293b"}}),n.jsx("span",{children:R.forma_pagamento}),R.valor_venda>0&&["Receber Dinheiro","Receber Mquina","Pagar MP"].includes(R.forma_pagamento)&&n.jsxs("span",{style:{backgroundColor:"#e8f5e9",color:"#1b5e20",padding:"2px 8px",borderRadius:"4px",fontSize:"0.75rem",fontWeight:"bold",marginLeft:"4px",border:"1px solid #4caf50",display:"inline-flex",alignItems:"center",gap:"4px"},children:["COBRAR: R$ ",R.valor_venda.toFixed(2)]}),R.precisa_troco&&R.valor_troco>0&&n.jsxs("span",{style:{backgroundColor:"#fff3e0",color:"#e65100",padding:"2px 8px",borderRadius:"4px",fontSize:"0.75rem",fontWeight:"bold",marginLeft:"4px",border:"1px solid #ff9800",display:"inline-flex",alignItems:"center",gap:"4px"},children:[n.jsx(Av,{className:"w-3 h-3"}),"TROCO: R$ ",R.valor_troco.toFixed(2)]})]}),((D=R.cliente)==null?void 0:D.telefone)&&n.jsxs("div",{className:"flex items-center gap-1.5",children:[n.jsx(Rl,{className:"w-4 h-4",style:{color:"#1e293b"}}),n.jsx("span",{children:R.cliente.telefone})]})]}),R.observacoes&&n.jsxs("div",{className:"mt-2 text-sm text-slate-600 italic bg-slate-50 p-2 rounded",children:[n.jsx("span",{className:"font-medium",children:"Obs:"})," ",R.observacoes]})]}),n.jsxs("div",{className:"flex flex-col items-center gap-3",children:[(R.item_geladeira||R.buscar_receita)&&n.jsxs("div",{className:"flex items-center gap-2",children:[R.item_geladeira&&n.jsxs("span",{className:"px-4 py-2 rounded text-sm font-semibold flex items-center gap-2",style:{backgroundColor:"#cffafe",color:"#0c4a6e"},children:[n.jsx(Rv,{className:"w-5 h-5"}),"Geladeira"]}),R.buscar_receita&&n.jsxs("span",{className:"px-4 py-2 rounded text-sm font-semibold flex items-center gap-2",style:{backgroundColor:"#fef3c7",color:"#92400e"},children:[n.jsx(br,{className:"w-5 h-5"}),"Reter Receita"]})]}),n.jsxs("div",{className:"text-right",children:[n.jsxs("div",{className:"text-2xl font-bold",style:{color:"#376295"},children:["R$ ",((L=R.valor)==null?void 0:L.toFixed(2))||"0.00"]}),n.jsx("div",{className:"text-sm font-medium",style:{color:"#376295"},children:R.regiao})]})]})]})},R.id)})]}),U.length>0&&n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[n.jsx("div",{className:"mb-6",children:n.jsxs("h2",{className:"text-2xl font-bold text-slate-900 flex items-center gap-2",children:[n.jsx(Qw,{className:"w-7 h-7",style:{color:"#f59e0b"}}),"Entregas da Tarde",n.jsx("span",{className:"text-lg font-semibold px-3 py-1 rounded-full bg-slate-100 text-slate-700",children:U.length})]})}),U.map(R=>{var D,L;return n.jsx("div",{onClick:()=>M(R),className:"p-5 mb-4 bg-white rounded-lg border border-slate-200 hover:border-slate-300 transition-all cursor-pointer hover:shadow-md last:mb-0",children:n.jsxs("div",{className:"flex items-center justify-between gap-6",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[n.jsxs("span",{className:"text-base font-semibold",style:{color:"#376295"},children:["#",R.requisicao]}),R.atendente&&n.jsxs(n.Fragment,{children:[n.jsx("span",{className:"text-slate-400",children:""}),n.jsxs("span",{className:"text-sm font-medium text-slate-600 flex items-center gap-1.5",children:[n.jsx(bn,{className:"w-3.5 h-3.5"}),R.atendente]})]}),n.jsx("span",{className:"px-3 py-1 rounded text-xs font-medium",style:{backgroundColor:R.status==="Entregue"?"#E8F5E8":R.status==="A Caminho"?"#FEF3E8":"#F5E8F5",color:R.status==="Entregue"?"#22c55e":R.status==="A Caminho"?"#f97316":"#890d5d"},children:R.status==="Produzindo no Laboratrio"?"Produo":R.status})]}),n.jsx("h3",{className:"text-lg font-bold text-slate-900 mb-2",children:T(R)}),n.jsx("div",{className:"mb-3 text-sm text-slate-600",children:n.jsx("span",{children:R.endereco?`${R.endereco.logradouro}, ${R.endereco.numero} - ${R.endereco.bairro} - ${R.endereco.cidade}`:R.endereco_destino||"Endereo no informado"})}),n.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-slate-900",children:[R.motoboy&&n.jsxs("div",{className:"flex items-center gap-1.5",children:[n.jsx(fs,{className:"w-4 h-4",style:{color:"#1e293b"}}),n.jsx("span",{children:R.motoboy.nome})]}),R.periodo&&n.jsxs("div",{className:"flex items-center gap-1.5",children:[n.jsx(yn,{className:"w-4 h-4",style:{color:"#1e293b"}}),n.jsx("span",{children:R.periodo})]}),R.forma_pagamento&&n.jsxs("div",{className:"flex items-center gap-1.5 flex-wrap",children:[n.jsx(_m,{className:"w-4 h-4",style:{color:"#1e293b"}}),n.jsx("span",{children:R.forma_pagamento}),R.valor_venda>0&&["Receber Dinheiro","Receber Mquina","Pagar MP"].includes(R.forma_pagamento)&&n.jsxs("span",{style:{backgroundColor:"#e8f5e9",color:"#1b5e20",padding:"2px 8px",borderRadius:"4px",fontSize:"0.75rem",fontWeight:"bold",marginLeft:"4px",border:"1px solid #4caf50",display:"inline-flex",alignItems:"center",gap:"4px"},children:["COBRAR: R$ ",R.valor_venda.toFixed(2)]}),R.precisa_troco&&R.valor_troco>0&&n.jsxs("span",{style:{backgroundColor:"#fff3e0",color:"#e65100",padding:"2px 8px",borderRadius:"4px",fontSize:"0.75rem",fontWeight:"bold",marginLeft:"4px",border:"1px solid #ff9800",display:"inline-flex",alignItems:"center",gap:"4px"},children:[n.jsx(Av,{className:"w-3 h-3"}),"TROCO: R$ ",R.valor_troco.toFixed(2)]})]}),((D=R.cliente)==null?void 0:D.telefone)&&n.jsxs("div",{className:"flex items-center gap-1.5",children:[n.jsx(Rl,{className:"w-4 h-4",style:{color:"#1e293b"}}),n.jsx("span",{children:R.cliente.telefone})]})]}),R.observacoes&&n.jsxs("div",{className:"mt-2 text-sm text-slate-600 italic bg-slate-50 p-2 rounded",children:[n.jsx("span",{className:"font-medium",children:"Obs:"})," ",R.observacoes]})]}),n.jsxs("div",{className:"flex flex-col items-center gap-3",children:[(R.item_geladeira||R.buscar_receita)&&n.jsxs("div",{className:"flex items-center gap-2",children:[R.item_geladeira&&n.jsxs("span",{className:"px-4 py-2 rounded text-sm font-semibold flex items-center gap-2",style:{backgroundColor:"#cffafe",color:"#0c4a6e"},children:[n.jsx(Rv,{className:"w-5 h-5"}),"Geladeira"]}),R.buscar_receita&&n.jsxs("span",{className:"px-4 py-2 rounded text-sm font-semibold flex items-center gap-2",style:{backgroundColor:"#fef3c7",color:"#92400e"},children:[n.jsx(br,{className:"w-5 h-5"}),"Reter Receita"]})]}),n.jsxs("div",{className:"text-right",children:[n.jsxs("div",{className:"text-2xl font-bold",style:{color:"#376295"},children:["R$ ",((L=R.valor)==null?void 0:L.toFixed(2))||"0.00"]}),n.jsx("div",{className:"text-sm font-medium",style:{color:"#376295"},children:R.regiao})]})]})]})},R.id)})]})]})})]})]}),n.jsx(jo,{open:k,onOpenChange:P,children:n.jsxs(_s,{className:"max-w-2xl",children:[n.jsx(Es,{children:n.jsx(Ns,{style:{color:"#376295"},children:"Detalhes da Entrega"})}),z&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-slate-600 block mb-2",children:"Status Atual"}),n.jsx("span",{className:"inline-block px-4 py-2 rounded-lg text-sm font-semibold",style:{backgroundColor:z.status==="Entregue"?"#E8F5E8":z.status==="A Caminho"?"#F5E8F5":"#FEF9E8",color:z.status==="Entregue"?"#629537":z.status==="A Caminho"?"#6E0A4A":"#D8CA15"},children:z.status})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"text-sm font-medium text-slate-600 block mb-1",children:["Cliente",V(z).length>1?"s":""]}),n.jsx("div",{className:"text-slate-900",children:T(z)}),((ae=z.cliente)==null?void 0:ae.telefone)&&n.jsx("div",{className:"text-sm text-slate-600",children:z.cliente.telefone}),z.clientes_adicionais_data&&z.clientes_adicionais_data.length>0&&n.jsx("div",{className:"text-sm text-slate-600 mt-1",children:z.clientes_adicionais_data.map((R,D)=>n.jsx("div",{children:R.telefone},D))})]}),z.endereco&&n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-slate-600 block mb-1",children:"Endereo"}),n.jsxs("div",{className:"text-slate-900",children:[z.endereco.logradouro,", ",z.endereco.numero,z.endereco.complemento&&` - ${z.endereco.complemento}`,n.jsx("br",{}),z.endereco.bairro," - ",z.endereco.cidade]})]}),n.jsxs("div",{className:"flex gap-2 pt-4 border-t border-slate-200",children:[z.status!=="Entregue"&&n.jsxs(ar,{onClick:()=>Z(z,"Entregue"),style:{backgroundColor:"#629537"},className:"text-white hover:opacity-90",children:[n.jsx(ua,{className:"w-4 h-4 mr-2"}),"Marcar como Entregue"]}),z.status!=="A Caminho"&&n.jsxs(ar,{onClick:()=>Z(z,"A Caminho"),style:{backgroundColor:"#6E0A4A"},className:"text-white hover:opacity-90",children:[n.jsx(fs,{className:"w-4 h-4 mr-2"}),"Marcar como A Caminho"]})]})]})]})})]})}const jP={Marcio:{BC:9,"NOVA ESPERANA":11,CAMBORI:16,TABULEIRO:11,"MONTE ALEGRE":11,BARRA:11,ESTALEIRO:16,TAQUARAS:16,LARANJEIRAS:16,ITAJAI:19,ESPINHEIROS:23,"PRAIA DOS AMORES":13.5,"PRAIA BRAVA":13.5,ITAPEMA:27,NAVEGANTES:30,PENHA:52,"PORTO BELO":52,TIJUCAS:52,PIARRAS:52,BOMBINHAS:72,CLINICA:9},Bruno:{BC:7,"NOVA ESPERANA":9,CAMBORI:14,TABULEIRO:9,"MONTE ALEGRE":9,BARRA:9,ESTALEIRO:14,TAQUARAS:14,LARANJEIRAS:14,ITAJAI:17,ESPINHEIROS:21,"PRAIA DOS AMORES":11.5,"PRAIA BRAVA":11.5,ITAPEMA:25,NAVEGANTES:40,PENHA:50,"PORTO BELO":30,TIJUCAS:50,PIARRAS:50,BOMBINHAS:50,CLINICA:7}},_P={BC:12,"NOVA ESPERANA":15,CAMBORI:20,TABULEIRO:15,"MONTE ALEGRE":15,BARRA:15,ESTALEIRO:25,TAQUARAS:25,LARANJEIRAS:25,ITAJAI:25,ESPINHEIROS:35,"PRAIA DOS AMORES":15,"PRAIA BRAVA":15,ITAPEMA:35,NAVEGANTES:50,PENHA:75,"PORTO BELO":60,TIJUCAS:87,PIARRAS:80,BOMBINHAS:90,CLINICA:12},EP={BC:"Marcio","NOVA ESPERANA":"Marcio",CAMBORI:"Marcio",TABULEIRO:"Marcio","MONTE ALEGRE":"Marcio",BARRA:"Marcio",ESTALEIRO:"Marcio",CLINICA:"Marcio",TAQUARAS:"Bruno",LARANJEIRAS:"Bruno",ITAJAI:"Bruno",ESPINHEIROS:"Bruno","PRAIA DOS AMORES":"Bruno","PRAIA BRAVA":"Bruno",ITAPEMA:"Bruno",NAVEGANTES:"Bruno",PENHA:"Bruno","PORTO BELO":"Bruno",TIJUCAS:"Bruno",PIARRAS:"Bruno",BOMBINHAS:"Bruno"},NP=["BC","NOVA ESPERANA","CAMBORI","TABULEIRO","MONTE ALEGRE","BARRA","ESTALEIRO","TAQUARAS","LARANJEIRAS","ITAJAI","ESPINHEIROS","PRAIA DOS AMORES","PRAIA BRAVA","ITAPEMA","NAVEGANTES","PENHA","PORTO BELO","TIJUCAS","PIARRAS","BOMBINHAS","CLINICA","OUTRO"],Df=["Aguardando","Boleto","Link Aguardando","Pagar MP","Pago Dinheiro","Pago Link","Pago Mquina","Pago Pix","Pix Aguardando","Receber Dinheiro","Receber Mquina","S Entregar","Via na Pasta"],Lv={"balnerio cambori":{centro:"BC",estados:"BC",pioneiros:"BC","nova esperana":"NOVA ESPERANA",naes:"BC",barra:"BARRA","barra sul":"BARRA",estaleiro:"ESTALEIRO",estaleirinho:"ESTALEIRO",taquaras:"TAQUARAS",laranjeiras:"LARANJEIRAS","praia dos amores":"PRAIA DOS AMORES","praia brava":"PRAIA BRAVA",tabuleiro:"TABULEIRO","monte alegre":"MONTE ALEGRE",default:"BC"},bc:{default:"BC"},"balneario camboriu":{centro:"BC",estados:"BC",pioneiros:"BC","nova esperana":"NOVA ESPERANA","nova esperanca":"NOVA ESPERANA",naes:"BC",nacoes:"BC",barra:"BARRA","barra sul":"BARRA",estaleiro:"ESTALEIRO",estaleirinho:"ESTALEIRO",taquaras:"TAQUARAS",laranjeiras:"LARANJEIRAS","praia dos amores":"PRAIA DOS AMORES","praia brava":"PRAIA BRAVA",tabuleiro:"TABULEIRO","monte alegre":"MONTE ALEGRE",default:"BC"},cambori:{default:"CAMBORI"},camboriu:{default:"CAMBORI"},itaja:{centro:"ITAJAI","vila real":"ITAJAI",espinheiros:"ESPINHEIROS",default:"ITAJAI"},itajai:{centro:"ITAJAI","vila real":"ITAJAI",espinheiros:"ESPINHEIROS",default:"ITAJAI"},itapema:{default:"ITAPEMA"},navegantes:{default:"NAVEGANTES"},penha:{default:"PENHA"},"porto belo":{default:"PORTO BELO"},tijucas:{default:"TIJUCAS"},piarras:{default:"PIARRAS"},picarras:{default:"PIARRAS"},bombinhas:{default:"BOMBINHAS"}},xl=(t,e)=>{const r=(t==null?void 0:t.toLowerCase().trim())||"",o=(e==null?void 0:e.toLowerCase().trim())||"";if(console.log(" Detectando regio:",{cidade:r,bairro:o}),Lv[r]){const i=Lv[r];return o==="centro"?(console.log(" Bairro Centro - usando regio padro da cidade:",i.default),i.default):o&&i[o]&&i[o]!==i.default?(console.log(" Regio detectada por bairro cadastrado:",i[o]),i[o]):(console.log(" Regio detectada por cidade (default):",i.default),i.default)}return console.log(" Nenhuma regio detectada"),""};function SP(){const t=Ht(),e=Sn(),[r,o]=y.useState(!1),[i,l]=y.useState(""),[d,u]=y.useState([]),[h,m]=y.useState(!1),[x,p]=y.useState({nome:"",cpf:"",telefone:"",email:"",enderecos:[{logradouro:"",numero:"",complemento:"",bairro:"",cidade:"",cep:"",is_principal:!0}]}),[w,b]=y.useState([]),[E,_]=y.useState([]),[j,N]=y.useState(null),[S,k]=y.useState(-1),[P,z]=y.useState(""),[A,q]=y.useState([]),[K,de]=y.useState(-1),[V,T]=y.useState(!1),[Y,te]=y.useState(null),[U,he]=y.useState({logradouro:"",numero:"",complemento:"",bairro:"",cidade:"",cep:"",regiao:""}),[$,Z]=y.useState(null),[M,ae]=y.useState({logradouro:"",numero:"",complemento:"",bairro:"",cidade:"",cep:"",regiao:""}),[R,D]=y.useState(!1),[L,F]=y.useState(!1),[O,ie]=y.useState({numero_requisicao:"",regiao:"",outra_cidade:"",data_entrega:new Date().toISOString().split("T")[0],periodo:"Tarde",forma_pagamento:"",motoboy:"",valor_entrega:0,item_geladeira:!1,buscar_receita:!1,observacoes:"",precisa_troco:!1,valor_troco:0,valor_venda:0}),[ue,le]=y.useState({}),X=async I=>{if(l(I),k(-1),I.length<2){u([]);return}try{const{data:Q,error:se}=await _e.from("clientes").select("*").ilike("nome",`%${I}%`).limit(5);if(se)throw se;u(Q||[])}catch(Q){console.error("Erro ao buscar clientes:",Q)}},ye=I=>{d.length!==0&&(I.key==="ArrowDown"?(I.preventDefault(),k(Q=>Q<d.length-1?Q+1:Q)):I.key==="ArrowUp"?(I.preventDefault(),k(Q=>Q>0?Q-1:-1)):I.key==="Enter"&&S>=0&&(I.preventDefault(),Ue(d[S])))},be=I=>{if(z(I),de(-1),T(!0),I.length===0)q(Df);else{const Q=Df.filter(se=>se.toLowerCase().includes(I.toLowerCase()));q(Q)}},Pe=I=>{A.length!==0&&(I.key==="ArrowDown"?(I.preventDefault(),de(Q=>Q<A.length-1?Q+1:0)):I.key==="ArrowUp"?(I.preventDefault(),de(Q=>Q>0?Q-1:A.length-1)):I.key==="Enter"&&K>=0?(I.preventDefault(),Ae(A[K])):I.key==="Escape"&&T(!1))},Ae=I=>{ie({...O,forma_pagamento:I}),z(I),T(!1),q([]),de(-1)},Ue=async I=>{if(w.find(Q=>Q.id===I.id)){ge.error("Cliente j adicionado!");return}try{const{data:Q,error:se}=await _e.from("enderecos").select("*").eq("cliente_id",I.id).order("is_principal",{ascending:!1});if(se)throw se;if(b([...w,I]),Q&&Q.length>0){const ce=Q.map(we=>({...we,cliente_nome:I.nome}));_(we=>{const Me=[...we,...ce];return we.length===0&&ce.length>0&&(N(ce[0]),ce[0].regiao&&Kt(ce[0].regiao)),Me})}l(""),u([]),k(-1),ge.success(`Cliente ${I.nome} adicionado!`)}catch(Q){console.error("Erro ao buscar endereos:",Q),ge.error("Erro ao carregar endereos do cliente")}},We=I=>{E.find(ce=>ce.id===$&&ce.cliente_id===I)&&dt(),b(w.filter(ce=>ce.id!==I));const se=E.filter(ce=>ce.cliente_id!==I);_(se),j&&j.cliente_id===I&&N(null),Y===I&&te(null)},Rt=I=>{N(I);const Q=xl(I.cidade,I.bairro);Q?Kt(Q):I.regiao&&Kt(I.regiao)},Bt=async I=>{try{if(!U.logradouro||!U.numero||!U.bairro||!U.cidade){ge.error("Preencha todos os campos obrigatrios do endereo");return}const se=xl(U.cidade,U.bairro)||U.regiao||"",ce={cliente_id:I,logradouro:U.logradouro,numero:U.numero,complemento:U.complemento,bairro:U.bairro,cidade:U.cidade,cep:U.cep,regiao:se,is_principal:!1},{data:we,error:Me}=await _e.from("enderecos").insert([ce]).select();if(Me)throw Me;if(we&&we.length>0){const et=we[0],ot=w.find(pt=>pt.id===I),Ke={...et,cliente_nome:ot==null?void 0:ot.nome};_([...E,Ke]),N(Ke),se&&Kt(se),he({logradouro:"",numero:"",complemento:"",bairro:"",cidade:"",cep:"",regiao:""}),te(null),ge.success("Endereo cadastrado com sucesso!")}}catch(Q){console.error("Erro ao salvar endereo:",Q),ge.error("Erro ao salvar endereo")}},Et=I=>{Z(I.id),ae({logradouro:I.logradouro||"",numero:I.numero||"",complemento:I.complemento||"",bairro:I.bairro||"",cidade:I.cidade||"",cep:I.cep||"",regiao:I.regiao||""}),te(null)},dt=()=>{Z(null),ae({logradouro:"",numero:"",complemento:"",bairro:"",cidade:"",cep:"",regiao:""})},ut=async()=>{try{if(!M.logradouro||!M.numero||!M.bairro||!M.cidade){ge.error("Preencha todos os campos obrigatrios do endereo");return}const Q=xl(M.cidade,M.bairro)||M.regiao||"",se={logradouro:M.logradouro,numero:M.numero,complemento:M.complemento,bairro:M.bairro,cidade:M.cidade,cep:M.cep,regiao:Q};console.log(" Atualizando endereo:",$,se);const{data:ce,error:we}=await _e.from("enderecos").update(se).eq("id",$).select();if(we)throw we;console.log(" Endereo atualizado no banco:",ce);const Me=E.find(Ke=>Ke.id===$);console.log(" Endereo antigo encontrado:",Me);const et={id:$,cliente_id:Me==null?void 0:Me.cliente_id,cliente_nome:Me==null?void 0:Me.cliente_nome,logradouro:M.logradouro,numero:M.numero,complemento:M.complemento,bairro:M.bairro,cidade:M.cidade,cep:M.cep,regiao:Q,is_principal:(Me==null?void 0:Me.is_principal)||!1};console.log(" Endereo completo para atualizar:",et);const ot=E.map(Ke=>Ke.id===$?et:Ke);console.log(" Novos endereos:",ot),_(ot),(j==null?void 0:j.id)===$&&(console.log(" Atualizando endereo selecionado"),N(et),Q&&Kt(Q)),dt(),ge.success("Endereo atualizado com sucesso!")}catch(I){console.error(" Erro ao atualizar endereo:",I),ge.error("Erro ao atualizar endereo")}};y.useEffect(()=>{if(U.cidade||U.bairro){const I=xl(U.cidade,U.bairro);I&&he(Q=>({...Q,regiao:I}))}},[U.cidade,U.bairro]),y.useEffect(()=>{Y===null&&he({logradouro:"",numero:"",complemento:"",bairro:"",cidade:"",cep:"",regiao:""})},[Y]),y.useEffect(()=>{if($&&(M.cidade||M.bairro)){const I=xl(M.cidade,M.bairro);I&&ae(Q=>({...Q,regiao:I}))}},[M.cidade,M.bairro,$]),y.useEffect(()=>{O.forma_pagamento&&O.forma_pagamento!==P&&z(O.forma_pagamento)},[O.forma_pagamento]),y.useEffect(()=>{O.forma_pagamento!=="Receber Dinheiro"&&ie(I=>({...I,precisa_troco:!1,valor_troco:0}))},[O.forma_pagamento]);const wr=["Receber Dinheiro","Receber Mquina","Pagar MP"];y.useEffect(()=>{wr.includes(O.forma_pagamento)||ie(I=>({...I,valor_venda:0}))},[O.forma_pagamento]);const jr=async(I,Q,se)=>{if(se!=="Bruno")return D(!1),!1;F(!0);try{const{data:ce}=await _e.from("motoboys").select("id").eq("nome","Bruno").single();if(!ce)return D(!1),!1;const{count:we}=await _e.from("entregas").select("*",{count:"exact",head:!0}).eq("motoboy_id",ce.id).eq("data_entrega",I).eq("periodo","Manh"),{count:Me}=await _e.from("entregas").select("*",{count:"exact",head:!0}).eq("motoboy_id",ce.id).eq("data_entrega",I).eq("periodo","Tarde"),Ke=(Q==="Manh"?we===0:Me===0)&&(Q==="Manh"?Me===0||Me===1:we===0||we===1);return D(Ke),Ke}catch(ce){return console.error("Erro ao verificar entrega nica:",ce),D(!1),!1}finally{F(!1)}};y.useEffect(()=>{O.motoboy==="Bruno"&&O.data_entrega&&O.periodo?jr(O.data_entrega,O.periodo,O.motoboy):D(!1)},[O.motoboy,O.data_entrega,O.periodo]);const it=(I,Q,se=R)=>{var ce;return I==="OUTRO"||!I||!Q?0:Q==="Bruno"&&se?_P[I]||0:((ce=jP[Q])==null?void 0:ce[I])||0};y.useEffect(()=>{if(O.motoboy==="Bruno"&&O.regiao&&O.regiao!=="OUTRO"){const I=it(O.regiao,O.motoboy,R);ie(Q=>({...Q,valor_entrega:I}))}},[R]);const Kt=I=>{console.log("Mudando regio para:",I),ie(Q=>{const se=I==="OUTRO"?Q.motoboy:EP[I]||"Marcio",ce=it(I,se,se==="Bruno"?R:!1);return console.log("Novo motoboy:",se,"Novo valor:",ce,"Entrega nica:",R),{...Q,regiao:I,motoboy:se,valor_entrega:ce}})},Cs=I=>{const Q=it(O.regiao,I,I==="Bruno"?R:!1);ie({...O,motoboy:I,valor_entrega:Q})},ks=()=>{const I={};return w.length===0&&(I.cliente="Adicione pelo menos um cliente"),j||(I.endereco="Selecione um endereo para a entrega"),O.numero_requisicao||(I.requisicao="Nmero de requisio obrigatrio"),O.regiao||(I.regiao="Selecione a regio"),O.regiao==="OUTRO"&&!O.outra_cidade&&(I.outra_cidade="Informe a cidade"),O.data_entrega||(I.data="Data obrigatria"),O.forma_pagamento||(I.pagamento="Forma de pagamento obrigatria"),O.motoboy||(I.motoboy="Selecione o motoboy"),O.forma_pagamento==="Receber Dinheiro"&&O.precisa_troco&&(!O.valor_troco||O.valor_troco<=0)&&(I.valor_troco="Informe o valor do troco"),wr.includes(O.forma_pagamento)&&(!O.valor_venda||O.valor_venda<=0)&&(I.valor_venda="Informe o valor a cobrar"),le(I),Object.keys(I).length===0},rn=()=>{p({...x,enderecos:[...x.enderecos,{logradouro:"",numero:"",complemento:"",bairro:"",cidade:"",cep:"",is_principal:!1}]})},kn=I=>{if(x.enderecos.length===1){ge.error(" necessrio pelo menos um endereo");return}p({...x,enderecos:x.enderecos.filter((Q,se)=>se!==I)})},ir=(I,Q,se)=>{const ce=[...x.enderecos];ce[I]={...ce[I],[Q]:se},p({...x,enderecos:ce})},Rn=async()=>{if(!x.nome||!x.telefone){ge.error("Preencha nome e telefone");return}if(!x.enderecos.some(Q=>Q.logradouro&&Q.numero&&Q.cidade)){ge.error("Preencha pelo menos um endereo completo (Rua, Nmero e Cidade)");return}const I=ge.loading("Cadastrando cliente...");try{const{data:Q,error:se}=await _e.from("clientes").insert([{nome:x.nome,cpf:x.cpf||null,telefone:x.telefone,email:x.email||null}]).select().single();if(se)throw se;const ce=x.enderecos.filter(we=>we.logradouro&&we.numero&&we.cidade).map((we,Me)=>({cliente_id:Q.id,logradouro:we.logradouro,numero:we.numero,complemento:we.complemento||null,bairro:we.bairro||null,cidade:we.cidade,cep:we.cep||null,regiao:we.regiao||null,is_principal:Me===0}));if(ce.length>0){const{error:we}=await _e.from("enderecos").insert(ce);if(we)throw we}ge.success("Cliente cadastrado com sucesso!",{id:I}),Ue(Q),p({nome:"",cpf:"",telefone:"",email:"",enderecos:[{logradouro:"",numero:"",complemento:"",bairro:"",cidade:"",cep:"",is_principal:!0}]}),m(!1),l(""),u([])}catch(Q){console.error("Erro ao cadastrar cliente:",Q),ge.error("Erro ao cadastrar cliente: "+Q.message,{id:I})}},G=async I=>{var se;if(I.preventDefault(),!ks()){ge.error("Por favor, preencha todos os campos obrigatrios");return}o(!0);const Q=ge.loading("Criando romaneio...");try{let ce=null;if(O.motoboy){const{data:Nt}=await _e.from("motoboys").select("id").eq("nome",O.motoboy).limit(1);ce=((se=Nt==null?void 0:Nt[0])==null?void 0:se.id)||null}const we=j.endereco_completo||`${j.logradouro}, ${j.numero} - ${j.bairro}, ${j.cidade}`,Me=O.data_entrega+"T12:00:00",et=w.slice(1).map(Nt=>Nt.id),ot={cliente_id:w[0].id,endereco_id:j.id,requisicao:O.numero_requisicao,endereco_destino:we,regiao:O.regiao,outra_cidade:O.regiao==="OUTRO"?O.outra_cidade:null,tipo:"moto",data_criacao:new Date().toISOString(),data_entrega:Me,periodo:O.periodo,status:"Produzindo no Laboratrio",motoboy_id:ce,forma_pagamento:O.forma_pagamento,valor:O.valor_entrega,item_geladeira:O.item_geladeira,buscar_receita:O.buscar_receita,observacoes:O.observacoes,clientes_adicionais:et,precisa_troco:O.forma_pagamento==="Receber Dinheiro"?O.precisa_troco:!1,valor_troco:O.forma_pagamento==="Receber Dinheiro"&&O.precisa_troco?O.valor_troco:0,valor_venda:wr.includes(O.forma_pagamento)?O.valor_venda:0,endereco_logradouro:j.logradouro,endereco_numero:j.numero,endereco_complemento:j.complemento,endereco_bairro:j.bairro,endereco_cidade:j.cidade,endereco_cep:j.cep},{data:Ke,error:pt}=await _e.from("entregas").insert([ot]).select();if(pt)throw pt;console.log("Entregas criadas:",Ke),await e.invalidateQueries({queryKey:["entregas"]}),await e.invalidateQueries({queryKey:["receitas"]}),await e.refetchQueries({queryKey:["entregas"]}),ge.success("Romaneio criado com sucesso!",{id:Q}),setTimeout(()=>t("/"),1e3)}catch(ce){console.error("Erro ao criar romaneio:",ce),ge.error("Erro ao criar romaneio: "+ce.message,{id:Q})}finally{o(!1)}};return n.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100",children:[n.jsx("div",{className:"py-8 shadow-sm",style:{background:"linear-gradient(135deg, #457bba 0%, #890d5d 100%)"},children:n.jsx("div",{className:"max-w-7xl mx-auto px-6",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("button",{onClick:()=>t(-1),className:"p-2 rounded-lg bg-white/20 hover:bg-white/30 transition-colors",children:n.jsx(kt,{className:"w-6 h-6 text-white"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-4xl font-bold text-white",children:"Novo Romaneio"}),n.jsx("p",{className:"text-base text-white opacity-90 mt-1",children:"Crie uma nova ordem de entrega"})]})]})})}),n.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-6",children:[n.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6 mb-6",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("button",{type:"button",onClick:()=>t("/"),className:"p-2 rounded-lg transition-all border border-slate-300 hover:bg-slate-50",children:n.jsx("svg",{className:"w-5 h-5",style:{color:"#376295"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:"Criar Novo Romaneio"}),n.jsx("p",{className:"text-sm text-slate-600 mt-1",children:"Preencha as informaes abaixo"})]})]})}),n.jsxs("form",{onSubmit:G,children:[n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6 mb-6",children:[n.jsx("h3",{className:"text-lg font-bold text-slate-900 mb-6",children:"Informaes do Romaneio"}),n.jsxs("div",{style:{marginBottom:"1rem"},children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:ee.colors.text,marginBottom:"0.5rem"},children:"Cliente(s) *"}),n.jsx("input",{type:"text",value:i,onChange:I=>X(I.target.value),onKeyDown:ye,placeholder:"Buscar cliente por nome, CPF ou telefone...",style:{width:"100%",padding:"0.75rem",border:`1px solid ${ue.cliente?ee.colors.danger:ee.colors.border}`,borderRadius:"0.375rem",fontSize:"0.875rem"}}),d.length>0&&n.jsx("div",{style:{position:"absolute",zIndex:10,background:"white",border:`1px solid ${ee.colors.border}`,borderRadius:"0.375rem",marginTop:"0.25rem",maxHeight:"200px",overflowY:"auto",boxShadow:"0 4px 6px rgba(0,0,0,0.1)",width:"100%"},children:d.map((I,Q)=>n.jsxs("div",{onClick:()=>Ue(I),onMouseEnter:()=>k(Q),style:{padding:"0.75rem",cursor:"pointer",borderBottom:`1px solid ${ee.colors.border}`,background:Q===S?"#e3f2fd":"white",transition:"background 0.15s"},children:[n.jsx("p",{style:{fontWeight:"500",margin:0},children:I.nome}),n.jsx("p",{style:{fontSize:"0.75rem",color:ee.colors.textLight,margin:0},children:I.telefone})]},I.id))}),i.length>=2&&d.length===0&&n.jsx("button",{type:"button",onClick:()=>m(!0),style:{marginTop:"0.5rem",padding:"0.5rem 1rem",background:ee.colors.primary,color:"white",border:"none",borderRadius:"0.375rem",fontSize:"0.875rem",cursor:"pointer"},children:"+ Cadastrar Novo Cliente"}),ue.cliente&&n.jsx("p",{style:{color:ee.colors.danger,fontSize:"0.75rem",marginTop:"0.25rem"},children:ue.cliente})]}),w.length>0&&n.jsxs("div",{style:{marginBottom:"1rem"},children:[n.jsxs("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:ee.colors.text,marginBottom:"0.5rem"},children:["Clientes Selecionados (",w.length,")"]}),n.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"0.5rem"},children:w.map(I=>n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.5rem 0.75rem",background:"#e3f2fd",borderRadius:"1rem",fontSize:"0.875rem"},children:[n.jsx("span",{children:I.nome}),n.jsx("button",{type:"button",onClick:()=>We(I.id),style:{background:"none",border:"none",color:ee.colors.danger,cursor:"pointer",padding:"0.25rem",display:"flex",alignItems:"center",fontSize:"1rem"},children:""})]},I.id))})]}),w.length>0&&n.jsxs("div",{style:{marginBottom:"1rem"},children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:ee.colors.text,marginBottom:"0.5rem"},children:"Endereo de Entrega *"}),w.map(I=>{const Q=E.filter(se=>se.cliente_id===I.id);return n.jsxs("div",{style:{marginBottom:"1.5rem",padding:"1rem",border:`1px solid ${ee.colors.border}`,borderRadius:"0.5rem",background:"#f8fafc"},children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.75rem"},children:[n.jsx("h4",{style:{margin:0,fontSize:"0.875rem",fontWeight:"600",color:ee.colors.primary},children:I.nome}),n.jsx("button",{type:"button",onClick:()=>{Y===I.id?te(null):(te(I.id),$&&dt())},style:{padding:"0.375rem 0.75rem",fontSize:"0.75rem",fontWeight:"500",color:ee.colors.primary,background:"white",border:`1px solid ${ee.colors.primary}`,borderRadius:"0.375rem",cursor:"pointer"},children:Y===I.id?"Cancelar":"+ Novo Endereo"})]}),Y===I.id&&n.jsxs("div",{style:{padding:"1rem",background:"white",borderRadius:"0.375rem",marginBottom:"0.75rem",border:`1px solid ${ee.colors.border}`},children:[n.jsx("h5",{style:{margin:"0 0 0.75rem 0",fontSize:"0.8rem",fontWeight:"600",color:ee.colors.text},children:"Cadastrar Novo Endereo"}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"0.75rem"},children:[n.jsx("div",{style:{gridColumn:"1 / -1"},children:n.jsx("input",{type:"text",placeholder:"Rua *",value:U.logradouro,onChange:se=>he({...U,logradouro:se.target.value}),style:{width:"100%",padding:"0.5rem",border:`1px solid ${ee.colors.border}`,borderRadius:"0.375rem",fontSize:"0.75rem"}})}),n.jsx("div",{children:n.jsx("input",{type:"text",placeholder:"Nmero *",value:U.numero,onChange:se=>he({...U,numero:se.target.value}),style:{width:"100%",padding:"0.5rem",border:`1px solid ${ee.colors.border}`,borderRadius:"0.375rem",fontSize:"0.75rem"}})}),n.jsx("div",{children:n.jsx("input",{type:"text",placeholder:"Complemento",value:U.complemento,onChange:se=>he({...U,complemento:se.target.value}),style:{width:"100%",padding:"0.5rem",border:`1px solid ${ee.colors.border}`,borderRadius:"0.375rem",fontSize:"0.75rem"}})}),n.jsx("div",{children:n.jsx("input",{type:"text",placeholder:"Bairro *",value:U.bairro,onChange:se=>he({...U,bairro:se.target.value}),style:{width:"100%",padding:"0.5rem",border:`1px solid ${ee.colors.border}`,borderRadius:"0.375rem",fontSize:"0.75rem"}})}),n.jsx("div",{children:n.jsx("input",{type:"text",placeholder:"Cidade *",value:U.cidade,onChange:se=>he({...U,cidade:se.target.value}),style:{width:"100%",padding:"0.5rem",border:`1px solid ${ee.colors.border}`,borderRadius:"0.375rem",fontSize:"0.75rem"}})}),n.jsx("div",{children:n.jsx("input",{type:"text",placeholder:"CEP",value:U.cep,onChange:se=>he({...U,cep:se.target.value}),style:{width:"100%",padding:"0.5rem",border:`1px solid ${ee.colors.border}`,borderRadius:"0.375rem",fontSize:"0.75rem"}})}),n.jsx("div",{children:n.jsx("input",{type:"text",placeholder:"Regio (auto-detectada)",value:U.regiao,readOnly:!0,style:{width:"100%",padding:"0.5rem",border:`1px solid ${ee.colors.border}`,borderRadius:"0.375rem",fontSize:"0.75rem",background:"#f1f5f9"}})})]}),n.jsx("button",{type:"button",onClick:()=>Bt(I.id),style:{marginTop:"0.75rem",padding:"0.5rem 1rem",fontSize:"0.75rem",fontWeight:"500",color:"white",background:ee.colors.primary,border:"none",borderRadius:"0.375rem",cursor:"pointer",width:"100%"},children:"Salvar Endereo"})]}),Q.length>0?Q.map(se=>$===se.id?n.jsxs("div",{style:{padding:"1rem",background:"white",borderRadius:"0.375rem",marginBottom:"0.75rem",border:`2px solid ${ee.colors.primary}`},children:[n.jsx("h5",{style:{margin:"0 0 0.75rem 0",fontSize:"0.8rem",fontWeight:"600",color:ee.colors.text},children:"Editando Endereo"}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"0.75rem"},children:[n.jsx("div",{style:{gridColumn:"1 / -1"},children:n.jsx("input",{type:"text",placeholder:"Rua *",value:M.logradouro,onChange:ce=>ae({...M,logradouro:ce.target.value}),style:{width:"100%",padding:"0.5rem",border:`1px solid ${ee.colors.border}`,borderRadius:"0.375rem",fontSize:"0.75rem"}})}),n.jsx("div",{children:n.jsx("input",{type:"text",placeholder:"Nmero *",value:M.numero,onChange:ce=>ae({...M,numero:ce.target.value}),style:{width:"100%",padding:"0.5rem",border:`1px solid ${ee.colors.border}`,borderRadius:"0.375rem",fontSize:"0.75rem"}})}),n.jsx("div",{children:n.jsx("input",{type:"text",placeholder:"Complemento",value:M.complemento,onChange:ce=>ae({...M,complemento:ce.target.value}),style:{width:"100%",padding:"0.5rem",border:`1px solid ${ee.colors.border}`,borderRadius:"0.375rem",fontSize:"0.75rem"}})}),n.jsx("div",{children:n.jsx("input",{type:"text",placeholder:"Bairro *",value:M.bairro,onChange:ce=>ae({...M,bairro:ce.target.value}),style:{width:"100%",padding:"0.5rem",border:`1px solid ${ee.colors.border}`,borderRadius:"0.375rem",fontSize:"0.75rem"}})}),n.jsx("div",{children:n.jsx("input",{type:"text",placeholder:"Cidade *",value:M.cidade,onChange:ce=>ae({...M,cidade:ce.target.value}),style:{width:"100%",padding:"0.5rem",border:`1px solid ${ee.colors.border}`,borderRadius:"0.375rem",fontSize:"0.75rem"}})}),n.jsx("div",{children:n.jsx("input",{type:"text",placeholder:"CEP",value:M.cep,onChange:ce=>ae({...M,cep:ce.target.value}),style:{width:"100%",padding:"0.5rem",border:`1px solid ${ee.colors.border}`,borderRadius:"0.375rem",fontSize:"0.75rem"}})}),n.jsx("div",{children:n.jsx("input",{type:"text",placeholder:"Regio (auto-detectada)",value:M.regiao,readOnly:!0,style:{width:"100%",padding:"0.5rem",border:`1px solid ${ee.colors.border}`,borderRadius:"0.375rem",fontSize:"0.75rem",background:"#f1f5f9"}})})]}),n.jsxs("div",{style:{display:"flex",gap:"0.5rem",marginTop:"0.75rem"},children:[n.jsx("button",{type:"button",onClick:ut,style:{flex:1,padding:"0.5rem 1rem",fontSize:"0.75rem",fontWeight:"500",color:"white",background:ee.colors.primary,border:"none",borderRadius:"0.375rem",cursor:"pointer"},children:"Salvar"}),n.jsx("button",{type:"button",onClick:dt,style:{flex:1,padding:"0.5rem 1rem",fontSize:"0.75rem",fontWeight:"500",color:ee.colors.text,background:"white",border:`1px solid ${ee.colors.border}`,borderRadius:"0.375rem",cursor:"pointer"},children:"Cancelar"})]})]},se.id):n.jsxs("div",{style:{padding:"0.75rem",border:`2px solid ${(j==null?void 0:j.id)===se.id?ee.colors.primary:ee.colors.border}`,borderRadius:"0.375rem",marginBottom:"0.5rem",background:(j==null?void 0:j.id)===se.id?"#f0f9ff":"white",display:"flex",alignItems:"center",gap:"0.75rem"},children:[n.jsx("input",{type:"radio",name:"endereco",checked:(j==null?void 0:j.id)===se.id,onChange:()=>Rt(se),style:{cursor:"pointer"}}),n.jsxs("div",{onClick:()=>Rt(se),style:{flex:1,cursor:"pointer"},children:[n.jsx("p",{style:{margin:0,fontSize:"0.875rem",fontWeight:"500"},children:se.endereco_completo||`${se.logradouro}, ${se.numero} - ${se.bairro}, ${se.cidade}`}),se.regiao&&n.jsxs("p",{style:{margin:0,fontSize:"0.75rem",color:ee.colors.textLight,marginTop:"0.25rem"},children:["Regio: ",se.regiao]})]}),n.jsx("button",{type:"button",onClick:ce=>{ce.stopPropagation(),Et(se)},style:{padding:"0.375rem 0.75rem",fontSize:"0.7rem",fontWeight:"500",color:ee.colors.primary,background:"white",border:`1px solid ${ee.colors.primary}`,borderRadius:"0.375rem",cursor:"pointer"},children:"Editar"})]},se.id)):n.jsx("p",{style:{margin:0,fontSize:"0.75rem",color:ee.colors.textLight,fontStyle:"italic"},children:'Nenhum endereo cadastrado. Clique em "+ Novo Endereo" para adicionar.'})]},I.id)}),ue.endereco&&n.jsx("p",{style:{color:ee.colors.danger,fontSize:"0.75rem",marginTop:"0.25rem"},children:ue.endereco})]}),n.jsxs("div",{style:{marginBottom:"1rem"},children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:ee.colors.text,marginBottom:"0.5rem"},children:"Nmero da Requisio *"}),n.jsx("input",{type:"text",value:O.numero_requisicao,onChange:I=>ie({...O,numero_requisicao:I.target.value}),placeholder:"Ex: REQ-001",style:{width:"100%",padding:"0.75rem",border:`1px solid ${ue.requisicao?ee.colors.danger:ee.colors.border}`,borderRadius:"0.375rem",fontSize:"0.875rem"}}),ue.requisicao&&n.jsx("p",{style:{color:ee.colors.danger,fontSize:"0.75rem",marginTop:"0.25rem"},children:ue.requisicao})]}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem",marginBottom:"1rem"},children:[n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:ee.colors.text,marginBottom:"0.5rem"},children:"Cidade/Regio *"}),n.jsxs("select",{value:O.regiao,onChange:I=>Kt(I.target.value),style:{width:"100%",padding:"0.75rem",border:`1px solid ${ue.regiao?ee.colors.danger:ee.colors.border}`,borderRadius:"0.375rem",fontSize:"0.875rem"},children:[n.jsx("option",{value:"",children:"Selecione a cidade"}),NP.map(I=>n.jsx("option",{value:I,children:I},I))]})]}),n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:ee.colors.text,marginBottom:"0.5rem"},children:"Data de Entrega *"}),n.jsx("input",{type:"date",value:O.data_entrega,onChange:I=>ie({...O,data_entrega:I.target.value}),style:{width:"100%",padding:"0.75rem",border:`1px solid ${ee.colors.border}`,borderRadius:"0.375rem",fontSize:"0.875rem"}})]})]}),O.regiao==="OUTRO"&&n.jsxs("div",{style:{marginBottom:"1rem"},children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:ee.colors.text,marginBottom:"0.5rem"},children:"Nome da Cidade *"}),n.jsx("input",{type:"text",value:O.outra_cidade,onChange:I=>ie({...O,outra_cidade:I.target.value}),placeholder:"Digite o nome da cidade",style:{width:"100%",padding:"0.75rem",border:`1px solid ${ue.outra_cidade?ee.colors.danger:ee.colors.border}`,borderRadius:"0.375rem",fontSize:"0.875rem"}})]}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem",marginBottom:"1rem"},children:[n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:ee.colors.text,marginBottom:"0.5rem"},children:"Perodo de Entrega *"}),n.jsxs("select",{value:O.periodo,onChange:I=>ie({...O,periodo:I.target.value}),style:{width:"100%",padding:"0.75rem",border:`1px solid ${ee.colors.border}`,borderRadius:"0.375rem",fontSize:"0.875rem"},children:[n.jsx("option",{value:"Manh",children:"Manh"}),n.jsx("option",{value:"Tarde",children:"Tarde"})]})]}),n.jsxs("div",{style:{position:"relative"},children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:ee.colors.text,marginBottom:"0.5rem"},children:"Forma de Pagamento *"}),n.jsx("input",{type:"text",value:P,onChange:I=>be(I.target.value),onKeyDown:Pe,onFocus:()=>{T(!0),A.length===0&&q(Df)},onBlur:()=>{setTimeout(()=>T(!1),200)},placeholder:"Digite ou selecione a forma de pagamento...",style:{width:"100%",padding:"0.75rem",border:`1px solid ${ue.pagamento?ee.colors.danger:ee.colors.border}`,borderRadius:"0.375rem",fontSize:"0.875rem"}}),V&&A.length>0&&n.jsx("div",{style:{position:"absolute",top:"100%",left:0,right:0,background:"white",border:`1px solid ${ee.colors.border}`,borderRadius:"0.375rem",marginTop:"0.25rem",maxHeight:"200px",overflowY:"auto",boxShadow:"0 4px 6px rgba(0,0,0,0.1)",zIndex:1e3},children:A.map((I,Q)=>n.jsx("div",{onClick:()=>Ae(I),onMouseEnter:()=>de(Q),style:{padding:"0.75rem",cursor:"pointer",borderBottom:Q<A.length-1?`1px solid ${ee.colors.border}`:"none",background:Q===K?"#e3f2fd":"white",transition:"background 0.15s"},children:n.jsx("p",{style:{margin:0,fontSize:"0.875rem"},children:I})},I))})]})]}),wr.includes(O.forma_pagamento)&&n.jsxs("div",{style:{marginBottom:"1rem",padding:"1rem",background:"#e8f5e9",border:"2px solid #4caf50",borderRadius:"0.5rem"},children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"600",color:"#2e7d32",marginBottom:"0.5rem"},children:"Valor a Cobrar (R$) *"}),n.jsx("input",{type:"number",step:"0.01",min:"0",value:O.valor_venda||"",onChange:I=>ie({...O,valor_venda:parseFloat(I.target.value)||0}),placeholder:"Ex: 150.00",style:{width:"100%",padding:"0.75rem",border:`2px solid ${ue.valor_venda?ee.colors.danger:"#4caf50"}`,borderRadius:"0.375rem",fontSize:"0.875rem",background:"white"}}),ue.valor_venda&&n.jsx("p",{style:{color:ee.colors.danger,fontSize:"0.75rem",marginTop:"0.25rem"},children:ue.valor_venda}),!ue.valor_venda&&O.valor_venda>0&&n.jsxs("div",{style:{marginTop:"0.75rem",padding:"0.75rem",background:"#1b5e20",borderRadius:"0.375rem",textAlign:"center"},children:[n.jsx("p",{style:{margin:0,color:"white",fontSize:"0.875rem",fontWeight:"500"},children:O.forma_pagamento==="Receber Mquina"?"Receber na Mquina:":O.forma_pagamento==="Pagar MP"?"Cobrar via MP:":"Valor a Receber:"}),n.jsxs("p",{style:{margin:"0.25rem 0 0 0",color:"white",fontSize:"1.5rem",fontWeight:"700"},children:["R$ ",O.valor_venda.toFixed(2).replace(".",",")]})]}),!O.valor_venda&&n.jsx("p",{style:{fontSize:"0.75rem",color:"#2e7d32",marginTop:"0.25rem",fontWeight:"500"},children:"Informe o valor a ser cobrado nesta entrega."})]}),O.forma_pagamento==="Receber Dinheiro"&&n.jsxs("div",{style:{marginBottom:"1rem",padding:"1rem",background:"#fff9e6",border:"2px solid #ffc107",borderRadius:"0.5rem"},children:[n.jsxs("div",{style:{marginBottom:"0.75rem"},children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"600",color:"#f57c00",marginBottom:"0.5rem"},children:"Precisa de troco?"}),n.jsxs("div",{style:{display:"flex",gap:"1rem"},children:[n.jsxs("label",{style:{display:"flex",alignItems:"center",cursor:"pointer",fontSize:"0.875rem"},children:[n.jsx("input",{type:"radio",name:"precisa_troco",checked:O.precisa_troco===!0,onChange:()=>ie({...O,precisa_troco:!0}),style:{marginRight:"0.5rem"}}),"Sim"]}),n.jsxs("label",{style:{display:"flex",alignItems:"center",cursor:"pointer",fontSize:"0.875rem"},children:[n.jsx("input",{type:"radio",name:"precisa_troco",checked:O.precisa_troco===!1,onChange:()=>ie({...O,precisa_troco:!1,valor_troco:0}),style:{marginRight:"0.5rem"}}),"No"]})]})]}),O.precisa_troco&&n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"600",color:"#f57c00",marginBottom:"0.5rem"},children:"Valor do Troco (R$) *"}),n.jsx("input",{type:"number",step:"0.01",min:"0",value:O.valor_troco||"",onChange:I=>ie({...O,valor_troco:parseFloat(I.target.value)||0}),placeholder:"Ex: 50.00",style:{width:"100%",padding:"0.75rem",border:`2px solid ${ue.valor_troco?ee.colors.danger:"#ffc107"}`,borderRadius:"0.375rem",fontSize:"0.875rem",background:"white"}}),n.jsx("p",{style:{fontSize:"0.75rem",color:"#f57c00",marginTop:"0.25rem",fontWeight:"500"},children:"Cliente pagar com quanto? Informe o valor para calcular o troco."})]})]}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem",marginBottom:"1rem"},children:[n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:ee.colors.text,marginBottom:"0.5rem"},children:"Motoboy *"}),n.jsxs("select",{value:O.motoboy,onChange:I=>Cs(I.target.value),style:{width:"100%",padding:"0.75rem",border:`1px solid ${ue.motoboy?ee.colors.danger:ee.colors.border}`,borderRadius:"0.375rem",fontSize:"0.875rem"},children:[n.jsx("option",{value:"",children:"Selecione o motoboy"}),n.jsx("option",{value:"Marcio",children:"Marcio"}),n.jsx("option",{value:"Bruno",children:"Bruno"})]}),n.jsx("p",{style:{fontSize:"0.75rem",color:ee.colors.textLight,marginTop:"0.25rem"},children:"Valor calculado automaticamente"})]}),n.jsxs("div",{children:[n.jsxs("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:ee.colors.text,marginBottom:"0.5rem"},children:["Valor da Entrega (R$)",O.motoboy==="Bruno"&&R&&n.jsx("span",{style:{marginLeft:"0.5rem",padding:"2px 8px",backgroundColor:"#fef3c7",color:"#92400e",fontSize:"0.7rem",fontWeight:"bold",borderRadius:"4px",border:"1px solid #fbbf24"},children:"ENTREGA NICA"}),L&&n.jsx("span",{style:{marginLeft:"0.5rem",fontSize:"0.7rem",color:ee.colors.muted},children:"verificando..."})]}),n.jsx("input",{type:"number",step:"0.01",value:O.valor_entrega,onChange:I=>ie({...O,valor_entrega:parseFloat(I.target.value)||0}),style:{width:"100%",padding:"0.75rem",border:`1px solid ${R&&O.motoboy==="Bruno"?"#fbbf24":ee.colors.border}`,borderRadius:"0.375rem",fontSize:"0.875rem",fontWeight:"600",color:ee.colors.primary,backgroundColor:R&&O.motoboy==="Bruno"?"#fffbeb":"white"}})]})]}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem",marginBottom:"1rem"},children:[n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:ee.colors.text,marginBottom:"0.5rem"},children:"Item de Geladeira? *"}),n.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[n.jsx("button",{type:"button",onClick:()=>ie({...O,item_geladeira:!0}),style:{padding:"0.5rem 1.5rem",border:O.item_geladeira?"2px solid #0891b2":"2px solid #e2e8f0",borderRadius:"0.375rem",background:O.item_geladeira?"#cffafe":"white",color:O.item_geladeira?"#0891b2":"#64748b",fontWeight:O.item_geladeira?"600":"400",fontSize:"0.875rem",cursor:"pointer",transition:"all 0.15s"},children:"Sim"}),n.jsx("button",{type:"button",onClick:()=>ie({...O,item_geladeira:!1}),style:{padding:"0.5rem 1.5rem",border:O.item_geladeira?"2px solid #e2e8f0":"2px solid #64748b",borderRadius:"0.375rem",background:O.item_geladeira?"white":"#f1f5f9",color:O.item_geladeira?"#64748b":"#1e293b",fontWeight:O.item_geladeira?"400":"600",fontSize:"0.875rem",cursor:"pointer",transition:"all 0.15s"},children:"No"})]})]}),n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:ee.colors.text,marginBottom:"0.5rem"},children:"Reter Receita? *"}),n.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[n.jsx("button",{type:"button",onClick:()=>ie({...O,buscar_receita:!0}),style:{padding:"0.5rem 1.5rem",border:O.buscar_receita?"2px solid #f97316":"2px solid #e2e8f0",borderRadius:"0.375rem",background:O.buscar_receita?"#ffedd5":"white",color:O.buscar_receita?"#c2410c":"#64748b",fontWeight:O.buscar_receita?"600":"400",fontSize:"0.875rem",cursor:"pointer",transition:"all 0.15s"},children:"Sim"}),n.jsx("button",{type:"button",onClick:()=>ie({...O,buscar_receita:!1}),style:{padding:"0.5rem 1.5rem",border:O.buscar_receita?"2px solid #e2e8f0":"2px solid #64748b",borderRadius:"0.375rem",background:O.buscar_receita?"white":"#f1f5f9",color:O.buscar_receita?"#64748b":"#1e293b",fontWeight:O.buscar_receita?"400":"600",fontSize:"0.875rem",cursor:"pointer",transition:"all 0.15s"},children:"No"})]})]})]}),n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:ee.colors.text,marginBottom:"0.5rem"},children:"Observaes"}),n.jsx("textarea",{value:O.observacoes,onChange:I=>ie({...O,observacoes:I.target.value}),placeholder:"Informaes adicionais sobre a entrega",rows:4,style:{width:"100%",padding:"0.75rem",border:`1px solid ${ee.colors.border}`,borderRadius:"0.375rem",fontSize:"0.875rem",resize:"vertical"}})]})]}),n.jsxs("div",{style:{display:"flex",gap:"1rem",justifyContent:"flex-end"},children:[n.jsx("button",{type:"button",onClick:()=>t("/"),style:{padding:"0.75rem 1.5rem",background:"white",color:ee.colors.text,border:`1px solid ${ee.colors.border}`,borderRadius:"0.375rem",fontSize:"0.9375rem",fontWeight:"600",cursor:"pointer"},children:"Cancelar"}),n.jsx("button",{type:"submit",disabled:r,style:{padding:"0.75rem 1.5rem",background:r?ee.colors.textLight:ee.colors.primary,color:"white",border:"none",borderRadius:"0.375rem",fontSize:"0.9375rem",fontWeight:"600",cursor:r?"not-allowed":"pointer"},children:r?"Criando...":"Criar Romaneio"})]})]})]}),n.jsx(jo,{open:h,onOpenChange:m,children:n.jsxs(_s,{style:{maxWidth:"900px",maxHeight:"90vh",overflowY:"auto"},children:[n.jsx(Es,{children:n.jsx(Ns,{style:{color:"#376295"},children:"Cadastrar Novo Cliente"})}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Nome Completo *"}),n.jsx("input",{type:"text",value:x.nome,onChange:I=>p({...x,nome:I.target.value}),placeholder:"Digite o nome completo",className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-100"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"CPF"}),n.jsx("input",{type:"text",value:x.cpf,onChange:I=>p({...x,cpf:I.target.value}),placeholder:"000.000.000-00",className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-100"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Telefone *"}),n.jsx("input",{type:"text",value:x.telefone,onChange:I=>p({...x,telefone:I.target.value}),placeholder:"(00) 00000-0000",className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-100"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"E-mail"}),n.jsx("input",{type:"email",value:x.email,onChange:I=>p({...x,email:I.target.value}),placeholder:"cliente@email.com",className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-100"})]})]}),n.jsxs("div",{className:"space-y-3 pt-2 border-t border-slate-200",children:[n.jsxs("div",{className:"flex justify-between items-center pt-2",children:[n.jsx("h3",{className:"text-sm font-semibold text-slate-700",children:"Endereos"}),n.jsxs("button",{type:"button",onClick:rn,className:"flex items-center gap-2 px-3 py-1.5 text-sm border border-slate-300 rounded-lg font-medium text-slate-700 hover:bg-slate-50 transition-colors",children:[n.jsx(pu,{className:"w-4 h-4"}),"Adicionar Endereo"]})]}),x.enderecos.map((I,Q)=>n.jsxs("div",{className:"bg-slate-50 rounded-lg border border-slate-200 p-4",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsxs("h4",{className:"text-sm font-semibold text-slate-700",children:["Endereo ",Q+1," ",Q===0&&"(Principal)"]}),x.enderecos.length>1&&n.jsx("button",{type:"button",onClick:()=>kn(Q),className:"p-1.5 hover:bg-red-50 rounded transition-colors",children:n.jsx(Trash2,{className:"w-4 h-4 text-red-500"})})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"CEP"}),n.jsx("input",{type:"text",value:I.cep||"",onChange:se=>ir(Q,"cep",se.target.value),placeholder:"00000-000",className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-100"})]}),n.jsxs("div",{className:"grid grid-cols-[2fr_1fr] gap-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Rua/Logradouro *"}),n.jsx("input",{type:"text",value:I.logradouro,onChange:se=>ir(Q,"logradouro",se.target.value),placeholder:"Nome da rua",className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-100"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Nmero *"}),n.jsx("input",{type:"text",value:I.numero,onChange:se=>ir(Q,"numero",se.target.value),placeholder:"123",className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-100"})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Bairro"}),n.jsx("input",{type:"text",value:I.bairro,onChange:se=>ir(Q,"bairro",se.target.value),placeholder:"Nome do bairro",className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-100"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Cidade *"}),n.jsx("input",{type:"text",value:I.cidade,onChange:se=>ir(Q,"cidade",se.target.value),placeholder:"Ex: Balnerio Cambori",className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-100"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Complemento"}),n.jsx("input",{type:"text",value:I.complemento,onChange:se=>ir(Q,"complemento",se.target.value),placeholder:"Apto, Bloco, etc.",className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-100"})]})]})]},`endereco-${Q}`))]}),n.jsxs("div",{className:"flex gap-3 pt-4",children:[n.jsx("button",{type:"button",onClick:()=>{m(!1),p({nome:"",cpf:"",telefone:"",email:"",enderecos:[{logradouro:"",numero:"",complemento:"",bairro:"",cidade:"",cep:"",is_principal:!0}]})},className:"flex-1 px-4 py-2 border border-slate-300 rounded-lg font-medium text-slate-700 hover:bg-slate-50 transition-colors",children:"Cancelar"}),n.jsx("button",{type:"button",onClick:Rn,className:"flex-1 px-4 py-2 rounded-lg font-medium text-white transition-colors",style:{backgroundColor:"#376295"},children:"Cadastrar"})]})]})]})})]})}const CP={Marcio:{BC:9,"NOVA ESPERANA":11,CAMBORI:16,TABULEIRO:11,"MONTE ALEGRE":11,BARRA:11,ESTALEIRO:16,TAQUARAS:16,LARANJEIRAS:16,ITAJAI:19,ESPINHEIROS:23,"PRAIA DOS AMORES":13.5,"PRAIA BRAVA":13.5,ITAPEMA:27,NAVEGANTES:30,PENHA:52,"PORTO BELO":52,TIJUCAS:52,PIARRAS:52,BOMBINHAS:72,CLINICA:9},Bruno:{BC:7,"NOVA ESPERANA":9,CAMBORI:14,TABULEIRO:9,"MONTE ALEGRE":9,BARRA:9,ESTALEIRO:14,TAQUARAS:14,LARANJEIRAS:14,ITAJAI:17,ESPINHEIROS:21,"PRAIA DOS AMORES":11.5,"PRAIA BRAVA":11.5,ITAPEMA:25,NAVEGANTES:40,PENHA:50,"PORTO BELO":30,TIJUCAS:50,PIARRAS:50,BOMBINHAS:50,CLINICA:7}},kP={BC:12,"NOVA ESPERANA":15,CAMBORI:20,TABULEIRO:15,"MONTE ALEGRE":15,BARRA:15,ESTALEIRO:25,TAQUARAS:25,LARANJEIRAS:25,ITAJAI:25,ESPINHEIROS:35,"PRAIA DOS AMORES":15,"PRAIA BRAVA":15,ITAPEMA:35,NAVEGANTES:50,PENHA:75,"PORTO BELO":60,TIJUCAS:87,PIARRAS:80,BOMBINHAS:90,CLINICA:12},RP={BC:"Marcio","NOVA ESPERANA":"Marcio",CAMBORI:"Marcio",TABULEIRO:"Marcio","MONTE ALEGRE":"Marcio",BARRA:"Marcio",ESTALEIRO:"Marcio",CLINICA:"Marcio",TAQUARAS:"Bruno",LARANJEIRAS:"Bruno",ITAJAI:"Bruno",ESPINHEIROS:"Bruno","PRAIA DOS AMORES":"Bruno","PRAIA BRAVA":"Bruno",ITAPEMA:"Bruno",NAVEGANTES:"Bruno",PENHA:"Bruno","PORTO BELO":"Bruno",TIJUCAS:"Bruno",PIARRAS:"Bruno",BOMBINHAS:"Bruno"},$v=["BC","NOVA ESPERANA","CAMBORI","TABULEIRO","MONTE ALEGRE","BARRA","ESTALEIRO","TAQUARAS","LARANJEIRAS","ITAJAI","ESPINHEIROS","PRAIA DOS AMORES","PRAIA BRAVA","ITAPEMA","NAVEGANTES","PENHA","PORTO BELO","TIJUCAS","PIARRAS","BOMBINHAS","CLINICA","OUTRO"],Mf=["Aguardando","Boleto","Link Aguardando","Pagar MP","Pago Dinheiro","Pago Link","Pago Mquina","Pago Pix","Pix Aguardando","Receber Dinheiro","Receber Mquina","S Entregar","Via na Pasta"],Bv={"balnerio cambori":{centro:"BC",estados:"BC",pioneiros:"BC","nova esperana":"NOVA ESPERANA",naes:"BC",barra:"BARRA","barra sul":"BARRA",estaleiro:"ESTALEIRO",estaleirinho:"ESTALEIRO",taquaras:"TAQUARAS",laranjeiras:"LARANJEIRAS","praia dos amores":"PRAIA DOS AMORES","praia brava":"PRAIA BRAVA",tabuleiro:"TABULEIRO","monte alegre":"MONTE ALEGRE",default:"BC"},bc:{default:"BC"},"balneario camboriu":{centro:"BC",estados:"BC",pioneiros:"BC","nova esperana":"NOVA ESPERANA","nova esperanca":"NOVA ESPERANA",naes:"BC",nacoes:"BC",barra:"BARRA","barra sul":"BARRA",estaleiro:"ESTALEIRO",estaleirinho:"ESTALEIRO",taquaras:"TAQUARAS",laranjeiras:"LARANJEIRAS","praia dos amores":"PRAIA DOS AMORES","praia brava":"PRAIA BRAVA",tabuleiro:"TABULEIRO","monte alegre":"MONTE ALEGRE",default:"BC"},cambori:{default:"CAMBORI"},camboriu:{default:"CAMBORI"},itaja:{centro:"ITAJAI","vila real":"ITAJAI",espinheiros:"ESPINHEIROS",default:"ITAJAI"},itajai:{centro:"ITAJAI","vila real":"ITAJAI",espinheiros:"ESPINHEIROS",default:"ITAJAI"},itapema:{default:"ITAPEMA"},navegantes:{default:"NAVEGANTES"},penha:{default:"PENHA"},"porto belo":{default:"PORTO BELO"},tijucas:{default:"TIJUCAS"},piarras:{default:"PIARRAS"},picarras:{default:"PIARRAS"},bombinhas:{default:"BOMBINHAS"}},Fv=t=>{const e=(t==null?void 0:t.trim())||"";return e.toUpperCase()==="BC"?"Balnerio Cambori":e},wd=(t,e)=>{const r=(t==null?void 0:t.toLowerCase().trim())||"",o=(e==null?void 0:e.toLowerCase().trim())||"";if(console.log(" Detectando regio:",{cidade:r,bairro:o}),Bv[r]){const i=Bv[r];return o==="centro"?(console.log(" Bairro Centro - usando regio padro da cidade:",i.default),i.default):o&&i[o]&&i[o]!==i.default?(console.log(" Regio detectada por bairro cadastrado:",i[o]),i[o]):(console.log(" Regio detectada por cidade (default):",i.default),i.default)}return console.log(" Nenhuma regio detectada"),""};function AP(){const t=Ht(),[e]=My(),r=e.get("id"),o=Sn(),[i,l]=y.useState(!1),[d,u]=y.useState(!0),[h,m]=y.useState(""),[x,p]=y.useState([]),[w,b]=y.useState(!1),[E,_]=y.useState({nome:"",cpf:"",telefone:"",email:"",enderecos:[{logradouro:"",numero:"",complemento:"",bairro:"",cidade:"",cep:"",regiao:"",ponto_referencia:"",observacoes:"",is_principal:!0}]}),[j,N]=y.useState([]),[S,k]=y.useState([]),[P,z]=y.useState([]),[A,q]=y.useState(null),[K,de]=y.useState(!1),[V,T]=y.useState(null),[Y,te]=y.useState({logradouro:"",numero:"",complemento:"",bairro:"",cidade:"",cep:"",observacoes:""}),[U,he]=y.useState({cliente_id:"",cliente_nome:"",numero_requisicao:"",endereco_id:"",endereco:"",regiao:"",outra_cidade:"",data_entrega:new Date().toISOString().split("T")[0],periodo:"Tarde",forma_pagamento:"",motoboy:"",valor_entrega:0,item_geladeira:!1,buscar_receita:!1,observacoes:"",valor_venda:0}),$=["Receber Dinheiro","Receber Mquina","Pagar MP"],[Z,M]=y.useState({}),[ae,R]=y.useState(!1),[D,L]=y.useState(!1),[F,O]=y.useState(""),[ie,ue]=y.useState([]),[le,X]=y.useState(-1),[ye,be]=y.useState(!1),Pe=async(G,I,Q,se)=>{if(Q!=="Bruno")return R(!1),!1;L(!0);try{const{data:ce}=await _e.from("motoboys").select("id").eq("nome","Bruno").single();if(!ce)return R(!1),!1;let we=_e.from("entregas").select("*",{count:"exact",head:!0}).eq("motoboy_id",ce.id).eq("data_entrega",G).eq("periodo","Manh");se&&(we=we.neq("id",se));const{count:Me}=await we;let et=_e.from("entregas").select("*",{count:"exact",head:!0}).eq("motoboy_id",ce.id).eq("data_entrega",G).eq("periodo","Tarde");se&&(et=et.neq("id",se));const{count:ot}=await et,Nt=(I==="Manh"?Me===0:ot===0)&&(I==="Manh"?ot===0||ot===1:Me===0||Me===1);return R(Nt),Nt}catch(ce){return console.error("Erro ao verificar entrega nica:",ce),R(!1),!1}finally{L(!1)}},Ae=()=>{_({...E,enderecos:[...E.enderecos,{logradouro:"",numero:"",complemento:"",bairro:"",cidade:"",cep:"",regiao:"",ponto_referencia:"",observacoes:"",is_principal:!1}]})},Ue=G=>{if(E.enderecos.length===1){ge.error(" necessrio pelo menos um endereo");return}const I=E.enderecos.filter((Q,se)=>se!==G);_({...E,enderecos:I})},We=(G,I,Q)=>{const se=[...E.enderecos];se[G]={...se[G],[I]:Q},_({...E,enderecos:se})};y.useEffect(()=>{if(Y.cidade&&Y.bairro&&K){const G=wd(Y.cidade,Y.bairro);console.log(" useEffect detectando regio:",{cidade:Y.cidade,bairro:Y.bairro,regiaoDetectada:G}),G&&G!==U.regiao&&(console.log(" Atualizando regio para:",G),it(G))}},[Y.cidade,Y.bairro,K]),y.useEffect(()=>{if(!r){ge.error("ID da entrega no fornecido"),t("/");return}async function G(){var I,Q,se;try{u(!0);const{data:ce,error:we}=await _e.from("entregas").select(`
            *,
            cliente:clientes(id, nome, telefone),
            endereco:enderecos(id, endereco_completo, logradouro, numero, complemento, bairro, cidade, cep, regiao),
            motoboy:motoboys(id, nome)
          `).eq("id",r).single();if(we)throw we;if(!ce){ge.error("Entrega no encontrada"),t("/");return}const Me=ce.endereco_logradouro?{id:ce.endereco_id,logradouro:ce.endereco_logradouro,numero:ce.endereco_numero,complemento:ce.endereco_complemento,bairro:ce.endereco_bairro,cidade:ce.endereco_cidade,cep:ce.endereco_cep,regiao:ce.regiao,endereco_completo:`${ce.endereco_logradouro}, ${ce.endereco_numero}${ce.endereco_complemento?" - "+ce.endereco_complemento:""} - ${ce.endereco_bairro}, ${ce.endereco_cidade}`}:ce.endereco;he({cliente_id:ce.cliente_id,cliente_nome:((I=ce.cliente)==null?void 0:I.nome)||"",numero_requisicao:ce.requisicao,endereco_id:ce.endereco_id||"",endereco:(Me==null?void 0:Me.endereco_completo)||ce.endereco_destino||"",regiao:ce.regiao||"",outra_cidade:ce.outra_cidade||"",data_entrega:ce.data_entrega||"",periodo:ce.periodo||"Tarde",forma_pagamento:ce.forma_pagamento||"",motoboy:((Q=ce.motoboy)==null?void 0:Q.nome)||"",valor_entrega:ce.valor||0,item_geladeira:ce.item_geladeira||!1,buscar_receita:ce.buscar_receita||!1,observacoes:ce.observacoes||"",valor_venda:ce.valor_venda||0}),O(ce.forma_pagamento||"");const et=[];if(ce.cliente&&et.push(ce.cliente),ce.clientes_adicionais&&ce.clientes_adicionais.length>0){const{data:Ke,error:pt}=await _e.from("clientes").select("id, nome, telefone").in("id",ce.clientes_adicionais);!pt&&Ke&&et.push(...Ke)}N(et),m("");const ot=[];for(const Ke of et){const{data:pt,error:Nt}=await _e.from("enderecos").select("*").eq("cliente_id",Ke.id).order("is_principal",{ascending:!1});if(!Nt&&pt){const nn=pt.map(No=>({...No,cliente_nome:Ke.nome}));ot.push(...nn)}}if(z(ot),ce.cliente_id&&await dt(ce.cliente_id),ce.endereco_id){const Ke=ot.find(pt=>pt.id===ce.endereco_id);Ke?q(Ke):Me&&q({...Me,cliente_id:ce.cliente_id,cliente_nome:((se=ce.cliente)==null?void 0:se.nome)||""})}u(!1)}catch(ce){console.error("Erro ao carregar entrega:",ce),ge.error("Erro ao carregar dados da entrega"),u(!1)}}G()},[r,t]);const Rt=async G=>{if(m(G),G.length<2){p([]);return}try{const{data:I,error:Q}=await _e.from("clientes").select("*").ilike("nome",`%${G}%`).limit(5);if(Q)throw Q;p(I||[])}catch(I){console.error("Erro ao buscar clientes:",I)}},Bt=async G=>{if(j.find(I=>I.id===G.id)){ge.error("Cliente j adicionado!");return}N([...j,G]),j.length===0&&(he({...U,cliente_id:G.id,cliente_nome:G.nome,endereco_id:"",endereco:""}),await dt(G.id));try{const{data:I,error:Q}=await _e.from("enderecos").select("*").eq("cliente_id",G.id).order("is_principal",{ascending:!1});if(!Q&&I){const se=I.map(ce=>({...ce,cliente_nome:G.nome}));z(ce=>{const we=[...ce,...se];return ce.length===0&&se.length>0&&q(se[0]),we})}}catch(I){console.error("Erro ao buscar endereos do cliente:",I)}m(""),p([]),ge.success(`Cliente ${G.nome} adicionado!`)},Et=G=>{if(j.length===1){ge.error("Deve haver pelo menos um cliente!");return}P.find(se=>se.id===(V==null?void 0:V.id)&&se.cliente_id===G)&&T(null),N(j.filter(se=>se.id!==G));const Q=P.filter(se=>se.cliente_id!==G);if(z(Q),A&&A.cliente_id===G&&q(null),U.cliente_id===G){const se=j.find(ce=>ce.id!==G);se&&(he({...U,cliente_id:se.id,cliente_nome:se.nome}),dt(se.id))}},dt=async G=>{console.log("Buscando endereos para cliente ID:",G);try{const{data:I,error:Q}=await _e.from("enderecos").select("*").eq("cliente_id",G).order("is_principal",{ascending:!1});if(console.log("Endereos encontrados:",I),console.log("Erro ao buscar endereos:",Q),Q)throw Q;k(I||[]),I&&I.length===1&&(console.log("Selecionando endereo automaticamente:",I[0]),ut(I[0]))}catch(I){console.error("Erro ao buscar endereos:",I),k([])}},ut=G=>{console.log("Selecionando endereo:",G),q(G),he(I=>({...I,endereco_id:G.id,endereco:G.endereco_completo||`${G.logradouro}, ${G.numero} - ${G.bairro}`,regiao:G.regiao||""})),de(!1),G.regiao&&it(G.regiao)},wr=G=>{T({id:G.id,logradouro:G.logradouro||"",numero:G.numero||"",complemento:G.complemento||"",bairro:G.bairro||"",cidade:G.cidade||"",cep:G.cep||"",regiao:G.regiao||""})},jr=(G,I,Q=ae)=>{var se;return G==="OUTRO"||!G||!I?0:I==="Bruno"&&Q?kP[G]||0:((se=CP[I])==null?void 0:se[G])||0};y.useEffect(()=>{U.motoboy==="Bruno"&&U.data_entrega&&U.periodo?Pe(U.data_entrega,U.periodo,U.motoboy,r):R(!1)},[U.motoboy,U.data_entrega,U.periodo]),y.useEffect(()=>{if(U.motoboy==="Bruno"&&U.regiao&&U.regiao!=="OUTRO"){const G=jr(U.regiao,U.motoboy,ae);he(I=>({...I,valor_entrega:G}))}},[ae]);const it=G=>{console.log("Mudando regio para:",G),he(I=>{const Q=G==="OUTRO"?I.motoboy:RP[G]||"Marcio",se=jr(G,Q,Q==="Bruno"?ae:!1);return console.log("Novo motoboy:",Q,"Novo valor:",se,"Entrega nica:",ae),{...I,regiao:G,motoboy:Q,valor_entrega:se}})},Kt=G=>{const I=jr(U.regiao,G,G==="Bruno"?ae:!1);he({...U,motoboy:G,valor_entrega:I})},Cs=()=>{const G={};return j.length===0&&(G.cliente="Adicione pelo menos um cliente"),U.numero_requisicao||(G.requisicao="Nmero de requisio obrigatrio"),A||(G.endereco="Selecione um endereo para a entrega"),U.regiao||(G.regiao="Selecione a regio"),U.regiao==="OUTRO"&&!U.outra_cidade&&(G.outra_cidade="Informe a cidade"),U.data_entrega||(G.data="Data obrigatria"),U.forma_pagamento||(G.pagamento="Forma de pagamento obrigatria"),U.motoboy||(G.motoboy="Selecione o motoboy"),$.includes(U.forma_pagamento)&&(!U.valor_venda||U.valor_venda<=0)&&(G.valor_venda="Informe o valor a cobrar"),M(G),Object.keys(G).length===0},ks=G=>{if(O(G),he(I=>({...I,forma_pagamento:G})),X(-1),be(!0),G.length===0)ue(Mf);else{const I=Mf.filter(Q=>Q.toLowerCase().includes(G.toLowerCase()));ue(I)}},rn=G=>{ie.length!==0&&(G.key==="ArrowDown"?(G.preventDefault(),X(I=>I<ie.length-1?I+1:0)):G.key==="ArrowUp"?(G.preventDefault(),X(I=>I>0?I-1:ie.length-1)):G.key==="Enter"&&le>=0?(G.preventDefault(),kn(ie[le])):G.key==="Escape"&&be(!1))},kn=G=>{he(I=>({...I,forma_pagamento:G})),O(G),be(!1),ue([]),X(-1)},ir=async()=>{if(!E.nome||!E.telefone){ge.error("Preencha pelo menos nome e telefone");return}if(!E.enderecos.some(I=>I.logradouro&&I.numero&&I.cidade)){ge.error("Preencha pelo menos um endereo completo (Rua, Nmero e Cidade)");return}try{const{data:I,error:Q}=await _e.from("clientes").insert([{nome:E.nome,cpf:E.cpf||null,telefone:E.telefone,email:E.email||null}]).select().single();if(Q)throw Q;const se=E.enderecos.filter(we=>we.logradouro&&we.numero&&we.cidade).map((we,Me)=>{const et=`${we.logradouro}, ${we.numero}${we.complemento?" - "+we.complemento:""} - ${we.bairro}, ${we.cidade} - SC`,ot=wd(we.cidade,we.bairro);return{cliente_id:I.id,logradouro:we.logradouro,numero:we.numero,complemento:we.complemento||null,bairro:we.bairro||null,cidade:we.cidade,estado:"SC",cep:we.cep||null,regiao:ot||we.regiao||null,ponto_referencia:we.ponto_referencia||null,observacoes:we.observacoes||null,is_principal:Me===0,endereco_completo:et}}),{error:ce}=await _e.from("enderecos").insert(se);if(ce)throw ce;ge.success("Cliente cadastrado com sucesso!"),Bt(I),_({nome:"",cpf:"",telefone:"",email:"",enderecos:[{logradouro:"",numero:"",complemento:"",bairro:"",cidade:"",cep:"",regiao:"",ponto_referencia:"",observacoes:"",is_principal:!0}]}),b(!1),m(""),p([])}catch(I){console.error("Erro ao cadastrar cliente:",I),ge.error("Erro ao cadastrar cliente: "+I.message)}},Rn=async G=>{var Q;if(G.preventDefault(),!Cs()){ge.error("Por favor, preencha todos os campos obrigatrios");return}l(!0);const I=ge.loading("Salvando alteraes...");try{const{data:se}=await _e.from("entregas").select("id").eq("requisicao",U.numero_requisicao).neq("id",r).maybeSingle();if(se){ge.error("J existe um romaneio com esse nmero de requisio!",{id:I}),l(!1);return}const ce=A.endereco_completo||`${A.logradouro}, ${A.numero} - ${A.bairro}, ${A.cidade}`,we={endereco_logradouro:A.logradouro,endereco_numero:A.numero,endereco_complemento:A.complemento,endereco_bairro:A.bairro,endereco_cidade:A.cidade,endereco_cep:A.cep};let Me=null;if(U.motoboy){const{data:pt,error:Nt}=await _e.from("motoboys").select("id").eq("nome",U.motoboy).limit(1);Nt&&console.error("Erro ao buscar motoboy:",Nt),Me=((Q=pt==null?void 0:pt[0])==null?void 0:Q.id)||null,console.log("Motoboy selecionado:",U.motoboy,"ID encontrado:",Me)}const et=j.slice(1).map(pt=>pt.id);console.log("Salvando entrega com:",{motoboy_id:Me,valor:U.valor_entrega,regiao:U.regiao});const{data:ot,error:Ke}=await _e.from("entregas").update({cliente_id:U.cliente_id,endereco_id:A.id,requisicao:U.numero_requisicao,endereco_destino:ce,regiao:U.regiao,outra_cidade:U.regiao==="OUTRO"?U.outra_cidade:null,data_entrega:U.data_entrega,periodo:U.periodo,motoboy_id:Me,forma_pagamento:U.forma_pagamento,valor:U.valor_entrega,item_geladeira:U.item_geladeira,buscar_receita:U.buscar_receita,observacoes:U.observacoes,clientes_adicionais:et,valor_venda:$.includes(U.forma_pagamento)?U.valor_venda:0,...we}).eq("id",r).select().single();if(Ke)throw Ke;o.invalidateQueries({queryKey:["entregas"]}),o.invalidateQueries({queryKey:["receitas"]}),ge.success("Romaneio atualizado com sucesso!",{id:I}),setTimeout(()=>t("/"),800)}catch(se){console.error("Erro ao criar romaneio:",se),ge.error("Erro ao criar romaneio: "+se.message,{id:I})}finally{l(!1)}};return d?n.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100",children:[n.jsx("div",{className:"py-8 shadow-sm mb-6",style:{background:"linear-gradient(135deg, #457bba 0%, #890d5d 100%)"},children:n.jsx("div",{className:"max-w-7xl mx-auto px-6",children:n.jsx("h1",{className:"text-4xl font-bold text-white",children:"Editar Romaneio"})})}),n.jsx("div",{className:"max-w-4xl mx-auto px-6",children:n.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-12 text-center",children:n.jsx("div",{className:"text-xl text-slate-600",children:"Carregando dados da entrega..."})})})]}):n.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 pb-8",children:[n.jsx("div",{className:"py-8 shadow-sm mb-6",style:{background:"linear-gradient(135deg, #457bba 0%, #890d5d 100%)"},children:n.jsx("div",{className:"max-w-4xl mx-auto px-6",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("button",{onClick:()=>t(-1),className:"p-2 rounded-lg bg-white/20 hover:bg-white/30 transition-colors",children:n.jsx(kt,{className:"w-6 h-6 text-white"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-4xl font-bold text-white",children:"Editar Romaneio"}),n.jsx("p",{className:"text-base text-white opacity-90 mt-1",children:"Edite as informaes da ordem de entrega"})]})]})})}),n.jsx("div",{className:"max-w-4xl mx-auto px-6",children:n.jsxs("form",{onSubmit:Rn,children:[n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6 mb-6",children:[n.jsx("h3",{className:"text-lg font-bold text-slate-900 mb-6",style:{color:"#376295"},children:"Informaes do Romaneio"}),n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Cliente(s) *"}),n.jsx("input",{type:"text",value:h,onChange:G=>Rt(G.target.value),placeholder:"Buscar cliente por nome, CPF ou telefone...",className:"w-full px-4 py-3 border rounded-lg text-sm focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-100",style:{borderColor:Z.cliente?"#ef4444":"#cbd5e1"}}),x.length>0&&n.jsx("div",{className:"absolute z-50 bg-white border border-slate-300 rounded-lg mt-1 max-h-[200px] overflow-y-auto shadow-lg",children:x.map(G=>n.jsxs("div",{onClick:()=>Bt(G),className:"p-3 cursor-pointer border-b border-slate-200 hover:bg-slate-50 transition-colors",children:[n.jsx("p",{className:"font-semibold text-slate-900 m-0",children:G.nome}),n.jsx("p",{className:"text-xs text-slate-600 m-0",children:G.telefone})]},G.id))}),h.length>=2&&x.length===0&&n.jsx("button",{type:"button",onClick:()=>b(!0),className:"mt-2 px-4 py-2 rounded-lg font-semibold text-sm",style:{backgroundColor:"#376295",color:"white"},children:"+ Cadastrar Novo Cliente"}),Z.cliente&&n.jsx("p",{className:"text-red-600 text-xs mt-1",children:Z.cliente})]}),j.length>0&&n.jsxs("div",{className:"mb-4",children:[n.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:["Clientes Selecionados (",j.length,")"]}),n.jsx("div",{className:"flex flex-wrap gap-2",children:j.map((G,I)=>n.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 bg-blue-50 rounded-full text-sm",children:[n.jsxs("span",{className:"font-medium text-slate-900",children:[G.nome,I===0&&n.jsx("span",{className:"ml-1 text-xs text-slate-500",children:"(Principal)"})]}),n.jsx("button",{type:"button",onClick:()=>Et(G.id),className:"text-red-600 hover:text-red-800 font-bold text-lg leading-none",title:"Remover cliente",children:""})]},G.id))})]}),j.length>0&&n.jsxs("div",{style:{marginBottom:"1rem"},children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"600",color:ee.colors.text,marginBottom:"0.75rem"},children:"Endereo de Entrega *"}),j.map(G=>{const I=P.filter(Q=>Q.cliente_id===G.id);return n.jsxs("div",{style:{marginBottom:"1rem",padding:"1rem",background:ee.colors.background,borderRadius:"0.5rem",border:`1px solid ${ee.colors.border}`},children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.75rem"},children:[n.jsx("h4",{style:{margin:0,fontSize:"0.875rem",fontWeight:"600",color:ee.colors.primary},children:G.nome}),n.jsx("button",{type:"button",onClick:()=>de(K===G.id?null:G.id),style:{padding:"0.25rem 0.75rem",background:"white",color:ee.colors.primary,border:`1px solid ${ee.colors.primary}`,borderRadius:"0.25rem",fontSize:"0.75rem",cursor:"pointer"},children:K===G.id?"Cancelar":"+ Novo Endereo"})]}),K===G.id&&n.jsxs("div",{style:{padding:"1rem",background:"white",borderRadius:"0.375rem",border:`1px solid ${ee.colors.border}`,marginBottom:"0.75rem"},children:[n.jsx("h5",{style:{fontSize:"0.8rem",fontWeight:"600",marginBottom:"0.75rem"},children:"Cadastrar Novo Endereo"}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"2fr 1fr",gap:"0.5rem",marginBottom:"0.5rem"},children:[n.jsx("input",{type:"text",value:Y.logradouro,onChange:Q=>te({...Y,logradouro:Q.target.value}),placeholder:"Rua *",style:{padding:"0.5rem",border:`1px solid ${ee.colors.border}`,borderRadius:"0.375rem",fontSize:"0.875rem"}}),n.jsx("input",{type:"text",value:Y.numero,onChange:Q=>te({...Y,numero:Q.target.value}),placeholder:"Nmero *",style:{padding:"0.5rem",border:`1px solid ${ee.colors.border}`,borderRadius:"0.375rem",fontSize:"0.875rem"}})]}),n.jsx("input",{type:"text",value:Y.complemento,onChange:Q=>te({...Y,complemento:Q.target.value}),placeholder:"Complemento",style:{width:"100%",padding:"0.5rem",border:`1px solid ${ee.colors.border}`,borderRadius:"0.375rem",fontSize:"0.875rem",marginBottom:"0.5rem"}}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"0.5rem",marginBottom:"0.5rem"},children:[n.jsx("input",{type:"text",value:Y.bairro,onChange:Q=>te({...Y,bairro:Q.target.value}),placeholder:"Bairro *",list:"bairros-sugestoes",style:{padding:"0.5rem",border:`1px solid ${ee.colors.border}`,borderRadius:"0.375rem",fontSize:"0.875rem"}}),n.jsx("input",{type:"text",value:Y.cidade,onChange:Q=>{const se=Fv(Q.target.value);te({...Y,cidade:se})},placeholder:"Cidade *",list:"cidades-sugestoes",style:{padding:"0.5rem",border:`1px solid ${ee.colors.border}`,borderRadius:"0.375rem",fontSize:"0.875rem"}})]}),n.jsx("input",{type:"text",value:Y.cep,onChange:Q=>te({...Y,cep:Q.target.value}),placeholder:"CEP",style:{width:"100%",padding:"0.5rem",border:`1px solid ${ee.colors.border}`,borderRadius:"0.375rem",fontSize:"0.875rem",marginBottom:"0.5rem"}}),n.jsx("textarea",{value:Y.observacoes,onChange:Q=>te({...Y,observacoes:Q.target.value}),placeholder:"Observaes (opcional)",rows:2,style:{width:"100%",padding:"0.5rem",border:`1px solid ${ee.colors.border}`,borderRadius:"0.375rem",fontSize:"0.875rem",marginBottom:"0.75rem",resize:"vertical"}}),n.jsx("button",{type:"button",onClick:async()=>{if(!Y.logradouro||!Y.numero||!Y.bairro||!Y.cidade){ge.error("Preencha todos os campos obrigatrios");return}try{const Q=`${Y.logradouro}, ${Y.numero}${Y.complemento?" - "+Y.complemento:""} - ${Y.bairro}, ${Y.cidade} - SC`,se=wd(Y.cidade,Y.bairro),{data:ce,error:we}=await _e.from("enderecos").insert([{cliente_id:G.id,logradouro:Y.logradouro,numero:Y.numero,complemento:Y.complemento||null,bairro:Y.bairro,cidade:Y.cidade,estado:"SC",cep:Y.cep||null,regiao:se||"",is_principal:!1,endereco_completo:Q,observacoes:Y.observacoes||null}]).select().single();if(we)throw we;const Me={...ce,cliente_nome:G.nome};z([...P,Me]),q(Me),se&&it(se),te({logradouro:"",numero:"",complemento:"",bairro:"",cidade:"",cep:"",observacoes:""}),de(null),ge.success("Endereo cadastrado com sucesso!")}catch(Q){console.error("Erro ao salvar endereo:",Q),ge.error("Erro ao salvar endereo")}},style:{padding:"0.5rem 1rem",background:ee.colors.primary,color:"white",border:"none",borderRadius:"0.375rem",fontSize:"0.875rem",cursor:"pointer"},children:"Salvar Endereo"})]}),I.length>0?I.map(Q=>(V==null?void 0:V.id)===Q.id?n.jsxs("div",{style:{padding:"0.75rem",border:`2px solid ${ee.colors.primary}`,borderRadius:"0.375rem",marginBottom:"0.5rem",background:"white"},children:[n.jsx("h5",{style:{fontSize:"0.8rem",fontWeight:"600",marginBottom:"0.75rem"},children:"Editando Endereo"}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"2fr 1fr",gap:"0.5rem",marginBottom:"0.5rem"},children:[n.jsx("input",{type:"text",value:V.logradouro,onChange:se=>T({...V,logradouro:se.target.value}),placeholder:"Rua *",style:{padding:"0.5rem",border:`1px solid ${ee.colors.border}`,borderRadius:"0.375rem",fontSize:"0.875rem"}}),n.jsx("input",{type:"text",value:V.numero,onChange:se=>T({...V,numero:se.target.value}),placeholder:"Nmero *",style:{padding:"0.5rem",border:`1px solid ${ee.colors.border}`,borderRadius:"0.375rem",fontSize:"0.875rem"}})]}),n.jsx("input",{type:"text",value:V.complemento,onChange:se=>T({...V,complemento:se.target.value}),placeholder:"Complemento",style:{width:"100%",padding:"0.5rem",border:`1px solid ${ee.colors.border}`,borderRadius:"0.375rem",fontSize:"0.875rem",marginBottom:"0.5rem"}}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"0.5rem",marginBottom:"0.5rem"},children:[n.jsx("input",{type:"text",value:V.bairro,onChange:se=>T({...V,bairro:se.target.value}),placeholder:"Bairro *",list:"bairros-sugestoes-edit",style:{padding:"0.5rem",border:`1px solid ${ee.colors.border}`,borderRadius:"0.375rem",fontSize:"0.875rem"}}),n.jsx("input",{type:"text",value:V.cidade,onChange:se=>{const ce=Fv(se.target.value);T({...V,cidade:ce})},placeholder:"Cidade *",list:"cidades-sugestoes-edit",style:{padding:"0.5rem",border:`1px solid ${ee.colors.border}`,borderRadius:"0.375rem",fontSize:"0.875rem"}})]}),n.jsx("input",{type:"text",value:V.cep,onChange:se=>T({...V,cep:se.target.value}),placeholder:"CEP",style:{width:"100%",padding:"0.5rem",border:`1px solid ${ee.colors.border}`,borderRadius:"0.375rem",fontSize:"0.875rem",marginBottom:"0.75rem"}}),n.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[n.jsx("button",{type:"button",onClick:async()=>{if(!V.logradouro||!V.numero||!V.bairro||!V.cidade){ge.error("Preencha todos os campos obrigatrios");return}try{const se=`${V.logradouro}, ${V.numero}${V.complemento?" - "+V.complemento:""} - ${V.bairro}, ${V.cidade} - SC`,ce=wd(V.cidade,V.bairro),{error:we}=await _e.from("enderecos").update({logradouro:V.logradouro,numero:V.numero,complemento:V.complemento||null,bairro:V.bairro,cidade:V.cidade,cep:V.cep||null,regiao:ce||V.regiao,endereco_completo:se}).eq("id",V.id);if(we)throw we;const Me={...Q,...V,endereco_completo:se,regiao:ce||V.regiao};z(P.map(et=>et.id===V.id?Me:et)),(A==null?void 0:A.id)===V.id&&(q(Me),ce&&it(ce)),T(null),ge.success("Endereo atualizado com sucesso!")}catch(se){console.error("Erro ao atualizar endereo:",se),ge.error("Erro ao atualizar endereo")}},style:{flex:1,padding:"0.5rem",background:ee.colors.primary,color:"white",border:"none",borderRadius:"0.375rem",fontSize:"0.875rem",cursor:"pointer"},children:"Salvar"}),n.jsx("button",{type:"button",onClick:()=>T(null),style:{flex:1,padding:"0.5rem",background:"white",color:ee.colors.text,border:`1px solid ${ee.colors.border}`,borderRadius:"0.375rem",fontSize:"0.875rem",cursor:"pointer"},children:"Cancelar"})]})]},Q.id):n.jsx("div",{style:{padding:"0.75rem",border:`2px solid ${(A==null?void 0:A.id)===Q.id?ee.colors.primary:ee.colors.border}`,borderRadius:"0.375rem",marginBottom:"0.5rem",background:(A==null?void 0:A.id)===Q.id?"#f0f9ff":"white",cursor:"pointer"},onClick:()=>ut(Q),children:n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"start"},children:[n.jsxs("div",{style:{flex:1,display:"flex",alignItems:"center",gap:"0.5rem"},children:[n.jsx("input",{type:"radio",name:"endereco",checked:(A==null?void 0:A.id)===Q.id,onChange:()=>ut(Q),style:{cursor:"pointer"}}),n.jsxs("div",{children:[n.jsx("p",{style:{margin:0,fontWeight:"500",fontSize:"0.875rem"},children:Q.endereco_completo||`${Q.logradouro}, ${Q.numero} - ${Q.bairro}, ${Q.cidade}`}),Q.regiao&&n.jsxs("p",{style:{margin:0,fontSize:"0.75rem",color:ee.colors.textLight},children:["Regio: ",Q.regiao]})]})]}),n.jsx("button",{type:"button",onClick:se=>{se.stopPropagation(),wr(Q)},style:{padding:"0.25rem 0.5rem",background:"white",color:ee.colors.primary,border:`1px solid ${ee.colors.primary}`,borderRadius:"0.25rem",fontSize:"0.75rem",cursor:"pointer"},children:"Editar"})]})},Q.id)):n.jsx("p",{style:{color:ee.colors.textLight,fontSize:"0.875rem",fontStyle:"italic",margin:0},children:'Nenhum endereo cadastrado. Clique em "+ Novo Endereo" para adicionar.'})]},G.id)}),Z.endereco&&n.jsx("p",{style:{color:ee.colors.danger,fontSize:"0.75rem",marginTop:"0.25rem"},children:Z.endereco}),n.jsxs("datalist",{id:"bairros-sugestoes",children:[n.jsx("option",{value:"Centro"}),n.jsx("option",{value:"Estados"}),n.jsx("option",{value:"Pioneiros"}),n.jsx("option",{value:"Nova Esperana"}),n.jsx("option",{value:"Naes"}),n.jsx("option",{value:"Barra"}),n.jsx("option",{value:"Barra Sul"}),n.jsx("option",{value:"Estaleiro"}),n.jsx("option",{value:"Estaleirinho"}),n.jsx("option",{value:"Taquaras"}),n.jsx("option",{value:"Laranjeiras"}),n.jsx("option",{value:"Praia dos Amores"}),n.jsx("option",{value:"Praia Brava"}),n.jsx("option",{value:"Tabuleiro"}),n.jsx("option",{value:"Monte Alegre"}),n.jsx("option",{value:"Vila Real"}),n.jsx("option",{value:"Espinheiros"})]}),n.jsxs("datalist",{id:"cidades-sugestoes",children:[n.jsx("option",{value:"Balnerio Cambori"}),n.jsx("option",{value:"Cambori"}),n.jsx("option",{value:"Itaja"}),n.jsx("option",{value:"Itapema"}),n.jsx("option",{value:"Navegantes"}),n.jsx("option",{value:"Penha"}),n.jsx("option",{value:"Porto Belo"}),n.jsx("option",{value:"Tijucas"}),n.jsx("option",{value:"Piarras"}),n.jsx("option",{value:"Bombinhas"})]}),n.jsxs("datalist",{id:"bairros-sugestoes-edit",children:[n.jsx("option",{value:"Centro"}),n.jsx("option",{value:"Estados"}),n.jsx("option",{value:"Pioneiros"}),n.jsx("option",{value:"Nova Esperana"}),n.jsx("option",{value:"Naes"}),n.jsx("option",{value:"Barra"}),n.jsx("option",{value:"Barra Sul"}),n.jsx("option",{value:"Estaleiro"}),n.jsx("option",{value:"Estaleirinho"}),n.jsx("option",{value:"Taquaras"}),n.jsx("option",{value:"Laranjeiras"}),n.jsx("option",{value:"Praia dos Amores"}),n.jsx("option",{value:"Praia Brava"}),n.jsx("option",{value:"Tabuleiro"}),n.jsx("option",{value:"Monte Alegre"}),n.jsx("option",{value:"Vila Real"}),n.jsx("option",{value:"Espinheiros"})]}),n.jsxs("datalist",{id:"cidades-sugestoes-edit",children:[n.jsx("option",{value:"Balnerio Cambori"}),n.jsx("option",{value:"Cambori"}),n.jsx("option",{value:"Itaja"}),n.jsx("option",{value:"Itapema"}),n.jsx("option",{value:"Navegantes"}),n.jsx("option",{value:"Penha"}),n.jsx("option",{value:"Porto Belo"}),n.jsx("option",{value:"Tijucas"}),n.jsx("option",{value:"Piarras"}),n.jsx("option",{value:"Bombinhas"})]})]}),n.jsxs("div",{style:{marginBottom:"1rem"},children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:ee.colors.text,marginBottom:"0.5rem"},children:"Nmero da Requisio *"}),n.jsx("input",{type:"text",value:U.numero_requisicao,onChange:G=>he({...U,numero_requisicao:G.target.value}),placeholder:"Ex: REQ-001",style:{width:"100%",padding:"0.75rem",border:`1px solid ${Z.requisicao?ee.colors.danger:ee.colors.border}`,borderRadius:"0.375rem",fontSize:"0.875rem"}}),Z.requisicao&&n.jsx("p",{style:{color:ee.colors.danger,fontSize:"0.75rem",marginTop:"0.25rem"},children:Z.requisicao})]}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem",marginBottom:"1rem"},children:[n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:ee.colors.text,marginBottom:"0.5rem"},children:"Cidade/Regio *"}),n.jsxs("select",{value:U.regiao,onChange:G=>it(G.target.value),style:{width:"100%",padding:"0.75rem",border:`1px solid ${Z.regiao?ee.colors.danger:ee.colors.border}`,borderRadius:"0.375rem",fontSize:"0.875rem"},children:[n.jsx("option",{value:"",children:"Selecione a cidade"}),$v.map(G=>n.jsx("option",{value:G,children:G},G))]})]}),n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:ee.colors.text,marginBottom:"0.5rem"},children:"Data de Entrega *"}),n.jsx("input",{type:"date",value:U.data_entrega,onChange:G=>he({...U,data_entrega:G.target.value}),style:{width:"100%",padding:"0.75rem",border:`1px solid ${ee.colors.border}`,borderRadius:"0.375rem",fontSize:"0.875rem"}})]})]}),U.regiao==="OUTRO"&&n.jsxs("div",{style:{marginBottom:"1rem"},children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:ee.colors.text,marginBottom:"0.5rem"},children:"Nome da Cidade *"}),n.jsx("input",{type:"text",value:U.outra_cidade,onChange:G=>he({...U,outra_cidade:G.target.value}),placeholder:"Digite o nome da cidade",style:{width:"100%",padding:"0.75rem",border:`1px solid ${Z.outra_cidade?ee.colors.danger:ee.colors.border}`,borderRadius:"0.375rem",fontSize:"0.875rem"}})]}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem",marginBottom:"1rem"},children:[n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:ee.colors.text,marginBottom:"0.5rem"},children:"Perodo de Entrega *"}),n.jsxs("select",{value:U.periodo,onChange:G=>he({...U,periodo:G.target.value}),style:{width:"100%",padding:"0.75rem",border:`1px solid ${ee.colors.border}`,borderRadius:"0.375rem",fontSize:"0.875rem"},children:[n.jsx("option",{value:"Manh",children:"Manh"}),n.jsx("option",{value:"Tarde",children:"Tarde"})]})]}),n.jsxs("div",{style:{position:"relative"},children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:ee.colors.text,marginBottom:"0.5rem"},children:"Forma de Pagamento *"}),n.jsx("input",{type:"text",value:F,onChange:G=>ks(G.target.value),onKeyDown:rn,onFocus:()=>{be(!0),ie.length===0&&ue(Mf)},onBlur:()=>{setTimeout(()=>be(!1),200)},placeholder:"Digite ou selecione a forma de pagamento...",style:{width:"100%",padding:"0.75rem",border:`1px solid ${Z.pagamento?ee.colors.danger:ee.colors.border}`,borderRadius:"0.375rem",fontSize:"0.875rem"}}),ye&&ie.length>0&&n.jsx("div",{style:{position:"absolute",top:"100%",left:0,right:0,background:"white",border:`1px solid ${ee.colors.border}`,borderRadius:"0.375rem",marginTop:"0.25rem",maxHeight:"200px",overflowY:"auto",boxShadow:"0 4px 6px rgba(0,0,0,0.1)",zIndex:1e3},children:ie.map((G,I)=>n.jsx("div",{onClick:()=>kn(G),onMouseEnter:()=>X(I),style:{padding:"0.75rem",cursor:"pointer",borderBottom:I<ie.length-1?`1px solid ${ee.colors.border}`:"none",background:I===le?"#e3f2fd":"white",transition:"background 0.15s"},children:n.jsx("p",{style:{margin:0,fontSize:"0.875rem"},children:G})},G))})]})]}),$.includes(U.forma_pagamento)&&n.jsxs("div",{style:{marginBottom:"1rem",padding:"1rem",background:"#e8f5e9",border:"2px solid #4caf50",borderRadius:"0.5rem"},children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"600",color:"#2e7d32",marginBottom:"0.5rem"},children:"Valor a Cobrar (R$) *"}),n.jsx("input",{type:"number",step:"0.01",min:"0",value:U.valor_venda||"",onChange:G=>he({...U,valor_venda:parseFloat(G.target.value)||0}),placeholder:"Ex: 150.00",style:{width:"100%",padding:"0.75rem",border:`2px solid ${Z.valor_venda?ee.colors.danger:"#4caf50"}`,borderRadius:"0.375rem",fontSize:"0.875rem",background:"white"}}),Z.valor_venda&&n.jsx("p",{style:{color:ee.colors.danger,fontSize:"0.75rem",marginTop:"0.25rem"},children:Z.valor_venda}),!Z.valor_venda&&U.valor_venda>0&&n.jsxs("div",{style:{marginTop:"0.75rem",padding:"0.75rem",background:"#1b5e20",borderRadius:"0.375rem",textAlign:"center"},children:[n.jsx("p",{style:{margin:0,color:"white",fontSize:"0.875rem",fontWeight:"500"},children:U.forma_pagamento==="Receber Mquina"?"Receber na Mquina:":U.forma_pagamento==="Pagar MP"?"Cobrar via MP:":"Valor a Receber:"}),n.jsxs("p",{style:{margin:"0.25rem 0 0 0",color:"white",fontSize:"1.5rem",fontWeight:"700"},children:["R$ ",U.valor_venda.toFixed(2).replace(".",",")]})]}),!U.valor_venda&&n.jsx("p",{style:{fontSize:"0.75rem",color:"#2e7d32",marginTop:"0.25rem",fontWeight:"500"},children:"Informe o valor a ser cobrado nesta entrega."})]}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem",marginBottom:"1rem"},children:[n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:ee.colors.text,marginBottom:"0.5rem"},children:"Motoboy *"}),n.jsxs("select",{value:U.motoboy,onChange:G=>Kt(G.target.value),style:{width:"100%",padding:"0.75rem",border:`1px solid ${Z.motoboy?ee.colors.danger:ee.colors.border}`,borderRadius:"0.375rem",fontSize:"0.875rem"},children:[n.jsx("option",{value:"",children:"Selecione o motoboy"}),n.jsx("option",{value:"Marcio",children:"Marcio"}),n.jsx("option",{value:"Bruno",children:"Bruno"})]}),n.jsx("p",{style:{fontSize:"0.75rem",color:ee.colors.textLight,marginTop:"0.25rem"},children:"Valor calculado automaticamente"})]}),n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:ee.colors.text,marginBottom:"0.5rem"},children:"Valor da Entrega (R$)"}),n.jsx("input",{type:"number",step:"0.01",value:U.valor_entrega,onChange:G=>he({...U,valor_entrega:parseFloat(G.target.value)||0}),style:{width:"100%",padding:"0.75rem",border:`1px solid ${ee.colors.border}`,borderRadius:"0.375rem",fontSize:"0.875rem",fontWeight:"600",color:ee.colors.primary}})]})]}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem",marginBottom:"1rem"},children:[n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"600",color:ee.colors.text,marginBottom:"0.5rem"},children:"Item de Geladeira? *"}),n.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[n.jsx("button",{type:"button",onClick:()=>he(G=>({...G,item_geladeira:!0})),style:{padding:"0.5rem 1.5rem",border:U.item_geladeira?"2px solid #0891b2":"2px solid #e2e8f0",borderRadius:"0.375rem",background:U.item_geladeira?"#cffafe":"white",color:U.item_geladeira?"#0891b2":"#64748b",fontWeight:U.item_geladeira?"600":"400",fontSize:"0.875rem",cursor:"pointer",transition:"all 0.15s"},children:"Sim"}),n.jsx("button",{type:"button",onClick:()=>he(G=>({...G,item_geladeira:!1})),style:{padding:"0.5rem 1.5rem",border:U.item_geladeira?"2px solid #e2e8f0":"2px solid #64748b",borderRadius:"0.375rem",background:U.item_geladeira?"white":"#f1f5f9",color:U.item_geladeira?"#64748b":"#1e293b",fontWeight:U.item_geladeira?"400":"600",fontSize:"0.875rem",cursor:"pointer",transition:"all 0.15s"},children:"No"})]})]}),n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"600",color:ee.colors.text,marginBottom:"0.5rem"},children:"Reter Receita? *"}),n.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[n.jsx("button",{type:"button",onClick:()=>he(G=>({...G,buscar_receita:!0})),style:{padding:"0.5rem 1.5rem",border:U.buscar_receita?"2px solid #f97316":"2px solid #e2e8f0",borderRadius:"0.375rem",background:U.buscar_receita?"#ffedd5":"white",color:U.buscar_receita?"#c2410c":"#64748b",fontWeight:U.buscar_receita?"600":"400",fontSize:"0.875rem",cursor:"pointer",transition:"all 0.15s"},children:"Sim"}),n.jsx("button",{type:"button",onClick:()=>he(G=>({...G,buscar_receita:!1})),style:{padding:"0.5rem 1.5rem",border:U.buscar_receita?"2px solid #e2e8f0":"2px solid #64748b",borderRadius:"0.375rem",background:U.buscar_receita?"white":"#f1f5f9",color:U.buscar_receita?"#64748b":"#1e293b",fontWeight:U.buscar_receita?"400":"600",fontSize:"0.875rem",cursor:"pointer",transition:"all 0.15s"},children:"No"})]})]})]}),n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:ee.colors.text,marginBottom:"0.5rem"},children:"Observaes"}),n.jsx("textarea",{value:U.observacoes,onChange:G=>he({...U,observacoes:G.target.value}),placeholder:"Informaes adicionais sobre a entrega",rows:4,style:{width:"100%",padding:"0.75rem",border:`1px solid ${ee.colors.border}`,borderRadius:"0.375rem",fontSize:"0.875rem",resize:"vertical"}})]})]}),n.jsxs("div",{className:"flex gap-4 justify-end mt-6",children:[n.jsx("button",{type:"button",onClick:()=>t("/"),className:"px-6 py-3 bg-white border border-slate-300 rounded-lg font-semibold text-sm text-slate-700 hover:bg-slate-50 transition-colors",children:"Cancelar"}),n.jsx("button",{type:"submit",disabled:i,className:"px-6 py-3 rounded-lg font-semibold text-sm text-white transition-colors",style:{backgroundColor:i?"#94a3b8":"#376295",cursor:i?"not-allowed":"pointer"},children:i?"Salvando...":"Salvar Alteraes"})]})]})}),n.jsx(jo,{open:w,onOpenChange:b,children:n.jsxs(_s,{style:{maxWidth:"900px"},children:[n.jsx(Es,{children:n.jsx(Ns,{style:{color:"#376295"},children:"Cadastrar Novo Cliente"})}),n.jsxs("div",{className:"space-y-4 max-h-[70vh] overflow-y-auto px-1",children:[n.jsxs("div",{className:"bg-slate-50 p-4 rounded-lg",children:[n.jsx("h3",{className:"text-sm font-semibold text-slate-700 mb-3",children:"Dados do Cliente"}),n.jsxs("div",{className:"mb-3",children:[n.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Nome Completo *"}),n.jsx("input",{type:"text",value:E.nome,onChange:G=>_({...E,nome:G.target.value}),placeholder:"Digite o nome completo",className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-100"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"CPF"}),n.jsx("input",{type:"text",value:E.cpf,onChange:G=>_({...E,cpf:G.target.value}),placeholder:"000.000.000-00",className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-100"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Telefone *"}),n.jsx("input",{type:"text",value:E.telefone,onChange:G=>_({...E,telefone:G.target.value}),placeholder:"(00) 00000-0000",className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-100"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"E-mail"}),n.jsx("input",{type:"email",value:E.email,onChange:G=>_({...E,email:G.target.value}),placeholder:"email@exemplo.com",className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-100"})]})]}),n.jsxs("div",{className:"bg-slate-50 p-4 rounded-lg",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsx("h3",{className:"text-sm font-semibold text-slate-700",children:"Endereos *"}),n.jsx("button",{type:"button",onClick:Ae,className:"px-3 py-1 text-xs font-medium rounded-lg transition-colors",style:{backgroundColor:"#376295",color:"white"},children:"+ Adicionar Endereo"})]}),E.enderecos.map((G,I)=>n.jsxs("div",{className:"bg-white p-4 rounded-lg mb-3 border border-slate-200",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsxs("h4",{className:"text-xs font-semibold text-slate-600",children:["Endereo ",I+1," ",I===0&&"(Principal)"]}),E.enderecos.length>1&&n.jsx("button",{type:"button",onClick:()=>Ue(I),className:"text-red-600 hover:text-red-800 text-xs font-medium",children:"Remover"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-slate-700 mb-1",children:"CEP"}),n.jsx("input",{type:"text",value:G.cep,onChange:Q=>We(I,"cep",Q.target.value),placeholder:"00000-000",className:"w-full px-3 py-2 border border-slate-300 rounded-lg text-sm focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-100"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-slate-700 mb-1",children:"Regio"}),n.jsxs("select",{value:G.regiao,onChange:Q=>We(I,"regiao",Q.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-lg text-sm focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-100",children:[n.jsx("option",{value:"",children:"Selecione"}),$v.map(Q=>n.jsx("option",{value:Q,children:Q},Q))]})]})]}),n.jsxs("div",{className:"grid grid-cols-3 gap-3 mb-3",children:[n.jsxs("div",{className:"col-span-2",children:[n.jsx("label",{className:"block text-xs font-medium text-slate-700 mb-1",children:"Rua/Logradouro *"}),n.jsx("input",{type:"text",value:G.logradouro,onChange:Q=>We(I,"logradouro",Q.target.value),placeholder:"Nome da rua",className:"w-full px-3 py-2 border border-slate-300 rounded-lg text-sm focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-100"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-slate-700 mb-1",children:"Nmero *"}),n.jsx("input",{type:"text",value:G.numero,onChange:Q=>We(I,"numero",Q.target.value),placeholder:"123",className:"w-full px-3 py-2 border border-slate-300 rounded-lg text-sm focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-100"})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-slate-700 mb-1",children:"Bairro"}),n.jsx("input",{type:"text",value:G.bairro,onChange:Q=>We(I,"bairro",Q.target.value),placeholder:"Nome do bairro",className:"w-full px-3 py-2 border border-slate-300 rounded-lg text-sm focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-100"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-slate-700 mb-1",children:"Cidade *"}),n.jsx("input",{type:"text",value:G.cidade,onChange:Q=>We(I,"cidade",Q.target.value),placeholder:"Nome da cidade",className:"w-full px-3 py-2 border border-slate-300 rounded-lg text-sm focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-100"})]})]}),n.jsxs("div",{className:"mb-3",children:[n.jsx("label",{className:"block text-xs font-medium text-slate-700 mb-1",children:"Complemento"}),n.jsx("input",{type:"text",value:G.complemento,onChange:Q=>We(I,"complemento",Q.target.value),placeholder:"Apto, Bloco, etc.",className:"w-full px-3 py-2 border border-slate-300 rounded-lg text-sm focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-100"})]}),n.jsxs("div",{className:"mb-3",children:[n.jsx("label",{className:"block text-xs font-medium text-slate-700 mb-1",children:"Ponto de Referncia"}),n.jsx("input",{type:"text",value:G.ponto_referencia,onChange:Q=>We(I,"ponto_referencia",Q.target.value),placeholder:"Prximo a...",className:"w-full px-3 py-2 border border-slate-300 rounded-lg text-sm focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-100"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-slate-700 mb-1",children:"Observaes"}),n.jsx("textarea",{value:G.observacoes,onChange:Q=>We(I,"observacoes",Q.target.value),placeholder:"Informaes adicionais",rows:2,className:"w-full px-3 py-2 border border-slate-300 rounded-lg text-sm focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-100"})]})]},I))]}),n.jsxs("div",{className:"flex gap-3 pt-4",children:[n.jsx("button",{type:"button",onClick:()=>{b(!1),_({nome:"",cpf:"",telefone:"",email:"",enderecos:[{logradouro:"",numero:"",complemento:"",bairro:"",cidade:"",cep:"",regiao:"",ponto_referencia:"",observacoes:"",is_principal:!0}]})},className:"flex-1 px-4 py-2 border border-slate-300 rounded-lg font-medium text-slate-700 hover:bg-slate-50 transition-colors",children:"Cancelar"}),n.jsx("button",{type:"button",onClick:ir,className:"flex-1 px-4 py-2 rounded-lg font-medium text-white transition-colors",style:{backgroundColor:"#376295"},children:"Cadastrar Cliente"})]})]})]})})]})}function PP({romaneio:t}){var i,l,d,u,h,m,x,p,w,b,E,_;if(!t)return null;const e=new Date;e.toLocaleString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"});const r=e.toLocaleString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"}),o=j=>j?new Date(j+"T12:00:00").toLocaleDateString("pt-BR"):"-";return n.jsxs("div",{className:"print-only",children:[n.jsx("style",{children:`
        /* Esconder na tela */
        @media screen {
          .print-only {
            display: none !important;
          }
        }

        @media print {
          @page {
            margin: 5mm;
            size: auto;
          }
          html, body {
            height: auto !important;
            overflow: visible !important;
          }
          body * {
            visibility: hidden;
          }
          .print-only, .print-only * {
            visibility: visible !important;
          }
          .print-only {
            display: block !important;
            position: absolute !important;
            top: 0 !important;
            left: 0 !important;
            width: 100% !important;
            background: white !important;
          }
          .no-print {
            display: none !important;
          }
        }

        .print-page {
          font-family: Arial, sans-serif;
          font-size: 12px;
          color: #000;
          padding: 20px;
          max-width: 800px;
          margin: 0 auto;
          position: relative;
        }

        .print-header-top {
          display: flex;
          justify-content: space-between;
          font-size: 11px;
          color: #000;
          padding-bottom: 10px;
          border-bottom: 1px solid #000;
          margin-bottom: 20px;
        }

        .print-title {
          text-align: center;
          margin-bottom: 15px;
          display: flex;
          flex-direction: column;
          align-items: center;
          justify-content: center;
          width: 100%;
        }

        .print-logo-img {
          width: 150px;
          height: auto;
          margin-bottom: 10px;
        }

        .print-title h1 {
          font-size: 18px;
          font-weight: bold;
          margin: 0;
          color: #000;
        }

        .print-box {
          border: 1px solid #000;
          padding: 12px;
          margin-bottom: 10px;
        }

        .print-row {
          display: flex;
          justify-content: space-between;
          margin-bottom: 5px;
          color: #000;
        }

        .print-row:last-child {
          margin-bottom: 0;
        }

        .print-label {
          color: #000;
          font-size: 11px;
        }

        .print-value {
          text-align: right;
        }

        .print-value-bold {
          font-weight: bold;
          text-align: right;
        }

        .print-grid {
          display: flex;
          gap: 10px;
          margin-bottom: 10px;
        }

        .print-grid-col {
          flex: 1;
          border: 1px solid #000;
          padding: 12px 15px;
        }

        .print-section-title {
          font-weight: bold;
          font-size: 11px;
          margin-bottom: 10px;
          padding-bottom: 6px;
          border-bottom: 1px solid #000;
          color: #000;
        }

        .print-section-row {
          display: flex;
          justify-content: space-between;
          margin-bottom: 6px;
          font-size: 11px;
          color: #000;
        }

        .print-section-row:last-child {
          margin-bottom: 0;
        }

        .print-section-label {
          color: #000;
        }

        .print-section-value {
          text-align: right;
          color: #000;
        }

        .print-endereco-main {
          font-weight: bold;
          font-size: 12px;
          margin-bottom: 3px;
          color: #000;
        }

        .print-endereco-line {
          font-size: 11px;
          margin-bottom: 2px;
          color: #000;
        }

        .print-endereco-ref {
          font-size: 11px;
          color: #000;
          font-style: italic;
          margin-top: 3px;
        }

        .print-endereco-ac {
          font-size: 11px;
          margin-top: 3px;
          color: #000;
        }

        .print-geladeira {
          display: flex;
          align-items: center;
          justify-content: center;
          gap: 12px;
          padding: 12px 15px;
          margin-bottom: 10px;
          font-size: 14px;
          font-weight: bold;
          text-transform: uppercase;
          border: 2px solid #000;
          background-color: #fff;
          color: #000;
        }

        .print-geladeira-icon {
          font-size: 20px;
        }

        .print-receita {
          display: flex;
          align-items: center;
          justify-content: center;
          gap: 12px;
          padding: 12px 15px;
          margin-bottom: 10px;
          font-size: 14px;
          font-weight: bold;
          text-transform: uppercase;
          border: 2px solid #000;
          background-color: #fff;
          color: #000;
        }

        .print-receita-icon {
          font-size: 20px;
        }

        .print-valor-box {
          background-color: #fff;
          border: 2px solid #000;
          padding: 10px;
          margin-bottom: 10px;
          text-align: center;
          font-size: 14px;
          font-weight: bold;
          color: #000;
        }

        .print-valor-icon {
          margin-right: 8px;
        }

        .print-footer {
          text-align: center;
          font-size: 9px;
          color: #000;
          padding-top: 8px;
          border-top: 1px solid #000;
          margin-top: 10px;
        }

        .print-footer div {
          margin-bottom: 2px;
        }

        .print-carimbo-pago {
          position: absolute;
          top: 50%;
          left: 50%;
          transform: translate(-50%, -50%) rotate(-25deg);
          font-size: 80px;
          font-weight: bold;
          text-transform: uppercase;
          color: #000;
          border: 8px solid #000;
          padding: 10px 40px;
          opacity: 0.3;
          pointer-events: none;
          z-index: 100;
          letter-spacing: 10px;
        }
      `}),n.jsxs("div",{className:"print-page",children:[t.forma_pagamento&&!["Receber Dinheiro","Receber Mquina","Pagar MP"].includes(t.forma_pagamento)&&n.jsx("div",{className:"print-carimbo-pago",children:"PAGO"}),n.jsxs("div",{className:"print-title",children:[n.jsx("img",{src:"/logo-formedica.png",alt:"Formdica",className:"print-logo-img"}),n.jsx("h1",{children:"ROMANEIO DE ENTREGA"})]}),n.jsxs("div",{className:"print-grid",children:[n.jsxs("div",{className:"print-grid-col",children:[n.jsx("div",{className:"print-section-title",children:"DADOS DA ENTREGA"}),n.jsxs("div",{className:"print-section-row",children:[n.jsx("span",{className:"print-section-label",children:"N. Requisio:"}),n.jsxs("span",{className:"print-section-value",style:{fontWeight:"bold"},children:["# ",t.requisicao||"0000"]})]}),n.jsxs("div",{className:"print-section-row",children:[n.jsx("span",{className:"print-section-label",children:"Data:"}),n.jsxs("span",{className:"print-section-value",children:[o(t.data_entrega)," - ",t.periodo||"-"]})]}),n.jsxs("div",{className:"print-section-row",children:[n.jsx("span",{className:"print-section-label",children:"Motoboy:"}),n.jsx("span",{className:"print-section-value",children:((i=t.motoboy)==null?void 0:i.nome)||"-"})]}),n.jsxs("div",{className:"print-section-row",children:[n.jsx("span",{className:"print-section-label",children:"Atendente:"}),n.jsx("span",{className:"print-section-value",children:((l=t.atendente)==null?void 0:l.nome)||((d=t.atendente)==null?void 0:d.email)||"-"})]})]}),n.jsxs("div",{className:"print-grid-col",children:[n.jsx("div",{className:"print-section-title",children:"CLIENTE"}),n.jsxs("div",{className:"print-section-row",children:[n.jsx("span",{className:"print-section-label",children:"Nome:"}),n.jsx("span",{className:"print-section-value",children:((u=t.cliente)==null?void 0:u.nome)||"-"})]}),n.jsxs("div",{className:"print-section-row",children:[n.jsx("span",{className:"print-section-label",children:"Telefone:"}),n.jsx("span",{className:"print-section-value",children:((h=t.cliente)==null?void 0:h.telefone)||"-"})]})]})]}),n.jsxs("div",{className:"print-grid",children:[n.jsxs("div",{className:"print-grid-col",children:[n.jsx("div",{className:"print-section-title",children:"ENDERECO DE ENTREGA"}),n.jsxs("div",{className:"print-endereco-main",children:[((m=t.endereco)==null?void 0:m.logradouro)||"-"," , ",((x=t.endereco)==null?void 0:x.numero)||"S/N"]}),n.jsxs("div",{className:"print-endereco-line",children:[((p=t.endereco)==null?void 0:p.bairro)||"-"," - ",((w=t.endereco)==null?void 0:w.cidade)||t.regiao||"-"]}),((b=t.endereco)==null?void 0:b.complemento)&&n.jsxs("div",{className:"print-endereco-line",children:["Compl.: ",t.endereco.complemento]}),((E=t.endereco)==null?void 0:E.ponto_referencia)&&n.jsxs("div",{className:"print-endereco-ref",children:["Ref.: ",t.endereco.ponto_referencia]}),((_=t.cliente)==null?void 0:_.nome)&&n.jsxs("div",{className:"print-endereco-ac",children:["A/C: ",t.cliente.nome]})]}),n.jsxs("div",{className:"print-grid-col",children:[n.jsx("div",{className:"print-section-title",children:"PAGAMENTO"}),n.jsxs("div",{className:"print-section-row",children:[n.jsx("span",{className:"print-section-label",children:"Forma de Pagamento:"}),n.jsx("span",{className:"print-section-value",children:t.forma_pagamento||"-"})]})]})]}),t.observacoes&&n.jsxs("div",{className:"print-box",children:[n.jsx("div",{className:"print-section-title",children:"OBSERVAES"}),n.jsx("div",{className:"print-section-row",style:{justifyContent:"flex-start"},children:n.jsx("span",{className:"print-section-value",style:{textAlign:"left"},children:t.observacoes})})]}),(t.item_geladeira||t.buscar_receita)&&n.jsxs("div",{style:{display:"flex",gap:"10px",marginBottom:"10px"},children:[t.item_geladeira&&n.jsxs("div",{className:"print-geladeira",style:{flex:1,marginBottom:0},children:[n.jsx("span",{className:"print-geladeira-icon",children:""}),n.jsx("span",{children:"ITEM DE GELADEIRA"}),n.jsx("span",{className:"print-geladeira-icon",children:""})]}),t.buscar_receita&&n.jsxs("div",{className:"print-receita",style:{flex:1,marginBottom:0},children:[n.jsxs("svg",{className:"print-receita-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",style:{width:"20px",height:"20px"},children:[n.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),n.jsx("polyline",{points:"14 2 14 8 20 8"}),n.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),n.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),n.jsx("polyline",{points:"10 9 9 9 8 9"})]}),n.jsx("span",{children:"RETER RECEITA"}),n.jsxs("svg",{className:"print-receita-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",style:{width:"20px",height:"20px"},children:[n.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),n.jsx("polyline",{points:"14 2 14 8 20 8"}),n.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),n.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),n.jsx("polyline",{points:"10 9 9 9 8 9"})]})]})]}),t.valor_venda>0&&["Receber Dinheiro","Receber Mquina","Pagar MP"].includes(t.forma_pagamento)||t.precisa_troco&&t.valor_troco>0?n.jsxs("div",{style:{display:"flex",gap:"10px",marginBottom:"10px"},children:[t.valor_venda>0&&["Receber Dinheiro","Receber Mquina","Pagar MP"].includes(t.forma_pagamento)&&n.jsxs("div",{className:"print-valor-box",style:{flex:1,marginBottom:0},children:[n.jsx("span",{className:"print-valor-icon",children:"$"}),"COBRAR NA ENTREGA: R$ ",t.valor_venda.toFixed(2).replace(".",",")]}),t.precisa_troco&&t.valor_troco>0&&n.jsxs("div",{className:"print-valor-box",style:{flex:1,marginBottom:0},children:["TROCO: R$ ",t.valor_troco.toFixed(2).replace(".",",")]})]}):null,n.jsx("div",{className:"print-footer",children:n.jsxs("div",{children:["Impressao em: ",r]})})]})]})}function zv(){var N,S,k,P,z,A,q,K,de;const t=Ht(),e=Sn(),{id:r}=UN(),o=r||new URLSearchParams(window.location.search).get("id"),[i,l]=y.useState("Aguardando"),[d,u]=y.useState(!1),{data:h,isLoading:m,error:x}=tn({queryKey:["romaneio",o],queryFn:async()=>{if(console.log(" Buscando romaneio com ID:",o),!o)throw console.error(" ID do romaneio no fornecido"),new Error("ID do romaneio no fornecido");const{data:V,error:T}=await _e.from("entregas").select(`
          *,
          cliente:clientes(id, nome, telefone, cpf, email),
          endereco:enderecos(id, logradouro, numero, bairro, cidade, complemento, cep, regiao),
          motoboy:motoboys(id, nome)
        `).eq("id",o).single();if(T)throw console.error(" Erro ao buscar romaneio:",T),T;console.log(" Romaneio encontrado:",V);let Y=[];if(V.clientes_adicionais&&V.clientes_adicionais.length>0){const{data:he}=await _e.from("clientes").select("id, nome, telefone").in("id",V.clientes_adicionais);Y=he||[]}const te=V.endereco_logradouro?{id:V.endereco_id,logradouro:V.endereco_logradouro,numero:V.endereco_numero,complemento:V.endereco_complemento,bairro:V.endereco_bairro,cidade:V.endereco_cidade,cep:V.endereco_cep,regiao:V.regiao}:V.endereco;let U=null;if(V.atendente_id){const{data:he}=await _e.from("usuarios").select("id, nome, email").eq("id",V.atendente_id).single();U=he}return{...V,endereco:te,clientesAdicionais:Y,atendente:U}},enabled:!!o});y.useEffect(()=>{x&&console.error(" Erro na query:",x)},[x]),y.useEffect(()=>{h&&u(h.pagamento_recebido||!1)},[h]);const p=async()=>{if(confirm("Tem certeza que deseja excluir este romaneio?"))try{const{error:V}=await _e.from("entregas").delete().eq("id",o);if(V)throw V;ge.success("Romaneio excludo com sucesso!"),t("/")}catch(V){console.error("Erro ao excluir:",V),ge.error("Erro ao excluir romaneio")}},w=async V=>{u(V);try{const{error:T}=await _e.from("entregas").update({pagamento_recebido:V}).eq("id",o);if(T)throw T;ge.success("Pagamento atualizado!"),e.invalidateQueries(["romaneio",o])}catch(T){console.error("Erro ao atualizar pagamento:",T),ge.error("Erro ao atualizar pagamento"),u(!V)}};if(m)return n.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100",children:[n.jsx("div",{className:"py-8 shadow-sm mb-6",style:{background:"linear-gradient(135deg, #457bba 0%, #890d5d 100%)"},children:n.jsx("div",{className:"max-w-7xl mx-auto px-6",children:n.jsx("h1",{className:"text-4xl font-bold text-white",children:"Detalhes do Romaneio"})})}),n.jsx("div",{className:"max-w-7xl mx-auto px-6",children:n.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-12 text-center",children:n.jsx("div",{className:"text-xl text-slate-600",children:"Carregando..."})})})]});if(!h&&!m)return n.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100",children:[n.jsx("div",{className:"py-8 shadow-sm mb-6",style:{background:"linear-gradient(135deg, #457bba 0%, #890d5d 100%)"},children:n.jsx("div",{className:"max-w-7xl mx-auto px-6",children:n.jsx("h1",{className:"text-4xl font-bold text-white",children:"Detalhes do Romaneio"})})}),n.jsx("div",{className:"max-w-7xl mx-auto px-6",children:n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-12",children:[n.jsx("div",{className:"text-2xl font-bold text-slate-900 mb-4",children:"Romaneio no encontrado"}),n.jsxs("div",{className:"text-sm text-slate-600 mb-4",children:["ID buscado: ",o||"Nenhum ID fornecido"]}),x&&n.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg mb-4",children:n.jsxs("div",{className:"text-sm text-red-600",children:["Erro: ",x.message]})}),n.jsx("button",{onClick:()=>t("/"),className:"px-4 py-2 rounded-lg font-semibold text-sm",style:{backgroundColor:"#376295",color:"white"},children:"Voltar"})]})})]});const b=h.requisicao||"",E=[h.cliente,...h.clientesAdicionais||[]].filter(Boolean),_=E.map(V=>V.nome).join(", "),j=E.map(V=>V.telefone).filter(Boolean).join(", ");return n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 pb-8",children:[n.jsx("div",{className:"py-8 shadow-sm mb-6",style:{background:"linear-gradient(135deg, #457bba 0%, #890d5d 100%)"},children:n.jsx("div",{className:"max-w-7xl mx-auto px-6",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("button",{onClick:()=>t(-1),className:"p-2 rounded-lg bg-white/20 hover:bg-white/30 transition-colors",children:n.jsx(kt,{className:"w-6 h-6 text-white"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-4xl font-bold text-white",children:"Detalhes do Romaneio"}),n.jsx("p",{className:"text-base text-white opacity-90 mt-1",children:"Visualizao completa da entrega"})]})]})})}),n.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[n.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6 mb-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("button",{onClick:()=>t("/"),className:"p-2 rounded-lg transition-all border border-slate-300 hover:bg-slate-50",children:n.jsx(kt,{size:20,style:{color:"#376295"}})}),n.jsxs("div",{children:[n.jsxs("h1",{className:"text-2xl font-bold text-slate-900",children:["Romaneio #",b]}),n.jsxs("p",{className:"text-sm text-slate-600 mt-1",children:["Criado em ",h.data_criacao?new Date(h.data_criacao).toLocaleDateString("pt-BR"):"-"," s ",h.data_criacao?new Date(h.data_criacao).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"}):"-"]})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("button",{onClick:()=>t(`/editar-romaneio?id=${o}`),className:"flex items-center gap-2 px-4 py-2 rounded-lg font-semibold text-sm transition-all",style:{backgroundColor:"#376295",color:"white"},title:"Editar",children:[n.jsx(xu,{size:16}),"Editar"]}),n.jsxs("button",{onClick:()=>window.print(),className:"flex items-center gap-2 px-4 py-2 rounded-lg font-semibold text-sm transition-all",style:{backgroundColor:"#890d5d",color:"white"},title:"Imprimir",children:[n.jsx(gu,{size:16}),"Imprimir"]}),n.jsxs("button",{onClick:p,className:"flex items-center gap-2 px-4 py-2 rounded-lg font-semibold text-sm transition-all",style:{backgroundColor:"#ef4444",color:"white"},title:"Excluir",children:[n.jsx(Vl,{size:16}),"Excluir"]})]})]})}),n.jsxs("div",{className:"grid grid-cols-[1fr_400px] gap-6",children:[n.jsxs("div",{className:"flex flex-col gap-6",children:[n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-4",style:{color:"#376295"},children:[n.jsx(br,{size:18}),n.jsx("h2",{className:"text-lg font-bold",children:"Informaes do Romaneio"})]}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"auto auto auto auto",gap:"3.5rem",justifyContent:"start"},children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-xs text-slate-500 mb-2",children:"Nmero da Requisio"}),n.jsxs("div",{className:"text-base font-semibold",style:{color:"#376295"},children:["#",b]})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-xs text-slate-500 mb-2",children:"Status"}),n.jsx("div",{children:n.jsx("span",{className:"px-3 py-1 rounded text-xs font-medium",style:{backgroundColor:h.status==="Entregue"?"#E8F5E8":h.status==="A Caminho"?"#FEF3E8":"#F5E8F5",color:h.status==="Entregue"?"#22c55e":h.status==="A Caminho"?"#f97316":"#890d5d"},children:h.status==="Produzindo no Laboratrio"?"Produo":h.status})})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-xs text-slate-500 mb-2",children:"Data de Entrega Prevista"}),n.jsxs("div",{className:"text-base font-semibold text-slate-900",children:[h.data_entrega?new Date(h.data_entrega+"T12:00:00").toLocaleDateString("pt-BR"):"-"," - ",h.periodo]})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-xs text-slate-500 mb-2",children:"Valor da Entrega"}),n.jsxs("div",{className:"text-2xl font-bold",style:{color:"#376295"},children:["R$ ",(h.valor||0).toFixed(2)]})]})]})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-4",style:{color:"#376295"},children:[n.jsx(bn,{size:18}),n.jsx("h2",{className:"text-lg font-bold",children:"Cliente"})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-lg font-bold text-slate-900 mb-2",children:_}),n.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600",children:[n.jsx(Rl,{size:14}),j]})]})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-4",style:{color:"#376295"},children:[n.jsx(yi,{size:18}),n.jsx("h2",{className:"text-lg font-bold",children:"Endereo de Entrega"})]}),n.jsxs("div",{className:"text-sm text-slate-600",children:[n.jsxs("div",{className:"font-bold text-slate-900 mb-1",children:[(N=h.endereco)==null?void 0:N.logradouro,", ",(S=h.endereco)==null?void 0:S.numero]}),n.jsxs("div",{className:"mb-3",children:[(k=h.endereco)==null?void 0:k.bairro," - ",(P=h.endereco)==null?void 0:P.cidade]}),((z=h.endereco)==null?void 0:z.complemento)&&n.jsxs("div",{className:"text-sm text-slate-600",children:["Complemento: ",h.endereco.complemento]})]})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-4",style:{color:"#376295"},children:[n.jsx(br,{size:18}),n.jsx("h2",{className:"text-lg font-bold",children:"Observaes"})]}),n.jsx("div",{className:"text-sm text-slate-600",children:h.observacoes||"Nenhuma observao"})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("div",{className:"flex items-center gap-2",style:{color:"#376295"},children:[n.jsx(Cv,{size:18}),n.jsx("h2",{className:"text-lg font-bold",children:"Imagens Anexadas"})]}),n.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 rounded-lg font-semibold text-sm transition-all",style:{backgroundColor:"#376295",color:"white"},children:[n.jsx(t5,{size:14}),"Anexar Imagens"]})]}),n.jsxs("div",{className:"flex flex-col items-center justify-center py-12 border-2 border-dashed border-slate-300 rounded-lg text-slate-400",children:[n.jsx(Cv,{size:48,className:"mb-2 opacity-30"}),n.jsx("div",{className:"text-sm",children:"Nenhuma imagem anexada"})]})]})]}),n.jsxs("div",{className:"flex flex-col gap-6",children:[n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-4",style:{color:"#376295"},children:[n.jsx(br,{size:20}),n.jsx("h2",{className:"text-xl font-bold",children:"Informaes"})]}),n.jsxs("div",{className:"flex flex-col gap-5",children:[n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(yi,{size:20,className:"text-slate-500 mt-1 flex-shrink-0"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("div",{className:"text-sm text-slate-500 mb-1",children:"Regio"}),n.jsx("div",{className:"text-base font-semibold",style:{color:"#376295"},children:h.regiao||((A=h.endereco)==null?void 0:A.regiao)||"-"})]})]}),n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(ga,{size:20,className:"text-slate-500 mt-1 flex-shrink-0"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("div",{className:"text-sm text-slate-500 mb-1",children:"Pagamento"}),n.jsx("div",{className:"text-base font-semibold text-slate-900",children:h.forma_pagamento}),h.valor_venda>0&&["Receber Dinheiro","Receber Mquina","Pagar MP"].includes(h.forma_pagamento)?n.jsxs("div",{style:{marginTop:"0.5rem",padding:"0.75rem",background:"#1b5e20",borderRadius:"0.375rem",textAlign:"center"},children:[n.jsx("div",{style:{color:"white",fontSize:"0.75rem",fontWeight:"500"},children:h.forma_pagamento==="Receber Mquina"?"Receber na Mquina:":h.forma_pagamento==="Pagar MP"?"Cobrar via MP:":"Valor a Receber:"}),n.jsxs("div",{style:{color:"white",fontSize:"1.25rem",fontWeight:"700"},children:["R$ ",h.valor_venda.toFixed(2).replace(".",",")]})]}):n.jsxs("div",{className:"text-lg font-bold mt-1",style:{color:"#376295"},children:["R$ ",(h.valor||0).toFixed(2)]})]})]}),n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(yn,{size:20,className:"text-slate-500 mt-1 flex-shrink-0"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("div",{className:"text-sm text-slate-500 mb-1",children:"Perodo"}),n.jsx("div",{className:"text-base font-semibold text-slate-900",children:h.periodo})]})]}),n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(fs,{size:20,className:"text-slate-500 mt-1 flex-shrink-0"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("div",{className:"text-sm text-slate-500 mb-1",children:"Motoboy"}),n.jsx("div",{className:"text-base font-semibold text-slate-900",children:((q=h.motoboy)==null?void 0:q.nome)||"-"})]})]}),n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(bn,{size:20,className:"text-slate-500 mt-1 flex-shrink-0"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("div",{className:"text-sm text-slate-500 mb-1",children:"Atendente"}),n.jsx("div",{className:"text-base font-semibold text-slate-900",children:((K=h.atendente)==null?void 0:K.email)||((de=h.atendente)==null?void 0:de.nome)||"-"})]})]}),h.item_geladeira&&n.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"12px",padding:"12px 15px",fontSize:"14px",fontWeight:"bold",textTransform:"uppercase",border:"2px solid #2196F3",backgroundColor:"#E3F2FD",color:"#1565C0",borderRadius:"8px"},children:[n.jsx("span",{style:{fontSize:"20px"},children:""}),n.jsx("span",{children:"ITEM DE GELADEIRA"}),n.jsx("span",{style:{fontSize:"20px"},children:""})]}),h.buscar_receita&&n.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"12px",padding:"12px 15px",fontSize:"14px",fontWeight:"bold",textTransform:"uppercase",border:"2px solid #FF9800",backgroundColor:"#FFF3E0",color:"#E65100",borderRadius:"8px"},children:[n.jsx(br,{size:20}),n.jsx("span",{children:"RETER RECEITA"}),n.jsx(br,{size:20})]}),n.jsxs("div",{className:"border-t border-slate-200 pt-4 mt-2",children:[n.jsx("div",{className:"text-xs text-slate-500 mb-2",children:"Pagamento Motoboy"}),n.jsxs("select",{value:i,onChange:V=>l(V.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-lg text-sm text-slate-700 focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-100",children:[n.jsx("option",{value:"Aguardando",children:"Aguardando"}),n.jsx("option",{value:"Pago",children:"Pago"}),n.jsx("option",{value:"Pendente",children:"Pendente"})]})]}),n.jsx("div",{children:n.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:d,onChange:V=>w(V.target.checked),className:"w-4 h-4",style:{accentColor:"#376295"}}),n.jsx("span",{className:"text-sm text-slate-700 font-medium",children:"Pagamento Recebido"})]})})]})]}),n.jsxs("div",{className:"rounded-xl shadow-lg p-6",style:{background:"linear-gradient(135deg, #890d5d 0%, #457bba 100%)"},children:[n.jsx("div",{className:"text-sm font-semibold text-white opacity-90 mb-4 text-center",children:"Cdigo de Rastreio"}),n.jsx("div",{className:"bg-white bg-opacity-20 p-6 rounded-lg text-center backdrop-blur-sm",children:n.jsx("div",{className:"text-2xl font-bold text-white tracking-widest font-mono",children:h.codigo_rastreio||"54NVT9NS"})})]})]})]})]})]}),n.jsx(PP,{romaneio:h})]})}const vt=y.forwardRef(({className:t,...e},r)=>n.jsx("div",{ref:r,className:Je("rounded-xl border bg-card text-card-foreground shadow",t),...e}));vt.displayName="Card";const ms=y.forwardRef(({className:t,...e},r)=>n.jsx("div",{ref:r,className:Je("flex flex-col space-y-1.5 p-6",t),...e}));ms.displayName="CardHeader";const ps=y.forwardRef(({className:t,...e},r)=>n.jsx("div",{ref:r,className:Je("font-semibold leading-none tracking-tight",t),...e}));ps.displayName="CardTitle";const TP=y.forwardRef(({className:t,...e},r)=>n.jsx("div",{ref:r,className:Je("text-sm text-muted-foreground",t),...e}));TP.displayName="CardDescription";const _t=y.forwardRef(({className:t,...e},r)=>n.jsx("div",{ref:r,className:Je("p-6 pt-0",t),...e}));_t.displayName="CardContent";const OP=y.forwardRef(({className:t,...e},r)=>n.jsx("div",{ref:r,className:Je("flex items-center p-6 pt-0",t),...e}));OP.displayName="CardFooter";const Zt=y.forwardRef(({className:t,type:e,...r},o)=>n.jsx("input",{type:e,className:Je("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:o,...r}));Zt.displayName="Input";var IP="Label",d1=y.forwardRef((t,e)=>n.jsx(rt.label,{...t,ref:e,onMouseDown:r=>{var i;r.target.closest("button, input, select, textarea")||((i=t.onMouseDown)==null||i.call(t,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));d1.displayName=IP;var u1=d1;const DP=yp("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Lt=y.forwardRef(({className:t,...e},r)=>n.jsx(u1,{ref:r,className:Je(DP(),t),...e}));Lt.displayName=u1.displayName;const yu=y.forwardRef(({className:t,...e},r)=>n.jsx("textarea",{className:Je("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...e}));yu.displayName="Textarea";const MP=yp("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Ln({className:t,variant:e,...r}){return n.jsx("div",{className:Je(MP({variant:e}),t),...r})}function Uv(t,[e,r]){return Math.min(r,Math.max(e,t))}function LP(t){const e=t+"CollectionProvider",[r,o]=Si(e),[i,l]=r(e,{collectionRef:{current:null},itemMap:new Map}),d=_=>{const{scope:j,children:N}=_,S=xe.useRef(null),k=xe.useRef(new Map).current;return n.jsx(i,{scope:j,itemMap:k,collectionRef:S,children:N})};d.displayName=e;const u=t+"CollectionSlot",h=vi(u),m=xe.forwardRef((_,j)=>{const{scope:N,children:S}=_,k=l(u,N),P=mt(j,k.collectionRef);return n.jsx(h,{ref:P,children:S})});m.displayName=u;const x=t+"CollectionItemSlot",p="data-radix-collection-item",w=vi(x),b=xe.forwardRef((_,j)=>{const{scope:N,children:S,...k}=_,P=xe.useRef(null),z=mt(j,P),A=l(x,N);return xe.useEffect(()=>(A.itemMap.set(P,{ref:P,...k}),()=>void A.itemMap.delete(P))),n.jsx(w,{[p]:"",ref:z,children:S})});b.displayName=x;function E(_){const j=l(t+"CollectionConsumer",_);return xe.useCallback(()=>{const S=j.collectionRef.current;if(!S)return[];const k=Array.from(S.querySelectorAll(`[${p}]`));return Array.from(j.itemMap.values()).sort((A,q)=>k.indexOf(A.ref.current)-k.indexOf(q.ref.current))},[j.collectionRef,j.itemMap])}return[{Provider:d,Slot:m,ItemSlot:b},E,o]}var $P=y.createContext(void 0);function BP(t){const e=y.useContext($P);return t||e||"ltr"}const FP=["top","right","bottom","left"],yo=Math.min,Br=Math.max,Yd=Math.round,jd=Math.floor,Wn=t=>({x:t,y:t}),zP={left:"right",right:"left",bottom:"top",top:"bottom"},UP={start:"end",end:"start"};function Cm(t,e,r){return Br(t,yo(e,r))}function bs(t,e){return typeof t=="function"?t(e):t}function ws(t){return t.split("-")[0]}function Ri(t){return t.split("-")[1]}function wp(t){return t==="x"?"y":"x"}function jp(t){return t==="y"?"height":"width"}const qP=new Set(["top","bottom"]);function qn(t){return qP.has(ws(t))?"y":"x"}function _p(t){return wp(qn(t))}function WP(t,e,r){r===void 0&&(r=!1);const o=Ri(t),i=_p(t),l=jp(i);let d=i==="x"?o===(r?"end":"start")?"right":"left":o==="start"?"bottom":"top";return e.reference[l]>e.floating[l]&&(d=Xd(d)),[d,Xd(d)]}function VP(t){const e=Xd(t);return[km(t),e,km(e)]}function km(t){return t.replace(/start|end/g,e=>UP[e])}const qv=["left","right"],Wv=["right","left"],HP=["top","bottom"],KP=["bottom","top"];function GP(t,e,r){switch(t){case"top":case"bottom":return r?e?Wv:qv:e?qv:Wv;case"left":case"right":return e?HP:KP;default:return[]}}function QP(t,e,r,o){const i=Ri(t);let l=GP(ws(t),r==="start",o);return i&&(l=l.map(d=>d+"-"+i),e&&(l=l.concat(l.map(km)))),l}function Xd(t){return t.replace(/left|right|bottom|top/g,e=>zP[e])}function JP(t){return{top:0,right:0,bottom:0,left:0,...t}}function h1(t){return typeof t!="number"?JP(t):{top:t,right:t,bottom:t,left:t}}function Zd(t){const{x:e,y:r,width:o,height:i}=t;return{width:o,height:i,top:r,left:e,right:e+o,bottom:r+i,x:e,y:r}}function Vv(t,e,r){let{reference:o,floating:i}=t;const l=qn(e),d=_p(e),u=jp(d),h=ws(e),m=l==="y",x=o.x+o.width/2-i.width/2,p=o.y+o.height/2-i.height/2,w=o[u]/2-i[u]/2;let b;switch(h){case"top":b={x,y:o.y-i.height};break;case"bottom":b={x,y:o.y+o.height};break;case"right":b={x:o.x+o.width,y:p};break;case"left":b={x:o.x-i.width,y:p};break;default:b={x:o.x,y:o.y}}switch(Ri(e)){case"start":b[d]-=w*(r&&m?-1:1);break;case"end":b[d]+=w*(r&&m?-1:1);break}return b}const YP=async(t,e,r)=>{const{placement:o="bottom",strategy:i="absolute",middleware:l=[],platform:d}=r,u=l.filter(Boolean),h=await(d.isRTL==null?void 0:d.isRTL(e));let m=await d.getElementRects({reference:t,floating:e,strategy:i}),{x,y:p}=Vv(m,o,h),w=o,b={},E=0;for(let _=0;_<u.length;_++){const{name:j,fn:N}=u[_],{x:S,y:k,data:P,reset:z}=await N({x,y:p,initialPlacement:o,placement:w,strategy:i,middlewareData:b,rects:m,platform:d,elements:{reference:t,floating:e}});x=S??x,p=k??p,b={...b,[j]:{...b[j],...P}},z&&E<=50&&(E++,typeof z=="object"&&(z.placement&&(w=z.placement),z.rects&&(m=z.rects===!0?await d.getElementRects({reference:t,floating:e,strategy:i}):z.rects),{x,y:p}=Vv(m,w,h)),_=-1)}return{x,y:p,placement:w,strategy:i,middlewareData:b}};async function Al(t,e){var r;e===void 0&&(e={});const{x:o,y:i,platform:l,rects:d,elements:u,strategy:h}=t,{boundary:m="clippingAncestors",rootBoundary:x="viewport",elementContext:p="floating",altBoundary:w=!1,padding:b=0}=bs(e,t),E=h1(b),j=u[w?p==="floating"?"reference":"floating":p],N=Zd(await l.getClippingRect({element:(r=await(l.isElement==null?void 0:l.isElement(j)))==null||r?j:j.contextElement||await(l.getDocumentElement==null?void 0:l.getDocumentElement(u.floating)),boundary:m,rootBoundary:x,strategy:h})),S=p==="floating"?{x:o,y:i,width:d.floating.width,height:d.floating.height}:d.reference,k=await(l.getOffsetParent==null?void 0:l.getOffsetParent(u.floating)),P=await(l.isElement==null?void 0:l.isElement(k))?await(l.getScale==null?void 0:l.getScale(k))||{x:1,y:1}:{x:1,y:1},z=Zd(l.convertOffsetParentRelativeRectToViewportRelativeRect?await l.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:S,offsetParent:k,strategy:h}):S);return{top:(N.top-z.top+E.top)/P.y,bottom:(z.bottom-N.bottom+E.bottom)/P.y,left:(N.left-z.left+E.left)/P.x,right:(z.right-N.right+E.right)/P.x}}const XP=t=>({name:"arrow",options:t,async fn(e){const{x:r,y:o,placement:i,rects:l,platform:d,elements:u,middlewareData:h}=e,{element:m,padding:x=0}=bs(t,e)||{};if(m==null)return{};const p=h1(x),w={x:r,y:o},b=_p(i),E=jp(b),_=await d.getDimensions(m),j=b==="y",N=j?"top":"left",S=j?"bottom":"right",k=j?"clientHeight":"clientWidth",P=l.reference[E]+l.reference[b]-w[b]-l.floating[E],z=w[b]-l.reference[b],A=await(d.getOffsetParent==null?void 0:d.getOffsetParent(m));let q=A?A[k]:0;(!q||!await(d.isElement==null?void 0:d.isElement(A)))&&(q=u.floating[k]||l.floating[E]);const K=P/2-z/2,de=q/2-_[E]/2-1,V=yo(p[N],de),T=yo(p[S],de),Y=V,te=q-_[E]-T,U=q/2-_[E]/2+K,he=Cm(Y,U,te),$=!h.arrow&&Ri(i)!=null&&U!==he&&l.reference[E]/2-(U<Y?V:T)-_[E]/2<0,Z=$?U<Y?U-Y:U-te:0;return{[b]:w[b]+Z,data:{[b]:he,centerOffset:U-he-Z,...$&&{alignmentOffset:Z}},reset:$}}}),ZP=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var r,o;const{placement:i,middlewareData:l,rects:d,initialPlacement:u,platform:h,elements:m}=e,{mainAxis:x=!0,crossAxis:p=!0,fallbackPlacements:w,fallbackStrategy:b="bestFit",fallbackAxisSideDirection:E="none",flipAlignment:_=!0,...j}=bs(t,e);if((r=l.arrow)!=null&&r.alignmentOffset)return{};const N=ws(i),S=qn(u),k=ws(u)===u,P=await(h.isRTL==null?void 0:h.isRTL(m.floating)),z=w||(k||!_?[Xd(u)]:VP(u)),A=E!=="none";!w&&A&&z.push(...QP(u,_,E,P));const q=[u,...z],K=await Al(e,j),de=[];let V=((o=l.flip)==null?void 0:o.overflows)||[];if(x&&de.push(K[N]),p){const U=WP(i,d,P);de.push(K[U[0]],K[U[1]])}if(V=[...V,{placement:i,overflows:de}],!de.every(U=>U<=0)){var T,Y;const U=(((T=l.flip)==null?void 0:T.index)||0)+1,he=q[U];if(he&&(!(p==="alignment"?S!==qn(he):!1)||V.every(M=>qn(M.placement)===S?M.overflows[0]>0:!0)))return{data:{index:U,overflows:V},reset:{placement:he}};let $=(Y=V.filter(Z=>Z.overflows[0]<=0).sort((Z,M)=>Z.overflows[1]-M.overflows[1])[0])==null?void 0:Y.placement;if(!$)switch(b){case"bestFit":{var te;const Z=(te=V.filter(M=>{if(A){const ae=qn(M.placement);return ae===S||ae==="y"}return!0}).map(M=>[M.placement,M.overflows.filter(ae=>ae>0).reduce((ae,R)=>ae+R,0)]).sort((M,ae)=>M[1]-ae[1])[0])==null?void 0:te[0];Z&&($=Z);break}case"initialPlacement":$=u;break}if(i!==$)return{reset:{placement:$}}}return{}}}};function Hv(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function Kv(t){return FP.some(e=>t[e]>=0)}const eT=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:r}=e,{strategy:o="referenceHidden",...i}=bs(t,e);switch(o){case"referenceHidden":{const l=await Al(e,{...i,elementContext:"reference"}),d=Hv(l,r.reference);return{data:{referenceHiddenOffsets:d,referenceHidden:Kv(d)}}}case"escaped":{const l=await Al(e,{...i,altBoundary:!0}),d=Hv(l,r.floating);return{data:{escapedOffsets:d,escaped:Kv(d)}}}default:return{}}}}},f1=new Set(["left","top"]);async function tT(t,e){const{placement:r,platform:o,elements:i}=t,l=await(o.isRTL==null?void 0:o.isRTL(i.floating)),d=ws(r),u=Ri(r),h=qn(r)==="y",m=f1.has(d)?-1:1,x=l&&h?-1:1,p=bs(e,t);let{mainAxis:w,crossAxis:b,alignmentAxis:E}=typeof p=="number"?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:p.mainAxis||0,crossAxis:p.crossAxis||0,alignmentAxis:p.alignmentAxis};return u&&typeof E=="number"&&(b=u==="end"?E*-1:E),h?{x:b*x,y:w*m}:{x:w*m,y:b*x}}const rT=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var r,o;const{x:i,y:l,placement:d,middlewareData:u}=e,h=await tT(e,t);return d===((r=u.offset)==null?void 0:r.placement)&&(o=u.arrow)!=null&&o.alignmentOffset?{}:{x:i+h.x,y:l+h.y,data:{...h,placement:d}}}}},nT=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:r,y:o,placement:i}=e,{mainAxis:l=!0,crossAxis:d=!1,limiter:u={fn:j=>{let{x:N,y:S}=j;return{x:N,y:S}}},...h}=bs(t,e),m={x:r,y:o},x=await Al(e,h),p=qn(ws(i)),w=wp(p);let b=m[w],E=m[p];if(l){const j=w==="y"?"top":"left",N=w==="y"?"bottom":"right",S=b+x[j],k=b-x[N];b=Cm(S,b,k)}if(d){const j=p==="y"?"top":"left",N=p==="y"?"bottom":"right",S=E+x[j],k=E-x[N];E=Cm(S,E,k)}const _=u.fn({...e,[w]:b,[p]:E});return{..._,data:{x:_.x-r,y:_.y-o,enabled:{[w]:l,[p]:d}}}}}},sT=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:r,y:o,placement:i,rects:l,middlewareData:d}=e,{offset:u=0,mainAxis:h=!0,crossAxis:m=!0}=bs(t,e),x={x:r,y:o},p=qn(i),w=wp(p);let b=x[w],E=x[p];const _=bs(u,e),j=typeof _=="number"?{mainAxis:_,crossAxis:0}:{mainAxis:0,crossAxis:0,..._};if(h){const k=w==="y"?"height":"width",P=l.reference[w]-l.floating[k]+j.mainAxis,z=l.reference[w]+l.reference[k]-j.mainAxis;b<P?b=P:b>z&&(b=z)}if(m){var N,S;const k=w==="y"?"width":"height",P=f1.has(ws(i)),z=l.reference[p]-l.floating[k]+(P&&((N=d.offset)==null?void 0:N[p])||0)+(P?0:j.crossAxis),A=l.reference[p]+l.reference[k]+(P?0:((S=d.offset)==null?void 0:S[p])||0)-(P?j.crossAxis:0);E<z?E=z:E>A&&(E=A)}return{[w]:b,[p]:E}}}},oT=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var r,o;const{placement:i,rects:l,platform:d,elements:u}=e,{apply:h=()=>{},...m}=bs(t,e),x=await Al(e,m),p=ws(i),w=Ri(i),b=qn(i)==="y",{width:E,height:_}=l.floating;let j,N;p==="top"||p==="bottom"?(j=p,N=w===(await(d.isRTL==null?void 0:d.isRTL(u.floating))?"start":"end")?"left":"right"):(N=p,j=w==="end"?"top":"bottom");const S=_-x.top-x.bottom,k=E-x.left-x.right,P=yo(_-x[j],S),z=yo(E-x[N],k),A=!e.middlewareData.shift;let q=P,K=z;if((r=e.middlewareData.shift)!=null&&r.enabled.x&&(K=k),(o=e.middlewareData.shift)!=null&&o.enabled.y&&(q=S),A&&!w){const V=Br(x.left,0),T=Br(x.right,0),Y=Br(x.top,0),te=Br(x.bottom,0);b?K=E-2*(V!==0||T!==0?V+T:Br(x.left,x.right)):q=_-2*(Y!==0||te!==0?Y+te:Br(x.top,x.bottom))}await h({...e,availableWidth:K,availableHeight:q});const de=await d.getDimensions(u.floating);return E!==de.width||_!==de.height?{reset:{rects:!0}}:{}}}};function bu(){return typeof window<"u"}function Ai(t){return m1(t)?(t.nodeName||"").toLowerCase():"#document"}function qr(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Qn(t){var e;return(e=(m1(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function m1(t){return bu()?t instanceof Node||t instanceof qr(t).Node:!1}function wn(t){return bu()?t instanceof Element||t instanceof qr(t).Element:!1}function Hn(t){return bu()?t instanceof HTMLElement||t instanceof qr(t).HTMLElement:!1}function Gv(t){return!bu()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof qr(t).ShadowRoot}const aT=new Set(["inline","contents"]);function Hl(t){const{overflow:e,overflowX:r,overflowY:o,display:i}=jn(t);return/auto|scroll|overlay|hidden|clip/.test(e+o+r)&&!aT.has(i)}const iT=new Set(["table","td","th"]);function lT(t){return iT.has(Ai(t))}const cT=[":popover-open",":modal"];function wu(t){return cT.some(e=>{try{return t.matches(e)}catch{return!1}})}const dT=["transform","translate","scale","rotate","perspective"],uT=["transform","translate","scale","rotate","perspective","filter"],hT=["paint","layout","strict","content"];function Ep(t){const e=Np(),r=wn(t)?jn(t):t;return dT.some(o=>r[o]?r[o]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!e&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!e&&(r.filter?r.filter!=="none":!1)||uT.some(o=>(r.willChange||"").includes(o))||hT.some(o=>(r.contain||"").includes(o))}function fT(t){let e=bo(t);for(;Hn(e)&&!bi(e);){if(Ep(e))return e;if(wu(e))return null;e=bo(e)}return null}function Np(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const mT=new Set(["html","body","#document"]);function bi(t){return mT.has(Ai(t))}function jn(t){return qr(t).getComputedStyle(t)}function ju(t){return wn(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function bo(t){if(Ai(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Gv(t)&&t.host||Qn(t);return Gv(e)?e.host:e}function p1(t){const e=bo(t);return bi(e)?t.ownerDocument?t.ownerDocument.body:t.body:Hn(e)&&Hl(e)?e:p1(e)}function Pl(t,e,r){var o;e===void 0&&(e=[]),r===void 0&&(r=!0);const i=p1(t),l=i===((o=t.ownerDocument)==null?void 0:o.body),d=qr(i);if(l){const u=Rm(d);return e.concat(d,d.visualViewport||[],Hl(i)?i:[],u&&r?Pl(u):[])}return e.concat(i,Pl(i,[],r))}function Rm(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function g1(t){const e=jn(t);let r=parseFloat(e.width)||0,o=parseFloat(e.height)||0;const i=Hn(t),l=i?t.offsetWidth:r,d=i?t.offsetHeight:o,u=Yd(r)!==l||Yd(o)!==d;return u&&(r=l,o=d),{width:r,height:o,$:u}}function Sp(t){return wn(t)?t:t.contextElement}function ti(t){const e=Sp(t);if(!Hn(e))return Wn(1);const r=e.getBoundingClientRect(),{width:o,height:i,$:l}=g1(e);let d=(l?Yd(r.width):r.width)/o,u=(l?Yd(r.height):r.height)/i;return(!d||!Number.isFinite(d))&&(d=1),(!u||!Number.isFinite(u))&&(u=1),{x:d,y:u}}const pT=Wn(0);function x1(t){const e=qr(t);return!Np()||!e.visualViewport?pT:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function gT(t,e,r){return e===void 0&&(e=!1),!r||e&&r!==qr(t)?!1:e}function ha(t,e,r,o){e===void 0&&(e=!1),r===void 0&&(r=!1);const i=t.getBoundingClientRect(),l=Sp(t);let d=Wn(1);e&&(o?wn(o)&&(d=ti(o)):d=ti(t));const u=gT(l,r,o)?x1(l):Wn(0);let h=(i.left+u.x)/d.x,m=(i.top+u.y)/d.y,x=i.width/d.x,p=i.height/d.y;if(l){const w=qr(l),b=o&&wn(o)?qr(o):o;let E=w,_=Rm(E);for(;_&&o&&b!==E;){const j=ti(_),N=_.getBoundingClientRect(),S=jn(_),k=N.left+(_.clientLeft+parseFloat(S.paddingLeft))*j.x,P=N.top+(_.clientTop+parseFloat(S.paddingTop))*j.y;h*=j.x,m*=j.y,x*=j.x,p*=j.y,h+=k,m+=P,E=qr(_),_=Rm(E)}}return Zd({width:x,height:p,x:h,y:m})}function _u(t,e){const r=ju(t).scrollLeft;return e?e.left+r:ha(Qn(t)).left+r}function v1(t,e){const r=t.getBoundingClientRect(),o=r.left+e.scrollLeft-_u(t,r),i=r.top+e.scrollTop;return{x:o,y:i}}function xT(t){let{elements:e,rect:r,offsetParent:o,strategy:i}=t;const l=i==="fixed",d=Qn(o),u=e?wu(e.floating):!1;if(o===d||u&&l)return r;let h={scrollLeft:0,scrollTop:0},m=Wn(1);const x=Wn(0),p=Hn(o);if((p||!p&&!l)&&((Ai(o)!=="body"||Hl(d))&&(h=ju(o)),Hn(o))){const b=ha(o);m=ti(o),x.x=b.x+o.clientLeft,x.y=b.y+o.clientTop}const w=d&&!p&&!l?v1(d,h):Wn(0);return{width:r.width*m.x,height:r.height*m.y,x:r.x*m.x-h.scrollLeft*m.x+x.x+w.x,y:r.y*m.y-h.scrollTop*m.y+x.y+w.y}}function vT(t){return Array.from(t.getClientRects())}function yT(t){const e=Qn(t),r=ju(t),o=t.ownerDocument.body,i=Br(e.scrollWidth,e.clientWidth,o.scrollWidth,o.clientWidth),l=Br(e.scrollHeight,e.clientHeight,o.scrollHeight,o.clientHeight);let d=-r.scrollLeft+_u(t);const u=-r.scrollTop;return jn(o).direction==="rtl"&&(d+=Br(e.clientWidth,o.clientWidth)-i),{width:i,height:l,x:d,y:u}}const Qv=25;function bT(t,e){const r=qr(t),o=Qn(t),i=r.visualViewport;let l=o.clientWidth,d=o.clientHeight,u=0,h=0;if(i){l=i.width,d=i.height;const x=Np();(!x||x&&e==="fixed")&&(u=i.offsetLeft,h=i.offsetTop)}const m=_u(o);if(m<=0){const x=o.ownerDocument,p=x.body,w=getComputedStyle(p),b=x.compatMode==="CSS1Compat"&&parseFloat(w.marginLeft)+parseFloat(w.marginRight)||0,E=Math.abs(o.clientWidth-p.clientWidth-b);E<=Qv&&(l-=E)}else m<=Qv&&(l+=m);return{width:l,height:d,x:u,y:h}}const wT=new Set(["absolute","fixed"]);function jT(t,e){const r=ha(t,!0,e==="fixed"),o=r.top+t.clientTop,i=r.left+t.clientLeft,l=Hn(t)?ti(t):Wn(1),d=t.clientWidth*l.x,u=t.clientHeight*l.y,h=i*l.x,m=o*l.y;return{width:d,height:u,x:h,y:m}}function Jv(t,e,r){let o;if(e==="viewport")o=bT(t,r);else if(e==="document")o=yT(Qn(t));else if(wn(e))o=jT(e,r);else{const i=x1(t);o={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return Zd(o)}function y1(t,e){const r=bo(t);return r===e||!wn(r)||bi(r)?!1:jn(r).position==="fixed"||y1(r,e)}function _T(t,e){const r=e.get(t);if(r)return r;let o=Pl(t,[],!1).filter(u=>wn(u)&&Ai(u)!=="body"),i=null;const l=jn(t).position==="fixed";let d=l?bo(t):t;for(;wn(d)&&!bi(d);){const u=jn(d),h=Ep(d);!h&&u.position==="fixed"&&(i=null),(l?!h&&!i:!h&&u.position==="static"&&!!i&&wT.has(i.position)||Hl(d)&&!h&&y1(t,d))?o=o.filter(x=>x!==d):i=u,d=bo(d)}return e.set(t,o),o}function ET(t){let{element:e,boundary:r,rootBoundary:o,strategy:i}=t;const d=[...r==="clippingAncestors"?wu(e)?[]:_T(e,this._c):[].concat(r),o],u=d[0],h=d.reduce((m,x)=>{const p=Jv(e,x,i);return m.top=Br(p.top,m.top),m.right=yo(p.right,m.right),m.bottom=yo(p.bottom,m.bottom),m.left=Br(p.left,m.left),m},Jv(e,u,i));return{width:h.right-h.left,height:h.bottom-h.top,x:h.left,y:h.top}}function NT(t){const{width:e,height:r}=g1(t);return{width:e,height:r}}function ST(t,e,r){const o=Hn(e),i=Qn(e),l=r==="fixed",d=ha(t,!0,l,e);let u={scrollLeft:0,scrollTop:0};const h=Wn(0);function m(){h.x=_u(i)}if(o||!o&&!l)if((Ai(e)!=="body"||Hl(i))&&(u=ju(e)),o){const b=ha(e,!0,l,e);h.x=b.x+e.clientLeft,h.y=b.y+e.clientTop}else i&&m();l&&!o&&i&&m();const x=i&&!o&&!l?v1(i,u):Wn(0),p=d.left+u.scrollLeft-h.x-x.x,w=d.top+u.scrollTop-h.y-x.y;return{x:p,y:w,width:d.width,height:d.height}}function Lf(t){return jn(t).position==="static"}function Yv(t,e){if(!Hn(t)||jn(t).position==="fixed")return null;if(e)return e(t);let r=t.offsetParent;return Qn(t)===r&&(r=r.ownerDocument.body),r}function b1(t,e){const r=qr(t);if(wu(t))return r;if(!Hn(t)){let i=bo(t);for(;i&&!bi(i);){if(wn(i)&&!Lf(i))return i;i=bo(i)}return r}let o=Yv(t,e);for(;o&&lT(o)&&Lf(o);)o=Yv(o,e);return o&&bi(o)&&Lf(o)&&!Ep(o)?r:o||fT(t)||r}const CT=async function(t){const e=this.getOffsetParent||b1,r=this.getDimensions,o=await r(t.floating);return{reference:ST(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:o.width,height:o.height}}};function kT(t){return jn(t).direction==="rtl"}const RT={convertOffsetParentRelativeRectToViewportRelativeRect:xT,getDocumentElement:Qn,getClippingRect:ET,getOffsetParent:b1,getElementRects:CT,getClientRects:vT,getDimensions:NT,getScale:ti,isElement:wn,isRTL:kT};function w1(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function AT(t,e){let r=null,o;const i=Qn(t);function l(){var u;clearTimeout(o),(u=r)==null||u.disconnect(),r=null}function d(u,h){u===void 0&&(u=!1),h===void 0&&(h=1),l();const m=t.getBoundingClientRect(),{left:x,top:p,width:w,height:b}=m;if(u||e(),!w||!b)return;const E=jd(p),_=jd(i.clientWidth-(x+w)),j=jd(i.clientHeight-(p+b)),N=jd(x),k={rootMargin:-E+"px "+-_+"px "+-j+"px "+-N+"px",threshold:Br(0,yo(1,h))||1};let P=!0;function z(A){const q=A[0].intersectionRatio;if(q!==h){if(!P)return d();q?d(!1,q):o=setTimeout(()=>{d(!1,1e-7)},1e3)}q===1&&!w1(m,t.getBoundingClientRect())&&d(),P=!1}try{r=new IntersectionObserver(z,{...k,root:i.ownerDocument})}catch{r=new IntersectionObserver(z,k)}r.observe(t)}return d(!0),l}function PT(t,e,r,o){o===void 0&&(o={});const{ancestorScroll:i=!0,ancestorResize:l=!0,elementResize:d=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:h=!1}=o,m=Sp(t),x=i||l?[...m?Pl(m):[],...Pl(e)]:[];x.forEach(N=>{i&&N.addEventListener("scroll",r,{passive:!0}),l&&N.addEventListener("resize",r)});const p=m&&u?AT(m,r):null;let w=-1,b=null;d&&(b=new ResizeObserver(N=>{let[S]=N;S&&S.target===m&&b&&(b.unobserve(e),cancelAnimationFrame(w),w=requestAnimationFrame(()=>{var k;(k=b)==null||k.observe(e)})),r()}),m&&!h&&b.observe(m),b.observe(e));let E,_=h?ha(t):null;h&&j();function j(){const N=ha(t);_&&!w1(_,N)&&r(),_=N,E=requestAnimationFrame(j)}return r(),()=>{var N;x.forEach(S=>{i&&S.removeEventListener("scroll",r),l&&S.removeEventListener("resize",r)}),p==null||p(),(N=b)==null||N.disconnect(),b=null,h&&cancelAnimationFrame(E)}}const TT=rT,OT=nT,IT=ZP,DT=oT,MT=eT,Xv=XP,LT=sT,$T=(t,e,r)=>{const o=new Map,i={platform:RT,...r},l={...i.platform,_c:o};return YP(t,e,{...i,platform:l})};var BT=typeof document<"u",FT=function(){},Ld=BT?y.useLayoutEffect:FT;function eu(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let r,o,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(r=t.length,r!==e.length)return!1;for(o=r;o--!==0;)if(!eu(t[o],e[o]))return!1;return!0}if(i=Object.keys(t),r=i.length,r!==Object.keys(e).length)return!1;for(o=r;o--!==0;)if(!{}.hasOwnProperty.call(e,i[o]))return!1;for(o=r;o--!==0;){const l=i[o];if(!(l==="_owner"&&t.$$typeof)&&!eu(t[l],e[l]))return!1}return!0}return t!==t&&e!==e}function j1(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function Zv(t,e){const r=j1(t);return Math.round(e*r)/r}function $f(t){const e=y.useRef(t);return Ld(()=>{e.current=t}),e}function zT(t){t===void 0&&(t={});const{placement:e="bottom",strategy:r="absolute",middleware:o=[],platform:i,elements:{reference:l,floating:d}={},transform:u=!0,whileElementsMounted:h,open:m}=t,[x,p]=y.useState({x:0,y:0,strategy:r,placement:e,middlewareData:{},isPositioned:!1}),[w,b]=y.useState(o);eu(w,o)||b(o);const[E,_]=y.useState(null),[j,N]=y.useState(null),S=y.useCallback(M=>{M!==A.current&&(A.current=M,_(M))},[]),k=y.useCallback(M=>{M!==q.current&&(q.current=M,N(M))},[]),P=l||E,z=d||j,A=y.useRef(null),q=y.useRef(null),K=y.useRef(x),de=h!=null,V=$f(h),T=$f(i),Y=$f(m),te=y.useCallback(()=>{if(!A.current||!q.current)return;const M={placement:e,strategy:r,middleware:w};T.current&&(M.platform=T.current),$T(A.current,q.current,M).then(ae=>{const R={...ae,isPositioned:Y.current!==!1};U.current&&!eu(K.current,R)&&(K.current=R,Fl.flushSync(()=>{p(R)}))})},[w,e,r,T,Y]);Ld(()=>{m===!1&&K.current.isPositioned&&(K.current.isPositioned=!1,p(M=>({...M,isPositioned:!1})))},[m]);const U=y.useRef(!1);Ld(()=>(U.current=!0,()=>{U.current=!1}),[]),Ld(()=>{if(P&&(A.current=P),z&&(q.current=z),P&&z){if(V.current)return V.current(P,z,te);te()}},[P,z,te,V,de]);const he=y.useMemo(()=>({reference:A,floating:q,setReference:S,setFloating:k}),[S,k]),$=y.useMemo(()=>({reference:P,floating:z}),[P,z]),Z=y.useMemo(()=>{const M={position:r,left:0,top:0};if(!$.floating)return M;const ae=Zv($.floating,x.x),R=Zv($.floating,x.y);return u?{...M,transform:"translate("+ae+"px, "+R+"px)",...j1($.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:ae,top:R}},[r,u,$.floating,x.x,x.y]);return y.useMemo(()=>({...x,update:te,refs:he,elements:$,floatingStyles:Z}),[x,te,he,$,Z])}const UT=t=>{function e(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:t,fn(r){const{element:o,padding:i}=typeof t=="function"?t(r):t;return o&&e(o)?o.current!=null?Xv({element:o.current,padding:i}).fn(r):{}:o?Xv({element:o,padding:i}).fn(r):{}}}},qT=(t,e)=>({...TT(t),options:[t,e]}),WT=(t,e)=>({...OT(t),options:[t,e]}),VT=(t,e)=>({...LT(t),options:[t,e]}),HT=(t,e)=>({...IT(t),options:[t,e]}),KT=(t,e)=>({...DT(t),options:[t,e]}),GT=(t,e)=>({...MT(t),options:[t,e]}),QT=(t,e)=>({...UT(t),options:[t,e]});var JT="Arrow",_1=y.forwardRef((t,e)=>{const{children:r,width:o=10,height:i=5,...l}=t;return n.jsx(rt.svg,{...l,ref:e,width:o,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?r:n.jsx("polygon",{points:"0,0 30,0 15,10"})})});_1.displayName=JT;var YT=_1;function E1(t){const[e,r]=y.useState(void 0);return mr(()=>{if(t){r({width:t.offsetWidth,height:t.offsetHeight});const o=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const l=i[0];let d,u;if("borderBoxSize"in l){const h=l.borderBoxSize,m=Array.isArray(h)?h[0]:h;d=m.inlineSize,u=m.blockSize}else d=t.offsetWidth,u=t.offsetHeight;r({width:d,height:u})});return o.observe(t,{box:"border-box"}),()=>o.unobserve(t)}else r(void 0)},[t]),e}var Cp="Popper",[N1,S1]=Si(Cp),[XT,C1]=N1(Cp),k1=t=>{const{__scopePopper:e,children:r}=t,[o,i]=y.useState(null);return n.jsx(XT,{scope:e,anchor:o,onAnchorChange:i,children:r})};k1.displayName=Cp;var R1="PopperAnchor",A1=y.forwardRef((t,e)=>{const{__scopePopper:r,virtualRef:o,...i}=t,l=C1(R1,r),d=y.useRef(null),u=mt(e,d),h=y.useRef(null);return y.useEffect(()=>{const m=h.current;h.current=(o==null?void 0:o.current)||d.current,m!==h.current&&l.onAnchorChange(h.current)}),o?null:n.jsx(rt.div,{...i,ref:u})});A1.displayName=R1;var kp="PopperContent",[ZT,eO]=N1(kp),P1=y.forwardRef((t,e)=>{var le,X,ye,be,Pe,Ae;const{__scopePopper:r,side:o="bottom",sideOffset:i=0,align:l="center",alignOffset:d=0,arrowPadding:u=0,avoidCollisions:h=!0,collisionBoundary:m=[],collisionPadding:x=0,sticky:p="partial",hideWhenDetached:w=!1,updatePositionStrategy:b="optimized",onPlaced:E,..._}=t,j=C1(kp,r),[N,S]=y.useState(null),k=mt(e,Ue=>S(Ue)),[P,z]=y.useState(null),A=E1(P),q=(A==null?void 0:A.width)??0,K=(A==null?void 0:A.height)??0,de=o+(l!=="center"?"-"+l:""),V=typeof x=="number"?x:{top:0,right:0,bottom:0,left:0,...x},T=Array.isArray(m)?m:[m],Y=T.length>0,te={padding:V,boundary:T.filter(rO),altBoundary:Y},{refs:U,floatingStyles:he,placement:$,isPositioned:Z,middlewareData:M}=zT({strategy:"fixed",placement:de,whileElementsMounted:(...Ue)=>PT(...Ue,{animationFrame:b==="always"}),elements:{reference:j.anchor},middleware:[qT({mainAxis:i+K,alignmentAxis:d}),h&&WT({mainAxis:!0,crossAxis:!1,limiter:p==="partial"?VT():void 0,...te}),h&&HT({...te}),KT({...te,apply:({elements:Ue,rects:We,availableWidth:Rt,availableHeight:Bt})=>{const{width:Et,height:dt}=We.reference,ut=Ue.floating.style;ut.setProperty("--radix-popper-available-width",`${Rt}px`),ut.setProperty("--radix-popper-available-height",`${Bt}px`),ut.setProperty("--radix-popper-anchor-width",`${Et}px`),ut.setProperty("--radix-popper-anchor-height",`${dt}px`)}}),P&&QT({element:P,padding:u}),nO({arrowWidth:q,arrowHeight:K}),w&&GT({strategy:"referenceHidden",...te})]}),[ae,R]=I1($),D=ca(E);mr(()=>{Z&&(D==null||D())},[Z,D]);const L=(le=M.arrow)==null?void 0:le.x,F=(X=M.arrow)==null?void 0:X.y,O=((ye=M.arrow)==null?void 0:ye.centerOffset)!==0,[ie,ue]=y.useState();return mr(()=>{N&&ue(window.getComputedStyle(N).zIndex)},[N]),n.jsx("div",{ref:U.setFloating,"data-radix-popper-content-wrapper":"",style:{...he,transform:Z?he.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ie,"--radix-popper-transform-origin":[(be=M.transformOrigin)==null?void 0:be.x,(Pe=M.transformOrigin)==null?void 0:Pe.y].join(" "),...((Ae=M.hide)==null?void 0:Ae.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:n.jsx(ZT,{scope:r,placedSide:ae,onArrowChange:z,arrowX:L,arrowY:F,shouldHideArrow:O,children:n.jsx(rt.div,{"data-side":ae,"data-align":R,..._,ref:k,style:{..._.style,animation:Z?void 0:"none"}})})})});P1.displayName=kp;var T1="PopperArrow",tO={top:"bottom",right:"left",bottom:"top",left:"right"},O1=y.forwardRef(function(e,r){const{__scopePopper:o,...i}=e,l=eO(T1,o),d=tO[l.placedSide];return n.jsx("span",{ref:l.onArrowChange,style:{position:"absolute",left:l.arrowX,top:l.arrowY,[d]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[l.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[l.placedSide],visibility:l.shouldHideArrow?"hidden":void 0},children:n.jsx(YT,{...i,ref:r,style:{...i.style,display:"block"}})})});O1.displayName=T1;function rO(t){return t!==null}var nO=t=>({name:"transformOrigin",options:t,fn(e){var j,N,S;const{placement:r,rects:o,middlewareData:i}=e,d=((j=i.arrow)==null?void 0:j.centerOffset)!==0,u=d?0:t.arrowWidth,h=d?0:t.arrowHeight,[m,x]=I1(r),p={start:"0%",center:"50%",end:"100%"}[x],w=(((N=i.arrow)==null?void 0:N.x)??0)+u/2,b=(((S=i.arrow)==null?void 0:S.y)??0)+h/2;let E="",_="";return m==="bottom"?(E=d?p:`${w}px`,_=`${-h}px`):m==="top"?(E=d?p:`${w}px`,_=`${o.floating.height+h}px`):m==="right"?(E=`${-h}px`,_=d?p:`${b}px`):m==="left"&&(E=`${o.floating.width+h}px`,_=d?p:`${b}px`),{data:{x:E,y:_}}}});function I1(t){const[e,r="center"]=t.split("-");return[e,r]}var sO=k1,oO=A1,aO=P1,iO=O1;function D1(t){const e=y.useRef({value:t,previous:t});return y.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var M1=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),lO="VisuallyHidden",cO=y.forwardRef((t,e)=>n.jsx(rt.span,{...t,ref:e,style:{...M1,...t.style}}));cO.displayName=lO;var dO=[" ","Enter","ArrowUp","ArrowDown"],uO=[" ","Enter"],fa="Select",[Eu,Nu,hO]=LP(fa),[Pi]=Si(fa,[hO,S1]),Su=S1(),[fO,_o]=Pi(fa),[mO,pO]=Pi(fa),L1=t=>{const{__scopeSelect:e,children:r,open:o,defaultOpen:i,onOpenChange:l,value:d,defaultValue:u,onValueChange:h,dir:m,name:x,autoComplete:p,disabled:w,required:b,form:E}=t,_=Su(e),[j,N]=y.useState(null),[S,k]=y.useState(null),[P,z]=y.useState(!1),A=BP(m),[q,K]=Qd({prop:o,defaultProp:i??!1,onChange:l,caller:fa}),[de,V]=Qd({prop:d,defaultProp:u,onChange:h,caller:fa}),T=y.useRef(null),Y=j?E||!!j.closest("form"):!0,[te,U]=y.useState(new Set),he=Array.from(te).map($=>$.props.value).join(";");return n.jsx(sO,{..._,children:n.jsxs(fO,{required:b,scope:e,trigger:j,onTriggerChange:N,valueNode:S,onValueNodeChange:k,valueNodeHasChildren:P,onValueNodeHasChildrenChange:z,contentId:Xa(),value:de,onValueChange:V,open:q,onOpenChange:K,dir:A,triggerPointerDownPosRef:T,disabled:w,children:[n.jsx(Eu.Provider,{scope:e,children:n.jsx(mO,{scope:t.__scopeSelect,onNativeOptionAdd:y.useCallback($=>{U(Z=>new Set(Z).add($))},[]),onNativeOptionRemove:y.useCallback($=>{U(Z=>{const M=new Set(Z);return M.delete($),M})},[]),children:r})}),Y?n.jsxs(ij,{"aria-hidden":!0,required:b,tabIndex:-1,name:x,autoComplete:p,value:de,onChange:$=>V($.target.value),disabled:w,form:E,children:[de===void 0?n.jsx("option",{value:""}):null,Array.from(te)]},he):null]})})};L1.displayName=fa;var $1="SelectTrigger",B1=y.forwardRef((t,e)=>{const{__scopeSelect:r,disabled:o=!1,...i}=t,l=Su(r),d=_o($1,r),u=d.disabled||o,h=mt(e,d.onTriggerChange),m=Nu(r),x=y.useRef("touch"),[p,w,b]=cj(_=>{const j=m().filter(k=>!k.disabled),N=j.find(k=>k.value===d.value),S=dj(j,_,N);S!==void 0&&d.onValueChange(S.value)}),E=_=>{u||(d.onOpenChange(!0),b()),_&&(d.triggerPointerDownPosRef.current={x:Math.round(_.pageX),y:Math.round(_.pageY)})};return n.jsx(oO,{asChild:!0,...l,children:n.jsx(rt.button,{type:"button",role:"combobox","aria-controls":d.contentId,"aria-expanded":d.open,"aria-required":d.required,"aria-autocomplete":"none",dir:d.dir,"data-state":d.open?"open":"closed",disabled:u,"data-disabled":u?"":void 0,"data-placeholder":lj(d.value)?"":void 0,...i,ref:h,onClick:at(i.onClick,_=>{_.currentTarget.focus(),x.current!=="mouse"&&E(_)}),onPointerDown:at(i.onPointerDown,_=>{x.current=_.pointerType;const j=_.target;j.hasPointerCapture(_.pointerId)&&j.releasePointerCapture(_.pointerId),_.button===0&&_.ctrlKey===!1&&_.pointerType==="mouse"&&(E(_),_.preventDefault())}),onKeyDown:at(i.onKeyDown,_=>{const j=p.current!=="";!(_.ctrlKey||_.altKey||_.metaKey)&&_.key.length===1&&w(_.key),!(j&&_.key===" ")&&dO.includes(_.key)&&(E(),_.preventDefault())})})})});B1.displayName=$1;var F1="SelectValue",z1=y.forwardRef((t,e)=>{const{__scopeSelect:r,className:o,style:i,children:l,placeholder:d="",...u}=t,h=_o(F1,r),{onValueNodeHasChildrenChange:m}=h,x=l!==void 0,p=mt(e,h.onValueNodeChange);return mr(()=>{m(x)},[m,x]),n.jsx(rt.span,{...u,ref:p,style:{pointerEvents:"none"},children:lj(h.value)?n.jsx(n.Fragment,{children:d}):l})});z1.displayName=F1;var gO="SelectIcon",U1=y.forwardRef((t,e)=>{const{__scopeSelect:r,children:o,...i}=t;return n.jsx(rt.span,{"aria-hidden":!0,...i,ref:e,children:o||""})});U1.displayName=gO;var xO="SelectPortal",q1=t=>n.jsx(ip,{asChild:!0,...t});q1.displayName=xO;var ma="SelectContent",W1=y.forwardRef((t,e)=>{const r=_o(ma,t.__scopeSelect),[o,i]=y.useState();if(mr(()=>{i(new DocumentFragment)},[]),!r.open){const l=o;return l?Fl.createPortal(n.jsx(V1,{scope:t.__scopeSelect,children:n.jsx(Eu.Slot,{scope:t.__scopeSelect,children:n.jsx("div",{children:t.children})})}),l):null}return n.jsx(H1,{...t,ref:e})});W1.displayName=ma;var fn=10,[V1,Eo]=Pi(ma),vO="SelectContentImpl",yO=vi("SelectContent.RemoveScroll"),H1=y.forwardRef((t,e)=>{const{__scopeSelect:r,position:o="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:l,onPointerDownOutside:d,side:u,sideOffset:h,align:m,alignOffset:x,arrowPadding:p,collisionBoundary:w,collisionPadding:b,sticky:E,hideWhenDetached:_,avoidCollisions:j,...N}=t,S=_o(ma,r),[k,P]=y.useState(null),[z,A]=y.useState(null),q=mt(e,le=>P(le)),[K,de]=y.useState(null),[V,T]=y.useState(null),Y=Nu(r),[te,U]=y.useState(!1),he=y.useRef(!1);y.useEffect(()=>{if(k)return Nw(k)},[k]),xw();const $=y.useCallback(le=>{const[X,...ye]=Y().map(Ae=>Ae.ref.current),[be]=ye.slice(-1),Pe=document.activeElement;for(const Ae of le)if(Ae===Pe||(Ae==null||Ae.scrollIntoView({block:"nearest"}),Ae===X&&z&&(z.scrollTop=0),Ae===be&&z&&(z.scrollTop=z.scrollHeight),Ae==null||Ae.focus(),document.activeElement!==Pe))return},[Y,z]),Z=y.useCallback(()=>$([K,k]),[$,K,k]);y.useEffect(()=>{te&&Z()},[te,Z]);const{onOpenChange:M,triggerPointerDownPosRef:ae}=S;y.useEffect(()=>{if(k){let le={x:0,y:0};const X=be=>{var Pe,Ae;le={x:Math.abs(Math.round(be.pageX)-(((Pe=ae.current)==null?void 0:Pe.x)??0)),y:Math.abs(Math.round(be.pageY)-(((Ae=ae.current)==null?void 0:Ae.y)??0))}},ye=be=>{le.x<=10&&le.y<=10?be.preventDefault():k.contains(be.target)||M(!1),document.removeEventListener("pointermove",X),ae.current=null};return ae.current!==null&&(document.addEventListener("pointermove",X),document.addEventListener("pointerup",ye,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",X),document.removeEventListener("pointerup",ye,{capture:!0})}}},[k,M,ae]),y.useEffect(()=>{const le=()=>M(!1);return window.addEventListener("blur",le),window.addEventListener("resize",le),()=>{window.removeEventListener("blur",le),window.removeEventListener("resize",le)}},[M]);const[R,D]=cj(le=>{const X=Y().filter(Pe=>!Pe.disabled),ye=X.find(Pe=>Pe.ref.current===document.activeElement),be=dj(X,le,ye);be&&setTimeout(()=>be.ref.current.focus())}),L=y.useCallback((le,X,ye)=>{const be=!he.current&&!ye;(S.value!==void 0&&S.value===X||be)&&(de(le),be&&(he.current=!0))},[S.value]),F=y.useCallback(()=>k==null?void 0:k.focus(),[k]),O=y.useCallback((le,X,ye)=>{const be=!he.current&&!ye;(S.value!==void 0&&S.value===X||be)&&T(le)},[S.value]),ie=o==="popper"?Am:K1,ue=ie===Am?{side:u,sideOffset:h,align:m,alignOffset:x,arrowPadding:p,collisionBoundary:w,collisionPadding:b,sticky:E,hideWhenDetached:_,avoidCollisions:j}:{};return n.jsx(V1,{scope:r,content:k,viewport:z,onViewportChange:A,itemRefCallback:L,selectedItem:K,onItemLeave:F,itemTextRefCallback:O,focusSelectedItem:Z,selectedItemText:V,position:o,isPositioned:te,searchRef:R,children:n.jsx(lp,{as:yO,allowPinchZoom:!0,children:n.jsx(ap,{asChild:!0,trapped:S.open,onMountAutoFocus:le=>{le.preventDefault()},onUnmountAutoFocus:at(i,le=>{var X;(X=S.trigger)==null||X.focus({preventScroll:!0}),le.preventDefault()}),children:n.jsx(op,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:l,onPointerDownOutside:d,onFocusOutside:le=>le.preventDefault(),onDismiss:()=>S.onOpenChange(!1),children:n.jsx(ie,{role:"listbox",id:S.contentId,"data-state":S.open?"open":"closed",dir:S.dir,onContextMenu:le=>le.preventDefault(),...N,...ue,onPlaced:()=>U(!0),ref:q,style:{display:"flex",flexDirection:"column",outline:"none",...N.style},onKeyDown:at(N.onKeyDown,le=>{const X=le.ctrlKey||le.altKey||le.metaKey;if(le.key==="Tab"&&le.preventDefault(),!X&&le.key.length===1&&D(le.key),["ArrowUp","ArrowDown","Home","End"].includes(le.key)){let be=Y().filter(Pe=>!Pe.disabled).map(Pe=>Pe.ref.current);if(["ArrowUp","End"].includes(le.key)&&(be=be.slice().reverse()),["ArrowUp","ArrowDown"].includes(le.key)){const Pe=le.target,Ae=be.indexOf(Pe);be=be.slice(Ae+1)}setTimeout(()=>$(be)),le.preventDefault()}})})})})})})});H1.displayName=vO;var bO="SelectItemAlignedPosition",K1=y.forwardRef((t,e)=>{const{__scopeSelect:r,onPlaced:o,...i}=t,l=_o(ma,r),d=Eo(ma,r),[u,h]=y.useState(null),[m,x]=y.useState(null),p=mt(e,q=>x(q)),w=Nu(r),b=y.useRef(!1),E=y.useRef(!0),{viewport:_,selectedItem:j,selectedItemText:N,focusSelectedItem:S}=d,k=y.useCallback(()=>{if(l.trigger&&l.valueNode&&u&&m&&_&&j&&N){const q=l.trigger.getBoundingClientRect(),K=m.getBoundingClientRect(),de=l.valueNode.getBoundingClientRect(),V=N.getBoundingClientRect();if(l.dir!=="rtl"){const Pe=V.left-K.left,Ae=de.left-Pe,Ue=q.left-Ae,We=q.width+Ue,Rt=Math.max(We,K.width),Bt=window.innerWidth-fn,Et=Uv(Ae,[fn,Math.max(fn,Bt-Rt)]);u.style.minWidth=We+"px",u.style.left=Et+"px"}else{const Pe=K.right-V.right,Ae=window.innerWidth-de.right-Pe,Ue=window.innerWidth-q.right-Ae,We=q.width+Ue,Rt=Math.max(We,K.width),Bt=window.innerWidth-fn,Et=Uv(Ae,[fn,Math.max(fn,Bt-Rt)]);u.style.minWidth=We+"px",u.style.right=Et+"px"}const T=w(),Y=window.innerHeight-fn*2,te=_.scrollHeight,U=window.getComputedStyle(m),he=parseInt(U.borderTopWidth,10),$=parseInt(U.paddingTop,10),Z=parseInt(U.borderBottomWidth,10),M=parseInt(U.paddingBottom,10),ae=he+$+te+M+Z,R=Math.min(j.offsetHeight*5,ae),D=window.getComputedStyle(_),L=parseInt(D.paddingTop,10),F=parseInt(D.paddingBottom,10),O=q.top+q.height/2-fn,ie=Y-O,ue=j.offsetHeight/2,le=j.offsetTop+ue,X=he+$+le,ye=ae-X;if(X<=O){const Pe=T.length>0&&j===T[T.length-1].ref.current;u.style.bottom="0px";const Ae=m.clientHeight-_.offsetTop-_.offsetHeight,Ue=Math.max(ie,ue+(Pe?F:0)+Ae+Z),We=X+Ue;u.style.height=We+"px"}else{const Pe=T.length>0&&j===T[0].ref.current;u.style.top="0px";const Ue=Math.max(O,he+_.offsetTop+(Pe?L:0)+ue)+ye;u.style.height=Ue+"px",_.scrollTop=X-O+_.offsetTop}u.style.margin=`${fn}px 0`,u.style.minHeight=R+"px",u.style.maxHeight=Y+"px",o==null||o(),requestAnimationFrame(()=>b.current=!0)}},[w,l.trigger,l.valueNode,u,m,_,j,N,l.dir,o]);mr(()=>k(),[k]);const[P,z]=y.useState();mr(()=>{m&&z(window.getComputedStyle(m).zIndex)},[m]);const A=y.useCallback(q=>{q&&E.current===!0&&(k(),S==null||S(),E.current=!1)},[k,S]);return n.jsx(jO,{scope:r,contentWrapper:u,shouldExpandOnScrollRef:b,onScrollButtonChange:A,children:n.jsx("div",{ref:h,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:P},children:n.jsx(rt.div,{...i,ref:p,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});K1.displayName=bO;var wO="SelectPopperPosition",Am=y.forwardRef((t,e)=>{const{__scopeSelect:r,align:o="start",collisionPadding:i=fn,...l}=t,d=Su(r);return n.jsx(aO,{...d,...l,ref:e,align:o,collisionPadding:i,style:{boxSizing:"border-box",...l.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Am.displayName=wO;var[jO,Rp]=Pi(ma,{}),Pm="SelectViewport",G1=y.forwardRef((t,e)=>{const{__scopeSelect:r,nonce:o,...i}=t,l=Eo(Pm,r),d=Rp(Pm,r),u=mt(e,l.onViewportChange),h=y.useRef(0);return n.jsxs(n.Fragment,{children:[n.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:o}),n.jsx(Eu.Slot,{scope:r,children:n.jsx(rt.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:u,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:at(i.onScroll,m=>{const x=m.currentTarget,{contentWrapper:p,shouldExpandOnScrollRef:w}=d;if(w!=null&&w.current&&p){const b=Math.abs(h.current-x.scrollTop);if(b>0){const E=window.innerHeight-fn*2,_=parseFloat(p.style.minHeight),j=parseFloat(p.style.height),N=Math.max(_,j);if(N<E){const S=N+b,k=Math.min(E,S),P=S-k;p.style.height=k+"px",p.style.bottom==="0px"&&(x.scrollTop=P>0?P:0,p.style.justifyContent="flex-end")}}}h.current=x.scrollTop})})})]})});G1.displayName=Pm;var Q1="SelectGroup",[_O,EO]=Pi(Q1),NO=y.forwardRef((t,e)=>{const{__scopeSelect:r,...o}=t,i=Xa();return n.jsx(_O,{scope:r,id:i,children:n.jsx(rt.div,{role:"group","aria-labelledby":i,...o,ref:e})})});NO.displayName=Q1;var J1="SelectLabel",Y1=y.forwardRef((t,e)=>{const{__scopeSelect:r,...o}=t,i=EO(J1,r);return n.jsx(rt.div,{id:i.id,...o,ref:e})});Y1.displayName=J1;var tu="SelectItem",[SO,X1]=Pi(tu),Z1=y.forwardRef((t,e)=>{const{__scopeSelect:r,value:o,disabled:i=!1,textValue:l,...d}=t,u=_o(tu,r),h=Eo(tu,r),m=u.value===o,[x,p]=y.useState(l??""),[w,b]=y.useState(!1),E=mt(e,S=>{var k;return(k=h.itemRefCallback)==null?void 0:k.call(h,S,o,i)}),_=Xa(),j=y.useRef("touch"),N=()=>{i||(u.onValueChange(o),u.onOpenChange(!1))};if(o==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return n.jsx(SO,{scope:r,value:o,disabled:i,textId:_,isSelected:m,onItemTextChange:y.useCallback(S=>{p(k=>k||((S==null?void 0:S.textContent)??"").trim())},[]),children:n.jsx(Eu.ItemSlot,{scope:r,value:o,disabled:i,textValue:x,children:n.jsx(rt.div,{role:"option","aria-labelledby":_,"data-highlighted":w?"":void 0,"aria-selected":m&&w,"data-state":m?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...d,ref:E,onFocus:at(d.onFocus,()=>b(!0)),onBlur:at(d.onBlur,()=>b(!1)),onClick:at(d.onClick,()=>{j.current!=="mouse"&&N()}),onPointerUp:at(d.onPointerUp,()=>{j.current==="mouse"&&N()}),onPointerDown:at(d.onPointerDown,S=>{j.current=S.pointerType}),onPointerMove:at(d.onPointerMove,S=>{var k;j.current=S.pointerType,i?(k=h.onItemLeave)==null||k.call(h):j.current==="mouse"&&S.currentTarget.focus({preventScroll:!0})}),onPointerLeave:at(d.onPointerLeave,S=>{var k;S.currentTarget===document.activeElement&&((k=h.onItemLeave)==null||k.call(h))}),onKeyDown:at(d.onKeyDown,S=>{var P;((P=h.searchRef)==null?void 0:P.current)!==""&&S.key===" "||(uO.includes(S.key)&&N(),S.key===" "&&S.preventDefault())})})})})});Z1.displayName=tu;var _l="SelectItemText",ej=y.forwardRef((t,e)=>{const{__scopeSelect:r,className:o,style:i,...l}=t,d=_o(_l,r),u=Eo(_l,r),h=X1(_l,r),m=pO(_l,r),[x,p]=y.useState(null),w=mt(e,N=>p(N),h.onItemTextChange,N=>{var S;return(S=u.itemTextRefCallback)==null?void 0:S.call(u,N,h.value,h.disabled)}),b=x==null?void 0:x.textContent,E=y.useMemo(()=>n.jsx("option",{value:h.value,disabled:h.disabled,children:b},h.value),[h.disabled,h.value,b]),{onNativeOptionAdd:_,onNativeOptionRemove:j}=m;return mr(()=>(_(E),()=>j(E)),[_,j,E]),n.jsxs(n.Fragment,{children:[n.jsx(rt.span,{id:h.textId,...l,ref:w}),h.isSelected&&d.valueNode&&!d.valueNodeHasChildren?Fl.createPortal(l.children,d.valueNode):null]})});ej.displayName=_l;var tj="SelectItemIndicator",rj=y.forwardRef((t,e)=>{const{__scopeSelect:r,...o}=t;return X1(tj,r).isSelected?n.jsx(rt.span,{"aria-hidden":!0,...o,ref:e}):null});rj.displayName=tj;var Tm="SelectScrollUpButton",nj=y.forwardRef((t,e)=>{const r=Eo(Tm,t.__scopeSelect),o=Rp(Tm,t.__scopeSelect),[i,l]=y.useState(!1),d=mt(e,o.onScrollButtonChange);return mr(()=>{if(r.viewport&&r.isPositioned){let u=function(){const m=h.scrollTop>0;l(m)};const h=r.viewport;return u(),h.addEventListener("scroll",u),()=>h.removeEventListener("scroll",u)}},[r.viewport,r.isPositioned]),i?n.jsx(oj,{...t,ref:d,onAutoScroll:()=>{const{viewport:u,selectedItem:h}=r;u&&h&&(u.scrollTop=u.scrollTop-h.offsetHeight)}}):null});nj.displayName=Tm;var Om="SelectScrollDownButton",sj=y.forwardRef((t,e)=>{const r=Eo(Om,t.__scopeSelect),o=Rp(Om,t.__scopeSelect),[i,l]=y.useState(!1),d=mt(e,o.onScrollButtonChange);return mr(()=>{if(r.viewport&&r.isPositioned){let u=function(){const m=h.scrollHeight-h.clientHeight,x=Math.ceil(h.scrollTop)<m;l(x)};const h=r.viewport;return u(),h.addEventListener("scroll",u),()=>h.removeEventListener("scroll",u)}},[r.viewport,r.isPositioned]),i?n.jsx(oj,{...t,ref:d,onAutoScroll:()=>{const{viewport:u,selectedItem:h}=r;u&&h&&(u.scrollTop=u.scrollTop+h.offsetHeight)}}):null});sj.displayName=Om;var oj=y.forwardRef((t,e)=>{const{__scopeSelect:r,onAutoScroll:o,...i}=t,l=Eo("SelectScrollButton",r),d=y.useRef(null),u=Nu(r),h=y.useCallback(()=>{d.current!==null&&(window.clearInterval(d.current),d.current=null)},[]);return y.useEffect(()=>()=>h(),[h]),mr(()=>{var x;const m=u().find(p=>p.ref.current===document.activeElement);(x=m==null?void 0:m.ref.current)==null||x.scrollIntoView({block:"nearest"})},[u]),n.jsx(rt.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:at(i.onPointerDown,()=>{d.current===null&&(d.current=window.setInterval(o,50))}),onPointerMove:at(i.onPointerMove,()=>{var m;(m=l.onItemLeave)==null||m.call(l),d.current===null&&(d.current=window.setInterval(o,50))}),onPointerLeave:at(i.onPointerLeave,()=>{h()})})}),CO="SelectSeparator",aj=y.forwardRef((t,e)=>{const{__scopeSelect:r,...o}=t;return n.jsx(rt.div,{"aria-hidden":!0,...o,ref:e})});aj.displayName=CO;var Im="SelectArrow",kO=y.forwardRef((t,e)=>{const{__scopeSelect:r,...o}=t,i=Su(r),l=_o(Im,r),d=Eo(Im,r);return l.open&&d.position==="popper"?n.jsx(iO,{...i,...o,ref:e}):null});kO.displayName=Im;var RO="SelectBubbleInput",ij=y.forwardRef(({__scopeSelect:t,value:e,...r},o)=>{const i=y.useRef(null),l=mt(o,i),d=D1(e);return y.useEffect(()=>{const u=i.current;if(!u)return;const h=window.HTMLSelectElement.prototype,x=Object.getOwnPropertyDescriptor(h,"value").set;if(d!==e&&x){const p=new Event("change",{bubbles:!0});x.call(u,e),u.dispatchEvent(p)}},[d,e]),n.jsx(rt.select,{...r,style:{...M1,...r.style},ref:l,defaultValue:e})});ij.displayName=RO;function lj(t){return t===""||t===void 0}function cj(t){const e=ca(t),r=y.useRef(""),o=y.useRef(0),i=y.useCallback(d=>{const u=r.current+d;e(u),(function h(m){r.current=m,window.clearTimeout(o.current),m!==""&&(o.current=window.setTimeout(()=>h(""),1e3))})(u)},[e]),l=y.useCallback(()=>{r.current="",window.clearTimeout(o.current)},[]);return y.useEffect(()=>()=>window.clearTimeout(o.current),[]),[r,i,l]}function dj(t,e,r){const i=e.length>1&&Array.from(e).every(m=>m===e[0])?e[0]:e,l=r?t.indexOf(r):-1;let d=AO(t,Math.max(l,0));i.length===1&&(d=d.filter(m=>m!==r));const h=d.find(m=>m.textValue.toLowerCase().startsWith(i.toLowerCase()));return h!==r?h:void 0}function AO(t,e){return t.map((r,o)=>t[(e+o)%t.length])}var PO=L1,uj=B1,TO=z1,OO=U1,IO=q1,hj=W1,DO=G1,fj=Y1,mj=Z1,MO=ej,LO=rj,pj=nj,gj=sj,xj=aj;const Jo=PO,Yo=TO,fo=y.forwardRef(({className:t,children:e,...r},o)=>n.jsxs(uj,{ref:o,className:Je("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...r,children:[e,n.jsx(OO,{asChild:!0,children:n.jsx(Hw,{className:"h-4 w-4 opacity-50"})})]}));fo.displayName=uj.displayName;const vj=y.forwardRef(({className:t,...e},r)=>n.jsx(pj,{ref:r,className:Je("flex cursor-default items-center justify-center py-1",t),...e,children:n.jsx(HA,{className:"h-4 w-4"})}));vj.displayName=pj.displayName;const yj=y.forwardRef(({className:t,...e},r)=>n.jsx(gj,{ref:r,className:Je("flex cursor-default items-center justify-center py-1",t),...e,children:n.jsx(Hw,{className:"h-4 w-4"})}));yj.displayName=gj.displayName;const mo=y.forwardRef(({className:t,children:e,position:r="popper",...o},i)=>n.jsx(IO,{children:n.jsxs(hj,{ref:i,className:Je("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:r,...o,children:[n.jsx(vj,{}),n.jsx(DO,{className:Je("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),n.jsx(yj,{})]})}));mo.displayName=hj.displayName;const $O=y.forwardRef(({className:t,...e},r)=>n.jsx(fj,{ref:r,className:Je("px-2 py-1.5 text-sm font-semibold",t),...e}));$O.displayName=fj.displayName;const jt=y.forwardRef(({className:t,children:e,...r},o)=>n.jsxs(mj,{ref:o,className:Je("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...r,children:[n.jsx("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:n.jsx(LO,{children:n.jsx(ua,{className:"h-4 w-4"})})}),n.jsx(MO,{children:e})]}));jt.displayName=mj.displayName;const BO=y.forwardRef(({className:t,...e},r)=>n.jsx(xj,{ref:r,className:Je("-mx-1 my-1 h-px bg-muted",t),...e}));BO.displayName=xj.displayName;var bj="AlertDialog",[FO]=Si(bj,[Cw]),Ss=Cw(),wj=t=>{const{__scopeAlertDialog:e,...r}=t,o=Ss(e);return n.jsx(qw,{...o,...r,modal:!0})};wj.displayName=bj;var zO="AlertDialogTrigger",UO=y.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...o}=t,i=Ss(r);return n.jsx(DA,{...i,...o,ref:e})});UO.displayName=zO;var qO="AlertDialogPortal",jj=t=>{const{__scopeAlertDialog:e,...r}=t,o=Ss(e);return n.jsx(Ww,{...o,...r})};jj.displayName=qO;var WO="AlertDialogOverlay",_j=y.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...o}=t,i=Ss(r);return n.jsx(hp,{...i,...o,ref:e})});_j.displayName=WO;var ri="AlertDialogContent",[VO,HO]=FO(ri),KO=gR("AlertDialogContent"),Ej=y.forwardRef((t,e)=>{const{__scopeAlertDialog:r,children:o,...i}=t,l=Ss(r),d=y.useRef(null),u=mt(e,d),h=y.useRef(null);return n.jsx(PA,{contentName:ri,titleName:Nj,docsSlug:"alert-dialog",children:n.jsx(VO,{scope:r,cancelRef:h,children:n.jsxs(fp,{role:"alertdialog",...l,...i,ref:u,onOpenAutoFocus:at(i.onOpenAutoFocus,m=>{var x;m.preventDefault(),(x=h.current)==null||x.focus({preventScroll:!0})}),onPointerDownOutside:m=>m.preventDefault(),onInteractOutside:m=>m.preventDefault(),children:[n.jsx(KO,{children:o}),n.jsx(QO,{contentRef:d})]})})})});Ej.displayName=ri;var Nj="AlertDialogTitle",Sj=y.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...o}=t,i=Ss(r);return n.jsx(mp,{...i,...o,ref:e})});Sj.displayName=Nj;var Cj="AlertDialogDescription",kj=y.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...o}=t,i=Ss(r);return n.jsx(pp,{...i,...o,ref:e})});kj.displayName=Cj;var GO="AlertDialogAction",Rj=y.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...o}=t,i=Ss(r);return n.jsx(gp,{...i,...o,ref:e})});Rj.displayName=GO;var Aj="AlertDialogCancel",Pj=y.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...o}=t,{cancelRef:i}=HO(Aj,r),l=Ss(r),d=mt(e,i);return n.jsx(gp,{...l,...o,ref:d})});Pj.displayName=Aj;var QO=({contentRef:t})=>{const e=`\`${ri}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${ri}\` by passing a \`${Cj}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${ri}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return y.useEffect(()=>{var o;document.getElementById((o=t.current)==null?void 0:o.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},JO=wj,YO=jj,Tj=_j,Oj=Ej,Ij=Rj,Dj=Pj,Mj=Sj,Lj=kj;const XO=JO,ZO=YO,$j=y.forwardRef(({className:t,...e},r)=>n.jsx(Tj,{className:Je("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:r}));$j.displayName=Tj.displayName;const Bj=y.forwardRef(({className:t,...e},r)=>n.jsxs(ZO,{children:[n.jsx($j,{}),n.jsx(Oj,{ref:r,className:Je("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...e})]}));Bj.displayName=Oj.displayName;const Fj=({className:t,...e})=>n.jsx("div",{className:Je("flex flex-col space-y-2 text-center sm:text-left",t),...e});Fj.displayName="AlertDialogHeader";const zj=({className:t,...e})=>n.jsx("div",{className:Je("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});zj.displayName="AlertDialogFooter";const Uj=y.forwardRef(({className:t,...e},r)=>n.jsx(Mj,{ref:r,className:Je("text-lg font-semibold",t),...e}));Uj.displayName=Mj.displayName;const qj=y.forwardRef(({className:t,...e},r)=>n.jsx(Lj,{ref:r,className:Je("text-sm text-muted-foreground",t),...e}));qj.displayName=Lj.displayName;const Wj=y.forwardRef(({className:t,...e},r)=>n.jsx(Ij,{ref:r,className:Je(bp(),t),...e}));Wj.displayName=Ij.displayName;const Vj=y.forwardRef(({className:t,...e},r)=>n.jsx(Dj,{ref:r,className:Je(bp({variant:"outline"}),"mt-2 sm:mt-0",t),...e}));Vj.displayName=Dj.displayName;const eI=[{value:"BC",label:"Balnerio Cambori (BC)"},{value:"NOVA ESPERANA",label:"Nova Esperana"},{value:"CAMBORI",label:"Cambori"},{value:"BARRA",label:"Barra"},{value:"ESTALEIRO",label:"Estaleiro"},{value:"TAQUARAS",label:"Taquaras"},{value:"LARANJEIRAS",label:"Laranjeiras"},{value:"PRAIA DOS AMORES",label:"Praia dos Amores"},{value:"PRAIA BRAVA",label:"Praia Brava"},{value:"ITAJAI",label:"Itaja"},{value:"ITAPEMA",label:"Itapema"},{value:"NAVEGANTES",label:"Navegantes"},{value:"PENHA",label:"Penha"},{value:"PORTO BELO",label:"Porto Belo"},{value:"TIJUCAS",label:"Tijucas"},{value:"PIARRAS",label:"Piarras"},{value:"BOMBINHAS",label:"Bombinhas"},{value:"OUTRO",label:"Outro"}],tI=({cliente:t,onSuccess:e,onCancel:r})=>{const[o,i]=y.useState(t||{nome:"",cpf:"",telefone:"",email:"",enderecos:[{logradouro:"",numero:"",complemento:"",bairro:"",cidade:"",cep:"",regiao:"",ponto_referencia:"",observacoes:"",is_principal:!0}]}),[l,d]=y.useState(!1),u=async p=>{if(p.preventDefault(),!o.nome||!o.telefone){ge.error("Preencha nome e telefone");return}if(!o.enderecos.some(b=>b.logradouro&&b.numero&&b.cidade)){ge.error("Preencha pelo menos um endereo completo");return}d(!0);const w=ge.loading(t!=null&&t.id?"Atualizando cliente...":"Cadastrando cliente...");try{let b;if(t!=null&&t.id){const{error:_}=await _e.from("clientes").update({nome:o.nome,cpf:o.cpf||null,telefone:o.telefone,email:o.email||null,updated_at:new Date().toISOString()}).eq("id",t.id);if(_)throw _;b=t.id,await _e.from("enderecos").delete().eq("cliente_id",b)}else{const{data:_,error:j}=await _e.from("clientes").insert([{nome:o.nome,cpf:o.cpf||null,telefone:o.telefone,email:o.email||null}]).select().single();if(j)throw j;b=_.id}const E=o.enderecos.filter(_=>_.logradouro&&_.numero&&_.cidade).map((_,j)=>({cliente_id:b,logradouro:_.logradouro,numero:_.numero,complemento:_.complemento||null,bairro:_.bairro||null,cidade:_.cidade,cep:_.cep||null,regiao:_.regiao||null,ponto_referencia:_.ponto_referencia||null,observacoes:_.observacoes||null,is_principal:j===0}));if(E.length>0){const{error:_}=await _e.from("enderecos").insert(E);if(_)throw _}ge.success(t!=null&&t.id?"Cliente atualizado com sucesso!":"Cliente cadastrado com sucesso!",{id:w}),e()}catch(b){console.error("Erro ao salvar cliente:",b),ge.error("Erro ao salvar cliente: "+b.message,{id:w})}finally{d(!1)}},h=()=>{i({...o,enderecos:[...o.enderecos,{logradouro:"",numero:"",complemento:"",bairro:"",cidade:"",cep:"",regiao:"",ponto_referencia:"",observacoes:"",is_principal:!1}]})},m=p=>{if(o.enderecos.length===1){ge.error(" necessrio pelo menos um endereo");return}i({...o,enderecos:o.enderecos.filter((w,b)=>b!==p)})},x=(p,w,b)=>{const E=[...o.enderecos];E[p]={...E[p],[w]:b},i({...o,enderecos:E})};return n.jsxs("form",{onSubmit:u,className:"space-y-4",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Nome Completo *"}),n.jsx("input",{type:"text",value:o.nome,onChange:p=>i({...o,nome:p.target.value}),placeholder:"Digite o nome completo",className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-100",required:!0})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"CPF"}),n.jsx("input",{type:"text",value:o.cpf,onChange:p=>i({...o,cpf:p.target.value}),placeholder:"000.000.000-00",className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-100"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Telefone *"}),n.jsx("input",{type:"text",value:o.telefone,onChange:p=>i({...o,telefone:p.target.value}),placeholder:"(00) 00000-0000",className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-100",required:!0})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"E-mail"}),n.jsx("input",{type:"email",value:o.email,onChange:p=>i({...o,email:p.target.value}),placeholder:"cliente@email.com",className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-100"})]})]}),n.jsxs("div",{className:"space-y-3 pt-2 border-t border-slate-200",children:[n.jsxs("div",{className:"flex justify-between items-center pt-2",children:[n.jsx("h3",{className:"text-sm font-semibold text-slate-700",children:"Endereos"}),n.jsxs("button",{type:"button",onClick:h,className:"flex items-center gap-2 px-3 py-1.5 text-sm border border-slate-300 rounded-lg font-medium text-slate-700 hover:bg-slate-50 transition-colors",children:[n.jsx(pu,{className:"w-4 h-4"}),"Adicionar Endereo"]})]}),o.enderecos.map((p,w)=>n.jsxs("div",{className:"bg-slate-50 rounded-lg border border-slate-200 p-4",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsxs("h4",{className:"text-sm font-semibold text-slate-700",children:["Endereo ",w+1," ",w===0&&"(Principal)"]}),o.enderecos.length>1&&n.jsx("button",{type:"button",onClick:()=>m(w),className:"p-1.5 hover:bg-red-50 rounded transition-colors",children:n.jsx(Vl,{className:"w-4 h-4 text-red-500"})})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"CEP"}),n.jsx("input",{type:"text",value:p.cep||"",onChange:b=>x(w,"cep",b.target.value),placeholder:"00000-000",className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-100"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Regio"}),n.jsxs("select",{value:p.regiao||"",onChange:b=>x(w,"regiao",b.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-100",children:[n.jsx("option",{value:"",children:"Selecione a regio"}),eI.map(b=>n.jsx("option",{value:b.value,children:b.label},b.value))]})]})]}),n.jsxs("div",{className:"grid grid-cols-[2fr_1fr] gap-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Rua/Logradouro *"}),n.jsx("input",{type:"text",value:p.logradouro,onChange:b=>x(w,"logradouro",b.target.value),placeholder:"Nome da rua",className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-100"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Nmero *"}),n.jsx("input",{type:"text",value:p.numero,onChange:b=>x(w,"numero",b.target.value),placeholder:"123",className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-100"})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Bairro"}),n.jsx("input",{type:"text",value:p.bairro,onChange:b=>x(w,"bairro",b.target.value),placeholder:"Nome do bairro",className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-100"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Cidade *"}),n.jsx("input",{type:"text",value:p.cidade,onChange:b=>x(w,"cidade",b.target.value),placeholder:"Ex: Balnerio Cambori",className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-100"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Complemento"}),n.jsx("input",{type:"text",value:p.complemento,onChange:b=>x(w,"complemento",b.target.value),placeholder:"Apto, Bloco, etc.",className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-100"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Ponto de Referncia"}),n.jsx("input",{type:"text",value:p.ponto_referencia,onChange:b=>x(w,"ponto_referencia",b.target.value),placeholder:"Prximo a...",className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-100"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Observaes"}),n.jsx("textarea",{value:p.observacoes,onChange:b=>x(w,"observacoes",b.target.value),placeholder:"Observaes importantes",rows:2,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-100 resize-vertical"})]})]})]},`endereco-${w}-${p.logradouro||"new"}`))]}),n.jsxs("div",{className:"flex gap-3 pt-4",children:[n.jsx("button",{type:"button",onClick:r,className:"flex-1 px-4 py-2 border border-slate-300 rounded-lg font-medium text-slate-700 hover:bg-slate-50 transition-colors",children:"Cancelar"}),n.jsx("button",{type:"submit",disabled:l,className:"flex-1 px-4 py-2 rounded-lg font-medium text-white transition-colors",style:{backgroundColor:l?"#94a3b8":"#376295",cursor:l?"not-allowed":"pointer"},children:l?"Salvando...":t!=null&&t.id?"Atualizar":"Cadastrar"})]})]})},rI=({status:t})=>{const e={"Produzindo no Laboratrio":{color:"bg-blue-100 text-blue-700",icon:Ur},"Preparando no Setor de Entregas":{color:"bg-yellow-100 text-yellow-700",icon:Ur},"A Caminho":{color:"bg-purple-100 text-purple-700",icon:Ur},Entregue:{color:"bg-green-100 text-green-700",icon:ei},"No Entregue":{color:"bg-red-100 text-red-700",icon:yn},Cancelado:{color:"bg-gray-100 text-gray-700",icon:yn},Pendente:{color:"bg-slate-100 text-slate-700",icon:yn},Voltou:{color:"bg-orange-100 text-orange-700",icon:yn}},{color:r,icon:o}=e[t]||e.Pendente;return n.jsxs(Ln,{className:r,children:[n.jsx(o,{className:"w-3 h-3 mr-1"}),t]})};function nI(){const t=Ht(),[e,r]=y.useState(!1),[o,i]=y.useState(null),[l,d]=y.useState(""),[u,h]=y.useState([]),[m,x]=y.useState(!0),[p,w]=y.useState(!1),[b,E]=y.useState(null),[_,j]=y.useState(null),[N,S]=y.useState([]),[k,P]=y.useState(!1),[z,A]=y.useState(""),[q,K]=y.useState("todas"),de=async()=>{x(!0);try{const{data:F,error:O}=await _e.from("clientes").select(`
          *,
          enderecos (*)
        `).order("nome",{ascending:!0});if(O)throw O;h(F||[]),F&&F.length>0&&!_&&U(F[0])}catch(F){console.error("Erro ao carregar clientes:",F),ge.error("Erro ao carregar clientes")}finally{x(!1)}};y.useEffect(()=>{de()},[]);const V=u.filter(F=>{var O,ie,ue;return F.nome.toLowerCase().includes(l.toLowerCase())||((O=F.telefone)==null?void 0:O.includes(l))||((ie=F.cpf)==null?void 0:ie.includes(l))||((ue=F.email)==null?void 0:ue.toLowerCase().includes(l.toLowerCase()))}),T=(F,O)=>{O==null||O.stopPropagation(),i(F),r(!0)},Y=()=>{r(!1),setTimeout(()=>{i(null)},100)},te=()=>{Y(),de()},U=async F=>{j(F),A(""),K("todas"),await he(F.id)},he=async F=>{P(!0);try{const{data:O,error:ie}=await _e.from("entregas").select(`
          *,
          cliente:clientes(id, nome, telefone),
          endereco:enderecos(id, logradouro, numero, bairro, cidade, complemento),
          motoboy:motoboys(id, nome)
        `).eq("cliente_id",F).order("data_entrega",{ascending:!1});if(ie)throw ie;const ue=(O||[]).map(le=>{const X=le.endereco_logradouro?{id:le.endereco_id,logradouro:le.endereco_logradouro,numero:le.endereco_numero,complemento:le.endereco_complemento,bairro:le.endereco_bairro,cidade:le.endereco_cidade}:le.endereco;return{...le,endereco:X}});S(ue)}catch(O){console.error("Erro ao carregar entregas:",O),ge.error("Erro ao carregar histrico de entregas"),S([])}finally{P(!1)}},$=async()=>{if(!b)return;const F=ge.loading("Excluindo cliente...");try{const{data:O,error:ie}=await _e.from("entregas").select("id").eq("cliente_id",b.id).limit(1);if(ie)throw ie;if(O&&O.length>0){ge.error("No  possvel excluir cliente com entregas cadastradas",{id:F}),w(!1),E(null);return}await _e.from("enderecos").delete().eq("cliente_id",b.id);const{error:ue}=await _e.from("clientes").delete().eq("id",b.id);if(ue)throw ue;ge.success("Cliente excludo com sucesso!",{id:F}),w(!1),E(null),(_==null?void 0:_.id)===b.id&&(j(null),S([])),de()}catch(O){console.error("Erro ao excluir cliente:",O),ge.error("Erro ao excluir cliente: "+O.message,{id:F})}},Z=(F,O)=>{O==null||O.stopPropagation(),E(F),w(!0)},M=N.filter(F=>{var O,ie;if(q!=="todas"&&F.status!==q)return!1;if(z){const ue=z.toLowerCase();return((O=F.requisicao)==null?void 0:O.toLowerCase().includes(ue))||((ie=F.observacoes)==null?void 0:ie.toLowerCase().includes(ue))}return!0}),ae=N.length,R=N.filter(F=>F.status==="Produzindo no Laboratrio").length,D=N.filter(F=>F.status==="A Caminho").length,L=N.filter(F=>F.status==="Entregue").length;return n.jsxs("div",{className:"bg-gradient-to-br from-slate-50 to-slate-100 min-h-screen",children:[n.jsx("div",{className:"py-8 shadow-sm",style:{background:"linear-gradient(135deg, #457bba 0%, #890d5d 100%)"},children:n.jsx("div",{className:"max-w-7xl mx-auto px-6",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("button",{onClick:()=>t(-1),className:"p-2 rounded-lg bg-white/20 hover:bg-white/30 transition-colors",children:n.jsx(kt,{className:"w-6 h-6 text-white"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-4xl font-bold text-white",children:"Clientes"}),n.jsx("p",{className:"text-base text-white opacity-90 mt-1",children:"Gerencie sua base de clientes"})]})]})})}),n.jsxs("div",{className:"max-w-7xl mx-auto p-4 md:p-8 space-y-6",children:[n.jsx(jo,{open:e,onOpenChange:r,children:n.jsxs(_s,{style:{maxWidth:"900px",maxHeight:"90vh",overflowY:"auto"},children:[n.jsxs(Es,{children:[n.jsx(Ns,{style:{color:"#376295"},children:o?"Editar Cliente":"Novo Cliente"}),n.jsx(vu,{children:o?"Atualize as informaes do cliente e seus endereos.":"Preencha os dados do novo cliente e pelo menos um endereo."})]}),n.jsx(tI,{cliente:o,onSuccess:te,onCancel:Y})]},(o==null?void 0:o.id)||"new")}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[n.jsxs(vt,{className:"border-none shadow-lg",children:[n.jsxs(ms,{className:"space-y-3",children:[n.jsx(ps,{children:"Lista de Clientes"}),n.jsxs("div",{className:"relative",children:[n.jsx(Vn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400 w-4 h-4"}),n.jsx(Zt,{placeholder:"Buscar cliente...",value:l,onChange:F=>d(F.target.value),className:"pl-10"})]}),n.jsxs(ar,{className:"w-full",style:{background:"#376295",color:"white"},onClick:()=>{r(!0),i(null)},children:[n.jsx(pu,{className:"w-4 h-4 mr-2"}),"Novo Cliente"]})]}),n.jsx(_t,{className:"p-0",children:m?n.jsx("div",{className:"p-6 text-center text-slate-500",children:"Carregando clientes..."}):V.length===0?n.jsx("div",{className:"p-6 text-center text-slate-500",children:l?"Nenhum cliente encontrado":"Nenhum cliente cadastrado"}):n.jsx("div",{className:"divide-y divide-slate-100 max-h-[600px] overflow-y-auto",children:V.map(F=>n.jsx("div",{onClick:()=>U(F),className:`p-4 hover:bg-slate-50 transition-colors cursor-pointer ${(_==null?void 0:_.id)===F.id?"bg-blue-50 border-l-4 border-[#457bba]":""}`,children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-[#457bba] to-[#890d5d] flex items-center justify-center flex-shrink-0",children:n.jsx(bn,{className:"w-5 h-5 text-white"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("h3",{className:"font-semibold text-slate-900 truncate",children:F.nome}),n.jsxs("div",{className:"flex items-center gap-1 text-sm text-slate-600 mt-1",children:[n.jsx(Rl,{className:"w-3 h-3"}),F.telefone]}),n.jsxs("div",{className:"flex gap-2 mt-2",children:[n.jsxs(ar,{variant:"outline",size:"sm",onClick:O=>T(F,O),className:"h-7 text-xs",children:[n.jsx(xu,{className:"w-3 h-3 mr-1"}),"Editar"]}),n.jsxs(ar,{variant:"outline",size:"sm",onClick:O=>Z(F,O),className:"h-7 text-xs text-red-600 hover:text-red-700",children:[n.jsx(Vl,{className:"w-3 h-3 mr-1"}),"Excluir"]})]})]})]})},F.id))})})]}),n.jsx("div",{className:"lg:col-span-2 space-y-6",children:_?n.jsxs(n.Fragment,{children:[n.jsx(vt,{className:"border-none shadow-lg overflow-hidden",children:n.jsx(ms,{className:"bg-gradient-to-r from-[#457bba] to-[#890d5d] text-white",children:n.jsxs(ps,{className:"text-2xl flex items-center gap-3",children:[n.jsx(bn,{className:"w-8 h-8"}),n.jsxs("div",{children:[n.jsx("div",{children:_.nome}),n.jsx("div",{className:"text-sm font-normal opacity-90 mt-1",children:_.telefone})]})]})})}),n.jsx(vt,{className:"border-none shadow-lg",children:n.jsx(_t,{className:"pt-6",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[n.jsx(yi,{className:"w-5 h-5 text-[#f59e0b]"}),n.jsx("h3",{className:"font-semibold text-slate-900",children:"Endereos"})]}),_.enderecos&&_.enderecos.length>0?n.jsx("div",{className:"space-y-3",children:_.enderecos.map((F,O)=>n.jsxs("div",{className:"p-3 bg-slate-50 rounded-lg text-sm",children:[n.jsxs("div",{className:"font-medium text-slate-900",children:[F.logradouro,", ",F.numero]}),F.complemento&&n.jsx("div",{className:"text-slate-600",children:F.complemento}),n.jsxs("div",{className:"text-slate-600",children:[F.bairro&&`${F.bairro} - `,F.cidade]}),F.cep&&n.jsxs("div",{className:"text-slate-500",children:["CEP: ",F.cep]}),F.regiao&&n.jsx("div",{className:"mt-1",children:n.jsx(Ln,{variant:"outline",className:"text-xs",children:F.regiao})}),F.is_principal&&n.jsx("div",{className:"mt-2",children:n.jsx("span",{className:"text-xs bg-green-100 text-green-700 px-2 py-1 rounded",children:"Endereo Principal"})})]},O))}):n.jsx("p",{className:"text-slate-500 text-sm",children:"Nenhum endereo cadastrado"}),n.jsxs("div",{className:"mt-4 space-y-2",children:[_.cpf&&n.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[n.jsx(Gw,{className:"w-4 h-4 text-slate-400"}),n.jsxs("span",{className:"text-slate-600",children:["CPF: ",_.cpf]})]}),_.email&&n.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[n.jsx(u5,{className:"w-4 h-4 text-slate-400"}),n.jsx("span",{className:"text-slate-600",children:_.email})]})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-slate-900 mb-4",children:"Estatsticas de Entregas"}),n.jsxs("div",{className:"grid grid-cols-4 gap-3",children:[n.jsxs("button",{type:"button",onClick:()=>K("todas"),className:"bg-white rounded-xl shadow-sm p-4 cursor-pointer transition-all hover:shadow-md",style:{border:q==="todas"?"2px solid #376295":"2px solid transparent"},children:[n.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[n.jsx("div",{className:"p-1.5 rounded-lg",style:{backgroundColor:"#E8F0F8"},children:n.jsx(go,{className:"w-5 h-5",style:{color:"#376295"}})}),n.jsx("span",{className:"text-xs font-bold text-slate-700",children:"Total"})]}),n.jsx("div",{className:"text-3xl font-bold text-center",style:{color:"#376295"},children:ae})]}),n.jsxs("button",{type:"button",onClick:()=>K("Produzindo no Laboratrio"),className:"bg-white rounded-xl shadow-sm p-4 cursor-pointer transition-all hover:shadow-md",style:{border:q==="Produzindo no Laboratrio"?"2px solid #890d5d":"2px solid transparent"},children:[n.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[n.jsx("div",{className:"p-1.5 rounded-lg",style:{backgroundColor:"#F5E8F5"},children:n.jsx(Ur,{className:"w-5 h-5",style:{color:"#890d5d"}})}),n.jsx("span",{className:"text-xs font-bold text-slate-700",children:"Produo"})]}),n.jsx("div",{className:"text-3xl font-bold text-center",style:{color:"#890d5d"},children:R})]}),n.jsxs("button",{type:"button",onClick:()=>K("A Caminho"),className:"bg-white rounded-xl shadow-sm p-4 cursor-pointer transition-all hover:shadow-md",style:{border:q==="A Caminho"?"2px solid #f97316":"2px solid transparent"},children:[n.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[n.jsx("div",{className:"p-1.5 rounded-lg",style:{backgroundColor:"#FEF3E8"},children:n.jsx(fs,{className:"w-5 h-5",style:{color:"#f97316"}})}),n.jsx("span",{className:"text-xs font-bold text-slate-700",children:"A Caminho"})]}),n.jsx("div",{className:"text-3xl font-bold text-center",style:{color:"#f97316"},children:D})]}),n.jsxs("button",{type:"button",onClick:()=>K("Entregue"),className:"bg-white rounded-xl shadow-sm p-4 cursor-pointer transition-all hover:shadow-md",style:{border:q==="Entregue"?"2px solid #22c55e":"2px solid transparent"},children:[n.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[n.jsx("div",{className:"p-1.5 rounded-lg",style:{backgroundColor:"#E8F5E8"},children:n.jsx(ua,{className:"w-5 h-5",style:{color:"#22c55e"}})}),n.jsx("span",{className:"text-xs font-bold text-slate-700",children:"Entregues"})]}),n.jsx("div",{className:"text-3xl font-bold text-center",style:{color:"#22c55e"},children:L})]})]})]})]})})}),n.jsxs(vt,{className:"border-none shadow-lg",children:[n.jsxs(ms,{children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs(ps,{className:"flex items-center gap-2",children:[n.jsx(br,{className:"w-5 h-5 text-[#457bba]"}),"Histrico de Entregas"]}),n.jsxs("div",{className:"text-sm text-slate-500",children:[M.length," entregas"]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 mt-4",children:[n.jsxs("div",{className:"relative",children:[n.jsx(Vn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400 w-4 h-4"}),n.jsx(Zt,{placeholder:"Buscar por requisio...",value:z,onChange:F=>A(F.target.value),className:"pl-10"})]}),n.jsxs("select",{value:q,onChange:F=>K(F.target.value),className:"h-10 w-full rounded-md border border-slate-200 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-[#457bba] focus:border-transparent",children:[n.jsx("option",{value:"todas",children:"Todos os Status"}),n.jsx("option",{value:"Produzindo no Laboratrio",children:"Produo"}),n.jsx("option",{value:"A Caminho",children:"A Caminho"}),n.jsx("option",{value:"Entregue",children:"Entregue"}),n.jsx("option",{value:"Pendente",children:"Pendente"}),n.jsx("option",{value:"No Entregue",children:"No Entregue"}),n.jsx("option",{value:"Voltou",children:"Voltou"}),n.jsx("option",{value:"Cancelado",children:"Cancelado"})]})]})]}),n.jsx(_t,{className:"p-0",children:k?n.jsx("div",{className:"p-6 text-center text-slate-500",children:"Carregando histrico..."}):M.length===0?n.jsxs("div",{className:"p-12 text-center",children:[n.jsx(Ur,{className:"w-12 h-12 text-slate-300 mx-auto mb-4"}),n.jsx("p",{className:"text-slate-500",children:z||q!=="todas"?"Nenhuma entrega encontrada com os filtros aplicados":"Nenhuma entrega encontrada para este cliente"})]}):n.jsx("div",{className:"divide-y divide-slate-100 max-h-[500px] overflow-y-auto",children:M.map(F=>{var O;return n.jsx("button",{type:"button",onClick:()=>t(`/detalhes-romaneio?id=${F.id}`),className:"w-full p-4 hover:bg-slate-50 transition-colors cursor-pointer text-left",children:n.jsx("div",{className:"flex justify-between items-start gap-4",children:n.jsxs("div",{className:"flex-1 space-y-2",children:[n.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[n.jsxs("span",{className:"font-bold text-slate-900",children:["#",F.requisicao]}),n.jsx(rI,{status:F.status})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm text-slate-600",children:[((O=F.motoboy)==null?void 0:O.nome)&&n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Motoboy:"})," ",F.motoboy.nome]}),F.regiao&&n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(yi,{className:"w-3 h-3"}),F.regiao]}),F.data_entrega&&n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(vo,{className:"w-3 h-3"}),new Date(F.data_entrega).toLocaleDateString("pt-BR")]}),F.valor&&n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(ga,{className:"w-3 h-3"}),"R$ ",F.valor.toFixed(2)]})]})]})})},F.id)})})})]})]}):n.jsx(vt,{className:"border-none shadow-lg",children:n.jsxs(_t,{className:"p-12 text-center",children:[n.jsx(bn,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),n.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-2",children:"Selecione um Cliente"}),n.jsx("p",{className:"text-slate-600",children:"Escolha um cliente da lista para visualizar sua ficha completa e histrico de entregas"})]})})})]})]}),n.jsx(XO,{open:p,onOpenChange:w,children:n.jsxs(Bj,{children:[n.jsxs(Fj,{children:[n.jsx(Uj,{children:"Tem certeza?"}),n.jsxs(qj,{children:["Esta ao no pode ser desfeita. O cliente ",n.jsx("strong",{children:b==null?void 0:b.nome})," e todos os seus endereos sero excludos permanentemente."]})]}),n.jsxs(zj,{children:[n.jsx(Vj,{onClick:()=>E(null),children:"Cancelar"}),n.jsx(Wj,{onClick:$,style:{background:"#ef4444"},children:"Excluir"})]})]})})]})}function $t(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function Kn(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}function ru(t,e){const r=$t(t);return isNaN(e)?Kn(t,NaN):(e&&r.setDate(r.getDate()+e),r)}function Ap(t,e){const r=$t(t);if(isNaN(e))return Kn(t,NaN);if(!e)return r;const o=r.getDate(),i=Kn(t,r.getTime());i.setMonth(r.getMonth()+e+1,0);const l=i.getDate();return o>=l?i:(r.setFullYear(i.getFullYear(),i.getMonth(),o),r)}const Hj=6048e5,sI=864e5,Kj=6e4,Gj=36e5;let oI={};function Kl(){return oI}function pa(t,e){var u,h,m,x;const r=Kl(),o=(e==null?void 0:e.weekStartsOn)??((h=(u=e==null?void 0:e.locale)==null?void 0:u.options)==null?void 0:h.weekStartsOn)??r.weekStartsOn??((x=(m=r.locale)==null?void 0:m.options)==null?void 0:x.weekStartsOn)??0,i=$t(t),l=i.getDay(),d=(l<o?7:0)+l-o;return i.setDate(i.getDate()-d),i.setHours(0,0,0,0),i}function nu(t){return pa(t,{weekStartsOn:1})}function Qj(t){const e=$t(t),r=e.getFullYear(),o=Kn(t,0);o.setFullYear(r+1,0,4),o.setHours(0,0,0,0);const i=nu(o),l=Kn(t,0);l.setFullYear(r,0,4),l.setHours(0,0,0,0);const d=nu(l);return e.getTime()>=i.getTime()?r+1:e.getTime()>=d.getTime()?r:r-1}function su(t){const e=$t(t);return e.setHours(0,0,0,0),e}function ey(t){const e=$t(t),r=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return r.setUTCFullYear(e.getFullYear()),+t-+r}function aI(t,e){const r=su(t),o=su(e),i=+r-ey(r),l=+o-ey(o);return Math.round((i-l)/sI)}function iI(t){const e=Qj(t),r=Kn(t,0);return r.setFullYear(e,0,4),r.setHours(0,0,0,0),nu(r)}function Jj(t,e){const r=e*7;return ru(t,r)}function zr(t,e){const r=su(t),o=su(e);return+r==+o}function lI(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function cI(t){if(!lI(t)&&typeof t!="number")return!1;const e=$t(t);return!isNaN(Number(e))}function Yj(t){const e=$t(t),r=e.getMonth();return e.setFullYear(e.getFullYear(),r+1,0),e.setHours(23,59,59,999),e}function Xj(t,e){const r=$t(t.start),o=$t(t.end);let i=+r>+o;const l=i?+r:+o,d=i?o:r;d.setHours(0,0,0,0);let u=1;const h=[];for(;+d<=l;)h.push($t(d)),d.setDate(d.getDate()+u),d.setHours(0,0,0,0);return i?h.reverse():h}function Dm(t){const e=$t(t);return e.setDate(1),e.setHours(0,0,0,0),e}function dI(t){const e=$t(t),r=Kn(t,0);return r.setFullYear(e.getFullYear(),0,1),r.setHours(0,0,0,0),r}function ty(t,e){var u,h,m,x;const r=Kl(),o=(e==null?void 0:e.weekStartsOn)??((h=(u=e==null?void 0:e.locale)==null?void 0:u.options)==null?void 0:h.weekStartsOn)??r.weekStartsOn??((x=(m=r.locale)==null?void 0:m.options)==null?void 0:x.weekStartsOn)??0,i=$t(t),l=i.getDay(),d=(l<o?-7:0)+6-(l-o);return i.setDate(i.getDate()+d),i.setHours(23,59,59,999),i}const uI={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},hI=(t,e,r)=>{let o;const i=uI[t];return typeof i=="string"?o=i:e===1?o=i.one:o=i.other.replace("{{count}}",e.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+o:o+" ago":o};function ni(t){return(e={})=>{const r=e.width?String(e.width):t.defaultWidth;return t.formats[r]||t.formats[t.defaultWidth]}}const fI={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},mI={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},pI={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},gI={date:ni({formats:fI,defaultWidth:"full"}),time:ni({formats:mI,defaultWidth:"full"}),dateTime:ni({formats:pI,defaultWidth:"full"})},xI={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},vI=(t,e,r,o)=>xI[t];function zn(t){return(e,r)=>{const o=r!=null&&r.context?String(r.context):"standalone";let i;if(o==="formatting"&&t.formattingValues){const d=t.defaultFormattingWidth||t.defaultWidth,u=r!=null&&r.width?String(r.width):d;i=t.formattingValues[u]||t.formattingValues[d]}else{const d=t.defaultWidth,u=r!=null&&r.width?String(r.width):t.defaultWidth;i=t.values[u]||t.values[d]}const l=t.argumentCallback?t.argumentCallback(e):e;return i[l]}}const yI={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},bI={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},wI={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},jI={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},_I={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},EI={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},NI=(t,e)=>{const r=Number(t),o=r%100;if(o>20||o<10)switch(o%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},SI={ordinalNumber:NI,era:zn({values:yI,defaultWidth:"wide"}),quarter:zn({values:bI,defaultWidth:"wide",argumentCallback:t=>t-1}),month:zn({values:wI,defaultWidth:"wide"}),day:zn({values:jI,defaultWidth:"wide"}),dayPeriod:zn({values:_I,defaultWidth:"wide",formattingValues:EI,defaultFormattingWidth:"wide"})};function Un(t){return(e,r={})=>{const o=r.width,i=o&&t.matchPatterns[o]||t.matchPatterns[t.defaultMatchWidth],l=e.match(i);if(!l)return null;const d=l[0],u=o&&t.parsePatterns[o]||t.parsePatterns[t.defaultParseWidth],h=Array.isArray(u)?kI(u,p=>p.test(d)):CI(u,p=>p.test(d));let m;m=t.valueCallback?t.valueCallback(h):h,m=r.valueCallback?r.valueCallback(m):m;const x=e.slice(d.length);return{value:m,rest:x}}}function CI(t,e){for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&e(t[r]))return r}function kI(t,e){for(let r=0;r<t.length;r++)if(e(t[r]))return r}function Zj(t){return(e,r={})=>{const o=e.match(t.matchPattern);if(!o)return null;const i=o[0],l=e.match(t.parsePattern);if(!l)return null;let d=t.valueCallback?t.valueCallback(l[0]):l[0];d=r.valueCallback?r.valueCallback(d):d;const u=e.slice(i.length);return{value:d,rest:u}}}const RI=/^(\d+)(th|st|nd|rd)?/i,AI=/\d+/i,PI={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},TI={any:[/^b/i,/^(a|c)/i]},OI={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},II={any:[/1/i,/2/i,/3/i,/4/i]},DI={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},MI={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},LI={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},$I={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},BI={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},FI={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},zI={ordinalNumber:Zj({matchPattern:RI,parsePattern:AI,valueCallback:t=>parseInt(t,10)}),era:Un({matchPatterns:PI,defaultMatchWidth:"wide",parsePatterns:TI,defaultParseWidth:"any"}),quarter:Un({matchPatterns:OI,defaultMatchWidth:"wide",parsePatterns:II,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Un({matchPatterns:DI,defaultMatchWidth:"wide",parsePatterns:MI,defaultParseWidth:"any"}),day:Un({matchPatterns:LI,defaultMatchWidth:"wide",parsePatterns:$I,defaultParseWidth:"any"}),dayPeriod:Un({matchPatterns:BI,defaultMatchWidth:"any",parsePatterns:FI,defaultParseWidth:"any"})},UI={code:"en-US",formatDistance:hI,formatLong:gI,formatRelative:vI,localize:SI,match:zI,options:{weekStartsOn:0,firstWeekContainsDate:1}};function qI(t){const e=$t(t);return aI(e,dI(e))+1}function WI(t){const e=$t(t),r=+nu(e)-+iI(e);return Math.round(r/Hj)+1}function e_(t,e){var x,p,w,b;const r=$t(t),o=r.getFullYear(),i=Kl(),l=(e==null?void 0:e.firstWeekContainsDate)??((p=(x=e==null?void 0:e.locale)==null?void 0:x.options)==null?void 0:p.firstWeekContainsDate)??i.firstWeekContainsDate??((b=(w=i.locale)==null?void 0:w.options)==null?void 0:b.firstWeekContainsDate)??1,d=Kn(t,0);d.setFullYear(o+1,0,l),d.setHours(0,0,0,0);const u=pa(d,e),h=Kn(t,0);h.setFullYear(o,0,l),h.setHours(0,0,0,0);const m=pa(h,e);return r.getTime()>=u.getTime()?o+1:r.getTime()>=m.getTime()?o:o-1}function VI(t,e){var u,h,m,x;const r=Kl(),o=(e==null?void 0:e.firstWeekContainsDate)??((h=(u=e==null?void 0:e.locale)==null?void 0:u.options)==null?void 0:h.firstWeekContainsDate)??r.firstWeekContainsDate??((x=(m=r.locale)==null?void 0:m.options)==null?void 0:x.firstWeekContainsDate)??1,i=e_(t,e),l=Kn(t,0);return l.setFullYear(i,0,o),l.setHours(0,0,0,0),pa(l,e)}function HI(t,e){const r=$t(t),o=+pa(r,e)-+VI(r,e);return Math.round(o/Hj)+1}function st(t,e){const r=t<0?"-":"",o=Math.abs(t).toString().padStart(e,"0");return r+o}const Xs={y(t,e){const r=t.getFullYear(),o=r>0?r:1-r;return st(e==="yy"?o%100:o,e.length)},M(t,e){const r=t.getMonth();return e==="M"?String(r+1):st(r+1,2)},d(t,e){return st(t.getDate(),e.length)},a(t,e){const r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(t,e){return st(t.getHours()%12||12,e.length)},H(t,e){return st(t.getHours(),e.length)},m(t,e){return st(t.getMinutes(),e.length)},s(t,e){return st(t.getSeconds(),e.length)},S(t,e){const r=e.length,o=t.getMilliseconds(),i=Math.trunc(o*Math.pow(10,r-3));return st(i,e.length)}},Ka={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},ry={G:function(t,e,r){const o=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return r.era(o,{width:"abbreviated"});case"GGGGG":return r.era(o,{width:"narrow"});case"GGGG":default:return r.era(o,{width:"wide"})}},y:function(t,e,r){if(e==="yo"){const o=t.getFullYear(),i=o>0?o:1-o;return r.ordinalNumber(i,{unit:"year"})}return Xs.y(t,e)},Y:function(t,e,r,o){const i=e_(t,o),l=i>0?i:1-i;if(e==="YY"){const d=l%100;return st(d,2)}return e==="Yo"?r.ordinalNumber(l,{unit:"year"}):st(l,e.length)},R:function(t,e){const r=Qj(t);return st(r,e.length)},u:function(t,e){const r=t.getFullYear();return st(r,e.length)},Q:function(t,e,r){const o=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(o);case"QQ":return st(o,2);case"Qo":return r.ordinalNumber(o,{unit:"quarter"});case"QQQ":return r.quarter(o,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(o,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(o,{width:"wide",context:"formatting"})}},q:function(t,e,r){const o=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(o);case"qq":return st(o,2);case"qo":return r.ordinalNumber(o,{unit:"quarter"});case"qqq":return r.quarter(o,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(o,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(o,{width:"wide",context:"standalone"})}},M:function(t,e,r){const o=t.getMonth();switch(e){case"M":case"MM":return Xs.M(t,e);case"Mo":return r.ordinalNumber(o+1,{unit:"month"});case"MMM":return r.month(o,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(o,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(o,{width:"wide",context:"formatting"})}},L:function(t,e,r){const o=t.getMonth();switch(e){case"L":return String(o+1);case"LL":return st(o+1,2);case"Lo":return r.ordinalNumber(o+1,{unit:"month"});case"LLL":return r.month(o,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(o,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(o,{width:"wide",context:"standalone"})}},w:function(t,e,r,o){const i=HI(t,o);return e==="wo"?r.ordinalNumber(i,{unit:"week"}):st(i,e.length)},I:function(t,e,r){const o=WI(t);return e==="Io"?r.ordinalNumber(o,{unit:"week"}):st(o,e.length)},d:function(t,e,r){return e==="do"?r.ordinalNumber(t.getDate(),{unit:"date"}):Xs.d(t,e)},D:function(t,e,r){const o=qI(t);return e==="Do"?r.ordinalNumber(o,{unit:"dayOfYear"}):st(o,e.length)},E:function(t,e,r){const o=t.getDay();switch(e){case"E":case"EE":case"EEE":return r.day(o,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(o,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(o,{width:"short",context:"formatting"});case"EEEE":default:return r.day(o,{width:"wide",context:"formatting"})}},e:function(t,e,r,o){const i=t.getDay(),l=(i-o.weekStartsOn+8)%7||7;switch(e){case"e":return String(l);case"ee":return st(l,2);case"eo":return r.ordinalNumber(l,{unit:"day"});case"eee":return r.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(i,{width:"short",context:"formatting"});case"eeee":default:return r.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,r,o){const i=t.getDay(),l=(i-o.weekStartsOn+8)%7||7;switch(e){case"c":return String(l);case"cc":return st(l,e.length);case"co":return r.ordinalNumber(l,{unit:"day"});case"ccc":return r.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(i,{width:"narrow",context:"standalone"});case"cccccc":return r.day(i,{width:"short",context:"standalone"});case"cccc":default:return r.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,r){const o=t.getDay(),i=o===0?7:o;switch(e){case"i":return String(i);case"ii":return st(i,e.length);case"io":return r.ordinalNumber(i,{unit:"day"});case"iii":return r.day(o,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(o,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(o,{width:"short",context:"formatting"});case"iiii":default:return r.day(o,{width:"wide",context:"formatting"})}},a:function(t,e,r){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,r){const o=t.getHours();let i;switch(o===12?i=Ka.noon:o===0?i=Ka.midnight:i=o/12>=1?"pm":"am",e){case"b":case"bb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,r){const o=t.getHours();let i;switch(o>=17?i=Ka.evening:o>=12?i=Ka.afternoon:o>=4?i=Ka.morning:i=Ka.night,e){case"B":case"BB":case"BBB":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,r){if(e==="ho"){let o=t.getHours()%12;return o===0&&(o=12),r.ordinalNumber(o,{unit:"hour"})}return Xs.h(t,e)},H:function(t,e,r){return e==="Ho"?r.ordinalNumber(t.getHours(),{unit:"hour"}):Xs.H(t,e)},K:function(t,e,r){const o=t.getHours()%12;return e==="Ko"?r.ordinalNumber(o,{unit:"hour"}):st(o,e.length)},k:function(t,e,r){let o=t.getHours();return o===0&&(o=24),e==="ko"?r.ordinalNumber(o,{unit:"hour"}):st(o,e.length)},m:function(t,e,r){return e==="mo"?r.ordinalNumber(t.getMinutes(),{unit:"minute"}):Xs.m(t,e)},s:function(t,e,r){return e==="so"?r.ordinalNumber(t.getSeconds(),{unit:"second"}):Xs.s(t,e)},S:function(t,e){return Xs.S(t,e)},X:function(t,e,r){const o=t.getTimezoneOffset();if(o===0)return"Z";switch(e){case"X":return sy(o);case"XXXX":case"XX":return Vo(o);case"XXXXX":case"XXX":default:return Vo(o,":")}},x:function(t,e,r){const o=t.getTimezoneOffset();switch(e){case"x":return sy(o);case"xxxx":case"xx":return Vo(o);case"xxxxx":case"xxx":default:return Vo(o,":")}},O:function(t,e,r){const o=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+ny(o,":");case"OOOO":default:return"GMT"+Vo(o,":")}},z:function(t,e,r){const o=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+ny(o,":");case"zzzz":default:return"GMT"+Vo(o,":")}},t:function(t,e,r){const o=Math.trunc(t.getTime()/1e3);return st(o,e.length)},T:function(t,e,r){const o=t.getTime();return st(o,e.length)}};function ny(t,e=""){const r=t>0?"-":"+",o=Math.abs(t),i=Math.trunc(o/60),l=o%60;return l===0?r+String(i):r+String(i)+e+st(l,2)}function sy(t,e){return t%60===0?(t>0?"-":"+")+st(Math.abs(t)/60,2):Vo(t,e)}function Vo(t,e=""){const r=t>0?"-":"+",o=Math.abs(t),i=st(Math.trunc(o/60),2),l=st(o%60,2);return r+i+e+l}const oy=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},t_=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},KI=(t,e)=>{const r=t.match(/(P+)(p+)?/)||[],o=r[1],i=r[2];if(!i)return oy(t,e);let l;switch(o){case"P":l=e.dateTime({width:"short"});break;case"PP":l=e.dateTime({width:"medium"});break;case"PPP":l=e.dateTime({width:"long"});break;case"PPPP":default:l=e.dateTime({width:"full"});break}return l.replace("{{date}}",oy(o,e)).replace("{{time}}",t_(i,e))},GI={p:t_,P:KI},QI=/^D+$/,JI=/^Y+$/,YI=["D","DD","YY","YYYY"];function XI(t){return QI.test(t)}function ZI(t){return JI.test(t)}function e3(t,e,r){const o=t3(t,e,r);if(console.warn(o),YI.includes(t))throw new RangeError(o)}function t3(t,e,r){const o=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${o} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const r3=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,n3=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,s3=/^'([^]*?)'?$/,o3=/''/g,a3=/[a-zA-Z]/;function Qe(t,e,r){var x,p,w,b,E,_,j,N;const o=Kl(),i=(r==null?void 0:r.locale)??o.locale??UI,l=(r==null?void 0:r.firstWeekContainsDate)??((p=(x=r==null?void 0:r.locale)==null?void 0:x.options)==null?void 0:p.firstWeekContainsDate)??o.firstWeekContainsDate??((b=(w=o.locale)==null?void 0:w.options)==null?void 0:b.firstWeekContainsDate)??1,d=(r==null?void 0:r.weekStartsOn)??((_=(E=r==null?void 0:r.locale)==null?void 0:E.options)==null?void 0:_.weekStartsOn)??o.weekStartsOn??((N=(j=o.locale)==null?void 0:j.options)==null?void 0:N.weekStartsOn)??0,u=$t(t);if(!cI(u))throw new RangeError("Invalid time value");let h=e.match(n3).map(S=>{const k=S[0];if(k==="p"||k==="P"){const P=GI[k];return P(S,i.formatLong)}return S}).join("").match(r3).map(S=>{if(S==="''")return{isToken:!1,value:"'"};const k=S[0];if(k==="'")return{isToken:!1,value:i3(S)};if(ry[k])return{isToken:!0,value:S};if(k.match(a3))throw new RangeError("Format string contains an unescaped latin alphabet character `"+k+"`");return{isToken:!1,value:S}});i.localize.preprocessor&&(h=i.localize.preprocessor(u,h));const m={firstWeekContainsDate:l,weekStartsOn:d,locale:i};return h.map(S=>{if(!S.isToken)return S.value;const k=S.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&ZI(k)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&XI(k))&&e3(k,e,String(t));const P=ry[k[0]];return P(u,k,i.localize,m)}).join("")}function i3(t){const e=t.match(s3);return e?e[1].replace(o3,"'"):t}function l3(t){return $t(t).getDay()}function _d(t,e){return ru(t,-e)}function er(t,e){const o=h3(t);let i;if(o.date){const h=f3(o.date,2);i=m3(h.restDateString,h.year)}if(!i||isNaN(i.getTime()))return new Date(NaN);const l=i.getTime();let d=0,u;if(o.time&&(d=p3(o.time),isNaN(d)))return new Date(NaN);if(o.timezone){if(u=g3(o.timezone),isNaN(u))return new Date(NaN)}else{const h=new Date(l+d),m=new Date(0);return m.setFullYear(h.getUTCFullYear(),h.getUTCMonth(),h.getUTCDate()),m.setHours(h.getUTCHours(),h.getUTCMinutes(),h.getUTCSeconds(),h.getUTCMilliseconds()),m}return new Date(l+d+u)}const Ed={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},c3=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,d3=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,u3=/^([+-])(\d{2})(?::?(\d{2}))?$/;function h3(t){const e={},r=t.split(Ed.dateTimeDelimiter);let o;if(r.length>2)return e;if(/:/.test(r[0])?o=r[0]:(e.date=r[0],o=r[1],Ed.timeZoneDelimiter.test(e.date)&&(e.date=t.split(Ed.timeZoneDelimiter)[0],o=t.substr(e.date.length,t.length))),o){const i=Ed.timezone.exec(o);i?(e.time=o.replace(i[1],""),e.timezone=i[1]):e.time=o}return e}function f3(t,e){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),o=t.match(r);if(!o)return{year:NaN,restDateString:""};const i=o[1]?parseInt(o[1]):null,l=o[2]?parseInt(o[2]):null;return{year:l===null?i:l*100,restDateString:t.slice((o[1]||o[2]).length)}}function m3(t,e){if(e===null)return new Date(NaN);const r=t.match(c3);if(!r)return new Date(NaN);const o=!!r[4],i=vl(r[1]),l=vl(r[2])-1,d=vl(r[3]),u=vl(r[4]),h=vl(r[5])-1;if(o)return w3(e,u,h)?x3(e,u,h):new Date(NaN);{const m=new Date(0);return!y3(e,l,d)||!b3(e,i)?new Date(NaN):(m.setUTCFullYear(e,l,Math.max(i,d)),m)}}function vl(t){return t?parseInt(t):1}function p3(t){const e=t.match(d3);if(!e)return NaN;const r=Bf(e[1]),o=Bf(e[2]),i=Bf(e[3]);return j3(r,o,i)?r*Gj+o*Kj+i*1e3:NaN}function Bf(t){return t&&parseFloat(t.replace(",","."))||0}function g3(t){if(t==="Z")return 0;const e=t.match(u3);if(!e)return 0;const r=e[1]==="+"?-1:1,o=parseInt(e[2]),i=e[3]&&parseInt(e[3])||0;return _3(o,i)?r*(o*Gj+i*Kj):NaN}function x3(t,e,r){const o=new Date(0);o.setUTCFullYear(t,0,4);const i=o.getUTCDay()||7,l=(e-1)*7+r+1-i;return o.setUTCDate(o.getUTCDate()+l),o}const v3=[31,null,31,30,31,30,31,31,30,31,30,31];function r_(t){return t%400===0||t%4===0&&t%100!==0}function y3(t,e,r){return e>=0&&e<=11&&r>=1&&r<=(v3[e]||(r_(t)?29:28))}function b3(t,e){return e>=1&&e<=(r_(t)?366:365)}function w3(t,e,r){return e>=1&&e<=53&&r>=0&&r<=6}function j3(t,e,r){return t===24?e===0&&r===0:r>=0&&r<60&&e>=0&&e<60&&t>=0&&t<25}function _3(t,e){return e>=0&&e<=59}function n_(t,e){return Ap(t,-1)}function E3(t,e){return Jj(t,-1)}const N3={lessThanXSeconds:{one:"menos de um segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"meio minuto",lessThanXMinutes:{one:"menos de um minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"cerca de 1 hora",other:"cerca de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 dia",other:"{{count}} dias"},aboutXWeeks:{one:"cerca de 1 semana",other:"cerca de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"cerca de 1 ms",other:"cerca de {{count}} meses"},xMonths:{one:"1 ms",other:"{{count}} meses"},aboutXYears:{one:"cerca de 1 ano",other:"cerca de {{count}} anos"},xYears:{one:"1 ano",other:"{{count}} anos"},overXYears:{one:"mais de 1 ano",other:"mais de {{count}} anos"},almostXYears:{one:"quase 1 ano",other:"quase {{count}} anos"}},S3=(t,e,r)=>{let o;const i=N3[t];return typeof i=="string"?o=i:e===1?o=i.one:o=i.other.replace("{{count}}",String(e)),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"em "+o:"h "+o:o},C3={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/yyyy"},k3={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},R3={full:"{{date}} 's' {{time}}",long:"{{date}} 's' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},A3={date:ni({formats:C3,defaultWidth:"full"}),time:ni({formats:k3,defaultWidth:"full"}),dateTime:ni({formats:R3,defaultWidth:"full"})},P3={lastWeek:t=>{const e=t.getDay();return"'"+(e===0||e===6?"ltimo":"ltima")+"' eeee 's' p"},yesterday:"'ontem s' p",today:"'hoje s' p",tomorrow:"'amanh s' p",nextWeek:"eeee 's' p",other:"P"},T3=(t,e,r,o)=>{const i=P3[t];return typeof i=="function"?i(e):i},O3={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","depois de cristo"]},I3={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1 trimestre","2 trimestre","3 trimestre","4 trimestre"]},D3={narrow:["j","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"],wide:["janeiro","fevereiro","maro","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"]},M3={narrow:["D","S","T","Q","Q","S","S"],short:["dom","seg","ter","qua","qui","sex","sab"],abbreviated:["domingo","segunda","tera","quarta","quinta","sexta","sbado"],wide:["domingo","segunda-feira","tera-feira","quarta-feira","quinta-feira","sexta-feira","sbado"]},L3={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"}},$3={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"}},B3=(t,e)=>{const r=Number(t);return(e==null?void 0:e.unit)==="week"?r+"":r+""},F3={ordinalNumber:B3,era:zn({values:O3,defaultWidth:"wide"}),quarter:zn({values:I3,defaultWidth:"wide",argumentCallback:t=>t-1}),month:zn({values:D3,defaultWidth:"wide"}),day:zn({values:M3,defaultWidth:"wide"}),dayPeriod:zn({values:L3,defaultWidth:"wide",formattingValues:$3,defaultFormattingWidth:"wide"})},z3=/^(\d+)[o]?/i,U3=/\d+/i,q3={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|d\.?\s?c\.?)/i,wide:/^(antes de cristo|depois de cristo)/i},W3={any:[/^ac/i,/^dc/i],wide:[/^antes de cristo/i,/^depois de cristo/i]},V3={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234]()? trimestre/i},H3={any:[/1/i,/2/i,/3/i,/4/i]},K3={narrow:/^[jfmajsond]/i,abbreviated:/^(jan|fev|mar|abr|mai|jun|jul|ago|set|out|nov|dez)/i,wide:/^(janeiro|fevereiro|maro|abril|maio|junho|julho|agosto|setembro|outubro|novembro|dezembro)/i},G3={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^fev/i,/^mar/i,/^abr/i,/^mai/i,/^jun/i,/^jul/i,/^ago/i,/^set/i,/^out/i,/^nov/i,/^dez/i]},Q3={narrow:/^(dom|[23456]?|s[a]b)/i,short:/^(dom|[23456]?|s[a]b)/i,abbreviated:/^(dom|seg|ter|qua|qui|sex|s[a]b)/i,wide:/^(domingo|(segunda|ter[c]a|quarta|quinta|sexta)([- ]feira)?|s[a]bado)/i},J3={short:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[a]/i],narrow:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[a]/i],any:[/^d/i,/^seg/i,/^t/i,/^qua/i,/^qui/i,/^sex/i,/^s[a]b/i]},Y3={narrow:/^(a|p|mn|md|(da) (manh|tarde|noite))/i,any:/^([ap]\.?\s?m\.?|meia[-\s]noite|meio[-\s]dia|(da) (manh|tarde|noite))/i},X3={any:{am:/^a/i,pm:/^p/i,midnight:/^mn|^meia[-\s]noite/i,noon:/^md|^meio[-\s]dia/i,morning:/manh/i,afternoon:/tarde/i,evening:/tarde/i,night:/noite/i}},Z3={ordinalNumber:Zj({matchPattern:z3,parsePattern:U3,valueCallback:t=>parseInt(t,10)}),era:Un({matchPatterns:q3,defaultMatchWidth:"wide",parsePatterns:W3,defaultParseWidth:"any"}),quarter:Un({matchPatterns:V3,defaultMatchWidth:"wide",parsePatterns:H3,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Un({matchPatterns:K3,defaultMatchWidth:"wide",parsePatterns:G3,defaultParseWidth:"any"}),day:Un({matchPatterns:Q3,defaultMatchWidth:"wide",parsePatterns:J3,defaultParseWidth:"any"}),dayPeriod:Un({matchPatterns:Y3,defaultMatchWidth:"any",parsePatterns:X3,defaultParseWidth:"any"})},vn={code:"pt-BR",formatDistance:S3,formatLong:A3,formatRelative:T3,localize:F3,match:Z3,options:{weekStartsOn:0,firstWeekContainsDate:1}};var El=function(){return El=Object.assign||function(e){for(var r,o=1,i=arguments.length;o<i;o++){r=arguments[o];for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&(e[l]=r[l])}return e},El.apply(this,arguments)};var eD=y.createContext(void 0);function tD(){var t=y.useContext(eD);if(!t)throw new Error("useDayPicker must be used within a DayPickerProvider.");return t}y.createContext(void 0);y.forwardRef(function(t,e){var r=tD(),o=r.classNames,i=r.styles,l=[o.button_reset,o.button];t.className&&l.push(t.className);var d=l.join(" "),u=El(El({},i.button_reset),i.button);return t.style&&Object.assign(u,t.style),n.jsx("button",El({},t,{ref:e,type:"button",className:d,style:u}))});y.createContext(void 0);y.createContext(void 0);var Gn;(function(t){t.Outside="outside",t.Disabled="disabled",t.Selected="selected",t.Hidden="hidden",t.Today="today",t.RangeStart="range_start",t.RangeEnd="range_end",t.RangeMiddle="range_middle"})(Gn||(Gn={}));Gn.Selected;Gn.Disabled;Gn.Hidden;Gn.Today;Gn.RangeEnd;Gn.RangeMiddle;Gn.RangeStart;Gn.Outside;y.createContext(void 0);y.createContext(void 0);y.createContext(void 0);function rD(){const t=Ht(),[e,r]=y.useState("dia"),[o,i]=y.useState(new Date),[l,d]=y.useState(new Date),[u,h]=y.useState(!1),[m,x]=y.useState(""),[p,w]=y.useState("todos"),[b,E]=y.useState({tipo:"SEDEX",cliente:"",remetente:"",numero_requisicao:"",codigo_rastreio:"",valor:"",forma_pagamento:"Aguardando",observacoes:"",data_saida:Qe(new Date,"yyyy-MM-dd")}),{data:_}=tn({queryKey:["current-user"],queryFn:async()=>{const{data:{user:T}}=await _e.auth.getUser();if(!T)return null;const{data:Y}=await _e.from("usuarios").select("id, nome, email").eq("id",T.id).single();return Y}}),j=T=>{const Y=T.getFullYear(),te=T.getMonth(),U=new Date(Y,te,1),$=new Date(Y,te+1,0).getDate(),Z=U.getDay(),M=[];for(let ae=0;ae<Z;ae++)M.push({day:"",isCurrentMonth:!1});for(let ae=1;ae<=$;ae++){const R=new Date(Y,te,ae);M.push({day:ae,isCurrentMonth:!0,isSelected:ae===o.getDate()&&te===o.getMonth()&&Y===o.getFullYear(),date:R})}return M},{data:N=[],isLoading:S,refetch:k}=tn({queryKey:["sedex-disktenha",e,o],queryFn:async()=>{let T=_e.from("sedex_disktenha").select("*").order("data_saida",{ascending:!1});if(e==="dia"){const U=Qe(o,"yyyy-MM-dd");T=T.eq("data_saida",U)}const{data:Y,error:te}=await T;if(te)throw te;return Y||[]}}),P=N.length,z=N.filter(T=>T.tipo==="SEDEX").length,A=N.filter(T=>T.tipo==="PAC").length,q=N.filter(T=>T.tipo==="DISKTENHA").length,K=N.filter(T=>T.tipo==="DISKTENHA").reduce((T,Y)=>T+(parseFloat(Y.valor)||0),0),de=N.filter(T=>{var U,he,$,Z;const Y=((U=T.cliente)==null?void 0:U.toLowerCase().includes(m.toLowerCase()))||((he=T.codigo_rastreio)==null?void 0:he.toLowerCase().includes(m.toLowerCase()))||(($=T.remetente)==null?void 0:$.toLowerCase().includes(m.toLowerCase()))||((Z=T.numero_requisicao)==null?void 0:Z.toLowerCase().includes(m.toLowerCase())),te=p==="todos"||T.tipo===p;return Y&&te}),V=async()=>{if(!b.cliente||!b.numero_requisicao){ge.error("Preencha os campos obrigatrios");return}try{const{error:T}=await _e.from("sedex_disktenha").insert([{...b,valor:parseFloat(b.valor)||0,status:"Pendente",atendente:(_==null?void 0:_.nome)||"",created_at:new Date().toISOString()}]);if(T)throw T;ge.success("Entrega criada com sucesso!"),h(!1),E({tipo:"SEDEX",cliente:"",remetente:"",numero_requisicao:"",codigo_rastreio:"",valor:"",forma_pagamento:"Aguardando",observacoes:"",data_saida:Qe(new Date,"yyyy-MM-dd")}),k()}catch(T){console.error("Erro ao criar entrega:",T),ge.error("Erro ao criar entrega")}};return n.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100",children:[n.jsx("div",{className:"py-8 shadow-sm",style:{background:"linear-gradient(135deg, #457bba 0%, #890d5d 100%)"},children:n.jsx("div",{className:"max-w-7xl mx-auto px-6",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("button",{onClick:()=>t(-1),className:"p-2 rounded-lg bg-white/20 hover:bg-white/30 transition-colors",children:n.jsx(kt,{className:"w-6 h-6 text-white"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-4xl font-bold text-white",children:"Sedex / Disktenha"}),n.jsx("p",{className:"text-base text-white opacity-90 mt-1",children:"Gerencie entregas via Sedex, PAC e Disktenha"})]})]})})}),n.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-6 flex gap-6",children:[n.jsx("div",{className:"w-80 flex-shrink-0",children:n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6 sticky top-6",children:[n.jsxs(ar,{onClick:()=>h(!0),className:"w-full mb-4 py-6 text-base font-bold uppercase",style:{background:"#890d5d"},children:[n.jsx(pu,{className:"w-5 h-5 mr-2 font-bold",strokeWidth:4}),"NOVA ENTREGA"]}),n.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[n.jsxs("button",{onClick:()=>r("dia"),className:"flex-1 flex items-center justify-center gap-2 px-4 py-2 rounded-lg font-semibold text-sm transition-all",style:{backgroundColor:e==="dia"?"#376295":"white",color:e==="dia"?"white":"#64748b",border:e==="dia"?"none":"1px solid #e2e8f0"},children:[n.jsx(vo,{className:"w-4 h-4"}),"Por Dia"]}),n.jsxs("button",{onClick:()=>{r("todas"),w("todos")},className:"flex-1 flex items-center justify-center gap-2 px-4 py-2 rounded-lg font-semibold text-sm transition-all",style:{backgroundColor:e==="todas"?"#376295":"white",color:e==="todas"?"white":"#64748b",border:e==="todas"?"none":"1px solid #e2e8f0"},children:[n.jsx(go,{className:"w-4 h-4"}),"Todos"]})]}),n.jsxs("div",{className:"border rounded-xl p-3 mb-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsx("button",{onClick:()=>{const T=new Date(l);T.setMonth(T.getMonth()-1),d(T)},className:"p-2 hover:bg-slate-100 rounded-lg transition-colors",children:n.jsx(kt,{className:"w-5 h-5 text-slate-600"})}),n.jsx("span",{className:"text-sm font-semibold text-slate-700",children:l.toLocaleDateString("pt-BR",{month:"long",year:"numeric"}).replace(/^\w/,T=>T.toUpperCase())}),n.jsx("button",{onClick:()=>{const T=new Date(l);T.setMonth(T.getMonth()+1),d(T)},className:"p-2 hover:bg-slate-100 rounded-lg transition-colors",children:n.jsx(Wl,{className:"w-5 h-5 text-slate-600"})})]}),n.jsxs("div",{className:"grid grid-cols-7 gap-1",children:[["dom","seg","ter","qua","qui","sex","sb"].map(T=>n.jsx("div",{className:"text-center text-xs font-semibold text-slate-500 py-2",children:T},T)),j(l).map((T,Y)=>{var he;if(!T.isCurrentMonth)return n.jsx("div",{className:"aspect-square"},Y);const te=T.isSelected,U=((he=T.date)==null?void 0:he.toDateString())===new Date().toDateString();return n.jsx("button",{onClick:()=>{i(T.date),r("dia")},className:"aspect-square rounded-lg text-sm font-medium transition-all flex items-center justify-center hover:bg-blue-50",style:{backgroundColor:te?"#376295":"transparent",color:te?"white":U?"#376295":"#1e293b",fontWeight:U||te?"bold":"normal"},children:T.day},Y)})]})]}),n.jsxs("div",{className:"text-center pt-4 border-t border-slate-200",children:[n.jsx("div",{className:"text-base font-semibold text-slate-700",children:o.toLocaleDateString("pt-BR",{day:"numeric",month:"long"})}),n.jsxs("div",{className:"text-sm text-slate-500",children:[P," entregas"]})]})]})}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"grid grid-cols-5 gap-4 mb-6",children:[n.jsx(vt,{className:"cursor-pointer transition-all hover:shadow-md bg-white rounded-xl shadow-sm",style:{border:p==="todos"?"2px solid #376295":"2px solid transparent"},onClick:()=>w("todos"),children:n.jsxs(_t,{className:"p-5",children:[n.jsxs("div",{className:"flex items-center justify-center gap-2 mb-3",children:[n.jsx("div",{className:"p-1.5 rounded-lg",style:{backgroundColor:"#E8F0F8"},children:n.jsx(go,{className:"w-6 h-6",style:{color:"#376295"}})}),n.jsx("span",{className:"text-sm font-bold text-slate-700",children:"Total"})]}),n.jsx("div",{className:"text-4xl font-bold text-center",style:{color:"#376295"},children:P})]})}),n.jsx(vt,{className:"cursor-pointer transition-all hover:shadow-md bg-white rounded-xl shadow-sm",style:{border:p==="SEDEX"?"2px solid #890d5d":"2px solid transparent"},onClick:()=>w(p==="SEDEX"?"todos":"SEDEX"),children:n.jsxs(_t,{className:"p-5",children:[n.jsxs("div",{className:"flex items-center justify-center gap-2 mb-3",children:[n.jsx("div",{className:"p-1.5 rounded-lg",style:{backgroundColor:"#F5E8F5"},children:n.jsx(kv,{className:"w-6 h-6",style:{color:"#890d5d"}})}),n.jsx("span",{className:"text-sm font-bold text-slate-700",children:"Sedex"})]}),n.jsx("div",{className:"text-4xl font-bold text-center",style:{color:"#890d5d"},children:z})]})}),n.jsx(vt,{className:"cursor-pointer transition-all hover:shadow-md bg-white rounded-xl shadow-sm",style:{border:p==="PAC"?"2px solid #f97316":"2px solid transparent"},onClick:()=>w(p==="PAC"?"todos":"PAC"),children:n.jsxs(_t,{className:"p-5",children:[n.jsxs("div",{className:"flex items-center justify-center gap-2 mb-3",children:[n.jsx("div",{className:"p-1.5 rounded-lg",style:{backgroundColor:"#FEF3E8"},children:n.jsx(Ur,{className:"w-6 h-6",style:{color:"#f97316"}})}),n.jsx("span",{className:"text-sm font-bold text-slate-700",children:"PAC"})]}),n.jsx("div",{className:"text-4xl font-bold text-center",style:{color:"#f97316"},children:A})]})}),n.jsx(vt,{className:"cursor-pointer transition-all hover:shadow-md bg-white rounded-xl shadow-sm",style:{border:p==="DISKTENHA"?"2px solid #22c55e":"2px solid transparent"},onClick:()=>w(p==="DISKTENHA"?"todos":"DISKTENHA"),children:n.jsxs(_t,{className:"p-5",children:[n.jsxs("div",{className:"flex items-center justify-center gap-2 mb-3",children:[n.jsx("div",{className:"p-1.5 rounded-lg",style:{backgroundColor:"#E8F5E8"},children:n.jsx(fs,{className:"w-6 h-6",style:{color:"#22c55e"}})}),n.jsx("span",{className:"text-sm font-bold text-slate-700",children:"Disktenha"})]}),n.jsx("div",{className:"text-4xl font-bold text-center",style:{color:"#22c55e"},children:q})]})}),n.jsx(vt,{className:"cursor-pointer transition-all hover:shadow-md rounded-xl shadow-sm",style:{backgroundColor:"#E8F5E8",border:"3px solid #22c55e"},children:n.jsxs(_t,{className:"p-5",children:[n.jsxs("div",{className:"flex items-center justify-center gap-2 mb-3",children:[n.jsx("div",{className:"p-1.5 rounded-lg",style:{backgroundColor:"#d1f0d1"},children:n.jsx(ga,{className:"w-6 h-6",style:{color:"#22c55e"}})}),n.jsx("span",{className:"text-sm font-bold text-slate-700",children:"Total Disktenha"})]}),n.jsxs("div",{className:"text-3xl font-bold text-center",style:{color:"#22c55e"},children:["R$ ",K.toFixed(2)]})]})})]}),n.jsx(vt,{children:n.jsx(_t,{className:"p-4",children:n.jsxs("div",{className:"relative",children:[n.jsx(Vn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400 w-4 h-4"}),n.jsx(Zt,{placeholder:"Buscar por cliente, cdigo, remetente...",value:m,onChange:T=>x(T.target.value),className:"pl-10"})]})})}),n.jsx(vt,{children:n.jsxs(_t,{className:"p-6",children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:e==="dia"?`Entregas de ${Qe(o,"dd 'de' MMMM",{locale:vn})}`:"Todas as Entregas"}),S?n.jsx("div",{className:"text-center py-8 text-slate-500",children:"Carregando..."}):de.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx(Ur,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),n.jsx("p",{className:"text-slate-500",children:"Nenhuma entrega encontrada"})]}):n.jsx("div",{children:de.map(T=>n.jsx("div",{onClick:()=>t(`/sedex-detalhes?id=${T.id}`),className:"p-5 mb-4 bg-white rounded-lg border border-slate-200 hover:border-slate-300 transition-all cursor-pointer hover:shadow-md last:mb-0",children:n.jsxs("div",{className:"flex items-center justify-between gap-6",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[n.jsxs("span",{className:"text-base font-semibold",style:{color:"#376295"},children:["#",T.numero_requisicao||"-"]}),T.atendente&&n.jsxs(n.Fragment,{children:[n.jsx("span",{className:"text-slate-400",children:""}),n.jsxs("span",{className:"text-sm font-medium text-slate-600 flex items-center gap-1.5",children:[n.jsx(bn,{className:"w-3.5 h-3.5"}),T.atendente]})]}),n.jsx("span",{className:"text-slate-400",children:""}),n.jsx("span",{className:"px-3 py-1 rounded text-xs font-medium",style:{backgroundColor:T.tipo==="SEDEX"?"#F5E8F5":T.tipo==="PAC"?"#FEF3E8":"#E8F5E8",color:T.tipo==="SEDEX"?"#890d5d":T.tipo==="PAC"?"#f97316":"#22c55e"},children:T.tipo}),n.jsx("span",{className:"px-3 py-1 rounded text-xs font-medium",style:{backgroundColor:T.status==="Entregue"?"#E8F5E8":T.status==="Saiu"?"#FEF3E8":"#F5E8F5",color:T.status==="Entregue"?"#22c55e":T.status==="Saiu"?"#f97316":"#890d5d"},children:T.status})]}),n.jsx("h3",{className:"text-lg font-bold text-slate-900 mb-2",children:T.cliente}),n.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-slate-600",children:[T.codigo_rastreio&&n.jsxs("div",{className:"flex items-center gap-1.5",children:[n.jsx(Ur,{className:"w-4 h-4",style:{color:"#1e293b"}}),n.jsx("span",{children:T.codigo_rastreio})]}),T.remetente&&n.jsxs("div",{className:"flex items-center gap-1.5",children:[n.jsx(kv,{className:"w-4 h-4",style:{color:"#1e293b"}}),n.jsx("span",{children:T.remetente})]})]}),T.observacoes&&n.jsx("p",{className:"text-sm text-slate-500 mt-2",children:T.observacoes})]}),n.jsxs("div",{className:"text-right",children:[T.tipo==="DISKTENHA"&&n.jsxs("div",{className:"mb-2",children:[n.jsx("p",{className:"text-xs text-slate-500",children:T.forma_pagamento}),n.jsxs("p",{className:"text-xl font-bold",style:{color:"#22c55e"},children:["R$ ",parseFloat(T.valor||0).toFixed(2)]})]}),n.jsx("p",{className:"text-sm text-slate-500",children:Qe(er(T.data_saida),"dd/MM/yyyy")})]})]})},T.id))})]})})]})]}),n.jsx(jo,{open:u,onOpenChange:h,children:n.jsxs(_s,{className:"max-w-2xl",children:[n.jsx(Es,{children:n.jsx(Ns,{children:"Cadastrar Nova Entrega"})}),n.jsxs("div",{className:"space-y-4 py-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(Lt,{children:"Data e Horrio *"}),n.jsx(Zt,{type:"date",value:b.data_saida,onChange:T=>E({...b,data_saida:T.target.value})})]}),n.jsxs("div",{children:[n.jsx(Lt,{children:"Tipo de Entrega *"}),n.jsxs("select",{className:"w-full h-10 rounded-md border border-slate-200 bg-white px-3 py-2 text-sm",value:b.tipo,onChange:T=>E({...b,tipo:T.target.value}),children:[n.jsx("option",{value:"SEDEX",children:"SEDEX"}),n.jsx("option",{value:"PAC",children:"PAC"}),n.jsx("option",{value:"DISKTENHA",children:"DISKTENHA"})]})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(Lt,{children:"Cliente *"}),n.jsx(Zt,{placeholder:"Nome do cliente",value:b.cliente,onChange:T=>E({...b,cliente:T.target.value})})]}),n.jsxs("div",{children:[n.jsx(Lt,{children:"Destinatrio"}),n.jsx(Zt,{placeholder:"Nome do destinatrio",value:b.remetente,onChange:T=>E({...b,remetente:T.target.value})})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(Lt,{children:"Nmero da Requisio *"}),n.jsx(Zt,{placeholder:"Ex: 123456",value:b.numero_requisicao,onChange:T=>E({...b,numero_requisicao:T.target.value})})]}),n.jsxs("div",{children:[n.jsx(Lt,{children:"Cdigo de Rastreio"}),n.jsx(Zt,{placeholder:"Ex: BR123456789BR",value:b.codigo_rastreio,onChange:T=>E({...b,codigo_rastreio:T.target.value})})]})]}),n.jsxs("div",{children:[n.jsx(Lt,{children:"Observaes"}),n.jsx(yu,{placeholder:"Informaes adicionais sobre a entrega",value:b.observacoes,onChange:T=>E({...b,observacoes:T.target.value}),rows:3})]}),n.jsxs("div",{className:b.tipo==="DISKTENHA"?"grid grid-cols-2 gap-4":"",children:[b.tipo==="DISKTENHA"&&n.jsxs("div",{children:[n.jsx(Lt,{children:"Valor da Entrega"}),n.jsx(Zt,{type:"number",step:"0.01",placeholder:"0.00",value:b.valor,onChange:T=>E({...b,valor:T.target.value})})]}),n.jsxs("div",{children:[n.jsx(Lt,{children:"Status do Pagamento"}),n.jsxs("select",{className:"w-full h-10 rounded-md border border-slate-200 bg-white px-3 py-2 text-sm",value:b.forma_pagamento,onChange:T=>E({...b,forma_pagamento:T.target.value}),children:[n.jsx("option",{value:"Aguardando",children:"Aguardando"}),n.jsx("option",{value:"Pago",children:"Pago"})]})]})]})]}),n.jsxs("div",{className:"flex justify-end gap-2",children:[n.jsx(ar,{variant:"outline",onClick:()=>h(!1),children:"Cancelar"}),n.jsx(ar,{onClick:V,style:{background:"linear-gradient(to right, #457bba, #890d5d)"},className:"text-white",children:"Cadastrar"})]})]})})]})}function nD({className:t,...e}){return n.jsx("div",{className:Je("animate-pulse rounded-md bg-primary/10",t),...e})}function sD(){const t=Ht(),e=Sn(),o=new URLSearchParams(window.location.search).get("id"),[i,l]=y.useState(!1),[d,u]=y.useState(null),{data:h,isLoading:m,error:x}=tn({queryKey:["sedex-detalhe",o],queryFn:async()=>{if(!o)throw new Error("ID da entrega no fornecido");const{data:S,error:k}=await _e.from("sedex_disktenha").select("*").eq("id",o).single();if(k)throw k;return S},enabled:!!o}),p=xs({mutationFn:async S=>{const{error:k}=await _e.from("sedex_disktenha").update(S).eq("id",o);if(k)throw k},onSuccess:()=>{e.invalidateQueries({queryKey:["sedex-detalhe",o]}),e.invalidateQueries({queryKey:["sedex-disktenha"]}),ge.success("Entrega atualizada com sucesso!"),l(!1)},onError:S=>{console.error("Erro ao atualizar:",S),ge.error("Erro ao atualizar entrega")}}),w=xs({mutationFn:async()=>{const{error:S}=await _e.from("sedex_disktenha").delete().eq("id",o);if(S)throw S},onSuccess:()=>{ge.success("Entrega excluda com sucesso!"),t("/sedex")},onError:S=>{console.error("Erro ao excluir:",S),ge.error("Erro ao excluir entrega")}}),b=()=>{u({tipo:h.tipo,cliente:h.cliente,remetente:h.remetente||"",numero_requisicao:h.numero_requisicao||"",codigo_rastreio:h.codigo_rastreio||"",valor:h.valor,forma_pagamento:h.forma_pagamento,observacoes:h.observacoes||"",data_saida:h.data_saida,status:h.status}),l(!0)},E=()=>{if(!d.cliente||!d.numero_requisicao){ge.error("Preencha os campos obrigatrios");return}p.mutate({...d,valor:parseFloat(d.valor)||0})},_=()=>{confirm("Tem certeza que deseja excluir esta entrega?")&&w.mutate()};if(m)return n.jsx("div",{className:"p-8 bg-gradient-to-br from-slate-50 to-slate-100 min-h-screen",children:n.jsx("div",{className:"max-w-5xl mx-auto",children:n.jsx(nD,{className:"h-96 w-full"})})});if(x||!h)return n.jsx("div",{className:"p-8 bg-gradient-to-br from-slate-50 to-slate-100 min-h-screen",children:n.jsx(vt,{className:"max-w-2xl mx-auto",children:n.jsxs(_t,{className:"p-12 text-center",children:[n.jsx(br,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),n.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-2",children:"Entrega No Encontrada"}),n.jsx("p",{className:"text-slate-500 mb-4",children:(x==null?void 0:x.message)||"A entrega no foi encontrada."}),n.jsxs(ar,{onClick:()=>t(-1),children:[n.jsx(kt,{className:"w-4 h-4 mr-2"}),"Voltar"]})]})})});const j={SEDEX:{bg:"#F5E8F5",text:"#890d5d"},PAC:{bg:"#FEF3E8",text:"#f97316"},DISKTENHA:{bg:"#E8F5E8",text:"#22c55e"}},N=j[h.tipo]||j.SEDEX;return h.forma_pagamento==="Pago"||h.forma_pagamento,n.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100",children:[n.jsx("div",{className:"py-8 shadow-sm mb-6",style:{background:"linear-gradient(135deg, #457bba 0%, #890d5d 100%)"},children:n.jsx("div",{className:"max-w-5xl mx-auto px-6",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("button",{onClick:()=>t(-1),className:"p-2 rounded-lg bg-white/20 hover:bg-white/30 transition-colors",children:n.jsx(kt,{className:"w-6 h-6 text-white"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-4xl font-bold text-white",children:"Detalhes da Entrega"}),n.jsx("p",{className:"text-base text-white opacity-90 mt-1",children:"Visualizao completa da entrega"})]})]})})}),n.jsxs("div",{className:"max-w-5xl mx-auto px-6 pb-6 space-y-6",children:[n.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("button",{onClick:()=>t("/sedex"),className:"p-2 rounded-lg transition-all border border-slate-300 hover:bg-slate-50",children:n.jsx(kt,{size:20,style:{color:"#376295"}})}),n.jsxs("div",{children:[n.jsxs("h1",{className:"text-2xl font-bold text-slate-900",children:[h.tipo," #",h.numero_requisicao||h.codigo_rastreio]}),n.jsxs("p",{className:"text-sm text-slate-600 mt-1",children:["Criado em ",Qe(er(h.created_at),"dd/MM/yyyy 's' HH:mm",{locale:vn})]})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("button",{onClick:b,className:"flex items-center gap-2 px-4 py-2 rounded-lg font-semibold text-sm transition-all",style:{backgroundColor:"#376295",color:"white"},children:[n.jsx(xu,{size:16}),"Editar"]}),n.jsxs("button",{onClick:()=>window.print(),className:"flex items-center gap-2 px-4 py-2 rounded-lg font-semibold text-sm transition-all",style:{backgroundColor:"#890d5d",color:"white"},children:[n.jsx(gu,{size:16}),"Imprimir"]}),n.jsxs("button",{onClick:_,className:"flex items-center gap-2 px-4 py-2 rounded-lg font-semibold text-sm transition-all",style:{backgroundColor:"#ef4444",color:"white"},children:[n.jsx(Vl,{size:16}),"Excluir"]})]})]})}),n.jsx(vt,{children:n.jsxs(_t,{className:"p-6",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[n.jsx(br,{className:"w-5 h-5",style:{color:"#376295"}}),n.jsx("h2",{className:"text-lg font-semibold",children:"Informaes da Entrega"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-slate-500 mb-1",children:"Nmero da Requisio"}),n.jsxs("p",{className:"text-xl font-bold",style:{color:"#376295"},children:["#",h.numero_requisicao||"-"]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-slate-500 mb-1",children:"Tipo"}),n.jsx("span",{className:"inline-block px-3 py-1 rounded-md font-medium text-sm",style:{background:N.bg,color:N.text},children:h.tipo})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-slate-500 mb-1",children:"Status"}),n.jsx("span",{className:"inline-block px-3 py-1 rounded-md font-medium text-sm",style:{backgroundColor:h.status==="Entregue"?"#E8F5E8":h.status==="Saiu"?"#FEF3E8":"#F5E8F5",color:h.status==="Entregue"?"#22c55e":h.status==="Saiu"?"#f97316":"#890d5d"},children:h.status})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-slate-500 mb-1",children:"Data de Postagem"}),n.jsx("p",{className:"font-semibold text-slate-900",children:Qe(er(h.data_saida),"dd/MM/yyyy")})]})]}),n.jsx("div",{className:"border-t pt-6",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-slate-500 mb-1",children:"Cliente"}),n.jsx("p",{className:"text-lg font-medium text-slate-900",children:h.cliente})]}),h.remetente&&n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-slate-500 mb-1",children:"Destinatrio"}),n.jsx("p",{className:"text-lg font-medium text-slate-900",children:h.remetente})]}),h.codigo_rastreio&&n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-slate-500 mb-1",children:"Cdigo de Rastreio"}),n.jsx("p",{className:"text-lg font-medium text-slate-900",children:h.codigo_rastreio})]}),h.atendente&&n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-slate-500 mb-1",children:"Atendente"}),n.jsxs("p",{className:"text-lg font-medium text-slate-900 flex items-center gap-2",children:[n.jsx(bn,{className:"w-4 h-4",style:{color:"#376295"}}),h.atendente]})]})]})}),h.tipo==="DISKTENHA"&&n.jsx("div",{className:"border-t pt-6 mt-6",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(ga,{className:"w-5 h-5",style:{color:"#22c55e"}}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-slate-500 mb-1",children:"A Pagar"}),n.jsxs("p",{className:"text-2xl font-bold",style:{color:"#22c55e"},children:["R$ ",parseFloat(h.valor||0).toFixed(2)]})]})]})}),h.observacoes&&n.jsxs("div",{className:"border-t pt-6 mt-6",children:[n.jsx("p",{className:"text-sm text-slate-500 mb-2",children:"Observaes"}),n.jsx("div",{className:"p-3 bg-slate-50 rounded-lg",children:n.jsx("p",{className:"text-slate-700",children:h.observacoes})})]})]})})]}),n.jsx(jo,{open:i,onOpenChange:l,children:n.jsxs(_s,{className:"max-w-2xl",children:[n.jsx(Es,{children:n.jsx(Ns,{children:"Editar Entrega"})}),d&&n.jsxs("div",{className:"space-y-4 py-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(Lt,{children:"Tipo *"}),n.jsxs("select",{className:"w-full h-10 rounded-md border border-slate-200 bg-white px-3 py-2 text-sm",value:d.tipo,onChange:S=>u({...d,tipo:S.target.value}),children:[n.jsx("option",{value:"SEDEX",children:"SEDEX"}),n.jsx("option",{value:"PAC",children:"PAC"}),n.jsx("option",{value:"DISKTENHA",children:"DISKTENHA"})]})]}),n.jsxs("div",{children:[n.jsx(Lt,{children:"Status *"}),n.jsxs("select",{className:"w-full h-10 rounded-md border border-slate-200 bg-white px-3 py-2 text-sm",value:d.status,onChange:S=>u({...d,status:S.target.value}),children:[n.jsx("option",{value:"Pendente",children:"Pendente"}),n.jsx("option",{value:"Saiu",children:"Saiu"}),n.jsx("option",{value:"Entregue",children:"Entregue"})]})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(Lt,{children:"Cliente *"}),n.jsx(Zt,{value:d.cliente,onChange:S=>u({...d,cliente:S.target.value})})]}),n.jsxs("div",{children:[n.jsx(Lt,{children:"Destinatrio"}),n.jsx(Zt,{value:d.remetente,onChange:S=>u({...d,remetente:S.target.value})})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(Lt,{children:"Nmero da Requisio *"}),n.jsx(Zt,{placeholder:"Ex: 123456",value:d.numero_requisicao,onChange:S=>u({...d,numero_requisicao:S.target.value})})]}),n.jsxs("div",{children:[n.jsx(Lt,{children:"Cdigo de Rastreio"}),n.jsx(Zt,{placeholder:"Ex: BR123456789BR",value:d.codigo_rastreio,onChange:S=>u({...d,codigo_rastreio:S.target.value})})]})]}),n.jsxs("div",{className:d.tipo==="DISKTENHA"?"grid grid-cols-2 gap-4":"",children:[d.tipo==="DISKTENHA"&&n.jsxs("div",{children:[n.jsx(Lt,{children:"Valor"}),n.jsx(Zt,{type:"number",step:"0.01",value:d.valor,onChange:S=>u({...d,valor:S.target.value})})]}),n.jsxs("div",{children:[n.jsx(Lt,{children:"Status do Pagamento"}),n.jsxs("select",{className:"w-full h-10 rounded-md border border-slate-200 bg-white px-3 py-2 text-sm",value:d.forma_pagamento,onChange:S=>u({...d,forma_pagamento:S.target.value}),children:[n.jsx("option",{value:"Aguardando",children:"Aguardando"}),n.jsx("option",{value:"Pago",children:"Pago"})]})]})]}),n.jsxs("div",{children:[n.jsx(Lt,{children:"Data de Sada"}),n.jsx(Zt,{type:"date",value:d.data_saida,onChange:S=>u({...d,data_saida:S.target.value})})]}),n.jsxs("div",{children:[n.jsx(Lt,{children:"Observaes"}),n.jsx(yu,{value:d.observacoes,onChange:S=>u({...d,observacoes:S.target.value}),rows:3})]}),n.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[n.jsx(ar,{variant:"outline",onClick:()=>l(!1),children:"Cancelar"}),n.jsx(ar,{onClick:E,disabled:p.isPending,style:{background:"#457bba"},className:"text-white",children:p.isPending?"Salvando...":"Salvar Alteraes"})]})]})]})})]})}function oD(){const t=Ht(),e=new URLSearchParams(window.location.search),r=e.get("data"),[o,i]=y.useState(r||Qe(new Date,"yyyy-MM-dd")),[l,d]=y.useState(e.get("status")||"todos"),[u,h]=y.useState(e.get("local")||"todos"),[m,x]=y.useState(e.get("motoboy")||"todos"),[p,w]=y.useState(e.get("periodo")||"todos"),[b,E]=y.useState(e.get("busca")||""),{data:_=[],isLoading:j,error:N}=tn({queryKey:["entregas-relatorio"],queryFn:async()=>{const{data:T,error:Y}=await _e.from("entregas").select(`
          *,
          cliente:clientes(nome, telefone),
          endereco:enderecos(cidade, regiao),
          motoboy:motoboys(nome)
        `).order("data_entrega",{ascending:!0});if(Y)throw Y;return T||[]}});if(j)return n.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-br from-slate-50 to-slate-100",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"w-16 h-16 border-4 border-slate-300 rounded-full animate-spin mx-auto mb-4",style:{borderTopColor:"#376295"}}),n.jsx("p",{className:"text-slate-600 font-medium",children:"Carregando relatrio..."})]})});if(N)return n.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-br from-slate-50 to-slate-100",children:n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-red-600 font-semibold mb-2",children:"Erro ao carregar relatrio"}),n.jsx("p",{className:"text-slate-500 text-sm",children:N.message})]})});const S=_.filter(T=>{var te,U,he,$,Z,M,ae;if(!T.data_entrega)return!1;const Y=er(T.data_entrega);if(!zr(Y,er(o))||l!=="todos"&&T.status!==l||u!=="todos"&&((te=T.endereco)==null?void 0:te.regiao)!==u||m!=="todos"&&((U=T.motoboy)==null?void 0:U.nome)!==m||p!=="todos"&&T.periodo_entrega!==p)return!1;if(b){const R=b.toLowerCase();if(!((($=(he=T.cliente)==null?void 0:he.nome)==null?void 0:$.toLowerCase().includes(R))||((Z=T.requisicao)==null?void 0:Z.toLowerCase().includes(R))||((ae=(M=T.motoboy)==null?void 0:M.nome)==null?void 0:ae.toLowerCase().includes(R))))return!1}return!0}),k=[...new Set(_.filter(T=>T.data_entrega&&zr(er(T.data_entrega),er(o))).map(T=>{var Y;return(Y=T.endereco)==null?void 0:Y.regiao}))].filter(Boolean).sort(),P=[...new Set(_.filter(T=>T.data_entrega&&zr(er(T.data_entrega),er(o))).map(T=>{var Y;return(Y=T.motoboy)==null?void 0:Y.nome}))].filter(Boolean).sort(),z=S.reduce((T,Y)=>{var U;const te=((U=Y.endereco)==null?void 0:U.regiao)||"Sem regio";return T[te]||(T[te]=[]),T[te].push(Y),T},{});Object.keys(z).forEach(T=>{z[T].sort((Y,te)=>Y.periodo_entrega!==te.periodo_entrega?Y.periodo_entrega==="Manh"?-1:1:0)});const A={Pendente:S.filter(T=>T.status==="Pendente"),"Produzindo no Laboratrio":S.filter(T=>T.status==="Produzindo no Laboratrio"),"Preparando no Setor de Entregas":S.filter(T=>T.status==="Preparando no Setor de Entregas"),"A Caminho":S.filter(T=>T.status==="A Caminho"),Entregue:S.filter(T=>T.status==="Entregue"),"No Entregue":S.filter(T=>T.status==="No Entregue"),Voltou:S.filter(T=>T.status==="Voltou"),Cancelado:S.filter(T=>T.status==="Cancelado")},q={Manh:S.filter(T=>T.periodo_entrega==="Manh"),Tarde:S.filter(T=>T.periodo_entrega==="Tarde")},K=S.reduce((T,Y)=>{var U;const te=((U=Y.motoboy)==null?void 0:U.nome)||"Sem motoboy";return T[te]||(T[te]=[]),T[te].push(Y),T},{}),de=()=>{window.print()},V=({status:T})=>{const Y={Pendente:{bgColor:"#F5E8F5",textColor:"#890d5d",label:"Pendente"},"Produzindo no Laboratrio":{bgColor:"#F5E8F5",textColor:"#890d5d",label:"Produo"},"Preparando no Setor de Entregas":{bgColor:"#FEF3E8",textColor:"#f97316",label:"Preparando"},"A Caminho":{bgColor:"#FEF3E8",textColor:"#f97316",label:"A Caminho"},Entregue:{bgColor:"#E8F5E8",textColor:"#22c55e",label:"Entregue"},"No Entregue":{bgColor:"#fef2f2",textColor:"#ef4444",label:"No Entregue"},Voltou:{bgColor:"#FEF3E8",textColor:"#f97316",label:"Voltou"},Cancelado:{bgColor:"#f1f5f9",textColor:"#64748b",label:"Cancelado"}},te=Y[T]||Y.Pendente;return n.jsxs(Ln,{className:"text-xs flex items-center gap-1",style:{backgroundColor:te.bgColor,color:te.textColor},children:[T==="Entregue"?n.jsx(ua,{className:"w-3 h-3"}):n.jsx(fs,{className:"w-3 h-3"})," ",te.label]})};return n.jsxs(n.Fragment,{children:[n.jsx("style",{children:`
        @media print {
          * {
            visibility: hidden !important;
          }
          .print-wrapper,
          .print-wrapper * {
            visibility: visible !important;
          }
          .print-wrapper {
            position: absolute !important;
            left: 0 !important;
            top: 0 !important;
            width: 100% !important;
          }
          .no-print {
            display: none !important;
          }
          body {
            background: white;
          }
        }
      `}),n.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100",children:[n.jsx("div",{className:"py-8 shadow-sm no-print",style:{background:"linear-gradient(135deg, #457bba 0%, #890d5d 100%)"},children:n.jsx("div",{className:"max-w-7xl mx-auto px-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("button",{onClick:()=>t(-1),className:"p-2 rounded-lg bg-white/20 hover:bg-white/30 transition-colors",children:n.jsx(kt,{className:"w-6 h-6 text-white"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-4xl font-bold text-white",children:"Relatrio de Entregas"}),n.jsx("p",{className:"text-base text-white opacity-90 mt-1",children:"Visualizao completa das entregas do dia"})]})]}),n.jsxs("button",{onClick:de,className:"px-4 py-2 bg-white/20 hover:bg-white/30 text-white rounded-lg transition-colors flex items-center gap-2 font-medium",children:[n.jsx(gu,{className:"w-4 h-4"}),"Imprimir (",S.length,")"]})]})})}),n.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-6 space-y-6",children:[n.jsxs(vt,{className:"border-none shadow-lg no-print",children:[n.jsx(ms,{children:n.jsx(ps,{children:"Filtros e Busca"})}),n.jsxs(_t,{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-slate-700 mb-2 block",children:"Dados"}),n.jsx(Zt,{type:"date",value:o,onChange:T=>i(T.target.value),className:"max-w-xs"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-slate-700 mb-2 block",children:"Buscar"}),n.jsxs("div",{className:"relative",children:[n.jsx(Vn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400 w-4 h-4"}),n.jsx(Zt,{placeholder:"Buscar por cliente, requisio ou motoboy...",value:b,onChange:T=>E(T.target.value),className:"pl-10"})]})]}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-slate-700 mb-2 block",children:"Status"}),n.jsxs(Jo,{value:l,onValueChange:d,children:[n.jsx(fo,{children:n.jsx(Yo,{placeholder:"Todos"})}),n.jsxs(mo,{children:[n.jsx(jt,{value:"todos",children:"Todos"}),n.jsx(jt,{value:"Pendente",children:"Pendente"}),n.jsx(jt,{value:"Produzindo no Laboratrio",children:"Produo"}),n.jsx(jt,{value:"Preparando no Setor de Entregas",children:"Preparando"}),n.jsx(jt,{value:"A Caminho",children:"A Caminho"}),n.jsx(jt,{value:"Entregue",children:"Entregue"}),n.jsx(jt,{value:"No Entregue",children:"No Entregue"}),n.jsx(jt,{value:"Voltou",children:"Voltou"}),n.jsx(jt,{value:"Cancelado",children:"Cancelado"})]})]},`status-${l}`)]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-slate-700 mb-2 block",children:"Local"}),n.jsxs(Jo,{value:u,onValueChange:h,children:[n.jsx(fo,{children:n.jsx(Yo,{placeholder:"Todos"})}),n.jsxs(mo,{children:[n.jsx(jt,{value:"todos",children:"Todos"}),k.map(T=>n.jsx(jt,{value:T,children:T},T))]})]},`local-${u}`)]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-slate-700 mb-2 block",children:"Motoboy"}),n.jsxs(Jo,{value:m,onValueChange:x,children:[n.jsx(fo,{children:n.jsx(Yo,{placeholder:"Todos"})}),n.jsxs(mo,{children:[n.jsx(jt,{value:"todos",children:"Todos"}),P.map(T=>n.jsx(jt,{value:T,children:T},T))]})]},`motoboy-${m}`)]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-slate-700 mb-2 block",children:"Perodo"}),n.jsxs(Jo,{value:p,onValueChange:w,children:[n.jsx(fo,{children:n.jsx(Yo,{placeholder:"Todos"})}),n.jsxs(mo,{children:[n.jsx(jt,{value:"todos",children:"Todos"}),n.jsx(jt,{value:"Manh",children:"Manh"}),n.jsx(jt,{value:"Tarde",children:"Tarde"})]})]},`periodo-${p}`)]})]})]})]}),n.jsxs("div",{className:"print-wrapper",children:[n.jsx("div",{className:"text-white p-6 rounded-lg mb-6",style:{background:"linear-gradient(135deg, #457bba 0%, #890d5d 100%)"},children:n.jsxs("h2",{className:"text-2xl font-bold",children:["Relatrio do Dia ",Qe(er(o),"dd/MM/yyyy")]})}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[n.jsx(vt,{className:"cursor-pointer hover:shadow-xl transition-all",style:{border:l==="todos"?"2px solid #376295":"2px solid transparent"},onClick:()=>d("todos"),children:n.jsxs(_t,{className:"p-6",children:[n.jsx("p",{className:"text-sm text-slate-600 mb-1",children:"Total"}),n.jsx("p",{className:"text-4xl font-bold",style:{color:"#376295"},children:S.length})]})}),n.jsx(vt,{className:"cursor-pointer hover:shadow-xl transition-all",style:{border:l==="Entregue"?"2px solid #22c55e":"2px solid transparent"},onClick:()=>d(l==="Entregue"?"todos":"Entregue"),children:n.jsxs(_t,{className:"p-6",children:[n.jsx("p",{className:"text-sm text-slate-600 mb-1",children:"Entregues"}),n.jsx("p",{className:"text-4xl font-bold",style:{color:"#22c55e"},children:A.Entregue.length})]})}),n.jsx(vt,{className:"cursor-pointer hover:shadow-xl transition-all",style:{border:l==="A Caminho"?"2px solid #f97316":"2px solid transparent"},onClick:()=>d(l==="A Caminho"?"todos":"A Caminho"),children:n.jsxs(_t,{className:"p-6",children:[n.jsx("p",{className:"text-sm text-slate-600 mb-1",children:"A Caminho"}),n.jsx("p",{className:"text-4xl font-bold",style:{color:"#f97316"},children:A["A Caminho"].length})]})}),n.jsx(vt,{className:"cursor-pointer hover:shadow-xl transition-all",style:{border:l==="Pendente"?"2px solid #890d5d":"2px solid transparent"},onClick:()=>d(l==="Pendente"?"todos":"Pendente"),children:n.jsxs(_t,{className:"p-6",children:[n.jsx("p",{className:"text-sm text-slate-600 mb-1",children:"Pendente"}),n.jsx("p",{className:"text-4xl font-bold",style:{color:"#890d5d"},children:A.Pendente.length})]})})]}),n.jsxs(vt,{className:"mb-6",children:[n.jsx(ms,{children:n.jsx(ps,{children:"Entregas por Local"})}),n.jsx(_t,{children:n.jsx("div",{className:"space-y-4",children:Object.entries(z).sort((T,Y)=>T[0].localeCompare(Y[0])).map(([T,Y])=>n.jsxs("div",{className:"border rounded-lg p-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3 pb-2 border-b",children:[n.jsx("h3",{className:"font-bold text-slate-900",children:T}),n.jsx(Ln,{variant:"outline",children:Y.length})]}),Y.filter(te=>te.periodo_entrega==="Manh").length>0&&n.jsxs("div",{className:"mb-3",children:[n.jsxs("p",{className:"text-sm font-semibold text-slate-700 mb-2 flex items-center gap-1",children:[n.jsx(Qw,{className:"w-4 h-4"})," Manh"]}),n.jsx("div",{className:"space-y-2 pl-4",children:Y.filter(te=>te.periodo_entrega==="Manh").map(te=>{var U;return n.jsxs(hs,{to:`/detalhes-romaneio?id=${te.id}`,className:"flex justify-between items-center text-sm py-2 hover:bg-slate-50 rounded px-2 transition-colors",children:[n.jsxs("span",{className:"text-slate-700",children:["# ",te.requisicao," - ",((U=te.cliente)==null?void 0:U.nome)||te.cliente_nome]}),n.jsxs("div",{className:"flex items-center gap-2",children:[te.valor&&n.jsxs(Ln,{style:{backgroundColor:"#E8F0F8",color:"#376295"},children:["R$ ",te.valor.toFixed(2)]}),n.jsx(V,{status:te.status})]})]},te.id)})})]}),Y.filter(te=>te.periodo_entrega==="Tarde").length>0&&n.jsxs("div",{children:[n.jsxs("p",{className:"text-sm font-semibold text-slate-700 mb-2 flex items-center gap-1",children:[n.jsx(p5,{className:"w-4 h-4"})," Tarde"]}),n.jsx("div",{className:"space-y-2 pl-4",children:Y.filter(te=>te.periodo_entrega==="Tarde").map(te=>{var U;return n.jsxs(hs,{to:`/detalhes-romaneio?id=${te.id}`,className:"flex justify-between items-center text-sm py-2 hover:bg-slate-50 rounded px-2 transition-colors",children:[n.jsxs("span",{className:"text-slate-700",children:["# ",te.requisicao," - ",((U=te.cliente)==null?void 0:U.nome)||te.cliente_nome]}),n.jsxs("div",{className:"flex items-center gap-2",children:[te.valor&&n.jsxs(Ln,{style:{backgroundColor:"#E8F0F8",color:"#376295"},children:["R$ ",te.valor.toFixed(2)]}),n.jsx(V,{status:te.status})]})]},te.id)})})]})]},T))})})]}),n.jsxs(vt,{className:"mb-6",children:[n.jsx(ms,{children:n.jsx(ps,{children:"Entregas por Status"})}),n.jsx(_t,{children:n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Object.entries(A).map(([T,Y])=>Y.length>0&&n.jsxs("div",{className:"border rounded-lg p-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsx("h3",{className:"font-semibold text-slate-900",children:T}),n.jsx(Ln,{variant:"outline",children:Y.length})]}),n.jsx("div",{className:"space-y-2",children:Y.map(te=>{var U;return n.jsxs(hs,{to:`/detalhes-romaneio?id=${te.id}`,className:"block text-sm text-slate-700 hover:bg-slate-50 rounded px-2 py-1 transition-colors",style:{"--hover-color":"#376295"},onMouseEnter:he=>he.currentTarget.style.color="#376295",onMouseLeave:he=>he.currentTarget.style.color="",children:["# ",te.requisicao," - ",((U=te.cliente)==null?void 0:U.nome)||te.cliente_nome]},te.id)})})]},T))})})]}),n.jsxs(vt,{className:"mb-6",children:[n.jsx(ms,{children:n.jsx(ps,{children:"Entregas por Motoboy"})}),n.jsx(_t,{children:n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Object.entries(K).map(([T,Y])=>n.jsxs("div",{className:"border rounded-lg p-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsx("h3",{className:"font-semibold text-slate-900",children:T}),n.jsx(Ln,{variant:"outline",children:Y.length})]}),n.jsx("div",{className:"space-y-2",children:Y.map(te=>{var U;return n.jsxs(hs,{to:`/detalhes-romaneio?id=${te.id}`,className:"flex justify-between items-center text-sm hover:bg-slate-50 rounded px-2 py-1 transition-colors",children:[n.jsxs("span",{className:"text-slate-700",onMouseEnter:he=>he.currentTarget.style.color="#376295",onMouseLeave:he=>he.currentTarget.style.color="",children:["# ",te.requisicao," - ",((U=te.cliente)==null?void 0:U.nome)||te.cliente_nome]}),n.jsx(V,{status:te.status})]},te.id)})})]},T))})})]}),n.jsxs(vt,{children:[n.jsx(ms,{children:n.jsx(ps,{children:"Entregas por Perodo"})}),n.jsx(_t,{children:n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Object.entries(q).map(([T,Y])=>n.jsxs("div",{className:"border rounded-lg p-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsx("h3",{className:"font-semibold text-slate-900",children:T}),n.jsx(Ln,{variant:"outline",children:Y.length})]}),n.jsx("div",{className:"space-y-2",children:Y.map(te=>{var U;return n.jsxs(hs,{to:`/detalhes-romaneio?id=${te.id}`,className:"flex justify-between items-center text-sm hover:bg-slate-50 rounded px-2 py-1 transition-colors",children:[n.jsxs("span",{className:"text-slate-700",onMouseEnter:he=>he.currentTarget.style.color="#376295",onMouseLeave:he=>he.currentTarget.style.color="",children:["# ",te.requisicao," - ",((U=te.cliente)==null?void 0:U.nome)||te.cliente_nome]}),n.jsx(V,{status:te.status})]},te.id)})})]},T))})})]})]})]})]})]})}var Cu="Checkbox",[aD]=Si(Cu),[iD,Pp]=aD(Cu);function lD(t){const{__scopeCheckbox:e,checked:r,children:o,defaultChecked:i,disabled:l,form:d,name:u,onCheckedChange:h,required:m,value:x="on",internal_do_not_use_render:p}=t,[w,b]=Qd({prop:r,defaultProp:i??!1,onChange:h,caller:Cu}),[E,_]=y.useState(null),[j,N]=y.useState(null),S=y.useRef(!1),k=E?!!d||!!E.closest("form"):!0,P={checked:w,disabled:l,setChecked:b,control:E,setControl:_,name:u,form:d,value:x,hasConsumerStoppedPropagationRef:S,required:m,defaultChecked:xo(i)?!1:i,isFormControl:k,bubbleInput:j,setBubbleInput:N};return n.jsx(iD,{scope:e,...P,children:cD(p)?p(P):o})}var s_="CheckboxTrigger",o_=y.forwardRef(({__scopeCheckbox:t,onKeyDown:e,onClick:r,...o},i)=>{const{control:l,value:d,disabled:u,checked:h,required:m,setControl:x,setChecked:p,hasConsumerStoppedPropagationRef:w,isFormControl:b,bubbleInput:E}=Pp(s_,t),_=mt(i,x),j=y.useRef(h);return y.useEffect(()=>{const N=l==null?void 0:l.form;if(N){const S=()=>p(j.current);return N.addEventListener("reset",S),()=>N.removeEventListener("reset",S)}},[l,p]),n.jsx(rt.button,{type:"button",role:"checkbox","aria-checked":xo(h)?"mixed":h,"aria-required":m,"data-state":d_(h),"data-disabled":u?"":void 0,disabled:u,value:d,...o,ref:_,onKeyDown:at(e,N=>{N.key==="Enter"&&N.preventDefault()}),onClick:at(r,N=>{p(S=>xo(S)?!0:!S),E&&b&&(w.current=N.isPropagationStopped(),w.current||N.stopPropagation())})})});o_.displayName=s_;var Tp=y.forwardRef((t,e)=>{const{__scopeCheckbox:r,name:o,checked:i,defaultChecked:l,required:d,disabled:u,value:h,onCheckedChange:m,form:x,...p}=t;return n.jsx(lD,{__scopeCheckbox:r,checked:i,defaultChecked:l,disabled:u,required:d,onCheckedChange:m,name:o,form:x,value:h,internal_do_not_use_render:({isFormControl:w})=>n.jsxs(n.Fragment,{children:[n.jsx(o_,{...p,ref:e,__scopeCheckbox:r}),w&&n.jsx(c_,{__scopeCheckbox:r})]})})});Tp.displayName=Cu;var a_="CheckboxIndicator",i_=y.forwardRef((t,e)=>{const{__scopeCheckbox:r,forceMount:o,...i}=t,l=Pp(a_,r);return n.jsx(ql,{present:o||xo(l.checked)||l.checked===!0,children:n.jsx(rt.span,{"data-state":d_(l.checked),"data-disabled":l.disabled?"":void 0,...i,ref:e,style:{pointerEvents:"none",...t.style}})})});i_.displayName=a_;var l_="CheckboxBubbleInput",c_=y.forwardRef(({__scopeCheckbox:t,...e},r)=>{const{control:o,hasConsumerStoppedPropagationRef:i,checked:l,defaultChecked:d,required:u,disabled:h,name:m,value:x,form:p,bubbleInput:w,setBubbleInput:b}=Pp(l_,t),E=mt(r,b),_=D1(l),j=E1(o);y.useEffect(()=>{const S=w;if(!S)return;const k=window.HTMLInputElement.prototype,z=Object.getOwnPropertyDescriptor(k,"checked").set,A=!i.current;if(_!==l&&z){const q=new Event("click",{bubbles:A});S.indeterminate=xo(l),z.call(S,xo(l)?!1:l),S.dispatchEvent(q)}},[w,_,l,i]);const N=y.useRef(xo(l)?!1:l);return n.jsx(rt.input,{type:"checkbox","aria-hidden":!0,defaultChecked:d??N.current,required:u,disabled:h,name:m,value:x,form:p,...e,tabIndex:-1,ref:E,style:{...e.style,...j,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});c_.displayName=l_;function cD(t){return typeof t=="function"}function xo(t){return t==="indeterminate"}function d_(t){return xo(t)?"indeterminate":t?"checked":"unchecked"}const dD=y.forwardRef(({className:t,...e},r)=>n.jsx(Tp,{ref:r,className:Je("peer h-4 w-4 shrink-0 rounded-sm border border-primary shadow focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...e,children:n.jsx(i_,{className:Je("flex items-center justify-center text-current"),children:n.jsx(ua,{className:"h-4 w-4"})})}));dD.displayName=Tp.displayName;function uD(){var le;const t=Ht(),e=Sn(),[r,o]=y.useState(new Date),[i,l]=y.useState(new Date),[d,u]=y.useState(!1),[h,m]=y.useState(""),[x,p]=y.useState("todos"),[w,b]=y.useState(!1),[E,_]=y.useState(null),[j,N]=y.useState(""),[S,k]=y.useState(""),[P,z]=y.useState(null),[A,q]=y.useState(!1),{data:K=[],isLoading:de,error:V,refetch:T}=tn({queryKey:["receitas"],queryFn:async()=>{const{data:X,error:ye}=await _e.from("entregas").select(`
          *,
          cliente:clientes(nome, telefone, cpf),
          endereco:enderecos(cidade, regiao),
          motoboy:motoboys(nome)
        `).eq("buscar_receita",!0).order("data_entrega",{ascending:!1});if(ye)throw ye;return X||[]},refetchOnMount:"always",refetchOnWindowFocus:"always",refetchOnReconnect:"always",staleTime:0,gcTime:0,retry:1,retryDelay:1e3});if(y.useEffect(()=>{e.invalidateQueries({queryKey:["receitas"]})},[e]),y.useEffect(()=>{V&&ge.error("Erro ao carregar receitas: "+V.message)},[V]),de)return n.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-br from-slate-50 to-slate-100",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"w-16 h-16 border-4 border-slate-300 border-t-[#457bba] rounded-full animate-spin mx-auto mb-4"}),n.jsx("p",{className:"text-slate-600 font-medium",children:"Carregando receitas..."})]})});const Y=async()=>{if(!P||!j||!E){ge.error("Por favor, preencha todos os campos obrigatrios");return}q(!0);try{const X=P.name.split(".").pop(),be=`anexos/${`${E.id}_${j}_${Date.now()}.${X}`}`,{error:Pe,data:Ae}=await _e.storage.from("entregas-anexos").upload(be,P);if(Pe)throw Pe;const{data:{publicUrl:Ue}}=_e.storage.from("entregas-anexos").getPublicUrl(be),We={[`${j.toLowerCase()}_anexo`]:Ue,[`${j.toLowerCase()}_descricao`]:S||null},{error:Rt}=await _e.from("entregas").update(We).eq("id",E.id);if(Rt)throw Rt;ge.success("Anexo enviado com sucesso!"),e.invalidateQueries(["receitas"]),b(!1),N(""),k(""),z(null),_(null),j==="Receita"||j==="Pagamento"&&t("/pagamentos")}catch(X){console.error("Erro ao fazer upload:",X),ge.error("Erro ao enviar anexo: "+X.message)}finally{q(!1)}},te=X=>{_(X),b(!0)},U=K.filter(X=>{var ye,be,Pe,Ae,Ue,We,Rt,Bt,Et;if(!d&&i&&X.data_entrega){const dt=er(X.data_entrega);if(!zr(dt,i))return!1}if(x==="pendentes"&&X.receita_anexo||x==="recebidas"&&!X.receita_anexo)return!1;if(h){const dt=h.toLowerCase();if(!(((ye=X.requisicao)==null?void 0:ye.toLowerCase().includes(dt))||((Pe=(be=X.cliente)==null?void 0:be.nome)==null?void 0:Pe.toLowerCase().includes(dt))||((Ue=(Ae=X.cliente)==null?void 0:Ae.telefone)==null?void 0:Ue.toLowerCase().includes(dt))||((Rt=(We=X.cliente)==null?void 0:We.cpf)==null?void 0:Rt.toLowerCase().includes(dt))||((Bt=X.cliente_nome)==null?void 0:Bt.toLowerCase().includes(dt))||((Et=X.cliente_telefone)==null?void 0:Et.toLowerCase().includes(dt))))return!1}return!0}),he=K.filter(X=>!X.receita_anexo).length,$=K.filter(X=>X.receita_anexo).length,Z=K.reduce((X,ye)=>{if(ye.data_entrega)try{const be=er(ye.data_entrega),Pe=Qe(be,"yyyy-MM-dd");X[Pe]=(X[Pe]||0)+1}catch{console.error("Erro ao processar data:",ye.data_entrega)}return X},{}),M=Dm(r),ae=Yj(r),R=Xj({start:M,end:ae}),D=M.getDay(),F=[...Array(D).fill(null),...R],O=X=>{l(X),d&&u(!1)},ie=()=>o(n_(r)),ue=()=>o(Ap(r,1));return n.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100",children:[n.jsx("div",{className:"py-8 shadow-sm",style:{background:"linear-gradient(135deg, #457bba 0%, #890d5d 100%)"},children:n.jsx("div",{className:"max-w-7xl mx-auto px-6",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("button",{onClick:()=>t(-1),className:"p-2 rounded-lg bg-white/20 hover:bg-white/30 transition-colors",children:n.jsx(kt,{className:"w-6 h-6 text-white"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-4xl font-bold text-white",children:"Receitas"}),n.jsx("p",{className:"text-base text-white opacity-90 mt-1",children:"Gerenciamento de receitas retidas"})]})]})})}),n.jsx("div",{className:"max-w-7xl mx-auto px-6 py-6",children:n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[n.jsx("div",{className:"lg:col-span-1",children:n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6 sticky top-6",children:[n.jsx("h3",{className:"text-lg font-bold text-slate-900 mb-4",children:"Filtrar por dados"}),n.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[n.jsxs("button",{onClick:()=>{u(!1),i||l(new Date)},className:"flex-1 flex items-center justify-center gap-2 px-4 py-2 rounded-lg font-semibold text-sm transition-all",style:{backgroundColor:d?"white":"#376295",color:d?"#64748b":"white",border:d?"1px solid #e2e8f0":"none"},children:[n.jsx(vo,{className:"w-4 h-4"}),"Por Dia"]}),n.jsxs("button",{onClick:()=>{u(!0),l(null)},className:"flex-1 flex items-center justify-center gap-2 px-4 py-2 rounded-lg font-semibold text-sm transition-all",style:{backgroundColor:d?"#376295":"white",color:d?"white":"#64748b",border:d?"none":"1px solid #e2e8f0"},children:[n.jsx(go,{className:"w-4 h-4"}),"Todos"]})]}),n.jsxs("div",{className:"border rounded-xl p-3 mb-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsx("button",{onClick:ie,className:"p-2 hover:bg-slate-100 rounded-lg transition-colors",children:n.jsx(kt,{className:"h-4 w-4 text-slate-600"})}),n.jsx("div",{className:"text-sm font-semibold text-slate-700",children:Qe(r,"MMMM 'de' yyyy",{locale:vn})}),n.jsx("button",{onClick:ue,className:"p-2 hover:bg-slate-100 rounded-lg transition-colors",children:n.jsx(Wl,{className:"h-4 w-4 text-slate-600"})})]}),n.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:["dom","seg","ter","qua","qui","sex","sb"].map(X=>n.jsx("div",{className:"text-center text-xs font-semibold text-slate-500 py-2",children:X},X))}),n.jsx("div",{className:"grid grid-cols-7 gap-1",children:F.map((X,ye)=>{if(!X)return n.jsx("div",{className:"aspect-square"},`vazio-${ye}`);const be=Qe(X,"yyyy-MM-dd"),Ae=(Z[be]||0)>0,Ue=i&&zr(X,i),We=zr(X,new Date);return n.jsx("button",{onClick:()=>O(X),className:`
                          aspect-square rounded-lg text-sm flex flex-col items-center justify-center relative
                          transition-all hover:bg-blue-50
                        `,style:{backgroundColor:Ue?"#376295":!Ue&&We?"#e2e8f0":!Ue&&!We&&Ae?"#F5E8F5":"transparent",color:Ue?"white":Ue===!1&&We?"#376295":!Ue&&!We&&Ae?"#890d5d":"#1e293b",fontWeight:Ue||We||Ae?"bold":"normal",boxShadow:Ue?"0 4px 6px -1px rgba(0, 0, 0, 0.1)":"none"},children:n.jsx("span",{children:Qe(X,"d")})},be)})})]},Qe(r,"yyyy-MM")),n.jsxs("div",{className:"text-center pt-4 border-t border-slate-200",children:[i&&!d&&n.jsx("div",{className:"text-base font-semibold text-slate-700",children:Qe(i,"dd 'de' MMMM",{locale:vn})}),n.jsxs("div",{className:"text-sm text-slate-500",children:[U.length," receita",U.length!==1?"s":""]})]})]},`filter-${d}-${(i==null?void 0:i.getTime())||"all"}`)}),n.jsxs("div",{className:"lg:col-span-3 space-y-6",children:[n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[n.jsx("h2",{className:"text-lg font-bold text-slate-900 mb-4",children:"Buscar"}),n.jsxs("div",{className:"relative",children:[n.jsx(Vn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),n.jsx("input",{type:"text",value:h,onChange:X=>m(X.target.value),placeholder:"Buscar por nmero, nome, telefone ou CPF...",className:"w-full pl-10 pr-4 py-3 border border-slate-300 rounded-lg focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-100 transition-all"})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{onClick:()=>p(x==="pendentes"?"todos":"pendentes"),className:"rounded-xl shadow-sm cursor-pointer transition-all hover:shadow-md text-center",style:{backgroundColor:"#E8F0F8",padding:"1.5rem",border:x==="pendentes"?"2px solid #376295":"2px solid transparent"},children:[n.jsx("p",{className:"text-5xl font-bold mb-2",style:{color:"#376295"},children:he}),n.jsx("p",{className:"text-sm font-medium",style:{color:"#376295"},children:"Pendentes"})]}),n.jsxs("div",{onClick:()=>p(x==="recebidas"?"todos":"recebidas"),className:"rounded-xl shadow-sm cursor-pointer transition-all hover:shadow-md text-center",style:{backgroundColor:"#F5E8F5",padding:"1.5rem",border:x==="recebidas"?"2px solid #890d5d":"2px solid transparent"},children:[n.jsx("p",{className:"text-5xl font-bold mb-2",style:{color:"#890d5d"},children:$}),n.jsx("p",{className:"text-sm font-medium",style:{color:"#890d5d"},children:"Recebidas"})]})]}),n.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:V?n.jsxs("div",{className:"text-center py-12",children:[n.jsx(Kw,{className:"w-16 h-16 text-red-400 mx-auto mb-4"}),n.jsx("p",{className:"text-red-600 font-semibold mb-2",children:"Erro ao carregar receitas"}),n.jsx("p",{className:"text-slate-500 text-sm mb-4",children:V.message}),n.jsxs(ar,{onClick:()=>T(),variant:"outline",size:"sm",children:[n.jsx(w5,{className:"w-4 h-4 mr-2"}),"Tentar Novamente"]})]}):de?n.jsxs("div",{className:"text-center py-12",children:[n.jsx("div",{className:"inline-block w-8 h-8 border-4 border-slate-200 border-t-4 rounded-full animate-spin mb-4",style:{borderTopColor:"#376295"}}),n.jsx("p",{className:"text-slate-600",children:"Carregando receitas..."})]}):U.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx(br,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:"Nenhuma receita encontrada"}),n.jsx("p",{className:"text-sm text-slate-600",children:h||x!=="todos"?"Tente ajustar os filtros de busca":"No h receitas cadastradas"})]}):n.jsx("div",{className:"space-y-3",children:U.map(X=>{var ye,be,Pe;return n.jsx("div",{onClick:()=>t(`/detalhes-romaneio?id=${X.id}`),className:"border border-slate-200 rounded-lg p-5 hover:border-slate-300 hover:shadow-md transition-all cursor-pointer",children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[n.jsxs("span",{className:"text-base font-semibold",style:{color:"#376295"},children:["#",X.requisicao]}),n.jsx("span",{className:"px-3 py-1 rounded text-xs font-medium",style:{backgroundColor:X.receita_anexo?"#F5E8F5":"#E8F0F8",color:X.receita_anexo?"#890d5d":"#376295"},children:X.receita_anexo?"Recebida":"Pendente"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm text-slate-600 mb-3",children:[n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Cliente:"})," ",((ye=X.cliente)==null?void 0:ye.nome)||X.cliente_nome]}),n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Telefone:"})," ",((be=X.cliente)==null?void 0:be.telefone)||X.cliente_telefone]}),((Pe=X.cliente)==null?void 0:Pe.cpf)&&n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"CPF:"})," ",X.cliente.cpf]}),X.data_entrega&&n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Data:"})," ",Qe(er(X.data_entrega),"dd/MM/yyyy")]})]})]}),n.jsx("div",{className:"flex items-center gap-2 ml-4",children:X.receita_anexo?n.jsxs("button",{onClick:Ae=>{Ae.stopPropagation(),window.open(X.receita_anexo,"_blank")},className:"px-4 py-2 border border-slate-300 rounded-lg hover:bg-slate-50 transition-colors flex items-center gap-2 text-sm font-medium text-slate-700",children:[n.jsx(o5,{className:"w-4 h-4"}),"Ver Receita"]}):n.jsxs("button",{onClick:Ae=>{Ae.stopPropagation(),te(X)},className:"px-4 py-2 rounded-lg transition-colors flex items-center gap-2 text-sm font-medium text-white",style:{backgroundColor:"#376295"},children:[n.jsx(L5,{className:"w-4 h-4"}),"Anexar"]})})]})},X.id)})})})]})]})}),n.jsx(jo,{open:w,onOpenChange:b,children:n.jsxs(_s,{className:"sm:max-w-[500px]",children:[n.jsxs(Es,{children:[n.jsx(Ns,{children:"Adicionar Anexo"}),n.jsx(vu,{children:"Envie fotos ou documentos relacionados a esta entrega."})]}),n.jsxs("div",{className:"space-y-4 py-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium",children:"Tipo de Anexo *"}),n.jsxs(Jo,{value:j,onValueChange:N,children:[n.jsx(fo,{children:n.jsx(Yo,{placeholder:"Selecione o tipo"})}),n.jsxs(mo,{children:[n.jsx(jt,{value:"Receita",children:"Receita"}),n.jsx(jt,{value:"Pagamento",children:"Pagamento"}),n.jsx(jt,{value:"Outros",children:"Outros"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium",children:"Arquivo *"}),n.jsx("input",{type:"file",accept:"image/*,.pdf",onChange:X=>{var ye;return z(((ye=X.target.files)==null?void 0:ye[0])||null)},className:"w-full px-3 py-2 border border-slate-300 rounded-lg cursor-pointer focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-100"}),P&&n.jsxs("p",{className:"text-xs text-slate-500",children:["Arquivo selecionado: ",P.name]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium",children:"Descrio (opcional)"}),n.jsx(yu,{placeholder:"Adicione informaes adicionais sobre este anexo...",value:S,onChange:X=>k(X.target.value),rows:3})]}),E&&n.jsxs("div",{className:"p-3 bg-slate-50 rounded-lg text-sm",children:[n.jsxs("p",{className:"font-medium text-slate-900",children:["Entrega: #",E.requisicao]}),n.jsxs("p",{className:"text-slate-600",children:["Cliente: ",((le=E.cliente)==null?void 0:le.nome)||E.cliente_nome]})]})]}),n.jsxs(vp,{children:[n.jsx(ar,{variant:"outline",onClick:()=>{b(!1),N(""),k(""),z(null)},disabled:A,children:"Cancelar"}),n.jsx(ar,{onClick:Y,disabled:A||!P||!j,style:{background:A?"#94a3b8":"#376295"},className:"text-white",children:A?"Enviando...":"Enviar Anexo"})]})]})})]})}const hD=["Pago","Dinheiro","Maquina","Troco P/","Via na Pasta","S Entregar","Aguardando","Pix - Aguardando","Link - Aguardando","Boleto","Pagar MP"];function fD(){var R,D;const t=Sn(),e=Ht(),[r,o]=y.useState(new Date),[i,l]=y.useState(null),[d,u]=y.useState(!0),[h,m]=y.useState(""),[x,p]=y.useState("todos"),[w,b]=y.useState(!1),[E,_]=y.useState(null),[j,N]=y.useState(""),[S,k]=y.useState(!1),{data:P=[],isLoading:z,error:A}=tn({queryKey:["pagamentos"],queryFn:async()=>{const{data:L,error:F}=await _e.from("entregas").select(`
          *,
          cliente:clientes(nome, telefone, cpf),
          endereco:enderecos(cidade, regiao),
          motoboy:motoboys(nome)
        `).order("data_entrega",{ascending:!1});if(F)throw F;return L||[]},refetchOnMount:"always",refetchOnWindowFocus:"always",staleTime:0,gcTime:0}),q=xs({mutationFn:async({entregaId:L,formaPagamento:F,pagamentoRecebido:O})=>{const ie={};F!==void 0&&(ie.forma_pagamento=F),O!==void 0&&(ie.pagamento_recebido=O);const{error:ue}=await _e.from("entregas").update(ie).eq("id",L);if(ue)throw ue},onSuccess:()=>{t.invalidateQueries({queryKey:["pagamentos"]}),t.invalidateQueries({queryKey:["entregas"]}),t.invalidateQueries({queryKey:["receitas"]}),ge.success("Pagamento atualizado com sucesso!"),b(!1)},onError:L=>{ge.error("Erro ao atualizar pagamento: "+L.message)}}),K=(L,F)=>{L.preventDefault(),L.stopPropagation(),_(F),N(F.forma_pagamento||""),k(F.pagamento_recebido||!1),setTimeout(()=>b(!0),0)},de=()=>{if(!j){ge.error("Selecione uma forma de pagamento");return}q.mutate({entregaId:E.id,formaPagamento:j,pagamentoRecebido:S})};if(y.useEffect(()=>{t.invalidateQueries({queryKey:["pagamentos"]})},[t]),y.useEffect(()=>{A&&ge.error("Erro ao carregar pagamentos: "+A.message)},[A]),y.useEffect(()=>{if(!w){const L=setTimeout(()=>{document.querySelectorAll("[data-radix-popper-content-wrapper]").forEach(O=>{try{O.remove()}catch{}})},100);return()=>clearTimeout(L)}},[w]),z)return n.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-br from-slate-50 to-slate-100",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"w-16 h-16 border-4 border-slate-300 border-t-[#457bba] rounded-full animate-spin mx-auto mb-4"}),n.jsx("p",{className:"text-slate-600 font-medium",children:"Carregando pagamentos..."})]})});const V=P.filter(L=>{var F,O,ie,ue,le,X;if(!d&&i&&L.data_entrega&&!zr(er(L.data_entrega),i)||x!=="todos"&&((F=L.motoboy)==null?void 0:F.nome)!==x)return!1;if(h){const ye=h.toLowerCase();if(!(((ie=(O=L.cliente)==null?void 0:O.nome)==null?void 0:ie.toLowerCase().includes(ye))||((le=(ue=L.cliente)==null?void 0:ue.telefone)==null?void 0:le.toLowerCase().includes(ye))||((X=L.requisicao)==null?void 0:X.toLowerCase().includes(ye))))return!1}return!0}),T={pendentes:V.filter(L=>!L.pagamento_recebido&&L.status==="Entregue").length,recebidos:V.filter(L=>L.pagamento_recebido).length,dinheiro:V.filter(L=>L.pagamento_recebido&&(L.forma_pagamento==="Dinheiro"||L.forma_pagamento==="dinheiro")).reduce((L,F)=>L+(parseFloat(F.valor)||0),0),cartao:V.filter(L=>L.pagamento_recebido&&(L.forma_pagamento==="Carto"||L.forma_pagamento==="cartao"||L.forma_pagamento==="Cartao")).reduce((L,F)=>L+(parseFloat(F.valor)||0),0)},Y=[...new Set(P.map(L=>{var F;return(F=L.motoboy)==null?void 0:F.nome}))].filter(Boolean).sort(),te=Xj({start:Dm(r),end:Yj(r)}),U=Dm(r).getDay(),he=Array(U).fill(null),$=L=>P.filter(F=>F.data_entrega&&zr(er(F.data_entrega),L)).length,Z=()=>o(n_(r)),M=()=>o(Ap(r,1)),ae=L=>{l(L),u(!1)};return n.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100",children:[n.jsx("div",{className:"py-8 shadow-sm",style:{background:"linear-gradient(135deg, #457bba 0%, #890d5d 100%)"},children:n.jsx("div",{className:"max-w-7xl mx-auto px-6",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("button",{onClick:()=>e(-1),className:"p-2 rounded-lg bg-white/20 hover:bg-white/30 transition-colors",children:n.jsx(kt,{className:"w-6 h-6 text-white"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-4xl font-bold text-white",children:"Pagamentos"}),n.jsx("p",{className:"text-base text-white opacity-90 mt-1",children:"Gerenciamento de pagamentos das entregas"})]})]})})}),n.jsx("div",{className:"max-w-7xl mx-auto px-6 py-6",children:n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[n.jsx("div",{className:"lg:col-span-1",children:n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6 sticky top-6",children:[n.jsx("h3",{className:"text-lg font-bold text-slate-900 mb-4",children:"Filtrar por dados"}),n.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[n.jsxs("button",{onClick:()=>{u(!1),i||l(new Date)},className:"flex-1 flex items-center justify-center gap-2 px-4 py-2 rounded-lg font-semibold text-sm transition-all",style:{backgroundColor:d?"white":"#376295",color:d?"#64748b":"white",border:d?"1px solid #e2e8f0":"none"},children:[n.jsx(vo,{className:"w-4 h-4"}),"Por Dia"]}),n.jsxs("button",{onClick:()=>{u(!0),l(null)},className:"flex-1 flex items-center justify-center gap-2 px-4 py-2 rounded-lg font-semibold text-sm transition-all",style:{backgroundColor:d?"#376295":"white",color:d?"white":"#64748b",border:d?"none":"1px solid #e2e8f0"},children:[n.jsx(go,{className:"w-4 h-4"}),"Todos"]})]}),n.jsxs("div",{className:"border rounded-lg p-3",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsx("button",{onClick:Z,className:"p-2 hover:bg-slate-100 rounded-lg transition-colors",children:n.jsx(kt,{className:"h-4 w-4 text-slate-600"})}),n.jsx("span",{className:"text-sm font-semibold text-slate-700",children:Qe(r,"MMMM 'de' yyyy",{locale:vn})}),n.jsx("button",{onClick:M,className:"p-2 hover:bg-slate-100 rounded-lg transition-colors",children:n.jsx(Wl,{className:"h-4 w-4 text-slate-600"})})]}),n.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:["dom","seg","ter","qua","qui","sex","sb"].map(L=>n.jsx("div",{className:"text-center text-xs font-semibold text-slate-500 py-2",children:L},L))}),n.jsxs("div",{className:"grid grid-cols-7 gap-1",children:[he.map((L,F)=>n.jsx("div",{className:"aspect-square"},`vazio-${F}`)),te.map(L=>{const F=$(L),O=i&&zr(L,i),ie=zr(L,new Date);return n.jsx("button",{onClick:()=>ae(L),className:"aspect-square rounded-lg text-sm flex flex-col items-center justify-center relative transition-all hover:bg-blue-50",style:{backgroundColor:O?"#376295":!O&&ie?"#e2e8f0":!O&&!ie&&F>0?"#F5E8F5":"transparent",color:O?"white":O===!1&&ie?"#376295":!O&&!ie&&F>0?"#890d5d":"#1e293b",fontWeight:O||ie||F>0?"bold":"normal",boxShadow:O?"0 4px 6px -1px rgba(0, 0, 0, 0.1)":"none"},children:n.jsx("span",{children:Qe(L,"d")})},L.toISOString())})]})]}),n.jsxs("div",{className:"text-center pt-4 border-t border-slate-200",children:[i&&!d&&n.jsx("div",{className:"text-base font-semibold text-slate-700",children:Qe(i,"dd 'de' MMMM",{locale:vn})}),n.jsxs("div",{className:"text-sm text-slate-500",children:[V.length," pagamento",V.length!==1?"s":""]})]})]})}),n.jsxs("div",{className:"lg:col-span-3 space-y-6",children:[n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[n.jsx("h2",{className:"text-lg font-bold text-slate-900 mb-4",children:"Buscar e Filtrar"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"relative",children:[n.jsx(Vn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400 w-5 h-5"}),n.jsx("input",{type:"text",placeholder:"Buscar por nmero, nome ou telefone...",value:h,onChange:L=>m(L.target.value),className:"w-full pl-10 pr-4 py-3 border border-slate-300 rounded-lg focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-100 transition-all"})]}),n.jsxs(Jo,{value:x,onValueChange:p,children:[n.jsx(fo,{children:n.jsx(Yo,{placeholder:"Todos os Motoboys"})}),n.jsxs(mo,{children:[n.jsx(jt,{value:"todos",children:"Todos os Motoboys"}),Y.map(L=>n.jsx(jt,{value:L,children:L},L))]})]})]})]}),n.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[n.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-5 cursor-pointer transition-all hover:shadow-md",children:[n.jsxs("div",{className:"flex items-center justify-center gap-2 mb-3",children:[n.jsx("div",{className:"p-1.5 rounded-lg",style:{backgroundColor:"#FEF3E8"},children:n.jsx(Kw,{className:"w-6 h-6",style:{color:"#f97316"}})}),n.jsx("span",{className:"text-sm font-bold text-slate-700",children:"Pendentes"})]}),n.jsx("div",{className:"text-4xl font-bold text-center",style:{color:"#f97316"},children:T.pendentes})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-5 cursor-pointer transition-all hover:shadow-md",children:[n.jsxs("div",{className:"flex items-center justify-center gap-2 mb-3",children:[n.jsx("div",{className:"p-1.5 rounded-lg",style:{backgroundColor:"#E8F5E8"},children:n.jsx(ua,{className:"w-6 h-6",style:{color:"#22c55e"}})}),n.jsx("span",{className:"text-sm font-bold text-slate-700",children:"Recebidos"})]}),n.jsx("div",{className:"text-4xl font-bold text-center",style:{color:"#22c55e"},children:T.recebidos})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-5 cursor-pointer transition-all hover:shadow-md",children:[n.jsxs("div",{className:"flex items-center justify-center gap-2 mb-3",children:[n.jsx("div",{className:"p-1.5 rounded-lg",style:{backgroundColor:"#E8F0F8"},children:n.jsx(_m,{className:"w-6 h-6",style:{color:"#376295"}})}),n.jsx("span",{className:"text-sm font-bold text-slate-700",children:"Dinheiro"})]}),n.jsxs("div",{className:"text-2xl font-bold text-center",style:{color:"#376295"},children:["R$ ",T.dinheiro.toFixed(2)]})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-5 cursor-pointer transition-all hover:shadow-md",children:[n.jsxs("div",{className:"flex items-center justify-center gap-2 mb-3",children:[n.jsx("div",{className:"p-1.5 rounded-lg",style:{backgroundColor:"#F5E8F5"},children:n.jsx(Gw,{className:"w-6 h-6",style:{color:"#890d5d"}})}),n.jsx("span",{className:"text-sm font-bold text-slate-700",children:"Carto"})]}),n.jsxs("div",{className:"text-2xl font-bold text-center",style:{color:"#890d5d"},children:["R$ ",T.cartao.toFixed(2)]})]})]}),n.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:V.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx(ga,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:"Nenhum pagamento encontrado"}),n.jsx("p",{className:"text-sm text-slate-600",children:h||x!=="todos"?"Tente ajustar os filtros de busca":"No h pagamentos cadastrados"})]}):n.jsx("div",{children:n.jsx("div",{className:"space-y-3",children:V.map(L=>{var F,O;return n.jsx(hs,{to:`/detalhes-romaneio?id=${L.id}`,className:"block p-5 rounded-lg border border-slate-200 hover:border-slate-300 hover:shadow-md transition-all",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[n.jsxs("span",{className:"text-base font-semibold",style:{color:"#376295"},children:["#",L.requisicao]}),n.jsx(Ln,{className:"px-3 py-1 rounded text-xs font-medium",style:{backgroundColor:L.pagamento_recebido?"#E8F5E8":"#FEF3E8",color:L.pagamento_recebido?"#22c55e":"#f97316"},children:L.pagamento_recebido?"Recebido":"Pendente"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm text-slate-600 mb-3",children:[n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Cliente:"})," ",((F=L.cliente)==null?void 0:F.nome)||L.cliente_nome]}),n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Motoboy:"})," ",((O=L.motoboy)==null?void 0:O.nome)||"Sem motoboy"]}),n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Data:"})," ",L.data_entrega?Qe(er(L.data_entrega),"dd/MM/yyyy"):"-"]}),L.forma_pagamento&&n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Forma:"})," ",L.forma_pagamento]})]})]}),n.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[L.valor&&n.jsx("div",{className:"text-right mr-3",children:n.jsxs("div",{className:"font-bold text-xl",style:{color:"#376295"},children:["R$ ",parseFloat(L.valor).toFixed(2)]})}),n.jsxs("button",{onClick:ie=>K(ie,L),className:"px-4 py-2 border border-slate-300 rounded-lg hover:bg-slate-50 transition-colors flex items-center gap-2 text-sm font-medium text-slate-700",title:"Editar pagamento",children:[n.jsx(xu,{className:"w-4 h-4"}),"Editar"]})]})]})},L.id)})})})})]})]})}),n.jsx(jo,{open:w,onOpenChange:b,children:n.jsxs(_s,{className:"sm:max-w-[500px]",children:[n.jsxs(Es,{children:[n.jsx(Ns,{children:"Editar Pagamento"}),n.jsxs(vu,{children:["#",E==null?void 0:E.requisicao," - ",((R=E==null?void 0:E.cliente)==null?void 0:R.nome)||(E==null?void 0:E.cliente_nome)]})]}),n.jsxs("div",{className:"space-y-4 py-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium",children:"Forma de Pagamento *"}),n.jsxs(Jo,{value:j,onValueChange:N,children:[n.jsx(fo,{children:n.jsx(Yo,{placeholder:"Selecione a forma de pagamento"})}),n.jsx(mo,{children:hD.map(L=>n.jsx(jt,{value:L,children:L},L))})]},`forma-pagamento-${E==null?void 0:E.id}`)]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium",children:"Status do Pagamento"}),n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[n.jsx("input",{type:"radio",checked:!S,onChange:()=>k(!1),className:"w-4 h-4 text-orange-600"}),n.jsx("span",{className:"text-sm",children:"Pendente"})]}),n.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[n.jsx("input",{type:"radio",checked:S,onChange:()=>k(!0),className:"w-4 h-4 text-green-600"}),n.jsx("span",{className:"text-sm",children:"Recebido"})]})]})]}),E&&n.jsxs("div",{className:"bg-slate-50 rounded-lg p-3 space-y-1 text-sm",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-slate-600",children:"Valor:"}),n.jsxs("span",{className:"font-semibold",children:["R$ ",parseFloat(E.valor||0).toFixed(2)]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-slate-600",children:"Data:"}),n.jsx("span",{children:E.data_entrega?Qe(er(E.data_entrega),"dd/MM/yyyy"):"-"})]}),((D=E.motoboy)==null?void 0:D.nome)&&n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-slate-600",children:"Motoboy:"}),n.jsx("span",{children:E.motoboy.nome})]})]})]}),n.jsxs(vp,{children:[n.jsx(ar,{variant:"outline",onClick:()=>b(!1),disabled:q.isPending,children:"Cancelar"}),n.jsx(ar,{onClick:de,disabled:q.isPending,style:{background:q.isPending?"#94a3b8":"#376295"},className:"text-white",children:q.isPending?"Salvando...":"Salvar"})]})]})},`dialog-${(E==null?void 0:E.id)||"none"}`)]})}function mD(){const t=Ht(),e=Nn(),r=Sn(),o=new URLSearchParams(e.search),[i,l]=y.useState(()=>{const A=o.get("data");return A?new Date(A):new Date}),[d,u]=y.useState(o.get("motoboy")||"todos"),[h,m]=y.useState(o.get("todas")==="true");y.useEffect(()=>{const A=new URLSearchParams;h||A.set("data",Qe(i,"yyyy-MM-dd")),A.set("todas",h.toString()),d!=="todos"&&A.set("motoboy",d),t(`?${A.toString()}`,{replace:!0})},[i,d,h]);const{data:x=[],isLoading:p}=tn({queryKey:["entregas-moto-planilha"],queryFn:async()=>{try{const{data:A,error:q}=await _e.from("entregas").select(`
            *,
            cliente:clientes(id, nome, telefone),
            endereco:enderecos(id, logradouro, numero, bairro, cidade, complemento),
            motoboy:motoboys(id, nome)
          `).eq("tipo","moto").order("data_entrega",{ascending:!1});if(q)throw q;return console.log("Entregas carregadas:",A),A||[]}catch(A){return console.error("Erro ao carregar entregas:",A),ge.error("Erro ao carregar entregas"),[]}},refetchOnMount:"always",staleTime:0,gcTime:0}),{data:w=[],isLoading:b}=tn({queryKey:["sedex-disktenha-planilha",i,h],queryFn:async()=>{let A=_e.from("sedex_disktenha").select("*");if(!h){const de=Qe(i,"yyyy-MM-dd");A=A.eq("data_saida",de)}const{data:q,error:K}=await A;return K?(console.error("Erro ao carregar Sedex/Disktenha:",K),ge.error("Erro ao carregar Sedex/Disktenha"),[]):(console.log("Sedex/Disktenha carregados:",q),q||[])}}),E=[...w].sort((A,q)=>{const K={DISKTENHA:1,SEDEX:2,PAC:3},de=K[A.tipo]||999,V=K[q.tipo]||999;return de-V}),_=xs({mutationFn:async({id:A,data:q})=>{const{error:K}=await _e.from("entregas").update(q).eq("id",A);if(K)throw K},onSuccess:()=>{r.invalidateQueries({queryKey:["entregas-moto-planilha"]}),ge.success("Status atualizado!")},onError:()=>{ge.error("Erro ao atualizar")}}),j=xs({mutationFn:async({id:A,status:q})=>{const{error:K}=await _e.from("sedex_disktenha").update({status:q}).eq("id",A);if(K)throw K},onSuccess:()=>{r.invalidateQueries({queryKey:["sedex-disktenha-planilha"]}),ge.success("Status atualizado!")},onError:()=>{ge.error("Erro ao atualizar")}}),N=x.filter(A=>{var q;if(!h&&A.data_entrega)try{const K=new Date(A.data_entrega);if(!zr(K,i))return!1}catch(K){return console.error("Erro ao fazer parse da data:",A.data_entrega,K),!1}return!(d!=="todos"&&((q=A.motoboy)==null?void 0:q.nome)!==d)});console.log("Total entregas:",x.length),console.log("Entregas filtradas:",N.length),console.log("Data selecionada:",i),console.log("Visualizar todas:",h),console.log("Filtro motoboy:",d);const S=[...N].sort((A,q)=>{var T,Y;const K=((T=A.endereco)==null?void 0:T.cidade)||"",de=((Y=q.endereco)==null?void 0:Y.cidade)||"",V=K.localeCompare(de);return V!==0?V:A.periodo==="Manh"?-1:1}),k=[...new Set(x.map(A=>{var q;return(q=A.motoboy)==null?void 0:q.nome}).filter(Boolean))],P=(A,q)=>A==="Entregue"?"bg-green-50":A==="A Caminho"?"bg-yellow-50":q==="Cartanhex pago"?"bg-orange-50":q==="Maquina"?"bg-purple-50":"bg-white",z=(A,q,K="romaneio")=>{K==="romaneio"?_.mutate({id:A,data:{status:q}}):j.mutate({id:A,status:q})};return n.jsxs("div",{className:"min-h-screen bg-slate-50",children:[n.jsx("div",{className:"py-8 shadow-sm",style:{background:"linear-gradient(135deg, #457bba 0%, #890d5d 100%)"},children:n.jsx("div",{className:"max-w-7xl mx-auto px-6",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("button",{onClick:()=>t(-1),className:"p-2 rounded-lg bg-white/20 hover:bg-white/30 transition-colors",children:n.jsx(kt,{className:"w-6 h-6 text-white"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-4xl font-bold text-white",children:"Planilha Diria"}),n.jsx("p",{className:"text-base text-white opacity-90 mt-1",children:"Visualize e edite todas as entregas do dia"})]})]})})}),n.jsx("div",{className:"p-6",children:n.jsxs("div",{className:"max-w-7xl mx-auto",children:[n.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6 mb-6",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("button",{onClick:()=>m(!0),className:"flex items-center justify-center gap-2 px-4 py-2 rounded-lg font-semibold text-sm transition-all whitespace-nowrap",style:{backgroundColor:h?"#376295":"white",color:h?"white":"#64748b",border:h?"none":"1px solid #e2e8f0"},children:"Todas"}),n.jsx("button",{onClick:()=>m(!1),className:"flex items-center justify-center gap-2 px-4 py-2 rounded-lg font-semibold text-sm transition-all whitespace-nowrap",style:{backgroundColor:h?"white":"#376295",color:h?"#64748b":"white",border:h?"1px solid #e2e8f0":"none"},children:"Por Dia"})]}),!h&&n.jsx("div",{className:"flex items-center gap-2",children:n.jsx("input",{type:"date",value:Qe(i,"yyyy-MM-dd"),onChange:A=>{A.target.value&&l(new Date(A.target.value+"T00:00:00"))},className:"px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-100 text-sm"})}),n.jsx("div",{className:"flex-1 max-w-xs",children:n.jsxs("select",{value:d,onChange:A=>u(A.target.value),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-100 text-sm",children:[n.jsx("option",{value:"todos",children:"Todos os Motoboys"}),k.map(A=>n.jsx("option",{value:A,children:A},A))]})})]})}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"bg-white rounded-lg border border-slate-200 overflow-hidden",children:[n.jsx("div",{className:"px-4 py-3",style:{backgroundColor:"#376295"},children:n.jsx("h2",{className:"text-white font-bold text-lg",children:"ENTREGAS MOTO"})}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full text-xs border-collapse",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"bg-slate-100 border-b border-slate-300",children:[n.jsx("th",{className:"px-2 py-2 text-left font-semibold text-slate-700 border-r border-slate-200",children:"Atendente"}),n.jsx("th",{className:"px-2 py-2 text-left font-semibold text-slate-700 border-r border-slate-200",children:"Requisio"}),n.jsx("th",{className:"px-2 py-2 text-left font-semibold text-slate-700 border-r border-slate-200",children:"Cliente"}),n.jsx("th",{className:"px-2 py-2 text-left font-semibold text-slate-700 border-r border-slate-200",children:"Telefone"}),n.jsx("th",{className:"px-2 py-2 text-left font-semibold text-slate-700 border-r border-slate-200",children:"Observao"}),n.jsx("th",{className:"px-2 py-2 text-left font-semibold text-slate-700 border-r border-slate-200",children:"Local"}),n.jsx("th",{className:"px-2 py-2 text-left font-semibold text-slate-700 border-r border-slate-200",children:"Forma de Pgto"}),n.jsx("th",{className:"px-2 py-2 text-left font-semibold text-slate-700 border-r border-slate-200",children:"Valor a Cobrar"}),n.jsx("th",{className:"px-2 py-2 text-left font-semibold text-slate-700 border-r border-slate-200",children:"Troco"}),n.jsx("th",{className:"px-2 py-2 text-left font-semibold text-slate-700 border-r border-slate-200",children:"Perodo"}),n.jsx("th",{className:"px-2 py-2 text-left font-semibold text-slate-700 border-r border-slate-200",children:"Status"}),n.jsx("th",{className:"px-2 py-2 text-left font-semibold text-slate-700 border-r border-slate-200",children:"Receita"}),n.jsx("th",{className:"px-2 py-2 text-left font-semibold text-slate-700 border-r border-slate-200",children:"Moto"}),n.jsx("th",{className:"px-2 py-2 text-left font-semibold text-slate-700 border-r border-slate-200",children:"Taxa"}),n.jsx("th",{className:"px-2 py-2 text-left font-semibold text-slate-700",children:"Ver"})]})}),n.jsx("tbody",{children:p?n.jsx("tr",{children:n.jsx("td",{colSpan:"15",className:"p-8 text-center text-slate-500",children:"Carregando..."})}):S.length===0?n.jsx("tr",{children:n.jsx("td",{colSpan:"15",className:"p-8 text-center text-slate-500",children:"Nenhuma entrega encontrada"})}):S.map(A=>{var q,K,de,V;return n.jsxs("tr",{className:`border-b border-slate-200 hover:bg-slate-50 ${P(A.status,A.forma_pagamento)}`,children:[n.jsx("td",{className:"px-2 py-1.5 border-r border-slate-200 text-slate-600",children:A.atendente||"-"}),n.jsx("td",{className:"px-2 py-1.5 border-r border-slate-200 font-mono text-slate-700",children:A.requisicao||"-"}),n.jsx("td",{className:"px-2 py-1.5 border-r border-slate-200 font-medium text-slate-800",children:((q=A.cliente)==null?void 0:q.nome)||"-"}),n.jsx("td",{className:"px-2 py-1.5 border-r border-slate-200 text-slate-600",children:(K=A.cliente)!=null&&K.telefone?A.cliente.telefone.replace(/\D/g,""):"-"}),n.jsx("td",{className:"px-2 py-1.5 border-r border-slate-200 text-slate-600 max-w-[200px] truncate",children:A.observacoes||"-"}),n.jsx("td",{className:"px-2 py-1.5 border-r border-slate-200 text-slate-600",children:((de=A.endereco)==null?void 0:de.cidade)||"-"}),n.jsx("td",{className:"px-2 py-1.5 border-r border-slate-200",children:n.jsx("span",{className:`px-1.5 py-0.5 rounded text-[10px] font-medium ${A.forma_pagamento==="Pago"?"text-green-700":A.forma_pagamento==="Dinheiro"?"text-blue-700":A.forma_pagamento==="Carto"?"text-purple-700":"bg-slate-100 text-slate-700"}`,style:{backgroundColor:A.forma_pagamento==="Pago"?"#E8F5E8":A.forma_pagamento==="Dinheiro"?"#E8F0F8":A.forma_pagamento==="Carto"?"#F5E8F5":void 0},children:A.forma_pagamento||"-"})}),n.jsxs("td",{className:"px-2 py-1.5 border-r border-slate-200 text-slate-700 font-semibold",children:["R$ ",A.valor?parseFloat(A.valor).toFixed(2):"0.00"]}),n.jsx("td",{className:"px-2 py-1.5 border-r border-slate-200 text-slate-600",children:A.troco||"-"}),n.jsx("td",{className:"px-2 py-1.5 border-r border-slate-200",children:n.jsx("span",{className:`px-1.5 py-0.5 rounded text-[10px] font-medium ${A.periodo==="Manh","text-orange-800"}`,style:{backgroundColor:"#FEF3E8"},children:A.periodo||"-"})}),n.jsx("td",{className:"px-2 py-1.5 border-r border-slate-200",children:n.jsxs("select",{value:A.status||"Pendente",onChange:T=>z(A.id,T.target.value,"romaneio"),className:"w-full text-[10px] p-1 border border-slate-300 rounded bg-white",disabled:_.isPending,children:[n.jsx("option",{value:"Pendente",children:"Pendente"}),n.jsx("option",{value:"Produo",children:"Produo"}),n.jsx("option",{value:"Preparando",children:"Preparando"}),n.jsx("option",{value:"A Caminho",children:"A Caminho"}),n.jsx("option",{value:"Entregue",children:"Entregue"}),n.jsx("option",{value:"No Entregue",children:"No Entregue"}),n.jsx("option",{value:"Voltou",children:"Voltou"}),n.jsx("option",{value:"Cancelado",children:"Cancelado"})]})}),n.jsx("td",{className:"px-2 py-1.5 border-r border-slate-200 text-center",children:A.recibo_medico?n.jsx("span",{className:"inline-block w-4 h-4 rounded-full bg-green-500"}):n.jsx("span",{className:"inline-block w-4 h-4 rounded-full bg-slate-300"})}),n.jsx("td",{className:"px-2 py-1.5 border-r border-slate-200 text-slate-700 font-medium",children:((V=A.motoboy)==null?void 0:V.nome)||"-"}),n.jsxs("td",{className:"px-2 py-1.5 border-r border-slate-200 text-slate-700 font-semibold",children:["R$ ",A.taxa?parseFloat(A.taxa).toFixed(2):"0.00"]}),n.jsx("td",{className:"px-2 py-1.5",children:n.jsx(hs,{to:`/detalhes-romaneio?id=${A.id}`,className:"hover:opacity-80 transition-opacity",style:{color:"#376295"},children:n.jsx(n5,{className:"w-3.5 h-3.5"})})})]},A.id)})})]})})]}),n.jsxs("div",{className:"bg-white rounded-lg border border-slate-200 overflow-hidden",children:[n.jsx("div",{className:"px-4 py-3",style:{backgroundColor:"#890d5d"},children:n.jsx("h2",{className:"text-white font-bold text-lg",children:"SEDEX / DISKTENHA"})}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full text-xs border-collapse",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"bg-blue-50 border-b border-blue-200",children:[n.jsx("th",{className:"px-2 py-2 text-left font-semibold text-slate-700 border-r border-blue-200",children:"Tipo"}),n.jsx("th",{className:"px-2 py-2 text-left font-semibold text-slate-700 border-r border-blue-200",children:"Cliente"}),n.jsx("th",{className:"px-2 py-2 text-left font-semibold text-slate-700 border-r border-blue-200",children:"Remetente"}),n.jsx("th",{className:"px-2 py-2 text-left font-semibold text-slate-700 border-r border-blue-200",children:"Cdigo Rastreio"}),n.jsx("th",{className:"px-2 py-2 text-left font-semibold text-slate-700 border-r border-blue-200",children:"Valor"}),n.jsx("th",{className:"px-2 py-2 text-left font-semibold text-slate-700 border-r border-blue-200",children:"Forma de Pgto"}),n.jsx("th",{className:"px-2 py-2 text-left font-semibold text-slate-700 border-r border-blue-200",children:"Data Sada"}),n.jsx("th",{className:"px-2 py-2 text-left font-semibold text-slate-700 border-r border-blue-200",children:"Status"}),n.jsx("th",{className:"px-2 py-2 text-left font-semibold text-slate-700",children:"Observaes"})]})}),n.jsx("tbody",{className:"bg-blue-50/30",children:b?n.jsx("tr",{children:n.jsx("td",{colSpan:"9",className:"p-8 text-center text-slate-500",children:"Carregando..."})}):E.length===0?n.jsx("tr",{children:n.jsx("td",{colSpan:"9",className:"p-8 text-center text-slate-500",children:"Nenhuma entrega Sedex/Disktenha encontrada"})}):E.map(A=>n.jsxs("tr",{className:"border-b border-blue-200 hover:bg-blue-100/50",children:[n.jsx("td",{className:"px-2 py-1.5 border-r border-blue-200",children:n.jsx("span",{className:`px-1.5 py-0.5 rounded text-[10px] font-bold ${A.tipo==="SEDEX"?"bg-red-100 text-red-800":A.tipo==="PAC"?"bg-yellow-100 text-yellow-800":"bg-blue-100 text-blue-800"}`,children:A.tipo})}),n.jsx("td",{className:"px-2 py-1.5 border-r border-blue-200 font-medium text-slate-800",children:A.cliente}),n.jsx("td",{className:"px-2 py-1.5 border-r border-blue-200 text-slate-600",children:A.remetente||"-"}),n.jsx("td",{className:"px-2 py-1.5 border-r border-blue-200 font-mono text-slate-700",children:A.codigo_rastreio}),n.jsxs("td",{className:"px-2 py-1.5 border-r border-blue-200 text-slate-700 font-semibold",children:["R$ ",A.valor?parseFloat(A.valor).toFixed(2):"0.00"]}),n.jsx("td",{className:"px-2 py-1.5 border-r border-blue-200",children:n.jsx("span",{className:"px-1.5 py-0.5 rounded text-[10px] font-medium bg-green-100 text-green-800",children:A.forma_pagamento})}),n.jsx("td",{className:"px-2 py-1.5 border-r border-blue-200 text-slate-600",children:A.data_saida?Qe(er(A.data_saida),"dd/MM/yyyy"):"-"}),n.jsx("td",{className:"px-2 py-1.5 border-r border-blue-200",children:n.jsxs("select",{value:A.status||"Pendente",onChange:q=>z(A.id,q.target.value,"sedex"),className:"w-full text-[10px] p-1 border border-blue-300 rounded bg-white",disabled:j.isPending,children:[n.jsx("option",{value:"Pendente",children:"Pendente"}),n.jsx("option",{value:"Em Trnsito",children:"Em Trnsito"}),n.jsx("option",{value:"Entregue",children:"Entregue"}),n.jsx("option",{value:"Devolvido",children:"Devolvido"})]})}),n.jsx("td",{className:"px-2 py-1.5 text-slate-600 max-w-[200px] truncate",children:A.observacoes||"-"})]},A.id))})]})})]}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[n.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-5 border-2 border-transparent",children:[n.jsxs("div",{className:"flex items-center justify-center gap-2 mb-3",children:[n.jsx("div",{className:"p-1.5 rounded-lg",style:{backgroundColor:"#E8F0F8"},children:n.jsx("svg",{className:"w-6 h-6",style:{color:"#376295"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})}),n.jsx("span",{className:"text-sm font-bold text-slate-700",children:"Total Romaneios"})]}),n.jsx("div",{className:"text-4xl font-bold text-center",style:{color:"#376295"},children:S.length})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-5 border-2 border-transparent",children:[n.jsxs("div",{className:"flex items-center justify-center gap-2 mb-3",children:[n.jsx("div",{className:"p-1.5 rounded-lg",style:{backgroundColor:"#E8F5E8"},children:n.jsx("svg",{className:"w-6 h-6",style:{color:"#22c55e"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),n.jsx("span",{className:"text-sm font-bold text-slate-700",children:"Entregues"})]}),n.jsx("div",{className:"text-4xl font-bold text-center",style:{color:"#22c55e"},children:S.filter(A=>A.status==="Entregue").length})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-5 border-2 border-transparent",children:[n.jsxs("div",{className:"flex items-center justify-center gap-2 mb-3",children:[n.jsx("div",{className:"p-1.5 rounded-lg",style:{backgroundColor:"#F5E8F5"},children:n.jsx("svg",{className:"w-6 h-6",style:{color:"#890d5d"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"})})}),n.jsx("span",{className:"text-sm font-bold text-slate-700",children:"Sedex/Disk"})]}),n.jsx("div",{className:"text-4xl font-bold text-center",style:{color:"#890d5d"},children:E.length})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-5 border-2 border-transparent",children:[n.jsxs("div",{className:"flex items-center justify-center gap-2 mb-3",children:[n.jsx("div",{className:"p-1.5 rounded-lg",style:{backgroundColor:"#E8F0F8"},children:n.jsx("svg",{className:"w-6 h-6",style:{color:"#376295"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),n.jsx("span",{className:"text-sm font-bold text-slate-700",children:"Valor Total"})]}),n.jsxs("div",{className:"text-4xl font-bold text-center",style:{color:"#376295"},children:["R$ ",(S.reduce((A,q)=>A+(parseFloat(q.valor)||0),0)+E.reduce((A,q)=>A+(parseFloat(q.valor)||0),0)).toFixed(2)]})]})]})]})]})})]})}function pD(){const t=Ht(),e=Sn(),[r,o]=y.useState(null),[i,l]=y.useState(new Date),[d,u]=y.useState("dia"),[h,m]=y.useState("todos"),{data:x=[]}=tn({queryKey:["motoboys-lista"],queryFn:async()=>{const{data:$,error:Z}=await _e.from("motoboys").select("*").order("nome");if(Z)throw Z;return $||[]}});y.useEffect(()=>{x.length>0&&!r&&o(x[0].id)},[x,r]);const{data:p=[],isLoading:w}=tn({queryKey:["entregas-motoboy",r],queryFn:async()=>{if(!r)return console.log("Nenhum motoboy selecionado"),[];try{const{data:$,error:Z}=await _e.from("entregas").select(`
            *,
            cliente:clientes(id, nome, telefone),
            endereco:enderecos(id, logradouro, numero, bairro, cidade, complemento),
            motoboy:motoboys(id, nome)
          `).eq("tipo","moto").order("data_entrega",{ascending:!0});if(Z)throw console.error("Erro Supabase:",Z),Z;return($==null?void 0:$.filter(ae=>ae.motoboy_id===r))||[]}catch($){return console.error("Erro ao carregar entregas:",$),ge.error("Erro ao carregar entregas"),[]}},enabled:!!r,refetchOnMount:"always",staleTime:0}),b=p.filter($=>{if(!$.data_entrega)return!1;const Z=new Date($.data_entrega+"T00:00:00");if(d==="dia")return zr(Z,i);{const M=pa(i,{weekStartsOn:0}),ae=ty(i,{weekStartsOn:0});return Z>=M&&Z<=ae}}),E=b.filter($=>h==="todos"?!0:h==="entregues"?$.status==="Entregue":h==="a_caminho"?$.status==="A Caminho":h==="pendentes"?$.status==="Pendente"||$.status==="Preparando"||$.status==="Produzindo no Laboratrio":!0),_=xs({mutationFn:async({id:$,status:Z})=>{const{error:M}=await _e.from("entregas").update({status:Z}).eq("id",$);if(M)throw M},onSuccess:()=>{e.invalidateQueries({queryKey:["entregas-motoboy"]}),ge.success("Status atualizado!")},onError:()=>{ge.error("Erro ao atualizar status")}}),j={total:b.length,entregues:b.filter($=>$.status==="Entregue").length,aCaminho:b.filter($=>$.status==="A Caminho").length,pendentes:b.filter($=>$.status==="Pendente"||$.status==="Preparando"||$.status==="Produzindo no Laboratrio").length},N={total:E.length,entregues:E.filter($=>$.status==="Entregue").length,aCaminho:E.filter($=>$.status==="A Caminho").length,pendentes:E.filter($=>$.status==="Pendente"||$.status==="Preparando"||$.status==="Produzindo no Laboratrio").length,valorTotal:E.reduce(($,Z)=>$+(parseFloat(Z.valor)||0),0),taxaTotal:E.reduce(($,Z)=>$+(parseFloat(Z.taxa)||0),0)},S={manha:E.filter($=>$.periodo==="Manh"),tarde:E.filter($=>$.periodo==="Tarde")},P=(()=>{const $=i,Z=l3($);let M;return Z===0?M=_d($,5):Z===1?M=_d($,6):M=_d($,Z-2),[{nome:"Tera-feira",offset:0},{nome:"Quarta-feira",offset:1},{nome:"Quinta-feira",offset:2},{nome:"Sexta-feira",offset:3},{nome:"Sbado",offset:4},{nome:"Segunda-feira",offset:6}].map(R=>{const D=ru(M,R.offset),L=Qe(D,"yyyy-MM-dd"),F=new Date,O=p.filter(le=>le.motoboy_id!==r||!le.data_entrega?!1:le.data_entrega===L),ie=O.reduce((le,X)=>le+(parseFloat(X.taxa)||0),0),ue=O.filter(le=>le.status==="Entregue").length;return{nome:R.nome,data:D,dataStr:L,entregas:O.length,entregues:ue,taxa:ie,isHoje:zr(D,F)}})})(),z=P.reduce(($,Z)=>$+Z.taxa,0);P.length>0&&`${Qe(P[0].data,"dd/MM")}${Qe(P[P.length-1].data,"dd/MM/yyyy")}`;const A=($,Z)=>{_.mutate({id:$,status:Z})},q=$=>{t(`/detalhes-romaneio?id=${$.id}`)},K=x.find($=>$.id===r),de=()=>{l($=>_d($,1))},V=()=>{l($=>ru($,1))},T=()=>{l($=>E3($))},Y=()=>{l($=>Jj($,1))},te=()=>{l(new Date)},U=()=>{if(d==="dia")return Qe(i,"dd 'de' MMMM 'de' yyyy",{locale:vn});{const $=pa(i,{weekStartsOn:0}),Z=ty(i,{weekStartsOn:0});return`${Qe($,"dd/MM",{locale:vn})} a ${Qe(Z,"dd/MM/yyyy",{locale:vn})}`}},he=E.reduce(($,Z)=>{const M=Z.data_entrega;return $[M]||($[M]=[]),$[M].push(Z),$},{});return n.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100",children:[n.jsx("div",{className:"py-8 shadow-sm",style:{background:"linear-gradient(135deg, #457bba 0%, #890d5d 100%)"},children:n.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[n.jsx("div",{className:"flex items-center justify-between mb-4",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("button",{onClick:()=>t(-1),className:"p-2 rounded-lg bg-white/20 hover:bg-white/30 transition-colors",children:n.jsx(kt,{className:"w-6 h-6 text-white"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-4xl font-bold text-white mb-1",children:"Painel do Motoboy"}),n.jsx("p",{className:"text-base text-white opacity-90",children:"Gerencie suas entregas"})]})]})}),n.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[n.jsx(bn,{className:"w-5 h-5 text-white opacity-90"}),n.jsx("select",{value:r||"",onChange:$=>o($.target.value),className:"flex-1 max-w-xs bg-white/20 backdrop-blur-sm border-2 border-white/30 rounded-lg px-4 py-2 text-white font-medium focus:outline-none focus:border-white/50",children:x.map($=>n.jsx("option",{value:$.id,className:"text-slate-900",children:$.nome},$.id))})]}),n.jsx("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-4",children:n.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{onClick:()=>u("dia"),className:"px-4 py-2 rounded-lg font-semibold text-sm transition-all",style:{backgroundColor:d==="dia"?"white":"rgba(255, 255, 255, 0.2)",color:d==="dia"?"#376295":"white"},children:"Dia"}),n.jsx("button",{onClick:()=>u("semana"),className:"px-4 py-2 rounded-lg font-semibold text-sm transition-all",style:{backgroundColor:d==="semana"?"white":"rgba(255, 255, 255, 0.2)",color:d==="semana"?"#376295":"white"},children:"Semana"})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("button",{onClick:d==="dia"?de:T,className:"bg-white/20 hover:bg-white/30 p-2 rounded-lg transition-colors",children:n.jsx(kt,{className:"w-5 h-5"})}),n.jsxs("div",{className:"flex items-center gap-2 bg-white/20 px-4 py-2 rounded-lg min-w-[200px] justify-center",children:[n.jsx(vo,{className:"w-4 h-4"}),n.jsx("span",{className:"font-semibold text-sm",children:U()})]}),n.jsx("button",{onClick:d==="dia"?V:Y,className:"bg-white/20 hover:bg-white/30 p-2 rounded-lg transition-colors",children:n.jsx(Wl,{className:"w-5 h-5"})}),n.jsx("button",{onClick:te,className:"bg-white/20 hover:bg-white/30 px-4 py-2 rounded-lg font-semibold text-sm transition-colors",children:"Hoje"})]}),n.jsx("div",{className:"flex items-center gap-2",children:n.jsx("input",{type:"date",value:Qe(i,"yyyy-MM-dd"),onChange:$=>{const[Z,M,ae]=$.target.value.split("-"),R=new Date(parseInt(Z),parseInt(M)-1,parseInt(ae));l(R)},className:"bg-white/20 border-2 border-white/30 rounded-lg px-3 py-2 text-white font-medium focus:outline-none focus:border-white/50 text-sm"})})]})})]})}),n.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-6",children:[n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4 mb-6",children:[n.jsxs("div",{onClick:$=>{$.stopPropagation(),m("todos")},className:"rounded-xl shadow-sm p-5 cursor-pointer transition-all hover:shadow-md bg-white",style:{border:h==="todos"?"2px solid #376295":"2px solid transparent"},children:[n.jsxs("div",{className:"flex items-center justify-center gap-2 mb-3",children:[n.jsx("div",{className:"p-1.5 rounded-lg",style:{backgroundColor:"#E8F0F8"},children:n.jsx(Ur,{className:"w-6 h-6",style:{color:"#376295"}})}),n.jsx("span",{className:"text-sm font-bold text-slate-700",children:"Total"})]}),n.jsx("div",{className:"text-4xl font-bold text-center",style:{color:"#376295"},children:j.total})]}),n.jsxs("div",{onClick:$=>{$.stopPropagation(),m("entregues")},className:"rounded-xl shadow-sm p-5 cursor-pointer transition-all hover:shadow-md bg-white",style:{border:h==="entregues"?"2px solid #22c55e":"2px solid transparent"},children:[n.jsxs("div",{className:"flex items-center justify-center gap-2 mb-3",children:[n.jsx("div",{className:"p-1.5 rounded-lg",style:{backgroundColor:"#E8F5E8"},children:n.jsx(ei,{className:"w-6 h-6",style:{color:"#22c55e"}})}),n.jsx("span",{className:"text-sm font-bold text-slate-700",children:"Entregues"})]}),n.jsx("div",{className:"text-4xl font-bold text-center",style:{color:"#22c55e"},children:j.entregues})]}),n.jsxs("div",{onClick:$=>{$.stopPropagation(),m("pendentes")},className:"rounded-xl shadow-sm p-5 cursor-pointer transition-all hover:shadow-md bg-white",style:{border:h==="pendentes"?"2px solid #890d5d":"2px solid transparent"},children:[n.jsxs("div",{className:"flex items-center justify-center gap-2 mb-3",children:[n.jsx("div",{className:"p-1.5 rounded-lg",style:{backgroundColor:"#F5E8F5"},children:n.jsx(Ur,{className:"w-6 h-6",style:{color:"#890d5d"}})}),n.jsx("span",{className:"text-sm font-bold text-slate-700",children:"Pendentes"})]}),n.jsx("div",{className:"text-4xl font-bold text-center",style:{color:"#890d5d"},children:j.pendentes})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-5 border-2 border-transparent",children:[n.jsxs("div",{className:"flex items-center justify-center gap-2 mb-3",children:[n.jsx("div",{className:"p-1.5 rounded-lg",style:{backgroundColor:"#E8F0F8"},children:n.jsx(ga,{className:"w-6 h-6",style:{color:"#376295"}})}),n.jsx("span",{className:"text-sm font-bold text-slate-700",children:"Valor Total"})]}),n.jsxs("div",{className:"text-4xl font-bold text-center",style:{color:"#376295"},children:["R$ ",N.valorTotal.toFixed(2)]})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-5 border-2 border-transparent",children:[n.jsxs("div",{className:"flex items-center justify-center gap-2 mb-3",children:[n.jsx("div",{className:"p-1.5 rounded-lg",style:{backgroundColor:"#E8F5E8"},children:n.jsx(O5,{className:"w-6 h-6",style:{color:"#22c55e"}})}),n.jsx("span",{className:"text-sm font-bold text-slate-700",children:"Ganhos"})]}),n.jsxs("div",{className:"text-4xl font-bold text-center",style:{color:"#22c55e"},children:["R$ ",N.taxaTotal.toFixed(2)]})]})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 mb-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("div",{className:"text-sm font-semibold text-slate-700",children:"Progresso do Dia"}),n.jsxs("div",{className:"text-sm font-bold",style:{color:"#376295"},children:[N.total>0?Math.round(N.entregues/N.total*100):0,"%"]})]}),n.jsx("div",{className:"w-full bg-slate-200 rounded-full h-3 overflow-hidden",children:n.jsx("div",{className:"h-3 rounded-full transition-all duration-500",style:{background:"linear-gradient(135deg, #457bba 0%, #890d5d 100%)",width:`${N.total>0?N.entregues/N.total*100:0}%`}})})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden mb-6 max-w-2xl",children:[n.jsxs("div",{className:"px-3 py-2 flex items-center justify-between",style:{backgroundColor:"#22c55e"},children:[n.jsx("h2",{className:"text-sm font-bold text-white",children:"Ganhos da Semana"}),n.jsx("div",{className:"text-right",children:n.jsxs("span",{className:"text-base font-bold text-white",children:["R$ ",z.toFixed(2)]})})]}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full text-xs",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"bg-slate-50 border-b border-slate-200",children:[n.jsx("th",{className:"px-2 py-1.5 text-left font-semibold text-slate-600",children:"Dia"}),n.jsx("th",{className:"px-2 py-1.5 text-left font-semibold text-slate-600",children:"Data"}),n.jsx("th",{className:"px-2 py-1.5 text-center font-semibold text-slate-600",children:"Entregues"}),n.jsx("th",{className:"px-2 py-1.5 text-right font-semibold text-slate-600",children:"Ganhos"})]})}),n.jsx("tbody",{children:P.map(($,Z)=>n.jsxs("tr",{className:"border-b border-slate-100 hover:bg-slate-50",style:{backgroundColor:$.isHoje?"#E8F0F8":"white"},children:[n.jsx("td",{className:"px-2 py-1.5",children:n.jsxs("div",{className:"flex items-center gap-1.5",children:[n.jsx("span",{className:"font-medium text-slate-900",style:{color:$.isHoje?"#376295":void 0},children:$.nome}),$.isHoje&&n.jsx("span",{className:"text-white text-[10px] px-1 py-0.5 rounded font-semibold",style:{backgroundColor:"#376295"},children:"HOJE"})]})}),n.jsx("td",{className:"px-2 py-1.5 text-slate-600",children:Qe($.data,"dd/MM/yy",{locale:vn})}),n.jsx("td",{className:"px-2 py-1.5 text-center",children:n.jsx("span",{className:`font-semibold ${$.entregues>0?"":"text-slate-400"}`,style:{color:$.entregues>0?"#22c55e":void 0},children:$.entregues})}),n.jsx("td",{className:"px-2 py-1.5 text-right",children:n.jsxs("span",{className:`font-bold ${$.taxa>0?"":"text-slate-400"}`,style:{color:$.taxa>0?"#22c55e":void 0},children:["R$ ",$.taxa.toFixed(2)]})})]},$.dataStr))})]})})]}),n.jsxs("div",{className:"space-y-6",children:[d==="semana"&&Object.keys(he).length>0&&Object.entries(he).sort(([$],[Z])=>$.localeCompare(Z)).map(([$,Z])=>{const M=new Date($+"T00:00:00"),ae=Z.filter(D=>D.periodo==="Manh"),R=Z.filter(D=>D.periodo==="Tarde");return n.jsxs("div",{className:"space-y-4",children:[n.jsx("div",{className:"text-white px-4 py-3 rounded-lg shadow-sm",style:{background:"linear-gradient(135deg, #457bba 0%, #890d5d 100%)"},children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(vo,{className:"w-5 h-5"}),n.jsxs("div",{children:[n.jsx("div",{className:"font-bold text-lg",children:Qe(M,"EEEE, dd 'de' MMMM",{locale:vn})}),n.jsxs("div",{className:"text-xs opacity-90",children:[Z.length," entrega",Z.length!==1?"s":""]})]})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("div",{className:"text-xs opacity-90",children:"Entregues"}),n.jsxs("div",{className:"text-lg font-bold",children:[Z.filter(D=>D.status==="Entregue").length,"/",Z.length]})]})]})}),ae.length>0&&n.jsxs("div",{children:[n.jsxs("div",{className:"text-white px-4 py-2 rounded-lg font-semibold text-sm mb-3",style:{backgroundColor:"#f97316"},children:[" MANH (",ae.length,")"]}),n.jsx("div",{className:"space-y-3",children:Object.entries(ae.reduce((D,L)=>{var O;const F=((O=L.endereco)==null?void 0:O.cidade)||"Sem cidade";return D[F]||(D[F]=[]),D[F].push(L),D},{})).map(([D,L])=>n.jsxs("div",{children:[n.jsxs("div",{className:"text-xs font-semibold text-slate-600 mb-2 ml-1",children:[" ",D," - ",L.length," entrega",L.length!==1?"s":""]}),n.jsx("div",{className:"space-y-2",children:L.map(F=>n.jsx(Nd,{entrega:F,onStatusChange:A,isUpdating:_.isPending,onCardClick:q},F.id))})]},D))})]}),R.length>0&&n.jsxs("div",{children:[n.jsxs("div",{className:"text-white px-4 py-2 rounded-lg font-semibold text-sm mb-3",style:{backgroundColor:"#f97316"},children:[" TARDE (",R.length,")"]}),n.jsx("div",{className:"space-y-3",children:Object.entries(R.reduce((D,L)=>{var O;const F=((O=L.endereco)==null?void 0:O.cidade)||"Sem cidade";return D[F]||(D[F]=[]),D[F].push(L),D},{})).map(([D,L])=>n.jsxs("div",{children:[n.jsxs("div",{className:"text-xs font-semibold text-slate-600 mb-2 ml-1",children:[" ",D," - ",L.length," entrega",L.length!==1?"s":""]}),n.jsx("div",{className:"space-y-2",children:L.map(F=>n.jsx(Nd,{entrega:F,onStatusChange:A,isUpdating:_.isPending,onCardClick:q},F.id))})]},D))})]})]},$)}),d==="dia"&&n.jsxs(n.Fragment,{children:[S.manha.length>0&&n.jsxs("div",{children:[n.jsx("div",{className:"flex items-center gap-2 mb-4",children:n.jsxs("div",{className:"text-white px-4 py-2 rounded-lg font-semibold text-sm",style:{backgroundColor:"#f97316"},children:[" MANH (",S.manha.length,")"]})}),n.jsx("div",{className:"space-y-3",children:Object.entries(S.manha.reduce(($,Z)=>{var ae;const M=((ae=Z.endereco)==null?void 0:ae.cidade)||"Sem cidade";return $[M]||($[M]=[]),$[M].push(Z),$},{})).map(([$,Z])=>n.jsxs("div",{children:[n.jsxs("div",{className:"text-xs font-semibold text-slate-600 mb-2 ml-1",children:[" ",$," - ",Z.length," entrega",Z.length!==1?"s":""]}),n.jsx("div",{className:"space-y-2",children:Z.map(M=>n.jsx(Nd,{entrega:M,onStatusChange:A,isUpdating:_.isPending,onCardClick:q},M.id))})]},$))})]}),S.tarde.length>0&&n.jsxs("div",{children:[n.jsx("div",{className:"flex items-center gap-2 mb-4",children:n.jsxs("div",{className:"text-white px-4 py-2 rounded-lg font-semibold text-sm",style:{backgroundColor:"#f97316"},children:[" TARDE (",S.tarde.length,")"]})}),n.jsx("div",{className:"space-y-3",children:Object.entries(S.tarde.reduce(($,Z)=>{var ae;const M=((ae=Z.endereco)==null?void 0:ae.cidade)||"Sem cidade";return $[M]||($[M]=[]),$[M].push(Z),$},{})).map(([$,Z])=>n.jsxs("div",{children:[n.jsxs("div",{className:"text-xs font-semibold text-slate-600 mb-2 ml-1",children:[" ",$," - ",Z.length," entrega",Z.length!==1?"s":""]}),n.jsx("div",{className:"space-y-2",children:Z.map(M=>n.jsx(Nd,{entrega:M,onStatusChange:A,isUpdating:_.isPending,onCardClick:q},M.id))})]},$))})]})]}),E.length===0&&!w&&n.jsxs("div",{className:"bg-white rounded-xl shadow-md p-12 text-center",children:[n.jsx(Ur,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),n.jsxs("div",{className:"text-xl font-semibold text-slate-600 mb-2",children:["Nenhuma entrega para ",d==="dia"?Qe(i,"dd/MM/yyyy"):"esta semana"]}),n.jsxs("div",{className:"text-sm text-slate-500 mb-4",children:[K==null?void 0:K.nome," no tem entregas agendadas para este perodo."]}),p.length>0&&n.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 max-w-md mx-auto",children:[n.jsx("div",{className:"text-sm font-semibold text-blue-900 mb-2",children:" Dias com entregas:"}),n.jsx("div",{className:"flex flex-wrap gap-2 justify-center",children:[...new Set(p.map($=>$.data_entrega))].sort().map($=>n.jsx("button",{onClick:()=>{const[Z,M,ae]=$.split("-"),R=new Date(parseInt(Z),parseInt(M)-1,parseInt(ae));l(R),u("dia")},className:"bg-blue-500 hover:bg-blue-600 text-white px-3 py-1 rounded-lg text-sm font-semibold transition-colors",children:Qe(new Date($+"T00:00:00"),"dd/MM")},$))})]})]})]})]})]})}function Nd({entrega:t,onStatusChange:e,isUpdating:r,onCardClick:o}){var d,u,h,m,x,p,w;const i=b=>{switch(b){case"Entregue":return"bg-green-50 border-green-200";case"A Caminho":return"bg-yellow-50 border-yellow-200";case"No Entregue":return"bg-red-50 border-red-200";default:return"bg-white border-slate-200"}},l=b=>{switch(b){case"Entregue":return{backgroundColor:"#22c55e",color:"white"};case"A Caminho":return{backgroundColor:"#f97316",color:"white"};case"No Entregue":return{backgroundColor:"#ef4444",color:"white"};case"Pendente":return{backgroundColor:"#890d5d",color:"white"};default:return{backgroundColor:"#376295",color:"white"}}};return n.jsx("div",{className:`rounded-xl shadow-md border-2 overflow-hidden transition-all cursor-pointer hover:shadow-lg hover:scale-[1.02] ${i(t.status)}`,onClick:b=>{o&&o(t)},children:n.jsxs("div",{className:"p-4",style:{pointerEvents:"none"},children:[n.jsxs("div",{className:"flex items-start justify-between mb-3",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx("h3",{className:"font-bold text-slate-900 text-lg",children:((d=t.cliente)==null?void 0:d.nome)||"Cliente"}),t.recibo_medico&&n.jsx("span",{className:"text-white text-xs px-2 py-0.5 rounded font-semibold",style:{backgroundColor:"#376295"},children:"RECEITA"})]}),n.jsxs("div",{className:"text-xs text-slate-600 mb-2",children:["Requisio: ",n.jsx("span",{className:"font-mono font-semibold",children:t.requisicao||"-"})]})]}),n.jsx("div",{className:"px-3 py-1 rounded-lg text-xs font-bold",style:l(t.status),children:t.status||"Pendente"})]}),n.jsxs("div",{className:"space-y-2 mb-4",children:[n.jsxs("div",{className:"flex items-start gap-2 text-sm",children:[n.jsx(yi,{className:"w-4 h-4 text-slate-500 mt-0.5 flex-shrink-0"}),n.jsxs("div",{className:"text-slate-700",children:[n.jsxs("div",{className:"font-medium",children:[(u=t.endereco)==null?void 0:u.logradouro,", ",(h=t.endereco)==null?void 0:h.numero]}),n.jsxs("div",{className:"text-xs text-slate-600",children:[(m=t.endereco)==null?void 0:m.bairro," - ",(x=t.endereco)==null?void 0:x.cidade,((p=t.endereco)==null?void 0:p.complemento)&&`  ${t.endereco.complemento}`]})]})]}),n.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[n.jsx(Rl,{className:"w-4 h-4 text-slate-500 flex-shrink-0"}),n.jsx("span",{className:"text-slate-700 font-medium",children:((w=t.cliente)==null?void 0:w.telefone)||"Sem telefone"})]}),n.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[n.jsx(yn,{className:"w-4 h-4 text-slate-500 flex-shrink-0"}),n.jsxs("span",{className:"text-slate-700",children:[n.jsx("span",{className:"font-semibold",children:t.horario||"Sem horrio"}),t.observacoes&&`  ${t.observacoes}`]})]}),n.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ga,{className:"w-4 h-4 text-slate-500 flex-shrink-0"}),n.jsxs("span",{className:"text-slate-700",children:["Pagamento: ",n.jsx("span",{className:"font-semibold",children:t.forma_pagamento||"-"})]})]}),t.valor&&n.jsxs("div",{className:"text-slate-700",children:["Valor: ",n.jsxs("span",{className:"font-bold",style:{color:"#376295"},children:["R$ ",parseFloat(t.valor).toFixed(2)]})]})]})]}),n.jsxs("div",{className:"flex gap-2",style:{pointerEvents:"auto"},onClick:b=>b.stopPropagation(),children:[t.status!=="Entregue"&&n.jsxs(n.Fragment,{children:[t.status!=="A Caminho"&&n.jsx("button",{onClick:b=>{b.stopPropagation(),e(t.id,"A Caminho")},disabled:r,className:"flex-1 text-white font-semibold py-2 px-4 rounded-lg transition-opacity hover:opacity-90 disabled:opacity-50 text-sm",style:{backgroundColor:"#f97316"},children:" A Caminho"}),n.jsx("button",{onClick:b=>{b.stopPropagation(),e(t.id,"Entregue")},disabled:r,className:"flex-1 text-white font-semibold py-2 px-4 rounded-lg transition-opacity hover:opacity-90 disabled:opacity-50 text-sm",style:{backgroundColor:"#22c55e"},children:" Entregar"}),n.jsx("button",{onClick:b=>{b.stopPropagation(),e(t.id,"No Entregue")},disabled:r,className:"flex-1 text-white font-semibold py-2 px-4 rounded-lg transition-opacity hover:opacity-90 disabled:opacity-50 text-sm",style:{backgroundColor:"#ef4444"},children:" No Entregue"})]}),t.status==="Entregue"&&n.jsx("div",{className:"flex-1 font-semibold py-2 px-4 rounded-lg text-center text-sm",style:{backgroundColor:"#E8F5E8",color:"#22c55e"},children:" Entrega Concluda"})]})]})})}function gD(){const t=Ht(),e=Sn(),[r,o]=y.useState("todos"),[i,l]=y.useState(""),{data:d=[],isLoading:u}=tn({queryKey:["dispositivos"],queryFn:async()=>{const{data:j,error:N}=await _e.from("dispositivos").select("*").order("ultimo_acesso",{ascending:!1});if(N)throw N;return j||[]}}),h=d.filter(j=>{var k,P,z;if(!(r==="todos"||r==="autorizados"&&j.status==="Autorizado"||r==="pendentes"&&j.status==="Pendente"||r==="bloqueados"&&j.status==="Bloqueado"))return!1;if(i.trim()==="")return!0;const S=i.toLowerCase();return((k=j.nome)==null?void 0:k.toLowerCase().includes(S))||((P=j.usuario)==null?void 0:P.toLowerCase().includes(S))||((z=j.impressao_digital)==null?void 0:z.toLowerCase().includes(S))}),m={total:d.length,autorizados:d.filter(j=>j.status==="Autorizado").length,pendentes:d.filter(j=>j.status==="Pendente").length,bloqueados:d.filter(j=>j.status==="Bloqueado").length},x=xs({mutationFn:async j=>{const{error:N}=await _e.from("dispositivos").update({status:"Autorizado"}).eq("id",j);if(N)throw N},onSuccess:()=>{e.invalidateQueries({queryKey:["dispositivos"]}),ge.success("Dispositivo autorizado!")},onError:()=>{ge.error("Erro ao autorizar dispositivo")}}),p=xs({mutationFn:async j=>{const{error:N}=await _e.from("dispositivos").update({status:"Bloqueado"}).eq("id",j);if(N)throw N},onSuccess:()=>{e.invalidateQueries({queryKey:["dispositivos"]}),ge.success("Dispositivo bloqueado!")},onError:()=>{ge.error("Erro ao bloquear dispositivo")}}),w=xs({mutationFn:async j=>{const{error:N}=await _e.from("dispositivos").delete().eq("id",j);if(N)throw N},onSuccess:()=>{e.invalidateQueries({queryKey:["dispositivos"]}),ge.success("Dispositivo removido!")},onError:()=>{ge.error("Erro ao remover dispositivo")}}),b=j=>{x.mutate(j)},E=j=>{p.mutate(j)},_=j=>{window.confirm("Tem certeza que deseja remover este dispositivo?")&&w.mutate(j)};return n.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100",children:[n.jsx("div",{className:"py-8 shadow-sm",style:{background:"linear-gradient(135deg, #457bba 0%, #890d5d 100%)"},children:n.jsx("div",{className:"max-w-7xl mx-auto px-6",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("button",{onClick:()=>t(-1),className:"p-2 rounded-lg bg-white/20 hover:bg-white/30 transition-colors",children:n.jsx(kt,{className:"w-6 h-6 text-white"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-4xl font-bold text-white",children:"Gerenciar Dispositivos"}),n.jsx("p",{className:"text-base text-white opacity-90 mt-1",children:"Autorizar ou bloquear dispositivos de acesso"})]})]})})}),n.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-6",children:[n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[n.jsxs("div",{onClick:()=>o("todos"),className:"bg-white rounded-xl shadow-sm p-5 cursor-pointer transition-all hover:shadow-md",style:{border:r==="todos"?"2px solid #376295":"2px solid transparent"},children:[n.jsxs("div",{className:"flex items-center justify-center gap-2 mb-3",children:[n.jsx("div",{className:"p-1.5 rounded-lg",style:{backgroundColor:"#E8F0F8"},children:n.jsx(Md,{className:"w-6 h-6",style:{color:"#376295"}})}),n.jsx("span",{className:"text-sm font-bold text-slate-700",children:"Total"})]}),n.jsx("div",{className:"text-4xl font-bold text-center",style:{color:"#376295"},children:m.total})]}),n.jsxs("div",{onClick:()=>o("autorizados"),className:"bg-white rounded-xl shadow-sm p-5 cursor-pointer transition-all hover:shadow-md",style:{border:r==="autorizados"?"2px solid #22c55e":"2px solid transparent"},children:[n.jsxs("div",{className:"flex items-center justify-center gap-2 mb-3",children:[n.jsx("div",{className:"p-1.5 rounded-lg",style:{backgroundColor:"#E8F5E8"},children:n.jsx(ei,{className:"w-6 h-6",style:{color:"#22c55e"}})}),n.jsx("span",{className:"text-sm font-bold text-slate-700",children:"Autorizados"})]}),n.jsx("div",{className:"text-4xl font-bold text-center",style:{color:"#22c55e"},children:m.autorizados})]}),n.jsxs("div",{onClick:()=>o("pendentes"),className:"bg-white rounded-xl shadow-sm p-5 cursor-pointer transition-all hover:shadow-md",style:{border:r==="pendentes"?"2px solid #f97316":"2px solid transparent"},children:[n.jsxs("div",{className:"flex items-center justify-center gap-2 mb-3",children:[n.jsx("div",{className:"p-1.5 rounded-lg",style:{backgroundColor:"#FEF3E8"},children:n.jsx(yn,{className:"w-6 h-6",style:{color:"#f97316"}})}),n.jsx("span",{className:"text-sm font-bold text-slate-700",children:"Pendentes"})]}),n.jsx("div",{className:"text-4xl font-bold text-center",style:{color:"#f97316"},children:m.pendentes})]}),n.jsxs("div",{onClick:()=>o("bloqueados"),className:"bg-white rounded-xl shadow-sm p-5 cursor-pointer transition-all hover:shadow-md",style:{border:r==="bloqueados"?"2px solid #ef4444":"2px solid transparent"},children:[n.jsxs("div",{className:"flex items-center justify-center gap-2 mb-3",children:[n.jsx("div",{className:"p-1.5 rounded-lg",style:{backgroundColor:"#fef2f2"},children:n.jsx(Dd,{className:"w-6 h-6",style:{color:"#ef4444"}})}),n.jsx("span",{className:"text-sm font-bold text-slate-700",children:"Bloqueados"})]}),n.jsx("div",{className:"text-4xl font-bold text-center",style:{color:"#ef4444"},children:m.bloqueados})]})]}),n.jsx("div",{className:"bg-white rounded-xl shadow-sm p-4 mb-6",children:n.jsxs("div",{className:"relative",children:[n.jsx(Vn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),n.jsx("input",{type:"text",value:i,onChange:j=>l(j.target.value),placeholder:"Buscar por e-mail, dispositivo ou impresso digital...",className:"w-full pl-10 pr-4 py-3 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 transition-all",style:{"--tw-ring-color":"#376295"},onFocus:j=>j.target.style.borderColor="#376295",onBlur:j=>j.target.style.borderColor="#cbd5e1"})]})}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:[n.jsx("div",{className:"px-6 py-4 border-b border-slate-200",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Md,{className:"w-5 h-5 text-slate-600"}),n.jsx("h2",{className:"text-lg font-bold text-slate-900",children:"Dispositivos Registrados"})]})}),n.jsx("div",{className:"divide-y divide-slate-200",children:u?n.jsx("div",{className:"p-12 text-center text-slate-500",children:"Carregando dispositivos..."}):h.length===0?n.jsxs("div",{className:"p-12 text-center",children:[n.jsx(Md,{className:"w-12 h-12 text-slate-300 mx-auto mb-3"}),n.jsx("div",{className:"text-slate-600 font-medium",children:"Nenhum dispositivo encontrado"}),n.jsx("div",{className:"text-sm text-slate-500 mt-1",children:i?"Tente ajustar sua busca":"No h dispositivos cadastrados"})]}):h.map(j=>n.jsx(xD,{dispositivo:j,onAutorizar:b,onBloquear:E,onDeletar:_,isUpdating:x.isPending||p.isPending||w.isPending},j.id))})]})]})]})}function xD({dispositivo:t,onAutorizar:e,onBloquear:r,onDeletar:o,isUpdating:i}){const l=h=>{switch(h){case"Autorizado":return n.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 rounded-full text-xs font-semibold",style:{backgroundColor:"#E8F5E8",color:"#22c55e"},children:[n.jsx(ei,{className:"w-3 h-3"}),"Autorizado"]});case"Pendente":return n.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 rounded-full text-xs font-semibold",style:{backgroundColor:"#FEF3E8",color:"#f97316"},children:[n.jsx(yn,{className:"w-3 h-3"}),"Pendente"]});case"Bloqueado":return n.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 rounded-full text-xs font-semibold",style:{backgroundColor:"#fef2f2",color:"#ef4444"},children:[n.jsx(Dd,{className:"w-3 h-3"}),"Bloqueado"]});default:return null}},d=h=>h!=null&&h.toLowerCase().includes("safari")||h!=null&&h.toLowerCase().includes("mac")?n.jsx(Md,{className:"w-5 h-5 text-slate-600"}):n.jsx(N5,{className:"w-5 h-5 text-slate-600"}),u=h=>h?new Date(h).toLocaleString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}):"-";return n.jsx("div",{className:"p-6 hover:bg-slate-50 transition-colors",children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex items-start gap-4 flex-1",children:[n.jsx("div",{className:"mt-1",children:d(t.nome)}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[n.jsx("h3",{className:"font-bold text-slate-900",children:t.nome||"Dispositivo Desconhecido"}),l(t.status)]}),n.jsxs("div",{className:"space-y-1 text-sm",children:[n.jsxs("div",{className:"text-slate-600",children:[n.jsx("span",{className:"font-medium",children:"Usurio:"})," ",n.jsx("span",{className:"text-slate-900",children:t.usuario||"-"})]}),n.jsxs("div",{className:"text-slate-600",children:[n.jsx("span",{className:"font-medium",children:"Impresso digital:"})," ",n.jsx("span",{className:"font-mono text-xs text-slate-700",children:t.impressao_digital||"-"})]}),n.jsxs("div",{className:"text-slate-600",children:[n.jsx("span",{className:"font-medium",children:"ltimo acesso:"})," ",n.jsx("span",{className:"text-slate-900",children:u(t.ultimo_acesso)})]})]})]})]}),n.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[t.status==="Pendente"&&n.jsxs(n.Fragment,{children:[n.jsxs("button",{onClick:()=>e(t.id),disabled:i,className:"flex items-center gap-2 text-white px-4 py-2 rounded-lg font-semibold text-sm transition-opacity hover:opacity-90 disabled:opacity-50",style:{backgroundColor:"#22c55e"},children:[n.jsx(ei,{className:"w-4 h-4"}),"Autorizar"]}),n.jsxs("button",{onClick:()=>r(t.id),disabled:i,className:"flex items-center gap-2 text-white px-4 py-2 rounded-lg font-semibold text-sm transition-opacity hover:opacity-90 disabled:opacity-50",style:{backgroundColor:"#ef4444"},children:[n.jsx(Dd,{className:"w-4 h-4"}),"Bloquear"]})]}),t.status==="Autorizado"&&n.jsxs("button",{onClick:()=>r(t.id),disabled:i,className:"flex items-center gap-2 text-white px-4 py-2 rounded-lg font-semibold text-sm transition-opacity hover:opacity-90 disabled:opacity-50",style:{backgroundColor:"#ef4444"},children:[n.jsx(Dd,{className:"w-4 h-4"}),"Bloquear"]}),t.status==="Bloqueado"&&n.jsxs("button",{onClick:()=>e(t.id),disabled:i,className:"flex items-center gap-2 text-white px-4 py-2 rounded-lg font-semibold text-sm transition-opacity hover:opacity-90 disabled:opacity-50",style:{backgroundColor:"#22c55e"},children:[n.jsx(ei,{className:"w-4 h-4"}),"Autorizar"]}),n.jsx("button",{onClick:()=>o(t.id),disabled:i,className:"p-2 text-slate-600 hover:bg-slate-200 rounded-lg transition-colors disabled:opacity-50",children:n.jsx(Vl,{className:"w-5 h-5"})})]})]})})}function vD({romaneio:t}){var o,i,l,d,u,h,m,x,p,w;if(!t)return null;const e=b=>b?new Date(b+"T12:00:00").toLocaleDateString("pt-BR"):"-",r=t.forma_pagamento&&!["Receber Dinheiro","Receber Mquina","Pagar MP"].includes(t.forma_pagamento);return n.jsxs("div",{className:"romaneio-card",style:{position:"relative"},children:[r&&n.jsx("div",{className:"carimbo-pago",style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%) rotate(-25deg)",fontSize:"50px",fontWeight:"bold",textTransform:"uppercase",color:"#000",border:"5px solid #000",padding:"5px 25px",opacity:.2,pointerEvents:"none",zIndex:10,letterSpacing:"5px"},children:"PAGO"}),n.jsxs("div",{style:{textAlign:"center",marginBottom:"10px"},children:[n.jsx("img",{src:"/logo-formedica.png",alt:"Formdica",style:{width:"100px",height:"auto",marginBottom:"5px"}}),n.jsx("h2",{style:{fontSize:"14px",fontWeight:"bold",margin:0},children:"ROMANEIO DE ENTREGA"})]}),n.jsxs("div",{style:{display:"flex",gap:"8px",marginBottom:"8px"},children:[n.jsxs("div",{style:{flex:1,border:"1px solid #000",padding:"8px"},children:[n.jsx("div",{style:{fontWeight:"bold",fontSize:"10px",marginBottom:"5px",borderBottom:"1px solid #000",paddingBottom:"3px"},children:"DADOS DA ENTREGA"}),n.jsxs("div",{style:{fontSize:"9px",marginBottom:"3px"},children:[n.jsx("span",{children:"N. Requisio: "}),n.jsxs("span",{style:{fontWeight:"bold"},children:["#",t.requisicao||"0000"]})]}),n.jsxs("div",{style:{fontSize:"9px",marginBottom:"3px"},children:[n.jsx("span",{children:"Data: "}),n.jsxs("span",{children:[e(t.data_entrega)," - ",t.periodo||"-"]})]}),n.jsxs("div",{style:{fontSize:"9px",marginBottom:"3px"},children:[n.jsx("span",{children:"Motoboy: "}),n.jsx("span",{children:((o=t.motoboy)==null?void 0:o.nome)||"-"})]}),n.jsxs("div",{style:{fontSize:"9px"},children:[n.jsx("span",{children:"Atendente: "}),n.jsx("span",{children:((i=t.atendente)==null?void 0:i.nome)||((l=t.atendente)==null?void 0:l.email)||"-"})]})]}),n.jsxs("div",{style:{flex:1,border:"1px solid #000",padding:"8px"},children:[n.jsx("div",{style:{fontWeight:"bold",fontSize:"10px",marginBottom:"5px",borderBottom:"1px solid #000",paddingBottom:"3px"},children:"CLIENTE"}),n.jsxs("div",{style:{fontSize:"9px",marginBottom:"3px"},children:[n.jsx("span",{children:"Nome: "}),n.jsx("span",{children:((d=t.cliente)==null?void 0:d.nome)||"-"})]}),n.jsxs("div",{style:{fontSize:"9px"},children:[n.jsx("span",{children:"Telefone: "}),n.jsx("span",{children:((u=t.cliente)==null?void 0:u.telefone)||"-"})]})]})]}),n.jsxs("div",{style:{display:"flex",gap:"8px",marginBottom:"8px"},children:[n.jsxs("div",{style:{flex:1,border:"1px solid #000",padding:"8px"},children:[n.jsx("div",{style:{fontWeight:"bold",fontSize:"10px",marginBottom:"5px",borderBottom:"1px solid #000",paddingBottom:"3px"},children:"ENDERECO DE ENTREGA"}),n.jsxs("div",{style:{fontWeight:"bold",fontSize:"10px",marginBottom:"2px"},children:[((h=t.endereco)==null?void 0:h.logradouro)||"-",", ",((m=t.endereco)==null?void 0:m.numero)||"S/N"]}),n.jsxs("div",{style:{fontSize:"9px",marginBottom:"2px"},children:[((x=t.endereco)==null?void 0:x.bairro)||"-"," - ",((p=t.endereco)==null?void 0:p.cidade)||t.regiao||"-"]}),((w=t.endereco)==null?void 0:w.complemento)&&n.jsxs("div",{style:{fontSize:"9px"},children:["Compl.: ",t.endereco.complemento]})]}),n.jsxs("div",{style:{flex:1,border:"1px solid #000",padding:"8px"},children:[n.jsx("div",{style:{fontWeight:"bold",fontSize:"10px",marginBottom:"5px",borderBottom:"1px solid #000",paddingBottom:"3px"},children:"PAGAMENTO"}),n.jsxs("div",{style:{fontSize:"9px"},children:[n.jsx("span",{children:"Forma de Pagamento: "}),n.jsx("span",{children:t.forma_pagamento||"-"})]})]})]}),t.observacoes&&n.jsxs("div",{style:{border:"1px solid #000",padding:"8px",marginBottom:"8px"},children:[n.jsx("div",{style:{fontWeight:"bold",fontSize:"10px",marginBottom:"5px",borderBottom:"1px solid #000",paddingBottom:"3px"},children:"OBSERVAES"}),n.jsx("div",{style:{fontSize:"9px"},children:t.observacoes})]}),(t.item_geladeira||t.buscar_receita)&&n.jsxs("div",{style:{display:"flex",gap:"8px",marginBottom:"8px"},children:[t.item_geladeira&&n.jsxs("div",{style:{flex:1,display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",padding:"8px",fontSize:"11px",fontWeight:"bold",textTransform:"uppercase",border:"2px solid #000",background:"#fff"},children:[n.jsx("span",{children:""}),n.jsx("span",{children:"ITEM DE GELADEIRA"}),n.jsx("span",{children:""})]}),t.buscar_receita&&n.jsxs("div",{style:{flex:1,display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",padding:"8px",fontSize:"11px",fontWeight:"bold",textTransform:"uppercase",border:"2px solid #000",background:"#fff"},children:[n.jsx(br,{size:14}),n.jsx("span",{children:"RETER RECEITA"}),n.jsx(br,{size:14})]})]}),(t.valor_venda>0&&["Receber Dinheiro","Receber Mquina","Pagar MP"].includes(t.forma_pagamento)||t.precisa_troco&&t.valor_troco>0)&&n.jsxs("div",{style:{display:"flex",gap:"8px",marginBottom:"8px"},children:[t.valor_venda>0&&["Receber Dinheiro","Receber Mquina","Pagar MP"].includes(t.forma_pagamento)&&n.jsxs("div",{style:{flex:1,background:"#fff",border:"2px solid #000",padding:"8px",textAlign:"center",fontSize:"12px",fontWeight:"bold"},children:["$ COBRAR NA ENTREGA: R$ ",t.valor_venda.toFixed(2).replace(".",",")]}),t.precisa_troco&&t.valor_troco>0&&n.jsxs("div",{style:{flex:1,background:"#fff",border:"2px solid #000",padding:"8px",textAlign:"center",fontSize:"12px",fontWeight:"bold"},children:["TROCO: R$ ",t.valor_troco.toFixed(2).replace(".",",")]})]})]})}function yD(){const t=Ht(),[e]=My(),r=e.get("data"),[o,i]=y.useState(r||new Date().toISOString().split("T")[0]),[l,d]=y.useState([]),[u,h]=y.useState(!0),[m,x]=y.useState({busca:"",motoboy:"",periodo:"",status:""}),[p,w]=y.useState(!1),b=async()=>{h(!0);try{const{data:S,error:k}=await _e.from("entregas").select(`
          *,
          cliente:clientes(id, nome, telefone),
          endereco:enderecos(id, logradouro, numero, bairro, cidade, complemento),
          motoboy:motoboys(id, nome)
        `).eq("tipo","moto").eq("data_entrega",o).order("periodo",{ascending:!0});if(k)throw k;const P=await Promise.all((S||[]).map(async z=>{const A=z.endereco_logradouro?{id:z.endereco_id,logradouro:z.endereco_logradouro,numero:z.endereco_numero,complemento:z.endereco_complemento,bairro:z.endereco_bairro,cidade:z.endereco_cidade}:z.endereco;let q=null;if(z.atendente_id){const{data:K}=await _e.from("usuarios").select("id, nome, email").eq("id",z.atendente_id).single();q=K}return{...z,endereco:A,atendente:q}}));d(P)}catch(S){console.error("Erro ao carregar romaneios:",S),ge.error("Erro ao carregar romaneios")}finally{h(!1)}};y.useEffect(()=>{b()},[o]);const E=l.filter(S=>{var k,P,z,A,q,K,de,V,T,Y;if(m.busca){const te=m.busca.toLowerCase(),U=(P=(k=S.cliente)==null?void 0:k.nome)==null?void 0:P.toLowerCase().includes(te),he=(z=S.requisicao)==null?void 0:z.toLowerCase().includes(te),$=((q=(A=S.endereco)==null?void 0:A.logradouro)==null?void 0:q.toLowerCase().includes(te))||((de=(K=S.endereco)==null?void 0:K.bairro)==null?void 0:de.toLowerCase().includes(te)),Z=(T=(V=S.motoboy)==null?void 0:V.nome)==null?void 0:T.toLowerCase().includes(te);if(!U&&!he&&!$&&!Z)return!1}return!(m.motoboy&&((Y=S.motoboy)==null?void 0:Y.nome)!==m.motoboy||m.periodo&&S.periodo!==m.periodo||m.status&&S.status!==m.status)}),_=[...new Set(l.map(S=>{var k;return(k=S.motoboy)==null?void 0:k.nome}).filter(Boolean))],j=()=>{window.print()},N=S=>new Date(S+"T12:00:00").toLocaleDateString("pt-BR",{weekday:"long",day:"2-digit",month:"long",year:"numeric"});return n.jsxs(n.Fragment,{children:[n.jsx("style",{children:`
        @media print {
          .no-print {
            display: none !important;
          }
          .print-container {
            padding: 0 !important;
          }
          .romaneio-card {
            page-break-inside: avoid;
            border: 1px solid #000 !important;
            margin-bottom: 10px !important;
            padding: 10px !important;
          }
          .romaneios-grid {
            display: block !important;
          }
          .romaneios-grid > div {
            break-inside: avoid;
          }
        }

        @media screen {
          .romaneio-card {
            border: 1px solid #e2e8f0;
            border-radius: 8px;
            padding: 15px;
            background: white;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
          }
        }
      `}),n.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100",children:[n.jsx("div",{className:"no-print py-8 shadow-sm",style:{background:"linear-gradient(135deg, #457bba 0%, #890d5d 100%)"},children:n.jsx("div",{className:"max-w-7xl mx-auto px-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("button",{onClick:()=>t(-1),className:"p-2 rounded-lg bg-white/20 hover:bg-white/30 transition-colors",children:n.jsx(kt,{className:"w-6 h-6 text-white"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-white",children:"Romaneios do Dia"}),n.jsx("p",{className:"text-white/80 text-sm mt-1",children:N(o)})]})]}),n.jsx("div",{className:"flex items-center gap-3",children:n.jsxs("button",{onClick:j,className:"flex items-center gap-2 px-4 py-2 bg-white rounded-lg font-semibold text-sm hover:bg-gray-100 transition-colors",style:{color:"#890d5d"},children:[n.jsx(gu,{size:18}),"Imprimir Todos (",E.length,")"]})})]})})}),n.jsx("div",{className:"no-print max-w-7xl mx-auto px-6 py-4",children:n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-4",children:[n.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(vo,{size:18,className:"text-slate-500"}),n.jsx("input",{type:"date",value:o,onChange:S=>i(S.target.value),className:"px-3 py-2 border border-slate-300 rounded-lg text-sm focus:outline-none focus:border-blue-500"})]}),n.jsxs("div",{className:"flex-1 relative",children:[n.jsx(Vn,{size:18,className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400"}),n.jsx("input",{type:"text",value:m.busca,onChange:S=>x({...m,busca:S.target.value}),placeholder:"Buscar por cliente, requisio, endereo, motoboy...",className:"w-full pl-10 pr-4 py-2 border border-slate-300 rounded-lg text-sm focus:outline-none focus:border-blue-500"})]}),n.jsxs("button",{onClick:()=>w(!p),className:"flex items-center gap-2 px-4 py-2 border border-slate-300 rounded-lg text-sm hover:bg-slate-50 transition-colors",children:[n.jsx(l5,{size:18}),"Filtros",(m.motoboy||m.periodo||m.status)&&n.jsx("span",{className:"w-2 h-2 bg-blue-500 rounded-full"})]}),(m.busca||m.motoboy||m.periodo||m.status)&&n.jsxs("button",{onClick:()=>x({busca:"",motoboy:"",periodo:"",status:""}),className:"flex items-center gap-1 px-3 py-2 text-sm text-slate-600 hover:text-slate-900",children:[n.jsx(Jw,{size:16}),"Limpar"]})]}),p&&n.jsxs("div",{className:"flex items-center gap-4 mt-4 pt-4 border-t border-slate-200",children:[n.jsxs("select",{value:m.motoboy,onChange:S=>x({...m,motoboy:S.target.value}),className:"px-3 py-2 border border-slate-300 rounded-lg text-sm focus:outline-none focus:border-blue-500",children:[n.jsx("option",{value:"",children:"Todos Motoboys"}),_.map(S=>n.jsx("option",{value:S,children:S},S))]}),n.jsxs("select",{value:m.periodo,onChange:S=>x({...m,periodo:S.target.value}),className:"px-3 py-2 border border-slate-300 rounded-lg text-sm focus:outline-none focus:border-blue-500",children:[n.jsx("option",{value:"",children:"Todos Perodos"}),n.jsx("option",{value:"Manh",children:"Manh"}),n.jsx("option",{value:"Tarde",children:"Tarde"})]}),n.jsxs("select",{value:m.status,onChange:S=>x({...m,status:S.target.value}),className:"px-3 py-2 border border-slate-300 rounded-lg text-sm focus:outline-none focus:border-blue-500",children:[n.jsx("option",{value:"",children:"Todos Status"}),n.jsx("option",{value:"Produzindo no Laboratrio",children:"Produo"}),n.jsx("option",{value:"A Caminho",children:"A Caminho"}),n.jsx("option",{value:"Entregue",children:"Entregue"})]})]})]})}),n.jsx("div",{className:"print-container max-w-7xl mx-auto px-6 pb-8",children:u?n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-12 text-center",children:[n.jsx("div",{className:"inline-block w-8 h-8 border-4 border-slate-200 border-t-blue-500 rounded-full animate-spin mb-4"}),n.jsx("p",{className:"text-slate-600",children:"Carregando romaneios..."})]}):E.length===0?n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-12 text-center",children:[n.jsx(br,{size:48,className:"mx-auto mb-4 text-slate-300"}),n.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:"Nenhum romaneio encontrado"}),n.jsx("p",{className:"text-slate-600",children:m.busca||m.motoboy||m.periodo||m.status?"Tente ajustar os filtros de busca":"No h romaneios para esta data"})]}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"no-print mb-4 text-sm text-slate-600",children:["Mostrando ",E.length," romaneio(s)"]}),n.jsx("div",{className:"romaneios-grid",style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"16px"},children:E.map(S=>n.jsx(vD,{romaneio:S},S.id))})]})})]})]})}const bD=new P2({defaultOptions:{queries:{refetchOnWindowFocus:!1,retry:1,staleTime:300*1e3}}});function ay({children:t}){const{user:e,loading:r}=hu();return r?n.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",minHeight:"100vh"},children:n.jsxs("div",{style:{textAlign:"center"},children:[n.jsx("div",{style:{width:"50px",height:"50px",border:"4px solid #e2e8f0",borderTop:"4px solid #457bba",borderRadius:"50%",animation:"spin 1s linear infinite",margin:"0 auto 1rem"}}),n.jsx("p",{children:"Carregando..."})]})}):e?t:n.jsx(Ay,{to:"/login"})}function wD(){const{user:t}=hu();return n.jsxs(E0,{children:[n.jsx(Wt,{path:"/login",element:t?n.jsx(Ay,{to:"/"}):n.jsx(aR,{})}),n.jsx(Wt,{path:"/imprimir-romaneio",element:n.jsx(ay,{children:n.jsx(zv,{printMode:!0})})}),n.jsx(Wt,{path:"/*",element:n.jsx(ay,{children:n.jsx(sR,{children:n.jsxs(E0,{children:[n.jsx(Wt,{path:"/",element:n.jsx(wP,{})}),n.jsx(Wt,{path:"/sedex",element:n.jsx(rD,{})}),n.jsx(Wt,{path:"/sedex-detalhes",element:n.jsx(sD,{})}),n.jsx(Wt,{path:"/novo-romaneio",element:n.jsx(SP,{})}),n.jsx(Wt,{path:"/editar-romaneio",element:n.jsx(AP,{})}),n.jsx(Wt,{path:"/detalhes-romaneio",element:n.jsx(zv,{})}),n.jsx(Wt,{path:"/clientes",element:n.jsx(nI,{})}),n.jsx(Wt,{path:"/historico-clientes",element:n.jsx("div",{style:{padding:"2rem"},children:"Histrico - Em construo"})}),n.jsx(Wt,{path:"/relatorios",element:n.jsx(oD,{})}),n.jsx(Wt,{path:"/receitas",element:n.jsx(uD,{})}),n.jsx(Wt,{path:"/pagamentos",element:n.jsx(fD,{})}),n.jsx(Wt,{path:"/planilha-diaria",element:n.jsx(mD,{})}),n.jsx(Wt,{path:"/painel-motoboys",element:n.jsx(pD,{})}),n.jsx(Wt,{path:"/dispositivos",element:n.jsx(gD,{})}),n.jsx(Wt,{path:"/romaneios-do-dia",element:n.jsx(yD,{})})]})})})})]})}function jD(){return n.jsx(oR,{children:n.jsx(T2,{client:bD,children:n.jsx(rR,{children:n.jsxs(SS,{children:[n.jsx(wD,{}),n.jsx(l2,{position:"top-right",richColors:!0}),n.jsx("style",{children:`
              @keyframes spin {
                to { transform: rotate(360deg); }
              }
              * {
                margin: 0;
                padding: 0;
                box-sizing: border-box;
              }
              body {
                font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
              }
            `})]})})})})}window.addEventListener("error",t=>{var e,r;if((e=t.message)!=null&&e.includes("removeChild")||(r=t.message)!=null&&r.includes("The node to be removed is not a child"))return console.warn(" [Global] Erro de removeChild capturado e prevenido:",t.message),t.preventDefault(),t.stopPropagation(),!0});window.addEventListener("unhandledrejection",t=>{var e,r,o,i;if((r=(e=t.reason)==null?void 0:e.message)!=null&&r.includes("removeChild")||(i=(o=t.reason)==null?void 0:o.message)!=null&&i.includes("The node to be removed is not a child"))return console.warn(" [Global] Promise rejection de removeChild capturada e prevenida"),t.preventDefault(),!0});hN.createRoot(document.getElementById("root")).render(n.jsx(jD,{}));
