var U0=t=>{throw TypeError(t)};var Ap=(t,e,r)=>e.has(t)||U0("Cannot "+r);var X=(t,e,r)=>(Ap(t,e,"read from private field"),r?r.call(t):e.get(t)),Ye=(t,e,r)=>e.has(t)?U0("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),Be=(t,e,r,s)=>(Ap(t,e,"write to private field"),s?s.call(t,r):e.set(t,r),r),mt=(t,e,r)=>(Ap(t,e,"access private method"),r);var Mh=(t,e,r,s)=>({set _(l){Be(t,e,l,r)},get _(){return X(t,e,s)}});function Qb(t,e){for(var r=0;r<e.length;r++){const s=e[r];if(typeof s!="string"&&!Array.isArray(s)){for(const l in s)if(l!=="default"&&!(l in t)){const c=Object.getOwnPropertyDescriptor(s,l);c&&Object.defineProperty(t,l,c.get?c:{enumerable:!0,get:()=>s[l]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const u of c.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function r(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(l){if(l.ep)return;l.ep=!0;const c=r(l);fetch(l.href,c)}})();function fu(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function mu(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var r=function s(){return this instanceof s?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(s){var l=Object.getOwnPropertyDescriptor(t,s);Object.defineProperty(r,s,l.get?l:{enumerable:!0,get:function(){return t[s]}})}),r}var Op={exports:{}},Id={},Mp={exports:{}},gt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var q0;function AE(){if(q0)return gt;q0=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),u=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),x=Symbol.iterator;function S(A){return A===null||typeof A!="object"?null:(A=x&&A[x]||A["@@iterator"],typeof A=="function"?A:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,N={};function P(A,H,V){this.props=A,this.context=H,this.refs=N,this.updater=V||E}P.prototype.isReactComponent={},P.prototype.setState=function(A,H){if(typeof A!="object"&&typeof A!="function"&&A!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,A,H,"setState")},P.prototype.forceUpdate=function(A){this.updater.enqueueForceUpdate(this,A,"forceUpdate")};function O(){}O.prototype=P.prototype;function T(A,H,V){this.props=A,this.context=H,this.refs=N,this.updater=V||E}var R=T.prototype=new O;R.constructor=T,k(R,P.prototype),R.isPureReactComponent=!0;var D=Array.isArray,K=Object.prototype.hasOwnProperty,B={current:null},Q={key:!0,ref:!0,__self:!0,__source:!0};function ne(A,H,V){var F,le={},xe=null,pe=null;if(H!=null)for(F in H.ref!==void 0&&(pe=H.ref),H.key!==void 0&&(xe=""+H.key),H)K.call(H,F)&&!Q.hasOwnProperty(F)&&(le[F]=H[F]);var se=arguments.length-2;if(se===1)le.children=V;else if(1<se){for(var Pe=Array(se),Me=0;Me<se;Me++)Pe[Me]=arguments[Me+2];le.children=Pe}if(A&&A.defaultProps)for(F in se=A.defaultProps,se)le[F]===void 0&&(le[F]=se[F]);return{$$typeof:t,type:A,key:xe,ref:pe,props:le,_owner:B.current}}function we(A,H){return{$$typeof:t,type:A.type,key:H,ref:A.ref,props:A.props,_owner:A._owner}}function ee(A){return typeof A=="object"&&A!==null&&A.$$typeof===t}function $(A){var H={"=":"=0",":":"=2"};return"$"+A.replace(/[=:]/g,function(V){return H[V]})}var te=/\/+/g;function U(A,H){return typeof A=="object"&&A!==null&&A.key!=null?$(""+A.key):H.toString(36)}function W(A,H,V,F,le){var xe=typeof A;(xe==="undefined"||xe==="boolean")&&(A=null);var pe=!1;if(A===null)pe=!0;else switch(xe){case"string":case"number":pe=!0;break;case"object":switch(A.$$typeof){case t:case e:pe=!0}}if(pe)return pe=A,le=le(pe),A=F===""?"."+U(pe,0):F,D(le)?(V="",A!=null&&(V=A.replace(te,"$&/")+"/"),W(le,H,V,"",function(Me){return Me})):le!=null&&(ee(le)&&(le=we(le,V+(!le.key||pe&&pe.key===le.key?"":(""+le.key).replace(te,"$&/")+"/")+A)),H.push(le)),1;if(pe=0,F=F===""?".":F+":",D(A))for(var se=0;se<A.length;se++){xe=A[se];var Pe=F+U(xe,se);pe+=W(xe,H,V,Pe,le)}else if(Pe=S(A),typeof Pe=="function")for(A=Pe.call(A),se=0;!(xe=A.next()).done;)xe=xe.value,Pe=F+U(xe,se++),pe+=W(xe,H,V,Pe,le);else if(xe==="object")throw H=String(A),Error("Objects are not valid as a React child (found: "+(H==="[object Object]"?"object with keys {"+Object.keys(A).join(", ")+"}":H)+"). If you meant to render a collection of children, use an array instead.");return pe}function be(A,H,V){if(A==null)return A;var F=[],le=0;return W(A,F,"","",function(xe){return H.call(V,xe,le++)}),F}function me(A){if(A._status===-1){var H=A._result;H=H(),H.then(function(V){(A._status===0||A._status===-1)&&(A._status=1,A._result=V)},function(V){(A._status===0||A._status===-1)&&(A._status=2,A._result=V)}),A._status===-1&&(A._status=0,A._result=H)}if(A._status===1)return A._result.default;throw A._result}var _e={current:null},q={transition:null},je={ReactCurrentDispatcher:_e,ReactCurrentBatchConfig:q,ReactCurrentOwner:B};function ae(){throw Error("act(...) is not supported in production builds of React.")}return gt.Children={map:be,forEach:function(A,H,V){be(A,function(){H.apply(this,arguments)},V)},count:function(A){var H=0;return be(A,function(){H++}),H},toArray:function(A){return be(A,function(H){return H})||[]},only:function(A){if(!ee(A))throw Error("React.Children.only expected to receive a single React element child.");return A}},gt.Component=P,gt.Fragment=r,gt.Profiler=l,gt.PureComponent=T,gt.StrictMode=s,gt.Suspense=m,gt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=je,gt.act=ae,gt.cloneElement=function(A,H,V){if(A==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+A+".");var F=k({},A.props),le=A.key,xe=A.ref,pe=A._owner;if(H!=null){if(H.ref!==void 0&&(xe=H.ref,pe=B.current),H.key!==void 0&&(le=""+H.key),A.type&&A.type.defaultProps)var se=A.type.defaultProps;for(Pe in H)K.call(H,Pe)&&!Q.hasOwnProperty(Pe)&&(F[Pe]=H[Pe]===void 0&&se!==void 0?se[Pe]:H[Pe])}var Pe=arguments.length-2;if(Pe===1)F.children=V;else if(1<Pe){se=Array(Pe);for(var Me=0;Me<Pe;Me++)se[Me]=arguments[Me+2];F.children=se}return{$$typeof:t,type:A.type,key:le,ref:xe,props:F,_owner:pe}},gt.createContext=function(A){return A={$$typeof:u,_currentValue:A,_currentValue2:A,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},A.Provider={$$typeof:c,_context:A},A.Consumer=A},gt.createElement=ne,gt.createFactory=function(A){var H=ne.bind(null,A);return H.type=A,H},gt.createRef=function(){return{current:null}},gt.forwardRef=function(A){return{$$typeof:p,render:A}},gt.isValidElement=ee,gt.lazy=function(A){return{$$typeof:y,_payload:{_status:-1,_result:A},_init:me}},gt.memo=function(A,H){return{$$typeof:v,type:A,compare:H===void 0?null:H}},gt.startTransition=function(A){var H=q.transition;q.transition={};try{A()}finally{q.transition=H}},gt.unstable_act=ae,gt.useCallback=function(A,H){return _e.current.useCallback(A,H)},gt.useContext=function(A){return _e.current.useContext(A)},gt.useDebugValue=function(){},gt.useDeferredValue=function(A){return _e.current.useDeferredValue(A)},gt.useEffect=function(A,H){return _e.current.useEffect(A,H)},gt.useId=function(){return _e.current.useId()},gt.useImperativeHandle=function(A,H,V){return _e.current.useImperativeHandle(A,H,V)},gt.useInsertionEffect=function(A,H){return _e.current.useInsertionEffect(A,H)},gt.useLayoutEffect=function(A,H){return _e.current.useLayoutEffect(A,H)},gt.useMemo=function(A,H){return _e.current.useMemo(A,H)},gt.useReducer=function(A,H,V){return _e.current.useReducer(A,H,V)},gt.useRef=function(A){return _e.current.useRef(A)},gt.useState=function(A){return _e.current.useState(A)},gt.useSyncExternalStore=function(A,H,V){return _e.current.useSyncExternalStore(A,H,V)},gt.useTransition=function(){return _e.current.useTransition()},gt.version="18.3.1",gt}var W0;function lv(){return W0||(W0=1,Mp.exports=AE()),Mp.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var H0;function OE(){if(H0)return Id;H0=1;var t=lv(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,l=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function u(p,m,v){var y,x={},S=null,E=null;v!==void 0&&(S=""+v),m.key!==void 0&&(S=""+m.key),m.ref!==void 0&&(E=m.ref);for(y in m)s.call(m,y)&&!c.hasOwnProperty(y)&&(x[y]=m[y]);if(p&&p.defaultProps)for(y in m=p.defaultProps,m)x[y]===void 0&&(x[y]=m[y]);return{$$typeof:e,type:p,key:S,ref:E,props:x,_owner:l.current}}return Id.Fragment=r,Id.jsx=u,Id.jsxs=u,Id}var V0;function ME(){return V0||(V0=1,Op.exports=OE()),Op.exports}var n=ME(),w=lv();const Te=fu(w),Yb=Qb({__proto__:null,default:Te},[w]);var Lh={},Lp={exports:{}},_n={},Ip={exports:{}},Dp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var G0;function LE(){return G0||(G0=1,(function(t){function e(q,je){var ae=q.length;q.push(je);e:for(;0<ae;){var A=ae-1>>>1,H=q[A];if(0<l(H,je))q[A]=je,q[ae]=H,ae=A;else break e}}function r(q){return q.length===0?null:q[0]}function s(q){if(q.length===0)return null;var je=q[0],ae=q.pop();if(ae!==je){q[0]=ae;e:for(var A=0,H=q.length,V=H>>>1;A<V;){var F=2*(A+1)-1,le=q[F],xe=F+1,pe=q[xe];if(0>l(le,ae))xe<H&&0>l(pe,le)?(q[A]=pe,q[xe]=ae,A=xe):(q[A]=le,q[F]=ae,A=F);else if(xe<H&&0>l(pe,ae))q[A]=pe,q[xe]=ae,A=xe;else break e}}return je}function l(q,je){var ae=q.sortIndex-je.sortIndex;return ae!==0?ae:q.id-je.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;t.unstable_now=function(){return c.now()}}else{var u=Date,p=u.now();t.unstable_now=function(){return u.now()-p}}var m=[],v=[],y=1,x=null,S=3,E=!1,k=!1,N=!1,P=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function R(q){for(var je=r(v);je!==null;){if(je.callback===null)s(v);else if(je.startTime<=q)s(v),je.sortIndex=je.expirationTime,e(m,je);else break;je=r(v)}}function D(q){if(N=!1,R(q),!k)if(r(m)!==null)k=!0,me(K);else{var je=r(v);je!==null&&_e(D,je.startTime-q)}}function K(q,je){k=!1,N&&(N=!1,O(ne),ne=-1),E=!0;var ae=S;try{for(R(je),x=r(m);x!==null&&(!(x.expirationTime>je)||q&&!$());){var A=x.callback;if(typeof A=="function"){x.callback=null,S=x.priorityLevel;var H=A(x.expirationTime<=je);je=t.unstable_now(),typeof H=="function"?x.callback=H:x===r(m)&&s(m),R(je)}else s(m);x=r(m)}if(x!==null)var V=!0;else{var F=r(v);F!==null&&_e(D,F.startTime-je),V=!1}return V}finally{x=null,S=ae,E=!1}}var B=!1,Q=null,ne=-1,we=5,ee=-1;function $(){return!(t.unstable_now()-ee<we)}function te(){if(Q!==null){var q=t.unstable_now();ee=q;var je=!0;try{je=Q(!0,q)}finally{je?U():(B=!1,Q=null)}}else B=!1}var U;if(typeof T=="function")U=function(){T(te)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,be=W.port2;W.port1.onmessage=te,U=function(){be.postMessage(null)}}else U=function(){P(te,0)};function me(q){Q=q,B||(B=!0,U())}function _e(q,je){ne=P(function(){q(t.unstable_now())},je)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(q){q.callback=null},t.unstable_continueExecution=function(){k||E||(k=!0,me(K))},t.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):we=0<q?Math.floor(1e3/q):5},t.unstable_getCurrentPriorityLevel=function(){return S},t.unstable_getFirstCallbackNode=function(){return r(m)},t.unstable_next=function(q){switch(S){case 1:case 2:case 3:var je=3;break;default:je=S}var ae=S;S=je;try{return q()}finally{S=ae}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(q,je){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var ae=S;S=q;try{return je()}finally{S=ae}},t.unstable_scheduleCallback=function(q,je,ae){var A=t.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?A+ae:A):ae=A,q){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=ae+H,q={id:y++,callback:je,priorityLevel:q,startTime:ae,expirationTime:H,sortIndex:-1},ae>A?(q.sortIndex=ae,e(v,q),r(m)===null&&q===r(v)&&(N?(O(ne),ne=-1):N=!0,_e(D,ae-A))):(q.sortIndex=H,e(m,q),k||E||(k=!0,me(K))),q},t.unstable_shouldYield=$,t.unstable_wrapCallback=function(q){var je=S;return function(){var ae=S;S=je;try{return q.apply(this,arguments)}finally{S=ae}}}})(Dp)),Dp}var K0;function IE(){return K0||(K0=1,Ip.exports=LE()),Ip.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Z0;function DE(){if(Z0)return _n;Z0=1;var t=lv(),e=IE();function r(o){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+o,h=1;h<arguments.length;h++)a+="&args[]="+encodeURIComponent(arguments[h]);return"Minified React error #"+o+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,l={};function c(o,a){u(o,a),u(o+"Capture",a)}function u(o,a){for(l[o]=a,o=0;o<a.length;o++)s.add(a[o])}var p=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),m=Object.prototype.hasOwnProperty,v=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,y={},x={};function S(o){return m.call(x,o)?!0:m.call(y,o)?!1:v.test(o)?x[o]=!0:(y[o]=!0,!1)}function E(o,a,h,g){if(h!==null&&h.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return g?!1:h!==null?!h.acceptsBooleans:(o=o.toLowerCase().slice(0,5),o!=="data-"&&o!=="aria-");default:return!1}}function k(o,a,h,g){if(a===null||typeof a>"u"||E(o,a,h,g))return!0;if(g)return!1;if(h!==null)switch(h.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function N(o,a,h,g,_,j,M){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=g,this.attributeNamespace=_,this.mustUseProperty=h,this.propertyName=o,this.type=a,this.sanitizeURL=j,this.removeEmptyString=M}var P={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(o){P[o]=new N(o,0,!1,o,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(o){var a=o[0];P[a]=new N(a,1,!1,o[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(o){P[o]=new N(o,2,!1,o.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(o){P[o]=new N(o,2,!1,o,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(o){P[o]=new N(o,3,!1,o.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(o){P[o]=new N(o,3,!0,o,null,!1,!1)}),["capture","download"].forEach(function(o){P[o]=new N(o,4,!1,o,null,!1,!1)}),["cols","rows","size","span"].forEach(function(o){P[o]=new N(o,6,!1,o,null,!1,!1)}),["rowSpan","start"].forEach(function(o){P[o]=new N(o,5,!1,o.toLowerCase(),null,!1,!1)});var O=/[\-:]([a-z])/g;function T(o){return o[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(o){var a=o.replace(O,T);P[a]=new N(a,1,!1,o,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(o){var a=o.replace(O,T);P[a]=new N(a,1,!1,o,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(o){var a=o.replace(O,T);P[a]=new N(a,1,!1,o,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(o){P[o]=new N(o,1,!1,o.toLowerCase(),null,!1,!1)}),P.xlinkHref=new N("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(o){P[o]=new N(o,1,!1,o.toLowerCase(),null,!0,!0)});function R(o,a,h,g){var _=P.hasOwnProperty(a)?P[a]:null;(_!==null?_.type!==0:g||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(k(a,h,_,g)&&(h=null),g||_===null?S(a)&&(h===null?o.removeAttribute(a):o.setAttribute(a,""+h)):_.mustUseProperty?o[_.propertyName]=h===null?_.type===3?!1:"":h:(a=_.attributeName,g=_.attributeNamespace,h===null?o.removeAttribute(a):(_=_.type,h=_===3||_===4&&h===!0?"":""+h,g?o.setAttributeNS(g,a,h):o.setAttribute(a,h))))}var D=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,K=Symbol.for("react.element"),B=Symbol.for("react.portal"),Q=Symbol.for("react.fragment"),ne=Symbol.for("react.strict_mode"),we=Symbol.for("react.profiler"),ee=Symbol.for("react.provider"),$=Symbol.for("react.context"),te=Symbol.for("react.forward_ref"),U=Symbol.for("react.suspense"),W=Symbol.for("react.suspense_list"),be=Symbol.for("react.memo"),me=Symbol.for("react.lazy"),_e=Symbol.for("react.offscreen"),q=Symbol.iterator;function je(o){return o===null||typeof o!="object"?null:(o=q&&o[q]||o["@@iterator"],typeof o=="function"?o:null)}var ae=Object.assign,A;function H(o){if(A===void 0)try{throw Error()}catch(h){var a=h.stack.trim().match(/\n( *(at )?)/);A=a&&a[1]||""}return`
`+A+o}var V=!1;function F(o,a){if(!o||V)return"";V=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(ye){var g=ye}Reflect.construct(o,[],a)}else{try{a.call()}catch(ye){g=ye}o.call(a.prototype)}else{try{throw Error()}catch(ye){g=ye}o()}}catch(ye){if(ye&&g&&typeof ye.stack=="string"){for(var _=ye.stack.split(`
`),j=g.stack.split(`
`),M=_.length-1,Z=j.length-1;1<=M&&0<=Z&&_[M]!==j[Z];)Z--;for(;1<=M&&0<=Z;M--,Z--)if(_[M]!==j[Z]){if(M!==1||Z!==1)do if(M--,Z--,0>Z||_[M]!==j[Z]){var re=`
`+_[M].replace(" at new "," at ");return o.displayName&&re.includes("<anonymous>")&&(re=re.replace("<anonymous>",o.displayName)),re}while(1<=M&&0<=Z);break}}}finally{V=!1,Error.prepareStackTrace=h}return(o=o?o.displayName||o.name:"")?H(o):""}function le(o){switch(o.tag){case 5:return H(o.type);case 16:return H("Lazy");case 13:return H("Suspense");case 19:return H("SuspenseList");case 0:case 2:case 15:return o=F(o.type,!1),o;case 11:return o=F(o.type.render,!1),o;case 1:return o=F(o.type,!0),o;default:return""}}function xe(o){if(o==null)return null;if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case Q:return"Fragment";case B:return"Portal";case we:return"Profiler";case ne:return"StrictMode";case U:return"Suspense";case W:return"SuspenseList"}if(typeof o=="object")switch(o.$$typeof){case $:return(o.displayName||"Context")+".Consumer";case ee:return(o._context.displayName||"Context")+".Provider";case te:var a=o.render;return o=o.displayName,o||(o=a.displayName||a.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case be:return a=o.displayName||null,a!==null?a:xe(o.type)||"Memo";case me:a=o._payload,o=o._init;try{return xe(o(a))}catch{}}return null}function pe(o){var a=o.type;switch(o.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return o=a.render,o=o.displayName||o.name||"",a.displayName||(o!==""?"ForwardRef("+o+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return xe(a);case 8:return a===ne?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function se(o){switch(typeof o){case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function Pe(o){var a=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Me(o){var a=Pe(o)?"checked":"value",h=Object.getOwnPropertyDescriptor(o.constructor.prototype,a),g=""+o[a];if(!o.hasOwnProperty(a)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var _=h.get,j=h.set;return Object.defineProperty(o,a,{configurable:!0,get:function(){return _.call(this)},set:function(M){g=""+M,j.call(this,M)}}),Object.defineProperty(o,a,{enumerable:h.enumerable}),{getValue:function(){return g},setValue:function(M){g=""+M},stopTracking:function(){o._valueTracker=null,delete o[a]}}}}function $e(o){o._valueTracker||(o._valueTracker=Me(o))}function Ie(o){if(!o)return!1;var a=o._valueTracker;if(!a)return!0;var h=a.getValue(),g="";return o&&(g=Pe(o)?o.checked?"true":"false":o.value),o=g,o!==h?(a.setValue(o),!0):!1}function nt(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}function it(o,a){var h=a.checked;return ae({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:h??o._wrapperState.initialChecked})}function Lt(o,a){var h=a.defaultValue==null?"":a.defaultValue,g=a.checked!=null?a.checked:a.defaultChecked;h=se(a.value!=null?a.value:h),o._wrapperState={initialChecked:g,initialValue:h,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function $t(o,a){a=a.checked,a!=null&&R(o,"checked",a,!1)}function Pt(o,a){$t(o,a);var h=se(a.value),g=a.type;if(h!=null)g==="number"?(h===0&&o.value===""||o.value!=h)&&(o.value=""+h):o.value!==""+h&&(o.value=""+h);else if(g==="submit"||g==="reset"){o.removeAttribute("value");return}a.hasOwnProperty("value")?Nt(o,a.type,h):a.hasOwnProperty("defaultValue")&&Nt(o,a.type,se(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(o.defaultChecked=!!a.defaultChecked)}function _t(o,a,h){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var g=a.type;if(!(g!=="submit"&&g!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+o._wrapperState.initialValue,h||a===o.value||(o.value=a),o.defaultValue=a}h=o.name,h!==""&&(o.name=""),o.defaultChecked=!!o._wrapperState.initialChecked,h!==""&&(o.name=h)}function Nt(o,a,h){(a!=="number"||nt(o.ownerDocument)!==o)&&(h==null?o.defaultValue=""+o._wrapperState.initialValue:o.defaultValue!==""+h&&(o.defaultValue=""+h))}var ur=Array.isArray;function xr(o,a,h,g){if(o=o.options,a){a={};for(var _=0;_<h.length;_++)a["$"+h[_]]=!0;for(h=0;h<o.length;h++)_=a.hasOwnProperty("$"+o[h].value),o[h].selected!==_&&(o[h].selected=_),_&&g&&(o[h].defaultSelected=!0)}else{for(h=""+se(h),a=null,_=0;_<o.length;_++){if(o[_].value===h){o[_].selected=!0,g&&(o[_].defaultSelected=!0);return}a!==null||o[_].disabled||(a=o[_])}a!==null&&(a.selected=!0)}}function jt(o,a){if(a.dangerouslySetInnerHTML!=null)throw Error(r(91));return ae({},a,{value:void 0,defaultValue:void 0,children:""+o._wrapperState.initialValue})}function Vt(o,a){var h=a.value;if(h==null){if(h=a.children,a=a.defaultValue,h!=null){if(a!=null)throw Error(r(92));if(ur(h)){if(1<h.length)throw Error(r(93));h=h[0]}a=h}a==null&&(a=""),h=a}o._wrapperState={initialValue:se(h)}}function kn(o,a){var h=se(a.value),g=se(a.defaultValue);h!=null&&(h=""+h,h!==o.value&&(o.value=h),a.defaultValue==null&&o.defaultValue!==h&&(o.defaultValue=h)),g!=null&&(o.defaultValue=""+g)}function Wn(o){var a=o.textContent;a===o._wrapperState.initialValue&&a!==""&&a!==null&&(o.value=a)}function Or(o){switch(o){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Hr(o,a){return o==null||o==="http://www.w3.org/1999/xhtml"?Or(a):o==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":o}var ie,Ee=(function(o){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,h,g,_){MSApp.execUnsafeLocalFunction(function(){return o(a,h,g,_)})}:o})(function(o,a){if(o.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in o)o.innerHTML=a;else{for(ie=ie||document.createElement("div"),ie.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=ie.firstChild;o.firstChild;)o.removeChild(o.firstChild);for(;a.firstChild;)o.appendChild(a.firstChild)}});function G(o,a){if(a){var h=o.firstChild;if(h&&h===o.lastChild&&h.nodeType===3){h.nodeValue=a;return}}o.textContent=a}var z={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Y=["Webkit","ms","Moz","O"];Object.keys(z).forEach(function(o){Y.forEach(function(a){a=a+o.charAt(0).toUpperCase()+o.substring(1),z[a]=z[o]})});function ce(o,a,h){return a==null||typeof a=="boolean"||a===""?"":h||typeof a!="number"||a===0||z.hasOwnProperty(o)&&z[o]?(""+a).trim():a+"px"}function ge(o,a){o=o.style;for(var h in a)if(a.hasOwnProperty(h)){var g=h.indexOf("--")===0,_=ce(h,a[h],g);h==="float"&&(h="cssFloat"),g?o.setProperty(h,_):o[h]=_}}var Ke=ae({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Re(o,a){if(a){if(Ke[o]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(r(137,o));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(r(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(r(61))}if(a.style!=null&&typeof a.style!="object")throw Error(r(62))}}function at(o,a){if(o.indexOf("-")===-1)return typeof a.is=="string";switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var dt=null;function Xe(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var Tt=null,It=null,zr=null;function Hn(o){if(o=Cs(o)){if(typeof Tt!="function")throw Error(r(280));var a=o.stateNode;a&&(a=Ml(a),Tt(o.stateNode,o.type,a))}}function st(o){It?zr?zr.push(o):zr=[o]:It=o}function Ft(){if(It){var o=It,a=zr;if(zr=It=null,Hn(o),a)for(o=0;o<a.length;o++)Hn(a[o])}}function St(o,a){return o(a)}function yr(){}var Vn=!1;function Ut(o,a,h){if(Vn)return o(a,h);Vn=!0;try{return St(o,a,h)}finally{Vn=!1,(It!==null||zr!==null)&&(yr(),Ft())}}function ar(o,a){var h=o.stateNode;if(h===null)return null;var g=Ml(h);if(g===null)return null;h=g[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(o=o.type,g=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!g;break e;default:o=!1}if(o)return null;if(h&&typeof h!="function")throw Error(r(231,a,typeof h));return h}var Gn=!1;if(p)try{var hr={};Object.defineProperty(hr,"passive",{get:function(){Gn=!0}}),window.addEventListener("test",hr,hr),window.removeEventListener("test",hr,hr)}catch{Gn=!1}function $r(o,a,h,g,_,j,M,Z,re){var ye=Array.prototype.slice.call(arguments,3);try{a.apply(h,ye)}catch(ke){this.onError(ke)}}var fr=!1,ze=null,Uo=!1,ia=null,_u={onError:function(o){fr=!0,ze=o}};function wu(o,a,h,g,_,j,M,Z,re){fr=!1,ze=null,$r.apply(_u,arguments)}function Gc(o,a,h,g,_,j,M,Z,re){if(wu.apply(this,arguments),fr){if(fr){var ye=ze;fr=!1,ze=null}else throw Error(r(198));Uo||(Uo=!0,ia=ye)}}function qo(o){var a=o,h=o;if(o.alternate)for(;a.return;)a=a.return;else{o=a;do a=o,(a.flags&4098)!==0&&(h=a.return),o=a.return;while(o)}return a.tag===3?h:null}function gs(o){if(o.tag===13){var a=o.memoizedState;if(a===null&&(o=o.alternate,o!==null&&(a=o.memoizedState)),a!==null)return a.dehydrated}return null}function Kc(o){if(qo(o)!==o)throw Error(r(188))}function dm(o){var a=o.alternate;if(!a){if(a=qo(o),a===null)throw Error(r(188));return a!==o?null:o}for(var h=o,g=a;;){var _=h.return;if(_===null)break;var j=_.alternate;if(j===null){if(g=_.return,g!==null){h=g;continue}break}if(_.child===j.child){for(j=_.child;j;){if(j===h)return Kc(_),o;if(j===g)return Kc(_),a;j=j.sibling}throw Error(r(188))}if(h.return!==g.return)h=_,g=j;else{for(var M=!1,Z=_.child;Z;){if(Z===h){M=!0,h=_,g=j;break}if(Z===g){M=!0,g=_,h=j;break}Z=Z.sibling}if(!M){for(Z=j.child;Z;){if(Z===h){M=!0,h=j,g=_;break}if(Z===g){M=!0,g=j,h=_;break}Z=Z.sibling}if(!M)throw Error(r(189))}}if(h.alternate!==g)throw Error(r(190))}if(h.tag!==3)throw Error(r(188));return h.stateNode.current===h?o:a}function ju(o){return o=dm(o),o!==null?Su(o):null}function Su(o){if(o.tag===5||o.tag===6)return o;for(o=o.child;o!==null;){var a=Su(o);if(a!==null)return a;o=o.sibling}return null}var Eu=e.unstable_scheduleCallback,Zc=e.unstable_cancelCallback,um=e.unstable_shouldYield,dl=e.unstable_requestPaint,er=e.unstable_now,hm=e.unstable_getCurrentPriorityLevel,Qc=e.unstable_ImmediatePriority,Nu=e.unstable_UserBlockingPriority,ul=e.unstable_NormalPriority,Yc=e.unstable_LowPriority,ti=e.unstable_IdlePriority,aa=null,Pn=null;function la(o){if(Pn&&typeof Pn.onCommitFiberRoot=="function")try{Pn.onCommitFiberRoot(aa,o,void 0,(o.current.flags&128)===128)}catch{}}var ht=Math.clz32?Math.clz32:ri,Gt=Math.log,hl=Math.LN2;function ri(o){return o>>>=0,o===0?32:31-(Gt(o)/hl|0)|0}var po=64,ni=4194304;function ut(o){switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return o&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return o}}function qt(o,a){var h=o.pendingLanes;if(h===0)return 0;var g=0,_=o.suspendedLanes,j=o.pingedLanes,M=h&268435455;if(M!==0){var Z=M&~_;Z!==0?g=ut(Z):(j&=M,j!==0&&(g=ut(j)))}else M=h&~_,M!==0?g=ut(M):j!==0&&(g=ut(j));if(g===0)return 0;if(a!==0&&a!==g&&(a&_)===0&&(_=g&-g,j=a&-a,_>=j||_===16&&(j&4194240)!==0))return a;if((g&4)!==0&&(g|=h&16),a=o.entangledLanes,a!==0)for(o=o.entanglements,a&=g;0<a;)h=31-ht(a),_=1<<h,g|=o[h],a&=~_;return g}function Jc(o,a){switch(o){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function fl(o,a){for(var h=o.suspendedLanes,g=o.pingedLanes,_=o.expirationTimes,j=o.pendingLanes;0<j;){var M=31-ht(j),Z=1<<M,re=_[M];re===-1?((Z&h)===0||(Z&g)!==0)&&(_[M]=Jc(Z,a)):re<=a&&(o.expiredLanes|=Z),j&=~Z}}function Vr(o){return o=o.pendingLanes&-1073741825,o!==0?o:o&1073741824?1073741824:0}function Cu(){var o=po;return po<<=1,(po&4194240)===0&&(po=64),o}function oi(o){for(var a=[],h=0;31>h;h++)a.push(o);return a}function Tn(o,a,h){o.pendingLanes|=a,a!==536870912&&(o.suspendedLanes=0,o.pingedLanes=0),o=o.eventTimes,a=31-ht(a),o[a]=h}function lr(o,a){var h=o.pendingLanes&~a;o.pendingLanes=a,o.suspendedLanes=0,o.pingedLanes=0,o.expiredLanes&=a,o.mutableReadLanes&=a,o.entangledLanes&=a,a=o.entanglements;var g=o.eventTimes;for(o=o.expirationTimes;0<h;){var _=31-ht(h),j=1<<_;a[_]=0,g[_]=-1,o[_]=-1,h&=~j}}function go(o,a){var h=o.entangledLanes|=a;for(o=o.entanglements;h;){var g=31-ht(h),_=1<<g;_&a|o[g]&a&&(o[g]|=a),h&=~_}}var yt=0;function si(o){return o&=-o,1<o?4<o?(o&268435455)!==0?16:536870912:4:1}var ml,vs,pl,gl,ca,da=!1,ii=[],Rn=null,vo=null,Kn=null,ua=new Map,lt=new Map,Nr=[],Dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Xc(o,a){switch(o){case"focusin":case"focusout":Rn=null;break;case"dragenter":case"dragleave":vo=null;break;case"mouseover":case"mouseout":Kn=null;break;case"pointerover":case"pointerout":ua.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":lt.delete(a.pointerId)}}function xs(o,a,h,g,_,j){return o===null||o.nativeEvent!==j?(o={blockedOn:a,domEventName:h,eventSystemFlags:g,nativeEvent:j,targetContainers:[_]},a!==null&&(a=Cs(a),a!==null&&vs(a)),o):(o.eventSystemFlags|=g,a=o.targetContainers,_!==null&&a.indexOf(_)===-1&&a.push(_),o)}function ed(o,a,h,g,_){switch(a){case"focusin":return Rn=xs(Rn,o,a,h,g,_),!0;case"dragenter":return vo=xs(vo,o,a,h,g,_),!0;case"mouseover":return Kn=xs(Kn,o,a,h,g,_),!0;case"pointerover":var j=_.pointerId;return ua.set(j,xs(ua.get(j)||null,o,a,h,g,_)),!0;case"gotpointercapture":return j=_.pointerId,lt.set(j,xs(lt.get(j)||null,o,a,h,g,_)),!0}return!1}function vl(o){var a=Ns(o.target);if(a!==null){var h=qo(a);if(h!==null){if(a=h.tag,a===13){if(a=gs(h),a!==null){o.blockedOn=a,ca(o.priority,function(){pl(h)});return}}else if(a===3&&h.stateNode.current.memoizedState.isDehydrated){o.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}o.blockedOn=null}function Zn(o){if(o.blockedOn!==null)return!1;for(var a=o.targetContainers;0<a.length;){var h=bl(o.domEventName,o.eventSystemFlags,a[0],o.nativeEvent);if(h===null){h=o.nativeEvent;var g=new h.constructor(h.type,h);dt=g,h.target.dispatchEvent(g),dt=null}else return a=Cs(h),a!==null&&vs(a),o.blockedOn=h,!1;a.shift()}return!0}function xl(o,a,h){Zn(o)&&h.delete(a)}function ha(){da=!1,Rn!==null&&Zn(Rn)&&(Rn=null),vo!==null&&Zn(vo)&&(vo=null),Kn!==null&&Zn(Kn)&&(Kn=null),ua.forEach(xl),lt.forEach(xl)}function tr(o,a){o.blockedOn===a&&(o.blockedOn=null,da||(da=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,ha)))}function An(o){function a(_){return tr(_,o)}if(0<ii.length){tr(ii[0],o);for(var h=1;h<ii.length;h++){var g=ii[h];g.blockedOn===o&&(g.blockedOn=null)}}for(Rn!==null&&tr(Rn,o),vo!==null&&tr(vo,o),Kn!==null&&tr(Kn,o),ua.forEach(a),lt.forEach(a),h=0;h<Nr.length;h++)g=Nr[h],g.blockedOn===o&&(g.blockedOn=null);for(;0<Nr.length&&(h=Nr[0],h.blockedOn===null);)vl(h),h.blockedOn===null&&Nr.shift()}var ys=D.ReactCurrentBatchConfig,fa=!0;function fm(o,a,h,g){var _=yt,j=ys.transition;ys.transition=null;try{yt=1,ma(o,a,h,g)}finally{yt=_,ys.transition=j}}function ku(o,a,h,g){var _=yt,j=ys.transition;ys.transition=null;try{yt=4,ma(o,a,h,g)}finally{yt=_,ys.transition=j}}function ma(o,a,h,g){if(fa){var _=bl(o,a,h,g);if(_===null)i(o,a,g,yl,h),Xc(o,g);else if(ed(_,o,a,h,g))g.stopPropagation();else if(Xc(o,g),a&4&&-1<Dt.indexOf(o)){for(;_!==null;){var j=Cs(_);if(j!==null&&ml(j),j=bl(o,a,h,g),j===null&&i(o,a,g,yl,h),j===_)break;_=j}_!==null&&g.stopPropagation()}else i(o,a,g,null,h)}}var yl=null;function bl(o,a,h,g){if(yl=null,o=Xe(g),o=Ns(o),o!==null)if(a=qo(o),a===null)o=null;else if(h=a.tag,h===13){if(o=gs(a),o!==null)return o;o=null}else if(h===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;o=null}else a!==o&&(o=null);return yl=o,null}function vt(o){switch(o){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(hm()){case Qc:return 1;case Nu:return 4;case ul:case Yc:return 16;case ti:return 536870912;default:return 16}default:return 16}}var Wo=null,nn=null,Ho=null;function td(){if(Ho)return Ho;var o,a=nn,h=a.length,g,_="value"in Wo?Wo.value:Wo.textContent,j=_.length;for(o=0;o<h&&a[o]===_[o];o++);var M=h-o;for(g=1;g<=M&&a[h-g]===_[j-g];g++);return Ho=_.slice(o,1<g?1-g:void 0)}function _l(o){var a=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&a===13&&(o=13)):o=a,o===10&&(o=13),32<=o||o===13?o:0}function ai(){return!0}function Pu(){return!1}function Gr(o){function a(h,g,_,j,M){this._reactName=h,this._targetInst=_,this.type=g,this.nativeEvent=j,this.target=M,this.currentTarget=null;for(var Z in o)o.hasOwnProperty(Z)&&(h=o[Z],this[Z]=h?h(j):j[Z]);return this.isDefaultPrevented=(j.defaultPrevented!=null?j.defaultPrevented:j.returnValue===!1)?ai:Pu,this.isPropagationStopped=Pu,this}return ae(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=ai)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=ai)},persist:function(){},isPersistent:ai}),a}var li={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},rd=Gr(li),bs=ae({},li,{view:0,detail:0}),mm=Gr(bs),mn,nd,ci,On=ae({},bs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ws,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==ci&&(ci&&o.type==="mousemove"?(mn=o.screenX-ci.screenX,nd=o.screenY-ci.screenY):nd=mn=0,ci=o),mn)},movementY:function(o){return"movementY"in o?o.movementY:nd}}),od=Gr(On),Tu=ae({},On,{dataTransfer:0}),sd=Gr(Tu),pm=ae({},bs,{relatedTarget:0}),wl=Gr(pm),Ru=ae({},li,{animationName:0,elapsedTime:0,pseudoElement:0}),gm=Gr(Ru),vm=ae({},li,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),id=Gr(vm),xm=ae({},li,{data:0}),ad=Gr(xm),Au={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},jl={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_s={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ym(o){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(o):(o=_s[o])?!!a[o]:!1}function ws(){return ym}var pn=ae({},bs,{key:function(o){if(o.key){var a=Au[o.key]||o.key;if(a!=="Unidentified")return a}return o.type==="keypress"?(o=_l(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?jl[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ws,charCode:function(o){return o.type==="keypress"?_l(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?_l(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),Ou=Gr(pn),Mu=ae({},On,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Lu=Gr(Mu),ld=ae({},bs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ws}),cd=Gr(ld),bm=ae({},li,{propertyName:0,elapsedTime:0,pseudoElement:0}),_m=Gr(bm),Iu=ae({},On,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),wm=Gr(Iu),Mn=[9,13,27,32],Vo=p&&"CompositionEvent"in window,pa=null;p&&"documentMode"in document&&(pa=document.documentMode);var xo=p&&"TextEvent"in window&&!pa,Du=p&&(!Vo||pa&&8<pa&&11>=pa),js=" ",Bu=!1;function di(o,a){switch(o){case"keyup":return Mn.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function dd(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var yo=!1;function jm(o,a){switch(o){case"compositionend":return dd(a);case"keypress":return a.which!==32?null:(Bu=!0,js);case"textInput":return o=a.data,o===js&&Bu?null:o;default:return null}}function Go(o,a){if(yo)return o==="compositionend"||!Vo&&di(o,a)?(o=td(),Ho=nn=Wo=null,yo=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Du&&a.locale!=="ko"?null:a.data;default:return null}}var Sl={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zu(o){var a=o&&o.nodeName&&o.nodeName.toLowerCase();return a==="input"?!!Sl[o.type]:a==="textarea"}function El(o,a,h,g){st(g),a=f(a,"onChange"),0<a.length&&(h=new rd("onChange","change",null,h,g),o.push({event:h,listeners:a}))}var ga=null,on=null;function Sm(o){yd(o,0)}function bo(o){var a=ks(o);if(Ie(a))return o}function Em(o,a){if(o==="change")return a}var Qn=!1;if(p){var ui;if(p){var Nl="oninput"in document;if(!Nl){var Cl=document.createElement("div");Cl.setAttribute("oninput","return;"),Nl=typeof Cl.oninput=="function"}ui=Nl}else ui=!1;Qn=ui&&(!document.documentMode||9<document.documentMode)}function va(){ga&&(ga.detachEvent("onpropertychange",kl),on=ga=null)}function kl(o){if(o.propertyName==="value"&&bo(on)){var a=[];El(a,on,o,Xe(o)),Ut(Sm,a)}}function Pl(o,a,h){o==="focusin"?(va(),ga=a,on=h,ga.attachEvent("onpropertychange",kl)):o==="focusout"&&va()}function hi(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return bo(on)}function Tl(o,a){if(o==="click")return bo(a)}function ud(o,a){if(o==="input"||o==="change")return bo(a)}function $u(o,a){return o===a&&(o!==0||1/o===1/a)||o!==o&&a!==a}var Ln=typeof Object.is=="function"?Object.is:$u;function Ko(o,a){if(Ln(o,a))return!0;if(typeof o!="object"||o===null||typeof a!="object"||a===null)return!1;var h=Object.keys(o),g=Object.keys(a);if(h.length!==g.length)return!1;for(g=0;g<h.length;g++){var _=h[g];if(!m.call(a,_)||!Ln(o[_],a[_]))return!1}return!0}function Fu(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function hd(o,a){var h=Fu(o);o=0;for(var g;h;){if(h.nodeType===3){if(g=o+h.textContent.length,o<=a&&g>=a)return{node:h,offset:a-o};o=g}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=Fu(h)}}function Uu(o,a){return o&&a?o===a?!0:o&&o.nodeType===3?!1:a&&a.nodeType===3?Uu(o,a.parentNode):"contains"in o?o.contains(a):o.compareDocumentPosition?!!(o.compareDocumentPosition(a)&16):!1:!1}function fd(){for(var o=window,a=nt();a instanceof o.HTMLIFrameElement;){try{var h=typeof a.contentWindow.location.href=="string"}catch{h=!1}if(h)o=a.contentWindow;else break;a=nt(o.document)}return a}function md(o){var a=o&&o.nodeName&&o.nodeName.toLowerCase();return a&&(a==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||a==="textarea"||o.contentEditable==="true")}function Yn(o){var a=fd(),h=o.focusedElem,g=o.selectionRange;if(a!==h&&h&&h.ownerDocument&&Uu(h.ownerDocument.documentElement,h)){if(g!==null&&md(h)){if(a=g.start,o=g.end,o===void 0&&(o=a),"selectionStart"in h)h.selectionStart=a,h.selectionEnd=Math.min(o,h.value.length);else if(o=(a=h.ownerDocument||document)&&a.defaultView||window,o.getSelection){o=o.getSelection();var _=h.textContent.length,j=Math.min(g.start,_);g=g.end===void 0?j:Math.min(g.end,_),!o.extend&&j>g&&(_=g,g=j,j=_),_=hd(h,j);var M=hd(h,g);_&&M&&(o.rangeCount!==1||o.anchorNode!==_.node||o.anchorOffset!==_.offset||o.focusNode!==M.node||o.focusOffset!==M.offset)&&(a=a.createRange(),a.setStart(_.node,_.offset),o.removeAllRanges(),j>g?(o.addRange(a),o.extend(M.node,M.offset)):(a.setEnd(M.node,M.offset),o.addRange(a)))}}for(a=[],o=h;o=o.parentNode;)o.nodeType===1&&a.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof h.focus=="function"&&h.focus(),h=0;h<a.length;h++)o=a[h],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var Rl=p&&"documentMode"in document&&11>=document.documentMode,fi=null,mi=null,xa=null,Al=!1;function qu(o,a,h){var g=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;Al||fi==null||fi!==nt(g)||(g=fi,"selectionStart"in g&&md(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),xa&&Ko(xa,g)||(xa=g,g=f(mi,"onSelect"),0<g.length&&(a=new rd("onSelect","select",null,a,h),o.push({event:a,listeners:g}),a.target=fi)))}function Zo(o,a){var h={};return h[o.toLowerCase()]=a.toLowerCase(),h["Webkit"+o]="webkit"+a,h["Moz"+o]="moz"+a,h}var pi={animationend:Zo("Animation","AnimationEnd"),animationiteration:Zo("Animation","AnimationIteration"),animationstart:Zo("Animation","AnimationStart"),transitionend:Zo("Transition","TransitionEnd")},Qo={},pd={};p&&(pd=document.createElement("div").style,"AnimationEvent"in window||(delete pi.animationend.animation,delete pi.animationiteration.animation,delete pi.animationstart.animation),"TransitionEvent"in window||delete pi.transitionend.transition);function ya(o){if(Qo[o])return Qo[o];if(!pi[o])return o;var a=pi[o],h;for(h in a)if(a.hasOwnProperty(h)&&h in pd)return Qo[o]=a[h];return o}var Wu=ya("animationend"),Jn=ya("animationiteration"),gd=ya("animationstart"),vd=ya("transitionend"),gi=new Map,Hu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function In(o,a){gi.set(o,a),c(a,[o])}for(var Ss=0;Ss<Hu.length;Ss++){var Ol=Hu[Ss],Vu=Ol.toLowerCase(),Nm=Ol[0].toUpperCase()+Ol.slice(1);In(Vu,"on"+Nm)}In(Wu,"onAnimationEnd"),In(Jn,"onAnimationIteration"),In(gd,"onAnimationStart"),In("dblclick","onDoubleClick"),In("focusin","onFocus"),In("focusout","onBlur"),In(vd,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Gu=new Set("cancel close invalid load scroll toggle".split(" ").concat(vi));function xd(o,a,h){var g=o.type||"unknown-event";o.currentTarget=h,Gc(g,a,void 0,o),o.currentTarget=null}function yd(o,a){a=(a&4)!==0;for(var h=0;h<o.length;h++){var g=o[h],_=g.event;g=g.listeners;e:{var j=void 0;if(a)for(var M=g.length-1;0<=M;M--){var Z=g[M],re=Z.instance,ye=Z.currentTarget;if(Z=Z.listener,re!==j&&_.isPropagationStopped())break e;xd(_,Z,ye),j=re}else for(M=0;M<g.length;M++){if(Z=g[M],re=Z.instance,ye=Z.currentTarget,Z=Z.listener,re!==j&&_.isPropagationStopped())break e;xd(_,Z,ye),j=re}}}if(Uo)throw o=ia,Uo=!1,ia=null,o}function Bt(o,a){var h=a[_i];h===void 0&&(h=a[_i]=new Set);var g=o+"__bubble";h.has(g)||(Ku(a,o,2,!1),h.add(g))}function bd(o,a,h){var g=0;a&&(g|=4),Ku(h,o,g,a)}var ba="_reactListening"+Math.random().toString(36).slice(2);function xi(o){if(!o[ba]){o[ba]=!0,s.forEach(function(h){h!=="selectionchange"&&(Gu.has(h)||bd(h,!1,o),bd(h,!0,o))});var a=o.nodeType===9?o:o.ownerDocument;a===null||a[ba]||(a[ba]=!0,bd("selectionchange",!1,a))}}function Ku(o,a,h,g){switch(vt(a)){case 1:var _=fm;break;case 4:_=ku;break;default:_=ma}h=_.bind(null,a,h,o),_=void 0,!Gn||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(_=!0),g?_!==void 0?o.addEventListener(a,h,{capture:!0,passive:_}):o.addEventListener(a,h,!0):_!==void 0?o.addEventListener(a,h,{passive:_}):o.addEventListener(a,h,!1)}function i(o,a,h,g,_){var j=g;if((a&1)===0&&(a&2)===0&&g!==null)e:for(;;){if(g===null)return;var M=g.tag;if(M===3||M===4){var Z=g.stateNode.containerInfo;if(Z===_||Z.nodeType===8&&Z.parentNode===_)break;if(M===4)for(M=g.return;M!==null;){var re=M.tag;if((re===3||re===4)&&(re=M.stateNode.containerInfo,re===_||re.nodeType===8&&re.parentNode===_))return;M=M.return}for(;Z!==null;){if(M=Ns(Z),M===null)return;if(re=M.tag,re===5||re===6){g=j=M;continue e}Z=Z.parentNode}}g=g.return}Ut(function(){var ye=j,ke=Xe(h),Ae=[];e:{var Ce=gi.get(o);if(Ce!==void 0){var Fe=rd,We=o;switch(o){case"keypress":if(_l(h)===0)break e;case"keydown":case"keyup":Fe=Ou;break;case"focusin":We="focus",Fe=wl;break;case"focusout":We="blur",Fe=wl;break;case"beforeblur":case"afterblur":Fe=wl;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Fe=od;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Fe=sd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Fe=cd;break;case Wu:case Jn:case gd:Fe=gm;break;case vd:Fe=_m;break;case"scroll":Fe=mm;break;case"wheel":Fe=wm;break;case"copy":case"cut":case"paste":Fe=id;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Fe=Lu}var Ge=(a&4)!==0,mr=!Ge&&o==="scroll",ue=Ge?Ce!==null?Ce+"Capture":null:Ce;Ge=[];for(var oe=ye,fe;oe!==null;){fe=oe;var Oe=fe.stateNode;if(fe.tag===5&&Oe!==null&&(fe=Oe,ue!==null&&(Oe=ar(oe,ue),Oe!=null&&Ge.push(d(oe,Oe,fe)))),mr)break;oe=oe.return}0<Ge.length&&(Ce=new Fe(Ce,We,null,h,ke),Ae.push({event:Ce,listeners:Ge}))}}if((a&7)===0){e:{if(Ce=o==="mouseover"||o==="pointerover",Fe=o==="mouseout"||o==="pointerout",Ce&&h!==dt&&(We=h.relatedTarget||h.fromElement)&&(Ns(We)||We[Rt]))break e;if((Fe||Ce)&&(Ce=ke.window===ke?ke:(Ce=ke.ownerDocument)?Ce.defaultView||Ce.parentWindow:window,Fe?(We=h.relatedTarget||h.toElement,Fe=ye,We=We?Ns(We):null,We!==null&&(mr=qo(We),We!==mr||We.tag!==5&&We.tag!==6)&&(We=null)):(Fe=null,We=ye),Fe!==We)){if(Ge=od,Oe="onMouseLeave",ue="onMouseEnter",oe="mouse",(o==="pointerout"||o==="pointerover")&&(Ge=Lu,Oe="onPointerLeave",ue="onPointerEnter",oe="pointer"),mr=Fe==null?Ce:ks(Fe),fe=We==null?Ce:ks(We),Ce=new Ge(Oe,oe+"leave",Fe,h,ke),Ce.target=mr,Ce.relatedTarget=fe,Oe=null,Ns(ke)===ye&&(Ge=new Ge(ue,oe+"enter",We,h,ke),Ge.target=fe,Ge.relatedTarget=mr,Oe=Ge),mr=Oe,Fe&&We)t:{for(Ge=Fe,ue=We,oe=0,fe=Ge;fe;fe=b(fe))oe++;for(fe=0,Oe=ue;Oe;Oe=b(Oe))fe++;for(;0<oe-fe;)Ge=b(Ge),oe--;for(;0<fe-oe;)ue=b(ue),fe--;for(;oe--;){if(Ge===ue||ue!==null&&Ge===ue.alternate)break t;Ge=b(Ge),ue=b(ue)}Ge=null}else Ge=null;Fe!==null&&C(Ae,Ce,Fe,Ge,!1),We!==null&&mr!==null&&C(Ae,mr,We,Ge,!0)}}e:{if(Ce=ye?ks(ye):window,Fe=Ce.nodeName&&Ce.nodeName.toLowerCase(),Fe==="select"||Fe==="input"&&Ce.type==="file")var Ze=Em;else if(zu(Ce))if(Qn)Ze=ud;else{Ze=hi;var tt=Pl}else(Fe=Ce.nodeName)&&Fe.toLowerCase()==="input"&&(Ce.type==="checkbox"||Ce.type==="radio")&&(Ze=Tl);if(Ze&&(Ze=Ze(o,ye))){El(Ae,Ze,h,ke);break e}tt&&tt(o,Ce,ye),o==="focusout"&&(tt=Ce._wrapperState)&&tt.controlled&&Ce.type==="number"&&Nt(Ce,"number",Ce.value)}switch(tt=ye?ks(ye):window,o){case"focusin":(zu(tt)||tt.contentEditable==="true")&&(fi=tt,mi=ye,xa=null);break;case"focusout":xa=mi=fi=null;break;case"mousedown":Al=!0;break;case"contextmenu":case"mouseup":case"dragend":Al=!1,qu(Ae,h,ke);break;case"selectionchange":if(Rl)break;case"keydown":case"keyup":qu(Ae,h,ke)}var rt;if(Vo)e:{switch(o){case"compositionstart":var ct="onCompositionStart";break e;case"compositionend":ct="onCompositionEnd";break e;case"compositionupdate":ct="onCompositionUpdate";break e}ct=void 0}else yo?di(o,h)&&(ct="onCompositionEnd"):o==="keydown"&&h.keyCode===229&&(ct="onCompositionStart");ct&&(Du&&h.locale!=="ko"&&(yo||ct!=="onCompositionStart"?ct==="onCompositionEnd"&&yo&&(rt=td()):(Wo=ke,nn="value"in Wo?Wo.value:Wo.textContent,yo=!0)),tt=f(ye,ct),0<tt.length&&(ct=new ad(ct,o,null,h,ke),Ae.push({event:ct,listeners:tt}),rt?ct.data=rt:(rt=dd(h),rt!==null&&(ct.data=rt)))),(rt=xo?jm(o,h):Go(o,h))&&(ye=f(ye,"onBeforeInput"),0<ye.length&&(ke=new ad("onBeforeInput","beforeinput",null,h,ke),Ae.push({event:ke,listeners:ye}),ke.data=rt))}yd(Ae,a)})}function d(o,a,h){return{instance:o,listener:a,currentTarget:h}}function f(o,a){for(var h=a+"Capture",g=[];o!==null;){var _=o,j=_.stateNode;_.tag===5&&j!==null&&(_=j,j=ar(o,h),j!=null&&g.unshift(d(o,j,_)),j=ar(o,a),j!=null&&g.push(d(o,j,_))),o=o.return}return g}function b(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5);return o||null}function C(o,a,h,g,_){for(var j=a._reactName,M=[];h!==null&&h!==g;){var Z=h,re=Z.alternate,ye=Z.stateNode;if(re!==null&&re===g)break;Z.tag===5&&ye!==null&&(Z=ye,_?(re=ar(h,j),re!=null&&M.unshift(d(h,re,Z))):_||(re=ar(h,j),re!=null&&M.push(d(h,re,Z)))),h=h.return}M.length!==0&&o.push({event:a,listeners:M})}var I=/\r\n?/g,J=/\u0000|\uFFFD/g;function de(o){return(typeof o=="string"?o:""+o).replace(I,`
`).replace(J,"")}function ve(o,a,h){if(a=de(a),de(o)!==a&&h)throw Error(r(425))}function Ne(){}var De=null,et=null;function ft(o,a){return o==="textarea"||o==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Cr=typeof setTimeout=="function"?setTimeout:void 0,br=typeof clearTimeout=="function"?clearTimeout:void 0,sn=typeof Promise=="function"?Promise:void 0,Kr=typeof queueMicrotask=="function"?queueMicrotask:typeof sn<"u"?function(o){return sn.resolve(null).then(o).catch(yi)}:Cr;function yi(o){setTimeout(function(){throw o})}function _d(o,a){var h=a,g=0;do{var _=h.nextSibling;if(o.removeChild(h),_&&_.nodeType===8)if(h=_.data,h==="/$"){if(g===0){o.removeChild(_),An(a);return}g--}else h!=="$"&&h!=="$?"&&h!=="$!"||g++;h=_}while(h);An(a)}function Yo(o){for(;o!=null;o=o.nextSibling){var a=o.nodeType;if(a===1||a===3)break;if(a===8){if(a=o.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return o}function Zu(o){o=o.previousSibling;for(var a=0;o;){if(o.nodeType===8){var h=o.data;if(h==="$"||h==="$!"||h==="$?"){if(a===0)return o;a--}else h==="/$"&&a++}o=o.previousSibling}return null}var Es=Math.random().toString(36).slice(2),Xn="__reactFiber$"+Es,bi="__reactProps$"+Es,Rt="__reactContainer$"+Es,_i="__reactEvents$"+Es,Cm="__reactListeners$"+Es,km="__reactHandles$"+Es;function Ns(o){var a=o[Xn];if(a)return a;for(var h=o.parentNode;h;){if(a=h[Rt]||h[Xn]){if(h=a.alternate,a.child!==null||h!==null&&h.child!==null)for(o=Zu(o);o!==null;){if(h=o[Xn])return h;o=Zu(o)}return a}o=h,h=o.parentNode}return null}function Cs(o){return o=o[Xn]||o[Rt],!o||o.tag!==5&&o.tag!==6&&o.tag!==13&&o.tag!==3?null:o}function ks(o){if(o.tag===5||o.tag===6)return o.stateNode;throw Error(r(33))}function Ml(o){return o[bi]||null}var Pm=[],Ll=-1;function wi(o){return{current:o}}function Kt(o){0>Ll||(o.current=Pm[Ll],Pm[Ll]=null,Ll--)}function Wt(o,a){Ll++,Pm[Ll]=o.current,o.current=a}var ji={},Zr=wi(ji),gn=wi(!1),_a=ji;function Il(o,a){var h=o.type.contextTypes;if(!h)return ji;var g=o.stateNode;if(g&&g.__reactInternalMemoizedUnmaskedChildContext===a)return g.__reactInternalMemoizedMaskedChildContext;var _={},j;for(j in h)_[j]=a[j];return g&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=a,o.__reactInternalMemoizedMaskedChildContext=_),_}function vn(o){return o=o.childContextTypes,o!=null}function Qu(){Kt(gn),Kt(Zr)}function dx(o,a,h){if(Zr.current!==ji)throw Error(r(168));Wt(Zr,a),Wt(gn,h)}function ux(o,a,h){var g=o.stateNode;if(a=a.childContextTypes,typeof g.getChildContext!="function")return h;g=g.getChildContext();for(var _ in g)if(!(_ in a))throw Error(r(108,pe(o)||"Unknown",_));return ae({},h,g)}function Yu(o){return o=(o=o.stateNode)&&o.__reactInternalMemoizedMergedChildContext||ji,_a=Zr.current,Wt(Zr,o),Wt(gn,gn.current),!0}function hx(o,a,h){var g=o.stateNode;if(!g)throw Error(r(169));h?(o=ux(o,a,_a),g.__reactInternalMemoizedMergedChildContext=o,Kt(gn),Kt(Zr),Wt(Zr,o)):Kt(gn),Wt(gn,h)}var Ps=null,Ju=!1,Tm=!1;function fx(o){Ps===null?Ps=[o]:Ps.push(o)}function YS(o){Ju=!0,fx(o)}function Si(){if(!Tm&&Ps!==null){Tm=!0;var o=0,a=yt;try{var h=Ps;for(yt=1;o<h.length;o++){var g=h[o];do g=g(!0);while(g!==null)}Ps=null,Ju=!1}catch(_){throw Ps!==null&&(Ps=Ps.slice(o+1)),Eu(Qc,Si),_}finally{yt=a,Tm=!1}}return null}var Dl=[],Bl=0,Xu=null,eh=0,eo=[],to=0,wa=null,Ts=1,Rs="";function ja(o,a){Dl[Bl++]=eh,Dl[Bl++]=Xu,Xu=o,eh=a}function mx(o,a,h){eo[to++]=Ts,eo[to++]=Rs,eo[to++]=wa,wa=o;var g=Ts;o=Rs;var _=32-ht(g)-1;g&=~(1<<_),h+=1;var j=32-ht(a)+_;if(30<j){var M=_-_%5;j=(g&(1<<M)-1).toString(32),g>>=M,_-=M,Ts=1<<32-ht(a)+_|h<<_|g,Rs=j+o}else Ts=1<<j|h<<_|g,Rs=o}function Rm(o){o.return!==null&&(ja(o,1),mx(o,1,0))}function Am(o){for(;o===Xu;)Xu=Dl[--Bl],Dl[Bl]=null,eh=Dl[--Bl],Dl[Bl]=null;for(;o===wa;)wa=eo[--to],eo[to]=null,Rs=eo[--to],eo[to]=null,Ts=eo[--to],eo[to]=null}var Dn=null,Bn=null,Qt=!1,_o=null;function px(o,a){var h=so(5,null,null,0);h.elementType="DELETED",h.stateNode=a,h.return=o,a=o.deletions,a===null?(o.deletions=[h],o.flags|=16):a.push(h)}function gx(o,a){switch(o.tag){case 5:var h=o.type;return a=a.nodeType!==1||h.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(o.stateNode=a,Dn=o,Bn=Yo(a.firstChild),!0):!1;case 6:return a=o.pendingProps===""||a.nodeType!==3?null:a,a!==null?(o.stateNode=a,Dn=o,Bn=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(h=wa!==null?{id:Ts,overflow:Rs}:null,o.memoizedState={dehydrated:a,treeContext:h,retryLane:1073741824},h=so(18,null,null,0),h.stateNode=a,h.return=o,o.child=h,Dn=o,Bn=null,!0):!1;default:return!1}}function Om(o){return(o.mode&1)!==0&&(o.flags&128)===0}function Mm(o){if(Qt){var a=Bn;if(a){var h=a;if(!gx(o,a)){if(Om(o))throw Error(r(418));a=Yo(h.nextSibling);var g=Dn;a&&gx(o,a)?px(g,h):(o.flags=o.flags&-4097|2,Qt=!1,Dn=o)}}else{if(Om(o))throw Error(r(418));o.flags=o.flags&-4097|2,Qt=!1,Dn=o}}}function vx(o){for(o=o.return;o!==null&&o.tag!==5&&o.tag!==3&&o.tag!==13;)o=o.return;Dn=o}function th(o){if(o!==Dn)return!1;if(!Qt)return vx(o),Qt=!0,!1;var a;if((a=o.tag!==3)&&!(a=o.tag!==5)&&(a=o.type,a=a!=="head"&&a!=="body"&&!ft(o.type,o.memoizedProps)),a&&(a=Bn)){if(Om(o))throw xx(),Error(r(418));for(;a;)px(o,a),a=Yo(a.nextSibling)}if(vx(o),o.tag===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));e:{for(o=o.nextSibling,a=0;o;){if(o.nodeType===8){var h=o.data;if(h==="/$"){if(a===0){Bn=Yo(o.nextSibling);break e}a--}else h!=="$"&&h!=="$!"&&h!=="$?"||a++}o=o.nextSibling}Bn=null}}else Bn=Dn?Yo(o.stateNode.nextSibling):null;return!0}function xx(){for(var o=Bn;o;)o=Yo(o.nextSibling)}function zl(){Bn=Dn=null,Qt=!1}function Lm(o){_o===null?_o=[o]:_o.push(o)}var JS=D.ReactCurrentBatchConfig;function wd(o,a,h){if(o=h.ref,o!==null&&typeof o!="function"&&typeof o!="object"){if(h._owner){if(h=h._owner,h){if(h.tag!==1)throw Error(r(309));var g=h.stateNode}if(!g)throw Error(r(147,o));var _=g,j=""+o;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===j?a.ref:(a=function(M){var Z=_.refs;M===null?delete Z[j]:Z[j]=M},a._stringRef=j,a)}if(typeof o!="string")throw Error(r(284));if(!h._owner)throw Error(r(290,o))}return o}function rh(o,a){throw o=Object.prototype.toString.call(a),Error(r(31,o==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":o))}function yx(o){var a=o._init;return a(o._payload)}function bx(o){function a(ue,oe){if(o){var fe=ue.deletions;fe===null?(ue.deletions=[oe],ue.flags|=16):fe.push(oe)}}function h(ue,oe){if(!o)return null;for(;oe!==null;)a(ue,oe),oe=oe.sibling;return null}function g(ue,oe){for(ue=new Map;oe!==null;)oe.key!==null?ue.set(oe.key,oe):ue.set(oe.index,oe),oe=oe.sibling;return ue}function _(ue,oe){return ue=Ai(ue,oe),ue.index=0,ue.sibling=null,ue}function j(ue,oe,fe){return ue.index=fe,o?(fe=ue.alternate,fe!==null?(fe=fe.index,fe<oe?(ue.flags|=2,oe):fe):(ue.flags|=2,oe)):(ue.flags|=1048576,oe)}function M(ue){return o&&ue.alternate===null&&(ue.flags|=2),ue}function Z(ue,oe,fe,Oe){return oe===null||oe.tag!==6?(oe=Np(fe,ue.mode,Oe),oe.return=ue,oe):(oe=_(oe,fe),oe.return=ue,oe)}function re(ue,oe,fe,Oe){var Ze=fe.type;return Ze===Q?ke(ue,oe,fe.props.children,Oe,fe.key):oe!==null&&(oe.elementType===Ze||typeof Ze=="object"&&Ze!==null&&Ze.$$typeof===me&&yx(Ze)===oe.type)?(Oe=_(oe,fe.props),Oe.ref=wd(ue,oe,fe),Oe.return=ue,Oe):(Oe=Nh(fe.type,fe.key,fe.props,null,ue.mode,Oe),Oe.ref=wd(ue,oe,fe),Oe.return=ue,Oe)}function ye(ue,oe,fe,Oe){return oe===null||oe.tag!==4||oe.stateNode.containerInfo!==fe.containerInfo||oe.stateNode.implementation!==fe.implementation?(oe=Cp(fe,ue.mode,Oe),oe.return=ue,oe):(oe=_(oe,fe.children||[]),oe.return=ue,oe)}function ke(ue,oe,fe,Oe,Ze){return oe===null||oe.tag!==7?(oe=Ra(fe,ue.mode,Oe,Ze),oe.return=ue,oe):(oe=_(oe,fe),oe.return=ue,oe)}function Ae(ue,oe,fe){if(typeof oe=="string"&&oe!==""||typeof oe=="number")return oe=Np(""+oe,ue.mode,fe),oe.return=ue,oe;if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case K:return fe=Nh(oe.type,oe.key,oe.props,null,ue.mode,fe),fe.ref=wd(ue,null,oe),fe.return=ue,fe;case B:return oe=Cp(oe,ue.mode,fe),oe.return=ue,oe;case me:var Oe=oe._init;return Ae(ue,Oe(oe._payload),fe)}if(ur(oe)||je(oe))return oe=Ra(oe,ue.mode,fe,null),oe.return=ue,oe;rh(ue,oe)}return null}function Ce(ue,oe,fe,Oe){var Ze=oe!==null?oe.key:null;if(typeof fe=="string"&&fe!==""||typeof fe=="number")return Ze!==null?null:Z(ue,oe,""+fe,Oe);if(typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case K:return fe.key===Ze?re(ue,oe,fe,Oe):null;case B:return fe.key===Ze?ye(ue,oe,fe,Oe):null;case me:return Ze=fe._init,Ce(ue,oe,Ze(fe._payload),Oe)}if(ur(fe)||je(fe))return Ze!==null?null:ke(ue,oe,fe,Oe,null);rh(ue,fe)}return null}function Fe(ue,oe,fe,Oe,Ze){if(typeof Oe=="string"&&Oe!==""||typeof Oe=="number")return ue=ue.get(fe)||null,Z(oe,ue,""+Oe,Ze);if(typeof Oe=="object"&&Oe!==null){switch(Oe.$$typeof){case K:return ue=ue.get(Oe.key===null?fe:Oe.key)||null,re(oe,ue,Oe,Ze);case B:return ue=ue.get(Oe.key===null?fe:Oe.key)||null,ye(oe,ue,Oe,Ze);case me:var tt=Oe._init;return Fe(ue,oe,fe,tt(Oe._payload),Ze)}if(ur(Oe)||je(Oe))return ue=ue.get(fe)||null,ke(oe,ue,Oe,Ze,null);rh(oe,Oe)}return null}function We(ue,oe,fe,Oe){for(var Ze=null,tt=null,rt=oe,ct=oe=0,Ir=null;rt!==null&&ct<fe.length;ct++){rt.index>ct?(Ir=rt,rt=null):Ir=rt.sibling;var Ct=Ce(ue,rt,fe[ct],Oe);if(Ct===null){rt===null&&(rt=Ir);break}o&&rt&&Ct.alternate===null&&a(ue,rt),oe=j(Ct,oe,ct),tt===null?Ze=Ct:tt.sibling=Ct,tt=Ct,rt=Ir}if(ct===fe.length)return h(ue,rt),Qt&&ja(ue,ct),Ze;if(rt===null){for(;ct<fe.length;ct++)rt=Ae(ue,fe[ct],Oe),rt!==null&&(oe=j(rt,oe,ct),tt===null?Ze=rt:tt.sibling=rt,tt=rt);return Qt&&ja(ue,ct),Ze}for(rt=g(ue,rt);ct<fe.length;ct++)Ir=Fe(rt,ue,ct,fe[ct],Oe),Ir!==null&&(o&&Ir.alternate!==null&&rt.delete(Ir.key===null?ct:Ir.key),oe=j(Ir,oe,ct),tt===null?Ze=Ir:tt.sibling=Ir,tt=Ir);return o&&rt.forEach(function(Oi){return a(ue,Oi)}),Qt&&ja(ue,ct),Ze}function Ge(ue,oe,fe,Oe){var Ze=je(fe);if(typeof Ze!="function")throw Error(r(150));if(fe=Ze.call(fe),fe==null)throw Error(r(151));for(var tt=Ze=null,rt=oe,ct=oe=0,Ir=null,Ct=fe.next();rt!==null&&!Ct.done;ct++,Ct=fe.next()){rt.index>ct?(Ir=rt,rt=null):Ir=rt.sibling;var Oi=Ce(ue,rt,Ct.value,Oe);if(Oi===null){rt===null&&(rt=Ir);break}o&&rt&&Oi.alternate===null&&a(ue,rt),oe=j(Oi,oe,ct),tt===null?Ze=Oi:tt.sibling=Oi,tt=Oi,rt=Ir}if(Ct.done)return h(ue,rt),Qt&&ja(ue,ct),Ze;if(rt===null){for(;!Ct.done;ct++,Ct=fe.next())Ct=Ae(ue,Ct.value,Oe),Ct!==null&&(oe=j(Ct,oe,ct),tt===null?Ze=Ct:tt.sibling=Ct,tt=Ct);return Qt&&ja(ue,ct),Ze}for(rt=g(ue,rt);!Ct.done;ct++,Ct=fe.next())Ct=Fe(rt,ue,ct,Ct.value,Oe),Ct!==null&&(o&&Ct.alternate!==null&&rt.delete(Ct.key===null?ct:Ct.key),oe=j(Ct,oe,ct),tt===null?Ze=Ct:tt.sibling=Ct,tt=Ct);return o&&rt.forEach(function(RE){return a(ue,RE)}),Qt&&ja(ue,ct),Ze}function mr(ue,oe,fe,Oe){if(typeof fe=="object"&&fe!==null&&fe.type===Q&&fe.key===null&&(fe=fe.props.children),typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case K:e:{for(var Ze=fe.key,tt=oe;tt!==null;){if(tt.key===Ze){if(Ze=fe.type,Ze===Q){if(tt.tag===7){h(ue,tt.sibling),oe=_(tt,fe.props.children),oe.return=ue,ue=oe;break e}}else if(tt.elementType===Ze||typeof Ze=="object"&&Ze!==null&&Ze.$$typeof===me&&yx(Ze)===tt.type){h(ue,tt.sibling),oe=_(tt,fe.props),oe.ref=wd(ue,tt,fe),oe.return=ue,ue=oe;break e}h(ue,tt);break}else a(ue,tt);tt=tt.sibling}fe.type===Q?(oe=Ra(fe.props.children,ue.mode,Oe,fe.key),oe.return=ue,ue=oe):(Oe=Nh(fe.type,fe.key,fe.props,null,ue.mode,Oe),Oe.ref=wd(ue,oe,fe),Oe.return=ue,ue=Oe)}return M(ue);case B:e:{for(tt=fe.key;oe!==null;){if(oe.key===tt)if(oe.tag===4&&oe.stateNode.containerInfo===fe.containerInfo&&oe.stateNode.implementation===fe.implementation){h(ue,oe.sibling),oe=_(oe,fe.children||[]),oe.return=ue,ue=oe;break e}else{h(ue,oe);break}else a(ue,oe);oe=oe.sibling}oe=Cp(fe,ue.mode,Oe),oe.return=ue,ue=oe}return M(ue);case me:return tt=fe._init,mr(ue,oe,tt(fe._payload),Oe)}if(ur(fe))return We(ue,oe,fe,Oe);if(je(fe))return Ge(ue,oe,fe,Oe);rh(ue,fe)}return typeof fe=="string"&&fe!==""||typeof fe=="number"?(fe=""+fe,oe!==null&&oe.tag===6?(h(ue,oe.sibling),oe=_(oe,fe),oe.return=ue,ue=oe):(h(ue,oe),oe=Np(fe,ue.mode,Oe),oe.return=ue,ue=oe),M(ue)):h(ue,oe)}return mr}var $l=bx(!0),_x=bx(!1),nh=wi(null),oh=null,Fl=null,Im=null;function Dm(){Im=Fl=oh=null}function Bm(o){var a=nh.current;Kt(nh),o._currentValue=a}function zm(o,a,h){for(;o!==null;){var g=o.alternate;if((o.childLanes&a)!==a?(o.childLanes|=a,g!==null&&(g.childLanes|=a)):g!==null&&(g.childLanes&a)!==a&&(g.childLanes|=a),o===h)break;o=o.return}}function Ul(o,a){oh=o,Im=Fl=null,o=o.dependencies,o!==null&&o.firstContext!==null&&((o.lanes&a)!==0&&(xn=!0),o.firstContext=null)}function ro(o){var a=o._currentValue;if(Im!==o)if(o={context:o,memoizedValue:a,next:null},Fl===null){if(oh===null)throw Error(r(308));Fl=o,oh.dependencies={lanes:0,firstContext:o}}else Fl=Fl.next=o;return a}var Sa=null;function $m(o){Sa===null?Sa=[o]:Sa.push(o)}function wx(o,a,h,g){var _=a.interleaved;return _===null?(h.next=h,$m(a)):(h.next=_.next,_.next=h),a.interleaved=h,As(o,g)}function As(o,a){o.lanes|=a;var h=o.alternate;for(h!==null&&(h.lanes|=a),h=o,o=o.return;o!==null;)o.childLanes|=a,h=o.alternate,h!==null&&(h.childLanes|=a),h=o,o=o.return;return h.tag===3?h.stateNode:null}var Ei=!1;function Fm(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function jx(o,a){o=o.updateQueue,a.updateQueue===o&&(a.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,effects:o.effects})}function Os(o,a){return{eventTime:o,lane:a,tag:0,payload:null,callback:null,next:null}}function Ni(o,a,h){var g=o.updateQueue;if(g===null)return null;if(g=g.shared,(Et&2)!==0){var _=g.pending;return _===null?a.next=a:(a.next=_.next,_.next=a),g.pending=a,As(o,h)}return _=g.interleaved,_===null?(a.next=a,$m(g)):(a.next=_.next,_.next=a),g.interleaved=a,As(o,h)}function sh(o,a,h){if(a=a.updateQueue,a!==null&&(a=a.shared,(h&4194240)!==0)){var g=a.lanes;g&=o.pendingLanes,h|=g,a.lanes=h,go(o,h)}}function Sx(o,a){var h=o.updateQueue,g=o.alternate;if(g!==null&&(g=g.updateQueue,h===g)){var _=null,j=null;if(h=h.firstBaseUpdate,h!==null){do{var M={eventTime:h.eventTime,lane:h.lane,tag:h.tag,payload:h.payload,callback:h.callback,next:null};j===null?_=j=M:j=j.next=M,h=h.next}while(h!==null);j===null?_=j=a:j=j.next=a}else _=j=a;h={baseState:g.baseState,firstBaseUpdate:_,lastBaseUpdate:j,shared:g.shared,effects:g.effects},o.updateQueue=h;return}o=h.lastBaseUpdate,o===null?h.firstBaseUpdate=a:o.next=a,h.lastBaseUpdate=a}function ih(o,a,h,g){var _=o.updateQueue;Ei=!1;var j=_.firstBaseUpdate,M=_.lastBaseUpdate,Z=_.shared.pending;if(Z!==null){_.shared.pending=null;var re=Z,ye=re.next;re.next=null,M===null?j=ye:M.next=ye,M=re;var ke=o.alternate;ke!==null&&(ke=ke.updateQueue,Z=ke.lastBaseUpdate,Z!==M&&(Z===null?ke.firstBaseUpdate=ye:Z.next=ye,ke.lastBaseUpdate=re))}if(j!==null){var Ae=_.baseState;M=0,ke=ye=re=null,Z=j;do{var Ce=Z.lane,Fe=Z.eventTime;if((g&Ce)===Ce){ke!==null&&(ke=ke.next={eventTime:Fe,lane:0,tag:Z.tag,payload:Z.payload,callback:Z.callback,next:null});e:{var We=o,Ge=Z;switch(Ce=a,Fe=h,Ge.tag){case 1:if(We=Ge.payload,typeof We=="function"){Ae=We.call(Fe,Ae,Ce);break e}Ae=We;break e;case 3:We.flags=We.flags&-65537|128;case 0:if(We=Ge.payload,Ce=typeof We=="function"?We.call(Fe,Ae,Ce):We,Ce==null)break e;Ae=ae({},Ae,Ce);break e;case 2:Ei=!0}}Z.callback!==null&&Z.lane!==0&&(o.flags|=64,Ce=_.effects,Ce===null?_.effects=[Z]:Ce.push(Z))}else Fe={eventTime:Fe,lane:Ce,tag:Z.tag,payload:Z.payload,callback:Z.callback,next:null},ke===null?(ye=ke=Fe,re=Ae):ke=ke.next=Fe,M|=Ce;if(Z=Z.next,Z===null){if(Z=_.shared.pending,Z===null)break;Ce=Z,Z=Ce.next,Ce.next=null,_.lastBaseUpdate=Ce,_.shared.pending=null}}while(!0);if(ke===null&&(re=Ae),_.baseState=re,_.firstBaseUpdate=ye,_.lastBaseUpdate=ke,a=_.shared.interleaved,a!==null){_=a;do M|=_.lane,_=_.next;while(_!==a)}else j===null&&(_.shared.lanes=0);Ca|=M,o.lanes=M,o.memoizedState=Ae}}function Ex(o,a,h){if(o=a.effects,a.effects=null,o!==null)for(a=0;a<o.length;a++){var g=o[a],_=g.callback;if(_!==null){if(g.callback=null,g=h,typeof _!="function")throw Error(r(191,_));_.call(g)}}}var jd={},Jo=wi(jd),Sd=wi(jd),Ed=wi(jd);function Ea(o){if(o===jd)throw Error(r(174));return o}function Um(o,a){switch(Wt(Ed,a),Wt(Sd,o),Wt(Jo,jd),o=a.nodeType,o){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:Hr(null,"");break;default:o=o===8?a.parentNode:a,a=o.namespaceURI||null,o=o.tagName,a=Hr(a,o)}Kt(Jo),Wt(Jo,a)}function ql(){Kt(Jo),Kt(Sd),Kt(Ed)}function Nx(o){Ea(Ed.current);var a=Ea(Jo.current),h=Hr(a,o.type);a!==h&&(Wt(Sd,o),Wt(Jo,h))}function qm(o){Sd.current===o&&(Kt(Jo),Kt(Sd))}var rr=wi(0);function ah(o){for(var a=o;a!==null;){if(a.tag===13){var h=a.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||h.data==="$?"||h.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===o)break;for(;a.sibling===null;){if(a.return===null||a.return===o)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var Wm=[];function Hm(){for(var o=0;o<Wm.length;o++)Wm[o]._workInProgressVersionPrimary=null;Wm.length=0}var lh=D.ReactCurrentDispatcher,Vm=D.ReactCurrentBatchConfig,Na=0,nr=null,kr=null,Mr=null,ch=!1,Nd=!1,Cd=0,XS=0;function Qr(){throw Error(r(321))}function Gm(o,a){if(a===null)return!1;for(var h=0;h<a.length&&h<o.length;h++)if(!Ln(o[h],a[h]))return!1;return!0}function Km(o,a,h,g,_,j){if(Na=j,nr=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,lh.current=o===null||o.memoizedState===null?nE:oE,o=h(g,_),Nd){j=0;do{if(Nd=!1,Cd=0,25<=j)throw Error(r(301));j+=1,Mr=kr=null,a.updateQueue=null,lh.current=sE,o=h(g,_)}while(Nd)}if(lh.current=hh,a=kr!==null&&kr.next!==null,Na=0,Mr=kr=nr=null,ch=!1,a)throw Error(r(300));return o}function Zm(){var o=Cd!==0;return Cd=0,o}function Xo(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Mr===null?nr.memoizedState=Mr=o:Mr=Mr.next=o,Mr}function no(){if(kr===null){var o=nr.alternate;o=o!==null?o.memoizedState:null}else o=kr.next;var a=Mr===null?nr.memoizedState:Mr.next;if(a!==null)Mr=a,kr=o;else{if(o===null)throw Error(r(310));kr=o,o={memoizedState:kr.memoizedState,baseState:kr.baseState,baseQueue:kr.baseQueue,queue:kr.queue,next:null},Mr===null?nr.memoizedState=Mr=o:Mr=Mr.next=o}return Mr}function kd(o,a){return typeof a=="function"?a(o):a}function Qm(o){var a=no(),h=a.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=o;var g=kr,_=g.baseQueue,j=h.pending;if(j!==null){if(_!==null){var M=_.next;_.next=j.next,j.next=M}g.baseQueue=_=j,h.pending=null}if(_!==null){j=_.next,g=g.baseState;var Z=M=null,re=null,ye=j;do{var ke=ye.lane;if((Na&ke)===ke)re!==null&&(re=re.next={lane:0,action:ye.action,hasEagerState:ye.hasEagerState,eagerState:ye.eagerState,next:null}),g=ye.hasEagerState?ye.eagerState:o(g,ye.action);else{var Ae={lane:ke,action:ye.action,hasEagerState:ye.hasEagerState,eagerState:ye.eagerState,next:null};re===null?(Z=re=Ae,M=g):re=re.next=Ae,nr.lanes|=ke,Ca|=ke}ye=ye.next}while(ye!==null&&ye!==j);re===null?M=g:re.next=Z,Ln(g,a.memoizedState)||(xn=!0),a.memoizedState=g,a.baseState=M,a.baseQueue=re,h.lastRenderedState=g}if(o=h.interleaved,o!==null){_=o;do j=_.lane,nr.lanes|=j,Ca|=j,_=_.next;while(_!==o)}else _===null&&(h.lanes=0);return[a.memoizedState,h.dispatch]}function Ym(o){var a=no(),h=a.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=o;var g=h.dispatch,_=h.pending,j=a.memoizedState;if(_!==null){h.pending=null;var M=_=_.next;do j=o(j,M.action),M=M.next;while(M!==_);Ln(j,a.memoizedState)||(xn=!0),a.memoizedState=j,a.baseQueue===null&&(a.baseState=j),h.lastRenderedState=j}return[j,g]}function Cx(){}function kx(o,a){var h=nr,g=no(),_=a(),j=!Ln(g.memoizedState,_);if(j&&(g.memoizedState=_,xn=!0),g=g.queue,Jm(Rx.bind(null,h,g,o),[o]),g.getSnapshot!==a||j||Mr!==null&&Mr.memoizedState.tag&1){if(h.flags|=2048,Pd(9,Tx.bind(null,h,g,_,a),void 0,null),Lr===null)throw Error(r(349));(Na&30)!==0||Px(h,a,_)}return _}function Px(o,a,h){o.flags|=16384,o={getSnapshot:a,value:h},a=nr.updateQueue,a===null?(a={lastEffect:null,stores:null},nr.updateQueue=a,a.stores=[o]):(h=a.stores,h===null?a.stores=[o]:h.push(o))}function Tx(o,a,h,g){a.value=h,a.getSnapshot=g,Ax(a)&&Ox(o)}function Rx(o,a,h){return h(function(){Ax(a)&&Ox(o)})}function Ax(o){var a=o.getSnapshot;o=o.value;try{var h=a();return!Ln(o,h)}catch{return!0}}function Ox(o){var a=As(o,1);a!==null&&Eo(a,o,1,-1)}function Mx(o){var a=Xo();return typeof o=="function"&&(o=o()),a.memoizedState=a.baseState=o,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:kd,lastRenderedState:o},a.queue=o,o=o.dispatch=rE.bind(null,nr,o),[a.memoizedState,o]}function Pd(o,a,h,g){return o={tag:o,create:a,destroy:h,deps:g,next:null},a=nr.updateQueue,a===null?(a={lastEffect:null,stores:null},nr.updateQueue=a,a.lastEffect=o.next=o):(h=a.lastEffect,h===null?a.lastEffect=o.next=o:(g=h.next,h.next=o,o.next=g,a.lastEffect=o)),o}function Lx(){return no().memoizedState}function dh(o,a,h,g){var _=Xo();nr.flags|=o,_.memoizedState=Pd(1|a,h,void 0,g===void 0?null:g)}function uh(o,a,h,g){var _=no();g=g===void 0?null:g;var j=void 0;if(kr!==null){var M=kr.memoizedState;if(j=M.destroy,g!==null&&Gm(g,M.deps)){_.memoizedState=Pd(a,h,j,g);return}}nr.flags|=o,_.memoizedState=Pd(1|a,h,j,g)}function Ix(o,a){return dh(8390656,8,o,a)}function Jm(o,a){return uh(2048,8,o,a)}function Dx(o,a){return uh(4,2,o,a)}function Bx(o,a){return uh(4,4,o,a)}function zx(o,a){if(typeof a=="function")return o=o(),a(o),function(){a(null)};if(a!=null)return o=o(),a.current=o,function(){a.current=null}}function $x(o,a,h){return h=h!=null?h.concat([o]):null,uh(4,4,zx.bind(null,a,o),h)}function Xm(){}function Fx(o,a){var h=no();a=a===void 0?null:a;var g=h.memoizedState;return g!==null&&a!==null&&Gm(a,g[1])?g[0]:(h.memoizedState=[o,a],o)}function Ux(o,a){var h=no();a=a===void 0?null:a;var g=h.memoizedState;return g!==null&&a!==null&&Gm(a,g[1])?g[0]:(o=o(),h.memoizedState=[o,a],o)}function qx(o,a,h){return(Na&21)===0?(o.baseState&&(o.baseState=!1,xn=!0),o.memoizedState=h):(Ln(h,a)||(h=Cu(),nr.lanes|=h,Ca|=h,o.baseState=!0),a)}function eE(o,a){var h=yt;yt=h!==0&&4>h?h:4,o(!0);var g=Vm.transition;Vm.transition={};try{o(!1),a()}finally{yt=h,Vm.transition=g}}function Wx(){return no().memoizedState}function tE(o,a,h){var g=Ti(o);if(h={lane:g,action:h,hasEagerState:!1,eagerState:null,next:null},Hx(o))Vx(a,h);else if(h=wx(o,a,h,g),h!==null){var _=ln();Eo(h,o,g,_),Gx(h,a,g)}}function rE(o,a,h){var g=Ti(o),_={lane:g,action:h,hasEagerState:!1,eagerState:null,next:null};if(Hx(o))Vx(a,_);else{var j=o.alternate;if(o.lanes===0&&(j===null||j.lanes===0)&&(j=a.lastRenderedReducer,j!==null))try{var M=a.lastRenderedState,Z=j(M,h);if(_.hasEagerState=!0,_.eagerState=Z,Ln(Z,M)){var re=a.interleaved;re===null?(_.next=_,$m(a)):(_.next=re.next,re.next=_),a.interleaved=_;return}}catch{}finally{}h=wx(o,a,_,g),h!==null&&(_=ln(),Eo(h,o,g,_),Gx(h,a,g))}}function Hx(o){var a=o.alternate;return o===nr||a!==null&&a===nr}function Vx(o,a){Nd=ch=!0;var h=o.pending;h===null?a.next=a:(a.next=h.next,h.next=a),o.pending=a}function Gx(o,a,h){if((h&4194240)!==0){var g=a.lanes;g&=o.pendingLanes,h|=g,a.lanes=h,go(o,h)}}var hh={readContext:ro,useCallback:Qr,useContext:Qr,useEffect:Qr,useImperativeHandle:Qr,useInsertionEffect:Qr,useLayoutEffect:Qr,useMemo:Qr,useReducer:Qr,useRef:Qr,useState:Qr,useDebugValue:Qr,useDeferredValue:Qr,useTransition:Qr,useMutableSource:Qr,useSyncExternalStore:Qr,useId:Qr,unstable_isNewReconciler:!1},nE={readContext:ro,useCallback:function(o,a){return Xo().memoizedState=[o,a===void 0?null:a],o},useContext:ro,useEffect:Ix,useImperativeHandle:function(o,a,h){return h=h!=null?h.concat([o]):null,dh(4194308,4,zx.bind(null,a,o),h)},useLayoutEffect:function(o,a){return dh(4194308,4,o,a)},useInsertionEffect:function(o,a){return dh(4,2,o,a)},useMemo:function(o,a){var h=Xo();return a=a===void 0?null:a,o=o(),h.memoizedState=[o,a],o},useReducer:function(o,a,h){var g=Xo();return a=h!==void 0?h(a):a,g.memoizedState=g.baseState=a,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:a},g.queue=o,o=o.dispatch=tE.bind(null,nr,o),[g.memoizedState,o]},useRef:function(o){var a=Xo();return o={current:o},a.memoizedState=o},useState:Mx,useDebugValue:Xm,useDeferredValue:function(o){return Xo().memoizedState=o},useTransition:function(){var o=Mx(!1),a=o[0];return o=eE.bind(null,o[1]),Xo().memoizedState=o,[a,o]},useMutableSource:function(){},useSyncExternalStore:function(o,a,h){var g=nr,_=Xo();if(Qt){if(h===void 0)throw Error(r(407));h=h()}else{if(h=a(),Lr===null)throw Error(r(349));(Na&30)!==0||Px(g,a,h)}_.memoizedState=h;var j={value:h,getSnapshot:a};return _.queue=j,Ix(Rx.bind(null,g,j,o),[o]),g.flags|=2048,Pd(9,Tx.bind(null,g,j,h,a),void 0,null),h},useId:function(){var o=Xo(),a=Lr.identifierPrefix;if(Qt){var h=Rs,g=Ts;h=(g&~(1<<32-ht(g)-1)).toString(32)+h,a=":"+a+"R"+h,h=Cd++,0<h&&(a+="H"+h.toString(32)),a+=":"}else h=XS++,a=":"+a+"r"+h.toString(32)+":";return o.memoizedState=a},unstable_isNewReconciler:!1},oE={readContext:ro,useCallback:Fx,useContext:ro,useEffect:Jm,useImperativeHandle:$x,useInsertionEffect:Dx,useLayoutEffect:Bx,useMemo:Ux,useReducer:Qm,useRef:Lx,useState:function(){return Qm(kd)},useDebugValue:Xm,useDeferredValue:function(o){var a=no();return qx(a,kr.memoizedState,o)},useTransition:function(){var o=Qm(kd)[0],a=no().memoizedState;return[o,a]},useMutableSource:Cx,useSyncExternalStore:kx,useId:Wx,unstable_isNewReconciler:!1},sE={readContext:ro,useCallback:Fx,useContext:ro,useEffect:Jm,useImperativeHandle:$x,useInsertionEffect:Dx,useLayoutEffect:Bx,useMemo:Ux,useReducer:Ym,useRef:Lx,useState:function(){return Ym(kd)},useDebugValue:Xm,useDeferredValue:function(o){var a=no();return kr===null?a.memoizedState=o:qx(a,kr.memoizedState,o)},useTransition:function(){var o=Ym(kd)[0],a=no().memoizedState;return[o,a]},useMutableSource:Cx,useSyncExternalStore:kx,useId:Wx,unstable_isNewReconciler:!1};function wo(o,a){if(o&&o.defaultProps){a=ae({},a),o=o.defaultProps;for(var h in o)a[h]===void 0&&(a[h]=o[h]);return a}return a}function ep(o,a,h,g){a=o.memoizedState,h=h(g,a),h=h==null?a:ae({},a,h),o.memoizedState=h,o.lanes===0&&(o.updateQueue.baseState=h)}var fh={isMounted:function(o){return(o=o._reactInternals)?qo(o)===o:!1},enqueueSetState:function(o,a,h){o=o._reactInternals;var g=ln(),_=Ti(o),j=Os(g,_);j.payload=a,h!=null&&(j.callback=h),a=Ni(o,j,_),a!==null&&(Eo(a,o,_,g),sh(a,o,_))},enqueueReplaceState:function(o,a,h){o=o._reactInternals;var g=ln(),_=Ti(o),j=Os(g,_);j.tag=1,j.payload=a,h!=null&&(j.callback=h),a=Ni(o,j,_),a!==null&&(Eo(a,o,_,g),sh(a,o,_))},enqueueForceUpdate:function(o,a){o=o._reactInternals;var h=ln(),g=Ti(o),_=Os(h,g);_.tag=2,a!=null&&(_.callback=a),a=Ni(o,_,g),a!==null&&(Eo(a,o,g,h),sh(a,o,g))}};function Kx(o,a,h,g,_,j,M){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(g,j,M):a.prototype&&a.prototype.isPureReactComponent?!Ko(h,g)||!Ko(_,j):!0}function Zx(o,a,h){var g=!1,_=ji,j=a.contextType;return typeof j=="object"&&j!==null?j=ro(j):(_=vn(a)?_a:Zr.current,g=a.contextTypes,j=(g=g!=null)?Il(o,_):ji),a=new a(h,j),o.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=fh,o.stateNode=a,a._reactInternals=o,g&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=_,o.__reactInternalMemoizedMaskedChildContext=j),a}function Qx(o,a,h,g){o=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(h,g),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(h,g),a.state!==o&&fh.enqueueReplaceState(a,a.state,null)}function tp(o,a,h,g){var _=o.stateNode;_.props=h,_.state=o.memoizedState,_.refs={},Fm(o);var j=a.contextType;typeof j=="object"&&j!==null?_.context=ro(j):(j=vn(a)?_a:Zr.current,_.context=Il(o,j)),_.state=o.memoizedState,j=a.getDerivedStateFromProps,typeof j=="function"&&(ep(o,a,j,h),_.state=o.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(a=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),a!==_.state&&fh.enqueueReplaceState(_,_.state,null),ih(o,h,_,g),_.state=o.memoizedState),typeof _.componentDidMount=="function"&&(o.flags|=4194308)}function Wl(o,a){try{var h="",g=a;do h+=le(g),g=g.return;while(g);var _=h}catch(j){_=`
Error generating stack: `+j.message+`
`+j.stack}return{value:o,source:a,stack:_,digest:null}}function rp(o,a,h){return{value:o,source:null,stack:h??null,digest:a??null}}function np(o,a){try{console.error(a.value)}catch(h){setTimeout(function(){throw h})}}var iE=typeof WeakMap=="function"?WeakMap:Map;function Yx(o,a,h){h=Os(-1,h),h.tag=3,h.payload={element:null};var g=a.value;return h.callback=function(){bh||(bh=!0,xp=g),np(o,a)},h}function Jx(o,a,h){h=Os(-1,h),h.tag=3;var g=o.type.getDerivedStateFromError;if(typeof g=="function"){var _=a.value;h.payload=function(){return g(_)},h.callback=function(){np(o,a)}}var j=o.stateNode;return j!==null&&typeof j.componentDidCatch=="function"&&(h.callback=function(){np(o,a),typeof g!="function"&&(ki===null?ki=new Set([this]):ki.add(this));var M=a.stack;this.componentDidCatch(a.value,{componentStack:M!==null?M:""})}),h}function Xx(o,a,h){var g=o.pingCache;if(g===null){g=o.pingCache=new iE;var _=new Set;g.set(a,_)}else _=g.get(a),_===void 0&&(_=new Set,g.set(a,_));_.has(h)||(_.add(h),o=bE.bind(null,o,a,h),a.then(o,o))}function e0(o){do{var a;if((a=o.tag===13)&&(a=o.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return o;o=o.return}while(o!==null);return null}function t0(o,a,h,g,_){return(o.mode&1)===0?(o===a?o.flags|=65536:(o.flags|=128,h.flags|=131072,h.flags&=-52805,h.tag===1&&(h.alternate===null?h.tag=17:(a=Os(-1,1),a.tag=2,Ni(h,a,1))),h.lanes|=1),o):(o.flags|=65536,o.lanes=_,o)}var aE=D.ReactCurrentOwner,xn=!1;function an(o,a,h,g){a.child=o===null?_x(a,null,h,g):$l(a,o.child,h,g)}function r0(o,a,h,g,_){h=h.render;var j=a.ref;return Ul(a,_),g=Km(o,a,h,g,j,_),h=Zm(),o!==null&&!xn?(a.updateQueue=o.updateQueue,a.flags&=-2053,o.lanes&=~_,Ms(o,a,_)):(Qt&&h&&Rm(a),a.flags|=1,an(o,a,g,_),a.child)}function n0(o,a,h,g,_){if(o===null){var j=h.type;return typeof j=="function"&&!Ep(j)&&j.defaultProps===void 0&&h.compare===null&&h.defaultProps===void 0?(a.tag=15,a.type=j,o0(o,a,j,g,_)):(o=Nh(h.type,null,g,a,a.mode,_),o.ref=a.ref,o.return=a,a.child=o)}if(j=o.child,(o.lanes&_)===0){var M=j.memoizedProps;if(h=h.compare,h=h!==null?h:Ko,h(M,g)&&o.ref===a.ref)return Ms(o,a,_)}return a.flags|=1,o=Ai(j,g),o.ref=a.ref,o.return=a,a.child=o}function o0(o,a,h,g,_){if(o!==null){var j=o.memoizedProps;if(Ko(j,g)&&o.ref===a.ref)if(xn=!1,a.pendingProps=g=j,(o.lanes&_)!==0)(o.flags&131072)!==0&&(xn=!0);else return a.lanes=o.lanes,Ms(o,a,_)}return op(o,a,h,g,_)}function s0(o,a,h){var g=a.pendingProps,_=g.children,j=o!==null?o.memoizedState:null;if(g.mode==="hidden")if((a.mode&1)===0)a.memoizedState={baseLanes:0,cachePool:null,transitions:null},Wt(Vl,zn),zn|=h;else{if((h&1073741824)===0)return o=j!==null?j.baseLanes|h:h,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:o,cachePool:null,transitions:null},a.updateQueue=null,Wt(Vl,zn),zn|=o,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},g=j!==null?j.baseLanes:h,Wt(Vl,zn),zn|=g}else j!==null?(g=j.baseLanes|h,a.memoizedState=null):g=h,Wt(Vl,zn),zn|=g;return an(o,a,_,h),a.child}function i0(o,a){var h=a.ref;(o===null&&h!==null||o!==null&&o.ref!==h)&&(a.flags|=512,a.flags|=2097152)}function op(o,a,h,g,_){var j=vn(h)?_a:Zr.current;return j=Il(a,j),Ul(a,_),h=Km(o,a,h,g,j,_),g=Zm(),o!==null&&!xn?(a.updateQueue=o.updateQueue,a.flags&=-2053,o.lanes&=~_,Ms(o,a,_)):(Qt&&g&&Rm(a),a.flags|=1,an(o,a,h,_),a.child)}function a0(o,a,h,g,_){if(vn(h)){var j=!0;Yu(a)}else j=!1;if(Ul(a,_),a.stateNode===null)ph(o,a),Zx(a,h,g),tp(a,h,g,_),g=!0;else if(o===null){var M=a.stateNode,Z=a.memoizedProps;M.props=Z;var re=M.context,ye=h.contextType;typeof ye=="object"&&ye!==null?ye=ro(ye):(ye=vn(h)?_a:Zr.current,ye=Il(a,ye));var ke=h.getDerivedStateFromProps,Ae=typeof ke=="function"||typeof M.getSnapshotBeforeUpdate=="function";Ae||typeof M.UNSAFE_componentWillReceiveProps!="function"&&typeof M.componentWillReceiveProps!="function"||(Z!==g||re!==ye)&&Qx(a,M,g,ye),Ei=!1;var Ce=a.memoizedState;M.state=Ce,ih(a,g,M,_),re=a.memoizedState,Z!==g||Ce!==re||gn.current||Ei?(typeof ke=="function"&&(ep(a,h,ke,g),re=a.memoizedState),(Z=Ei||Kx(a,h,Z,g,Ce,re,ye))?(Ae||typeof M.UNSAFE_componentWillMount!="function"&&typeof M.componentWillMount!="function"||(typeof M.componentWillMount=="function"&&M.componentWillMount(),typeof M.UNSAFE_componentWillMount=="function"&&M.UNSAFE_componentWillMount()),typeof M.componentDidMount=="function"&&(a.flags|=4194308)):(typeof M.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=g,a.memoizedState=re),M.props=g,M.state=re,M.context=ye,g=Z):(typeof M.componentDidMount=="function"&&(a.flags|=4194308),g=!1)}else{M=a.stateNode,jx(o,a),Z=a.memoizedProps,ye=a.type===a.elementType?Z:wo(a.type,Z),M.props=ye,Ae=a.pendingProps,Ce=M.context,re=h.contextType,typeof re=="object"&&re!==null?re=ro(re):(re=vn(h)?_a:Zr.current,re=Il(a,re));var Fe=h.getDerivedStateFromProps;(ke=typeof Fe=="function"||typeof M.getSnapshotBeforeUpdate=="function")||typeof M.UNSAFE_componentWillReceiveProps!="function"&&typeof M.componentWillReceiveProps!="function"||(Z!==Ae||Ce!==re)&&Qx(a,M,g,re),Ei=!1,Ce=a.memoizedState,M.state=Ce,ih(a,g,M,_);var We=a.memoizedState;Z!==Ae||Ce!==We||gn.current||Ei?(typeof Fe=="function"&&(ep(a,h,Fe,g),We=a.memoizedState),(ye=Ei||Kx(a,h,ye,g,Ce,We,re)||!1)?(ke||typeof M.UNSAFE_componentWillUpdate!="function"&&typeof M.componentWillUpdate!="function"||(typeof M.componentWillUpdate=="function"&&M.componentWillUpdate(g,We,re),typeof M.UNSAFE_componentWillUpdate=="function"&&M.UNSAFE_componentWillUpdate(g,We,re)),typeof M.componentDidUpdate=="function"&&(a.flags|=4),typeof M.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof M.componentDidUpdate!="function"||Z===o.memoizedProps&&Ce===o.memoizedState||(a.flags|=4),typeof M.getSnapshotBeforeUpdate!="function"||Z===o.memoizedProps&&Ce===o.memoizedState||(a.flags|=1024),a.memoizedProps=g,a.memoizedState=We),M.props=g,M.state=We,M.context=re,g=ye):(typeof M.componentDidUpdate!="function"||Z===o.memoizedProps&&Ce===o.memoizedState||(a.flags|=4),typeof M.getSnapshotBeforeUpdate!="function"||Z===o.memoizedProps&&Ce===o.memoizedState||(a.flags|=1024),g=!1)}return sp(o,a,h,g,j,_)}function sp(o,a,h,g,_,j){i0(o,a);var M=(a.flags&128)!==0;if(!g&&!M)return _&&hx(a,h,!1),Ms(o,a,j);g=a.stateNode,aE.current=a;var Z=M&&typeof h.getDerivedStateFromError!="function"?null:g.render();return a.flags|=1,o!==null&&M?(a.child=$l(a,o.child,null,j),a.child=$l(a,null,Z,j)):an(o,a,Z,j),a.memoizedState=g.state,_&&hx(a,h,!0),a.child}function l0(o){var a=o.stateNode;a.pendingContext?dx(o,a.pendingContext,a.pendingContext!==a.context):a.context&&dx(o,a.context,!1),Um(o,a.containerInfo)}function c0(o,a,h,g,_){return zl(),Lm(_),a.flags|=256,an(o,a,h,g),a.child}var ip={dehydrated:null,treeContext:null,retryLane:0};function ap(o){return{baseLanes:o,cachePool:null,transitions:null}}function d0(o,a,h){var g=a.pendingProps,_=rr.current,j=!1,M=(a.flags&128)!==0,Z;if((Z=M)||(Z=o!==null&&o.memoizedState===null?!1:(_&2)!==0),Z?(j=!0,a.flags&=-129):(o===null||o.memoizedState!==null)&&(_|=1),Wt(rr,_&1),o===null)return Mm(a),o=a.memoizedState,o!==null&&(o=o.dehydrated,o!==null)?((a.mode&1)===0?a.lanes=1:o.data==="$!"?a.lanes=8:a.lanes=1073741824,null):(M=g.children,o=g.fallback,j?(g=a.mode,j=a.child,M={mode:"hidden",children:M},(g&1)===0&&j!==null?(j.childLanes=0,j.pendingProps=M):j=Ch(M,g,0,null),o=Ra(o,g,h,null),j.return=a,o.return=a,j.sibling=o,a.child=j,a.child.memoizedState=ap(h),a.memoizedState=ip,o):lp(a,M));if(_=o.memoizedState,_!==null&&(Z=_.dehydrated,Z!==null))return lE(o,a,M,g,Z,_,h);if(j){j=g.fallback,M=a.mode,_=o.child,Z=_.sibling;var re={mode:"hidden",children:g.children};return(M&1)===0&&a.child!==_?(g=a.child,g.childLanes=0,g.pendingProps=re,a.deletions=null):(g=Ai(_,re),g.subtreeFlags=_.subtreeFlags&14680064),Z!==null?j=Ai(Z,j):(j=Ra(j,M,h,null),j.flags|=2),j.return=a,g.return=a,g.sibling=j,a.child=g,g=j,j=a.child,M=o.child.memoizedState,M=M===null?ap(h):{baseLanes:M.baseLanes|h,cachePool:null,transitions:M.transitions},j.memoizedState=M,j.childLanes=o.childLanes&~h,a.memoizedState=ip,g}return j=o.child,o=j.sibling,g=Ai(j,{mode:"visible",children:g.children}),(a.mode&1)===0&&(g.lanes=h),g.return=a,g.sibling=null,o!==null&&(h=a.deletions,h===null?(a.deletions=[o],a.flags|=16):h.push(o)),a.child=g,a.memoizedState=null,g}function lp(o,a){return a=Ch({mode:"visible",children:a},o.mode,0,null),a.return=o,o.child=a}function mh(o,a,h,g){return g!==null&&Lm(g),$l(a,o.child,null,h),o=lp(a,a.pendingProps.children),o.flags|=2,a.memoizedState=null,o}function lE(o,a,h,g,_,j,M){if(h)return a.flags&256?(a.flags&=-257,g=rp(Error(r(422))),mh(o,a,M,g)):a.memoizedState!==null?(a.child=o.child,a.flags|=128,null):(j=g.fallback,_=a.mode,g=Ch({mode:"visible",children:g.children},_,0,null),j=Ra(j,_,M,null),j.flags|=2,g.return=a,j.return=a,g.sibling=j,a.child=g,(a.mode&1)!==0&&$l(a,o.child,null,M),a.child.memoizedState=ap(M),a.memoizedState=ip,j);if((a.mode&1)===0)return mh(o,a,M,null);if(_.data==="$!"){if(g=_.nextSibling&&_.nextSibling.dataset,g)var Z=g.dgst;return g=Z,j=Error(r(419)),g=rp(j,g,void 0),mh(o,a,M,g)}if(Z=(M&o.childLanes)!==0,xn||Z){if(g=Lr,g!==null){switch(M&-M){case 4:_=2;break;case 16:_=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:_=32;break;case 536870912:_=268435456;break;default:_=0}_=(_&(g.suspendedLanes|M))!==0?0:_,_!==0&&_!==j.retryLane&&(j.retryLane=_,As(o,_),Eo(g,o,_,-1))}return Sp(),g=rp(Error(r(421))),mh(o,a,M,g)}return _.data==="$?"?(a.flags|=128,a.child=o.child,a=_E.bind(null,o),_._reactRetry=a,null):(o=j.treeContext,Bn=Yo(_.nextSibling),Dn=a,Qt=!0,_o=null,o!==null&&(eo[to++]=Ts,eo[to++]=Rs,eo[to++]=wa,Ts=o.id,Rs=o.overflow,wa=a),a=lp(a,g.children),a.flags|=4096,a)}function u0(o,a,h){o.lanes|=a;var g=o.alternate;g!==null&&(g.lanes|=a),zm(o.return,a,h)}function cp(o,a,h,g,_){var j=o.memoizedState;j===null?o.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:g,tail:h,tailMode:_}:(j.isBackwards=a,j.rendering=null,j.renderingStartTime=0,j.last=g,j.tail=h,j.tailMode=_)}function h0(o,a,h){var g=a.pendingProps,_=g.revealOrder,j=g.tail;if(an(o,a,g.children,h),g=rr.current,(g&2)!==0)g=g&1|2,a.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=a.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&u0(o,h,a);else if(o.tag===19)u0(o,h,a);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break e;for(;o.sibling===null;){if(o.return===null||o.return===a)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}g&=1}if(Wt(rr,g),(a.mode&1)===0)a.memoizedState=null;else switch(_){case"forwards":for(h=a.child,_=null;h!==null;)o=h.alternate,o!==null&&ah(o)===null&&(_=h),h=h.sibling;h=_,h===null?(_=a.child,a.child=null):(_=h.sibling,h.sibling=null),cp(a,!1,_,h,j);break;case"backwards":for(h=null,_=a.child,a.child=null;_!==null;){if(o=_.alternate,o!==null&&ah(o)===null){a.child=_;break}o=_.sibling,_.sibling=h,h=_,_=o}cp(a,!0,h,null,j);break;case"together":cp(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function ph(o,a){(a.mode&1)===0&&o!==null&&(o.alternate=null,a.alternate=null,a.flags|=2)}function Ms(o,a,h){if(o!==null&&(a.dependencies=o.dependencies),Ca|=a.lanes,(h&a.childLanes)===0)return null;if(o!==null&&a.child!==o.child)throw Error(r(153));if(a.child!==null){for(o=a.child,h=Ai(o,o.pendingProps),a.child=h,h.return=a;o.sibling!==null;)o=o.sibling,h=h.sibling=Ai(o,o.pendingProps),h.return=a;h.sibling=null}return a.child}function cE(o,a,h){switch(a.tag){case 3:l0(a),zl();break;case 5:Nx(a);break;case 1:vn(a.type)&&Yu(a);break;case 4:Um(a,a.stateNode.containerInfo);break;case 10:var g=a.type._context,_=a.memoizedProps.value;Wt(nh,g._currentValue),g._currentValue=_;break;case 13:if(g=a.memoizedState,g!==null)return g.dehydrated!==null?(Wt(rr,rr.current&1),a.flags|=128,null):(h&a.child.childLanes)!==0?d0(o,a,h):(Wt(rr,rr.current&1),o=Ms(o,a,h),o!==null?o.sibling:null);Wt(rr,rr.current&1);break;case 19:if(g=(h&a.childLanes)!==0,(o.flags&128)!==0){if(g)return h0(o,a,h);a.flags|=128}if(_=a.memoizedState,_!==null&&(_.rendering=null,_.tail=null,_.lastEffect=null),Wt(rr,rr.current),g)break;return null;case 22:case 23:return a.lanes=0,s0(o,a,h)}return Ms(o,a,h)}var f0,dp,m0,p0;f0=function(o,a){for(var h=a.child;h!==null;){if(h.tag===5||h.tag===6)o.appendChild(h.stateNode);else if(h.tag!==4&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===a)break;for(;h.sibling===null;){if(h.return===null||h.return===a)return;h=h.return}h.sibling.return=h.return,h=h.sibling}},dp=function(){},m0=function(o,a,h,g){var _=o.memoizedProps;if(_!==g){o=a.stateNode,Ea(Jo.current);var j=null;switch(h){case"input":_=it(o,_),g=it(o,g),j=[];break;case"select":_=ae({},_,{value:void 0}),g=ae({},g,{value:void 0}),j=[];break;case"textarea":_=jt(o,_),g=jt(o,g),j=[];break;default:typeof _.onClick!="function"&&typeof g.onClick=="function"&&(o.onclick=Ne)}Re(h,g);var M;h=null;for(ye in _)if(!g.hasOwnProperty(ye)&&_.hasOwnProperty(ye)&&_[ye]!=null)if(ye==="style"){var Z=_[ye];for(M in Z)Z.hasOwnProperty(M)&&(h||(h={}),h[M]="")}else ye!=="dangerouslySetInnerHTML"&&ye!=="children"&&ye!=="suppressContentEditableWarning"&&ye!=="suppressHydrationWarning"&&ye!=="autoFocus"&&(l.hasOwnProperty(ye)?j||(j=[]):(j=j||[]).push(ye,null));for(ye in g){var re=g[ye];if(Z=_!=null?_[ye]:void 0,g.hasOwnProperty(ye)&&re!==Z&&(re!=null||Z!=null))if(ye==="style")if(Z){for(M in Z)!Z.hasOwnProperty(M)||re&&re.hasOwnProperty(M)||(h||(h={}),h[M]="");for(M in re)re.hasOwnProperty(M)&&Z[M]!==re[M]&&(h||(h={}),h[M]=re[M])}else h||(j||(j=[]),j.push(ye,h)),h=re;else ye==="dangerouslySetInnerHTML"?(re=re?re.__html:void 0,Z=Z?Z.__html:void 0,re!=null&&Z!==re&&(j=j||[]).push(ye,re)):ye==="children"?typeof re!="string"&&typeof re!="number"||(j=j||[]).push(ye,""+re):ye!=="suppressContentEditableWarning"&&ye!=="suppressHydrationWarning"&&(l.hasOwnProperty(ye)?(re!=null&&ye==="onScroll"&&Bt("scroll",o),j||Z===re||(j=[])):(j=j||[]).push(ye,re))}h&&(j=j||[]).push("style",h);var ye=j;(a.updateQueue=ye)&&(a.flags|=4)}},p0=function(o,a,h,g){h!==g&&(a.flags|=4)};function Td(o,a){if(!Qt)switch(o.tailMode){case"hidden":a=o.tail;for(var h=null;a!==null;)a.alternate!==null&&(h=a),a=a.sibling;h===null?o.tail=null:h.sibling=null;break;case"collapsed":h=o.tail;for(var g=null;h!==null;)h.alternate!==null&&(g=h),h=h.sibling;g===null?a||o.tail===null?o.tail=null:o.tail.sibling=null:g.sibling=null}}function Yr(o){var a=o.alternate!==null&&o.alternate.child===o.child,h=0,g=0;if(a)for(var _=o.child;_!==null;)h|=_.lanes|_.childLanes,g|=_.subtreeFlags&14680064,g|=_.flags&14680064,_.return=o,_=_.sibling;else for(_=o.child;_!==null;)h|=_.lanes|_.childLanes,g|=_.subtreeFlags,g|=_.flags,_.return=o,_=_.sibling;return o.subtreeFlags|=g,o.childLanes=h,a}function dE(o,a,h){var g=a.pendingProps;switch(Am(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Yr(a),null;case 1:return vn(a.type)&&Qu(),Yr(a),null;case 3:return g=a.stateNode,ql(),Kt(gn),Kt(Zr),Hm(),g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),(o===null||o.child===null)&&(th(a)?a.flags|=4:o===null||o.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,_o!==null&&(_p(_o),_o=null))),dp(o,a),Yr(a),null;case 5:qm(a);var _=Ea(Ed.current);if(h=a.type,o!==null&&a.stateNode!=null)m0(o,a,h,g,_),o.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!g){if(a.stateNode===null)throw Error(r(166));return Yr(a),null}if(o=Ea(Jo.current),th(a)){g=a.stateNode,h=a.type;var j=a.memoizedProps;switch(g[Xn]=a,g[bi]=j,o=(a.mode&1)!==0,h){case"dialog":Bt("cancel",g),Bt("close",g);break;case"iframe":case"object":case"embed":Bt("load",g);break;case"video":case"audio":for(_=0;_<vi.length;_++)Bt(vi[_],g);break;case"source":Bt("error",g);break;case"img":case"image":case"link":Bt("error",g),Bt("load",g);break;case"details":Bt("toggle",g);break;case"input":Lt(g,j),Bt("invalid",g);break;case"select":g._wrapperState={wasMultiple:!!j.multiple},Bt("invalid",g);break;case"textarea":Vt(g,j),Bt("invalid",g)}Re(h,j),_=null;for(var M in j)if(j.hasOwnProperty(M)){var Z=j[M];M==="children"?typeof Z=="string"?g.textContent!==Z&&(j.suppressHydrationWarning!==!0&&ve(g.textContent,Z,o),_=["children",Z]):typeof Z=="number"&&g.textContent!==""+Z&&(j.suppressHydrationWarning!==!0&&ve(g.textContent,Z,o),_=["children",""+Z]):l.hasOwnProperty(M)&&Z!=null&&M==="onScroll"&&Bt("scroll",g)}switch(h){case"input":$e(g),_t(g,j,!0);break;case"textarea":$e(g),Wn(g);break;case"select":case"option":break;default:typeof j.onClick=="function"&&(g.onclick=Ne)}g=_,a.updateQueue=g,g!==null&&(a.flags|=4)}else{M=_.nodeType===9?_:_.ownerDocument,o==="http://www.w3.org/1999/xhtml"&&(o=Or(h)),o==="http://www.w3.org/1999/xhtml"?h==="script"?(o=M.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild)):typeof g.is=="string"?o=M.createElement(h,{is:g.is}):(o=M.createElement(h),h==="select"&&(M=o,g.multiple?M.multiple=!0:g.size&&(M.size=g.size))):o=M.createElementNS(o,h),o[Xn]=a,o[bi]=g,f0(o,a,!1,!1),a.stateNode=o;e:{switch(M=at(h,g),h){case"dialog":Bt("cancel",o),Bt("close",o),_=g;break;case"iframe":case"object":case"embed":Bt("load",o),_=g;break;case"video":case"audio":for(_=0;_<vi.length;_++)Bt(vi[_],o);_=g;break;case"source":Bt("error",o),_=g;break;case"img":case"image":case"link":Bt("error",o),Bt("load",o),_=g;break;case"details":Bt("toggle",o),_=g;break;case"input":Lt(o,g),_=it(o,g),Bt("invalid",o);break;case"option":_=g;break;case"select":o._wrapperState={wasMultiple:!!g.multiple},_=ae({},g,{value:void 0}),Bt("invalid",o);break;case"textarea":Vt(o,g),_=jt(o,g),Bt("invalid",o);break;default:_=g}Re(h,_),Z=_;for(j in Z)if(Z.hasOwnProperty(j)){var re=Z[j];j==="style"?ge(o,re):j==="dangerouslySetInnerHTML"?(re=re?re.__html:void 0,re!=null&&Ee(o,re)):j==="children"?typeof re=="string"?(h!=="textarea"||re!=="")&&G(o,re):typeof re=="number"&&G(o,""+re):j!=="suppressContentEditableWarning"&&j!=="suppressHydrationWarning"&&j!=="autoFocus"&&(l.hasOwnProperty(j)?re!=null&&j==="onScroll"&&Bt("scroll",o):re!=null&&R(o,j,re,M))}switch(h){case"input":$e(o),_t(o,g,!1);break;case"textarea":$e(o),Wn(o);break;case"option":g.value!=null&&o.setAttribute("value",""+se(g.value));break;case"select":o.multiple=!!g.multiple,j=g.value,j!=null?xr(o,!!g.multiple,j,!1):g.defaultValue!=null&&xr(o,!!g.multiple,g.defaultValue,!0);break;default:typeof _.onClick=="function"&&(o.onclick=Ne)}switch(h){case"button":case"input":case"select":case"textarea":g=!!g.autoFocus;break e;case"img":g=!0;break e;default:g=!1}}g&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return Yr(a),null;case 6:if(o&&a.stateNode!=null)p0(o,a,o.memoizedProps,g);else{if(typeof g!="string"&&a.stateNode===null)throw Error(r(166));if(h=Ea(Ed.current),Ea(Jo.current),th(a)){if(g=a.stateNode,h=a.memoizedProps,g[Xn]=a,(j=g.nodeValue!==h)&&(o=Dn,o!==null))switch(o.tag){case 3:ve(g.nodeValue,h,(o.mode&1)!==0);break;case 5:o.memoizedProps.suppressHydrationWarning!==!0&&ve(g.nodeValue,h,(o.mode&1)!==0)}j&&(a.flags|=4)}else g=(h.nodeType===9?h:h.ownerDocument).createTextNode(g),g[Xn]=a,a.stateNode=g}return Yr(a),null;case 13:if(Kt(rr),g=a.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(Qt&&Bn!==null&&(a.mode&1)!==0&&(a.flags&128)===0)xx(),zl(),a.flags|=98560,j=!1;else if(j=th(a),g!==null&&g.dehydrated!==null){if(o===null){if(!j)throw Error(r(318));if(j=a.memoizedState,j=j!==null?j.dehydrated:null,!j)throw Error(r(317));j[Xn]=a}else zl(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Yr(a),j=!1}else _o!==null&&(_p(_o),_o=null),j=!0;if(!j)return a.flags&65536?a:null}return(a.flags&128)!==0?(a.lanes=h,a):(g=g!==null,g!==(o!==null&&o.memoizedState!==null)&&g&&(a.child.flags|=8192,(a.mode&1)!==0&&(o===null||(rr.current&1)!==0?Pr===0&&(Pr=3):Sp())),a.updateQueue!==null&&(a.flags|=4),Yr(a),null);case 4:return ql(),dp(o,a),o===null&&xi(a.stateNode.containerInfo),Yr(a),null;case 10:return Bm(a.type._context),Yr(a),null;case 17:return vn(a.type)&&Qu(),Yr(a),null;case 19:if(Kt(rr),j=a.memoizedState,j===null)return Yr(a),null;if(g=(a.flags&128)!==0,M=j.rendering,M===null)if(g)Td(j,!1);else{if(Pr!==0||o!==null&&(o.flags&128)!==0)for(o=a.child;o!==null;){if(M=ah(o),M!==null){for(a.flags|=128,Td(j,!1),g=M.updateQueue,g!==null&&(a.updateQueue=g,a.flags|=4),a.subtreeFlags=0,g=h,h=a.child;h!==null;)j=h,o=g,j.flags&=14680066,M=j.alternate,M===null?(j.childLanes=0,j.lanes=o,j.child=null,j.subtreeFlags=0,j.memoizedProps=null,j.memoizedState=null,j.updateQueue=null,j.dependencies=null,j.stateNode=null):(j.childLanes=M.childLanes,j.lanes=M.lanes,j.child=M.child,j.subtreeFlags=0,j.deletions=null,j.memoizedProps=M.memoizedProps,j.memoizedState=M.memoizedState,j.updateQueue=M.updateQueue,j.type=M.type,o=M.dependencies,j.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),h=h.sibling;return Wt(rr,rr.current&1|2),a.child}o=o.sibling}j.tail!==null&&er()>Gl&&(a.flags|=128,g=!0,Td(j,!1),a.lanes=4194304)}else{if(!g)if(o=ah(M),o!==null){if(a.flags|=128,g=!0,h=o.updateQueue,h!==null&&(a.updateQueue=h,a.flags|=4),Td(j,!0),j.tail===null&&j.tailMode==="hidden"&&!M.alternate&&!Qt)return Yr(a),null}else 2*er()-j.renderingStartTime>Gl&&h!==1073741824&&(a.flags|=128,g=!0,Td(j,!1),a.lanes=4194304);j.isBackwards?(M.sibling=a.child,a.child=M):(h=j.last,h!==null?h.sibling=M:a.child=M,j.last=M)}return j.tail!==null?(a=j.tail,j.rendering=a,j.tail=a.sibling,j.renderingStartTime=er(),a.sibling=null,h=rr.current,Wt(rr,g?h&1|2:h&1),a):(Yr(a),null);case 22:case 23:return jp(),g=a.memoizedState!==null,o!==null&&o.memoizedState!==null!==g&&(a.flags|=8192),g&&(a.mode&1)!==0?(zn&1073741824)!==0&&(Yr(a),a.subtreeFlags&6&&(a.flags|=8192)):Yr(a),null;case 24:return null;case 25:return null}throw Error(r(156,a.tag))}function uE(o,a){switch(Am(a),a.tag){case 1:return vn(a.type)&&Qu(),o=a.flags,o&65536?(a.flags=o&-65537|128,a):null;case 3:return ql(),Kt(gn),Kt(Zr),Hm(),o=a.flags,(o&65536)!==0&&(o&128)===0?(a.flags=o&-65537|128,a):null;case 5:return qm(a),null;case 13:if(Kt(rr),o=a.memoizedState,o!==null&&o.dehydrated!==null){if(a.alternate===null)throw Error(r(340));zl()}return o=a.flags,o&65536?(a.flags=o&-65537|128,a):null;case 19:return Kt(rr),null;case 4:return ql(),null;case 10:return Bm(a.type._context),null;case 22:case 23:return jp(),null;case 24:return null;default:return null}}var gh=!1,Jr=!1,hE=typeof WeakSet=="function"?WeakSet:Set,Ue=null;function Hl(o,a){var h=o.ref;if(h!==null)if(typeof h=="function")try{h(null)}catch(g){cr(o,a,g)}else h.current=null}function up(o,a,h){try{h()}catch(g){cr(o,a,g)}}var g0=!1;function fE(o,a){if(De=fa,o=fd(),md(o)){if("selectionStart"in o)var h={start:o.selectionStart,end:o.selectionEnd};else e:{h=(h=o.ownerDocument)&&h.defaultView||window;var g=h.getSelection&&h.getSelection();if(g&&g.rangeCount!==0){h=g.anchorNode;var _=g.anchorOffset,j=g.focusNode;g=g.focusOffset;try{h.nodeType,j.nodeType}catch{h=null;break e}var M=0,Z=-1,re=-1,ye=0,ke=0,Ae=o,Ce=null;t:for(;;){for(var Fe;Ae!==h||_!==0&&Ae.nodeType!==3||(Z=M+_),Ae!==j||g!==0&&Ae.nodeType!==3||(re=M+g),Ae.nodeType===3&&(M+=Ae.nodeValue.length),(Fe=Ae.firstChild)!==null;)Ce=Ae,Ae=Fe;for(;;){if(Ae===o)break t;if(Ce===h&&++ye===_&&(Z=M),Ce===j&&++ke===g&&(re=M),(Fe=Ae.nextSibling)!==null)break;Ae=Ce,Ce=Ae.parentNode}Ae=Fe}h=Z===-1||re===-1?null:{start:Z,end:re}}else h=null}h=h||{start:0,end:0}}else h=null;for(et={focusedElem:o,selectionRange:h},fa=!1,Ue=a;Ue!==null;)if(a=Ue,o=a.child,(a.subtreeFlags&1028)!==0&&o!==null)o.return=a,Ue=o;else for(;Ue!==null;){a=Ue;try{var We=a.alternate;if((a.flags&1024)!==0)switch(a.tag){case 0:case 11:case 15:break;case 1:if(We!==null){var Ge=We.memoizedProps,mr=We.memoizedState,ue=a.stateNode,oe=ue.getSnapshotBeforeUpdate(a.elementType===a.type?Ge:wo(a.type,Ge),mr);ue.__reactInternalSnapshotBeforeUpdate=oe}break;case 3:var fe=a.stateNode.containerInfo;fe.nodeType===1?fe.textContent="":fe.nodeType===9&&fe.documentElement&&fe.removeChild(fe.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(Oe){cr(a,a.return,Oe)}if(o=a.sibling,o!==null){o.return=a.return,Ue=o;break}Ue=a.return}return We=g0,g0=!1,We}function Rd(o,a,h){var g=a.updateQueue;if(g=g!==null?g.lastEffect:null,g!==null){var _=g=g.next;do{if((_.tag&o)===o){var j=_.destroy;_.destroy=void 0,j!==void 0&&up(a,h,j)}_=_.next}while(_!==g)}}function vh(o,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var h=a=a.next;do{if((h.tag&o)===o){var g=h.create;h.destroy=g()}h=h.next}while(h!==a)}}function hp(o){var a=o.ref;if(a!==null){var h=o.stateNode;switch(o.tag){case 5:o=h;break;default:o=h}typeof a=="function"?a(o):a.current=o}}function v0(o){var a=o.alternate;a!==null&&(o.alternate=null,v0(a)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(a=o.stateNode,a!==null&&(delete a[Xn],delete a[bi],delete a[_i],delete a[Cm],delete a[km])),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}function x0(o){return o.tag===5||o.tag===3||o.tag===4}function y0(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||x0(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function fp(o,a,h){var g=o.tag;if(g===5||g===6)o=o.stateNode,a?h.nodeType===8?h.parentNode.insertBefore(o,a):h.insertBefore(o,a):(h.nodeType===8?(a=h.parentNode,a.insertBefore(o,h)):(a=h,a.appendChild(o)),h=h._reactRootContainer,h!=null||a.onclick!==null||(a.onclick=Ne));else if(g!==4&&(o=o.child,o!==null))for(fp(o,a,h),o=o.sibling;o!==null;)fp(o,a,h),o=o.sibling}function mp(o,a,h){var g=o.tag;if(g===5||g===6)o=o.stateNode,a?h.insertBefore(o,a):h.appendChild(o);else if(g!==4&&(o=o.child,o!==null))for(mp(o,a,h),o=o.sibling;o!==null;)mp(o,a,h),o=o.sibling}var Fr=null,jo=!1;function Ci(o,a,h){for(h=h.child;h!==null;)b0(o,a,h),h=h.sibling}function b0(o,a,h){if(Pn&&typeof Pn.onCommitFiberUnmount=="function")try{Pn.onCommitFiberUnmount(aa,h)}catch{}switch(h.tag){case 5:Jr||Hl(h,a);case 6:var g=Fr,_=jo;Fr=null,Ci(o,a,h),Fr=g,jo=_,Fr!==null&&(jo?(o=Fr,h=h.stateNode,o.nodeType===8?o.parentNode.removeChild(h):o.removeChild(h)):Fr.removeChild(h.stateNode));break;case 18:Fr!==null&&(jo?(o=Fr,h=h.stateNode,o.nodeType===8?_d(o.parentNode,h):o.nodeType===1&&_d(o,h),An(o)):_d(Fr,h.stateNode));break;case 4:g=Fr,_=jo,Fr=h.stateNode.containerInfo,jo=!0,Ci(o,a,h),Fr=g,jo=_;break;case 0:case 11:case 14:case 15:if(!Jr&&(g=h.updateQueue,g!==null&&(g=g.lastEffect,g!==null))){_=g=g.next;do{var j=_,M=j.destroy;j=j.tag,M!==void 0&&((j&2)!==0||(j&4)!==0)&&up(h,a,M),_=_.next}while(_!==g)}Ci(o,a,h);break;case 1:if(!Jr&&(Hl(h,a),g=h.stateNode,typeof g.componentWillUnmount=="function"))try{g.props=h.memoizedProps,g.state=h.memoizedState,g.componentWillUnmount()}catch(Z){cr(h,a,Z)}Ci(o,a,h);break;case 21:Ci(o,a,h);break;case 22:h.mode&1?(Jr=(g=Jr)||h.memoizedState!==null,Ci(o,a,h),Jr=g):Ci(o,a,h);break;default:Ci(o,a,h)}}function _0(o){var a=o.updateQueue;if(a!==null){o.updateQueue=null;var h=o.stateNode;h===null&&(h=o.stateNode=new hE),a.forEach(function(g){var _=wE.bind(null,o,g);h.has(g)||(h.add(g),g.then(_,_))})}}function So(o,a){var h=a.deletions;if(h!==null)for(var g=0;g<h.length;g++){var _=h[g];try{var j=o,M=a,Z=M;e:for(;Z!==null;){switch(Z.tag){case 5:Fr=Z.stateNode,jo=!1;break e;case 3:Fr=Z.stateNode.containerInfo,jo=!0;break e;case 4:Fr=Z.stateNode.containerInfo,jo=!0;break e}Z=Z.return}if(Fr===null)throw Error(r(160));b0(j,M,_),Fr=null,jo=!1;var re=_.alternate;re!==null&&(re.return=null),_.return=null}catch(ye){cr(_,a,ye)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)w0(a,o),a=a.sibling}function w0(o,a){var h=o.alternate,g=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:if(So(a,o),es(o),g&4){try{Rd(3,o,o.return),vh(3,o)}catch(Ge){cr(o,o.return,Ge)}try{Rd(5,o,o.return)}catch(Ge){cr(o,o.return,Ge)}}break;case 1:So(a,o),es(o),g&512&&h!==null&&Hl(h,h.return);break;case 5:if(So(a,o),es(o),g&512&&h!==null&&Hl(h,h.return),o.flags&32){var _=o.stateNode;try{G(_,"")}catch(Ge){cr(o,o.return,Ge)}}if(g&4&&(_=o.stateNode,_!=null)){var j=o.memoizedProps,M=h!==null?h.memoizedProps:j,Z=o.type,re=o.updateQueue;if(o.updateQueue=null,re!==null)try{Z==="input"&&j.type==="radio"&&j.name!=null&&$t(_,j),at(Z,M);var ye=at(Z,j);for(M=0;M<re.length;M+=2){var ke=re[M],Ae=re[M+1];ke==="style"?ge(_,Ae):ke==="dangerouslySetInnerHTML"?Ee(_,Ae):ke==="children"?G(_,Ae):R(_,ke,Ae,ye)}switch(Z){case"input":Pt(_,j);break;case"textarea":kn(_,j);break;case"select":var Ce=_._wrapperState.wasMultiple;_._wrapperState.wasMultiple=!!j.multiple;var Fe=j.value;Fe!=null?xr(_,!!j.multiple,Fe,!1):Ce!==!!j.multiple&&(j.defaultValue!=null?xr(_,!!j.multiple,j.defaultValue,!0):xr(_,!!j.multiple,j.multiple?[]:"",!1))}_[bi]=j}catch(Ge){cr(o,o.return,Ge)}}break;case 6:if(So(a,o),es(o),g&4){if(o.stateNode===null)throw Error(r(162));_=o.stateNode,j=o.memoizedProps;try{_.nodeValue=j}catch(Ge){cr(o,o.return,Ge)}}break;case 3:if(So(a,o),es(o),g&4&&h!==null&&h.memoizedState.isDehydrated)try{An(a.containerInfo)}catch(Ge){cr(o,o.return,Ge)}break;case 4:So(a,o),es(o);break;case 13:So(a,o),es(o),_=o.child,_.flags&8192&&(j=_.memoizedState!==null,_.stateNode.isHidden=j,!j||_.alternate!==null&&_.alternate.memoizedState!==null||(vp=er())),g&4&&_0(o);break;case 22:if(ke=h!==null&&h.memoizedState!==null,o.mode&1?(Jr=(ye=Jr)||ke,So(a,o),Jr=ye):So(a,o),es(o),g&8192){if(ye=o.memoizedState!==null,(o.stateNode.isHidden=ye)&&!ke&&(o.mode&1)!==0)for(Ue=o,ke=o.child;ke!==null;){for(Ae=Ue=ke;Ue!==null;){switch(Ce=Ue,Fe=Ce.child,Ce.tag){case 0:case 11:case 14:case 15:Rd(4,Ce,Ce.return);break;case 1:Hl(Ce,Ce.return);var We=Ce.stateNode;if(typeof We.componentWillUnmount=="function"){g=Ce,h=Ce.return;try{a=g,We.props=a.memoizedProps,We.state=a.memoizedState,We.componentWillUnmount()}catch(Ge){cr(g,h,Ge)}}break;case 5:Hl(Ce,Ce.return);break;case 22:if(Ce.memoizedState!==null){E0(Ae);continue}}Fe!==null?(Fe.return=Ce,Ue=Fe):E0(Ae)}ke=ke.sibling}e:for(ke=null,Ae=o;;){if(Ae.tag===5){if(ke===null){ke=Ae;try{_=Ae.stateNode,ye?(j=_.style,typeof j.setProperty=="function"?j.setProperty("display","none","important"):j.display="none"):(Z=Ae.stateNode,re=Ae.memoizedProps.style,M=re!=null&&re.hasOwnProperty("display")?re.display:null,Z.style.display=ce("display",M))}catch(Ge){cr(o,o.return,Ge)}}}else if(Ae.tag===6){if(ke===null)try{Ae.stateNode.nodeValue=ye?"":Ae.memoizedProps}catch(Ge){cr(o,o.return,Ge)}}else if((Ae.tag!==22&&Ae.tag!==23||Ae.memoizedState===null||Ae===o)&&Ae.child!==null){Ae.child.return=Ae,Ae=Ae.child;continue}if(Ae===o)break e;for(;Ae.sibling===null;){if(Ae.return===null||Ae.return===o)break e;ke===Ae&&(ke=null),Ae=Ae.return}ke===Ae&&(ke=null),Ae.sibling.return=Ae.return,Ae=Ae.sibling}}break;case 19:So(a,o),es(o),g&4&&_0(o);break;case 21:break;default:So(a,o),es(o)}}function es(o){var a=o.flags;if(a&2){try{e:{for(var h=o.return;h!==null;){if(x0(h)){var g=h;break e}h=h.return}throw Error(r(160))}switch(g.tag){case 5:var _=g.stateNode;g.flags&32&&(G(_,""),g.flags&=-33);var j=y0(o);mp(o,j,_);break;case 3:case 4:var M=g.stateNode.containerInfo,Z=y0(o);fp(o,Z,M);break;default:throw Error(r(161))}}catch(re){cr(o,o.return,re)}o.flags&=-3}a&4096&&(o.flags&=-4097)}function mE(o,a,h){Ue=o,j0(o)}function j0(o,a,h){for(var g=(o.mode&1)!==0;Ue!==null;){var _=Ue,j=_.child;if(_.tag===22&&g){var M=_.memoizedState!==null||gh;if(!M){var Z=_.alternate,re=Z!==null&&Z.memoizedState!==null||Jr;Z=gh;var ye=Jr;if(gh=M,(Jr=re)&&!ye)for(Ue=_;Ue!==null;)M=Ue,re=M.child,M.tag===22&&M.memoizedState!==null?N0(_):re!==null?(re.return=M,Ue=re):N0(_);for(;j!==null;)Ue=j,j0(j),j=j.sibling;Ue=_,gh=Z,Jr=ye}S0(o)}else(_.subtreeFlags&8772)!==0&&j!==null?(j.return=_,Ue=j):S0(o)}}function S0(o){for(;Ue!==null;){var a=Ue;if((a.flags&8772)!==0){var h=a.alternate;try{if((a.flags&8772)!==0)switch(a.tag){case 0:case 11:case 15:Jr||vh(5,a);break;case 1:var g=a.stateNode;if(a.flags&4&&!Jr)if(h===null)g.componentDidMount();else{var _=a.elementType===a.type?h.memoizedProps:wo(a.type,h.memoizedProps);g.componentDidUpdate(_,h.memoizedState,g.__reactInternalSnapshotBeforeUpdate)}var j=a.updateQueue;j!==null&&Ex(a,j,g);break;case 3:var M=a.updateQueue;if(M!==null){if(h=null,a.child!==null)switch(a.child.tag){case 5:h=a.child.stateNode;break;case 1:h=a.child.stateNode}Ex(a,M,h)}break;case 5:var Z=a.stateNode;if(h===null&&a.flags&4){h=Z;var re=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":re.autoFocus&&h.focus();break;case"img":re.src&&(h.src=re.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var ye=a.alternate;if(ye!==null){var ke=ye.memoizedState;if(ke!==null){var Ae=ke.dehydrated;Ae!==null&&An(Ae)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}Jr||a.flags&512&&hp(a)}catch(Ce){cr(a,a.return,Ce)}}if(a===o){Ue=null;break}if(h=a.sibling,h!==null){h.return=a.return,Ue=h;break}Ue=a.return}}function E0(o){for(;Ue!==null;){var a=Ue;if(a===o){Ue=null;break}var h=a.sibling;if(h!==null){h.return=a.return,Ue=h;break}Ue=a.return}}function N0(o){for(;Ue!==null;){var a=Ue;try{switch(a.tag){case 0:case 11:case 15:var h=a.return;try{vh(4,a)}catch(re){cr(a,h,re)}break;case 1:var g=a.stateNode;if(typeof g.componentDidMount=="function"){var _=a.return;try{g.componentDidMount()}catch(re){cr(a,_,re)}}var j=a.return;try{hp(a)}catch(re){cr(a,j,re)}break;case 5:var M=a.return;try{hp(a)}catch(re){cr(a,M,re)}}}catch(re){cr(a,a.return,re)}if(a===o){Ue=null;break}var Z=a.sibling;if(Z!==null){Z.return=a.return,Ue=Z;break}Ue=a.return}}var pE=Math.ceil,xh=D.ReactCurrentDispatcher,pp=D.ReactCurrentOwner,oo=D.ReactCurrentBatchConfig,Et=0,Lr=null,_r=null,Ur=0,zn=0,Vl=wi(0),Pr=0,Ad=null,Ca=0,yh=0,gp=0,Od=null,yn=null,vp=0,Gl=1/0,Ls=null,bh=!1,xp=null,ki=null,_h=!1,Pi=null,wh=0,Md=0,yp=null,jh=-1,Sh=0;function ln(){return(Et&6)!==0?er():jh!==-1?jh:jh=er()}function Ti(o){return(o.mode&1)===0?1:(Et&2)!==0&&Ur!==0?Ur&-Ur:JS.transition!==null?(Sh===0&&(Sh=Cu()),Sh):(o=yt,o!==0||(o=window.event,o=o===void 0?16:vt(o.type)),o)}function Eo(o,a,h,g){if(50<Md)throw Md=0,yp=null,Error(r(185));Tn(o,h,g),((Et&2)===0||o!==Lr)&&(o===Lr&&((Et&2)===0&&(yh|=h),Pr===4&&Ri(o,Ur)),bn(o,g),h===1&&Et===0&&(a.mode&1)===0&&(Gl=er()+500,Ju&&Si()))}function bn(o,a){var h=o.callbackNode;fl(o,a);var g=qt(o,o===Lr?Ur:0);if(g===0)h!==null&&Zc(h),o.callbackNode=null,o.callbackPriority=0;else if(a=g&-g,o.callbackPriority!==a){if(h!=null&&Zc(h),a===1)o.tag===0?YS(k0.bind(null,o)):fx(k0.bind(null,o)),Kr(function(){(Et&6)===0&&Si()}),h=null;else{switch(si(g)){case 1:h=Qc;break;case 4:h=Nu;break;case 16:h=ul;break;case 536870912:h=ti;break;default:h=ul}h=I0(h,C0.bind(null,o))}o.callbackPriority=a,o.callbackNode=h}}function C0(o,a){if(jh=-1,Sh=0,(Et&6)!==0)throw Error(r(327));var h=o.callbackNode;if(Kl()&&o.callbackNode!==h)return null;var g=qt(o,o===Lr?Ur:0);if(g===0)return null;if((g&30)!==0||(g&o.expiredLanes)!==0||a)a=Eh(o,g);else{a=g;var _=Et;Et|=2;var j=T0();(Lr!==o||Ur!==a)&&(Ls=null,Gl=er()+500,Pa(o,a));do try{xE();break}catch(Z){P0(o,Z)}while(!0);Dm(),xh.current=j,Et=_,_r!==null?a=0:(Lr=null,Ur=0,a=Pr)}if(a!==0){if(a===2&&(_=Vr(o),_!==0&&(g=_,a=bp(o,_))),a===1)throw h=Ad,Pa(o,0),Ri(o,g),bn(o,er()),h;if(a===6)Ri(o,g);else{if(_=o.current.alternate,(g&30)===0&&!gE(_)&&(a=Eh(o,g),a===2&&(j=Vr(o),j!==0&&(g=j,a=bp(o,j))),a===1))throw h=Ad,Pa(o,0),Ri(o,g),bn(o,er()),h;switch(o.finishedWork=_,o.finishedLanes=g,a){case 0:case 1:throw Error(r(345));case 2:Ta(o,yn,Ls);break;case 3:if(Ri(o,g),(g&130023424)===g&&(a=vp+500-er(),10<a)){if(qt(o,0)!==0)break;if(_=o.suspendedLanes,(_&g)!==g){ln(),o.pingedLanes|=o.suspendedLanes&_;break}o.timeoutHandle=Cr(Ta.bind(null,o,yn,Ls),a);break}Ta(o,yn,Ls);break;case 4:if(Ri(o,g),(g&4194240)===g)break;for(a=o.eventTimes,_=-1;0<g;){var M=31-ht(g);j=1<<M,M=a[M],M>_&&(_=M),g&=~j}if(g=_,g=er()-g,g=(120>g?120:480>g?480:1080>g?1080:1920>g?1920:3e3>g?3e3:4320>g?4320:1960*pE(g/1960))-g,10<g){o.timeoutHandle=Cr(Ta.bind(null,o,yn,Ls),g);break}Ta(o,yn,Ls);break;case 5:Ta(o,yn,Ls);break;default:throw Error(r(329))}}}return bn(o,er()),o.callbackNode===h?C0.bind(null,o):null}function bp(o,a){var h=Od;return o.current.memoizedState.isDehydrated&&(Pa(o,a).flags|=256),o=Eh(o,a),o!==2&&(a=yn,yn=h,a!==null&&_p(a)),o}function _p(o){yn===null?yn=o:yn.push.apply(yn,o)}function gE(o){for(var a=o;;){if(a.flags&16384){var h=a.updateQueue;if(h!==null&&(h=h.stores,h!==null))for(var g=0;g<h.length;g++){var _=h[g],j=_.getSnapshot;_=_.value;try{if(!Ln(j(),_))return!1}catch{return!1}}}if(h=a.child,a.subtreeFlags&16384&&h!==null)h.return=a,a=h;else{if(a===o)break;for(;a.sibling===null;){if(a.return===null||a.return===o)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Ri(o,a){for(a&=~gp,a&=~yh,o.suspendedLanes|=a,o.pingedLanes&=~a,o=o.expirationTimes;0<a;){var h=31-ht(a),g=1<<h;o[h]=-1,a&=~g}}function k0(o){if((Et&6)!==0)throw Error(r(327));Kl();var a=qt(o,0);if((a&1)===0)return bn(o,er()),null;var h=Eh(o,a);if(o.tag!==0&&h===2){var g=Vr(o);g!==0&&(a=g,h=bp(o,g))}if(h===1)throw h=Ad,Pa(o,0),Ri(o,a),bn(o,er()),h;if(h===6)throw Error(r(345));return o.finishedWork=o.current.alternate,o.finishedLanes=a,Ta(o,yn,Ls),bn(o,er()),null}function wp(o,a){var h=Et;Et|=1;try{return o(a)}finally{Et=h,Et===0&&(Gl=er()+500,Ju&&Si())}}function ka(o){Pi!==null&&Pi.tag===0&&(Et&6)===0&&Kl();var a=Et;Et|=1;var h=oo.transition,g=yt;try{if(oo.transition=null,yt=1,o)return o()}finally{yt=g,oo.transition=h,Et=a,(Et&6)===0&&Si()}}function jp(){zn=Vl.current,Kt(Vl)}function Pa(o,a){o.finishedWork=null,o.finishedLanes=0;var h=o.timeoutHandle;if(h!==-1&&(o.timeoutHandle=-1,br(h)),_r!==null)for(h=_r.return;h!==null;){var g=h;switch(Am(g),g.tag){case 1:g=g.type.childContextTypes,g!=null&&Qu();break;case 3:ql(),Kt(gn),Kt(Zr),Hm();break;case 5:qm(g);break;case 4:ql();break;case 13:Kt(rr);break;case 19:Kt(rr);break;case 10:Bm(g.type._context);break;case 22:case 23:jp()}h=h.return}if(Lr=o,_r=o=Ai(o.current,null),Ur=zn=a,Pr=0,Ad=null,gp=yh=Ca=0,yn=Od=null,Sa!==null){for(a=0;a<Sa.length;a++)if(h=Sa[a],g=h.interleaved,g!==null){h.interleaved=null;var _=g.next,j=h.pending;if(j!==null){var M=j.next;j.next=_,g.next=M}h.pending=g}Sa=null}return o}function P0(o,a){do{var h=_r;try{if(Dm(),lh.current=hh,ch){for(var g=nr.memoizedState;g!==null;){var _=g.queue;_!==null&&(_.pending=null),g=g.next}ch=!1}if(Na=0,Mr=kr=nr=null,Nd=!1,Cd=0,pp.current=null,h===null||h.return===null){Pr=1,Ad=a,_r=null;break}e:{var j=o,M=h.return,Z=h,re=a;if(a=Ur,Z.flags|=32768,re!==null&&typeof re=="object"&&typeof re.then=="function"){var ye=re,ke=Z,Ae=ke.tag;if((ke.mode&1)===0&&(Ae===0||Ae===11||Ae===15)){var Ce=ke.alternate;Ce?(ke.updateQueue=Ce.updateQueue,ke.memoizedState=Ce.memoizedState,ke.lanes=Ce.lanes):(ke.updateQueue=null,ke.memoizedState=null)}var Fe=e0(M);if(Fe!==null){Fe.flags&=-257,t0(Fe,M,Z,j,a),Fe.mode&1&&Xx(j,ye,a),a=Fe,re=ye;var We=a.updateQueue;if(We===null){var Ge=new Set;Ge.add(re),a.updateQueue=Ge}else We.add(re);break e}else{if((a&1)===0){Xx(j,ye,a),Sp();break e}re=Error(r(426))}}else if(Qt&&Z.mode&1){var mr=e0(M);if(mr!==null){(mr.flags&65536)===0&&(mr.flags|=256),t0(mr,M,Z,j,a),Lm(Wl(re,Z));break e}}j=re=Wl(re,Z),Pr!==4&&(Pr=2),Od===null?Od=[j]:Od.push(j),j=M;do{switch(j.tag){case 3:j.flags|=65536,a&=-a,j.lanes|=a;var ue=Yx(j,re,a);Sx(j,ue);break e;case 1:Z=re;var oe=j.type,fe=j.stateNode;if((j.flags&128)===0&&(typeof oe.getDerivedStateFromError=="function"||fe!==null&&typeof fe.componentDidCatch=="function"&&(ki===null||!ki.has(fe)))){j.flags|=65536,a&=-a,j.lanes|=a;var Oe=Jx(j,Z,a);Sx(j,Oe);break e}}j=j.return}while(j!==null)}A0(h)}catch(Ze){a=Ze,_r===h&&h!==null&&(_r=h=h.return);continue}break}while(!0)}function T0(){var o=xh.current;return xh.current=hh,o===null?hh:o}function Sp(){(Pr===0||Pr===3||Pr===2)&&(Pr=4),Lr===null||(Ca&268435455)===0&&(yh&268435455)===0||Ri(Lr,Ur)}function Eh(o,a){var h=Et;Et|=2;var g=T0();(Lr!==o||Ur!==a)&&(Ls=null,Pa(o,a));do try{vE();break}catch(_){P0(o,_)}while(!0);if(Dm(),Et=h,xh.current=g,_r!==null)throw Error(r(261));return Lr=null,Ur=0,Pr}function vE(){for(;_r!==null;)R0(_r)}function xE(){for(;_r!==null&&!um();)R0(_r)}function R0(o){var a=L0(o.alternate,o,zn);o.memoizedProps=o.pendingProps,a===null?A0(o):_r=a,pp.current=null}function A0(o){var a=o;do{var h=a.alternate;if(o=a.return,(a.flags&32768)===0){if(h=dE(h,a,zn),h!==null){_r=h;return}}else{if(h=uE(h,a),h!==null){h.flags&=32767,_r=h;return}if(o!==null)o.flags|=32768,o.subtreeFlags=0,o.deletions=null;else{Pr=6,_r=null;return}}if(a=a.sibling,a!==null){_r=a;return}_r=a=o}while(a!==null);Pr===0&&(Pr=5)}function Ta(o,a,h){var g=yt,_=oo.transition;try{oo.transition=null,yt=1,yE(o,a,h,g)}finally{oo.transition=_,yt=g}return null}function yE(o,a,h,g){do Kl();while(Pi!==null);if((Et&6)!==0)throw Error(r(327));h=o.finishedWork;var _=o.finishedLanes;if(h===null)return null;if(o.finishedWork=null,o.finishedLanes=0,h===o.current)throw Error(r(177));o.callbackNode=null,o.callbackPriority=0;var j=h.lanes|h.childLanes;if(lr(o,j),o===Lr&&(_r=Lr=null,Ur=0),(h.subtreeFlags&2064)===0&&(h.flags&2064)===0||_h||(_h=!0,I0(ul,function(){return Kl(),null})),j=(h.flags&15990)!==0,(h.subtreeFlags&15990)!==0||j){j=oo.transition,oo.transition=null;var M=yt;yt=1;var Z=Et;Et|=4,pp.current=null,fE(o,h),w0(h,o),Yn(et),fa=!!De,et=De=null,o.current=h,mE(h),dl(),Et=Z,yt=M,oo.transition=j}else o.current=h;if(_h&&(_h=!1,Pi=o,wh=_),j=o.pendingLanes,j===0&&(ki=null),la(h.stateNode),bn(o,er()),a!==null)for(g=o.onRecoverableError,h=0;h<a.length;h++)_=a[h],g(_.value,{componentStack:_.stack,digest:_.digest});if(bh)throw bh=!1,o=xp,xp=null,o;return(wh&1)!==0&&o.tag!==0&&Kl(),j=o.pendingLanes,(j&1)!==0?o===yp?Md++:(Md=0,yp=o):Md=0,Si(),null}function Kl(){if(Pi!==null){var o=si(wh),a=oo.transition,h=yt;try{if(oo.transition=null,yt=16>o?16:o,Pi===null)var g=!1;else{if(o=Pi,Pi=null,wh=0,(Et&6)!==0)throw Error(r(331));var _=Et;for(Et|=4,Ue=o.current;Ue!==null;){var j=Ue,M=j.child;if((Ue.flags&16)!==0){var Z=j.deletions;if(Z!==null){for(var re=0;re<Z.length;re++){var ye=Z[re];for(Ue=ye;Ue!==null;){var ke=Ue;switch(ke.tag){case 0:case 11:case 15:Rd(8,ke,j)}var Ae=ke.child;if(Ae!==null)Ae.return=ke,Ue=Ae;else for(;Ue!==null;){ke=Ue;var Ce=ke.sibling,Fe=ke.return;if(v0(ke),ke===ye){Ue=null;break}if(Ce!==null){Ce.return=Fe,Ue=Ce;break}Ue=Fe}}}var We=j.alternate;if(We!==null){var Ge=We.child;if(Ge!==null){We.child=null;do{var mr=Ge.sibling;Ge.sibling=null,Ge=mr}while(Ge!==null)}}Ue=j}}if((j.subtreeFlags&2064)!==0&&M!==null)M.return=j,Ue=M;else e:for(;Ue!==null;){if(j=Ue,(j.flags&2048)!==0)switch(j.tag){case 0:case 11:case 15:Rd(9,j,j.return)}var ue=j.sibling;if(ue!==null){ue.return=j.return,Ue=ue;break e}Ue=j.return}}var oe=o.current;for(Ue=oe;Ue!==null;){M=Ue;var fe=M.child;if((M.subtreeFlags&2064)!==0&&fe!==null)fe.return=M,Ue=fe;else e:for(M=oe;Ue!==null;){if(Z=Ue,(Z.flags&2048)!==0)try{switch(Z.tag){case 0:case 11:case 15:vh(9,Z)}}catch(Ze){cr(Z,Z.return,Ze)}if(Z===M){Ue=null;break e}var Oe=Z.sibling;if(Oe!==null){Oe.return=Z.return,Ue=Oe;break e}Ue=Z.return}}if(Et=_,Si(),Pn&&typeof Pn.onPostCommitFiberRoot=="function")try{Pn.onPostCommitFiberRoot(aa,o)}catch{}g=!0}return g}finally{yt=h,oo.transition=a}}return!1}function O0(o,a,h){a=Wl(h,a),a=Yx(o,a,1),o=Ni(o,a,1),a=ln(),o!==null&&(Tn(o,1,a),bn(o,a))}function cr(o,a,h){if(o.tag===3)O0(o,o,h);else for(;a!==null;){if(a.tag===3){O0(a,o,h);break}else if(a.tag===1){var g=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(ki===null||!ki.has(g))){o=Wl(h,o),o=Jx(a,o,1),a=Ni(a,o,1),o=ln(),a!==null&&(Tn(a,1,o),bn(a,o));break}}a=a.return}}function bE(o,a,h){var g=o.pingCache;g!==null&&g.delete(a),a=ln(),o.pingedLanes|=o.suspendedLanes&h,Lr===o&&(Ur&h)===h&&(Pr===4||Pr===3&&(Ur&130023424)===Ur&&500>er()-vp?Pa(o,0):gp|=h),bn(o,a)}function M0(o,a){a===0&&((o.mode&1)===0?a=1:(a=ni,ni<<=1,(ni&130023424)===0&&(ni=4194304)));var h=ln();o=As(o,a),o!==null&&(Tn(o,a,h),bn(o,h))}function _E(o){var a=o.memoizedState,h=0;a!==null&&(h=a.retryLane),M0(o,h)}function wE(o,a){var h=0;switch(o.tag){case 13:var g=o.stateNode,_=o.memoizedState;_!==null&&(h=_.retryLane);break;case 19:g=o.stateNode;break;default:throw Error(r(314))}g!==null&&g.delete(a),M0(o,h)}var L0;L0=function(o,a,h){if(o!==null)if(o.memoizedProps!==a.pendingProps||gn.current)xn=!0;else{if((o.lanes&h)===0&&(a.flags&128)===0)return xn=!1,cE(o,a,h);xn=(o.flags&131072)!==0}else xn=!1,Qt&&(a.flags&1048576)!==0&&mx(a,eh,a.index);switch(a.lanes=0,a.tag){case 2:var g=a.type;ph(o,a),o=a.pendingProps;var _=Il(a,Zr.current);Ul(a,h),_=Km(null,a,g,o,_,h);var j=Zm();return a.flags|=1,typeof _=="object"&&_!==null&&typeof _.render=="function"&&_.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,vn(g)?(j=!0,Yu(a)):j=!1,a.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,Fm(a),_.updater=fh,a.stateNode=_,_._reactInternals=a,tp(a,g,o,h),a=sp(null,a,g,!0,j,h)):(a.tag=0,Qt&&j&&Rm(a),an(null,a,_,h),a=a.child),a;case 16:g=a.elementType;e:{switch(ph(o,a),o=a.pendingProps,_=g._init,g=_(g._payload),a.type=g,_=a.tag=SE(g),o=wo(g,o),_){case 0:a=op(null,a,g,o,h);break e;case 1:a=a0(null,a,g,o,h);break e;case 11:a=r0(null,a,g,o,h);break e;case 14:a=n0(null,a,g,wo(g.type,o),h);break e}throw Error(r(306,g,""))}return a;case 0:return g=a.type,_=a.pendingProps,_=a.elementType===g?_:wo(g,_),op(o,a,g,_,h);case 1:return g=a.type,_=a.pendingProps,_=a.elementType===g?_:wo(g,_),a0(o,a,g,_,h);case 3:e:{if(l0(a),o===null)throw Error(r(387));g=a.pendingProps,j=a.memoizedState,_=j.element,jx(o,a),ih(a,g,null,h);var M=a.memoizedState;if(g=M.element,j.isDehydrated)if(j={element:g,isDehydrated:!1,cache:M.cache,pendingSuspenseBoundaries:M.pendingSuspenseBoundaries,transitions:M.transitions},a.updateQueue.baseState=j,a.memoizedState=j,a.flags&256){_=Wl(Error(r(423)),a),a=c0(o,a,g,h,_);break e}else if(g!==_){_=Wl(Error(r(424)),a),a=c0(o,a,g,h,_);break e}else for(Bn=Yo(a.stateNode.containerInfo.firstChild),Dn=a,Qt=!0,_o=null,h=_x(a,null,g,h),a.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling;else{if(zl(),g===_){a=Ms(o,a,h);break e}an(o,a,g,h)}a=a.child}return a;case 5:return Nx(a),o===null&&Mm(a),g=a.type,_=a.pendingProps,j=o!==null?o.memoizedProps:null,M=_.children,ft(g,_)?M=null:j!==null&&ft(g,j)&&(a.flags|=32),i0(o,a),an(o,a,M,h),a.child;case 6:return o===null&&Mm(a),null;case 13:return d0(o,a,h);case 4:return Um(a,a.stateNode.containerInfo),g=a.pendingProps,o===null?a.child=$l(a,null,g,h):an(o,a,g,h),a.child;case 11:return g=a.type,_=a.pendingProps,_=a.elementType===g?_:wo(g,_),r0(o,a,g,_,h);case 7:return an(o,a,a.pendingProps,h),a.child;case 8:return an(o,a,a.pendingProps.children,h),a.child;case 12:return an(o,a,a.pendingProps.children,h),a.child;case 10:e:{if(g=a.type._context,_=a.pendingProps,j=a.memoizedProps,M=_.value,Wt(nh,g._currentValue),g._currentValue=M,j!==null)if(Ln(j.value,M)){if(j.children===_.children&&!gn.current){a=Ms(o,a,h);break e}}else for(j=a.child,j!==null&&(j.return=a);j!==null;){var Z=j.dependencies;if(Z!==null){M=j.child;for(var re=Z.firstContext;re!==null;){if(re.context===g){if(j.tag===1){re=Os(-1,h&-h),re.tag=2;var ye=j.updateQueue;if(ye!==null){ye=ye.shared;var ke=ye.pending;ke===null?re.next=re:(re.next=ke.next,ke.next=re),ye.pending=re}}j.lanes|=h,re=j.alternate,re!==null&&(re.lanes|=h),zm(j.return,h,a),Z.lanes|=h;break}re=re.next}}else if(j.tag===10)M=j.type===a.type?null:j.child;else if(j.tag===18){if(M=j.return,M===null)throw Error(r(341));M.lanes|=h,Z=M.alternate,Z!==null&&(Z.lanes|=h),zm(M,h,a),M=j.sibling}else M=j.child;if(M!==null)M.return=j;else for(M=j;M!==null;){if(M===a){M=null;break}if(j=M.sibling,j!==null){j.return=M.return,M=j;break}M=M.return}j=M}an(o,a,_.children,h),a=a.child}return a;case 9:return _=a.type,g=a.pendingProps.children,Ul(a,h),_=ro(_),g=g(_),a.flags|=1,an(o,a,g,h),a.child;case 14:return g=a.type,_=wo(g,a.pendingProps),_=wo(g.type,_),n0(o,a,g,_,h);case 15:return o0(o,a,a.type,a.pendingProps,h);case 17:return g=a.type,_=a.pendingProps,_=a.elementType===g?_:wo(g,_),ph(o,a),a.tag=1,vn(g)?(o=!0,Yu(a)):o=!1,Ul(a,h),Zx(a,g,_),tp(a,g,_,h),sp(null,a,g,!0,o,h);case 19:return h0(o,a,h);case 22:return s0(o,a,h)}throw Error(r(156,a.tag))};function I0(o,a){return Eu(o,a)}function jE(o,a,h,g){this.tag=o,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function so(o,a,h,g){return new jE(o,a,h,g)}function Ep(o){return o=o.prototype,!(!o||!o.isReactComponent)}function SE(o){if(typeof o=="function")return Ep(o)?1:0;if(o!=null){if(o=o.$$typeof,o===te)return 11;if(o===be)return 14}return 2}function Ai(o,a){var h=o.alternate;return h===null?(h=so(o.tag,a,o.key,o.mode),h.elementType=o.elementType,h.type=o.type,h.stateNode=o.stateNode,h.alternate=o,o.alternate=h):(h.pendingProps=a,h.type=o.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=o.flags&14680064,h.childLanes=o.childLanes,h.lanes=o.lanes,h.child=o.child,h.memoizedProps=o.memoizedProps,h.memoizedState=o.memoizedState,h.updateQueue=o.updateQueue,a=o.dependencies,h.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},h.sibling=o.sibling,h.index=o.index,h.ref=o.ref,h}function Nh(o,a,h,g,_,j){var M=2;if(g=o,typeof o=="function")Ep(o)&&(M=1);else if(typeof o=="string")M=5;else e:switch(o){case Q:return Ra(h.children,_,j,a);case ne:M=8,_|=8;break;case we:return o=so(12,h,a,_|2),o.elementType=we,o.lanes=j,o;case U:return o=so(13,h,a,_),o.elementType=U,o.lanes=j,o;case W:return o=so(19,h,a,_),o.elementType=W,o.lanes=j,o;case _e:return Ch(h,_,j,a);default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case ee:M=10;break e;case $:M=9;break e;case te:M=11;break e;case be:M=14;break e;case me:M=16,g=null;break e}throw Error(r(130,o==null?o:typeof o,""))}return a=so(M,h,a,_),a.elementType=o,a.type=g,a.lanes=j,a}function Ra(o,a,h,g){return o=so(7,o,g,a),o.lanes=h,o}function Ch(o,a,h,g){return o=so(22,o,g,a),o.elementType=_e,o.lanes=h,o.stateNode={isHidden:!1},o}function Np(o,a,h){return o=so(6,o,null,a),o.lanes=h,o}function Cp(o,a,h){return a=so(4,o.children!==null?o.children:[],o.key,a),a.lanes=h,a.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},a}function EE(o,a,h,g,_){this.tag=a,this.containerInfo=o,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=oi(0),this.expirationTimes=oi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=oi(0),this.identifierPrefix=g,this.onRecoverableError=_,this.mutableSourceEagerHydrationData=null}function kp(o,a,h,g,_,j,M,Z,re){return o=new EE(o,a,h,Z,re),a===1?(a=1,j===!0&&(a|=8)):a=0,j=so(3,null,null,a),o.current=j,j.stateNode=o,j.memoizedState={element:g,isDehydrated:h,cache:null,transitions:null,pendingSuspenseBoundaries:null},Fm(j),o}function NE(o,a,h){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:B,key:g==null?null:""+g,children:o,containerInfo:a,implementation:h}}function D0(o){if(!o)return ji;o=o._reactInternals;e:{if(qo(o)!==o||o.tag!==1)throw Error(r(170));var a=o;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(vn(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(r(171))}if(o.tag===1){var h=o.type;if(vn(h))return ux(o,h,a)}return a}function B0(o,a,h,g,_,j,M,Z,re){return o=kp(h,g,!0,o,_,j,M,Z,re),o.context=D0(null),h=o.current,g=ln(),_=Ti(h),j=Os(g,_),j.callback=a??null,Ni(h,j,_),o.current.lanes=_,Tn(o,_,g),bn(o,g),o}function kh(o,a,h,g){var _=a.current,j=ln(),M=Ti(_);return h=D0(h),a.context===null?a.context=h:a.pendingContext=h,a=Os(j,M),a.payload={element:o},g=g===void 0?null:g,g!==null&&(a.callback=g),o=Ni(_,a,M),o!==null&&(Eo(o,_,M,j),sh(o,_,M)),M}function Ph(o){if(o=o.current,!o.child)return null;switch(o.child.tag){case 5:return o.child.stateNode;default:return o.child.stateNode}}function z0(o,a){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var h=o.retryLane;o.retryLane=h!==0&&h<a?h:a}}function Pp(o,a){z0(o,a),(o=o.alternate)&&z0(o,a)}function CE(){return null}var $0=typeof reportError=="function"?reportError:function(o){console.error(o)};function Tp(o){this._internalRoot=o}Th.prototype.render=Tp.prototype.render=function(o){var a=this._internalRoot;if(a===null)throw Error(r(409));kh(o,a,null,null)},Th.prototype.unmount=Tp.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var a=o.containerInfo;ka(function(){kh(null,o,null,null)}),a[Rt]=null}};function Th(o){this._internalRoot=o}Th.prototype.unstable_scheduleHydration=function(o){if(o){var a=gl();o={blockedOn:null,target:o,priority:a};for(var h=0;h<Nr.length&&a!==0&&a<Nr[h].priority;h++);Nr.splice(h,0,o),h===0&&vl(o)}};function Rp(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function Rh(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11&&(o.nodeType!==8||o.nodeValue!==" react-mount-point-unstable "))}function F0(){}function kE(o,a,h,g,_){if(_){if(typeof g=="function"){var j=g;g=function(){var ye=Ph(M);j.call(ye)}}var M=B0(a,g,o,0,null,!1,!1,"",F0);return o._reactRootContainer=M,o[Rt]=M.current,xi(o.nodeType===8?o.parentNode:o),ka(),M}for(;_=o.lastChild;)o.removeChild(_);if(typeof g=="function"){var Z=g;g=function(){var ye=Ph(re);Z.call(ye)}}var re=kp(o,0,!1,null,null,!1,!1,"",F0);return o._reactRootContainer=re,o[Rt]=re.current,xi(o.nodeType===8?o.parentNode:o),ka(function(){kh(a,re,h,g)}),re}function Ah(o,a,h,g,_){var j=h._reactRootContainer;if(j){var M=j;if(typeof _=="function"){var Z=_;_=function(){var re=Ph(M);Z.call(re)}}kh(a,M,o,_)}else M=kE(h,a,o,_,g);return Ph(M)}ml=function(o){switch(o.tag){case 3:var a=o.stateNode;if(a.current.memoizedState.isDehydrated){var h=ut(a.pendingLanes);h!==0&&(go(a,h|1),bn(a,er()),(Et&6)===0&&(Gl=er()+500,Si()))}break;case 13:ka(function(){var g=As(o,1);if(g!==null){var _=ln();Eo(g,o,1,_)}}),Pp(o,1)}},vs=function(o){if(o.tag===13){var a=As(o,134217728);if(a!==null){var h=ln();Eo(a,o,134217728,h)}Pp(o,134217728)}},pl=function(o){if(o.tag===13){var a=Ti(o),h=As(o,a);if(h!==null){var g=ln();Eo(h,o,a,g)}Pp(o,a)}},gl=function(){return yt},ca=function(o,a){var h=yt;try{return yt=o,a()}finally{yt=h}},Tt=function(o,a,h){switch(a){case"input":if(Pt(o,h),a=h.name,h.type==="radio"&&a!=null){for(h=o;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<h.length;a++){var g=h[a];if(g!==o&&g.form===o.form){var _=Ml(g);if(!_)throw Error(r(90));Ie(g),Pt(g,_)}}}break;case"textarea":kn(o,h);break;case"select":a=h.value,a!=null&&xr(o,!!h.multiple,a,!1)}},St=wp,yr=ka;var PE={usingClientEntryPoint:!1,Events:[Cs,ks,Ml,st,Ft,wp]},Ld={findFiberByHostInstance:Ns,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},TE={bundleType:Ld.bundleType,version:Ld.version,rendererPackageName:Ld.rendererPackageName,rendererConfig:Ld.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:D.ReactCurrentDispatcher,findHostInstanceByFiber:function(o){return o=ju(o),o===null?null:o.stateNode},findFiberByHostInstance:Ld.findFiberByHostInstance||CE,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Oh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Oh.isDisabled&&Oh.supportsFiber)try{aa=Oh.inject(TE),Pn=Oh}catch{}}return _n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=PE,_n.createPortal=function(o,a){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Rp(a))throw Error(r(200));return NE(o,a,null,h)},_n.createRoot=function(o,a){if(!Rp(o))throw Error(r(299));var h=!1,g="",_=$0;return a!=null&&(a.unstable_strictMode===!0&&(h=!0),a.identifierPrefix!==void 0&&(g=a.identifierPrefix),a.onRecoverableError!==void 0&&(_=a.onRecoverableError)),a=kp(o,1,!1,null,null,h,!1,g,_),o[Rt]=a.current,xi(o.nodeType===8?o.parentNode:o),new Tp(a)},_n.findDOMNode=function(o){if(o==null)return null;if(o.nodeType===1)return o;var a=o._reactInternals;if(a===void 0)throw typeof o.render=="function"?Error(r(188)):(o=Object.keys(o).join(","),Error(r(268,o)));return o=ju(a),o=o===null?null:o.stateNode,o},_n.flushSync=function(o){return ka(o)},_n.hydrate=function(o,a,h){if(!Rh(a))throw Error(r(200));return Ah(null,o,a,!0,h)},_n.hydrateRoot=function(o,a,h){if(!Rp(o))throw Error(r(405));var g=h!=null&&h.hydratedSources||null,_=!1,j="",M=$0;if(h!=null&&(h.unstable_strictMode===!0&&(_=!0),h.identifierPrefix!==void 0&&(j=h.identifierPrefix),h.onRecoverableError!==void 0&&(M=h.onRecoverableError)),a=B0(a,null,o,1,h??null,_,!1,j,M),o[Rt]=a.current,xi(o),g)for(o=0;o<g.length;o++)h=g[o],_=h._getVersion,_=_(h._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[h,_]:a.mutableSourceEagerHydrationData.push(h,_);return new Th(a)},_n.render=function(o,a,h){if(!Rh(a))throw Error(r(200));return Ah(null,o,a,!1,h)},_n.unmountComponentAtNode=function(o){if(!Rh(o))throw Error(r(40));return o._reactRootContainer?(ka(function(){Ah(null,null,o,!1,function(){o._reactRootContainer=null,o[Rt]=null})}),!0):!1},_n.unstable_batchedUpdates=wp,_n.unstable_renderSubtreeIntoContainer=function(o,a,h,g){if(!Rh(h))throw Error(r(200));if(o==null||o._reactInternals===void 0)throw Error(r(38));return Ah(o,a,h,!1,g)},_n.version="18.3.1-next-f1338f8080-20240426",_n}var Q0;function Jb(){if(Q0)return Lp.exports;Q0=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Lp.exports=DE(),Lp.exports}var Y0;function BE(){if(Y0)return Lh;Y0=1;var t=Jb();return Lh.createRoot=t.createRoot,Lh.hydrateRoot=t.hydrateRoot,Lh}var zE=BE();const $E=fu(zE);/**
 * react-router v7.9.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var J0="popstate";function FE(t={}){function e(s,l){let{pathname:c,search:u,hash:p}=s.location;return dg("",{pathname:c,search:u,hash:p},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function r(s,l){return typeof l=="string"?l:Xd(l)}return qE(e,r,null,t)}function Xt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ho(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function UE(){return Math.random().toString(36).substring(2,10)}function X0(t,e){return{usr:t.state,key:t.key,idx:e}}function dg(t,e,r=null,s){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Tc(e):e,state:r,key:e&&e.key||s||UE()}}function Xd({pathname:t="/",search:e="",hash:r=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Tc(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substring(r),t=t.substring(0,r));let s=t.indexOf("?");s>=0&&(e.search=t.substring(s),t=t.substring(0,s)),t&&(e.pathname=t)}return e}function qE(t,e,r,s={}){let{window:l=document.defaultView,v5Compat:c=!1}=s,u=l.history,p="POP",m=null,v=y();v==null&&(v=0,u.replaceState({...u.state,idx:v},""));function y(){return(u.state||{idx:null}).idx}function x(){p="POP";let P=y(),O=P==null?null:P-v;v=P,m&&m({action:p,location:N.location,delta:O})}function S(P,O){p="PUSH";let T=dg(N.location,P,O);v=y()+1;let R=X0(T,v),D=N.createHref(T);try{u.pushState(R,"",D)}catch(K){if(K instanceof DOMException&&K.name==="DataCloneError")throw K;l.location.assign(D)}c&&m&&m({action:p,location:N.location,delta:1})}function E(P,O){p="REPLACE";let T=dg(N.location,P,O);v=y();let R=X0(T,v),D=N.createHref(T);u.replaceState(R,"",D),c&&m&&m({action:p,location:N.location,delta:0})}function k(P){return WE(P)}let N={get action(){return p},get location(){return t(l,u)},listen(P){if(m)throw new Error("A history only accepts one active listener");return l.addEventListener(J0,x),m=P,()=>{l.removeEventListener(J0,x),m=null}},createHref(P){return e(l,P)},createURL:k,encodeLocation(P){let O=k(P);return{pathname:O.pathname,search:O.search,hash:O.hash}},push:S,replace:E,go(P){return u.go(P)}};return N}function WE(t,e=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),Xt(r,"No window.location.(origin|href) available to create URL");let s=typeof t=="string"?t:Xd(t);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=r+s),new URL(s,r)}function Xb(t,e,r="/"){return HE(t,e,r,!1)}function HE(t,e,r,s){let l=typeof e=="string"?Tc(e):e,c=Qs(l.pathname||"/",r);if(c==null)return null;let u=e_(t);VE(u);let p=null;for(let m=0;p==null&&m<u.length;++m){let v=nN(c);p=tN(u[m],v,s)}return p}function e_(t,e=[],r=[],s="",l=!1){let c=(u,p,m=l,v)=>{let y={relativePath:v===void 0?u.path||"":v,caseSensitive:u.caseSensitive===!0,childrenIndex:p,route:u};if(y.relativePath.startsWith("/")){if(!y.relativePath.startsWith(s)&&m)return;Xt(y.relativePath.startsWith(s),`Absolute route path "${y.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(s.length)}let x=Gs([s,y.relativePath]),S=r.concat(y);u.children&&u.children.length>0&&(Xt(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${x}".`),e_(u.children,e,S,x,m)),!(u.path==null&&!u.index)&&e.push({path:x,score:XE(x,u.index),routesMeta:S})};return t.forEach((u,p)=>{var m;if(u.path===""||!((m=u.path)!=null&&m.includes("?")))c(u,p);else for(let v of t_(u.path))c(u,p,!0,v)}),e}function t_(t){let e=t.split("/");if(e.length===0)return[];let[r,...s]=e,l=r.endsWith("?"),c=r.replace(/\?$/,"");if(s.length===0)return l?[c,""]:[c];let u=t_(s.join("/")),p=[];return p.push(...u.map(m=>m===""?c:[c,m].join("/"))),l&&p.push(...u),p.map(m=>t.startsWith("/")&&m===""?"/":m)}function VE(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:eN(e.routesMeta.map(s=>s.childrenIndex),r.routesMeta.map(s=>s.childrenIndex)))}var GE=/^:[\w-]+$/,KE=3,ZE=2,QE=1,YE=10,JE=-2,ey=t=>t==="*";function XE(t,e){let r=t.split("/"),s=r.length;return r.some(ey)&&(s+=JE),e&&(s+=ZE),r.filter(l=>!ey(l)).reduce((l,c)=>l+(GE.test(c)?KE:c===""?QE:YE),s)}function eN(t,e){return t.length===e.length&&t.slice(0,-1).every((s,l)=>s===e[l])?t[t.length-1]-e[e.length-1]:0}function tN(t,e,r=!1){let{routesMeta:s}=t,l={},c="/",u=[];for(let p=0;p<s.length;++p){let m=s[p],v=p===s.length-1,y=c==="/"?e:e.slice(c.length)||"/",x=pf({path:m.relativePath,caseSensitive:m.caseSensitive,end:v},y),S=m.route;if(!x&&v&&r&&!s[s.length-1].route.index&&(x=pf({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},y)),!x)return null;Object.assign(l,x.params),u.push({params:l,pathname:Gs([c,x.pathname]),pathnameBase:aN(Gs([c,x.pathnameBase])),route:S}),x.pathnameBase!=="/"&&(c=Gs([c,x.pathnameBase]))}return u}function pf(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,s]=rN(t.path,t.caseSensitive,t.end),l=e.match(r);if(!l)return null;let c=l[0],u=c.replace(/(.)\/+$/,"$1"),p=l.slice(1);return{params:s.reduce((v,{paramName:y,isOptional:x},S)=>{if(y==="*"){let k=p[S]||"";u=c.slice(0,c.length-k.length).replace(/(.)\/+$/,"$1")}const E=p[S];return x&&!E?v[y]=void 0:v[y]=(E||"").replace(/%2F/g,"/"),v},{}),pathname:c,pathnameBase:u,pattern:t}}function rN(t,e=!1,r=!0){ho(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let s=[],l="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,p,m)=>(s.push({paramName:p,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(s.push({paramName:"*"}),l+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?l+="\\/*$":t!==""&&t!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,e?void 0:"i"),s]}function nN(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ho(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Qs(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,s=t.charAt(r);return s&&s!=="/"?null:t.slice(r)||"/"}function oN(t,e="/"){let{pathname:r,search:s="",hash:l=""}=typeof t=="string"?Tc(t):t;return{pathname:r?r.startsWith("/")?r:sN(r,e):e,search:lN(s),hash:cN(l)}}function sN(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(l=>{l===".."?r.length>1&&r.pop():l!=="."&&r.push(l)}),r.length>1?r.join("/"):"/"}function Bp(t,e,r,s){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function iN(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function cv(t){let e=iN(t);return e.map((r,s)=>s===e.length-1?r.pathname:r.pathnameBase)}function dv(t,e,r,s=!1){let l;typeof t=="string"?l=Tc(t):(l={...t},Xt(!l.pathname||!l.pathname.includes("?"),Bp("?","pathname","search",l)),Xt(!l.pathname||!l.pathname.includes("#"),Bp("#","pathname","hash",l)),Xt(!l.search||!l.search.includes("#"),Bp("#","search","hash",l)));let c=t===""||l.pathname==="",u=c?"/":l.pathname,p;if(u==null)p=r;else{let x=e.length-1;if(!s&&u.startsWith("..")){let S=u.split("/");for(;S[0]==="..";)S.shift(),x-=1;l.pathname=S.join("/")}p=x>=0?e[x]:"/"}let m=oN(l,p),v=u&&u!=="/"&&u.endsWith("/"),y=(c||u===".")&&r.endsWith("/");return!m.pathname.endsWith("/")&&(v||y)&&(m.pathname+="/"),m}var Gs=t=>t.join("/").replace(/\/\/+/g,"/"),aN=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),lN=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,cN=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function dN(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var r_=["POST","PUT","PATCH","DELETE"];new Set(r_);var uN=["GET",...r_];new Set(uN);var Rc=w.createContext(null);Rc.displayName="DataRouter";var Df=w.createContext(null);Df.displayName="DataRouterState";w.createContext(!1);var n_=w.createContext({isTransitioning:!1});n_.displayName="ViewTransition";var hN=w.createContext(new Map);hN.displayName="Fetchers";var fN=w.createContext(null);fN.displayName="Await";var Bo=w.createContext(null);Bo.displayName="Navigation";var pu=w.createContext(null);pu.displayName="Location";var zo=w.createContext({outlet:null,matches:[],isDataRoute:!1});zo.displayName="Route";var uv=w.createContext(null);uv.displayName="RouteError";function mN(t,{relative:e}={}){Xt(Ac(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:s}=w.useContext(Bo),{hash:l,pathname:c,search:u}=gu(t,{relative:e}),p=c;return r!=="/"&&(p=c==="/"?r:Gs([r,c])),s.createHref({pathname:p,search:u,hash:l})}function Ac(){return w.useContext(pu)!=null}function $o(){return Xt(Ac(),"useLocation() may be used only in the context of a <Router> component."),w.useContext(pu).location}var o_="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function s_(t){w.useContext(Bo).static||w.useLayoutEffect(t)}function Er(){let{isDataRoute:t}=w.useContext(zo);return t?kN():pN()}function pN(){Xt(Ac(),"useNavigate() may be used only in the context of a <Router> component.");let t=w.useContext(Rc),{basename:e,navigator:r}=w.useContext(Bo),{matches:s}=w.useContext(zo),{pathname:l}=$o(),c=JSON.stringify(cv(s)),u=w.useRef(!1);return s_(()=>{u.current=!0}),w.useCallback((m,v={})=>{if(ho(u.current,o_),!u.current)return;if(typeof m=="number"){r.go(m);return}let y=dv(m,JSON.parse(c),l,v.relative==="path");t==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:Gs([e,y.pathname])),(v.replace?r.replace:r.push)(y,v.state,v)},[e,r,c,l,t])}w.createContext(null);function gN(){let{matches:t}=w.useContext(zo),e=t[t.length-1];return e?e.params:{}}function gu(t,{relative:e}={}){let{matches:r}=w.useContext(zo),{pathname:s}=$o(),l=JSON.stringify(cv(r));return w.useMemo(()=>dv(t,JSON.parse(l),s,e==="path"),[t,l,s,e])}function vN(t,e){return i_(t,e)}function i_(t,e,r,s,l){var T;Xt(Ac(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:c}=w.useContext(Bo),{matches:u}=w.useContext(zo),p=u[u.length-1],m=p?p.params:{},v=p?p.pathname:"/",y=p?p.pathnameBase:"/",x=p&&p.route;{let R=x&&x.path||"";a_(v,!x||R.endsWith("*")||R.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${v}" (under <Route path="${R}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${R}"> to <Route path="${R==="/"?"*":`${R}/*`}">.`)}let S=$o(),E;if(e){let R=typeof e=="string"?Tc(e):e;Xt(y==="/"||((T=R.pathname)==null?void 0:T.startsWith(y)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${R.pathname}" was given in the \`location\` prop.`),E=R}else E=S;let k=E.pathname||"/",N=k;if(y!=="/"){let R=y.replace(/^\//,"").split("/");N="/"+k.replace(/^\//,"").split("/").slice(R.length).join("/")}let P=Xb(t,{pathname:N});ho(x||P!=null,`No routes matched location "${E.pathname}${E.search}${E.hash}" `),ho(P==null||P[P.length-1].route.element!==void 0||P[P.length-1].route.Component!==void 0||P[P.length-1].route.lazy!==void 0,`Matched leaf route at location "${E.pathname}${E.search}${E.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let O=wN(P&&P.map(R=>Object.assign({},R,{params:Object.assign({},m,R.params),pathname:Gs([y,c.encodeLocation?c.encodeLocation(R.pathname).pathname:R.pathname]),pathnameBase:R.pathnameBase==="/"?y:Gs([y,c.encodeLocation?c.encodeLocation(R.pathnameBase).pathname:R.pathnameBase])})),u,r,s,l);return e&&O?w.createElement(pu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...E},navigationType:"POP"}},O):O}function xN(){let t=CN(),e=dN(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,s="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:s},c={padding:"2px 4px",backgroundColor:s},u=null;return console.error("Error handled by React Router default ErrorBoundary:",t),u=w.createElement(w.Fragment,null,w.createElement("p",null," Hey developer "),w.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",w.createElement("code",{style:c},"ErrorBoundary")," or"," ",w.createElement("code",{style:c},"errorElement")," prop on your route.")),w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},e),r?w.createElement("pre",{style:l},r):null,u)}var yN=w.createElement(xN,null),bN=class extends w.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?w.createElement(zo.Provider,{value:this.props.routeContext},w.createElement(uv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function _N({routeContext:t,match:e,children:r}){let s=w.useContext(Rc);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),w.createElement(zo.Provider,{value:t},r)}function wN(t,e=[],r=null,s=null,l=null){if(t==null){if(!r)return null;if(r.errors)t=r.matches;else if(e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let c=t,u=r==null?void 0:r.errors;if(u!=null){let v=c.findIndex(y=>y.route.id&&(u==null?void 0:u[y.route.id])!==void 0);Xt(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),c=c.slice(0,Math.min(c.length,v+1))}let p=!1,m=-1;if(r)for(let v=0;v<c.length;v++){let y=c[v];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(m=v),y.route.id){let{loaderData:x,errors:S}=r,E=y.route.loader&&!x.hasOwnProperty(y.route.id)&&(!S||S[y.route.id]===void 0);if(y.route.lazy||E){p=!0,m>=0?c=c.slice(0,m+1):c=[c[0]];break}}}return c.reduceRight((v,y,x)=>{let S,E=!1,k=null,N=null;r&&(S=u&&y.route.id?u[y.route.id]:void 0,k=y.route.errorElement||yN,p&&(m<0&&x===0?(a_("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),E=!0,N=null):m===x&&(E=!0,N=y.route.hydrateFallbackElement||null)));let P=e.concat(c.slice(0,x+1)),O=()=>{let T;return S?T=k:E?T=N:y.route.Component?T=w.createElement(y.route.Component,null):y.route.element?T=y.route.element:T=v,w.createElement(_N,{match:y,routeContext:{outlet:v,matches:P,isDataRoute:r!=null},children:T})};return r&&(y.route.ErrorBoundary||y.route.errorElement||x===0)?w.createElement(bN,{location:r.location,revalidation:r.revalidation,component:k,error:S,children:O(),routeContext:{outlet:null,matches:P,isDataRoute:!0},unstable_onError:s}):O()},null)}function hv(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function jN(t){let e=w.useContext(Rc);return Xt(e,hv(t)),e}function SN(t){let e=w.useContext(Df);return Xt(e,hv(t)),e}function EN(t){let e=w.useContext(zo);return Xt(e,hv(t)),e}function fv(t){let e=EN(t),r=e.matches[e.matches.length-1];return Xt(r.route.id,`${t} can only be used on routes that contain a unique "id"`),r.route.id}function NN(){return fv("useRouteId")}function CN(){var s;let t=w.useContext(uv),e=SN("useRouteError"),r=fv("useRouteError");return t!==void 0?t:(s=e.errors)==null?void 0:s[r]}function kN(){let{router:t}=jN("useNavigate"),e=fv("useNavigate"),r=w.useRef(!1);return s_(()=>{r.current=!0}),w.useCallback(async(l,c={})=>{ho(r.current,o_),r.current&&(typeof l=="number"?t.navigate(l):await t.navigate(l,{fromRouteId:e,...c}))},[t,e])}var ty={};function a_(t,e,r){!e&&!ty[t]&&(ty[t]=!0,ho(!1,r))}w.memo(PN);function PN({routes:t,future:e,state:r,unstable_onError:s}){return i_(t,void 0,r,s,e)}function gf({to:t,replace:e,state:r,relative:s}){Xt(Ac(),"<Navigate> may be used only in the context of a <Router> component.");let{static:l}=w.useContext(Bo);ho(!l,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:c}=w.useContext(zo),{pathname:u}=$o(),p=Er(),m=dv(t,cv(c),u,s==="path"),v=JSON.stringify(m);return w.useEffect(()=>{p(JSON.parse(v),{replace:e,state:r,relative:s})},[p,v,s,e,r]),null}function wr(t){Xt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function TN({basename:t="/",children:e=null,location:r,navigationType:s="POP",navigator:l,static:c=!1}){Xt(!Ac(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=t.replace(/^\/*/,"/"),p=w.useMemo(()=>({basename:u,navigator:l,static:c,future:{}}),[u,l,c]);typeof r=="string"&&(r=Tc(r));let{pathname:m="/",search:v="",hash:y="",state:x=null,key:S="default"}=r,E=w.useMemo(()=>{let k=Qs(m,u);return k==null?null:{location:{pathname:k,search:v,hash:y,state:x,key:S},navigationType:s}},[u,m,v,y,x,S,s]);return ho(E!=null,`<Router basename="${u}"> is not able to match the URL "${m}${v}${y}" because it does not start with the basename, so the <Router> won't render anything.`),E==null?null:w.createElement(Bo.Provider,{value:p},w.createElement(pu.Provider,{children:e,value:E}))}function ry({children:t,location:e}){return vN(ug(t),e)}function ug(t,e=[]){let r=[];return w.Children.forEach(t,(s,l)=>{if(!w.isValidElement(s))return;let c=[...e,l];if(s.type===w.Fragment){r.push.apply(r,ug(s.props.children,c));return}Xt(s.type===wr,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Xt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let u={id:s.props.id||c.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(u.children=ug(s.props.children,c)),r.push(u)}),r}var of="get",sf="application/x-www-form-urlencoded";function Bf(t){return t!=null&&typeof t.tagName=="string"}function RN(t){return Bf(t)&&t.tagName.toLowerCase()==="button"}function AN(t){return Bf(t)&&t.tagName.toLowerCase()==="form"}function ON(t){return Bf(t)&&t.tagName.toLowerCase()==="input"}function MN(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function LN(t,e){return t.button===0&&(!e||e==="_self")&&!MN(t)}function hg(t=""){return new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,r)=>{let s=t[r];return e.concat(Array.isArray(s)?s.map(l=>[r,l]):[[r,s]])},[]))}function IN(t,e){let r=hg(t);return e&&e.forEach((s,l)=>{r.has(l)||e.getAll(l).forEach(c=>{r.append(l,c)})}),r}var Ih=null;function DN(){if(Ih===null)try{new FormData(document.createElement("form"),0),Ih=!1}catch{Ih=!0}return Ih}var BN=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function zp(t){return t!=null&&!BN.has(t)?(ho(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${sf}"`),null):t}function zN(t,e){let r,s,l,c,u;if(AN(t)){let p=t.getAttribute("action");s=p?Qs(p,e):null,r=t.getAttribute("method")||of,l=zp(t.getAttribute("enctype"))||sf,c=new FormData(t)}else if(RN(t)||ON(t)&&(t.type==="submit"||t.type==="image")){let p=t.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=t.getAttribute("formaction")||p.getAttribute("action");if(s=m?Qs(m,e):null,r=t.getAttribute("formmethod")||p.getAttribute("method")||of,l=zp(t.getAttribute("formenctype"))||zp(p.getAttribute("enctype"))||sf,c=new FormData(p,t),!DN()){let{name:v,type:y,value:x}=t;if(y==="image"){let S=v?`${v}.`:"";c.append(`${S}x`,"0"),c.append(`${S}y`,"0")}else v&&c.append(v,x)}}else{if(Bf(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=of,s=null,l=sf,u=t}return c&&l==="text/plain"&&(u=c,c=void 0),{action:s,method:r.toLowerCase(),encType:l,formData:c,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function mv(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function $N(t,e,r){let s=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return s.pathname==="/"?s.pathname=`_root.${r}`:e&&Qs(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${r}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${r}`,s}async function FN(t,e){if(t.id in e)return e[t.id];try{let r=await import(t.module);return e[t.id]=r,r}catch(r){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function UN(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function qN(t,e,r){let s=await Promise.all(t.map(async l=>{let c=e.routes[l.route.id];if(c){let u=await FN(c,r);return u.links?u.links():[]}return[]}));return GN(s.flat(1).filter(UN).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function ny(t,e,r,s,l,c){let u=(m,v)=>r[v]?m.route.id!==r[v].route.id:!0,p=(m,v)=>{var y;return r[v].pathname!==m.pathname||((y=r[v].route.path)==null?void 0:y.endsWith("*"))&&r[v].params["*"]!==m.params["*"]};return c==="assets"?e.filter((m,v)=>u(m,v)||p(m,v)):c==="data"?e.filter((m,v)=>{var x;let y=s.routes[m.route.id];if(!y||!y.hasLoader)return!1;if(u(m,v)||p(m,v))return!0;if(m.route.shouldRevalidate){let S=m.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:((x=r[0])==null?void 0:x.params)||{},nextUrl:new URL(t,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof S=="boolean")return S}return!0}):[]}function WN(t,e,{includeHydrateFallback:r}={}){return HN(t.map(s=>{let l=e.routes[s.route.id];if(!l)return[];let c=[l.module];return l.clientActionModule&&(c=c.concat(l.clientActionModule)),l.clientLoaderModule&&(c=c.concat(l.clientLoaderModule)),r&&l.hydrateFallbackModule&&(c=c.concat(l.hydrateFallbackModule)),l.imports&&(c=c.concat(l.imports)),c}).flat(1))}function HN(t){return[...new Set(t)]}function VN(t){let e={},r=Object.keys(t).sort();for(let s of r)e[s]=t[s];return e}function GN(t,e){let r=new Set;return new Set(e),t.reduce((s,l)=>{let c=JSON.stringify(VN(l));return r.has(c)||(r.add(c),s.push({key:c,link:l})),s},[])}function l_(){let t=w.useContext(Rc);return mv(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function KN(){let t=w.useContext(Df);return mv(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var pv=w.createContext(void 0);pv.displayName="FrameworkContext";function c_(){let t=w.useContext(pv);return mv(t,"You must render this element inside a <HydratedRouter> element"),t}function ZN(t,e){let r=w.useContext(pv),[s,l]=w.useState(!1),[c,u]=w.useState(!1),{onFocus:p,onBlur:m,onMouseEnter:v,onMouseLeave:y,onTouchStart:x}=e,S=w.useRef(null);w.useEffect(()=>{if(t==="render"&&u(!0),t==="viewport"){let N=O=>{O.forEach(T=>{u(T.isIntersecting)})},P=new IntersectionObserver(N,{threshold:.5});return S.current&&P.observe(S.current),()=>{P.disconnect()}}},[t]),w.useEffect(()=>{if(s){let N=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(N)}}},[s]);let E=()=>{l(!0)},k=()=>{l(!1),u(!1)};return r?t!=="intent"?[c,S,{}]:[c,S,{onFocus:Dd(p,E),onBlur:Dd(m,k),onMouseEnter:Dd(v,E),onMouseLeave:Dd(y,k),onTouchStart:Dd(x,E)}]:[!1,S,{}]}function Dd(t,e){return r=>{t&&t(r),r.defaultPrevented||e(r)}}function QN({page:t,...e}){let{router:r}=l_(),s=w.useMemo(()=>Xb(r.routes,t,r.basename),[r.routes,t,r.basename]);return s?w.createElement(JN,{page:t,matches:s,...e}):null}function YN(t){let{manifest:e,routeModules:r}=c_(),[s,l]=w.useState([]);return w.useEffect(()=>{let c=!1;return qN(t,e,r).then(u=>{c||l(u)}),()=>{c=!0}},[t,e,r]),s}function JN({page:t,matches:e,...r}){let s=$o(),{manifest:l,routeModules:c}=c_(),{basename:u}=l_(),{loaderData:p,matches:m}=KN(),v=w.useMemo(()=>ny(t,e,m,l,s,"data"),[t,e,m,l,s]),y=w.useMemo(()=>ny(t,e,m,l,s,"assets"),[t,e,m,l,s]),x=w.useMemo(()=>{if(t===s.pathname+s.search+s.hash)return[];let k=new Set,N=!1;if(e.forEach(O=>{var R;let T=l.routes[O.route.id];!T||!T.hasLoader||(!v.some(D=>D.route.id===O.route.id)&&O.route.id in p&&((R=c[O.route.id])!=null&&R.shouldRevalidate)||T.hasClientLoader?N=!0:k.add(O.route.id))}),k.size===0)return[];let P=$N(t,u,"data");return N&&k.size>0&&P.searchParams.set("_routes",e.filter(O=>k.has(O.route.id)).map(O=>O.route.id).join(",")),[P.pathname+P.search]},[u,p,s,l,v,e,t,c]),S=w.useMemo(()=>WN(y,l),[y,l]),E=YN(y);return w.createElement(w.Fragment,null,x.map(k=>w.createElement("link",{key:k,rel:"prefetch",as:"fetch",href:k,...r})),S.map(k=>w.createElement("link",{key:k,rel:"modulepreload",href:k,...r})),E.map(({key:k,link:N})=>w.createElement("link",{key:k,nonce:r.nonce,...N})))}function XN(...t){return e=>{t.forEach(r=>{typeof r=="function"?r(e):r!=null&&(r.current=e)})}}var d_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{d_&&(window.__reactRouterVersion="7.9.1")}catch{}function eC({basename:t,children:e,window:r}){let s=w.useRef();s.current==null&&(s.current=FE({window:r,v5Compat:!0}));let l=s.current,[c,u]=w.useState({action:l.action,location:l.location}),p=w.useCallback(m=>{w.startTransition(()=>u(m))},[u]);return w.useLayoutEffect(()=>l.listen(p),[l,p]),w.createElement(TN,{basename:t,children:e,location:c.location,navigationType:c.action,navigator:l})}var u_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ws=w.forwardRef(function({onClick:e,discover:r="render",prefetch:s="none",relative:l,reloadDocument:c,replace:u,state:p,target:m,to:v,preventScrollReset:y,viewTransition:x,...S},E){let{basename:k}=w.useContext(Bo),N=typeof v=="string"&&u_.test(v),P,O=!1;if(typeof v=="string"&&N&&(P=v,d_))try{let we=new URL(window.location.href),ee=v.startsWith("//")?new URL(we.protocol+v):new URL(v),$=Qs(ee.pathname,k);ee.origin===we.origin&&$!=null?v=$+ee.search+ee.hash:O=!0}catch{ho(!1,`<Link to="${v}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let T=mN(v,{relative:l}),[R,D,K]=ZN(s,S),B=oC(v,{replace:u,state:p,target:m,preventScrollReset:y,relative:l,viewTransition:x});function Q(we){e&&e(we),we.defaultPrevented||B(we)}let ne=w.createElement("a",{...S,...K,href:P||T,onClick:O||c?e:Q,ref:XN(E,D),target:m,"data-discover":!N&&r==="render"?"true":void 0});return R&&!N?w.createElement(w.Fragment,null,ne,w.createElement(QN,{page:T})):ne});Ws.displayName="Link";var tC=w.forwardRef(function({"aria-current":e="page",caseSensitive:r=!1,className:s="",end:l=!1,style:c,to:u,viewTransition:p,children:m,...v},y){let x=gu(u,{relative:v.relative}),S=$o(),E=w.useContext(Df),{navigator:k,basename:N}=w.useContext(Bo),P=E!=null&&cC(x)&&p===!0,O=k.encodeLocation?k.encodeLocation(x).pathname:x.pathname,T=S.pathname,R=E&&E.navigation&&E.navigation.location?E.navigation.location.pathname:null;r||(T=T.toLowerCase(),R=R?R.toLowerCase():null,O=O.toLowerCase()),R&&N&&(R=Qs(R,N)||R);const D=O!=="/"&&O.endsWith("/")?O.length-1:O.length;let K=T===O||!l&&T.startsWith(O)&&T.charAt(D)==="/",B=R!=null&&(R===O||!l&&R.startsWith(O)&&R.charAt(O.length)==="/"),Q={isActive:K,isPending:B,isTransitioning:P},ne=K?e:void 0,we;typeof s=="function"?we=s(Q):we=[s,K?"active":null,B?"pending":null,P?"transitioning":null].filter(Boolean).join(" ");let ee=typeof c=="function"?c(Q):c;return w.createElement(Ws,{...v,"aria-current":ne,className:we,ref:y,style:ee,to:u,viewTransition:p},typeof m=="function"?m(Q):m)});tC.displayName="NavLink";var rC=w.forwardRef(({discover:t="render",fetcherKey:e,navigate:r,reloadDocument:s,replace:l,state:c,method:u=of,action:p,onSubmit:m,relative:v,preventScrollReset:y,viewTransition:x,...S},E)=>{let k=aC(),N=lC(p,{relative:v}),P=u.toLowerCase()==="get"?"get":"post",O=typeof p=="string"&&u_.test(p),T=R=>{if(m&&m(R),R.defaultPrevented)return;R.preventDefault();let D=R.nativeEvent.submitter,K=(D==null?void 0:D.getAttribute("formmethod"))||u;k(D||R.currentTarget,{fetcherKey:e,method:K,navigate:r,replace:l,state:c,relative:v,preventScrollReset:y,viewTransition:x})};return w.createElement("form",{ref:E,method:P,action:N,onSubmit:s?m:T,...S,"data-discover":!O&&t==="render"?"true":void 0})});rC.displayName="Form";function nC(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function h_(t){let e=w.useContext(Rc);return Xt(e,nC(t)),e}function oC(t,{target:e,replace:r,state:s,preventScrollReset:l,relative:c,viewTransition:u}={}){let p=Er(),m=$o(),v=gu(t,{relative:c});return w.useCallback(y=>{if(LN(y,e)){y.preventDefault();let x=r!==void 0?r:Xd(m)===Xd(v);p(t,{replace:x,state:s,preventScrollReset:l,relative:c,viewTransition:u})}},[m,p,v,r,s,e,t,l,c,u])}function f_(t){ho(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=w.useRef(hg(t)),r=w.useRef(!1),s=$o(),l=w.useMemo(()=>IN(s.search,r.current?null:e.current),[s.search]),c=Er(),u=w.useCallback((p,m)=>{const v=hg(typeof p=="function"?p(new URLSearchParams(l)):p);r.current=!0,c("?"+v,m)},[c,l]);return[l,u]}var sC=0,iC=()=>`__${String(++sC)}__`;function aC(){let{router:t}=h_("useSubmit"),{basename:e}=w.useContext(Bo),r=NN();return w.useCallback(async(s,l={})=>{let{action:c,method:u,encType:p,formData:m,body:v}=zN(s,e);if(l.navigate===!1){let y=l.fetcherKey||iC();await t.fetch(y,r,l.action||c,{preventScrollReset:l.preventScrollReset,formData:m,body:v,formMethod:l.method||u,formEncType:l.encType||p,flushSync:l.flushSync})}else await t.navigate(l.action||c,{preventScrollReset:l.preventScrollReset,formData:m,body:v,formMethod:l.method||u,formEncType:l.encType||p,replace:l.replace,state:l.state,fromRouteId:r,flushSync:l.flushSync,viewTransition:l.viewTransition})},[t,e,r])}function lC(t,{relative:e}={}){let{basename:r}=w.useContext(Bo),s=w.useContext(zo);Xt(s,"useFormAction must be used inside a RouteContext");let[l]=s.matches.slice(-1),c={...gu(t||".",{relative:e})},u=$o();if(t==null){c.search=u.search;let p=new URLSearchParams(c.search),m=p.getAll("index");if(m.some(y=>y==="")){p.delete("index"),m.filter(x=>x).forEach(x=>p.append("index",x));let y=p.toString();c.search=y?`?${y}`:""}}return(!t||t===".")&&l.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(c.pathname=c.pathname==="/"?r:Gs([r,c.pathname])),Xd(c)}function cC(t,{relative:e}={}){let r=w.useContext(n_);Xt(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=h_("useViewTransitionState"),l=gu(t,{relative:e});if(!r.isTransitioning)return!1;let c=Qs(r.currentLocation.pathname,s)||r.currentLocation.pathname,u=Qs(r.nextLocation.pathname,s)||r.nextLocation.pathname;return pf(l.pathname,u)!=null||pf(l.pathname,c)!=null}var Oc=Jb();const m_=fu(Oc);function dC(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}const uC=t=>{switch(t){case"success":return mC;case"info":return gC;case"warning":return pC;case"error":return vC;default:return null}},hC=Array(12).fill(0),fC=({visible:t,className:e})=>Te.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},Te.createElement("div",{className:"sonner-spinner"},hC.map((r,s)=>Te.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${s}`})))),mC=Te.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Te.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),pC=Te.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},Te.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),gC=Te.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Te.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),vC=Te.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Te.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),xC=Te.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},Te.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),Te.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),yC=()=>{const[t,e]=Te.useState(document.hidden);return Te.useEffect(()=>{const r=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),t};let fg=1;class bC{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const r=this.subscribers.indexOf(e);this.subscribers.splice(r,1)}),this.publish=e=>{this.subscribers.forEach(r=>r(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var r;const{message:s,...l}=e,c=typeof(e==null?void 0:e.id)=="number"||((r=e.id)==null?void 0:r.length)>0?e.id:fg++,u=this.toasts.find(m=>m.id===c),p=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(c)&&this.dismissedToasts.delete(c),u?this.toasts=this.toasts.map(m=>m.id===c?(this.publish({...m,...e,id:c,title:s}),{...m,...e,id:c,dismissible:p,title:s}):m):this.addToast({title:s,...l,dismissible:p,id:c}),c},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(r=>r({id:e,dismiss:!0})))):this.toasts.forEach(r=>{this.subscribers.forEach(s=>s({id:r.id,dismiss:!0}))}),e),this.message=(e,r)=>this.create({...r,message:e}),this.error=(e,r)=>this.create({...r,message:e,type:"error"}),this.success=(e,r)=>this.create({...r,type:"success",message:e}),this.info=(e,r)=>this.create({...r,type:"info",message:e}),this.warning=(e,r)=>this.create({...r,type:"warning",message:e}),this.loading=(e,r)=>this.create({...r,type:"loading",message:e}),this.promise=(e,r)=>{if(!r)return;let s;r.loading!==void 0&&(s=this.create({...r,promise:e,type:"loading",message:r.loading,description:typeof r.description!="function"?r.description:void 0}));const l=Promise.resolve(e instanceof Function?e():e);let c=s!==void 0,u;const p=l.then(async v=>{if(u=["resolve",v],Te.isValidElement(v))c=!1,this.create({id:s,type:"default",message:v});else if(wC(v)&&!v.ok){c=!1;const x=typeof r.error=="function"?await r.error(`HTTP error! status: ${v.status}`):r.error,S=typeof r.description=="function"?await r.description(`HTTP error! status: ${v.status}`):r.description,k=typeof x=="object"&&!Te.isValidElement(x)?x:{message:x};this.create({id:s,type:"error",description:S,...k})}else if(v instanceof Error){c=!1;const x=typeof r.error=="function"?await r.error(v):r.error,S=typeof r.description=="function"?await r.description(v):r.description,k=typeof x=="object"&&!Te.isValidElement(x)?x:{message:x};this.create({id:s,type:"error",description:S,...k})}else if(r.success!==void 0){c=!1;const x=typeof r.success=="function"?await r.success(v):r.success,S=typeof r.description=="function"?await r.description(v):r.description,k=typeof x=="object"&&!Te.isValidElement(x)?x:{message:x};this.create({id:s,type:"success",description:S,...k})}}).catch(async v=>{if(u=["reject",v],r.error!==void 0){c=!1;const y=typeof r.error=="function"?await r.error(v):r.error,x=typeof r.description=="function"?await r.description(v):r.description,E=typeof y=="object"&&!Te.isValidElement(y)?y:{message:y};this.create({id:s,type:"error",description:x,...E})}}).finally(()=>{c&&(this.dismiss(s),s=void 0),r.finally==null||r.finally.call(r)}),m=()=>new Promise((v,y)=>p.then(()=>u[0]==="reject"?y(u[1]):v(u[1])).catch(y));return typeof s!="string"&&typeof s!="number"?{unwrap:m}:Object.assign(s,{unwrap:m})},this.custom=(e,r)=>{const s=(r==null?void 0:r.id)||fg++;return this.create({jsx:e(s),id:s,...r}),s},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Nn=new bC,_C=(t,e)=>{const r=(e==null?void 0:e.id)||fg++;return Nn.addToast({title:t,...e,id:r}),r},wC=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",jC=_C,SC=()=>Nn.toasts,EC=()=>Nn.getActiveToasts(),Se=Object.assign(jC,{success:Nn.success,info:Nn.info,warning:Nn.warning,error:Nn.error,custom:Nn.custom,message:Nn.message,promise:Nn.promise,dismiss:Nn.dismiss,loading:Nn.loading},{getHistory:SC,getToasts:EC});dC("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function Dh(t){return t.label!==void 0}const NC=3,CC="24px",kC="16px",oy=4e3,PC=356,TC=14,RC=45,AC=200;function ts(...t){return t.filter(Boolean).join(" ")}function OC(t){const[e,r]=t.split("-"),s=[];return e&&s.push(e),r&&s.push(r),s}const MC=t=>{var e,r,s,l,c,u,p,m,v;const{invert:y,toast:x,unstyled:S,interacting:E,setHeights:k,visibleToasts:N,heights:P,index:O,toasts:T,expanded:R,removeToast:D,defaultRichColors:K,closeButton:B,style:Q,cancelButtonStyle:ne,actionButtonStyle:we,className:ee="",descriptionClassName:$="",duration:te,position:U,gap:W,expandByDefault:be,classNames:me,icons:_e,closeButtonAriaLabel:q="Close toast"}=t,[je,ae]=Te.useState(null),[A,H]=Te.useState(null),[V,F]=Te.useState(!1),[le,xe]=Te.useState(!1),[pe,se]=Te.useState(!1),[Pe,Me]=Te.useState(!1),[$e,Ie]=Te.useState(!1),[nt,it]=Te.useState(0),[Lt,$t]=Te.useState(0),Pt=Te.useRef(x.duration||te||oy),_t=Te.useRef(null),Nt=Te.useRef(null),ur=O===0,xr=O+1<=N,jt=x.type,Vt=x.dismissible!==!1,kn=x.className||"",Wn=x.descriptionClassName||"",Or=Te.useMemo(()=>P.findIndex(st=>st.toastId===x.id)||0,[P,x.id]),Hr=Te.useMemo(()=>{var st;return(st=x.closeButton)!=null?st:B},[x.closeButton,B]),ie=Te.useMemo(()=>x.duration||te||oy,[x.duration,te]),Ee=Te.useRef(0),G=Te.useRef(0),z=Te.useRef(0),Y=Te.useRef(null),[ce,ge]=U.split("-"),Ke=Te.useMemo(()=>P.reduce((st,Ft,St)=>St>=Or?st:st+Ft.height,0),[P,Or]),Re=yC(),at=x.invert||y,dt=jt==="loading";G.current=Te.useMemo(()=>Or*W+Ke,[Or,Ke]),Te.useEffect(()=>{Pt.current=ie},[ie]),Te.useEffect(()=>{F(!0)},[]),Te.useEffect(()=>{const st=Nt.current;if(st){const Ft=st.getBoundingClientRect().height;return $t(Ft),k(St=>[{toastId:x.id,height:Ft,position:x.position},...St]),()=>k(St=>St.filter(yr=>yr.toastId!==x.id))}},[k,x.id]),Te.useLayoutEffect(()=>{if(!V)return;const st=Nt.current,Ft=st.style.height;st.style.height="auto";const St=st.getBoundingClientRect().height;st.style.height=Ft,$t(St),k(yr=>yr.find(Ut=>Ut.toastId===x.id)?yr.map(Ut=>Ut.toastId===x.id?{...Ut,height:St}:Ut):[{toastId:x.id,height:St,position:x.position},...yr])},[V,x.title,x.description,k,x.id,x.jsx,x.action,x.cancel]);const Xe=Te.useCallback(()=>{xe(!0),it(G.current),k(st=>st.filter(Ft=>Ft.toastId!==x.id)),setTimeout(()=>{D(x)},AC)},[x,D,k,G]);Te.useEffect(()=>{if(x.promise&&jt==="loading"||x.duration===1/0||x.type==="loading")return;let st;return R||E||Re?(()=>{if(z.current<Ee.current){const yr=new Date().getTime()-Ee.current;Pt.current=Pt.current-yr}z.current=new Date().getTime()})():(()=>{Pt.current!==1/0&&(Ee.current=new Date().getTime(),st=setTimeout(()=>{x.onAutoClose==null||x.onAutoClose.call(x,x),Xe()},Pt.current))})(),()=>clearTimeout(st)},[R,E,x,jt,Re,Xe]),Te.useEffect(()=>{x.delete&&(Xe(),x.onDismiss==null||x.onDismiss.call(x,x))},[Xe,x.delete]);function Tt(){var st;if(_e!=null&&_e.loading){var Ft;return Te.createElement("div",{className:ts(me==null?void 0:me.loader,x==null||(Ft=x.classNames)==null?void 0:Ft.loader,"sonner-loader"),"data-visible":jt==="loading"},_e.loading)}return Te.createElement(fC,{className:ts(me==null?void 0:me.loader,x==null||(st=x.classNames)==null?void 0:st.loader),visible:jt==="loading"})}const It=x.icon||(_e==null?void 0:_e[jt])||uC(jt);var zr,Hn;return Te.createElement("li",{tabIndex:0,ref:Nt,className:ts(ee,kn,me==null?void 0:me.toast,x==null||(e=x.classNames)==null?void 0:e.toast,me==null?void 0:me.default,me==null?void 0:me[jt],x==null||(r=x.classNames)==null?void 0:r[jt]),"data-sonner-toast":"","data-rich-colors":(zr=x.richColors)!=null?zr:K,"data-styled":!(x.jsx||x.unstyled||S),"data-mounted":V,"data-promise":!!x.promise,"data-swiped":$e,"data-removed":le,"data-visible":xr,"data-y-position":ce,"data-x-position":ge,"data-index":O,"data-front":ur,"data-swiping":pe,"data-dismissible":Vt,"data-type":jt,"data-invert":at,"data-swipe-out":Pe,"data-swipe-direction":A,"data-expanded":!!(R||be&&V),"data-testid":x.testId,style:{"--index":O,"--toasts-before":O,"--z-index":T.length-O,"--offset":`${le?nt:G.current}px`,"--initial-height":be?"auto":`${Lt}px`,...Q,...x.style},onDragEnd:()=>{se(!1),ae(null),Y.current=null},onPointerDown:st=>{st.button!==2&&(dt||!Vt||(_t.current=new Date,it(G.current),st.target.setPointerCapture(st.pointerId),st.target.tagName!=="BUTTON"&&(se(!0),Y.current={x:st.clientX,y:st.clientY})))},onPointerUp:()=>{var st,Ft,St;if(Pe||!Vt)return;Y.current=null;const yr=Number(((st=Nt.current)==null?void 0:st.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Vn=Number(((Ft=Nt.current)==null?void 0:Ft.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Ut=new Date().getTime()-((St=_t.current)==null?void 0:St.getTime()),ar=je==="x"?yr:Vn,Gn=Math.abs(ar)/Ut;if(Math.abs(ar)>=RC||Gn>.11){it(G.current),x.onDismiss==null||x.onDismiss.call(x,x),H(je==="x"?yr>0?"right":"left":Vn>0?"down":"up"),Xe(),Me(!0);return}else{var hr,$r;(hr=Nt.current)==null||hr.style.setProperty("--swipe-amount-x","0px"),($r=Nt.current)==null||$r.style.setProperty("--swipe-amount-y","0px")}Ie(!1),se(!1),ae(null)},onPointerMove:st=>{var Ft,St,yr;if(!Y.current||!Vt||((Ft=window.getSelection())==null?void 0:Ft.toString().length)>0)return;const Ut=st.clientY-Y.current.y,ar=st.clientX-Y.current.x;var Gn;const hr=(Gn=t.swipeDirections)!=null?Gn:OC(U);!je&&(Math.abs(ar)>1||Math.abs(Ut)>1)&&ae(Math.abs(ar)>Math.abs(Ut)?"x":"y");let $r={x:0,y:0};const fr=ze=>1/(1.5+Math.abs(ze)/20);if(je==="y"){if(hr.includes("top")||hr.includes("bottom"))if(hr.includes("top")&&Ut<0||hr.includes("bottom")&&Ut>0)$r.y=Ut;else{const ze=Ut*fr(Ut);$r.y=Math.abs(ze)<Math.abs(Ut)?ze:Ut}}else if(je==="x"&&(hr.includes("left")||hr.includes("right")))if(hr.includes("left")&&ar<0||hr.includes("right")&&ar>0)$r.x=ar;else{const ze=ar*fr(ar);$r.x=Math.abs(ze)<Math.abs(ar)?ze:ar}(Math.abs($r.x)>0||Math.abs($r.y)>0)&&Ie(!0),(St=Nt.current)==null||St.style.setProperty("--swipe-amount-x",`${$r.x}px`),(yr=Nt.current)==null||yr.style.setProperty("--swipe-amount-y",`${$r.y}px`)}},Hr&&!x.jsx&&jt!=="loading"?Te.createElement("button",{"aria-label":q,"data-disabled":dt,"data-close-button":!0,onClick:dt||!Vt?()=>{}:()=>{Xe(),x.onDismiss==null||x.onDismiss.call(x,x)},className:ts(me==null?void 0:me.closeButton,x==null||(s=x.classNames)==null?void 0:s.closeButton)},(Hn=_e==null?void 0:_e.close)!=null?Hn:xC):null,(jt||x.icon||x.promise)&&x.icon!==null&&((_e==null?void 0:_e[jt])!==null||x.icon)?Te.createElement("div",{"data-icon":"",className:ts(me==null?void 0:me.icon,x==null||(l=x.classNames)==null?void 0:l.icon)},x.promise||x.type==="loading"&&!x.icon?x.icon||Tt():null,x.type!=="loading"?It:null):null,Te.createElement("div",{"data-content":"",className:ts(me==null?void 0:me.content,x==null||(c=x.classNames)==null?void 0:c.content)},Te.createElement("div",{"data-title":"",className:ts(me==null?void 0:me.title,x==null||(u=x.classNames)==null?void 0:u.title)},x.jsx?x.jsx:typeof x.title=="function"?x.title():x.title),x.description?Te.createElement("div",{"data-description":"",className:ts($,Wn,me==null?void 0:me.description,x==null||(p=x.classNames)==null?void 0:p.description)},typeof x.description=="function"?x.description():x.description):null),Te.isValidElement(x.cancel)?x.cancel:x.cancel&&Dh(x.cancel)?Te.createElement("button",{"data-button":!0,"data-cancel":!0,style:x.cancelButtonStyle||ne,onClick:st=>{Dh(x.cancel)&&Vt&&(x.cancel.onClick==null||x.cancel.onClick.call(x.cancel,st),Xe())},className:ts(me==null?void 0:me.cancelButton,x==null||(m=x.classNames)==null?void 0:m.cancelButton)},x.cancel.label):null,Te.isValidElement(x.action)?x.action:x.action&&Dh(x.action)?Te.createElement("button",{"data-button":!0,"data-action":!0,style:x.actionButtonStyle||we,onClick:st=>{Dh(x.action)&&(x.action.onClick==null||x.action.onClick.call(x.action,st),!st.defaultPrevented&&Xe())},className:ts(me==null?void 0:me.actionButton,x==null||(v=x.classNames)==null?void 0:v.actionButton)},x.action.label):null)};function sy(){if(typeof window>"u"||typeof document>"u")return"ltr";const t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function LC(t,e){const r={};return[t,e].forEach((s,l)=>{const c=l===1,u=c?"--mobile-offset":"--offset",p=c?kC:CC;function m(v){["top","right","bottom","left"].forEach(y=>{r[`${u}-${y}`]=typeof v=="number"?`${v}px`:v})}typeof s=="number"||typeof s=="string"?m(s):typeof s=="object"?["top","right","bottom","left"].forEach(v=>{s[v]===void 0?r[`${u}-${v}`]=p:r[`${u}-${v}`]=typeof s[v]=="number"?`${s[v]}px`:s[v]}):m(p)}),r}const IC=Te.forwardRef(function(e,r){const{id:s,invert:l,position:c="bottom-right",hotkey:u=["altKey","KeyT"],expand:p,closeButton:m,className:v,offset:y,mobileOffset:x,theme:S="light",richColors:E,duration:k,style:N,visibleToasts:P=NC,toastOptions:O,dir:T=sy(),gap:R=TC,icons:D,containerAriaLabel:K="Notifications"}=e,[B,Q]=Te.useState([]),ne=Te.useMemo(()=>s?B.filter(V=>V.toasterId===s):B.filter(V=>!V.toasterId),[B,s]),we=Te.useMemo(()=>Array.from(new Set([c].concat(ne.filter(V=>V.position).map(V=>V.position)))),[ne,c]),[ee,$]=Te.useState([]),[te,U]=Te.useState(!1),[W,be]=Te.useState(!1),[me,_e]=Te.useState(S!=="system"?S:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),q=Te.useRef(null),je=u.join("+").replace(/Key/g,"").replace(/Digit/g,""),ae=Te.useRef(null),A=Te.useRef(!1),H=Te.useCallback(V=>{Q(F=>{var le;return(le=F.find(xe=>xe.id===V.id))!=null&&le.delete||Nn.dismiss(V.id),F.filter(({id:xe})=>xe!==V.id)})},[]);return Te.useEffect(()=>Nn.subscribe(V=>{if(V.dismiss){requestAnimationFrame(()=>{Q(F=>F.map(le=>le.id===V.id?{...le,delete:!0}:le))});return}setTimeout(()=>{m_.flushSync(()=>{Q(F=>{const le=F.findIndex(xe=>xe.id===V.id);return le!==-1?[...F.slice(0,le),{...F[le],...V},...F.slice(le+1)]:[V,...F]})})})}),[B]),Te.useEffect(()=>{if(S!=="system"){_e(S);return}if(S==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?_e("dark"):_e("light")),typeof window>"u")return;const V=window.matchMedia("(prefers-color-scheme: dark)");try{V.addEventListener("change",({matches:F})=>{_e(F?"dark":"light")})}catch{V.addListener(({matches:le})=>{try{_e(le?"dark":"light")}catch(xe){console.error(xe)}})}},[S]),Te.useEffect(()=>{B.length<=1&&U(!1)},[B]),Te.useEffect(()=>{const V=F=>{var le;if(u.every(se=>F[se]||F.code===se)){var pe;U(!0),(pe=q.current)==null||pe.focus()}F.code==="Escape"&&(document.activeElement===q.current||(le=q.current)!=null&&le.contains(document.activeElement))&&U(!1)};return document.addEventListener("keydown",V),()=>document.removeEventListener("keydown",V)},[u]),Te.useEffect(()=>{if(q.current)return()=>{ae.current&&(ae.current.focus({preventScroll:!0}),ae.current=null,A.current=!1)}},[q.current]),Te.createElement("section",{ref:r,"aria-label":`${K} ${je}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},we.map((V,F)=>{var le;const[xe,pe]=V.split("-");return ne.length?Te.createElement("ol",{key:V,dir:T==="auto"?sy():T,tabIndex:-1,ref:q,className:v,"data-sonner-toaster":!0,"data-sonner-theme":me,"data-y-position":xe,"data-x-position":pe,style:{"--front-toast-height":`${((le=ee[0])==null?void 0:le.height)||0}px`,"--width":`${PC}px`,"--gap":`${R}px`,...N,...LC(y,x)},onBlur:se=>{A.current&&!se.currentTarget.contains(se.relatedTarget)&&(A.current=!1,ae.current&&(ae.current.focus({preventScroll:!0}),ae.current=null))},onFocus:se=>{se.target instanceof HTMLElement&&se.target.dataset.dismissible==="false"||A.current||(A.current=!0,ae.current=se.relatedTarget)},onMouseEnter:()=>U(!0),onMouseMove:()=>U(!0),onMouseLeave:()=>{W||U(!1)},onDragEnd:()=>U(!1),onPointerDown:se=>{se.target instanceof HTMLElement&&se.target.dataset.dismissible==="false"||be(!0)},onPointerUp:()=>be(!1)},ne.filter(se=>!se.position&&F===0||se.position===V).map((se,Pe)=>{var Me,$e;return Te.createElement(MC,{key:se.id,icons:D,index:Pe,toast:se,defaultRichColors:E,duration:(Me=O==null?void 0:O.duration)!=null?Me:k,className:O==null?void 0:O.className,descriptionClassName:O==null?void 0:O.descriptionClassName,invert:l,visibleToasts:P,closeButton:($e=O==null?void 0:O.closeButton)!=null?$e:m,interacting:W,position:V,style:O==null?void 0:O.style,unstyled:O==null?void 0:O.unstyled,classNames:O==null?void 0:O.classNames,cancelButtonStyle:O==null?void 0:O.cancelButtonStyle,actionButtonStyle:O==null?void 0:O.actionButtonStyle,closeButtonAriaLabel:O==null?void 0:O.closeButtonAriaLabel,removeToast:H,toasts:ne.filter(Ie=>Ie.position==se.position),heights:ee.filter(Ie=>Ie.position==se.position),setHeights:$,expandByDefault:p,gap:R,expanded:te,swipeDirections:e.swipeDirections})})):null}))});var Mc=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},DC={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},$i,av,zb,BC=(zb=class{constructor(){Ye(this,$i,DC);Ye(this,av,!1)}setTimeoutProvider(t){Be(this,$i,t)}setTimeout(t,e){return X(this,$i).setTimeout(t,e)}clearTimeout(t){X(this,$i).clearTimeout(t)}setInterval(t,e){return X(this,$i).setInterval(t,e)}clearInterval(t){X(this,$i).clearInterval(t)}},$i=new WeakMap,av=new WeakMap,zb),Fa=new BC;function zC(t){setTimeout(t,0)}var tl=typeof window>"u"||"Deno"in globalThis;function un(){}function $C(t,e){return typeof t=="function"?t(e):t}function mg(t){return typeof t=="number"&&t>=0&&t!==1/0}function p_(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Yi(t,e){return typeof t=="function"?t(e):t}function ao(t,e){return typeof t=="function"?t(e):t}function iy(t,e){const{type:r="all",exact:s,fetchStatus:l,predicate:c,queryKey:u,stale:p}=t;if(u){if(s){if(e.queryHash!==gv(u,e.options))return!1}else if(!eu(e.queryKey,u))return!1}if(r!=="all"){const m=e.isActive();if(r==="active"&&!m||r==="inactive"&&m)return!1}return!(typeof p=="boolean"&&e.isStale()!==p||l&&l!==e.state.fetchStatus||c&&!c(e))}function ay(t,e){const{exact:r,status:s,predicate:l,mutationKey:c}=t;if(c){if(!e.options.mutationKey)return!1;if(r){if(rl(e.options.mutationKey)!==rl(c))return!1}else if(!eu(e.options.mutationKey,c))return!1}return!(s&&e.state.status!==s||l&&!l(e))}function gv(t,e){return((e==null?void 0:e.queryKeyHashFn)||rl)(t)}function rl(t){return JSON.stringify(t,(e,r)=>pg(r)?Object.keys(r).sort().reduce((s,l)=>(s[l]=r[l],s),{}):r)}function eu(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(r=>eu(t[r],e[r])):!1}var FC=Object.prototype.hasOwnProperty;function g_(t,e){if(t===e)return t;const r=ly(t)&&ly(e);if(!r&&!(pg(t)&&pg(e)))return e;const l=(r?t:Object.keys(t)).length,c=r?e:Object.keys(e),u=c.length,p=r?new Array(u):{};let m=0;for(let v=0;v<u;v++){const y=r?v:c[v],x=t[y],S=e[y];if(x===S){p[y]=x,(r?v<l:FC.call(t,y))&&m++;continue}if(x===null||S===null||typeof x!="object"||typeof S!="object"){p[y]=S;continue}const E=g_(x,S);p[y]=E,E===x&&m++}return l===u&&m===l?t:p}function vf(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const r in t)if(t[r]!==e[r])return!1;return!0}function ly(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function pg(t){if(!cy(t))return!1;const e=t.constructor;if(e===void 0)return!0;const r=e.prototype;return!(!cy(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function cy(t){return Object.prototype.toString.call(t)==="[object Object]"}function UC(t){return new Promise(e=>{Fa.setTimeout(e,t)})}function gg(t,e,r){return typeof r.structuralSharing=="function"?r.structuralSharing(t,e):r.structuralSharing!==!1?g_(t,e):e}function qC(t,e,r=0){const s=[...t,e];return r&&s.length>r?s.slice(1):s}function WC(t,e,r=0){const s=[e,...t];return r&&s.length>r?s.slice(0,-1):s}var vv=Symbol();function v_(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===vv?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function x_(t,e){return typeof t=="function"?t(...e):!!t}var Ha,Fi,fc,$b,HC=($b=class extends Mc{constructor(){super();Ye(this,Ha);Ye(this,Fi);Ye(this,fc);Be(this,fc,e=>{if(!tl&&window.addEventListener){const r=()=>e();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){X(this,Fi)||this.setEventListener(X(this,fc))}onUnsubscribe(){var e;this.hasListeners()||((e=X(this,Fi))==null||e.call(this),Be(this,Fi,void 0))}setEventListener(e){var r;Be(this,fc,e),(r=X(this,Fi))==null||r.call(this),Be(this,Fi,e(s=>{typeof s=="boolean"?this.setFocused(s):this.onFocus()}))}setFocused(e){X(this,Ha)!==e&&(Be(this,Ha,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(r=>{r(e)})}isFocused(){var e;return typeof X(this,Ha)=="boolean"?X(this,Ha):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Ha=new WeakMap,Fi=new WeakMap,fc=new WeakMap,$b),xv=new HC;function vg(){let t,e;const r=new Promise((l,c)=>{t=l,e=c});r.status="pending",r.catch(()=>{});function s(l){Object.assign(r,l),delete r.resolve,delete r.reject}return r.resolve=l=>{s({status:"fulfilled",value:l}),t(l)},r.reject=l=>{s({status:"rejected",reason:l}),e(l)},r}var VC=zC;function GC(){let t=[],e=0,r=p=>{p()},s=p=>{p()},l=VC;const c=p=>{e?t.push(p):l(()=>{r(p)})},u=()=>{const p=t;t=[],p.length&&l(()=>{s(()=>{p.forEach(m=>{r(m)})})})};return{batch:p=>{let m;e++;try{m=p()}finally{e--,e||u()}return m},batchCalls:p=>(...m)=>{c(()=>{p(...m)})},schedule:c,setNotifyFunction:p=>{r=p},setBatchNotifyFunction:p=>{s=p},setScheduler:p=>{l=p}}}var Rr=GC(),mc,Ui,pc,Fb,KC=(Fb=class extends Mc{constructor(){super();Ye(this,mc,!0);Ye(this,Ui);Ye(this,pc);Be(this,pc,e=>{if(!tl&&window.addEventListener){const r=()=>e(!0),s=()=>e(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",s,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",s)}}})}onSubscribe(){X(this,Ui)||this.setEventListener(X(this,pc))}onUnsubscribe(){var e;this.hasListeners()||((e=X(this,Ui))==null||e.call(this),Be(this,Ui,void 0))}setEventListener(e){var r;Be(this,pc,e),(r=X(this,Ui))==null||r.call(this),Be(this,Ui,e(this.setOnline.bind(this)))}setOnline(e){X(this,mc)!==e&&(Be(this,mc,e),this.listeners.forEach(s=>{s(e)}))}isOnline(){return X(this,mc)}},mc=new WeakMap,Ui=new WeakMap,pc=new WeakMap,Fb),xf=new KC;function ZC(t){return Math.min(1e3*2**t,3e4)}function y_(t){return(t??"online")==="online"?xf.isOnline():!0}var xg=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function b_(t){let e=!1,r=0,s;const l=vg(),c=()=>l.status!=="pending",u=N=>{var P;if(!c()){const O=new xg(N);S(O),(P=t.onCancel)==null||P.call(t,O)}},p=()=>{e=!0},m=()=>{e=!1},v=()=>xv.isFocused()&&(t.networkMode==="always"||xf.isOnline())&&t.canRun(),y=()=>y_(t.networkMode)&&t.canRun(),x=N=>{c()||(s==null||s(),l.resolve(N))},S=N=>{c()||(s==null||s(),l.reject(N))},E=()=>new Promise(N=>{var P;s=O=>{(c()||v())&&N(O)},(P=t.onPause)==null||P.call(t)}).then(()=>{var N;s=void 0,c()||(N=t.onContinue)==null||N.call(t)}),k=()=>{if(c())return;let N;const P=r===0?t.initialPromise:void 0;try{N=P??t.fn()}catch(O){N=Promise.reject(O)}Promise.resolve(N).then(x).catch(O=>{var B;if(c())return;const T=t.retry??(tl?0:3),R=t.retryDelay??ZC,D=typeof R=="function"?R(r,O):R,K=T===!0||typeof T=="number"&&r<T||typeof T=="function"&&T(r,O);if(e||!K){S(O);return}r++,(B=t.onFail)==null||B.call(t,r,O),UC(D).then(()=>v()?void 0:E()).then(()=>{e?S(O):k()})})};return{promise:l,status:()=>l.status,cancel:u,continue:()=>(s==null||s(),l),cancelRetry:p,continueRetry:m,canStart:y,start:()=>(y()?k():E().then(k),l)}}var Va,Ub,__=(Ub=class{constructor(){Ye(this,Va)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),mg(this.gcTime)&&Be(this,Va,Fa.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(tl?1/0:300*1e3))}clearGcTimeout(){X(this,Va)&&(Fa.clearTimeout(X(this,Va)),Be(this,Va,void 0))}},Va=new WeakMap,Ub),Ga,gc,io,Ka,Dr,lu,Za,Po,zs,qb,QC=(qb=class extends __{constructor(e){super();Ye(this,Po);Ye(this,Ga);Ye(this,gc);Ye(this,io);Ye(this,Ka);Ye(this,Dr);Ye(this,lu);Ye(this,Za);Be(this,Za,!1),Be(this,lu,e.defaultOptions),this.setOptions(e.options),this.observers=[],Be(this,Ka,e.client),Be(this,io,X(this,Ka).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,Be(this,Ga,dy(this.options)),this.state=e.state??X(this,Ga),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=X(this,Dr))==null?void 0:e.promise}setOptions(e){if(this.options={...X(this,lu),...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=dy(this.options);r.data!==void 0&&(this.setData(r.data,{updatedAt:r.dataUpdatedAt,manual:!0}),Be(this,Ga,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&X(this,io).remove(this)}setData(e,r){const s=gg(this.state.data,e,this.options);return mt(this,Po,zs).call(this,{data:s,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),s}setState(e,r){mt(this,Po,zs).call(this,{type:"setState",state:e,setStateOptions:r})}cancel(e){var s,l;const r=(s=X(this,Dr))==null?void 0:s.promise;return(l=X(this,Dr))==null||l.cancel(e),r?r.then(un).catch(un):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(X(this,Ga))}isActive(){return this.observers.some(e=>ao(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===vv||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>Yi(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!p_(this.state.dataUpdatedAt,e)}onFocus(){var r;const e=this.observers.find(s=>s.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(r=X(this,Dr))==null||r.continue()}onOnline(){var r;const e=this.observers.find(s=>s.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(r=X(this,Dr))==null||r.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),X(this,io).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(r=>r!==e),this.observers.length||(X(this,Dr)&&(X(this,Za)?X(this,Dr).cancel({revert:!0}):X(this,Dr).cancelRetry()),this.scheduleGc()),X(this,io).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||mt(this,Po,zs).call(this,{type:"invalidate"})}async fetch(e,r){var m,v,y,x,S,E,k,N,P,O,T,R;if(this.state.fetchStatus!=="idle"&&((m=X(this,Dr))==null?void 0:m.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(X(this,Dr))return X(this,Dr).continueRetry(),X(this,Dr).promise}if(e&&this.setOptions(e),!this.options.queryFn){const D=this.observers.find(K=>K.options.queryFn);D&&this.setOptions(D.options)}const s=new AbortController,l=D=>{Object.defineProperty(D,"signal",{enumerable:!0,get:()=>(Be(this,Za,!0),s.signal)})},c=()=>{const D=v_(this.options,r),B=(()=>{const Q={client:X(this,Ka),queryKey:this.queryKey,meta:this.meta};return l(Q),Q})();return Be(this,Za,!1),this.options.persister?this.options.persister(D,B,this):D(B)},p=(()=>{const D={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:X(this,Ka),state:this.state,fetchFn:c};return l(D),D})();(v=this.options.behavior)==null||v.onFetch(p,this),Be(this,gc,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((y=p.fetchOptions)==null?void 0:y.meta))&&mt(this,Po,zs).call(this,{type:"fetch",meta:(x=p.fetchOptions)==null?void 0:x.meta}),Be(this,Dr,b_({initialPromise:r==null?void 0:r.initialPromise,fn:p.fetchFn,onCancel:D=>{D instanceof xg&&D.revert&&this.setState({...X(this,gc),fetchStatus:"idle"}),s.abort()},onFail:(D,K)=>{mt(this,Po,zs).call(this,{type:"failed",failureCount:D,error:K})},onPause:()=>{mt(this,Po,zs).call(this,{type:"pause"})},onContinue:()=>{mt(this,Po,zs).call(this,{type:"continue"})},retry:p.options.retry,retryDelay:p.options.retryDelay,networkMode:p.options.networkMode,canRun:()=>!0}));try{const D=await X(this,Dr).start();if(D===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(D),(E=(S=X(this,io).config).onSuccess)==null||E.call(S,D,this),(N=(k=X(this,io).config).onSettled)==null||N.call(k,D,this.state.error,this),D}catch(D){if(D instanceof xg){if(D.silent)return X(this,Dr).promise;if(D.revert){if(this.state.data===void 0)throw D;return this.state.data}}throw mt(this,Po,zs).call(this,{type:"error",error:D}),(O=(P=X(this,io).config).onError)==null||O.call(P,D,this),(R=(T=X(this,io).config).onSettled)==null||R.call(T,this.state.data,D,this),D}finally{this.scheduleGc()}}},Ga=new WeakMap,gc=new WeakMap,io=new WeakMap,Ka=new WeakMap,Dr=new WeakMap,lu=new WeakMap,Za=new WeakMap,Po=new WeakSet,zs=function(e){const r=s=>{switch(e.type){case"failed":return{...s,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...w_(s.data,this.options),fetchMeta:e.meta??null};case"success":const l={...s,data:e.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return Be(this,gc,e.manual?l:void 0),l;case"error":const c=e.error;return{...s,error:c,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:c,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...e.state}}};this.state=r(this.state),Rr.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),X(this,io).notify({query:this,type:"updated",action:e})})},qb);function w_(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:y_(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function dy(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,r=e!==void 0,s=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?s??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Sn,bt,cu,cn,Qa,vc,$s,qi,du,xc,yc,Ya,Ja,Wi,bc,At,Wd,yg,bg,_g,wg,jg,Sg,Eg,j_,Wb,YC=(Wb=class extends Mc{constructor(e,r){super();Ye(this,At);Ye(this,Sn);Ye(this,bt);Ye(this,cu);Ye(this,cn);Ye(this,Qa);Ye(this,vc);Ye(this,$s);Ye(this,qi);Ye(this,du);Ye(this,xc);Ye(this,yc);Ye(this,Ya);Ye(this,Ja);Ye(this,Wi);Ye(this,bc,new Set);this.options=r,Be(this,Sn,e),Be(this,qi,null),Be(this,$s,vg()),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(X(this,bt).addObserver(this),uy(X(this,bt),this.options)?mt(this,At,Wd).call(this):this.updateResult(),mt(this,At,wg).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Ng(X(this,bt),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Ng(X(this,bt),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,mt(this,At,jg).call(this),mt(this,At,Sg).call(this),X(this,bt).removeObserver(this)}setOptions(e){const r=this.options,s=X(this,bt);if(this.options=X(this,Sn).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof ao(this.options.enabled,X(this,bt))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");mt(this,At,Eg).call(this),X(this,bt).setOptions(this.options),r._defaulted&&!vf(this.options,r)&&X(this,Sn).getQueryCache().notify({type:"observerOptionsUpdated",query:X(this,bt),observer:this});const l=this.hasListeners();l&&hy(X(this,bt),s,this.options,r)&&mt(this,At,Wd).call(this),this.updateResult(),l&&(X(this,bt)!==s||ao(this.options.enabled,X(this,bt))!==ao(r.enabled,X(this,bt))||Yi(this.options.staleTime,X(this,bt))!==Yi(r.staleTime,X(this,bt)))&&mt(this,At,yg).call(this);const c=mt(this,At,bg).call(this);l&&(X(this,bt)!==s||ao(this.options.enabled,X(this,bt))!==ao(r.enabled,X(this,bt))||c!==X(this,Wi))&&mt(this,At,_g).call(this,c)}getOptimisticResult(e){const r=X(this,Sn).getQueryCache().build(X(this,Sn),e),s=this.createResult(r,e);return XC(this,s)&&(Be(this,cn,s),Be(this,vc,this.options),Be(this,Qa,X(this,bt).state)),s}getCurrentResult(){return X(this,cn)}trackResult(e,r){return new Proxy(e,{get:(s,l)=>(this.trackProp(l),r==null||r(l),l==="promise"&&!this.options.experimental_prefetchInRender&&X(this,$s).status==="pending"&&X(this,$s).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),Reflect.get(s,l))})}trackProp(e){X(this,bc).add(e)}getCurrentQuery(){return X(this,bt)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const r=X(this,Sn).defaultQueryOptions(e),s=X(this,Sn).getQueryCache().build(X(this,Sn),r);return s.fetch().then(()=>this.createResult(s,r))}fetch(e){return mt(this,At,Wd).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),X(this,cn)))}createResult(e,r){var we;const s=X(this,bt),l=this.options,c=X(this,cn),u=X(this,Qa),p=X(this,vc),v=e!==s?e.state:X(this,cu),{state:y}=e;let x={...y},S=!1,E;if(r._optimisticResults){const ee=this.hasListeners(),$=!ee&&uy(e,r),te=ee&&hy(e,s,r,l);($||te)&&(x={...x,...w_(y.data,e.options)}),r._optimisticResults==="isRestoring"&&(x.fetchStatus="idle")}let{error:k,errorUpdatedAt:N,status:P}=x;E=x.data;let O=!1;if(r.placeholderData!==void 0&&E===void 0&&P==="pending"){let ee;c!=null&&c.isPlaceholderData&&r.placeholderData===(p==null?void 0:p.placeholderData)?(ee=c.data,O=!0):ee=typeof r.placeholderData=="function"?r.placeholderData((we=X(this,yc))==null?void 0:we.state.data,X(this,yc)):r.placeholderData,ee!==void 0&&(P="success",E=gg(c==null?void 0:c.data,ee,r),S=!0)}if(r.select&&E!==void 0&&!O)if(c&&E===(u==null?void 0:u.data)&&r.select===X(this,du))E=X(this,xc);else try{Be(this,du,r.select),E=r.select(E),E=gg(c==null?void 0:c.data,E,r),Be(this,xc,E),Be(this,qi,null)}catch(ee){Be(this,qi,ee)}X(this,qi)&&(k=X(this,qi),E=X(this,xc),N=Date.now(),P="error");const T=x.fetchStatus==="fetching",R=P==="pending",D=P==="error",K=R&&T,B=E!==void 0,ne={status:P,fetchStatus:x.fetchStatus,isPending:R,isSuccess:P==="success",isError:D,isInitialLoading:K,isLoading:K,data:E,dataUpdatedAt:x.dataUpdatedAt,error:k,errorUpdatedAt:N,failureCount:x.fetchFailureCount,failureReason:x.fetchFailureReason,errorUpdateCount:x.errorUpdateCount,isFetched:x.dataUpdateCount>0||x.errorUpdateCount>0,isFetchedAfterMount:x.dataUpdateCount>v.dataUpdateCount||x.errorUpdateCount>v.errorUpdateCount,isFetching:T,isRefetching:T&&!R,isLoadingError:D&&!B,isPaused:x.fetchStatus==="paused",isPlaceholderData:S,isRefetchError:D&&B,isStale:yv(e,r),refetch:this.refetch,promise:X(this,$s),isEnabled:ao(r.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const ee=U=>{ne.status==="error"?U.reject(ne.error):ne.data!==void 0&&U.resolve(ne.data)},$=()=>{const U=Be(this,$s,ne.promise=vg());ee(U)},te=X(this,$s);switch(te.status){case"pending":e.queryHash===s.queryHash&&ee(te);break;case"fulfilled":(ne.status==="error"||ne.data!==te.value)&&$();break;case"rejected":(ne.status!=="error"||ne.error!==te.reason)&&$();break}}return ne}updateResult(){const e=X(this,cn),r=this.createResult(X(this,bt),this.options);if(Be(this,Qa,X(this,bt).state),Be(this,vc,this.options),X(this,Qa).data!==void 0&&Be(this,yc,X(this,bt)),vf(r,e))return;Be(this,cn,r);const s=()=>{if(!e)return!0;const{notifyOnChangeProps:l}=this.options,c=typeof l=="function"?l():l;if(c==="all"||!c&&!X(this,bc).size)return!0;const u=new Set(c??X(this,bc));return this.options.throwOnError&&u.add("error"),Object.keys(X(this,cn)).some(p=>{const m=p;return X(this,cn)[m]!==e[m]&&u.has(m)})};mt(this,At,j_).call(this,{listeners:s()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&mt(this,At,wg).call(this)}},Sn=new WeakMap,bt=new WeakMap,cu=new WeakMap,cn=new WeakMap,Qa=new WeakMap,vc=new WeakMap,$s=new WeakMap,qi=new WeakMap,du=new WeakMap,xc=new WeakMap,yc=new WeakMap,Ya=new WeakMap,Ja=new WeakMap,Wi=new WeakMap,bc=new WeakMap,At=new WeakSet,Wd=function(e){mt(this,At,Eg).call(this);let r=X(this,bt).fetch(this.options,e);return e!=null&&e.throwOnError||(r=r.catch(un)),r},yg=function(){mt(this,At,jg).call(this);const e=Yi(this.options.staleTime,X(this,bt));if(tl||X(this,cn).isStale||!mg(e))return;const s=p_(X(this,cn).dataUpdatedAt,e)+1;Be(this,Ya,Fa.setTimeout(()=>{X(this,cn).isStale||this.updateResult()},s))},bg=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(X(this,bt)):this.options.refetchInterval)??!1},_g=function(e){mt(this,At,Sg).call(this),Be(this,Wi,e),!(tl||ao(this.options.enabled,X(this,bt))===!1||!mg(X(this,Wi))||X(this,Wi)===0)&&Be(this,Ja,Fa.setInterval(()=>{(this.options.refetchIntervalInBackground||xv.isFocused())&&mt(this,At,Wd).call(this)},X(this,Wi)))},wg=function(){mt(this,At,yg).call(this),mt(this,At,_g).call(this,mt(this,At,bg).call(this))},jg=function(){X(this,Ya)&&(Fa.clearTimeout(X(this,Ya)),Be(this,Ya,void 0))},Sg=function(){X(this,Ja)&&(Fa.clearInterval(X(this,Ja)),Be(this,Ja,void 0))},Eg=function(){const e=X(this,Sn).getQueryCache().build(X(this,Sn),this.options);if(e===X(this,bt))return;const r=X(this,bt);Be(this,bt,e),Be(this,cu,e.state),this.hasListeners()&&(r==null||r.removeObserver(this),e.addObserver(this))},j_=function(e){Rr.batch(()=>{e.listeners&&this.listeners.forEach(r=>{r(X(this,cn))}),X(this,Sn).getQueryCache().notify({query:X(this,bt),type:"observerResultsUpdated"})})},Wb);function JC(t,e){return ao(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function uy(t,e){return JC(t,e)||t.state.data!==void 0&&Ng(t,e,e.refetchOnMount)}function Ng(t,e,r){if(ao(e.enabled,t)!==!1&&Yi(e.staleTime,t)!=="static"){const s=typeof r=="function"?r(t):r;return s==="always"||s!==!1&&yv(t,e)}return!1}function hy(t,e,r,s){return(t!==e||ao(s.enabled,t)===!1)&&(!r.suspense||t.state.status!=="error")&&yv(t,r)}function yv(t,e){return ao(e.enabled,t)!==!1&&t.isStaleByTime(Yi(e.staleTime,t))}function XC(t,e){return!vf(t.getCurrentResult(),e)}function fy(t){return{onFetch:(e,r)=>{var y,x,S,E,k;const s=e.options,l=(S=(x=(y=e.fetchOptions)==null?void 0:y.meta)==null?void 0:x.fetchMore)==null?void 0:S.direction,c=((E=e.state.data)==null?void 0:E.pages)||[],u=((k=e.state.data)==null?void 0:k.pageParams)||[];let p={pages:[],pageParams:[]},m=0;const v=async()=>{let N=!1;const P=R=>{Object.defineProperty(R,"signal",{enumerable:!0,get:()=>(e.signal.aborted?N=!0:e.signal.addEventListener("abort",()=>{N=!0}),e.signal)})},O=v_(e.options,e.fetchOptions),T=async(R,D,K)=>{if(N)return Promise.reject();if(D==null&&R.pages.length)return Promise.resolve(R);const Q=(()=>{const $={client:e.client,queryKey:e.queryKey,pageParam:D,direction:K?"backward":"forward",meta:e.options.meta};return P($),$})(),ne=await O(Q),{maxPages:we}=e.options,ee=K?WC:qC;return{pages:ee(R.pages,ne,we),pageParams:ee(R.pageParams,D,we)}};if(l&&c.length){const R=l==="backward",D=R?e2:my,K={pages:c,pageParams:u},B=D(s,K);p=await T(K,B,R)}else{const R=t??c.length;do{const D=m===0?u[0]??s.initialPageParam:my(s,p);if(m>0&&D==null)break;p=await T(p,D),m++}while(m<R)}return p};e.options.persister?e.fetchFn=()=>{var N,P;return(P=(N=e.options).persister)==null?void 0:P.call(N,v,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},r)}:e.fetchFn=v}}}function my(t,{pages:e,pageParams:r}){const s=e.length-1;return e.length>0?t.getNextPageParam(e[s],e,r[s],r):void 0}function e2(t,{pages:e,pageParams:r}){var s;return e.length>0?(s=t.getPreviousPageParam)==null?void 0:s.call(t,e[0],e,r[0],r):void 0}var uu,os,dn,Xa,ss,Ii,Hb,t2=(Hb=class extends __{constructor(e){super();Ye(this,ss);Ye(this,uu);Ye(this,os);Ye(this,dn);Ye(this,Xa);Be(this,uu,e.client),this.mutationId=e.mutationId,Be(this,dn,e.mutationCache),Be(this,os,[]),this.state=e.state||S_(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){X(this,os).includes(e)||(X(this,os).push(e),this.clearGcTimeout(),X(this,dn).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){Be(this,os,X(this,os).filter(r=>r!==e)),this.scheduleGc(),X(this,dn).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){X(this,os).length||(this.state.status==="pending"?this.scheduleGc():X(this,dn).remove(this))}continue(){var e;return((e=X(this,Xa))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var u,p,m,v,y,x,S,E,k,N,P,O,T,R,D,K,B,Q,ne,we;const r=()=>{mt(this,ss,Ii).call(this,{type:"continue"})},s={client:X(this,uu),meta:this.options.meta,mutationKey:this.options.mutationKey};Be(this,Xa,b_({fn:()=>this.options.mutationFn?this.options.mutationFn(e,s):Promise.reject(new Error("No mutationFn found")),onFail:(ee,$)=>{mt(this,ss,Ii).call(this,{type:"failed",failureCount:ee,error:$})},onPause:()=>{mt(this,ss,Ii).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>X(this,dn).canRun(this)}));const l=this.state.status==="pending",c=!X(this,Xa).canStart();try{if(l)r();else{mt(this,ss,Ii).call(this,{type:"pending",variables:e,isPaused:c}),await((p=(u=X(this,dn).config).onMutate)==null?void 0:p.call(u,e,this,s));const $=await((v=(m=this.options).onMutate)==null?void 0:v.call(m,e,s));$!==this.state.context&&mt(this,ss,Ii).call(this,{type:"pending",context:$,variables:e,isPaused:c})}const ee=await X(this,Xa).start();return await((x=(y=X(this,dn).config).onSuccess)==null?void 0:x.call(y,ee,e,this.state.context,this,s)),await((E=(S=this.options).onSuccess)==null?void 0:E.call(S,ee,e,this.state.context,s)),await((N=(k=X(this,dn).config).onSettled)==null?void 0:N.call(k,ee,null,this.state.variables,this.state.context,this,s)),await((O=(P=this.options).onSettled)==null?void 0:O.call(P,ee,null,e,this.state.context,s)),mt(this,ss,Ii).call(this,{type:"success",data:ee}),ee}catch(ee){try{throw await((R=(T=X(this,dn).config).onError)==null?void 0:R.call(T,ee,e,this.state.context,this,s)),await((K=(D=this.options).onError)==null?void 0:K.call(D,ee,e,this.state.context,s)),await((Q=(B=X(this,dn).config).onSettled)==null?void 0:Q.call(B,void 0,ee,this.state.variables,this.state.context,this,s)),await((we=(ne=this.options).onSettled)==null?void 0:we.call(ne,void 0,ee,e,this.state.context,s)),ee}finally{mt(this,ss,Ii).call(this,{type:"error",error:ee})}}finally{X(this,dn).runNext(this)}}},uu=new WeakMap,os=new WeakMap,dn=new WeakMap,Xa=new WeakMap,ss=new WeakSet,Ii=function(e){const r=s=>{switch(e.type){case"failed":return{...s,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...s,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:e.error,failureCount:s.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Rr.batch(()=>{X(this,os).forEach(s=>{s.onMutationUpdate(e)}),X(this,dn).notify({mutation:this,type:"updated",action:e})})},Hb);function S_(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Fs,To,hu,Vb,r2=(Vb=class extends Mc{constructor(e={}){super();Ye(this,Fs);Ye(this,To);Ye(this,hu);this.config=e,Be(this,Fs,new Set),Be(this,To,new Map),Be(this,hu,0)}build(e,r,s){const l=new t2({client:e,mutationCache:this,mutationId:++Mh(this,hu)._,options:e.defaultMutationOptions(r),state:s});return this.add(l),l}add(e){X(this,Fs).add(e);const r=Bh(e);if(typeof r=="string"){const s=X(this,To).get(r);s?s.push(e):X(this,To).set(r,[e])}this.notify({type:"added",mutation:e})}remove(e){if(X(this,Fs).delete(e)){const r=Bh(e);if(typeof r=="string"){const s=X(this,To).get(r);if(s)if(s.length>1){const l=s.indexOf(e);l!==-1&&s.splice(l,1)}else s[0]===e&&X(this,To).delete(r)}}this.notify({type:"removed",mutation:e})}canRun(e){const r=Bh(e);if(typeof r=="string"){const s=X(this,To).get(r),l=s==null?void 0:s.find(c=>c.state.status==="pending");return!l||l===e}else return!0}runNext(e){var s;const r=Bh(e);if(typeof r=="string"){const l=(s=X(this,To).get(r))==null?void 0:s.find(c=>c!==e&&c.state.isPaused);return(l==null?void 0:l.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Rr.batch(()=>{X(this,Fs).forEach(e=>{this.notify({type:"removed",mutation:e})}),X(this,Fs).clear(),X(this,To).clear()})}getAll(){return Array.from(X(this,Fs))}find(e){const r={exact:!0,...e};return this.getAll().find(s=>ay(r,s))}findAll(e={}){return this.getAll().filter(r=>ay(e,r))}notify(e){Rr.batch(()=>{this.listeners.forEach(r=>{r(e)})})}resumePausedMutations(){const e=this.getAll().filter(r=>r.state.isPaused);return Rr.batch(()=>Promise.all(e.map(r=>r.continue().catch(un))))}},Fs=new WeakMap,To=new WeakMap,hu=new WeakMap,Vb);function Bh(t){var e;return(e=t.options.scope)==null?void 0:e.id}var Us,Hi,En,qs,Zs,af,Cg,Gb,n2=(Gb=class extends Mc{constructor(r,s){super();Ye(this,Zs);Ye(this,Us);Ye(this,Hi);Ye(this,En);Ye(this,qs);Be(this,Us,r),this.setOptions(s),this.bindMethods(),mt(this,Zs,af).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var l;const s=this.options;this.options=X(this,Us).defaultMutationOptions(r),vf(this.options,s)||X(this,Us).getMutationCache().notify({type:"observerOptionsUpdated",mutation:X(this,En),observer:this}),s!=null&&s.mutationKey&&this.options.mutationKey&&rl(s.mutationKey)!==rl(this.options.mutationKey)?this.reset():((l=X(this,En))==null?void 0:l.state.status)==="pending"&&X(this,En).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=X(this,En))==null||r.removeObserver(this)}onMutationUpdate(r){mt(this,Zs,af).call(this),mt(this,Zs,Cg).call(this,r)}getCurrentResult(){return X(this,Hi)}reset(){var r;(r=X(this,En))==null||r.removeObserver(this),Be(this,En,void 0),mt(this,Zs,af).call(this),mt(this,Zs,Cg).call(this)}mutate(r,s){var l;return Be(this,qs,s),(l=X(this,En))==null||l.removeObserver(this),Be(this,En,X(this,Us).getMutationCache().build(X(this,Us),this.options)),X(this,En).addObserver(this),X(this,En).execute(r)}},Us=new WeakMap,Hi=new WeakMap,En=new WeakMap,qs=new WeakMap,Zs=new WeakSet,af=function(){var s;const r=((s=X(this,En))==null?void 0:s.state)??S_();Be(this,Hi,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},Cg=function(r){Rr.batch(()=>{var s,l,c,u,p,m,v,y;if(X(this,qs)&&this.hasListeners()){const x=X(this,Hi).variables,S=X(this,Hi).context,E={client:X(this,Us),meta:this.options.meta,mutationKey:this.options.mutationKey};(r==null?void 0:r.type)==="success"?((l=(s=X(this,qs)).onSuccess)==null||l.call(s,r.data,x,S,E),(u=(c=X(this,qs)).onSettled)==null||u.call(c,r.data,null,x,S,E)):(r==null?void 0:r.type)==="error"&&((m=(p=X(this,qs)).onError)==null||m.call(p,r.error,x,S,E),(y=(v=X(this,qs)).onSettled)==null||y.call(v,void 0,r.error,x,S,E))}this.listeners.forEach(x=>{x(X(this,Hi))})})},Gb),is,Kb,o2=(Kb=class extends Mc{constructor(e={}){super();Ye(this,is);this.config=e,Be(this,is,new Map)}build(e,r,s){const l=r.queryKey,c=r.queryHash??gv(l,r);let u=this.get(c);return u||(u=new QC({client:e,queryKey:l,queryHash:c,options:e.defaultQueryOptions(r),state:s,defaultOptions:e.getQueryDefaults(l)}),this.add(u)),u}add(e){X(this,is).has(e.queryHash)||(X(this,is).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const r=X(this,is).get(e.queryHash);r&&(e.destroy(),r===e&&X(this,is).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Rr.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return X(this,is).get(e)}getAll(){return[...X(this,is).values()]}find(e){const r={exact:!0,...e};return this.getAll().find(s=>iy(r,s))}findAll(e={}){const r=this.getAll();return Object.keys(e).length>0?r.filter(s=>iy(e,s)):r}notify(e){Rr.batch(()=>{this.listeners.forEach(r=>{r(e)})})}onFocus(){Rr.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Rr.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},is=new WeakMap,Kb),dr,Vi,Gi,_c,wc,Ki,jc,Sc,Zb,s2=(Zb=class{constructor(t={}){Ye(this,dr);Ye(this,Vi);Ye(this,Gi);Ye(this,_c);Ye(this,wc);Ye(this,Ki);Ye(this,jc);Ye(this,Sc);Be(this,dr,t.queryCache||new o2),Be(this,Vi,t.mutationCache||new r2),Be(this,Gi,t.defaultOptions||{}),Be(this,_c,new Map),Be(this,wc,new Map),Be(this,Ki,0)}mount(){Mh(this,Ki)._++,X(this,Ki)===1&&(Be(this,jc,xv.subscribe(async t=>{t&&(await this.resumePausedMutations(),X(this,dr).onFocus())})),Be(this,Sc,xf.subscribe(async t=>{t&&(await this.resumePausedMutations(),X(this,dr).onOnline())})))}unmount(){var t,e;Mh(this,Ki)._--,X(this,Ki)===0&&((t=X(this,jc))==null||t.call(this),Be(this,jc,void 0),(e=X(this,Sc))==null||e.call(this),Be(this,Sc,void 0))}isFetching(t){return X(this,dr).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return X(this,Vi).findAll({...t,status:"pending"}).length}getQueryData(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=X(this,dr).get(e.queryHash))==null?void 0:r.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),r=X(this,dr).build(this,e),s=r.state.data;return s===void 0?this.fetchQuery(t):(t.revalidateIfStale&&r.isStaleByTime(Yi(e.staleTime,r))&&this.prefetchQuery(e),Promise.resolve(s))}getQueriesData(t){return X(this,dr).findAll(t).map(({queryKey:e,state:r})=>{const s=r.data;return[e,s]})}setQueryData(t,e,r){const s=this.defaultQueryOptions({queryKey:t}),l=X(this,dr).get(s.queryHash),c=l==null?void 0:l.state.data,u=$C(e,c);if(u!==void 0)return X(this,dr).build(this,s).setData(u,{...r,manual:!0})}setQueriesData(t,e,r){return Rr.batch(()=>X(this,dr).findAll(t).map(({queryKey:s})=>[s,this.setQueryData(s,e,r)]))}getQueryState(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=X(this,dr).get(e.queryHash))==null?void 0:r.state}removeQueries(t){const e=X(this,dr);Rr.batch(()=>{e.findAll(t).forEach(r=>{e.remove(r)})})}resetQueries(t,e){const r=X(this,dr);return Rr.batch(()=>(r.findAll(t).forEach(s=>{s.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const r={revert:!0,...e},s=Rr.batch(()=>X(this,dr).findAll(t).map(l=>l.cancel(r)));return Promise.all(s).then(un).catch(un)}invalidateQueries(t,e={}){return Rr.batch(()=>(X(this,dr).findAll(t).forEach(r=>{r.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const r={...e,cancelRefetch:e.cancelRefetch??!0},s=Rr.batch(()=>X(this,dr).findAll(t).filter(l=>!l.isDisabled()&&!l.isStatic()).map(l=>{let c=l.fetch(void 0,r);return r.throwOnError||(c=c.catch(un)),l.state.fetchStatus==="paused"?Promise.resolve():c}));return Promise.all(s).then(un)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const r=X(this,dr).build(this,e);return r.isStaleByTime(Yi(e.staleTime,r))?r.fetch(e):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(un).catch(un)}fetchInfiniteQuery(t){return t.behavior=fy(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(un).catch(un)}ensureInfiniteQueryData(t){return t.behavior=fy(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return xf.isOnline()?X(this,Vi).resumePausedMutations():Promise.resolve()}getQueryCache(){return X(this,dr)}getMutationCache(){return X(this,Vi)}getDefaultOptions(){return X(this,Gi)}setDefaultOptions(t){Be(this,Gi,t)}setQueryDefaults(t,e){X(this,_c).set(rl(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...X(this,_c).values()],r={};return e.forEach(s=>{eu(t,s.queryKey)&&Object.assign(r,s.defaultOptions)}),r}setMutationDefaults(t,e){X(this,wc).set(rl(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...X(this,wc).values()],r={};return e.forEach(s=>{eu(t,s.mutationKey)&&Object.assign(r,s.defaultOptions)}),r}defaultQueryOptions(t){if(t._defaulted)return t;const e={...X(this,Gi).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=gv(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===vv&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...X(this,Gi).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){X(this,dr).clear(),X(this,Vi).clear()}},dr=new WeakMap,Vi=new WeakMap,Gi=new WeakMap,_c=new WeakMap,wc=new WeakMap,Ki=new WeakMap,jc=new WeakMap,Sc=new WeakMap,Zb),E_=w.createContext(void 0),mo=t=>{const e=w.useContext(E_);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},i2=({client:t,children:e})=>(w.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),n.jsx(E_.Provider,{value:t,children:e})),N_=w.createContext(!1),a2=()=>w.useContext(N_);N_.Provider;function l2(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var c2=w.createContext(l2()),d2=()=>w.useContext(c2),u2=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},h2=t=>{w.useEffect(()=>{t.clearReset()},[t])},f2=({result:t,errorResetBoundary:e,throwOnError:r,query:s,suspense:l})=>t.isError&&!e.isReset()&&!t.isFetching&&s&&(l&&t.data===void 0||x_(r,[t.error,s])),m2=t=>{if(t.suspense){const r=l=>l==="static"?l:Math.max(l??1e3,1e3),s=t.staleTime;t.staleTime=typeof s=="function"?(...l)=>r(s(...l)):r(s),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},p2=(t,e)=>t.isLoading&&t.isFetching&&!e,g2=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,py=(t,e,r)=>e.fetchOptimistic(t).catch(()=>{r.clearReset()});function v2(t,e,r){var x,S,E,k,N;const s=a2(),l=d2(),c=mo(),u=c.defaultQueryOptions(t);(S=(x=c.getDefaultOptions().queries)==null?void 0:x._experimental_beforeQuery)==null||S.call(x,u),u._optimisticResults=s?"isRestoring":"optimistic",m2(u),u2(u,l),h2(l);const p=!c.getQueryCache().get(u.queryHash),[m]=w.useState(()=>new e(c,u)),v=m.getOptimisticResult(u),y=!s&&t.subscribed!==!1;if(w.useSyncExternalStore(w.useCallback(P=>{const O=y?m.subscribe(Rr.batchCalls(P)):un;return m.updateResult(),O},[m,y]),()=>m.getCurrentResult(),()=>m.getCurrentResult()),w.useEffect(()=>{m.setOptions(u)},[u,m]),g2(u,v))throw py(u,m,l);if(f2({result:v,errorResetBoundary:l,throwOnError:u.throwOnError,query:c.getQueryCache().get(u.queryHash),suspense:u.suspense}))throw v.error;if((k=(E=c.getDefaultOptions().queries)==null?void 0:E._experimental_afterQuery)==null||k.call(E,u,v),u.experimental_prefetchInRender&&!tl&&p2(v,s)){const P=p?py(u,m,l):(N=c.getQueryCache().get(u.queryHash))==null?void 0:N.promise;P==null||P.catch(un).finally(()=>{m.updateResult()})}return u.notifyOnChangeProps?v:m.trackResult(v)}function fn(t,e){return v2(t,YC)}function en(t,e){const r=mo(),[s]=w.useState(()=>new n2(r,t));w.useEffect(()=>{s.setOptions(t)},[s,t]);const l=w.useSyncExternalStore(w.useCallback(u=>s.subscribe(Rr.batchCalls(u)),[s]),()=>s.getCurrentResult(),()=>s.getCurrentResult()),c=w.useCallback((u,p)=>{s.mutate(u,p).catch(un)},[s]);if(l.error&&x_(s.options.throwOnError,[l.error]))throw l.error;return{...l,mutate:c,mutateAsync:l.mutate}}var Is={},zh={},kg=function(t,e){return kg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,s){r.__proto__=s}||function(r,s){for(var l in s)Object.prototype.hasOwnProperty.call(s,l)&&(r[l]=s[l])},kg(t,e)};function C_(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");kg(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var lo=function(){return lo=Object.assign||function(e){for(var r,s=1,l=arguments.length;s<l;s++){r=arguments[s];for(var c in r)Object.prototype.hasOwnProperty.call(r,c)&&(e[c]=r[c])}return e},lo.apply(this,arguments)};function na(t,e){var r={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(r[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,s=Object.getOwnPropertySymbols(t);l<s.length;l++)e.indexOf(s[l])<0&&Object.prototype.propertyIsEnumerable.call(t,s[l])&&(r[s[l]]=t[s[l]]);return r}function k_(t,e,r,s){var l=arguments.length,c=l<3?e:s===null?s=Object.getOwnPropertyDescriptor(e,r):s,u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")c=Reflect.decorate(t,e,r,s);else for(var p=t.length-1;p>=0;p--)(u=t[p])&&(c=(l<3?u(c):l>3?u(e,r,c):u(e,r))||c);return l>3&&c&&Object.defineProperty(e,r,c),c}function P_(t,e){return function(r,s){e(r,s,t)}}function T_(t,e,r,s,l,c){function u(O){if(O!==void 0&&typeof O!="function")throw new TypeError("Function expected");return O}for(var p=s.kind,m=p==="getter"?"get":p==="setter"?"set":"value",v=!e&&t?s.static?t:t.prototype:null,y=e||(v?Object.getOwnPropertyDescriptor(v,s.name):{}),x,S=!1,E=r.length-1;E>=0;E--){var k={};for(var N in s)k[N]=N==="access"?{}:s[N];for(var N in s.access)k.access[N]=s.access[N];k.addInitializer=function(O){if(S)throw new TypeError("Cannot add initializers after decoration has completed");c.push(u(O||null))};var P=(0,r[E])(p==="accessor"?{get:y.get,set:y.set}:y[m],k);if(p==="accessor"){if(P===void 0)continue;if(P===null||typeof P!="object")throw new TypeError("Object expected");(x=u(P.get))&&(y.get=x),(x=u(P.set))&&(y.set=x),(x=u(P.init))&&l.unshift(x)}else(x=u(P))&&(p==="field"?l.unshift(x):y[m]=x)}v&&Object.defineProperty(v,s.name,y),S=!0}function R_(t,e,r){for(var s=arguments.length>2,l=0;l<e.length;l++)r=s?e[l].call(t,r):e[l].call(t);return s?r:void 0}function A_(t){return typeof t=="symbol"?t:"".concat(t)}function O_(t,e,r){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:r?"".concat(r," ",e):e})}function M_(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function qe(t,e,r,s){function l(c){return c instanceof r?c:new r(function(u){u(c)})}return new(r||(r=Promise))(function(c,u){function p(y){try{v(s.next(y))}catch(x){u(x)}}function m(y){try{v(s.throw(y))}catch(x){u(x)}}function v(y){y.done?c(y.value):l(y.value).then(p,m)}v((s=s.apply(t,e||[])).next())})}function L_(t,e){var r={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},s,l,c,u=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return u.next=p(0),u.throw=p(1),u.return=p(2),typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function p(v){return function(y){return m([v,y])}}function m(v){if(s)throw new TypeError("Generator is already executing.");for(;u&&(u=0,v[0]&&(r=0)),r;)try{if(s=1,l&&(c=v[0]&2?l.return:v[0]?l.throw||((c=l.return)&&c.call(l),0):l.next)&&!(c=c.call(l,v[1])).done)return c;switch(l=0,c&&(v=[v[0]&2,c.value]),v[0]){case 0:case 1:c=v;break;case 4:return r.label++,{value:v[1],done:!1};case 5:r.label++,l=v[1],v=[0];continue;case 7:v=r.ops.pop(),r.trys.pop();continue;default:if(c=r.trys,!(c=c.length>0&&c[c.length-1])&&(v[0]===6||v[0]===2)){r=0;continue}if(v[0]===3&&(!c||v[1]>c[0]&&v[1]<c[3])){r.label=v[1];break}if(v[0]===6&&r.label<c[1]){r.label=c[1],c=v;break}if(c&&r.label<c[2]){r.label=c[2],r.ops.push(v);break}c[2]&&r.ops.pop(),r.trys.pop();continue}v=e.call(t,r)}catch(y){v=[6,y],l=0}finally{s=c=0}if(v[0]&5)throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}}var zf=Object.create?(function(t,e,r,s){s===void 0&&(s=r);var l=Object.getOwnPropertyDescriptor(e,r);(!l||("get"in l?!e.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,s,l)}):(function(t,e,r,s){s===void 0&&(s=r),t[s]=e[r]});function I_(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&zf(e,t,r)}function yf(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],s=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&s>=t.length&&(t=void 0),{value:t&&t[s++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function bv(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var s=r.call(t),l,c=[],u;try{for(;(e===void 0||e-- >0)&&!(l=s.next()).done;)c.push(l.value)}catch(p){u={error:p}}finally{try{l&&!l.done&&(r=s.return)&&r.call(s)}finally{if(u)throw u.error}}return c}function D_(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(bv(arguments[e]));return t}function B_(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var s=Array(t),l=0,e=0;e<r;e++)for(var c=arguments[e],u=0,p=c.length;u<p;u++,l++)s[l]=c[u];return s}function _v(t,e,r){if(r||arguments.length===2)for(var s=0,l=e.length,c;s<l;s++)(c||!(s in e))&&(c||(c=Array.prototype.slice.call(e,0,s)),c[s]=e[s]);return t.concat(c||Array.prototype.slice.call(e))}function Ec(t){return this instanceof Ec?(this.v=t,this):new Ec(t)}function z_(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=r.apply(t,e||[]),l,c=[];return l=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),p("next"),p("throw"),p("return",u),l[Symbol.asyncIterator]=function(){return this},l;function u(E){return function(k){return Promise.resolve(k).then(E,x)}}function p(E,k){s[E]&&(l[E]=function(N){return new Promise(function(P,O){c.push([E,N,P,O])>1||m(E,N)})},k&&(l[E]=k(l[E])))}function m(E,k){try{v(s[E](k))}catch(N){S(c[0][3],N)}}function v(E){E.value instanceof Ec?Promise.resolve(E.value.v).then(y,x):S(c[0][2],E)}function y(E){m("next",E)}function x(E){m("throw",E)}function S(E,k){E(k),c.shift(),c.length&&m(c[0][0],c[0][1])}}function $_(t){var e,r;return e={},s("next"),s("throw",function(l){throw l}),s("return"),e[Symbol.iterator]=function(){return this},e;function s(l,c){e[l]=t[l]?function(u){return(r=!r)?{value:Ec(t[l](u)),done:!1}:c?c(u):u}:c}}function F_(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof yf=="function"?yf(t):t[Symbol.iterator](),r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r);function s(c){r[c]=t[c]&&function(u){return new Promise(function(p,m){u=t[c](u),l(p,m,u.done,u.value)})}}function l(c,u,p,m){Promise.resolve(m).then(function(v){c({value:v,done:p})},u)}}function U_(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var x2=Object.create?(function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}):function(t,e){t.default=e},Pg=function(t){return Pg=Object.getOwnPropertyNames||function(e){var r=[];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(r[r.length]=s);return r},Pg(t)};function q_(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r=Pg(t),s=0;s<r.length;s++)r[s]!=="default"&&zf(e,t,r[s]);return x2(e,t),e}function W_(t){return t&&t.__esModule?t:{default:t}}function H_(t,e,r,s){if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?s:r==="a"?s.call(t):s?s.value:e.get(t)}function V_(t,e,r,s,l){if(s==="m")throw new TypeError("Private method is not writable");if(s==="a"&&!l)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!l:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return s==="a"?l.call(t,r):l?l.value=r:e.set(t,r),r}function G_(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function K_(t,e,r){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var s,l;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");s=e[Symbol.asyncDispose]}if(s===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");s=e[Symbol.dispose],r&&(l=s)}if(typeof s!="function")throw new TypeError("Object not disposable.");l&&(s=function(){try{l.call(this)}catch(c){return Promise.reject(c)}}),t.stack.push({value:e,dispose:s,async:r})}else r&&t.stack.push({async:!0});return e}var y2=typeof SuppressedError=="function"?SuppressedError:function(t,e,r){var s=new Error(r);return s.name="SuppressedError",s.error=t,s.suppressed=e,s};function Z_(t){function e(c){t.error=t.hasError?new y2(c,t.error,"An error was suppressed during disposal."):c,t.hasError=!0}var r,s=0;function l(){for(;r=t.stack.pop();)try{if(!r.async&&s===1)return s=0,t.stack.push(r),Promise.resolve().then(l);if(r.dispose){var c=r.dispose.call(r.value);if(r.async)return s|=2,Promise.resolve(c).then(l,function(u){return e(u),l()})}else s|=1}catch(u){e(u)}if(s===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return l()}function Q_(t,e){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,s,l,c,u){return s?e?".jsx":".js":l&&(!c||!u)?r:l+c+"."+u.toLowerCase()+"js"}):t}const b2={__extends:C_,__assign:lo,__rest:na,__decorate:k_,__param:P_,__esDecorate:T_,__runInitializers:R_,__propKey:A_,__setFunctionName:O_,__metadata:M_,__awaiter:qe,__generator:L_,__createBinding:zf,__exportStar:I_,__values:yf,__read:bv,__spread:D_,__spreadArrays:B_,__spreadArray:_v,__await:Ec,__asyncGenerator:z_,__asyncDelegator:$_,__asyncValues:F_,__makeTemplateObject:U_,__importStar:q_,__importDefault:W_,__classPrivateFieldGet:H_,__classPrivateFieldSet:V_,__classPrivateFieldIn:G_,__addDisposableResource:K_,__disposeResources:Z_,__rewriteRelativeImportExtension:Q_},_2=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:K_,get __assign(){return lo},__asyncDelegator:$_,__asyncGenerator:z_,__asyncValues:F_,__await:Ec,__awaiter:qe,__classPrivateFieldGet:H_,__classPrivateFieldIn:G_,__classPrivateFieldSet:V_,__createBinding:zf,__decorate:k_,__disposeResources:Z_,__esDecorate:T_,__exportStar:I_,__extends:C_,__generator:L_,__importDefault:W_,__importStar:q_,__makeTemplateObject:U_,__metadata:M_,__param:P_,__propKey:A_,__read:bv,__rest:na,__rewriteRelativeImportExtension:Q_,__runInitializers:R_,__setFunctionName:O_,__spread:D_,__spreadArray:_v,__spreadArrays:B_,__values:yf,default:b2},Symbol.toStringTag,{value:"Module"})),w2=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);let $f=class extends Error{constructor(e,r="FunctionsError",s){super(e),this.name=r,this.context=s}},Y_=class extends $f{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}},Tg=class extends $f{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}},Rg=class extends $f{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}};var bf;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(bf||(bf={}));class j2{constructor(e,{headers:r={},customFetch:s,region:l=bf.Any}={}){this.url=e,this.headers=r,this.region=l,this.fetch=w2(s)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return qe(this,arguments,void 0,function*(r,s={}){var l;let c,u;try{const{headers:p,method:m,body:v,signal:y,timeout:x}=s;let S={},{region:E}=s;E||(E=this.region);const k=new URL(`${this.url}/${r}`);E&&E!=="any"&&(S["x-region"]=E,k.searchParams.set("forceFunctionRegion",E));let N;v&&(p&&!Object.prototype.hasOwnProperty.call(p,"Content-Type")||!p)?typeof Blob<"u"&&v instanceof Blob||v instanceof ArrayBuffer?(S["Content-Type"]="application/octet-stream",N=v):typeof v=="string"?(S["Content-Type"]="text/plain",N=v):typeof FormData<"u"&&v instanceof FormData?N=v:(S["Content-Type"]="application/json",N=JSON.stringify(v)):N=v;let P=y;x&&(u=new AbortController,c=setTimeout(()=>u.abort(),x),y?(P=u.signal,y.addEventListener("abort",()=>u.abort())):P=u.signal);const O=yield this.fetch(k.toString(),{method:m||"POST",headers:Object.assign(Object.assign(Object.assign({},S),this.headers),p),body:N,signal:P}).catch(K=>{throw new Y_(K)}),T=O.headers.get("x-relay-error");if(T&&T==="true")throw new Tg(O);if(!O.ok)throw new Rg(O);let R=((l=O.headers.get("Content-Type"))!==null&&l!==void 0?l:"text/plain").split(";")[0].trim(),D;return R==="application/json"?D=yield O.json():R==="application/octet-stream"||R==="application/pdf"?D=yield O.blob():R==="text/event-stream"?D=O:R==="multipart/form-data"?D=yield O.formData():D=yield O.text(),{data:D,error:null,response:O}}catch(p){return{data:null,error:p,response:p instanceof Rg||p instanceof Tg?p.context:void 0}}finally{c&&clearTimeout(c)}})}}const S2=Object.freeze(Object.defineProperty({__proto__:null,get FunctionRegion(){return bf},FunctionsClient:j2,FunctionsError:$f,FunctionsFetchError:Y_,FunctionsHttpError:Rg,FunctionsRelayError:Tg},Symbol.toStringTag,{value:"Module"})),J_=mu(S2);var Xr={};const Lc=mu(_2);var $h={},Fh={},Uh={},qh={},Wh={},Hh={},gy;function X_(){if(gy)return Hh;gy=1,Object.defineProperty(Hh,"__esModule",{value:!0});class t extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return Hh.default=t,Hh}var vy;function ew(){if(vy)return Wh;vy=1,Object.defineProperty(Wh,"__esModule",{value:!0});const e=Lc.__importDefault(X_());let r=class{constructor(l){var c,u;this.shouldThrowOnError=!1,this.method=l.method,this.url=l.url,this.headers=new Headers(l.headers),this.schema=l.schema,this.body=l.body,this.shouldThrowOnError=(c=l.shouldThrowOnError)!==null&&c!==void 0?c:!1,this.signal=l.signal,this.isMaybeSingle=(u=l.isMaybeSingle)!==null&&u!==void 0?u:!1,l.fetch?this.fetch=l.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(l,c){return this.headers=new Headers(this.headers),this.headers.set(l,c),this}then(l,c){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const u=this.fetch;let p=u(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async m=>{var v,y,x,S;let E=null,k=null,N=null,P=m.status,O=m.statusText;if(m.ok){if(this.method!=="HEAD"){const K=await m.text();K===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((v=this.headers.get("Accept"))===null||v===void 0)&&v.includes("application/vnd.pgrst.plan+text"))?k=K:k=JSON.parse(K))}const R=(y=this.headers.get("Prefer"))===null||y===void 0?void 0:y.match(/count=(exact|planned|estimated)/),D=(x=m.headers.get("content-range"))===null||x===void 0?void 0:x.split("/");R&&D&&D.length>1&&(N=parseInt(D[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(k)&&(k.length>1?(E={code:"PGRST116",details:`Results contain ${k.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},k=null,N=null,P=406,O="Not Acceptable"):k.length===1?k=k[0]:k=null)}else{const R=await m.text();try{E=JSON.parse(R),Array.isArray(E)&&m.status===404&&(k=[],E=null,P=200,O="OK")}catch{m.status===404&&R===""?(P=204,O="No Content"):E={message:R}}if(E&&this.isMaybeSingle&&(!((S=E==null?void 0:E.details)===null||S===void 0)&&S.includes("0 rows"))&&(E=null,P=200,O="OK"),E&&this.shouldThrowOnError)throw new e.default(E)}return{error:E,data:k,count:N,status:P,statusText:O}});return this.shouldThrowOnError||(p=p.catch(m=>{var v,y,x,S,E,k;let N="";const P=m==null?void 0:m.cause;if(P){const O=(v=P==null?void 0:P.message)!==null&&v!==void 0?v:"",T=(y=P==null?void 0:P.code)!==null&&y!==void 0?y:"";N=`${(x=m==null?void 0:m.name)!==null&&x!==void 0?x:"FetchError"}: ${m==null?void 0:m.message}`,N+=`

Caused by: ${(S=P==null?void 0:P.name)!==null&&S!==void 0?S:"Error"}: ${O}`,T&&(N+=` (${T})`),P!=null&&P.stack&&(N+=`
${P.stack}`)}else N=(E=m==null?void 0:m.stack)!==null&&E!==void 0?E:"";return{error:{message:`${(k=m==null?void 0:m.name)!==null&&k!==void 0?k:"FetchError"}: ${m==null?void 0:m.message}`,details:N,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),p.then(l,c)}returns(){return this}overrideTypes(){return this}};return Wh.default=r,Wh}var xy;function tw(){if(xy)return qh;xy=1,Object.defineProperty(qh,"__esModule",{value:!0});const e=Lc.__importDefault(ew());let r=class extends e.default{select(l){let c=!1;const u=(l??"*").split("").map(p=>/\s/.test(p)&&!c?"":(p==='"'&&(c=!c),p)).join("");return this.url.searchParams.set("select",u),this.headers.append("Prefer","return=representation"),this}order(l,{ascending:c=!0,nullsFirst:u,foreignTable:p,referencedTable:m=p}={}){const v=m?`${m}.order`:"order",y=this.url.searchParams.get(v);return this.url.searchParams.set(v,`${y?`${y},`:""}${l}.${c?"asc":"desc"}${u===void 0?"":u?".nullsfirst":".nullslast"}`),this}limit(l,{foreignTable:c,referencedTable:u=c}={}){const p=typeof u>"u"?"limit":`${u}.limit`;return this.url.searchParams.set(p,`${l}`),this}range(l,c,{foreignTable:u,referencedTable:p=u}={}){const m=typeof p>"u"?"offset":`${p}.offset`,v=typeof p>"u"?"limit":`${p}.limit`;return this.url.searchParams.set(m,`${l}`),this.url.searchParams.set(v,`${c-l+1}`),this}abortSignal(l){return this.signal=l,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:l=!1,verbose:c=!1,settings:u=!1,buffers:p=!1,wal:m=!1,format:v="text"}={}){var y;const x=[l?"analyze":null,c?"verbose":null,u?"settings":null,p?"buffers":null,m?"wal":null].filter(Boolean).join("|"),S=(y=this.headers.get("Accept"))!==null&&y!==void 0?y:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${v}; for="${S}"; options=${x};`),v==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(l){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${l}`),this}};return qh.default=r,qh}var yy;function wv(){if(yy)return Uh;yy=1,Object.defineProperty(Uh,"__esModule",{value:!0});const e=Lc.__importDefault(tw()),r=new RegExp("[,()]");let s=class extends e.default{eq(c,u){return this.url.searchParams.append(c,`eq.${u}`),this}neq(c,u){return this.url.searchParams.append(c,`neq.${u}`),this}gt(c,u){return this.url.searchParams.append(c,`gt.${u}`),this}gte(c,u){return this.url.searchParams.append(c,`gte.${u}`),this}lt(c,u){return this.url.searchParams.append(c,`lt.${u}`),this}lte(c,u){return this.url.searchParams.append(c,`lte.${u}`),this}like(c,u){return this.url.searchParams.append(c,`like.${u}`),this}likeAllOf(c,u){return this.url.searchParams.append(c,`like(all).{${u.join(",")}}`),this}likeAnyOf(c,u){return this.url.searchParams.append(c,`like(any).{${u.join(",")}}`),this}ilike(c,u){return this.url.searchParams.append(c,`ilike.${u}`),this}ilikeAllOf(c,u){return this.url.searchParams.append(c,`ilike(all).{${u.join(",")}}`),this}ilikeAnyOf(c,u){return this.url.searchParams.append(c,`ilike(any).{${u.join(",")}}`),this}regexMatch(c,u){return this.url.searchParams.append(c,`match.${u}`),this}regexIMatch(c,u){return this.url.searchParams.append(c,`imatch.${u}`),this}is(c,u){return this.url.searchParams.append(c,`is.${u}`),this}isDistinct(c,u){return this.url.searchParams.append(c,`isdistinct.${u}`),this}in(c,u){const p=Array.from(new Set(u)).map(m=>typeof m=="string"&&r.test(m)?`"${m}"`:`${m}`).join(",");return this.url.searchParams.append(c,`in.(${p})`),this}contains(c,u){return typeof u=="string"?this.url.searchParams.append(c,`cs.${u}`):Array.isArray(u)?this.url.searchParams.append(c,`cs.{${u.join(",")}}`):this.url.searchParams.append(c,`cs.${JSON.stringify(u)}`),this}containedBy(c,u){return typeof u=="string"?this.url.searchParams.append(c,`cd.${u}`):Array.isArray(u)?this.url.searchParams.append(c,`cd.{${u.join(",")}}`):this.url.searchParams.append(c,`cd.${JSON.stringify(u)}`),this}rangeGt(c,u){return this.url.searchParams.append(c,`sr.${u}`),this}rangeGte(c,u){return this.url.searchParams.append(c,`nxl.${u}`),this}rangeLt(c,u){return this.url.searchParams.append(c,`sl.${u}`),this}rangeLte(c,u){return this.url.searchParams.append(c,`nxr.${u}`),this}rangeAdjacent(c,u){return this.url.searchParams.append(c,`adj.${u}`),this}overlaps(c,u){return typeof u=="string"?this.url.searchParams.append(c,`ov.${u}`):this.url.searchParams.append(c,`ov.{${u.join(",")}}`),this}textSearch(c,u,{config:p,type:m}={}){let v="";m==="plain"?v="pl":m==="phrase"?v="ph":m==="websearch"&&(v="w");const y=p===void 0?"":`(${p})`;return this.url.searchParams.append(c,`${v}fts${y}.${u}`),this}match(c){return Object.entries(c).forEach(([u,p])=>{this.url.searchParams.append(u,`eq.${p}`)}),this}not(c,u,p){return this.url.searchParams.append(c,`not.${u}.${p}`),this}or(c,{foreignTable:u,referencedTable:p=u}={}){const m=p?`${p}.or`:"or";return this.url.searchParams.append(m,`(${c})`),this}filter(c,u,p){return this.url.searchParams.append(c,`${u}.${p}`),this}};return Uh.default=s,Uh}var by;function rw(){if(by)return Fh;by=1,Object.defineProperty(Fh,"__esModule",{value:!0});const e=Lc.__importDefault(wv());let r=class{constructor(l,{headers:c={},schema:u,fetch:p}){this.url=l,this.headers=new Headers(c),this.schema=u,this.fetch=p}select(l,c){const{head:u=!1,count:p}=c??{},m=u?"HEAD":"GET";let v=!1;const y=(l??"*").split("").map(x=>/\s/.test(x)&&!v?"":(x==='"'&&(v=!v),x)).join("");return this.url.searchParams.set("select",y),p&&this.headers.append("Prefer",`count=${p}`),new e.default({method:m,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(l,{count:c,defaultToNull:u=!0}={}){var p;const m="POST";if(c&&this.headers.append("Prefer",`count=${c}`),u||this.headers.append("Prefer","missing=default"),Array.isArray(l)){const v=l.reduce((y,x)=>y.concat(Object.keys(x)),[]);if(v.length>0){const y=[...new Set(v)].map(x=>`"${x}"`);this.url.searchParams.set("columns",y.join(","))}}return new e.default({method:m,url:this.url,headers:this.headers,schema:this.schema,body:l,fetch:(p=this.fetch)!==null&&p!==void 0?p:fetch})}upsert(l,{onConflict:c,ignoreDuplicates:u=!1,count:p,defaultToNull:m=!0}={}){var v;const y="POST";if(this.headers.append("Prefer",`resolution=${u?"ignore":"merge"}-duplicates`),c!==void 0&&this.url.searchParams.set("on_conflict",c),p&&this.headers.append("Prefer",`count=${p}`),m||this.headers.append("Prefer","missing=default"),Array.isArray(l)){const x=l.reduce((S,E)=>S.concat(Object.keys(E)),[]);if(x.length>0){const S=[...new Set(x)].map(E=>`"${E}"`);this.url.searchParams.set("columns",S.join(","))}}return new e.default({method:y,url:this.url,headers:this.headers,schema:this.schema,body:l,fetch:(v=this.fetch)!==null&&v!==void 0?v:fetch})}update(l,{count:c}={}){var u;const p="PATCH";return c&&this.headers.append("Prefer",`count=${c}`),new e.default({method:p,url:this.url,headers:this.headers,schema:this.schema,body:l,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}delete({count:l}={}){var c;const u="DELETE";return l&&this.headers.append("Prefer",`count=${l}`),new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}};return Fh.default=r,Fh}var _y;function E2(){if(_y)return $h;_y=1,Object.defineProperty($h,"__esModule",{value:!0});const t=Lc,e=t.__importDefault(rw()),r=t.__importDefault(wv());let s=class nw{constructor(c,{headers:u={},schema:p,fetch:m}={}){this.url=c,this.headers=new Headers(u),this.schemaName=p,this.fetch=m}from(c){if(!c||typeof c!="string"||c.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const u=new URL(`${this.url}/${c}`);return new e.default(u,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(c){return new nw(this.url,{headers:this.headers,schema:c,fetch:this.fetch})}rpc(c,u={},{head:p=!1,get:m=!1,count:v}={}){var y;let x;const S=new URL(`${this.url}/rpc/${c}`);let E;p||m?(x=p?"HEAD":"GET",Object.entries(u).filter(([N,P])=>P!==void 0).map(([N,P])=>[N,Array.isArray(P)?`{${P.join(",")}}`:`${P}`]).forEach(([N,P])=>{S.searchParams.append(N,P)})):(x="POST",E=u);const k=new Headers(this.headers);return v&&k.set("Prefer",`count=${v}`),new r.default({method:x,url:S,headers:k,schema:this.schemaName,body:E,fetch:(y=this.fetch)!==null&&y!==void 0?y:fetch})}};return $h.default=s,$h}var wy;function ow(){if(wy)return Xr;wy=1,Object.defineProperty(Xr,"__esModule",{value:!0}),Xr.PostgrestError=Xr.PostgrestBuilder=Xr.PostgrestTransformBuilder=Xr.PostgrestFilterBuilder=Xr.PostgrestQueryBuilder=Xr.PostgrestClient=void 0;const t=Lc,e=t.__importDefault(E2());Xr.PostgrestClient=e.default;const r=t.__importDefault(rw());Xr.PostgrestQueryBuilder=r.default;const s=t.__importDefault(wv());Xr.PostgrestFilterBuilder=s.default;const l=t.__importDefault(tw());Xr.PostgrestTransformBuilder=l.default;const c=t.__importDefault(ew());Xr.PostgrestBuilder=c.default;const u=t.__importDefault(X_());return Xr.PostgrestError=u.default,Xr.default={PostgrestClient:e.default,PostgrestQueryBuilder:r.default,PostgrestFilterBuilder:s.default,PostgrestTransformBuilder:l.default,PostgrestBuilder:c.default,PostgrestError:u.default},Xr}class sw{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const s=r.node,l=parseInt(s.replace(/^v/,"").split(".")[0]);return l>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${l} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${l} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const s=this.getWebSocketConstructor();return new s(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const N2="2.87.1",C2=`realtime-js/${N2}`,iw="1.0.0",k2="2.0.0",jy=iw,Ag=1e4,P2=1e3,T2=100;var za;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(za||(za={}));var jr;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(jr||(jr={}));var Ro;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Ro||(Ro={}));var Og;(function(t){t.websocket="websocket"})(Og||(Og={}));var $a;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})($a||($a={}));class R2{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,r){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(e));let s=[e.join_ref,e.ref,e.topic,e.event,e.payload];return r(JSON.stringify(s))}_binaryEncodeUserBroadcastPush(e){var r;return this._isArrayBuffer((r=e.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var r,s;const l=(s=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&s!==void 0?s:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,l)}_encodeJsonUserBroadcastPush(e){var r,s;const l=(s=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&s!==void 0?s:{},u=new TextEncoder().encode(JSON.stringify(l)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,u)}_encodeUserBroadcastPush(e,r,s){var l,c;const u=e.topic,p=(l=e.ref)!==null&&l!==void 0?l:"",m=(c=e.join_ref)!==null&&c!==void 0?c:"",v=e.payload.event,y=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},x=Object.keys(y).length===0?"":JSON.stringify(y);if(m.length>255)throw new Error(`joinRef length ${m.length} exceeds maximum of 255`);if(p.length>255)throw new Error(`ref length ${p.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`topic length ${u.length} exceeds maximum of 255`);if(v.length>255)throw new Error(`userEvent length ${v.length} exceeds maximum of 255`);if(x.length>255)throw new Error(`metadata length ${x.length} exceeds maximum of 255`);const S=this.USER_BROADCAST_PUSH_META_LENGTH+m.length+p.length+u.length+v.length+x.length,E=new ArrayBuffer(this.HEADER_LENGTH+S);let k=new DataView(E),N=0;k.setUint8(N++,this.KINDS.userBroadcastPush),k.setUint8(N++,m.length),k.setUint8(N++,p.length),k.setUint8(N++,u.length),k.setUint8(N++,v.length),k.setUint8(N++,x.length),k.setUint8(N++,r),Array.from(m,O=>k.setUint8(N++,O.charCodeAt(0))),Array.from(p,O=>k.setUint8(N++,O.charCodeAt(0))),Array.from(u,O=>k.setUint8(N++,O.charCodeAt(0))),Array.from(v,O=>k.setUint8(N++,O.charCodeAt(0))),Array.from(x,O=>k.setUint8(N++,O.charCodeAt(0)));var P=new Uint8Array(E.byteLength+s.byteLength);return P.set(new Uint8Array(E),0),P.set(new Uint8Array(s),E.byteLength),P.buffer}decode(e,r){if(this._isArrayBuffer(e)){let s=this._binaryDecode(e);return r(s)}if(typeof e=="string"){const s=JSON.parse(e),[l,c,u,p,m]=s;return r({join_ref:l,ref:c,topic:u,event:p,payload:m})}return r({})}_binaryDecode(e){const r=new DataView(e),s=r.getUint8(0),l=new TextDecoder;switch(s){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,r,l)}}_decodeUserBroadcast(e,r,s){const l=r.getUint8(1),c=r.getUint8(2),u=r.getUint8(3),p=r.getUint8(4);let m=this.HEADER_LENGTH+4;const v=s.decode(e.slice(m,m+l));m=m+l;const y=s.decode(e.slice(m,m+c));m=m+c;const x=s.decode(e.slice(m,m+u));m=m+u;const S=e.slice(m,e.byteLength),E=p===this.JSON_ENCODING?JSON.parse(s.decode(S)):S,k={type:this.BROADCAST_EVENT,event:y,payload:E};return u>0&&(k.meta=JSON.parse(x)),{join_ref:null,ref:null,topic:v,event:this.BROADCAST_EVENT,payload:k}}_isArrayBuffer(e){var r;return e instanceof ArrayBuffer||((r=e==null?void 0:e.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(e,r){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([s])=>r.includes(s)))}}class aw{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ht;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Ht||(Ht={}));const Sy=(t,e,r={})=>{var s;const l=(s=r.skipTypes)!==null&&s!==void 0?s:[];return e?Object.keys(e).reduce((c,u)=>(c[u]=A2(u,t,e,l),c),{}):{}},A2=(t,e,r,s)=>{const l=e.find(p=>p.name===t),c=l==null?void 0:l.type,u=r[t];return c&&!s.includes(c)?lw(c,u):Mg(u)},lw=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return I2(e,r)}switch(t){case Ht.bool:return O2(e);case Ht.float4:case Ht.float8:case Ht.int2:case Ht.int4:case Ht.int8:case Ht.numeric:case Ht.oid:return M2(e);case Ht.json:case Ht.jsonb:return L2(e);case Ht.timestamp:return D2(e);case Ht.abstime:case Ht.date:case Ht.daterange:case Ht.int4range:case Ht.int8range:case Ht.money:case Ht.reltime:case Ht.text:case Ht.time:case Ht.timestamptz:case Ht.timetz:case Ht.tsrange:case Ht.tstzrange:return Mg(e);default:return Mg(e)}},Mg=t=>t,O2=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},M2=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},L2=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},I2=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,s=t[r];if(t[0]==="{"&&s==="}"){let c;const u=t.slice(1,r);try{c=JSON.parse("["+u+"]")}catch{c=u?u.split(","):[]}return c.map(p=>lw(e,p))}return t},D2=t=>typeof t=="string"?t.replace(" ","T"):t,cw=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class $p{constructor(e,r,s={},l=Ag){this.channel=e,this.event=r,this.payload=s,this.timeout=l,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var s;return this._hasReceived(e)&&r((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(s=>s.status===e).forEach(s=>s.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Lg;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Lg||(Lg={}));let dw=class lf{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},l=>{const{onJoin:c,onLeave:u,onSync:p}=this.caller;this.joinRef=this.channel._joinRef(),this.state=lf.syncState(this.state,l,c,u),this.pendingDiffs.forEach(m=>{this.state=lf.syncDiff(this.state,m,c,u)}),this.pendingDiffs=[],p()}),this.channel._on(s.diff,{},l=>{const{onJoin:c,onLeave:u,onSync:p}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(l):(this.state=lf.syncDiff(this.state,l,c,u),p())}),this.onJoin((l,c,u)=>{this.channel._trigger("presence",{event:"join",key:l,currentPresences:c,newPresences:u})}),this.onLeave((l,c,u)=>{this.channel._trigger("presence",{event:"leave",key:l,currentPresences:c,leftPresences:u})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,s,l){const c=this.cloneDeep(e),u=this.transformState(r),p={},m={};return this.map(c,(v,y)=>{u[v]||(m[v]=y)}),this.map(u,(v,y)=>{const x=c[v];if(x){const S=y.map(P=>P.presence_ref),E=x.map(P=>P.presence_ref),k=y.filter(P=>E.indexOf(P.presence_ref)<0),N=x.filter(P=>S.indexOf(P.presence_ref)<0);k.length>0&&(p[v]=k),N.length>0&&(m[v]=N)}else p[v]=y}),this.syncDiff(c,{joins:p,leaves:m},s,l)}static syncDiff(e,r,s,l){const{joins:c,leaves:u}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return s||(s=()=>{}),l||(l=()=>{}),this.map(c,(p,m)=>{var v;const y=(v=e[p])!==null&&v!==void 0?v:[];if(e[p]=this.cloneDeep(m),y.length>0){const x=e[p].map(E=>E.presence_ref),S=y.filter(E=>x.indexOf(E.presence_ref)<0);e[p].unshift(...S)}s(p,y,m)}),this.map(u,(p,m)=>{let v=e[p];if(!v)return;const y=m.map(x=>x.presence_ref);v=v.filter(x=>y.indexOf(x.presence_ref)<0),e[p]=v,l(p,v,m),v.length===0&&delete e[p]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(s=>r(s,e[s]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,s)=>{const l=e[s];return"metas"in l?r[s]=l.metas.map(c=>(c.presence_ref=c.phx_ref,delete c.phx_ref,delete c.phx_ref_prev,c)):r[s]=l,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var Ig;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Ig||(Ig={}));var ic;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(ic||(ic={}));var rs;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(rs||(rs={}));const B2=jr;let uw=class Hd{constructor(e,r={config:{}},s){var l,c;if(this.topic=e,this.params=r,this.socket=s,this.bindings={},this.state=jr.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new $p(this,Ro.join,this.params,this.timeout),this.rejoinTimer=new aw(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=jr.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(u=>u.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=jr.closed,this.socket._remove(this)}),this._onError(u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=jr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=jr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=jr.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ro.reply,{},(u,p)=>{this._trigger(this._replyEventName(p),u)}),this.presence=new dw(this),this.broadcastEndpointURL=cw(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((c=(l=this.params.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,r=this.timeout){var s,l,c;if(this.socket.isConnected()||this.socket.connect(),this.state==jr.closed){const{config:{broadcast:u,presence:p,private:m}}=this.params,v=(l=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(E=>E.filter))!==null&&l!==void 0?l:[],y=!!this.bindings[ic.PRESENCE]&&this.bindings[ic.PRESENCE].length>0||((c=this.params.config.presence)===null||c===void 0?void 0:c.enabled)===!0,x={},S={broadcast:u,presence:Object.assign(Object.assign({},p),{enabled:y}),postgres_changes:v,private:m};this.socket.accessTokenValue&&(x.access_token=this.socket.accessTokenValue),this._onError(E=>e==null?void 0:e(rs.CHANNEL_ERROR,E)),this._onClose(()=>e==null?void 0:e(rs.CLOSED)),this.updateJoinPayload(Object.assign({config:S},x)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:E})=>{var k;if(this.socket._isManualToken()||this.socket.setAuth(),E===void 0){e==null||e(rs.SUBSCRIBED);return}else{const N=this.bindings.postgres_changes,P=(k=N==null?void 0:N.length)!==null&&k!==void 0?k:0,O=[];for(let T=0;T<P;T++){const R=N[T],{filter:{event:D,schema:K,table:B,filter:Q}}=R,ne=E&&E[T];if(ne&&ne.event===D&&Hd.isFilterValueEqual(ne.schema,K)&&Hd.isFilterValueEqual(ne.table,B)&&Hd.isFilterValueEqual(ne.filter,Q))O.push(Object.assign(Object.assign({},R),{id:ne.id}));else{this.unsubscribe(),this.state=jr.errored,e==null||e(rs.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=O,e&&e(rs.SUBSCRIBED);return}}).receive("error",E=>{this.state=jr.errored,e==null||e(rs.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(E).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(rs.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,s){return this.state===jr.joined&&e===ic.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,r,s)}async httpSend(e,r,s={}){var l;const c=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const u={method:"POST",headers:{Authorization:c,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:r,private:this.private}]})},p=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(l=s.timeout)!==null&&l!==void 0?l:this.timeout);if(p.status===202)return{success:!0};let m=p.statusText;try{const v=await p.json();m=v.error||v.message||m}catch{}return Promise.reject(new Error(m))}async send(e,r={}){var s,l;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:c,payload:u}=e,m={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:c,payload:u,private:this.private}]})};try{const v=await this._fetchWithTimeout(this.broadcastEndpointURL,m,(s=r.timeout)!==null&&s!==void 0?s:this.timeout);return await((l=v.body)===null||l===void 0?void 0:l.cancel()),v.ok?"ok":"error"}catch(v){return v.name==="AbortError"?"timed out":"error"}}else return new Promise(c=>{var u,p,m;const v=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((m=(p=(u=this.params)===null||u===void 0?void 0:u.config)===null||p===void 0?void 0:p.broadcast)===null||m===void 0)&&m.ack)&&c("ok"),v.receive("ok",()=>c("ok")),v.receive("error",()=>c("error")),v.receive("timeout",()=>c("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=jr.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ro.close,"leave",this._joinRef())};this.joinPush.destroy();let s=null;return new Promise(l=>{s=new $p(this,Ro.leave,{},e),s.receive("ok",()=>{r(),l("ok")}).receive("timeout",()=>{r(),l("timed out")}).receive("error",()=>{l("error")}),s.send(),this._canPush()||s.trigger("ok",{})}).finally(()=>{s==null||s.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=jr.closed,this.bindings={}}async _fetchWithTimeout(e,r,s){const l=new AbortController,c=setTimeout(()=>l.abort(),s),u=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:l.signal}));return clearTimeout(c),u}_push(e,r,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let l=new $p(this,e,r,s);return this._canPush()?l.send():this._addToPushBuffer(l),l}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>T2){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,s){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,s){var l,c;const u=e.toLocaleLowerCase(),{close:p,error:m,leave:v,join:y}=Ro;if(s&&[p,m,v,y].indexOf(u)>=0&&s!==this._joinRef())return;let S=this._onMessage(u,r,s);if(r&&!S)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(u)?(l=this.bindings.postgres_changes)===null||l===void 0||l.filter(E=>{var k,N,P;return((k=E.filter)===null||k===void 0?void 0:k.event)==="*"||((P=(N=E.filter)===null||N===void 0?void 0:N.event)===null||P===void 0?void 0:P.toLocaleLowerCase())===u}).map(E=>E.callback(S,s)):(c=this.bindings[u])===null||c===void 0||c.filter(E=>{var k,N,P,O,T,R;if(["broadcast","presence","postgres_changes"].includes(u))if("id"in E){const D=E.id,K=(k=E.filter)===null||k===void 0?void 0:k.event;return D&&((N=r.ids)===null||N===void 0?void 0:N.includes(D))&&(K==="*"||(K==null?void 0:K.toLocaleLowerCase())===((P=r.data)===null||P===void 0?void 0:P.type.toLocaleLowerCase()))}else{const D=(T=(O=E==null?void 0:E.filter)===null||O===void 0?void 0:O.event)===null||T===void 0?void 0:T.toLocaleLowerCase();return D==="*"||D===((R=r==null?void 0:r.event)===null||R===void 0?void 0:R.toLocaleLowerCase())}else return E.type.toLocaleLowerCase()===u}).map(E=>{if(typeof S=="object"&&"ids"in S){const k=S.data,{schema:N,table:P,commit_timestamp:O,type:T,errors:R}=k;S=Object.assign(Object.assign({},{schema:N,table:P,commit_timestamp:O,eventType:T,new:{},old:{},errors:R}),this._getPayloadRecords(k))}E.callback(S,s)})}_isClosed(){return this.state===jr.closed}_isJoined(){return this.state===jr.joined}_isJoining(){return this.state===jr.joining}_isLeaving(){return this.state===jr.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,s){const l=e.toLocaleLowerCase(),c={type:l,filter:r,callback:s};return this.bindings[l]?this.bindings[l].push(c):this.bindings[l]=[c],this}_off(e,r){const s=e.toLocaleLowerCase();return this.bindings[s]&&(this.bindings[s]=this.bindings[s].filter(l=>{var c;return!(((c=l.type)===null||c===void 0?void 0:c.toLocaleLowerCase())===s&&Hd.isEqual(l.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const s in e)if(e[s]!==r[s])return!1;return!0}static isFilterValueEqual(e,r){return(e??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Ro.close,{},e)}_onError(e){this._on(Ro.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=jr.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=Sy(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=Sy(e.columns,e.old_record)),r}};const Fp=()=>{},Vh={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},z2=[1e3,2e3,5e3,1e4],$2=1e4,F2=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;let U2=class{constructor(e,r){var s;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Ag,this.transport=null,this.heartbeatIntervalMs=Vh.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Fp,this.ref=0,this.reconnectTimer=null,this.vsn=jy,this.logger=Fp,this.conn=null,this.sendBuffer=[],this.serializer=new R2,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=l=>l?(...c)=>l(...c):(...c)=>fetch(...c),!(!((s=r==null?void 0:r.params)===null||s===void 0)&&s.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${Og.websocket}`,this.httpEndpoint=cw(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=sw.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const s=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(s),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,s){this.logger(e,r,s)}connectionState(){switch(this.conn&&this.conn.readyState){case za.connecting:return $a.Connecting;case za.open:return $a.Open;case za.closing:return $a.Closing;default:return $a.Closed}}isConnected(){return this.connectionState()===$a.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const s=`realtime:${e}`,l=this.getChannels().find(c=>c.topic===s);if(l)return l;{const c=new uw(`realtime:${e}`,r,this);return this.channels.push(c),c}}push(e){const{topic:r,event:s,payload:l,ref:c}=e,u=()=>{this.encode(e,p=>{var m;(m=this.conn)===null||m===void 0||m.send(p)})};this.log("push",`${r} ${s} (${c})`,l),this.isConnected()?u():this.sendBuffer.push(u)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(P2,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Vh.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(s=>s.topic===e&&(s._isJoined()||s._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(v){this.log("error","error in heartbeat callback",v)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:s,event:l,payload:c,ref:u}=r,p=u?`(${u})`:"",m=c.status||"";this.log("receive",`${m} ${s} ${l} ${p}`.trim(),c),this.channels.filter(v=>v._isMember(s)).forEach(v=>v._trigger(l,c,u)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){if(this.conn){if(this.conn.readyState===za.open||this.conn.readyState===za.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Ro.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const s=e.match(/\?/)?"&":"?",l=new URLSearchParams(r);return`${e}${s}${l}`}_workerObjectUrl(e){let r;if(e)r=e;else{const s=new Blob([F2],{type:"application/javascript"});r=URL.createObjectURL(s)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r,s=!1;if(e)r=e,s=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(l){this.log("error","Error fetching access token from callback",l),r=this.accessTokenValue}else r=this.accessTokenValue;s?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(l=>{const c={access_token:r,version:C2};r&&l.updateJoinPayload(c),l.joinedOnce&&l._isJoined()&&l._push(Ro.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(s=>{try{s(r)}catch(l){this.log("error",`error in ${e} callback`,l)}})}catch(s){this.log("error",`error triggering ${e} callbacks`,s)}}_setupReconnectionTimer(){this.reconnectTimer=new aw(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Vh.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,s,l,c,u,p,m,v,y,x,S,E;switch(this.transport=(r=e==null?void 0:e.transport)!==null&&r!==void 0?r:null,this.timeout=(s=e==null?void 0:e.timeout)!==null&&s!==void 0?s:Ag,this.heartbeatIntervalMs=(l=e==null?void 0:e.heartbeatIntervalMs)!==null&&l!==void 0?l:Vh.HEARTBEAT_INTERVAL,this.worker=(c=e==null?void 0:e.worker)!==null&&c!==void 0?c:!1,this.accessToken=(u=e==null?void 0:e.accessToken)!==null&&u!==void 0?u:null,this.heartbeatCallback=(p=e==null?void 0:e.heartbeatCallback)!==null&&p!==void 0?p:Fp,this.vsn=(m=e==null?void 0:e.vsn)!==null&&m!==void 0?m:jy,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(v=e==null?void 0:e.reconnectAfterMs)!==null&&v!==void 0?v:(k=>z2[k-1]||$2),this.vsn){case iw:this.encode=(y=e==null?void 0:e.encode)!==null&&y!==void 0?y:((k,N)=>N(JSON.stringify(k))),this.decode=(x=e==null?void 0:e.decode)!==null&&x!==void 0?x:((k,N)=>N(JSON.parse(k)));break;case k2:this.encode=(S=e==null?void 0:e.encode)!==null&&S!==void 0?S:this.serializer.encode.bind(this.serializer),this.decode=(E=e==null?void 0:e.decode)!==null&&E!==void 0?E:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}};const q2=Object.freeze(Object.defineProperty({__proto__:null,REALTIME_CHANNEL_STATES:B2,get REALTIME_LISTEN_TYPES(){return ic},get REALTIME_POSTGRES_CHANGES_LISTEN_EVENT(){return Ig},get REALTIME_PRESENCE_LISTEN_EVENTS(){return Lg},get REALTIME_SUBSCRIBE_STATES(){return rs},RealtimeChannel:uw,RealtimeClient:U2,RealtimePresence:dw,WebSocketFactory:sw},Symbol.toStringTag,{value:"Module"})),hw=mu(q2);class vu extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Yt(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class fw extends vu{constructor(e,r,s){super(e),this.name="StorageApiError",this.status=r,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class _f extends vu{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}const jv=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),W2=()=>Response,Dg=t=>{if(Array.isArray(t))return t.map(r=>Dg(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,s])=>{const l=r.replace(/([-_][a-z])/gi,c=>c.toUpperCase().replace(/[-_]/g,""));e[l]=Dg(s)}),e},H2=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},V2=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t),Up=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},G2=(t,e,r)=>qe(void 0,void 0,void 0,function*(){const s=yield W2();t instanceof s&&!(r!=null&&r.noResolveJson)?t.json().then(l=>{const c=t.status||500,u=(l==null?void 0:l.statusCode)||c+"";e(new fw(Up(l),c,u))}).catch(l=>{e(new _f(Up(l),l))}):e(new _f(Up(t),t))}),K2=(t,e,r,s)=>{const l={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!s?l:(H2(s)?(l.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),l.body=JSON.stringify(s)):l.body=s,e!=null&&e.duplex&&(l.duplex=e.duplex),Object.assign(Object.assign({},l),r))};function xu(t,e,r,s,l,c){return qe(this,void 0,void 0,function*(){return new Promise((u,p)=>{t(r,K2(e,s,l,c)).then(m=>{if(!m.ok)throw m;return s!=null&&s.noResolveJson?m:m.json()}).then(m=>u(m)).catch(m=>G2(m,p,s))})})}function tu(t,e,r,s){return qe(this,void 0,void 0,function*(){return xu(t,"GET",e,r,s)})}function ko(t,e,r,s,l){return qe(this,void 0,void 0,function*(){return xu(t,"POST",e,s,l,r)})}function Bg(t,e,r,s,l){return qe(this,void 0,void 0,function*(){return xu(t,"PUT",e,s,l,r)})}function Z2(t,e,r,s){return qe(this,void 0,void 0,function*(){return xu(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),s)})}function Sv(t,e,r,s,l){return qe(this,void 0,void 0,function*(){return xu(t,"DELETE",e,s,l,r)})}class Q2{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r}then(e,r){return this.execute().then(e,r)}execute(){return qe(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Yt(e))return{data:null,error:e};throw e}})}}var mw;class Y2{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r,this[mw]="BlobDownloadBuilder",this.promise=null}asStream(){return new Q2(this.downloadFn,this.shouldThrowOnError)}then(e,r){return this.getPromise().then(e,r)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return qe(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Yt(e))return{data:null,error:e};throw e}})}}mw=Symbol.toStringTag;const J2={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Ey={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class X2{constructor(e,r={},s,l){this.shouldThrowOnError=!1,this.url=e,this.headers=r,this.bucketId=s,this.fetch=jv(l)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,r,s,l){return qe(this,void 0,void 0,function*(){try{let c;const u=Object.assign(Object.assign({},Ey),l);let p=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(u.upsert)});const m=u.metadata;typeof Blob<"u"&&s instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),m&&c.append("metadata",this.encodeMetadata(m)),c.append("",s)):typeof FormData<"u"&&s instanceof FormData?(c=s,c.has("cacheControl")||c.append("cacheControl",u.cacheControl),m&&!c.has("metadata")&&c.append("metadata",this.encodeMetadata(m))):(c=s,p["cache-control"]=`max-age=${u.cacheControl}`,p["content-type"]=u.contentType,m&&(p["x-metadata"]=this.toBase64(this.encodeMetadata(m))),(typeof ReadableStream<"u"&&c instanceof ReadableStream||c&&typeof c=="object"&&"pipe"in c&&typeof c.pipe=="function")&&!u.duplex&&(u.duplex="half")),l!=null&&l.headers&&(p=Object.assign(Object.assign({},p),l.headers));const v=this._removeEmptyFolders(r),y=this._getFinalPath(v),x=yield(e=="PUT"?Bg:ko)(this.fetch,`${this.url}/object/${y}`,c,Object.assign({headers:p},u!=null&&u.duplex?{duplex:u.duplex}:{}));return{data:{path:v,id:x.Id,fullPath:x.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(Yt(c))return{data:null,error:c};throw c}})}upload(e,r,s){return qe(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,s)})}uploadToSignedUrl(e,r,s,l){return qe(this,void 0,void 0,function*(){const c=this._removeEmptyFolders(e),u=this._getFinalPath(c),p=new URL(this.url+`/object/upload/sign/${u}`);p.searchParams.set("token",r);try{let m;const v=Object.assign({upsert:Ey.upsert},l),y=Object.assign(Object.assign({},this.headers),{"x-upsert":String(v.upsert)});typeof Blob<"u"&&s instanceof Blob?(m=new FormData,m.append("cacheControl",v.cacheControl),m.append("",s)):typeof FormData<"u"&&s instanceof FormData?(m=s,m.append("cacheControl",v.cacheControl)):(m=s,y["cache-control"]=`max-age=${v.cacheControl}`,y["content-type"]=v.contentType);const x=yield Bg(this.fetch,p.toString(),m,{headers:y});return{data:{path:c,fullPath:x.Key},error:null}}catch(m){if(this.shouldThrowOnError)throw m;if(Yt(m))return{data:null,error:m};throw m}})}createSignedUploadUrl(e,r){return qe(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e);const l=Object.assign({},this.headers);r!=null&&r.upsert&&(l["x-upsert"]="true");const c=yield ko(this.fetch,`${this.url}/object/upload/sign/${s}`,{},{headers:l}),u=new URL(this.url+c.url),p=u.searchParams.get("token");if(!p)throw new vu("No token returned by API");return{data:{signedUrl:u.toString(),path:e,token:p},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Yt(s))return{data:null,error:s};throw s}})}update(e,r,s){return qe(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,s)})}move(e,r,s){return qe(this,void 0,void 0,function*(){try{return{data:yield ko(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:s==null?void 0:s.destinationBucket},{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Yt(l))return{data:null,error:l};throw l}})}copy(e,r,s){return qe(this,void 0,void 0,function*(){try{return{data:{path:(yield ko(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:s==null?void 0:s.destinationBucket},{headers:this.headers})).Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Yt(l))return{data:null,error:l};throw l}})}createSignedUrl(e,r,s){return qe(this,void 0,void 0,function*(){try{let l=this._getFinalPath(e),c=yield ko(this.fetch,`${this.url}/object/sign/${l}`,Object.assign({expiresIn:r},s!=null&&s.transform?{transform:s.transform}:{}),{headers:this.headers});const u=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return c={signedUrl:encodeURI(`${this.url}${c.signedURL}${u}`)},{data:c,error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Yt(l))return{data:null,error:l};throw l}})}createSignedUrls(e,r,s){return qe(this,void 0,void 0,function*(){try{const l=yield ko(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),c=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return{data:l.map(u=>Object.assign(Object.assign({},u),{signedUrl:u.signedURL?encodeURI(`${this.url}${u.signedURL}${c}`):null})),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Yt(l))return{data:null,error:l};throw l}})}download(e,r){const l=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),u=c?`?${c}`:"",p=this._getFinalPath(e),m=()=>tu(this.fetch,`${this.url}/${l}/${p}${u}`,{headers:this.headers,noResolveJson:!0});return new Y2(m,this.shouldThrowOnError)}info(e){return qe(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const s=yield tu(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Dg(s),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Yt(s))return{data:null,error:s};throw s}})}exists(e){return qe(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield Z2(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Yt(s)&&s instanceof _f){const l=s.originalError;if([400,404].includes(l==null?void 0:l.status))return{data:!1,error:s}}throw s}})}getPublicUrl(e,r){const s=this._getFinalPath(e),l=[],c=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";c!==""&&l.push(c);const p=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",m=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});m!==""&&l.push(m);let v=l.join("&");return v!==""&&(v=`?${v}`),{data:{publicUrl:encodeURI(`${this.url}/${p}/public/${s}${v}`)}}}remove(e){return qe(this,void 0,void 0,function*(){try{return{data:yield Sv(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Yt(r))return{data:null,error:r};throw r}})}list(e,r,s){return qe(this,void 0,void 0,function*(){try{const l=Object.assign(Object.assign(Object.assign({},J2),r),{prefix:e||""});return{data:yield ko(this.fetch,`${this.url}/object/list/${this.bucketId}`,l,{headers:this.headers},s),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Yt(l))return{data:null,error:l};throw l}})}listV2(e,r){return qe(this,void 0,void 0,function*(){try{const s=Object.assign({},e);return{data:yield ko(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Yt(s))return{data:null,error:s};throw s}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const pw="2.87.1",gw={"X-Client-Info":`storage-js/${pw}`};class ek{constructor(e,r={},s,l){this.shouldThrowOnError=!1;const c=new URL(e);l!=null&&l.useNewHostname&&/supabase\.(co|in|red)$/.test(c.hostname)&&!c.hostname.includes("storage.supabase.")&&(c.hostname=c.hostname.replace("supabase.","storage.supabase.")),this.url=c.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},gw),r),this.fetch=jv(s)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return qe(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(e);return{data:yield tu(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Yt(r))return{data:null,error:r};throw r}})}getBucket(e){return qe(this,void 0,void 0,function*(){try{return{data:yield tu(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Yt(r))return{data:null,error:r};throw r}})}createBucket(e){return qe(this,arguments,void 0,function*(r,s={public:!1}){try{return{data:yield ko(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:s.type,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Yt(l))return{data:null,error:l};throw l}})}updateBucket(e,r){return qe(this,void 0,void 0,function*(){try{return{data:yield Bg(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Yt(s))return{data:null,error:s};throw s}})}emptyBucket(e){return qe(this,void 0,void 0,function*(){try{return{data:yield ko(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Yt(r))return{data:null,error:r};throw r}})}deleteBucket(e){return qe(this,void 0,void 0,function*(){try{return{data:yield Sv(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Yt(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(e){const r={};return e&&("limit"in e&&(r.limit=String(e.limit)),"offset"in e&&(r.offset=String(e.offset)),e.search&&(r.search=e.search),e.sortColumn&&(r.sortColumn=e.sortColumn),e.sortOrder&&(r.sortOrder=e.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}var ru=class extends Error{constructor(t,e){var r;super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&((r=e.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function tk(t,e,r){const s=new URL(e,t);if(r)for(const[l,c]of Object.entries(r))c!==void 0&&s.searchParams.set(l,c);return s.toString()}async function rk(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function nk(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:r,path:s,query:l,body:c,headers:u}){const p=tk(t.baseUrl,s,l),m=await rk(t.auth),v=await e(p,{method:r,headers:{...c?{"Content-Type":"application/json"}:{},...m,...u},body:c?JSON.stringify(c):void 0}),y=await v.text(),x=(v.headers.get("content-type")||"").includes("application/json"),S=x&&y?JSON.parse(y):y;if(!v.ok){const E=x?S:void 0,k=E==null?void 0:E.error;throw new ru((k==null?void 0:k.message)??`Request failed with status ${v.status}`,{status:v.status,icebergType:k==null?void 0:k.type,icebergCode:k==null?void 0:k.code,details:E})}return{status:v.status,headers:v.headers,data:S}}}}function Gh(t){return t.join("")}var ok=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:Gh(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(s=>({namespace:s}))}async createNamespace(t,e){const r={namespace:t.namespace,properties:e==null?void 0:e.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Gh(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Gh(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Gh(t.namespace)}`}),!0}catch(e){if(e instanceof ru&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(r){if(r instanceof ru&&r.status===409)return;throw r}}};function Zl(t){return t.join("")}var sk=class{constructor(t,e="",r){this.client=t,this.prefix=e,this.accessDelegation=r}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Zl(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Zl(t.namespace)}/tables`,body:e,headers:r})).data.metadata}async updateTable(t,e){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Zl(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Zl(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String((e==null?void 0:e.purge)??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Zl(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Zl(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(r){if(r instanceof ru&&r.status===404)return!1;throw r}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(r){if(r instanceof ru&&r.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw r}}},ik=class{constructor(t){var s;let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const r=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=nk({baseUrl:r,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=(s=t.accessDelegation)==null?void 0:s.join(","),this.namespaceOps=new ok(this.client,e),this.tableOps=new sk(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}};class vw{constructor(e,r={},s){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},gw),r),this.fetch=jv(s)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return qe(this,void 0,void 0,function*(){try{return{data:yield ko(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Yt(r))return{data:null,error:r};throw r}})}listBuckets(e){return qe(this,void 0,void 0,function*(){try{const r=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&r.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&r.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&r.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&r.set("sortOrder",e.sortOrder),e!=null&&e.search&&r.set("search",e.search);const s=r.toString(),l=s?`${this.url}/bucket?${s}`:`${this.url}/bucket`;return{data:yield tu(this.fetch,l,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Yt(r))return{data:null,error:r};throw r}})}deleteBucket(e){return qe(this,void 0,void 0,function*(){try{return{data:yield Sv(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Yt(r))return{data:null,error:r};throw r}})}from(e){if(!V2(e))throw new vu("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new ik({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:()=>qe(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch}),s=this.shouldThrowOnError;return new Proxy(r,{get(c,u){const p=c[u];return typeof p!="function"?p:(...m)=>qe(this,void 0,void 0,function*(){try{return{data:yield p.apply(c,m),error:null}}catch(v){if(s)throw v;return{data:null,error:v}}})}})}}const Ev={"X-Client-Info":`storage-js/${pw}`,"Content-Type":"application/json"};class Nv extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Cn(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}class cf extends Nv{constructor(e,r,s){super(e),this.name="StorageVectorsApiError",this.status=r,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class xw extends Nv{constructor(e,r){super(e),this.name="StorageVectorsUnknownError",this.originalError=r}}var zg;(function(t){t.InternalError="InternalError",t.S3VectorConflictException="S3VectorConflictException",t.S3VectorNotFoundException="S3VectorNotFoundException",t.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",t.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",t.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(zg||(zg={}));const Ff=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),ak=()=>Response,yw=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},lk=t=>Array.from(new Float32Array(t)),ck=(t,e)=>{if(e!==void 0&&t.float32.length!==e)throw new Error(`Vector dimension mismatch: expected ${e}, got ${t.float32.length}`)},Ny=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),dk=(t,e,r)=>qe(void 0,void 0,void 0,function*(){if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(r!=null&&r.noResolveJson)){const l=t.status||500,c=t;if(typeof c.json=="function")c.json().then(u=>{const p=(u==null?void 0:u.statusCode)||(u==null?void 0:u.code)||l+"";e(new cf(Ny(u),l,p))}).catch(()=>{const u=l+"",p=c.statusText||`HTTP ${l} error`;e(new cf(p,l,u))});else{const u=l+"",p=c.statusText||`HTTP ${l} error`;e(new cf(p,l,u))}}else e(new xw(Ny(t),t))}),uk=(t,e,r,s)=>{const l={method:t,headers:(e==null?void 0:e.headers)||{}};return s?(yw(s)?(l.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),l.body=JSON.stringify(s)):l.body=s,Object.assign(Object.assign({},l),r)):l};function hk(t,e,r,s,l,c){return qe(this,void 0,void 0,function*(){return new Promise((u,p)=>{t(r,uk(e,s,l,c)).then(m=>{if(!m.ok)throw m;if(s!=null&&s.noResolveJson)return m;const v=m.headers.get("content-type");return!v||!v.includes("application/json")?{}:m.json()}).then(m=>u(m)).catch(m=>dk(m,p,s))})})}function Fn(t,e,r,s,l){return qe(this,void 0,void 0,function*(){return hk(t,"POST",e,s,l,r)})}class bw{constructor(e,r={},s){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Ev),r),this.fetch=Ff(s)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return qe(this,void 0,void 0,function*(){try{return{data:(yield Fn(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Cn(r))return{data:null,error:r};throw r}})}getIndex(e,r){return qe(this,void 0,void 0,function*(){try{return{data:yield Fn(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Cn(s))return{data:null,error:s};throw s}})}listIndexes(e){return qe(this,void 0,void 0,function*(){try{return{data:yield Fn(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Cn(r))return{data:null,error:r};throw r}})}deleteIndex(e,r){return qe(this,void 0,void 0,function*(){try{return{data:(yield Fn(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Cn(s))return{data:null,error:s};throw s}})}}class _w{constructor(e,r={},s){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Ev),r),this.fetch=Ff(s)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return qe(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Fn(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Cn(r))return{data:null,error:r};throw r}})}getVectors(e){return qe(this,void 0,void 0,function*(){try{return{data:yield Fn(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Cn(r))return{data:null,error:r};throw r}})}listVectors(e){return qe(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield Fn(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Cn(r))return{data:null,error:r};throw r}})}queryVectors(e){return qe(this,void 0,void 0,function*(){try{return{data:yield Fn(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Cn(r))return{data:null,error:r};throw r}})}deleteVectors(e){return qe(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Fn(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Cn(r))return{data:null,error:r};throw r}})}}class ww{constructor(e,r={},s){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Ev),r),this.fetch=Ff(s)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return qe(this,void 0,void 0,function*(){try{return{data:(yield Fn(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Cn(r))return{data:null,error:r};throw r}})}getBucket(e){return qe(this,void 0,void 0,function*(){try{return{data:yield Fn(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Cn(r))return{data:null,error:r};throw r}})}listBuckets(){return qe(this,arguments,void 0,function*(e={}){try{return{data:yield Fn(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Cn(r))return{data:null,error:r};throw r}})}deleteBucket(e){return qe(this,void 0,void 0,function*(){try{return{data:(yield Fn(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Cn(r))return{data:null,error:r};throw r}})}}class jw extends ww{constructor(e,r={}){super(e,r.headers||{},r.fetch)}from(e){return new Sw(this.url,this.headers,e,this.fetch)}createBucket(e){const r=Object.create(null,{createBucket:{get:()=>super.createBucket}});return qe(this,void 0,void 0,function*(){return r.createBucket.call(this,e)})}getBucket(e){const r=Object.create(null,{getBucket:{get:()=>super.getBucket}});return qe(this,void 0,void 0,function*(){return r.getBucket.call(this,e)})}listBuckets(){const e=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return qe(this,arguments,void 0,function*(r={}){return e.listBuckets.call(this,r)})}deleteBucket(e){const r=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return qe(this,void 0,void 0,function*(){return r.deleteBucket.call(this,e)})}}class Sw extends bw{constructor(e,r,s,l){super(e,r,l),this.vectorBucketName=s}createIndex(e){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return qe(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return qe(this,arguments,void 0,function*(r={}){return e.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return qe(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return qe(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new Ew(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class Ew extends _w{constructor(e,r,s,l,c){super(e,r,c),this.vectorBucketName=s,this.indexName=l}putVectors(e){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return qe(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return qe(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return qe(this,arguments,void 0,function*(r={}){return e.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return qe(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return qe(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class fk extends ek{constructor(e,r={},s,l){super(e,r,s,l)}from(e){return new X2(this.url,this.headers,e,this.fetch)}get vectors(){return new jw(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new vw(this.url+"/iceberg",this.headers,this.fetch)}}const mk=Object.freeze(Object.defineProperty({__proto__:null,StorageAnalyticsClient:vw,StorageApiError:fw,StorageClient:fk,StorageError:vu,StorageUnknownError:_f,StorageVectorsApiError:cf,StorageVectorsClient:jw,StorageVectorsError:Nv,get StorageVectorsErrorCode(){return zg},StorageVectorsUnknownError:xw,VectorBucketApi:ww,VectorBucketScope:Sw,VectorDataApi:_w,VectorIndexApi:bw,VectorIndexScope:Ew,isPlainObject:yw,isStorageError:Yt,isStorageVectorsError:Cn,normalizeToFloat32:lk,resolveFetch:Ff,resolveResponse:ak,validateVectorDimension:ck},Symbol.toStringTag,{value:"Module"})),pk=mu(mk);var qp={},Bd={},Cy;function gk(){return Cy||(Cy=1,Object.defineProperty(Bd,"__esModule",{value:!0}),Bd.version=void 0,Bd.version="2.87.1"),Bd}var ky;function vk(){return ky||(ky=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_REALTIME_OPTIONS=t.DEFAULT_AUTH_OPTIONS=t.DEFAULT_DB_OPTIONS=t.DEFAULT_GLOBAL_OPTIONS=t.DEFAULT_HEADERS=void 0;const e=gk();let r="";typeof Deno<"u"?r="deno":typeof document<"u"?r="web":typeof navigator<"u"&&navigator.product==="ReactNative"?r="react-native":r="node",t.DEFAULT_HEADERS={"X-Client-Info":`supabase-js-${r}/${e.version}`},t.DEFAULT_GLOBAL_OPTIONS={headers:t.DEFAULT_HEADERS},t.DEFAULT_DB_OPTIONS={schema:"public"},t.DEFAULT_AUTH_OPTIONS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},t.DEFAULT_REALTIME_OPTIONS={}})(qp)),qp}var Wp={},Py;function xk(){return Py||(Py=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.fetchWithAuth=t.resolveHeadersConstructor=t.resolveFetch=void 0;const e=l=>l?(...c)=>l(...c):(...c)=>fetch(...c);t.resolveFetch=e;const r=()=>Headers;t.resolveHeadersConstructor=r;const s=(l,c,u)=>{const p=(0,t.resolveFetch)(u),m=(0,t.resolveHeadersConstructor)();return async(v,y)=>{var x;const S=(x=await c())!==null&&x!==void 0?x:l;let E=new m(y==null?void 0:y.headers);return E.has("apikey")||E.set("apikey",l),E.has("Authorization")||E.set("Authorization",`Bearer ${S}`),p(v,Object.assign(Object.assign({},y),{headers:E}))}};t.fetchWithAuth=s})(Wp)),Wp}var Ds={},Ty;function yk(){if(Ty)return Ds;Ty=1,Object.defineProperty(Ds,"__esModule",{value:!0}),Ds.isBrowser=void 0,Ds.uuid=t,Ds.ensureTrailingSlash=e,Ds.applySettingDefaults=s,Ds.validateSupabaseUrl=l;function t(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(c){var u=Math.random()*16|0,p=c=="x"?u:u&3|8;return p.toString(16)})}function e(c){return c.endsWith("/")?c:c+"/"}const r=()=>typeof window<"u";Ds.isBrowser=r;function s(c,u){var p,m;const{db:v,auth:y,realtime:x,global:S}=c,{db:E,auth:k,realtime:N,global:P}=u,O={db:Object.assign(Object.assign({},E),v),auth:Object.assign(Object.assign({},k),y),realtime:Object.assign(Object.assign({},N),x),storage:{},global:Object.assign(Object.assign(Object.assign({},P),S),{headers:Object.assign(Object.assign({},(p=P==null?void 0:P.headers)!==null&&p!==void 0?p:{}),(m=S==null?void 0:S.headers)!==null&&m!==void 0?m:{})}),accessToken:async()=>""};return c.accessToken?O.accessToken=c.accessToken:delete O.accessToken,O}function l(c){const u=c==null?void 0:c.trim();if(!u)throw new Error("supabaseUrl is required.");if(!u.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(e(u))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}return Ds}var zd={};const Nw="2.87.1",oc=30*1e3,$g=3,Hp=$g*oc,bk="http://localhost:9999",_k="supabase.auth.token",wk={"X-Client-Info":`gotrue-js/${Nw}`},Fg="X-Supabase-Api-Version",Cw={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},jk=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Sk=600*1e3;let Nc=class extends Error{constructor(e,r,s){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=s}};function Qe(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}let kw=class extends Nc{constructor(e,r,s){super(e,r,s),this.name="AuthApiError",this.status=r,this.code=s}};function Pw(t){return Qe(t)&&t.name==="AuthApiError"}let Bi=class extends Nc{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}},Xs=class extends Nc{constructor(e,r,s,l){super(e,s,l),this.name=r,this.status=s}},jn=class extends Xs{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function Tw(t){return Qe(t)&&t.name==="AuthSessionMissingError"}let La=class extends Xs{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},Vd=class extends Xs{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}},Gd=class extends Xs{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function Rw(t){return Qe(t)&&t.name==="AuthImplicitGrantRedirectError"}let Ug=class extends Xs{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},wf=class extends Xs{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}};function df(t){return Qe(t)&&t.name==="AuthRetryableFetchError"}let qg=class extends Xs{constructor(e,r,s){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=s}};function Ek(t){return Qe(t)&&t.name==="AuthWeakPasswordError"}let jf=class extends Xs{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}};const Sf="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Ry=` 	
\r=`.split(""),Nk=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Ry.length;e+=1)t[Ry[e].charCodeAt(0)]=-2;for(let e=0;e<Sf.length;e+=1)t[Sf[e].charCodeAt(0)]=e;return t})();function Ay(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const s=e.queue>>e.queuedBits-6&63;r(Sf[s]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const s=e.queue>>e.queuedBits-6&63;r(Sf[s]),e.queuedBits-=6}}function Aw(t,e,r){const s=Nk[t];if(s>-1)for(e.queue=e.queue<<6|s,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(s===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Oy(t){const e=[],r=u=>{e.push(String.fromCodePoint(u))},s={utf8seq:0,codepoint:0},l={queue:0,queuedBits:0},c=u=>{Pk(u,s,r)};for(let u=0;u<t.length;u+=1)Aw(t.charCodeAt(u),l,c);return e.join("")}function Ck(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function kk(t,e){for(let r=0;r<t.length;r+=1){let s=t.charCodeAt(r);if(s>55295&&s<=56319){const l=(s-55296)*1024&65535;s=(t.charCodeAt(r+1)-56320&65535|l)+65536,r+=1}Ck(s,e)}}function Pk(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let s=1;s<6;s+=1)if((t>>7-s&1)===0){e.utf8seq=s;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function ac(t){const e=[],r={queue:0,queuedBits:0},s=l=>{e.push(l)};for(let l=0;l<t.length;l+=1)Aw(t.charCodeAt(l),r,s);return new Uint8Array(e)}function Tk(t){const e=[];return kk(t,r=>e.push(r)),new Uint8Array(e)}function Ua(t){const e=[],r={queue:0,queuedBits:0},s=l=>{e.push(l)};return t.forEach(l=>Ay(l,r,s)),Ay(null,r,s),e.join("")}function Rk(t){return Math.round(Date.now()/1e3)+t}function Ak(){return Symbol("auth-callback")}const Wr=()=>typeof window<"u"&&typeof document<"u",Aa={tested:!1,writable:!1},Ow=()=>{if(!Wr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Aa.tested)return Aa.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Aa.tested=!0,Aa.writable=!0}catch{Aa.tested=!0,Aa.writable=!1}return Aa.writable};function Ok(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((l,c)=>{e[c]=l})}catch{}return r.searchParams.forEach((s,l)=>{e[l]=s}),e}const Mw=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),Mk=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",sc=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},Oa=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},qr=async(t,e)=>{await t.removeItem(e)};class Uf{constructor(){this.promise=new Uf.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}Uf.promiseConstructor=Promise;function Vp(t){const e=t.split(".");if(e.length!==3)throw new jf("Invalid JWT structure");for(let s=0;s<e.length;s++)if(!jk.test(e[s]))throw new jf("JWT not in base64url format");return{header:JSON.parse(Oy(e[0])),payload:JSON.parse(Oy(e[1])),signature:ac(e[2]),raw:{header:e[0],payload:e[1]}}}async function Lk(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function Ik(t,e){return new Promise((s,l)=>{(async()=>{for(let c=0;c<1/0;c++)try{const u=await t(c);if(!e(c,null,u)){s(u);return}}catch(u){if(!e(c,u)){l(u);return}}})()})}function Dk(t){return("0"+t.toString(16)).substr(-2)}function Bk(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=r.length;let l="";for(let c=0;c<56;c++)l+=r.charAt(Math.floor(Math.random()*s));return l}return crypto.getRandomValues(e),Array.from(e,Dk).join("")}async function zk(t){const r=new TextEncoder().encode(t),s=await crypto.subtle.digest("SHA-256",r),l=new Uint8Array(s);return Array.from(l).map(c=>String.fromCharCode(c)).join("")}async function $k(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await zk(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ql(t,e,r=!1){const s=Bk();let l=s;r&&(l+="/PASSWORD_RECOVERY"),await sc(t,`${e}-code-verifier`,l);const c=await $k(s);return[c,s===c?"plain":"s256"]}const Fk=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Uk(t){const e=t.headers.get(Fg);if(!e||!e.match(Fk))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function qk(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function Wk(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Hk=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Yl(t){if(!Hk.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Gp(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const s=r.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Vk(t,e){return new Proxy(t,{get:(r,s,l)=>{if(s==="__isInsecureUserWarningProxy")return!0;if(typeof s=="symbol"){const c=s.toString();if(c==="Symbol(Symbol.toPrimitive)"||c==="Symbol(Symbol.toStringTag)"||c==="Symbol(util.inspect.custom)"||c==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,s,l)}return!e.value&&typeof s=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(r,s,l)}})}function My(t){return JSON.parse(JSON.stringify(t))}const Ia=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Gk=[502,503,504];async function Ly(t){var e;if(!Mk(t))throw new wf(Ia(t),0);if(Gk.includes(t.status))throw new wf(Ia(t),t.status);let r;try{r=await t.json()}catch(c){throw new Bi(Ia(c),c)}let s;const l=Uk(t);if(l&&l.getTime()>=Cw["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?s=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(s=r.error_code),s){if(s==="weak_password")throw new qg(Ia(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(s==="session_not_found")throw new jn}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((c,u)=>c&&typeof u=="string",!0))throw new qg(Ia(r),t.status,r.weak_password.reasons);throw new kw(Ia(r),t.status||500,s)}const Kk=(t,e,r,s)=>{const l={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?l:(l.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),l.body=JSON.stringify(s),Object.assign(Object.assign({},l),r))};async function ot(t,e,r,s){var l;const c=Object.assign({},s==null?void 0:s.headers);c[Fg]||(c[Fg]=Cw["2024-01-01"].name),s!=null&&s.jwt&&(c.Authorization=`Bearer ${s.jwt}`);const u=(l=s==null?void 0:s.query)!==null&&l!==void 0?l:{};s!=null&&s.redirectTo&&(u.redirect_to=s.redirectTo);const p=Object.keys(u).length?"?"+new URLSearchParams(u).toString():"",m=await Zk(t,e,r+p,{headers:c,noResolveJson:s==null?void 0:s.noResolveJson},{},s==null?void 0:s.body);return s!=null&&s.xform?s==null?void 0:s.xform(m):{data:Object.assign({},m),error:null}}async function Zk(t,e,r,s,l,c){const u=Kk(e,s,l,c);let p;try{p=await t(r,Object.assign({},u))}catch(m){throw console.error(m),new wf(Ia(m),0)}if(p.ok||await Ly(p),s!=null&&s.noResolveJson)return p;try{return await p.json()}catch(m){await Ly(m)}}function No(t){var e;let r=null;Jk(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=Rk(t.expires_in)));const s=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:s},error:null}}function Iy(t){const e=No(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,s)=>r&&typeof s=="string",!0)&&(e.data.weak_password=t.weak_password),e}function zi(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function Qk(t){return{data:t,error:null}}function Yk(t){const{action_link:e,email_otp:r,hashed_token:s,redirect_to:l,verification_type:c}=t,u=na(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),p={action_link:e,email_otp:r,hashed_token:s,redirect_to:l,verification_type:c},m=Object.assign({},u);return{data:{properties:p,user:m},error:null}}function Dy(t){return t}function Jk(t){return t.access_token&&t.refresh_token&&t.expires_in}const uf=["global","local","others"];let Cv=class{constructor({url:e="",headers:r={},fetch:s}){this.url=e,this.headers=r,this.fetch=Mw(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,r=uf[0]){if(uf.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${uf.join(", ")}`);try{return await ot(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(s){if(Qe(s))return{data:null,error:s};throw s}}async inviteUserByEmail(e,r={}){try{return await ot(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:zi})}catch(s){if(Qe(s))return{data:{user:null},error:s};throw s}}async generateLink(e){try{const{options:r}=e,s=na(e,["options"]),l=Object.assign(Object.assign({},s),r);return"newEmail"in s&&(l.new_email=s==null?void 0:s.newEmail,delete l.newEmail),await ot(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:l,headers:this.headers,xform:Yk,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(Qe(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await ot(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:zi})}catch(r){if(Qe(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,s,l,c,u,p,m;try{const v={nextPage:null,lastPage:0,total:0},y=await ot(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&s!==void 0?s:"",per_page:(c=(l=e==null?void 0:e.perPage)===null||l===void 0?void 0:l.toString())!==null&&c!==void 0?c:""},xform:Dy});if(y.error)throw y.error;const x=await y.json(),S=(u=y.headers.get("x-total-count"))!==null&&u!==void 0?u:0,E=(m=(p=y.headers.get("link"))===null||p===void 0?void 0:p.split(","))!==null&&m!==void 0?m:[];return E.length>0&&(E.forEach(k=>{const N=parseInt(k.split(";")[0].split("=")[1].substring(0,1)),P=JSON.parse(k.split(";")[1].split("=")[1]);v[`${P}Page`]=N}),v.total=parseInt(S)),{data:Object.assign(Object.assign({},x),v),error:null}}catch(v){if(Qe(v))return{data:{users:[]},error:v};throw v}}async getUserById(e){Yl(e);try{return await ot(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:zi})}catch(r){if(Qe(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){Yl(e);try{return await ot(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:zi})}catch(s){if(Qe(s))return{data:{user:null},error:s};throw s}}async deleteUser(e,r=!1){Yl(e);try{return await ot(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:zi})}catch(s){if(Qe(s))return{data:{user:null},error:s};throw s}}async _listFactors(e){Yl(e.userId);try{const{data:r,error:s}=await ot(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:l=>({data:{factors:l},error:null})});return{data:r,error:s}}catch(r){if(Qe(r))return{data:null,error:r};throw r}}async _deleteFactor(e){Yl(e.userId),Yl(e.id);try{return{data:await ot(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(Qe(r))return{data:null,error:r};throw r}}async _listOAuthClients(e){var r,s,l,c,u,p,m;try{const v={nextPage:null,lastPage:0,total:0},y=await ot(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&s!==void 0?s:"",per_page:(c=(l=e==null?void 0:e.perPage)===null||l===void 0?void 0:l.toString())!==null&&c!==void 0?c:""},xform:Dy});if(y.error)throw y.error;const x=await y.json(),S=(u=y.headers.get("x-total-count"))!==null&&u!==void 0?u:0,E=(m=(p=y.headers.get("link"))===null||p===void 0?void 0:p.split(","))!==null&&m!==void 0?m:[];return E.length>0&&(E.forEach(k=>{const N=parseInt(k.split(";")[0].split("=")[1].substring(0,1)),P=JSON.parse(k.split(";")[1].split("=")[1]);v[`${P}Page`]=N}),v.total=parseInt(S)),{data:Object.assign(Object.assign({},x),v),error:null}}catch(v){if(Qe(v))return{data:{clients:[]},error:v};throw v}}async _createOAuthClient(e){try{return await ot(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Qe(r))return{data:null,error:r};throw r}}async _getOAuthClient(e){try{return await ot(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Qe(r))return{data:null,error:r};throw r}}async _updateOAuthClient(e,r){try{return await ot(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:r,headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(Qe(s))return{data:null,error:s};throw s}}async _deleteOAuthClient(e){try{return await ot(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Qe(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(e){try{return await ot(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Qe(r))return{data:null,error:r};throw r}}};function By(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}const Da={debug:!!(globalThis&&Ow()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class kv extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}let Lw=class extends kv{};class Xk extends kv{}async function Iw(t,e,r){Da.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const s=new globalThis.AbortController;return e>0&&setTimeout(()=>{s.abort(),Da.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async l=>{if(l){Da.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,l.name);try{return await r()}finally{Da.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,l.name)}}else{if(e===0)throw Da.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new Lw(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Da.debug)try{const c=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(c,null,"  "))}catch(c){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",c)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}const zy={};async function eP(t,e,r){var s;const l=(s=zy[t])!==null&&s!==void 0?s:Promise.resolve(),c=Promise.race([l.catch(()=>null),e>=0?new Promise((u,p)=>{setTimeout(()=>{p(new Xk(`Acquring process lock with name "${t}" timed out`))},e)}):null].filter(u=>u)).catch(u=>{if(u&&u.isAcquireTimeout)throw u;return null}).then(async()=>await r());return zy[t]=c.catch(async u=>{if(u&&u.isAcquireTimeout)return await l,null;throw u}),await c}function tP(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Dw(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function rP(t){return parseInt(t,16)}function nP(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,s=>s.toString(16).padStart(2,"0")).join("")}function oP(t){var e;const{chainId:r,domain:s,expirationTime:l,issuedAt:c=new Date,nonce:u,notBefore:p,requestId:m,resources:v,scheme:y,uri:x,version:S}=t;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!s)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(u&&u.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${u}`);if(!x)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(S!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${S}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const E=Dw(t.address),k=y?`${y}://${s}`:s,N=t.statement?`${t.statement}
`:"",P=`${k} wants you to sign in with your Ethereum account:
${E}

${N}`;let O=`URI: ${x}
Version: ${S}
Chain ID: ${r}${u?`
Nonce: ${u}`:""}
Issued At: ${c.toISOString()}`;if(l&&(O+=`
Expiration Time: ${l.toISOString()}`),p&&(O+=`
Not Before: ${p.toISOString()}`),m&&(O+=`
Request ID: ${m}`),v){let T=`
Resources:`;for(const R of v){if(!R||typeof R!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${R}`);T+=`
- ${R}`}O+=T}return`${P}
${O}`}class Sr extends Error{constructor({message:e,code:r,cause:s,name:l}){var c;super(e,{cause:s}),this.__isWebAuthnError=!0,this.name=(c=l??(s instanceof Error?s.name:void 0))!==null&&c!==void 0?c:"Unknown Error",this.code=r}}class Ef extends Sr{constructor(e,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:e}),this.name="WebAuthnUnknownError",this.originalError=r}}function sP({error:t,options:e}){var r,s,l;const{publicKey:c}=e;if(!c)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Sr({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((r=c.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Sr({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((s=c.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new Sr({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((l=c.authenticatorSelection)===null||l===void 0?void 0:l.userVerification)==="required")return new Sr({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new Sr({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new Sr({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return c.pubKeyCredParams.filter(p=>p.type==="public-key").length===0?new Sr({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new Sr({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const u=window.location.hostname;if(Bw(u)){if(c.rp.id!==u)return new Sr({message:`The RP ID "${c.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Sr({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(c.user.id.byteLength<1||c.user.id.byteLength>64)return new Sr({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new Sr({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Sr({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function iP({error:t,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Sr({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new Sr({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const s=window.location.hostname;if(Bw(s)){if(r.rpId!==s)return new Sr({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Sr({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new Sr({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Sr({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class aP{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const lP=new aP;function cP(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:r,excludeCredentials:s}=t,l=na(t,["challenge","user","excludeCredentials"]),c=ac(e).buffer,u=Object.assign(Object.assign({},r),{id:ac(r.id).buffer}),p=Object.assign(Object.assign({},l),{challenge:c,user:u});if(s&&s.length>0){p.excludeCredentials=new Array(s.length);for(let m=0;m<s.length;m++){const v=s[m];p.excludeCredentials[m]=Object.assign(Object.assign({},v),{id:ac(v.id).buffer,type:v.type||"public-key",transports:v.transports})}}return p}function dP(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:r}=t,s=na(t,["challenge","allowCredentials"]),l=ac(e).buffer,c=Object.assign(Object.assign({},s),{challenge:l});if(r&&r.length>0){c.allowCredentials=new Array(r.length);for(let u=0;u<r.length;u++){const p=r[u];c.allowCredentials[u]=Object.assign(Object.assign({},p),{id:ac(p.id).buffer,type:p.type||"public-key",transports:p.transports})}}return c}function uP(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t;return{id:t.id,rawId:t.id,response:{attestationObject:Ua(new Uint8Array(t.response.attestationObject)),clientDataJSON:Ua(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function hP(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t,s=t.getClientExtensionResults(),l=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:Ua(new Uint8Array(l.authenticatorData)),clientDataJSON:Ua(new Uint8Array(l.clientDataJSON)),signature:Ua(new Uint8Array(l.signature)),userHandle:l.userHandle?Ua(new Uint8Array(l.userHandle)):void 0},type:"public-key",clientExtensionResults:s,authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Bw(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function $y(){var t,e;return!!(Wr()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function fP(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Ef("Browser returned unexpected credential type",e)}:{data:null,error:new Ef("Empty credential response",e)}}catch(e){return{data:null,error:sP({error:e,options:t})}}}async function mP(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Ef("Browser returned unexpected credential type",e)}:{data:null,error:new Ef("Empty credential response",e)}}catch(e){return{data:null,error:iP({error:e,options:t})}}}const pP={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},gP={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Nf(...t){const e=l=>l!==null&&typeof l=="object"&&!Array.isArray(l),r=l=>l instanceof ArrayBuffer||ArrayBuffer.isView(l),s={};for(const l of t)if(l)for(const c in l){const u=l[c];if(u!==void 0)if(Array.isArray(u))s[c]=u;else if(r(u))s[c]=u;else if(e(u)){const p=s[c];e(p)?s[c]=Nf(p,u):s[c]=Nf(u)}else s[c]=u}return s}function vP(t,e){return Nf(pP,t,e||{})}function xP(t,e){return Nf(gP,t,e||{})}class yP{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:r,friendlyName:s,signal:l},c){try{const{data:u,error:p}=await this.client.mfa.challenge({factorId:e,webauthn:r});if(!u)return{data:null,error:p};const m=l??lP.createNewAbortSignal();if(u.webauthn.type==="create"){const{user:v}=u.webauthn.credential_options.publicKey;v.name||(v.name=`${v.id}:${s}`),v.displayName||(v.displayName=v.name)}switch(u.webauthn.type){case"create":{const v=vP(u.webauthn.credential_options.publicKey,c==null?void 0:c.create),{data:y,error:x}=await fP({publicKey:v,signal:m});return y?{data:{factorId:e,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:y}},error:null}:{data:null,error:x}}case"request":{const v=xP(u.webauthn.credential_options.publicKey,c==null?void 0:c.request),{data:y,error:x}=await mP(Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:v,signal:m}));return y?{data:{factorId:e,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:y}},error:null}:{data:null,error:x}}}}catch(u){return Qe(u)?{data:null,error:u}:{data:null,error:new Bi("Unexpected error in challenge",u)}}}async _verify({challengeId:e,factorId:r,webauthn:s}){return this.client.mfa.verify({factorId:r,challengeId:e,webauthn:s})}async _authenticate({factorId:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:l}={}},c){if(!r)return{data:null,error:new Nc("rpId is required for WebAuthn authentication")};try{if(!$y())return{data:null,error:new Bi("Browser does not support WebAuthn",null)};const{data:u,error:p}=await this.challenge({factorId:e,webauthn:{rpId:r,rpOrigins:s},signal:l},{request:c});if(!u)return{data:null,error:p};const{webauthn:m}=u;return this._verify({factorId:e,challengeId:u.challengeId,webauthn:{type:m.type,rpId:r,rpOrigins:s,credential_response:m.credential_response}})}catch(u){return Qe(u)?{data:null,error:u}:{data:null,error:new Bi("Unexpected error in authenticate",u)}}}async _register({friendlyName:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:l}={}},c){if(!r)return{data:null,error:new Nc("rpId is required for WebAuthn registration")};try{if(!$y())return{data:null,error:new Bi("Browser does not support WebAuthn",null)};const{data:u,error:p}=await this._enroll({friendlyName:e});if(!u)return await this.client.mfa.listFactors().then(y=>{var x;return(x=y.data)===null||x===void 0?void 0:x.all.find(S=>S.factor_type==="webauthn"&&S.friendly_name===e&&S.status!=="unverified")}).then(y=>y?this.client.mfa.unenroll({factorId:y==null?void 0:y.id}):void 0),{data:null,error:p};const{data:m,error:v}=await this._challenge({factorId:u.id,friendlyName:u.friendly_name,webauthn:{rpId:r,rpOrigins:s},signal:l},{create:c});return m?this._verify({factorId:u.id,challengeId:m.challengeId,webauthn:{rpId:r,rpOrigins:s,type:m.webauthn.type,credential_response:m.webauthn.credential_response}}):{data:null,error:v}}catch(u){return Qe(u)?{data:null,error:u}:{data:null,error:new Bi("Unexpected error in register",u)}}}}tP();const bP={url:bk,storageKey:_k,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:wk,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function Fy(t,e,r){return await r()}const Jl={};let Pv=class Wg{get jwks(){var e,r;return(r=(e=Jl[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){Jl[this.storageKey]=Object.assign(Object.assign({},Jl[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=Jl[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Jl[this.storageKey]=Object.assign(Object.assign({},Jl[this.storageKey]),{cachedAt:e})}constructor(e){var r,s,l;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const c=Object.assign(Object.assign({},bP),e);if(this.storageKey=c.storageKey,this.instanceID=(r=Wg.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,Wg.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!c.debug,typeof c.debug=="function"&&(this.logger=c.debug),this.instanceID>0&&Wr()){const u=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(u),this.logDebugMessages&&console.trace(u)}if(this.persistSession=c.persistSession,this.autoRefreshToken=c.autoRefreshToken,this.admin=new Cv({url:c.url,headers:c.headers,fetch:c.fetch}),this.url=c.url,this.headers=c.headers,this.fetch=Mw(c.fetch),this.lock=c.lock||Fy,this.detectSessionInUrl=c.detectSessionInUrl,this.flowType=c.flowType,this.hasCustomAuthorizationHeader=c.hasCustomAuthorizationHeader,this.throwOnError=c.throwOnError,c.lock?this.lock=c.lock:this.persistSession&&Wr()&&(!((s=globalThis==null?void 0:globalThis.navigator)===null||s===void 0)&&s.locks)?this.lock=Iw:this.lock=Fy,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new yP(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(c.storage?this.storage=c.storage:Ow()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=By(this.memoryStorage)),c.userStorage&&(this.userStorage=c.userStorage)):(this.memoryStorage={},this.storage=By(this.memoryStorage)),Wr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(u){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",u)}(l=this.broadcastChannel)===null||l===void 0||l.addEventListener("message",async u=>{this._debug("received broadcast notification from other tab or client",u),await this._notifyAllSubscribers(u.data.event,u.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Nw}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let r={},s="none";if(Wr()&&(r=Ok(window.location.href),this._isImplicitGrantCallback(r)?s="implicit":await this._isPKCECallback(r)&&(s="pkce")),Wr()&&this.detectSessionInUrl&&s!=="none"){const{data:l,error:c}=await this._getSessionFromURL(r,s);if(c){if(this._debug("#_initialize()","error detecting session from URL",c),Rw(c)){const m=(e=c.details)===null||e===void 0?void 0:e.code;if(m==="identity_already_exists"||m==="identity_not_found"||m==="single_identity_not_deletable")return{error:c}}return await this._removeSession(),{error:c}}const{session:u,redirectType:p}=l;return this._debug("#_initialize()","detected session in URL",u,"redirect type",p),await this._saveSession(u),setTimeout(async()=>{p==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",u):await this._notifyAllSubscribers("SIGNED_IN",u)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Qe(r)?this._returnResult({error:r}):this._returnResult({error:new Bi("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,s,l;try{const c=await ot(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(l=e==null?void 0:e.options)===null||l===void 0?void 0:l.captchaToken}},xform:No}),{data:u,error:p}=c;if(p||!u)return this._returnResult({data:{user:null,session:null},error:p});const m=u.session,v=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",m)),this._returnResult({data:{user:v,session:m},error:null})}catch(c){if(Qe(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async signUp(e){var r,s,l;try{let c;if("email"in e){const{email:y,password:x,options:S}=e;let E=null,k=null;this.flowType==="pkce"&&([E,k]=await Ql(this.storage,this.storageKey)),c=await ot(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:S==null?void 0:S.emailRedirectTo,body:{email:y,password:x,data:(r=S==null?void 0:S.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:S==null?void 0:S.captchaToken},code_challenge:E,code_challenge_method:k},xform:No})}else if("phone"in e){const{phone:y,password:x,options:S}=e;c=await ot(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:y,password:x,data:(s=S==null?void 0:S.data)!==null&&s!==void 0?s:{},channel:(l=S==null?void 0:S.channel)!==null&&l!==void 0?l:"sms",gotrue_meta_security:{captcha_token:S==null?void 0:S.captchaToken}},xform:No})}else throw new Vd("You must provide either an email or phone number and a password");const{data:u,error:p}=c;if(p||!u)return await qr(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:p});const m=u.session,v=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",m)),this._returnResult({data:{user:v,session:m},error:null})}catch(c){if(await qr(this.storage,`${this.storageKey}-code-verifier`),Qe(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async signInWithPassword(e){try{let r;if("email"in e){const{email:c,password:u,options:p}=e;r=await ot(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:c,password:u,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:Iy})}else if("phone"in e){const{phone:c,password:u,options:p}=e;r=await ot(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:c,password:u,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:Iy})}else throw new Vd("You must provide either an email or phone number and a password");const{data:s,error:l}=r;if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!s||!s.session||!s.user){const c=new La;return this._returnResult({data:{user:null,session:null},error:c})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:l})}catch(r){if(Qe(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(e){var r,s,l,c;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(s=e.options)===null||s===void 0?void 0:s.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:(c=e.options)===null||c===void 0?void 0:c.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,s,l,c,u,p,m,v,y,x,S;let E,k;if("message"in e)E=e.message,k=e.signature;else{const{chain:N,wallet:P,statement:O,options:T}=e;let R;if(Wr())if(typeof P=="object")R=P;else{const we=window;if("ethereum"in we&&typeof we.ethereum=="object"&&"request"in we.ethereum&&typeof we.ethereum.request=="function")R=we.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof P!="object"||!(T!=null&&T.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");R=P}const D=new URL((r=T==null?void 0:T.url)!==null&&r!==void 0?r:window.location.href),K=await R.request({method:"eth_requestAccounts"}).then(we=>we).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!K||K.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const B=Dw(K[0]);let Q=(s=T==null?void 0:T.signInWithEthereum)===null||s===void 0?void 0:s.chainId;if(!Q){const we=await R.request({method:"eth_chainId"});Q=rP(we)}const ne={domain:D.host,address:B,statement:O,uri:D.href,version:"1",chainId:Q,nonce:(l=T==null?void 0:T.signInWithEthereum)===null||l===void 0?void 0:l.nonce,issuedAt:(u=(c=T==null?void 0:T.signInWithEthereum)===null||c===void 0?void 0:c.issuedAt)!==null&&u!==void 0?u:new Date,expirationTime:(p=T==null?void 0:T.signInWithEthereum)===null||p===void 0?void 0:p.expirationTime,notBefore:(m=T==null?void 0:T.signInWithEthereum)===null||m===void 0?void 0:m.notBefore,requestId:(v=T==null?void 0:T.signInWithEthereum)===null||v===void 0?void 0:v.requestId,resources:(y=T==null?void 0:T.signInWithEthereum)===null||y===void 0?void 0:y.resources};E=oP(ne),k=await R.request({method:"personal_sign",params:[nP(E),B]})}try{const{data:N,error:P}=await ot(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:E,signature:k},!((x=e.options)===null||x===void 0)&&x.captchaToken?{gotrue_meta_security:{captcha_token:(S=e.options)===null||S===void 0?void 0:S.captchaToken}}:null),xform:No});if(P)throw P;if(!N||!N.session||!N.user){const O=new La;return this._returnResult({data:{user:null,session:null},error:O})}return N.session&&(await this._saveSession(N.session),await this._notifyAllSubscribers("SIGNED_IN",N.session)),this._returnResult({data:Object.assign({},N),error:P})}catch(N){if(Qe(N))return this._returnResult({data:{user:null,session:null},error:N});throw N}}async signInWithSolana(e){var r,s,l,c,u,p,m,v,y,x,S,E;let k,N;if("message"in e)k=e.message,N=e.signature;else{const{chain:P,wallet:O,statement:T,options:R}=e;let D;if(Wr())if(typeof O=="object")D=O;else{const B=window;if("solana"in B&&typeof B.solana=="object"&&("signIn"in B.solana&&typeof B.solana.signIn=="function"||"signMessage"in B.solana&&typeof B.solana.signMessage=="function"))D=B.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof O!="object"||!(R!=null&&R.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");D=O}const K=new URL((r=R==null?void 0:R.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in D&&D.signIn){const B=await D.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},R==null?void 0:R.signInWithSolana),{version:"1",domain:K.host,uri:K.href}),T?{statement:T}:null));let Q;if(Array.isArray(B)&&B[0]&&typeof B[0]=="object")Q=B[0];else if(B&&typeof B=="object"&&"signedMessage"in B&&"signature"in B)Q=B;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in Q&&"signature"in Q&&(typeof Q.signedMessage=="string"||Q.signedMessage instanceof Uint8Array)&&Q.signature instanceof Uint8Array)k=typeof Q.signedMessage=="string"?Q.signedMessage:new TextDecoder().decode(Q.signedMessage),N=Q.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in D)||typeof D.signMessage!="function"||!("publicKey"in D)||typeof D!="object"||!D.publicKey||!("toBase58"in D.publicKey)||typeof D.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");k=[`${K.host} wants you to sign in with your Solana account:`,D.publicKey.toBase58(),...T?["",T,""]:[""],"Version: 1",`URI: ${K.href}`,`Issued At: ${(l=(s=R==null?void 0:R.signInWithSolana)===null||s===void 0?void 0:s.issuedAt)!==null&&l!==void 0?l:new Date().toISOString()}`,...!((c=R==null?void 0:R.signInWithSolana)===null||c===void 0)&&c.notBefore?[`Not Before: ${R.signInWithSolana.notBefore}`]:[],...!((u=R==null?void 0:R.signInWithSolana)===null||u===void 0)&&u.expirationTime?[`Expiration Time: ${R.signInWithSolana.expirationTime}`]:[],...!((p=R==null?void 0:R.signInWithSolana)===null||p===void 0)&&p.chainId?[`Chain ID: ${R.signInWithSolana.chainId}`]:[],...!((m=R==null?void 0:R.signInWithSolana)===null||m===void 0)&&m.nonce?[`Nonce: ${R.signInWithSolana.nonce}`]:[],...!((v=R==null?void 0:R.signInWithSolana)===null||v===void 0)&&v.requestId?[`Request ID: ${R.signInWithSolana.requestId}`]:[],...!((x=(y=R==null?void 0:R.signInWithSolana)===null||y===void 0?void 0:y.resources)===null||x===void 0)&&x.length?["Resources",...R.signInWithSolana.resources.map(Q=>`- ${Q}`)]:[]].join(`
`);const B=await D.signMessage(new TextEncoder().encode(k),"utf8");if(!B||!(B instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");N=B}}try{const{data:P,error:O}=await ot(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:k,signature:Ua(N)},!((S=e.options)===null||S===void 0)&&S.captchaToken?{gotrue_meta_security:{captcha_token:(E=e.options)===null||E===void 0?void 0:E.captchaToken}}:null),xform:No});if(O)throw O;if(!P||!P.session||!P.user){const T=new La;return this._returnResult({data:{user:null,session:null},error:T})}return P.session&&(await this._saveSession(P.session),await this._notifyAllSubscribers("SIGNED_IN",P.session)),this._returnResult({data:Object.assign({},P),error:O})}catch(P){if(Qe(P))return this._returnResult({data:{user:null,session:null},error:P});throw P}}async _exchangeCodeForSession(e){const r=await Oa(this.storage,`${this.storageKey}-code-verifier`),[s,l]=(r??"").split("/");try{const{data:c,error:u}=await ot(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:s},xform:No});if(await qr(this.storage,`${this.storageKey}-code-verifier`),u)throw u;if(!c||!c.session||!c.user){const p=new La;return this._returnResult({data:{user:null,session:null,redirectType:null},error:p})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:Object.assign(Object.assign({},c),{redirectType:l??null}),error:u})}catch(c){if(await qr(this.storage,`${this.storageKey}-code-verifier`),Qe(c))return this._returnResult({data:{user:null,session:null,redirectType:null},error:c});throw c}}async signInWithIdToken(e){try{const{options:r,provider:s,token:l,access_token:c,nonce:u}=e,p=await ot(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:l,access_token:c,nonce:u,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:No}),{data:m,error:v}=p;if(v)return this._returnResult({data:{user:null,session:null},error:v});if(!m||!m.session||!m.user){const y=new La;return this._returnResult({data:{user:null,session:null},error:y})}return m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),this._returnResult({data:m,error:v})}catch(r){if(Qe(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(e){var r,s,l,c,u;try{if("email"in e){const{email:p,options:m}=e;let v=null,y=null;this.flowType==="pkce"&&([v,y]=await Ql(this.storage,this.storageKey));const{error:x}=await ot(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:p,data:(r=m==null?void 0:m.data)!==null&&r!==void 0?r:{},create_user:(s=m==null?void 0:m.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:v,code_challenge_method:y},redirectTo:m==null?void 0:m.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:x})}if("phone"in e){const{phone:p,options:m}=e,{data:v,error:y}=await ot(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:p,data:(l=m==null?void 0:m.data)!==null&&l!==void 0?l:{},create_user:(c=m==null?void 0:m.shouldCreateUser)!==null&&c!==void 0?c:!0,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},channel:(u=m==null?void 0:m.channel)!==null&&u!==void 0?u:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:v==null?void 0:v.message_id},error:y})}throw new Vd("You must provide either an email or phone number.")}catch(p){if(await qr(this.storage,`${this.storageKey}-code-verifier`),Qe(p))return this._returnResult({data:{user:null,session:null},error:p});throw p}}async verifyOtp(e){var r,s;try{let l,c;"options"in e&&(l=(r=e.options)===null||r===void 0?void 0:r.redirectTo,c=(s=e.options)===null||s===void 0?void 0:s.captchaToken);const{data:u,error:p}=await ot(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:c}}),redirectTo:l,xform:No});if(p)throw p;if(!u)throw new Error("An error occurred on token verification.");const m=u.session,v=u.user;return m!=null&&m.access_token&&(await this._saveSession(m),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",m)),this._returnResult({data:{user:v,session:m},error:null})}catch(l){if(Qe(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signInWithSSO(e){var r,s,l,c,u;try{let p=null,m=null;this.flowType==="pkce"&&([p,m]=await Ql(this.storage,this.storageKey));const v=await ot(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(s=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&s!==void 0?s:void 0}),!((l=e==null?void 0:e.options)===null||l===void 0)&&l.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:p,code_challenge_method:m}),headers:this.headers,xform:Qk});return!((c=v.data)===null||c===void 0)&&c.url&&Wr()&&!(!((u=e.options)===null||u===void 0)&&u.skipBrowserRedirect)&&window.location.assign(v.data.url),this._returnResult(v)}catch(p){if(await qr(this.storage,`${this.storageKey}-code-verifier`),Qe(p))return this._returnResult({data:null,error:p});throw p}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:s}=e;if(s)throw s;if(!r)throw new jn;const{error:l}=await ot(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:l})})}catch(e){if(Qe(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:s,type:l,options:c}=e,{error:u}=await ot(this.fetch,"POST",r,{headers:this.headers,body:{email:s,type:l,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},redirectTo:c==null?void 0:c.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:u})}else if("phone"in e){const{phone:s,type:l,options:c}=e,{data:u,error:p}=await ot(this.fetch,"POST",r,{headers:this.headers,body:{phone:s,type:l,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:p})}throw new Vd("You must provide either an email or phone number and a type")}catch(r){if(Qe(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),l=(async()=>(await s,await r()))();return this.pendingInLock.push((async()=>{try{await l}catch{}})()),l}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=r();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const l=[...this.pendingInLock];await Promise.all(l),this.pendingInLock.splice(0,l.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await Oa(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const s=e.expires_at?e.expires_at*1e3-Date.now()<Hp:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",e.expires_at),!s){if(this.userStorage){const u=await Oa(this.userStorage,this.storageKey+"-user");u!=null&&u.user?e.user=u.user:e.user=Gp()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const u={value:this.suppressGetSessionWarning};e.user=Vk(e.user,u),u.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:l,error:c}=await this._callRefreshToken(e.refresh_token);return c?this._returnResult({data:{session:null},error:c}):this._returnResult({data:{session:l},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const r=await this._acquireLock(-1,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(e){try{return e?await ot(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:zi}):await this._useSession(async r=>{var s,l,c;const{data:u,error:p}=r;if(p)throw p;return!(!((s=u.session)===null||s===void 0)&&s.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new jn}:await ot(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(c=(l=u.session)===null||l===void 0?void 0:l.access_token)!==null&&c!==void 0?c:void 0,xform:zi})})}catch(r){if(Qe(r))return Tw(r)&&(await this._removeSession(),await qr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async s=>{const{data:l,error:c}=s;if(c)throw c;if(!l.session)throw new jn;const u=l.session;let p=null,m=null;this.flowType==="pkce"&&e.email!=null&&([p,m]=await Ql(this.storage,this.storageKey));const{data:v,error:y}=await ot(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:p,code_challenge_method:m}),jwt:u.access_token,xform:zi});if(y)throw y;return u.user=v.user,await this._saveSession(u),await this._notifyAllSubscribers("USER_UPDATED",u),this._returnResult({data:{user:u.user},error:null})})}catch(s){if(await qr(this.storage,`${this.storageKey}-code-verifier`),Qe(s))return this._returnResult({data:{user:null},error:s});throw s}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new jn;const r=Date.now()/1e3;let s=r,l=!0,c=null;const{payload:u}=Vp(e.access_token);if(u.exp&&(s=u.exp,l=s<=r),l){const{data:p,error:m}=await this._callRefreshToken(e.refresh_token);if(m)return this._returnResult({data:{user:null,session:null},error:m});if(!p)return{data:{user:null,session:null},error:null};c=p}else{const{data:p,error:m}=await this._getUser(e.access_token);if(m)throw m;c={access_token:e.access_token,refresh_token:e.refresh_token,user:p.user,token_type:"bearer",expires_in:s-r,expires_at:s},await this._saveSession(c),await this._notifyAllSubscribers("SIGNED_IN",c)}return this._returnResult({data:{user:c.user,session:c},error:null})}catch(r){if(Qe(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var s;if(!e){const{data:u,error:p}=r;if(p)throw p;e=(s=u.session)!==null&&s!==void 0?s:void 0}if(!(e!=null&&e.refresh_token))throw new jn;const{data:l,error:c}=await this._callRefreshToken(e.refresh_token);return c?this._returnResult({data:{user:null,session:null},error:c}):l?this._returnResult({data:{user:l.user,session:l},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(Qe(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(e,r){try{if(!Wr())throw new Gd("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Gd(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Ug("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Gd("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Ug("No code detected.");const{data:T,error:R}=await this._exchangeCodeForSession(e.code);if(R)throw R;const D=new URL(window.location.href);return D.searchParams.delete("code"),window.history.replaceState(window.history.state,"",D.toString()),{data:{session:T.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:l,access_token:c,refresh_token:u,expires_in:p,expires_at:m,token_type:v}=e;if(!c||!p||!u||!v)throw new Gd("No session defined in URL");const y=Math.round(Date.now()/1e3),x=parseInt(p);let S=y+x;m&&(S=parseInt(m));const E=S-y;E*1e3<=oc&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${E}s, should have been closer to ${x}s`);const k=S-x;y-k>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",k,S,y):y-k<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",k,S,y);const{data:N,error:P}=await this._getUser(c);if(P)throw P;const O={provider_token:s,provider_refresh_token:l,access_token:c,expires_in:x,expires_at:S,refresh_token:u,token_type:v,user:N.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:O,redirectType:e.type},error:null})}catch(s){if(Qe(s))return this._returnResult({data:{session:null,redirectType:null},error:s});throw s}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await Oa(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var s;const{data:l,error:c}=r;if(c)return this._returnResult({error:c});const u=(s=l.session)===null||s===void 0?void 0:s.access_token;if(u){const{error:p}=await this.admin.signOut(u,e);if(p&&!(Pw(p)&&(p.status===404||p.status===401||p.status===403)))return this._returnResult({error:p})}return e!=="others"&&(await this._removeSession(),await qr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const r=Ak(),s={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,s),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:s}}}async _emitInitialSession(e){return await this._useSession(async r=>{var s,l;try{const{data:{session:c},error:u}=r;if(u)throw u;await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",c)),this._debug("INITIAL_SESSION","callback id",e,"session",c)}catch(c){await((l=this.stateChangeEmitters.get(e))===null||l===void 0?void 0:l.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",c),console.error(c)}})}async resetPasswordForEmail(e,r={}){let s=null,l=null;this.flowType==="pkce"&&([s,l]=await Ql(this.storage,this.storageKey,!0));try{return await ot(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:s,code_challenge_method:l,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(c){if(await qr(this.storage,`${this.storageKey}-code-verifier`),Qe(c))return this._returnResult({data:null,error:c});throw c}}async getUserIdentities(){var e;try{const{data:r,error:s}=await this.getUser();if(s)throw s;return this._returnResult({data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(r){if(Qe(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var r;try{const{data:s,error:l}=await this._useSession(async c=>{var u,p,m,v,y;const{data:x,error:S}=c;if(S)throw S;const E=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(u=e.options)===null||u===void 0?void 0:u.redirectTo,scopes:(p=e.options)===null||p===void 0?void 0:p.scopes,queryParams:(m=e.options)===null||m===void 0?void 0:m.queryParams,skipBrowserRedirect:!0});return await ot(this.fetch,"GET",E,{headers:this.headers,jwt:(y=(v=x.session)===null||v===void 0?void 0:v.access_token)!==null&&y!==void 0?y:void 0})});if(l)throw l;return Wr()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(s==null?void 0:s.url),this._returnResult({data:{provider:e.provider,url:s==null?void 0:s.url},error:null})}catch(s){if(Qe(s))return this._returnResult({data:{provider:e.provider,url:null},error:s});throw s}}async linkIdentityIdToken(e){return await this._useSession(async r=>{var s;try{const{error:l,data:{session:c}}=r;if(l)throw l;const{options:u,provider:p,token:m,access_token:v,nonce:y}=e,x=await ot(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(s=c==null?void 0:c.access_token)!==null&&s!==void 0?s:void 0,body:{provider:p,id_token:m,access_token:v,nonce:y,link_identity:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:No}),{data:S,error:E}=x;return E?this._returnResult({data:{user:null,session:null},error:E}):!S||!S.session||!S.user?this._returnResult({data:{user:null,session:null},error:new La}):(S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("USER_UPDATED",S.session)),this._returnResult({data:S,error:E}))}catch(l){if(await qr(this.storage,`${this.storageKey}-code-verifier`),Qe(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}})}async unlinkIdentity(e){try{return await this._useSession(async r=>{var s,l;const{data:c,error:u}=r;if(u)throw u;return await ot(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(l=(s=c.session)===null||s===void 0?void 0:s.access_token)!==null&&l!==void 0?l:void 0})})}catch(r){if(Qe(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const s=Date.now();return await Ik(async l=>(l>0&&await Lk(200*Math.pow(2,l-1)),this._debug(r,"refreshing attempt",l),await ot(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:No})),(l,c)=>{const u=200*Math.pow(2,l);return c&&df(c)&&Date.now()+u-s<oc})}catch(s){if(this._debug(r,"error",s),Qe(s))return this._returnResult({data:{session:null,user:null},error:s});throw s}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const s=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",s),Wr()&&!r.skipBrowserRedirect&&window.location.assign(s),{data:{provider:e,url:s},error:null}}async _recoverAndRefresh(){var e,r;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const l=await Oa(this.storage,this.storageKey);if(l&&this.userStorage){let u=await Oa(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!u&&(u={user:l.user},await sc(this.userStorage,this.storageKey+"-user",u)),l.user=(e=u==null?void 0:u.user)!==null&&e!==void 0?e:Gp()}else if(l&&!l.user&&!l.user){const u=await Oa(this.storage,this.storageKey+"-user");u&&(u!=null&&u.user)?(l.user=u.user,await qr(this.storage,this.storageKey+"-user"),await sc(this.storage,this.storageKey,l)):l.user=Gp()}if(this._debug(s,"session from storage",l),!this._isValidSession(l)){this._debug(s,"session is not valid"),l!==null&&await this._removeSession();return}const c=((r=l.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Hp;if(this._debug(s,`session has${c?"":" not"} expired with margin of ${Hp}s`),c){if(this.autoRefreshToken&&l.refresh_token){const{error:u}=await this._callRefreshToken(l.refresh_token);u&&(console.error(u),df(u)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",u),await this._removeSession()))}}else if(l.user&&l.user.__isUserNotAvailableProxy===!0)try{const{data:u,error:p}=await this._getUser(l.access_token);!p&&(u!=null&&u.user)?(l.user=u.user,await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)):this._debug(s,"could not get user data, skipping SIGNED_IN notification")}catch(u){console.error("Error getting user data:",u),this._debug(s,"error getting user data, skipping SIGNED_IN notification",u)}else await this._notifyAllSubscribers("SIGNED_IN",l)}catch(l){this._debug(s,"error",l),console.error(l);return}finally{this._debug(s,"end")}}async _callRefreshToken(e){var r,s;if(!e)throw new jn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const l=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(l,"begin");try{this.refreshingDeferred=new Uf;const{data:c,error:u}=await this._refreshAccessToken(e);if(u)throw u;if(!c.session)throw new jn;await this._saveSession(c.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",c.session);const p={data:c.session,error:null};return this.refreshingDeferred.resolve(p),p}catch(c){if(this._debug(l,"error",c),Qe(c)){const u={data:null,error:c};return df(c)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(u),u}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(c),c}finally{this.refreshingDeferred=null,this._debug(l,"end")}}async _notifyAllSubscribers(e,r,s=!0){const l=`#_notifyAllSubscribers(${e})`;this._debug(l,"begin",r,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:e,session:r});const c=[],u=Array.from(this.stateChangeEmitters.values()).map(async p=>{try{await p.callback(e,r)}catch(m){c.push(m)}});if(await Promise.all(u),c.length>0){for(let p=0;p<c.length;p+=1)console.error(c[p]);throw c[0]}}finally{this._debug(l,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await qr(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},e),s=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!s&&r.user&&await sc(this.userStorage,this.storageKey+"-user",{user:r.user});const l=Object.assign({},r);delete l.user;const c=My(l);await sc(this.storage,this.storageKey,c)}else{const l=My(r);await sc(this.storage,this.storageKey,l)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await qr(this.storage,this.storageKey),await qr(this.storage,this.storageKey+"-code-verifier"),await qr(this.storage,this.storageKey+"-user"),this.userStorage&&await qr(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Wr()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),oc);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:s}}=r;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const l=Math.floor((s.expires_at*1e3-e)/oc);this._debug("#_autoRefreshTokenTick()",`access token expires in ${l} ticks, a tick lasts ${oc}ms, refresh threshold is ${$g} ticks`),l<=$g&&await this._callRefreshToken(s.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof kv)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Wr()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,s){const l=[`provider=${encodeURIComponent(r)}`];if(s!=null&&s.redirectTo&&l.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s!=null&&s.scopes&&l.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const[c,u]=await Ql(this.storage,this.storageKey),p=new URLSearchParams({code_challenge:`${encodeURIComponent(c)}`,code_challenge_method:`${encodeURIComponent(u)}`});l.push(p.toString())}if(s!=null&&s.queryParams){const c=new URLSearchParams(s.queryParams);l.push(c.toString())}return s!=null&&s.skipBrowserRedirect&&l.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${e}?${l.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var s;const{data:l,error:c}=r;return c?this._returnResult({data:null,error:c}):await ot(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(s=l==null?void 0:l.session)===null||s===void 0?void 0:s.access_token})})}catch(r){if(Qe(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(e){try{return await this._useSession(async r=>{var s,l;const{data:c,error:u}=r;if(u)return this._returnResult({data:null,error:u});const p=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:m,error:v}=await ot(this.fetch,"POST",`${this.url}/factors`,{body:p,headers:this.headers,jwt:(s=c==null?void 0:c.session)===null||s===void 0?void 0:s.access_token});return v?this._returnResult({data:null,error:v}):(e.factorType==="totp"&&m.type==="totp"&&(!((l=m==null?void 0:m.totp)===null||l===void 0)&&l.qr_code)&&(m.totp.qr_code=`data:image/svg+xml;utf-8,${m.totp.qr_code}`),this._returnResult({data:m,error:null}))})}catch(r){if(Qe(r))return this._returnResult({data:null,error:r});throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var s;const{data:l,error:c}=r;if(c)return this._returnResult({data:null,error:c});const u=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?uP(e.webauthn.credential_response):hP(e.webauthn.credential_response)})}:{code:e.code}),{data:p,error:m}=await ot(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:u,headers:this.headers,jwt:(s=l==null?void 0:l.session)===null||s===void 0?void 0:s.access_token});return m?this._returnResult({data:null,error:m}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+p.expires_in},p)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",p),this._returnResult({data:p,error:m}))})}catch(r){if(Qe(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var s;const{data:l,error:c}=r;if(c)return this._returnResult({data:null,error:c});const u=await ot(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(s=l==null?void 0:l.session)===null||s===void 0?void 0:s.access_token});if(u.error)return u;const{data:p}=u;if(p.type!=="webauthn")return{data:p,error:null};switch(p.webauthn.type){case"create":return{data:Object.assign(Object.assign({},p),{webauthn:Object.assign(Object.assign({},p.webauthn),{credential_options:Object.assign(Object.assign({},p.webauthn.credential_options),{publicKey:cP(p.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},p),{webauthn:Object.assign(Object.assign({},p.webauthn),{credential_options:Object.assign(Object.assign({},p.webauthn.credential_options),{publicKey:dP(p.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(Qe(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(e){const{data:r,error:s}=await this._challenge({factorId:e.factorId});return s?this._returnResult({data:null,error:s}):await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){var e;const{data:{user:r},error:s}=await this.getUser();if(s)return{data:null,error:s};const l={all:[],phone:[],totp:[],webauthn:[]};for(const c of(e=r==null?void 0:r.factors)!==null&&e!==void 0?e:[])l.all.push(c),c.status==="verified"&&l[c.factor_type].push(c);return{data:l,error:null}}async _getAuthenticatorAssuranceLevel(){var e,r;const{data:{session:s},error:l}=await this.getSession();if(l)return this._returnResult({data:null,error:l});if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:c}=Vp(s.access_token);let u=null;c.aal&&(u=c.aal);let p=u;((r=(e=s.user.factors)===null||e===void 0?void 0:e.filter(y=>y.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(p="aal2");const v=c.amr||[];return{data:{currentLevel:u,nextLevel:p,currentAuthenticationMethods:v},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async r=>{const{data:{session:s},error:l}=r;return l?this._returnResult({data:null,error:l}):s?await ot(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:s.access_token,xform:c=>({data:c,error:null})}):this._returnResult({data:null,error:new jn})})}catch(r){if(Qe(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(e,r){try{return await this._useSession(async s=>{const{data:{session:l},error:c}=s;if(c)return this._returnResult({data:null,error:c});if(!l)return this._returnResult({data:null,error:new jn});const u=await ot(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:l.access_token,body:{action:"approve"},xform:p=>({data:p,error:null})});return u.data&&u.data.redirect_url&&Wr()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(u.data.redirect_url),u})}catch(s){if(Qe(s))return this._returnResult({data:null,error:s});throw s}}async _denyAuthorization(e,r){try{return await this._useSession(async s=>{const{data:{session:l},error:c}=s;if(c)return this._returnResult({data:null,error:c});if(!l)return this._returnResult({data:null,error:new jn});const u=await ot(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:l.access_token,body:{action:"deny"},xform:p=>({data:p,error:null})});return u.data&&u.data.redirect_url&&Wr()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(u.data.redirect_url),u})}catch(s){if(Qe(s))return this._returnResult({data:null,error:s});throw s}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:r},error:s}=e;return s?this._returnResult({data:null,error:s}):r?await ot(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:l=>({data:l,error:null})}):this._returnResult({data:null,error:new jn})})}catch(e){if(Qe(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async r=>{const{data:{session:s},error:l}=r;return l?this._returnResult({data:null,error:l}):s?(await ot(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:s.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new jn})})}catch(r){if(Qe(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(e,r={keys:[]}){let s=r.keys.find(p=>p.kid===e);if(s)return s;const l=Date.now();if(s=this.jwks.keys.find(p=>p.kid===e),s&&this.jwks_cached_at+Sk>l)return s;const{data:c,error:u}=await ot(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(u)throw u;return!c.keys||c.keys.length===0||(this.jwks=c,this.jwks_cached_at=l,s=c.keys.find(p=>p.kid===e),!s)?null:s}async getClaims(e,r={}){try{let s=e;if(!s){const{data:E,error:k}=await this.getSession();if(k||!E.session)return this._returnResult({data:null,error:k});s=E.session.access_token}const{header:l,payload:c,signature:u,raw:{header:p,payload:m}}=Vp(s);r!=null&&r.allowExpired||qk(c.exp);const v=!l.alg||l.alg.startsWith("HS")||!l.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(l.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!v){const{error:E}=await this.getUser(s);if(E)throw E;return{data:{claims:c,header:l,signature:u},error:null}}const y=Wk(l.alg),x=await crypto.subtle.importKey("jwk",v,y,!0,["verify"]);if(!await crypto.subtle.verify(y,x,u,Tk(`${p}.${m}`)))throw new jf("Invalid JWT signature");return{data:{claims:c,header:l,signature:u},error:null}}catch(s){if(Qe(s))return this._returnResult({data:null,error:s});throw s}}};Pv.nextInstanceID={};const _P=Cv,wP=Pv,jP=Object.freeze(Object.defineProperty({__proto__:null,AuthAdminApi:_P,AuthApiError:kw,AuthClient:wP,AuthError:Nc,AuthImplicitGrantRedirectError:Gd,AuthInvalidCredentialsError:Vd,AuthInvalidJwtError:jf,AuthInvalidTokenResponseError:La,AuthPKCEGrantCodeExchangeError:Ug,AuthRetryableFetchError:wf,AuthSessionMissingError:jn,AuthUnknownError:Bi,AuthWeakPasswordError:qg,CustomAuthError:Xs,GoTrueAdminApi:Cv,GoTrueClient:Pv,NavigatorLockAcquireTimeoutError:Lw,SIGN_OUT_SCOPES:uf,isAuthApiError:Pw,isAuthError:Qe,isAuthImplicitGrantRedirectError:Rw,isAuthRetryableFetchError:df,isAuthSessionMissingError:Tw,isAuthWeakPasswordError:Ek,lockInternals:Da,navigatorLock:Iw,processLock:eP},Symbol.toStringTag,{value:"Module"})),zw=mu(jP);var Uy;function SP(){if(Uy)return zd;Uy=1,Object.defineProperty(zd,"__esModule",{value:!0}),zd.SupabaseAuthClient=void 0;const t=zw;let e=class extends t.AuthClient{constructor(s){super(s)}};return zd.SupabaseAuthClient=e,zd}var qy;function Wy(){if(qy)return zh;qy=1,Object.defineProperty(zh,"__esModule",{value:!0});const t=J_,e=ow(),r=hw,s=pk,l=vk(),c=xk(),u=yk(),p=SP();class m{constructor(y,x,S){var E,k,N;this.supabaseUrl=y,this.supabaseKey=x;const P=(0,u.validateSupabaseUrl)(y);if(!x)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",P),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",P),this.storageUrl=new URL("storage/v1",P),this.functionsUrl=new URL("functions/v1",P);const O=`sb-${P.hostname.split(".")[0]}-auth-token`,T={db:l.DEFAULT_DB_OPTIONS,realtime:l.DEFAULT_REALTIME_OPTIONS,auth:Object.assign(Object.assign({},l.DEFAULT_AUTH_OPTIONS),{storageKey:O}),global:l.DEFAULT_GLOBAL_OPTIONS},R=(0,u.applySettingDefaults)(S??{},T);this.storageKey=(E=R.auth.storageKey)!==null&&E!==void 0?E:"",this.headers=(k=R.global.headers)!==null&&k!==void 0?k:{},R.accessToken?(this.accessToken=R.accessToken,this.auth=new Proxy({},{get:(D,K)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(K)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((N=R.auth)!==null&&N!==void 0?N:{},this.headers,R.global.fetch),this.fetch=(0,c.fetchWithAuth)(x,this._getAccessToken.bind(this),R.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},R.realtime)),this.accessToken&&this.accessToken().then(D=>this.realtime.setAuth(D)).catch(D=>console.warn("Failed to set initial Realtime auth token:",D)),this.rest=new e.PostgrestClient(new URL("rest/v1",P).href,{headers:this.headers,schema:R.db.schema,fetch:this.fetch}),this.storage=new s.StorageClient(this.storageUrl.href,this.headers,this.fetch,S==null?void 0:S.storage),R.accessToken||this._listenForAuthEvents()}get functions(){return new t.FunctionsClient(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(y){return this.rest.from(y)}schema(y){return this.rest.schema(y)}rpc(y,x={},S={head:!1,get:!1,count:void 0}){return this.rest.rpc(y,x,S)}channel(y,x={config:{}}){return this.realtime.channel(y,x)}getChannels(){return this.realtime.getChannels()}removeChannel(y){return this.realtime.removeChannel(y)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var y,x;if(this.accessToken)return await this.accessToken();const{data:S}=await this.auth.getSession();return(x=(y=S.session)===null||y===void 0?void 0:y.access_token)!==null&&x!==void 0?x:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:y,persistSession:x,detectSessionInUrl:S,storage:E,userStorage:k,storageKey:N,flowType:P,lock:O,debug:T,throwOnError:R},D,K){const B={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new p.SupabaseAuthClient({url:this.authUrl.href,headers:Object.assign(Object.assign({},B),D),storageKey:N,autoRefreshToken:y,persistSession:x,detectSessionInUrl:S,storage:E,userStorage:k,flowType:P,lock:O,debug:T,throwOnError:R,fetch:K,hasCustomAuthorizationHeader:Object.keys(this.headers).some(Q=>Q.toLowerCase()==="authorization")})}_initRealtimeClient(y){return new r.RealtimeClient(this.realtimeUrl.href,Object.assign(Object.assign({},y),{params:Object.assign({apikey:this.supabaseKey},y==null?void 0:y.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((x,S)=>{this._handleTokenChanged(x,"CLIENT",S==null?void 0:S.access_token)})}_handleTokenChanged(y,x,S){(y==="TOKEN_REFRESHED"||y==="SIGNED_IN")&&this.changedAccessToken!==S?(this.changedAccessToken=S,this.realtime.setAuth(S)):y==="SIGNED_OUT"&&(this.realtime.setAuth(),x=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}return zh.default=m,zh}var Hy;function EP(){return Hy||(Hy=1,(function(t){var e=Is&&Is.__createBinding||(Object.create?(function(y,x,S,E){E===void 0&&(E=S);var k=Object.getOwnPropertyDescriptor(x,S);(!k||("get"in k?!x.__esModule:k.writable||k.configurable))&&(k={enumerable:!0,get:function(){return x[S]}}),Object.defineProperty(y,E,k)}):(function(y,x,S,E){E===void 0&&(E=S),y[E]=x[S]})),r=Is&&Is.__exportStar||function(y,x){for(var S in y)S!=="default"&&!Object.prototype.hasOwnProperty.call(x,S)&&e(x,y,S)},s=Is&&Is.__importDefault||function(y){return y&&y.__esModule?y:{default:y}};Object.defineProperty(t,"__esModule",{value:!0}),t.createClient=t.SupabaseClient=t.FunctionRegion=t.FunctionsError=t.FunctionsRelayError=t.FunctionsFetchError=t.FunctionsHttpError=t.PostgrestError=void 0;const l=s(Wy());r(zw,t);var c=ow();Object.defineProperty(t,"PostgrestError",{enumerable:!0,get:function(){return c.PostgrestError}});var u=J_;Object.defineProperty(t,"FunctionsHttpError",{enumerable:!0,get:function(){return u.FunctionsHttpError}}),Object.defineProperty(t,"FunctionsFetchError",{enumerable:!0,get:function(){return u.FunctionsFetchError}}),Object.defineProperty(t,"FunctionsRelayError",{enumerable:!0,get:function(){return u.FunctionsRelayError}}),Object.defineProperty(t,"FunctionsError",{enumerable:!0,get:function(){return u.FunctionsError}}),Object.defineProperty(t,"FunctionRegion",{enumerable:!0,get:function(){return u.FunctionRegion}}),r(hw,t);var p=Wy();Object.defineProperty(t,"SupabaseClient",{enumerable:!0,get:function(){return s(p).default}});const m=(y,x,S)=>new l.default(y,x,S);t.createClient=m;function v(){if(typeof window<"u"||typeof process>"u")return!1;const y=process.version;if(y==null)return!1;const x=y.match(/^v(\d+)\./);return x?parseInt(x[1],10)<=18:!1}v()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217")})(Is)),Is}var $w=EP();const Fw=fu($w),NP=Qb({__proto__:null,default:Fw},[$w]),{PostgrestError:a3,FunctionsHttpError:l3,FunctionsFetchError:c3,FunctionsRelayError:d3,FunctionsError:u3,FunctionRegion:h3,SupabaseClient:f3,createClient:CP,GoTrueAdminApi:m3,GoTrueClient:p3,AuthAdminApi:g3,AuthClient:v3,navigatorLock:x3,NavigatorLockAcquireTimeoutError:y3,lockInternals:b3,processLock:_3,SIGN_OUT_SCOPES:w3,AuthError:j3,AuthApiError:S3,AuthUnknownError:E3,CustomAuthError:N3,AuthSessionMissingError:C3,AuthInvalidTokenResponseError:k3,AuthInvalidCredentialsError:P3,AuthImplicitGrantRedirectError:T3,AuthPKCEGrantCodeExchangeError:R3,AuthRetryableFetchError:A3,AuthWeakPasswordError:O3,AuthInvalidJwtError:M3,isAuthError:L3,isAuthApiError:I3,isAuthSessionMissingError:D3,isAuthImplicitGrantRedirectError:B3,isAuthRetryableFetchError:z3,isAuthWeakPasswordError:$3,RealtimePresence:F3,RealtimeChannel:U3,RealtimeClient:q3,REALTIME_LISTEN_TYPES:W3,REALTIME_POSTGRES_CHANGES_LISTEN_EVENT:H3,REALTIME_PRESENCE_LISTEN_EVENTS:V3,REALTIME_SUBSCRIBE_STATES:G3,REALTIME_CHANNEL_STATES:K3}=Fw||NP,kP="https://ccnbkympqhtgfotrmguz.supabase.co",PP="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImNjbmJreW1wcWh0Z2ZvdHJtZ3V6Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjU1NzAxNzcsImV4cCI6MjA4MTE0NjE3N30.2uhxv75YfnO_eqsCR_-r2v78S-fe_sWAYp6vKOUrWm0",Le=CP(kP,PP),Uw=w.createContext(),TP=({children:t})=>{const[e,r]=w.useState(null),[s,l]=w.useState(!0),[c,u]=w.useState(null);w.useEffect(()=>{p()},[]);const p=async()=>{try{const y=localStorage.getItem("formedica_user"),x=localStorage.getItem("formedica_user_type");y&&(r(JSON.parse(y)),u(x))}catch(y){console.error("Erro ao verificar usurio:",y)}finally{l(!1)}},m=async(y,x)=>{try{const{data:S,error:E}=await Le.from("dispositivos").select("*").eq("usuario",y).eq("senha",x).limit(1);if(E)return console.error("Erro ao buscar usurio:",E),{success:!1,error:"Erro ao conectar"};if(!S||S.length===0)return{success:!1,error:"Usurio ou senha invlidos"};const k=S[0];if(k.status!=="Autorizado")return{success:!1,error:"Usurio aguardando autorizao. Entre em contato com o administrador."};const N={id:k.id,usuario:k.usuario,nome:k.nome,tipo_usuario:k.tipo_usuario,nome_motoboy:k.nome_motoboy,nome_atendente:k.nome_atendente};return r(N),localStorage.setItem("formedica_user",JSON.stringify(N)),u(k.tipo_usuario||"atendente"),localStorage.setItem("formedica_user_type",k.tipo_usuario||"atendente"),await Le.from("dispositivos").update({ultimo_acesso:new Date().toISOString()}).eq("id",k.id),{success:!0}}catch(S){return console.error("Erro no login:",S),{success:!1,error:S.message}}},v=()=>{r(null),u(null),localStorage.removeItem("formedica_user"),localStorage.removeItem("formedica_user_type")};return n.jsx(Uw.Provider,{value:{user:e,userType:c,loading:s,login:m,logout:v},children:t})},ll=()=>{const t=w.useContext(Uw);if(!t)throw new Error("useAuth deve ser usado dentro de AuthProvider");return t},he={colors:{primary:"#457bba",secondary:"#890d5d",danger:"#ef4444",background:"#f8fafc",text:"#1e293b",textLight:"#64748b",border:"#e2e8f0"}},RP={entregas:()=>n.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[n.jsx("path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"}),n.jsx("polyline",{points:"3.27 6.96 12 12.01 20.73 6.96"}),n.jsx("line",{x1:"12",y1:"22.08",x2:"12",y2:"12"})]}),aviao:()=>n.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:n.jsx("path",{d:"M21 16v-2l-8-5V3.5a1.5 1.5 0 0 0-3 0V9l-8 5v2l8-2.5V19l-2 1.5V22l3.5-1 3.5 1v-1.5L13 19v-5.5l8 2.5z"})}),adicionar:()=>n.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[n.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),n.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),usuarios:()=>n.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[n.jsx("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),n.jsx("circle",{cx:"9",cy:"7",r:"4"}),n.jsx("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),n.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]}),historico:()=>n.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[n.jsx("circle",{cx:"12",cy:"12",r:"10"}),n.jsx("polyline",{points:"12 6 12 12 16 14"})]}),grafico:()=>n.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[n.jsx("line",{x1:"18",y1:"20",x2:"18",y2:"10"}),n.jsx("line",{x1:"12",y1:"20",x2:"12",y2:"4"}),n.jsx("line",{x1:"6",y1:"20",x2:"6",y2:"14"})]}),documento:()=>n.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[n.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),n.jsx("polyline",{points:"14 2 14 8 20 8"}),n.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),n.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),n.jsx("polyline",{points:"10 9 9 9 8 9"})]}),dinheiro:()=>n.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[n.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),n.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),calendario:()=>n.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[n.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),n.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),n.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),n.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]}),moto:()=>n.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[n.jsx("circle",{cx:"5",cy:"18",r:"3"}),n.jsx("circle",{cx:"19",cy:"18",r:"3"}),n.jsx("path",{d:"M5.59 13.51l2.53-2.53L10 13v5l-.47-.53L7 15 5.59 13.51z"}),n.jsx("path",{d:"M12 13v5l2-2 2.5 2.5 1-1L15 15"}),n.jsx("path",{d:"M16 8h2l2 5"})]}),celular:()=>n.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[n.jsx("rect",{x:"5",y:"2",width:"14",height:"20",rx:"2",ry:"2"}),n.jsx("line",{x1:"12",y1:"18",x2:"12.01",y2:"18"})]})};function AP({children:t}){var y;const{user:e,userType:r,logout:s}=ll(),l=Er(),c=$o(),[u,p]=w.useState(!1),m={admin:[{icon:"entregas",label:"Entregas Moto",path:"/"},{icon:"aviao",label:"Sedex/Disktenha",path:"/sedex"},{icon:"adicionar",label:"Novo Romaneio",path:"/novo-romaneio"},{icon:"usuarios",label:"Clientes",path:"/clientes"},{icon:"grafico",label:"Relatrios",path:"/relatorios"},{icon:"documento",label:"Receitas",path:"/receitas"},{icon:"dinheiro",label:"Pagamentos",path:"/pagamentos"},{icon:"calendario",label:"Planilha Diria",path:"/planilha-diaria"},{icon:"moto",label:"Painel dos Motoboys",path:"/painel-motoboys"},{icon:"celular",label:"Dispositivos",path:"/dispositivos"}],atendente:[{icon:"entregas",label:"Entregas Moto",path:"/"},{icon:"aviao",label:"Sedex/Disktenha",path:"/sedex"},{icon:"adicionar",label:"Novo Romaneio",path:"/novo-romaneio"},{icon:"usuarios",label:"Clientes",path:"/clientes"},{icon:"grafico",label:"Relatrios",path:"/relatorios"},{icon:"dinheiro",label:"Pagamentos",path:"/pagamentos"}],motoboy:[{icon:"moto",label:"Minhas Entregas",path:"/painel-motoboys"}]},v=m[r]||m.admin;return n.jsxs("div",{style:{display:"flex",minHeight:"100vh",background:he.colors.background},children:[n.jsx("style",{children:`
        @media print {
          .no-print {
            display: none !important;
          }
        }
      `}),n.jsxs("div",{className:"no-print",style:{width:u?"200px":"64px",background:"white",borderRight:`1px solid ${he.colors.border}`,display:"flex",flexDirection:"column",transition:"width 0.3s ease",position:"sticky",top:0,height:"100vh",overflowY:"auto",flexShrink:0},children:[n.jsxs("div",{style:{padding:"2rem 1rem",borderBottom:`1px solid ${he.colors.border}`,display:"flex",alignItems:"center",justifyContent:u?"flex-start":"center",gap:"0.75rem",height:"132px",boxSizing:"border-box"},children:[n.jsx("div",{style:{width:"36px",height:"36px",background:he.colors.primary,borderRadius:"0.375rem",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontWeight:"bold",fontSize:"1.125rem",flexShrink:0},children:"F"}),u&&n.jsxs("div",{style:{overflow:"hidden",transition:"opacity 0.3s ease",flex:1},children:[n.jsx("h2",{style:{fontSize:"1rem",fontWeight:"600",color:he.colors.text,margin:0,lineHeight:1.2,whiteSpace:"nowrap"},children:"Formdica"}),n.jsx("p",{style:{fontSize:"0.75rem",color:he.colors.textLight,margin:0,lineHeight:1.2,whiteSpace:"nowrap"},children:"Entregas"})]})]}),n.jsx("div",{style:{padding:"0.75rem 1rem",borderBottom:`1px solid ${he.colors.border}`},children:n.jsx("button",{onClick:()=>p(!u),style:{padding:"0.5rem",background:"transparent",border:`1px solid ${he.colors.border}`,cursor:"pointer",color:he.colors.primary,display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"0.375rem",transition:"background 0.15s",width:"100%"},onMouseEnter:x=>x.currentTarget.style.background="#f0f0f0",onMouseLeave:x=>x.currentTarget.style.background="transparent",title:u?"Recolher menu":"Expandir menu",children:n.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:u?n.jsx("path",{d:"M11 19l-7-7 7-7m8 14l-7-7 7-7"}):n.jsx("path",{d:"M13 5l7 7-7 7M5 5l7 7-7 7"})})})}),n.jsxs("nav",{style:{flex:1,padding:"0.5rem 0",overflowY:"auto"},children:[u&&n.jsx("p",{style:{padding:"0.5rem 1rem",fontSize:"0.6875rem",fontWeight:"600",color:he.colors.textLight,textTransform:"uppercase",letterSpacing:"0.05em",marginBottom:"0.25rem"},children:"Menu Principal"}),v.map(x=>{const S=c.pathname===x.path,E=RP[x.icon];return n.jsxs("button",{onClick:()=>l(x.path),title:u?"":x.label,style:{width:"100%",padding:u?"0.625rem 1rem":"0.625rem 0",display:"flex",alignItems:"center",justifyContent:u?"flex-start":"center",gap:"0.75rem",border:"none",background:S?`${he.colors.primary}10`:"transparent",color:S?he.colors.primary:he.colors.text,cursor:"pointer",transition:"all 0.15s",fontSize:"0.875rem",fontWeight:S?"500":"400",borderLeft:S?`3px solid ${he.colors.primary}`:"3px solid transparent",textAlign:"left",position:"relative"},onMouseEnter:k=>{S||(k.currentTarget.style.background="#f8fafc")},onMouseLeave:k=>{S||(k.currentTarget.style.background="transparent")},children:[n.jsx("span",{style:{display:"flex",alignItems:"center",flexShrink:0},children:E&&n.jsx(E,{})}),u&&n.jsx("span",{style:{flex:1,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:x.label})]},x.path)})]}),n.jsxs("div",{style:{padding:"1rem",borderTop:`1px solid ${he.colors.border}`},children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:u?"flex-start":"center",gap:"0.75rem",marginBottom:"0.75rem"},children:[n.jsx("div",{style:{width:"36px",height:"36px",background:he.colors.secondary,borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontWeight:"600",fontSize:"0.875rem",flexShrink:0},title:u?"":(e==null?void 0:e.nome)||"Usurio",children:((y=e==null?void 0:e.nome)==null?void 0:y.charAt(0))||"U"}),u&&n.jsxs("div",{style:{flex:1,minWidth:0},children:[n.jsx("p",{style:{margin:0,fontSize:"0.8125rem",fontWeight:"500",color:he.colors.text,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:(e==null?void 0:e.nome)||"Usurio"}),n.jsx("p",{style:{margin:0,fontSize:"0.6875rem",color:he.colors.textLight,textTransform:"capitalize"},children:r})]})]}),n.jsxs("button",{onClick:s,title:u?"":"Sair",style:{width:"100%",padding:"0.5rem",background:"transparent",border:`1px solid ${he.colors.border}`,borderRadius:"0.375rem",color:he.colors.text,cursor:"pointer",fontSize:"0.8125rem",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",fontWeight:"500"},children:[n.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[n.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),n.jsx("polyline",{points:"16 17 21 12 16 7"}),n.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),u&&n.jsx("span",{children:"Sair"})]})]})]}),n.jsx("div",{style:{flex:1,overflowY:"auto"},children:t})]})}class OP extends Te.Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(e){var r,s;return(r=e==null?void 0:e.message)!=null&&r.includes("removeChild")||(s=e==null?void 0:e.message)!=null&&s.includes("The node to be removed is not a child")?(console.warn(" [ErrorBoundary] Erro de removeChild capturado e ignorado:",e.message),{hasError:!1}):(console.error(" [ErrorBoundary] Erro capturado:",e),{hasError:!1})}componentDidCatch(e,r){var s,l;!((s=e==null?void 0:e.message)!=null&&s.includes("removeChild"))&&!((l=e==null?void 0:e.message)!=null&&l.includes("The node to be removed is not a child"))&&console.error(" [ErrorBoundary] Detalhes:",e,r)}render(){return this.props.children}}function MP(){const[t,e]=w.useState(""),[r,s]=w.useState(""),[l,c]=w.useState(""),[u,p]=w.useState(!1),{login:m}=ll(),v=Er(),y=async x=>{x.preventDefault(),c(""),p(!0);const S=await m(t,r);S.success?v("/"):c(S.error||"Email ou senha invlidos"),p(!1)};return n.jsx("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:`linear-gradient(135deg, ${he.colors.primary} 0%, ${he.colors.secondary} 100%)`},children:n.jsxs("div",{style:{background:"white",padding:"2rem",borderRadius:"1rem",boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1)",width:"100%",maxWidth:"400px"},children:[n.jsxs("div",{style:{textAlign:"center",marginBottom:"2rem"},children:[n.jsx("h1",{style:{fontSize:"1.875rem",fontWeight:"bold",color:he.colors.primary,marginBottom:"0.5rem"},children:"Formdica Entregas"}),n.jsx("p",{style:{color:he.colors.textLight},children:"Entre com suas credenciais"})]}),n.jsxs("form",{onSubmit:y,children:[l&&n.jsx("div",{style:{background:"#fee2e2",color:"#991b1b",padding:"0.75rem",borderRadius:"0.5rem",marginBottom:"1rem",fontSize:"0.875rem"},children:l}),n.jsxs("div",{style:{marginBottom:"1rem"},children:[n.jsx("label",{style:{display:"block",marginBottom:"0.5rem",color:he.colors.text,fontWeight:"500"},children:"Usurio"}),n.jsx("input",{type:"text",value:t,onChange:x=>e(x.target.value),placeholder:"Digite seu usurio",required:!0,style:{width:"100%",padding:"0.75rem",border:`1px solid ${he.colors.border}`,borderRadius:"0.5rem",fontSize:"1rem"}})]}),n.jsxs("div",{style:{marginBottom:"1.5rem"},children:[n.jsx("label",{style:{display:"block",marginBottom:"0.5rem",color:he.colors.text,fontWeight:"500"},children:"Senha"}),n.jsx("input",{type:"password",value:r,onChange:x=>s(x.target.value),placeholder:"Digite sua senha",required:!0,style:{width:"100%",padding:"0.75rem",border:`1px solid ${he.colors.border}`,borderRadius:"0.5rem",fontSize:"1rem"}})]}),n.jsx("button",{type:"submit",disabled:u,style:{width:"100%",padding:"0.75rem",background:he.colors.primary,color:"white",border:"none",borderRadius:"0.5rem",fontSize:"1rem",fontWeight:"600",cursor:u?"not-allowed":"pointer",opacity:u?.7:1},children:u?"Entrando...":"Entrar"})]})]})})}function zt(t,e,{checkForDefaultPrevented:r=!0}={}){return function(l){if(t==null||t(l),r===!1||!l.defaultPrevented)return e==null?void 0:e(l)}}function Vy(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function qw(...t){return e=>{let r=!1;const s=t.map(l=>{const c=Vy(l,e);return!r&&typeof c=="function"&&(r=!0),c});if(r)return()=>{for(let l=0;l<s.length;l++){const c=s[l];typeof c=="function"?c():Vy(t[l],null)}}}}function Zt(...t){return w.useCallback(qw(...t),t)}function LP(t,e){const r=w.createContext(e),s=c=>{const{children:u,...p}=c,m=w.useMemo(()=>p,Object.values(p));return n.jsx(r.Provider,{value:m,children:u})};s.displayName=t+"Provider";function l(c){const u=w.useContext(r);if(u)return u;if(e!==void 0)return e;throw new Error(`\`${c}\` must be used within \`${t}\``)}return[s,l]}function Ic(t,e=[]){let r=[];function s(c,u){const p=w.createContext(u),m=r.length;r=[...r,u];const v=x=>{var O;const{scope:S,children:E,...k}=x,N=((O=S==null?void 0:S[t])==null?void 0:O[m])||p,P=w.useMemo(()=>k,Object.values(k));return n.jsx(N.Provider,{value:P,children:E})};v.displayName=c+"Provider";function y(x,S){var N;const E=((N=S==null?void 0:S[t])==null?void 0:N[m])||p,k=w.useContext(E);if(k)return k;if(u!==void 0)return u;throw new Error(`\`${x}\` must be used within \`${c}\``)}return[v,y]}const l=()=>{const c=r.map(u=>w.createContext(u));return function(p){const m=(p==null?void 0:p[t])||c;return w.useMemo(()=>({[`__scope${t}`]:{...p,[t]:m}}),[p,m])}};return l.scopeName=t,[s,IP(l,...e)]}function IP(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const s=t.map(l=>({useScope:l(),scopeName:l.scopeName}));return function(c){const u=s.reduce((p,{useScope:m,scopeName:v})=>{const x=m(c)[`__scope${v}`];return{...p,...x}},{});return w.useMemo(()=>({[`__scope${e.scopeName}`]:u}),[u])}};return r.scopeName=e.scopeName,r}var rn=globalThis!=null&&globalThis.document?w.useLayoutEffect:()=>{},DP=Yb[" useId ".trim().toString()]||(()=>{}),BP=0;function lc(t){const[e,r]=w.useState(DP());return rn(()=>{r(s=>s??String(BP++))},[t]),e?`radix-${e}`:""}var zP=Yb[" useInsertionEffect ".trim().toString()]||rn;function Cf({prop:t,defaultProp:e,onChange:r=()=>{},caller:s}){const[l,c,u]=$P({defaultProp:e,onChange:r}),p=t!==void 0,m=p?t:l;{const y=w.useRef(t!==void 0);w.useEffect(()=>{const x=y.current;x!==p&&console.warn(`${s} is changing from ${x?"controlled":"uncontrolled"} to ${p?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),y.current=p},[p,s])}const v=w.useCallback(y=>{var x;if(p){const S=FP(y)?y(t):y;S!==t&&((x=u.current)==null||x.call(u,S))}else c(y)},[p,t,c,u]);return[m,v]}function $P({defaultProp:t,onChange:e}){const[r,s]=w.useState(t),l=w.useRef(r),c=w.useRef(e);return zP(()=>{c.current=e},[e]),w.useEffect(()=>{var u;l.current!==r&&((u=c.current)==null||u.call(c,r),l.current=r)},[r,l]),[r,s,c]}function FP(t){return typeof t=="function"}function Cc(t){const e=qP(t),r=w.forwardRef((s,l)=>{const{children:c,...u}=s,p=w.Children.toArray(c),m=p.find(HP);if(m){const v=m.props.children,y=p.map(x=>x===m?w.Children.count(v)>1?w.Children.only(null):w.isValidElement(v)?v.props.children:null:x);return n.jsx(e,{...u,ref:l,children:w.isValidElement(v)?w.cloneElement(v,void 0,y):null})}return n.jsx(e,{...u,ref:l,children:c})});return r.displayName=`${t}.Slot`,r}var UP=Cc("Slot");function qP(t){const e=w.forwardRef((r,s)=>{const{children:l,...c}=r;if(w.isValidElement(l)){const u=GP(l),p=VP(c,l.props);return l.type!==w.Fragment&&(p.ref=s?qw(s,u):u),w.cloneElement(l,p)}return w.Children.count(l)>1?w.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var Ww=Symbol("radix.slottable");function WP(t){const e=({children:r})=>n.jsx(n.Fragment,{children:r});return e.displayName=`${t}.Slottable`,e.__radixId=Ww,e}function HP(t){return w.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Ww}function VP(t,e){const r={...e};for(const s in e){const l=t[s],c=e[s];/^on[A-Z]/.test(s)?l&&c?r[s]=(...p)=>{const m=c(...p);return l(...p),m}:l&&(r[s]=l):s==="style"?r[s]={...l,...c}:s==="className"&&(r[s]=[l,c].filter(Boolean).join(" "))}return{...t,...r}}function GP(t){var s,l;let e=(s=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:s.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(l=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:l.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var KP=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ot=KP.reduce((t,e)=>{const r=Cc(`Primitive.${e}`),s=w.forwardRef((l,c)=>{const{asChild:u,...p}=l,m=u?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),n.jsx(m,{...p,ref:c})});return s.displayName=`Primitive.${e}`,{...t,[e]:s}},{});function ZP(t,e){t&&Oc.flushSync(()=>t.dispatchEvent(e))}function nl(t){const e=w.useRef(t);return w.useEffect(()=>{e.current=t}),w.useMemo(()=>(...r)=>{var s;return(s=e.current)==null?void 0:s.call(e,...r)},[])}function QP(t,e=globalThis==null?void 0:globalThis.document){const r=nl(t);w.useEffect(()=>{const s=l=>{l.key==="Escape"&&r(l)};return e.addEventListener("keydown",s,{capture:!0}),()=>e.removeEventListener("keydown",s,{capture:!0})},[r,e])}var YP="DismissableLayer",Hg="dismissableLayer.update",JP="dismissableLayer.pointerDownOutside",XP="dismissableLayer.focusOutside",Gy,Hw=w.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Tv=w.forwardRef((t,e)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:s,onPointerDownOutside:l,onFocusOutside:c,onInteractOutside:u,onDismiss:p,...m}=t,v=w.useContext(Hw),[y,x]=w.useState(null),S=(y==null?void 0:y.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,E]=w.useState({}),k=Zt(e,Q=>x(Q)),N=Array.from(v.layers),[P]=[...v.layersWithOutsidePointerEventsDisabled].slice(-1),O=N.indexOf(P),T=y?N.indexOf(y):-1,R=v.layersWithOutsidePointerEventsDisabled.size>0,D=T>=O,K=rT(Q=>{const ne=Q.target,we=[...v.branches].some(ee=>ee.contains(ne));!D||we||(l==null||l(Q),u==null||u(Q),Q.defaultPrevented||p==null||p())},S),B=nT(Q=>{const ne=Q.target;[...v.branches].some(ee=>ee.contains(ne))||(c==null||c(Q),u==null||u(Q),Q.defaultPrevented||p==null||p())},S);return QP(Q=>{T===v.layers.size-1&&(s==null||s(Q),!Q.defaultPrevented&&p&&(Q.preventDefault(),p()))},S),w.useEffect(()=>{if(y)return r&&(v.layersWithOutsidePointerEventsDisabled.size===0&&(Gy=S.body.style.pointerEvents,S.body.style.pointerEvents="none"),v.layersWithOutsidePointerEventsDisabled.add(y)),v.layers.add(y),Ky(),()=>{r&&v.layersWithOutsidePointerEventsDisabled.size===1&&(S.body.style.pointerEvents=Gy)}},[y,S,r,v]),w.useEffect(()=>()=>{y&&(v.layers.delete(y),v.layersWithOutsidePointerEventsDisabled.delete(y),Ky())},[y,v]),w.useEffect(()=>{const Q=()=>E({});return document.addEventListener(Hg,Q),()=>document.removeEventListener(Hg,Q)},[]),n.jsx(Ot.div,{...m,ref:k,style:{pointerEvents:R?D?"auto":"none":void 0,...t.style},onFocusCapture:zt(t.onFocusCapture,B.onFocusCapture),onBlurCapture:zt(t.onBlurCapture,B.onBlurCapture),onPointerDownCapture:zt(t.onPointerDownCapture,K.onPointerDownCapture)})});Tv.displayName=YP;var eT="DismissableLayerBranch",tT=w.forwardRef((t,e)=>{const r=w.useContext(Hw),s=w.useRef(null),l=Zt(e,s);return w.useEffect(()=>{const c=s.current;if(c)return r.branches.add(c),()=>{r.branches.delete(c)}},[r.branches]),n.jsx(Ot.div,{...t,ref:l})});tT.displayName=eT;function rT(t,e=globalThis==null?void 0:globalThis.document){const r=nl(t),s=w.useRef(!1),l=w.useRef(()=>{});return w.useEffect(()=>{const c=p=>{if(p.target&&!s.current){let m=function(){Vw(JP,r,v,{discrete:!0})};const v={originalEvent:p};p.pointerType==="touch"?(e.removeEventListener("click",l.current),l.current=m,e.addEventListener("click",l.current,{once:!0})):m()}else e.removeEventListener("click",l.current);s.current=!1},u=window.setTimeout(()=>{e.addEventListener("pointerdown",c)},0);return()=>{window.clearTimeout(u),e.removeEventListener("pointerdown",c),e.removeEventListener("click",l.current)}},[e,r]),{onPointerDownCapture:()=>s.current=!0}}function nT(t,e=globalThis==null?void 0:globalThis.document){const r=nl(t),s=w.useRef(!1);return w.useEffect(()=>{const l=c=>{c.target&&!s.current&&Vw(XP,r,{originalEvent:c},{discrete:!1})};return e.addEventListener("focusin",l),()=>e.removeEventListener("focusin",l)},[e,r]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function Ky(){const t=new CustomEvent(Hg);document.dispatchEvent(t)}function Vw(t,e,r,{discrete:s}){const l=r.originalEvent.target,c=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});e&&l.addEventListener(t,e,{once:!0}),s?ZP(l,c):l.dispatchEvent(c)}var Kp="focusScope.autoFocusOnMount",Zp="focusScope.autoFocusOnUnmount",Zy={bubbles:!1,cancelable:!0},oT="FocusScope",Rv=w.forwardRef((t,e)=>{const{loop:r=!1,trapped:s=!1,onMountAutoFocus:l,onUnmountAutoFocus:c,...u}=t,[p,m]=w.useState(null),v=nl(l),y=nl(c),x=w.useRef(null),S=Zt(e,N=>m(N)),E=w.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;w.useEffect(()=>{if(s){let N=function(R){if(E.paused||!p)return;const D=R.target;p.contains(D)?x.current=D:Di(x.current,{select:!0})},P=function(R){if(E.paused||!p)return;const D=R.relatedTarget;D!==null&&(p.contains(D)||Di(x.current,{select:!0}))},O=function(R){if(document.activeElement===document.body)for(const K of R)K.removedNodes.length>0&&Di(p)};document.addEventListener("focusin",N),document.addEventListener("focusout",P);const T=new MutationObserver(O);return p&&T.observe(p,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",N),document.removeEventListener("focusout",P),T.disconnect()}}},[s,p,E.paused]),w.useEffect(()=>{if(p){Yy.add(E);const N=document.activeElement;if(!p.contains(N)){const O=new CustomEvent(Kp,Zy);p.addEventListener(Kp,v),p.dispatchEvent(O),O.defaultPrevented||(sT(dT(Gw(p)),{select:!0}),document.activeElement===N&&Di(p))}return()=>{p.removeEventListener(Kp,v),setTimeout(()=>{const O=new CustomEvent(Zp,Zy);p.addEventListener(Zp,y),p.dispatchEvent(O),O.defaultPrevented||Di(N??document.body,{select:!0}),p.removeEventListener(Zp,y),Yy.remove(E)},0)}}},[p,v,y,E]);const k=w.useCallback(N=>{if(!r&&!s||E.paused)return;const P=N.key==="Tab"&&!N.altKey&&!N.ctrlKey&&!N.metaKey,O=document.activeElement;if(P&&O){const T=N.currentTarget,[R,D]=iT(T);R&&D?!N.shiftKey&&O===D?(N.preventDefault(),r&&Di(R,{select:!0})):N.shiftKey&&O===R&&(N.preventDefault(),r&&Di(D,{select:!0})):O===T&&N.preventDefault()}},[r,s,E.paused]);return n.jsx(Ot.div,{tabIndex:-1,...u,ref:S,onKeyDown:k})});Rv.displayName=oT;function sT(t,{select:e=!1}={}){const r=document.activeElement;for(const s of t)if(Di(s,{select:e}),document.activeElement!==r)return}function iT(t){const e=Gw(t),r=Qy(e,t),s=Qy(e.reverse(),t);return[r,s]}function Gw(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const l=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||l?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function Qy(t,e){for(const r of t)if(!aT(r,{upTo:e}))return r}function aT(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function lT(t){return t instanceof HTMLInputElement&&"select"in t}function Di(t,{select:e=!1}={}){if(t&&t.focus){const r=document.activeElement;t.focus({preventScroll:!0}),t!==r&&lT(t)&&e&&t.select()}}var Yy=cT();function cT(){let t=[];return{add(e){const r=t[0];e!==r&&(r==null||r.pause()),t=Jy(t,e),t.unshift(e)},remove(e){var r;t=Jy(t,e),(r=t[0])==null||r.resume()}}}function Jy(t,e){const r=[...t],s=r.indexOf(e);return s!==-1&&r.splice(s,1),r}function dT(t){return t.filter(e=>e.tagName!=="A")}var uT="Portal",Av=w.forwardRef((t,e)=>{var p;const{container:r,...s}=t,[l,c]=w.useState(!1);rn(()=>c(!0),[]);const u=r||l&&((p=globalThis==null?void 0:globalThis.document)==null?void 0:p.body);return u?m_.createPortal(n.jsx(Ot.div,{...s,ref:e}),u):null});Av.displayName=uT;function hT(t,e){return w.useReducer((r,s)=>e[r][s]??r,t)}var yu=t=>{const{present:e,children:r}=t,s=fT(e),l=typeof r=="function"?r({present:s.isPresent}):w.Children.only(r),c=Zt(s.ref,mT(l));return typeof r=="function"||s.isPresent?w.cloneElement(l,{ref:c}):null};yu.displayName="Presence";function fT(t){const[e,r]=w.useState(),s=w.useRef(null),l=w.useRef(t),c=w.useRef("none"),u=t?"mounted":"unmounted",[p,m]=hT(u,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return w.useEffect(()=>{const v=Kh(s.current);c.current=p==="mounted"?v:"none"},[p]),rn(()=>{const v=s.current,y=l.current;if(y!==t){const S=c.current,E=Kh(v);t?m("MOUNT"):E==="none"||(v==null?void 0:v.display)==="none"?m("UNMOUNT"):m(y&&S!==E?"ANIMATION_OUT":"UNMOUNT"),l.current=t}},[t,m]),rn(()=>{if(e){let v;const y=e.ownerDocument.defaultView??window,x=E=>{const N=Kh(s.current).includes(CSS.escape(E.animationName));if(E.target===e&&N&&(m("ANIMATION_END"),!l.current)){const P=e.style.animationFillMode;e.style.animationFillMode="forwards",v=y.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=P)})}},S=E=>{E.target===e&&(c.current=Kh(s.current))};return e.addEventListener("animationstart",S),e.addEventListener("animationcancel",x),e.addEventListener("animationend",x),()=>{y.clearTimeout(v),e.removeEventListener("animationstart",S),e.removeEventListener("animationcancel",x),e.removeEventListener("animationend",x)}}else m("ANIMATION_END")},[e,m]),{isPresent:["mounted","unmountSuspended"].includes(p),ref:w.useCallback(v=>{s.current=v?getComputedStyle(v):null,r(v)},[])}}function Kh(t){return(t==null?void 0:t.animationName)||"none"}function mT(t){var s,l;let e=(s=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:s.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(l=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:l.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var Qp=0;function Kw(){w.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??Xy()),document.body.insertAdjacentElement("beforeend",t[1]??Xy()),Qp++,()=>{Qp===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Qp--}},[])}function Xy(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var hf="right-scroll-bar-position",ff="width-before-scroll-bar",pT="with-scroll-bars-hidden",gT="--removed-body-scroll-bar-size";function Yp(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function vT(t,e){var r=w.useState(function(){return{value:t,callback:e,facade:{get current(){return r.value},set current(s){var l=r.value;l!==s&&(r.value=s,r.callback(s,l))}}}})[0];return r.callback=e,r.facade}var xT=typeof window<"u"?w.useLayoutEffect:w.useEffect,eb=new WeakMap;function yT(t,e){var r=vT(null,function(s){return t.forEach(function(l){return Yp(l,s)})});return xT(function(){var s=eb.get(r);if(s){var l=new Set(s),c=new Set(t),u=r.current;l.forEach(function(p){c.has(p)||Yp(p,null)}),c.forEach(function(p){l.has(p)||Yp(p,u)})}eb.set(r,t)},[t]),r}function bT(t){return t}function _T(t,e){e===void 0&&(e=bT);var r=[],s=!1,l={read:function(){if(s)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:t},useMedium:function(c){var u=e(c,s);return r.push(u),function(){r=r.filter(function(p){return p!==u})}},assignSyncMedium:function(c){for(s=!0;r.length;){var u=r;r=[],u.forEach(c)}r={push:function(p){return c(p)},filter:function(){return r}}},assignMedium:function(c){s=!0;var u=[];if(r.length){var p=r;r=[],p.forEach(c),u=r}var m=function(){var y=u;u=[],y.forEach(c)},v=function(){return Promise.resolve().then(m)};v(),r={push:function(y){u.push(y),v()},filter:function(y){return u=u.filter(y),r}}}};return l}function wT(t){t===void 0&&(t={});var e=_T(null);return e.options=lo({async:!0,ssr:!1},t),e}var Zw=function(t){var e=t.sideCar,r=na(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var s=e.read();if(!s)throw new Error("Sidecar medium not found");return w.createElement(s,lo({},r))};Zw.isSideCarExport=!0;function jT(t,e){return t.useMedium(e),Zw}var Qw=wT(),Jp=function(){},qf=w.forwardRef(function(t,e){var r=w.useRef(null),s=w.useState({onScrollCapture:Jp,onWheelCapture:Jp,onTouchMoveCapture:Jp}),l=s[0],c=s[1],u=t.forwardProps,p=t.children,m=t.className,v=t.removeScrollBar,y=t.enabled,x=t.shards,S=t.sideCar,E=t.noRelative,k=t.noIsolation,N=t.inert,P=t.allowPinchZoom,O=t.as,T=O===void 0?"div":O,R=t.gapMode,D=na(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),K=S,B=yT([r,e]),Q=lo(lo({},D),l);return w.createElement(w.Fragment,null,y&&w.createElement(K,{sideCar:Qw,removeScrollBar:v,shards:x,noRelative:E,noIsolation:k,inert:N,setCallbacks:c,allowPinchZoom:!!P,lockRef:r,gapMode:R}),u?w.cloneElement(w.Children.only(p),lo(lo({},Q),{ref:B})):w.createElement(T,lo({},Q,{className:m,ref:B}),p))});qf.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};qf.classNames={fullWidth:ff,zeroRight:hf};var ST=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function ET(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=ST();return e&&t.setAttribute("nonce",e),t}function NT(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function CT(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var kT=function(){var t=0,e=null;return{add:function(r){t==0&&(e=ET())&&(NT(e,r),CT(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},PT=function(){var t=kT();return function(e,r){w.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&r])}},Yw=function(){var t=PT(),e=function(r){var s=r.styles,l=r.dynamic;return t(s,l),null};return e},TT={left:0,top:0,right:0,gap:0},Xp=function(t){return parseInt(t||"",10)||0},RT=function(t){var e=window.getComputedStyle(document.body),r=e[t==="padding"?"paddingLeft":"marginLeft"],s=e[t==="padding"?"paddingTop":"marginTop"],l=e[t==="padding"?"paddingRight":"marginRight"];return[Xp(r),Xp(s),Xp(l)]},AT=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return TT;var e=RT(t),r=document.documentElement.clientWidth,s=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,s-r+e[2]-e[0])}},OT=Yw(),cc="data-scroll-locked",MT=function(t,e,r,s){var l=t.left,c=t.top,u=t.right,p=t.gap;return r===void 0&&(r="margin"),`
  .`.concat(pT,` {
   overflow: hidden `).concat(s,`;
   padding-right: `).concat(p,"px ").concat(s,`;
  }
  body[`).concat(cc,`] {
    overflow: hidden `).concat(s,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(s,";"),r==="margin"&&`
    padding-left: `.concat(l,`px;
    padding-top: `).concat(c,`px;
    padding-right: `).concat(u,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(p,"px ").concat(s,`;
    `),r==="padding"&&"padding-right: ".concat(p,"px ").concat(s,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(hf,` {
    right: `).concat(p,"px ").concat(s,`;
  }
  
  .`).concat(ff,` {
    margin-right: `).concat(p,"px ").concat(s,`;
  }
  
  .`).concat(hf," .").concat(hf,` {
    right: 0 `).concat(s,`;
  }
  
  .`).concat(ff," .").concat(ff,` {
    margin-right: 0 `).concat(s,`;
  }
  
  body[`).concat(cc,`] {
    `).concat(gT,": ").concat(p,`px;
  }
`)},tb=function(){var t=parseInt(document.body.getAttribute(cc)||"0",10);return isFinite(t)?t:0},LT=function(){w.useEffect(function(){return document.body.setAttribute(cc,(tb()+1).toString()),function(){var t=tb()-1;t<=0?document.body.removeAttribute(cc):document.body.setAttribute(cc,t.toString())}},[])},IT=function(t){var e=t.noRelative,r=t.noImportant,s=t.gapMode,l=s===void 0?"margin":s;LT();var c=w.useMemo(function(){return AT(l)},[l]);return w.createElement(OT,{styles:MT(c,!e,l,r?"":"!important")})},Vg=!1;if(typeof window<"u")try{var Zh=Object.defineProperty({},"passive",{get:function(){return Vg=!0,!0}});window.addEventListener("test",Zh,Zh),window.removeEventListener("test",Zh,Zh)}catch{Vg=!1}var Xl=Vg?{passive:!1}:!1,DT=function(t){return t.tagName==="TEXTAREA"},Jw=function(t,e){if(!(t instanceof Element))return!1;var r=window.getComputedStyle(t);return r[e]!=="hidden"&&!(r.overflowY===r.overflowX&&!DT(t)&&r[e]==="visible")},BT=function(t){return Jw(t,"overflowY")},zT=function(t){return Jw(t,"overflowX")},rb=function(t,e){var r=e.ownerDocument,s=e;do{typeof ShadowRoot<"u"&&s instanceof ShadowRoot&&(s=s.host);var l=Xw(t,s);if(l){var c=e1(t,s),u=c[1],p=c[2];if(u>p)return!0}s=s.parentNode}while(s&&s!==r.body);return!1},$T=function(t){var e=t.scrollTop,r=t.scrollHeight,s=t.clientHeight;return[e,r,s]},FT=function(t){var e=t.scrollLeft,r=t.scrollWidth,s=t.clientWidth;return[e,r,s]},Xw=function(t,e){return t==="v"?BT(e):zT(e)},e1=function(t,e){return t==="v"?$T(e):FT(e)},UT=function(t,e){return t==="h"&&e==="rtl"?-1:1},qT=function(t,e,r,s,l){var c=UT(t,window.getComputedStyle(e).direction),u=c*s,p=r.target,m=e.contains(p),v=!1,y=u>0,x=0,S=0;do{if(!p)break;var E=e1(t,p),k=E[0],N=E[1],P=E[2],O=N-P-c*k;(k||O)&&Xw(t,p)&&(x+=O,S+=k);var T=p.parentNode;p=T&&T.nodeType===Node.DOCUMENT_FRAGMENT_NODE?T.host:T}while(!m&&p!==document.body||m&&(e.contains(p)||e===p));return(y&&Math.abs(x)<1||!y&&Math.abs(S)<1)&&(v=!0),v},Qh=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},nb=function(t){return[t.deltaX,t.deltaY]},ob=function(t){return t&&"current"in t?t.current:t},WT=function(t,e){return t[0]===e[0]&&t[1]===e[1]},HT=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},VT=0,ec=[];function GT(t){var e=w.useRef([]),r=w.useRef([0,0]),s=w.useRef(),l=w.useState(VT++)[0],c=w.useState(Yw)[0],u=w.useRef(t);w.useEffect(function(){u.current=t},[t]),w.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(l));var N=_v([t.lockRef.current],(t.shards||[]).map(ob),!0).filter(Boolean);return N.forEach(function(P){return P.classList.add("allow-interactivity-".concat(l))}),function(){document.body.classList.remove("block-interactivity-".concat(l)),N.forEach(function(P){return P.classList.remove("allow-interactivity-".concat(l))})}}},[t.inert,t.lockRef.current,t.shards]);var p=w.useCallback(function(N,P){if("touches"in N&&N.touches.length===2||N.type==="wheel"&&N.ctrlKey)return!u.current.allowPinchZoom;var O=Qh(N),T=r.current,R="deltaX"in N?N.deltaX:T[0]-O[0],D="deltaY"in N?N.deltaY:T[1]-O[1],K,B=N.target,Q=Math.abs(R)>Math.abs(D)?"h":"v";if("touches"in N&&Q==="h"&&B.type==="range")return!1;var ne=rb(Q,B);if(!ne)return!0;if(ne?K=Q:(K=Q==="v"?"h":"v",ne=rb(Q,B)),!ne)return!1;if(!s.current&&"changedTouches"in N&&(R||D)&&(s.current=K),!K)return!0;var we=s.current||K;return qT(we,P,N,we==="h"?R:D)},[]),m=w.useCallback(function(N){var P=N;if(!(!ec.length||ec[ec.length-1]!==c)){var O="deltaY"in P?nb(P):Qh(P),T=e.current.filter(function(K){return K.name===P.type&&(K.target===P.target||P.target===K.shadowParent)&&WT(K.delta,O)})[0];if(T&&T.should){P.cancelable&&P.preventDefault();return}if(!T){var R=(u.current.shards||[]).map(ob).filter(Boolean).filter(function(K){return K.contains(P.target)}),D=R.length>0?p(P,R[0]):!u.current.noIsolation;D&&P.cancelable&&P.preventDefault()}}},[]),v=w.useCallback(function(N,P,O,T){var R={name:N,delta:P,target:O,should:T,shadowParent:KT(O)};e.current.push(R),setTimeout(function(){e.current=e.current.filter(function(D){return D!==R})},1)},[]),y=w.useCallback(function(N){r.current=Qh(N),s.current=void 0},[]),x=w.useCallback(function(N){v(N.type,nb(N),N.target,p(N,t.lockRef.current))},[]),S=w.useCallback(function(N){v(N.type,Qh(N),N.target,p(N,t.lockRef.current))},[]);w.useEffect(function(){return ec.push(c),t.setCallbacks({onScrollCapture:x,onWheelCapture:x,onTouchMoveCapture:S}),document.addEventListener("wheel",m,Xl),document.addEventListener("touchmove",m,Xl),document.addEventListener("touchstart",y,Xl),function(){ec=ec.filter(function(N){return N!==c}),document.removeEventListener("wheel",m,Xl),document.removeEventListener("touchmove",m,Xl),document.removeEventListener("touchstart",y,Xl)}},[]);var E=t.removeScrollBar,k=t.inert;return w.createElement(w.Fragment,null,k?w.createElement(c,{styles:HT(l)}):null,E?w.createElement(IT,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function KT(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const ZT=jT(Qw,GT);var Ov=w.forwardRef(function(t,e){return w.createElement(qf,lo({},t,{ref:e,sideCar:ZT}))});Ov.classNames=qf.classNames;var QT=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},tc=new WeakMap,Yh=new WeakMap,Jh={},eg=0,t1=function(t){return t&&(t.host||t1(t.parentNode))},YT=function(t,e){return e.map(function(r){if(t.contains(r))return r;var s=t1(r);return s&&t.contains(s)?s:(console.error("aria-hidden",r,"in not contained inside",t,". Doing nothing"),null)}).filter(function(r){return!!r})},JT=function(t,e,r,s){var l=YT(e,Array.isArray(t)?t:[t]);Jh[r]||(Jh[r]=new WeakMap);var c=Jh[r],u=[],p=new Set,m=new Set(l),v=function(x){!x||p.has(x)||(p.add(x),v(x.parentNode))};l.forEach(v);var y=function(x){!x||m.has(x)||Array.prototype.forEach.call(x.children,function(S){if(p.has(S))y(S);else try{var E=S.getAttribute(s),k=E!==null&&E!=="false",N=(tc.get(S)||0)+1,P=(c.get(S)||0)+1;tc.set(S,N),c.set(S,P),u.push(S),N===1&&k&&Yh.set(S,!0),P===1&&S.setAttribute(r,"true"),k||S.setAttribute(s,"true")}catch(O){console.error("aria-hidden: cannot operate on ",S,O)}})};return y(e),p.clear(),eg++,function(){u.forEach(function(x){var S=tc.get(x)-1,E=c.get(x)-1;tc.set(x,S),c.set(x,E),S||(Yh.has(x)||x.removeAttribute(s),Yh.delete(x)),E||x.removeAttribute(r)}),eg--,eg||(tc=new WeakMap,tc=new WeakMap,Yh=new WeakMap,Jh={})}},r1=function(t,e,r){r===void 0&&(r="data-aria-hidden");var s=Array.from(Array.isArray(t)?t:[t]),l=QT(t);return l?(s.push.apply(s,Array.from(l.querySelectorAll("[aria-live], script"))),JT(s,l,r,"aria-hidden")):function(){return null}},Wf="Dialog",[n1,o1]=Ic(Wf),[XT,Fo]=n1(Wf),s1=t=>{const{__scopeDialog:e,children:r,open:s,defaultOpen:l,onOpenChange:c,modal:u=!0}=t,p=w.useRef(null),m=w.useRef(null),[v,y]=Cf({prop:s,defaultProp:l??!1,onChange:c,caller:Wf});return n.jsx(XT,{scope:e,triggerRef:p,contentRef:m,contentId:lc(),titleId:lc(),descriptionId:lc(),open:v,onOpenChange:y,onOpenToggle:w.useCallback(()=>y(x=>!x),[y]),modal:u,children:r})};s1.displayName=Wf;var i1="DialogTrigger",a1=w.forwardRef((t,e)=>{const{__scopeDialog:r,...s}=t,l=Fo(i1,r),c=Zt(e,l.triggerRef);return n.jsx(Ot.button,{type:"button","aria-haspopup":"dialog","aria-expanded":l.open,"aria-controls":l.contentId,"data-state":Iv(l.open),...s,ref:c,onClick:zt(t.onClick,l.onOpenToggle)})});a1.displayName=i1;var Mv="DialogPortal",[eR,l1]=n1(Mv,{forceMount:void 0}),c1=t=>{const{__scopeDialog:e,forceMount:r,children:s,container:l}=t,c=Fo(Mv,e);return n.jsx(eR,{scope:e,forceMount:r,children:w.Children.map(s,u=>n.jsx(yu,{present:r||c.open,children:n.jsx(Av,{asChild:!0,container:l,children:u})}))})};c1.displayName=Mv;var kf="DialogOverlay",d1=w.forwardRef((t,e)=>{const r=l1(kf,t.__scopeDialog),{forceMount:s=r.forceMount,...l}=t,c=Fo(kf,t.__scopeDialog);return c.modal?n.jsx(yu,{present:s||c.open,children:n.jsx(rR,{...l,ref:e})}):null});d1.displayName=kf;var tR=Cc("DialogOverlay.RemoveScroll"),rR=w.forwardRef((t,e)=>{const{__scopeDialog:r,...s}=t,l=Fo(kf,r);return n.jsx(Ov,{as:tR,allowPinchZoom:!0,shards:[l.contentRef],children:n.jsx(Ot.div,{"data-state":Iv(l.open),...s,ref:e,style:{pointerEvents:"auto",...s.style}})})}),ol="DialogContent",u1=w.forwardRef((t,e)=>{const r=l1(ol,t.__scopeDialog),{forceMount:s=r.forceMount,...l}=t,c=Fo(ol,t.__scopeDialog);return n.jsx(yu,{present:s||c.open,children:c.modal?n.jsx(nR,{...l,ref:e}):n.jsx(oR,{...l,ref:e})})});u1.displayName=ol;var nR=w.forwardRef((t,e)=>{const r=Fo(ol,t.__scopeDialog),s=w.useRef(null),l=Zt(e,r.contentRef,s);return w.useEffect(()=>{const c=s.current;if(c)return r1(c)},[]),n.jsx(h1,{...t,ref:l,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:zt(t.onCloseAutoFocus,c=>{var u;c.preventDefault(),(u=r.triggerRef.current)==null||u.focus()}),onPointerDownOutside:zt(t.onPointerDownOutside,c=>{const u=c.detail.originalEvent,p=u.button===0&&u.ctrlKey===!0;(u.button===2||p)&&c.preventDefault()}),onFocusOutside:zt(t.onFocusOutside,c=>c.preventDefault())})}),oR=w.forwardRef((t,e)=>{const r=Fo(ol,t.__scopeDialog),s=w.useRef(!1),l=w.useRef(!1);return n.jsx(h1,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:c=>{var u,p;(u=t.onCloseAutoFocus)==null||u.call(t,c),c.defaultPrevented||(s.current||(p=r.triggerRef.current)==null||p.focus(),c.preventDefault()),s.current=!1,l.current=!1},onInteractOutside:c=>{var m,v;(m=t.onInteractOutside)==null||m.call(t,c),c.defaultPrevented||(s.current=!0,c.detail.originalEvent.type==="pointerdown"&&(l.current=!0));const u=c.target;((v=r.triggerRef.current)==null?void 0:v.contains(u))&&c.preventDefault(),c.detail.originalEvent.type==="focusin"&&l.current&&c.preventDefault()}})}),h1=w.forwardRef((t,e)=>{const{__scopeDialog:r,trapFocus:s,onOpenAutoFocus:l,onCloseAutoFocus:c,...u}=t,p=Fo(ol,r),m=w.useRef(null),v=Zt(e,m);return Kw(),n.jsxs(n.Fragment,{children:[n.jsx(Rv,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:l,onUnmountAutoFocus:c,children:n.jsx(Tv,{role:"dialog",id:p.contentId,"aria-describedby":p.descriptionId,"aria-labelledby":p.titleId,"data-state":Iv(p.open),...u,ref:v,onDismiss:()=>p.onOpenChange(!1)})}),n.jsxs(n.Fragment,{children:[n.jsx(iR,{titleId:p.titleId}),n.jsx(lR,{contentRef:m,descriptionId:p.descriptionId})]})]})}),Lv="DialogTitle",f1=w.forwardRef((t,e)=>{const{__scopeDialog:r,...s}=t,l=Fo(Lv,r);return n.jsx(Ot.h2,{id:l.titleId,...s,ref:e})});f1.displayName=Lv;var m1="DialogDescription",p1=w.forwardRef((t,e)=>{const{__scopeDialog:r,...s}=t,l=Fo(m1,r);return n.jsx(Ot.p,{id:l.descriptionId,...s,ref:e})});p1.displayName=m1;var g1="DialogClose",v1=w.forwardRef((t,e)=>{const{__scopeDialog:r,...s}=t,l=Fo(g1,r);return n.jsx(Ot.button,{type:"button",...s,ref:e,onClick:zt(t.onClick,()=>l.onOpenChange(!1))})});v1.displayName=g1;function Iv(t){return t?"open":"closed"}var x1="DialogTitleWarning",[sR,y1]=LP(x1,{contentName:ol,titleName:Lv,docsSlug:"dialog"}),iR=({titleId:t})=>{const e=y1(x1),r=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return w.useEffect(()=>{t&&(document.getElementById(t)||console.error(r))},[r,t]),null},aR="DialogDescriptionWarning",lR=({contentRef:t,descriptionId:e})=>{const s=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${y1(aR).contentName}}.`;return w.useEffect(()=>{var c;const l=(c=t.current)==null?void 0:c.getAttribute("aria-describedby");e&&l&&(document.getElementById(e)||console.warn(s))},[s,t,e]),null},b1=s1,cR=a1,_1=c1,Dv=d1,Bv=u1,zv=f1,$v=p1,Fv=v1;/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dR=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),w1=(...t)=>t.filter((e,r,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===r).join(" ").trim();/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var uR={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hR=w.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:s,className:l="",children:c,iconNode:u,...p},m)=>w.createElement("svg",{ref:m,...uR,width:e,height:e,stroke:t,strokeWidth:s?Number(r)*24/Number(e):r,className:w1("lucide",l),...p},[...u.map(([v,y])=>w.createElement(v,y)),...Array.isArray(c)?c:[c]]));/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Je=(t,e)=>{const r=w.forwardRef(({className:s,...l},c)=>w.createElement(hR,{ref:c,iconNode:e,className:w1(`lucide-${dR(t)}`,s),...l}));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fR=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],mR=Je("ArrowLeft",fR);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pR=[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]],Pf=Je("Banknote",pR);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gR=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Dc=Je("Calendar",gR);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vR=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],ea=Je("Check",vR);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xR=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Hf=Je("ChevronDown",xR);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yR=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],vr=Je("ChevronLeft",yR);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bR=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Bc=Je("ChevronRight",bR);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _R=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],j1=Je("ChevronUp",_R);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wR=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],S1=Je("CircleAlert",wR);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jR=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],el=Je("CircleCheckBig",jR);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SR=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Qd=Je("CircleX",SR);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ER=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],Ji=Je("ClipboardList",ER);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NR=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],co=Je("Clock",NR);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CR=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],E1=Je("CreditCard",CR);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kR=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],zc=Je("DollarSign",kR);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PR=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],TR=Je("Download",PR);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RR=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],N1=Je("ExternalLink",RR);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AR=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],OR=Je("EyeOff",AR);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MR=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],C1=Je("Eye",MR);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LR=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],tn=Je("FileText",LR);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IR=[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]],DR=Je("Filter",IR);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BR=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],zR=Je("GripVertical",BR);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $R=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],sb=Je("Image",$R);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FR=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],UR=Je("Mail",FR);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qR=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],nu=Je("MapPin",qR);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WR=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],ib=Je("Map",WR);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HR=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],Yd=Je("Monitor",HR);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VR=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],GR=Je("Moon",VR);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KR=[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]],ZR=Je("Navigation",KR);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QR=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],uo=Je("Package",QR);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YR=[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]],k1=Je("Pause",YR);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JR=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],P1=Je("Pencil",JR);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XR=[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]],ou=Je("Phone",XR);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eA=[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]],T1=Je("Play",eA);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tA=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Vf=Je("Plus",tA);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rA=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],Gf=Je("Printer",rA);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nA=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],oA=Je("RefreshCw",nA);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sA=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],R1=Je("RotateCcw",sA);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iA=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],fo=Je("Search",iA);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aA=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],ab=Je("Send",aA);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lA=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],A1=Je("Smartphone",lA);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cA=[["path",{d:"m10 20-1.25-2.5L6 18",key:"18frcb"}],["path",{d:"M10 4 8.75 6.5 6 6",key:"7mghy3"}],["path",{d:"m14 20 1.25-2.5L18 18",key:"1chtki"}],["path",{d:"m14 4 1.25 2.5L18 6",key:"1b4wsy"}],["path",{d:"m17 21-3-6h-4",key:"15hhxa"}],["path",{d:"m17 3-3 6 1.5 3",key:"11697g"}],["path",{d:"M2 12h6.5L10 9",key:"kv9z4n"}],["path",{d:"m20 10-1.5 2 1.5 2",key:"1swlpi"}],["path",{d:"M22 12h-6.5L14 15",key:"1mxi28"}],["path",{d:"m4 10 1.5 2L4 14",key:"k9enpj"}],["path",{d:"m7 21 3-6-1.5-3",key:"j8hb9u"}],["path",{d:"m7 3 3 6h4",key:"1otusx"}]],Gg=Je("Snowflake",cA);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dA=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Kf=Je("SquarePen",dA);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uA=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],Uv=Je("Sun",uA);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hA=[["path",{d:"M12 2v8",key:"1q4o3n"}],["path",{d:"m4.93 10.93 1.41 1.41",key:"2a7f42"}],["path",{d:"M2 18h2",key:"j10viu"}],["path",{d:"M20 18h2",key:"wocana"}],["path",{d:"m19.07 10.93-1.41 1.41",key:"15zs5n"}],["path",{d:"M22 22H2",key:"19qnx5"}],["path",{d:"m8 6 4-4 4 4",key:"ybng9g"}],["path",{d:"M16 18a4 4 0 0 0-8 0",key:"1lzouq"}]],O1=Je("Sunrise",hA);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fA=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],$c=Je("Trash2",fA);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mA=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Kg=Je("TriangleAlert",mA);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pA=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],Ao=Je("Truck",pA);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gA=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],vA=Je("Upload",gA);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xA=[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]],yA=Je("UserCog",xA);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bA=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],lb=Je("UserPlus",bA);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _A=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Un=Je("User",_A);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wA=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],jA=Je("Users",wA);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SA=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],qv=Je("X",SA);function M1(t){var e,r,s="";if(typeof t=="string"||typeof t=="number")s+=t;else if(typeof t=="object")if(Array.isArray(t)){var l=t.length;for(e=0;e<l;e++)t[e]&&(r=M1(t[e]))&&(s&&(s+=" "),s+=r)}else for(r in t)t[r]&&(s&&(s+=" "),s+=r);return s}function L1(){for(var t,e,r=0,s="",l=arguments.length;r<l;r++)(t=arguments[r])&&(e=M1(t))&&(s&&(s+=" "),s+=e);return s}const Wv="-",EA=t=>{const e=CA(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:s}=t;return{getClassGroupId:u=>{const p=u.split(Wv);return p[0]===""&&p.length!==1&&p.shift(),I1(p,e)||NA(u)},getConflictingClassGroupIds:(u,p)=>{const m=r[u]||[];return p&&s[u]?[...m,...s[u]]:m}}},I1=(t,e)=>{var u;if(t.length===0)return e.classGroupId;const r=t[0],s=e.nextPart.get(r),l=s?I1(t.slice(1),s):void 0;if(l)return l;if(e.validators.length===0)return;const c=t.join(Wv);return(u=e.validators.find(({validator:p})=>p(c)))==null?void 0:u.classGroupId},cb=/^\[(.+)\]$/,NA=t=>{if(cb.test(t)){const e=cb.exec(t)[1],r=e==null?void 0:e.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}},CA=t=>{const{theme:e,classGroups:r}=t,s={nextPart:new Map,validators:[]};for(const l in r)Zg(r[l],s,l,e);return s},Zg=(t,e,r,s)=>{t.forEach(l=>{if(typeof l=="string"){const c=l===""?e:db(e,l);c.classGroupId=r;return}if(typeof l=="function"){if(kA(l)){Zg(l(s),e,r,s);return}e.validators.push({validator:l,classGroupId:r});return}Object.entries(l).forEach(([c,u])=>{Zg(u,db(e,c),r,s)})})},db=(t,e)=>{let r=t;return e.split(Wv).forEach(s=>{r.nextPart.has(s)||r.nextPart.set(s,{nextPart:new Map,validators:[]}),r=r.nextPart.get(s)}),r},kA=t=>t.isThemeGetter,PA=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=new Map,s=new Map;const l=(c,u)=>{r.set(c,u),e++,e>t&&(e=0,s=r,r=new Map)};return{get(c){let u=r.get(c);if(u!==void 0)return u;if((u=s.get(c))!==void 0)return l(c,u),u},set(c,u){r.has(c)?r.set(c,u):l(c,u)}}},Qg="!",Yg=":",TA=Yg.length,RA=t=>{const{prefix:e,experimentalParseClassName:r}=t;let s=l=>{const c=[];let u=0,p=0,m=0,v;for(let k=0;k<l.length;k++){let N=l[k];if(u===0&&p===0){if(N===Yg){c.push(l.slice(m,k)),m=k+TA;continue}if(N==="/"){v=k;continue}}N==="["?u++:N==="]"?u--:N==="("?p++:N===")"&&p--}const y=c.length===0?l:l.substring(m),x=AA(y),S=x!==y,E=v&&v>m?v-m:void 0;return{modifiers:c,hasImportantModifier:S,baseClassName:x,maybePostfixModifierPosition:E}};if(e){const l=e+Yg,c=s;s=u=>u.startsWith(l)?c(u.substring(l.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:u,maybePostfixModifierPosition:void 0}}if(r){const l=s;s=c=>r({className:c,parseClassName:l})}return s},AA=t=>t.endsWith(Qg)?t.substring(0,t.length-1):t.startsWith(Qg)?t.substring(1):t,OA=t=>{const e=Object.fromEntries(t.orderSensitiveModifiers.map(s=>[s,!0]));return s=>{if(s.length<=1)return s;const l=[];let c=[];return s.forEach(u=>{u[0]==="["||e[u]?(l.push(...c.sort(),u),c=[]):c.push(u)}),l.push(...c.sort()),l}},MA=t=>({cache:PA(t.cacheSize),parseClassName:RA(t),sortModifiers:OA(t),...EA(t)}),LA=/\s+/,IA=(t,e)=>{const{parseClassName:r,getClassGroupId:s,getConflictingClassGroupIds:l,sortModifiers:c}=e,u=[],p=t.trim().split(LA);let m="";for(let v=p.length-1;v>=0;v-=1){const y=p[v],{isExternal:x,modifiers:S,hasImportantModifier:E,baseClassName:k,maybePostfixModifierPosition:N}=r(y);if(x){m=y+(m.length>0?" "+m:m);continue}let P=!!N,O=s(P?k.substring(0,N):k);if(!O){if(!P){m=y+(m.length>0?" "+m:m);continue}if(O=s(k),!O){m=y+(m.length>0?" "+m:m);continue}P=!1}const T=c(S).join(":"),R=E?T+Qg:T,D=R+O;if(u.includes(D))continue;u.push(D);const K=l(O,P);for(let B=0;B<K.length;++B){const Q=K[B];u.push(R+Q)}m=y+(m.length>0?" "+m:m)}return m};function DA(){let t=0,e,r,s="";for(;t<arguments.length;)(e=arguments[t++])&&(r=D1(e))&&(s&&(s+=" "),s+=r);return s}const D1=t=>{if(typeof t=="string")return t;let e,r="";for(let s=0;s<t.length;s++)t[s]&&(e=D1(t[s]))&&(r&&(r+=" "),r+=e);return r};function BA(t,...e){let r,s,l,c=u;function u(m){const v=e.reduce((y,x)=>x(y),t());return r=MA(v),s=r.cache.get,l=r.cache.set,c=p,p(m)}function p(m){const v=s(m);if(v)return v;const y=IA(m,r);return l(m,y),y}return function(){return c(DA.apply(null,arguments))}}const Tr=t=>{const e=r=>r[t]||[];return e.isThemeGetter=!0,e},B1=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,z1=/^\((?:(\w[\w-]*):)?(.+)\)$/i,zA=/^\d+\/\d+$/,$A=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,FA=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,UA=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,qA=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,WA=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,rc=t=>zA.test(t),pt=t=>!!t&&!Number.isNaN(Number(t)),Mi=t=>!!t&&Number.isInteger(Number(t)),tg=t=>t.endsWith("%")&&pt(t.slice(0,-1)),Bs=t=>$A.test(t),HA=()=>!0,VA=t=>FA.test(t)&&!UA.test(t),$1=()=>!1,GA=t=>qA.test(t),KA=t=>WA.test(t),ZA=t=>!He(t)&&!Ve(t),QA=t=>Fc(t,q1,$1),He=t=>B1.test(t),Ma=t=>Fc(t,W1,VA),rg=t=>Fc(t,tO,pt),ub=t=>Fc(t,F1,$1),YA=t=>Fc(t,U1,KA),Xh=t=>Fc(t,H1,GA),Ve=t=>z1.test(t),$d=t=>Uc(t,W1),JA=t=>Uc(t,rO),hb=t=>Uc(t,F1),XA=t=>Uc(t,q1),eO=t=>Uc(t,U1),ef=t=>Uc(t,H1,!0),Fc=(t,e,r)=>{const s=B1.exec(t);return s?s[1]?e(s[1]):r(s[2]):!1},Uc=(t,e,r=!1)=>{const s=z1.exec(t);return s?s[1]?e(s[1]):r:!1},F1=t=>t==="position"||t==="percentage",U1=t=>t==="image"||t==="url",q1=t=>t==="length"||t==="size"||t==="bg-size",W1=t=>t==="length",tO=t=>t==="number",rO=t=>t==="family-name",H1=t=>t==="shadow",nO=()=>{const t=Tr("color"),e=Tr("font"),r=Tr("text"),s=Tr("font-weight"),l=Tr("tracking"),c=Tr("leading"),u=Tr("breakpoint"),p=Tr("container"),m=Tr("spacing"),v=Tr("radius"),y=Tr("shadow"),x=Tr("inset-shadow"),S=Tr("text-shadow"),E=Tr("drop-shadow"),k=Tr("blur"),N=Tr("perspective"),P=Tr("aspect"),O=Tr("ease"),T=Tr("animate"),R=()=>["auto","avoid","all","avoid-page","page","left","right","column"],D=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],K=()=>[...D(),Ve,He],B=()=>["auto","hidden","clip","visible","scroll"],Q=()=>["auto","contain","none"],ne=()=>[Ve,He,m],we=()=>[rc,"full","auto",...ne()],ee=()=>[Mi,"none","subgrid",Ve,He],$=()=>["auto",{span:["full",Mi,Ve,He]},Mi,Ve,He],te=()=>[Mi,"auto",Ve,He],U=()=>["auto","min","max","fr",Ve,He],W=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],be=()=>["start","end","center","stretch","center-safe","end-safe"],me=()=>["auto",...ne()],_e=()=>[rc,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...ne()],q=()=>[t,Ve,He],je=()=>[...D(),hb,ub,{position:[Ve,He]}],ae=()=>["no-repeat",{repeat:["","x","y","space","round"]}],A=()=>["auto","cover","contain",XA,QA,{size:[Ve,He]}],H=()=>[tg,$d,Ma],V=()=>["","none","full",v,Ve,He],F=()=>["",pt,$d,Ma],le=()=>["solid","dashed","dotted","double"],xe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],pe=()=>[pt,tg,hb,ub],se=()=>["","none",k,Ve,He],Pe=()=>["none",pt,Ve,He],Me=()=>["none",pt,Ve,He],$e=()=>[pt,Ve,He],Ie=()=>[rc,"full",...ne()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Bs],breakpoint:[Bs],color:[HA],container:[Bs],"drop-shadow":[Bs],ease:["in","out","in-out"],font:[ZA],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Bs],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Bs],shadow:[Bs],spacing:["px",pt],text:[Bs],"text-shadow":[Bs],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",rc,He,Ve,P]}],container:["container"],columns:[{columns:[pt,He,Ve,p]}],"break-after":[{"break-after":R()}],"break-before":[{"break-before":R()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:K()}],overflow:[{overflow:B()}],"overflow-x":[{"overflow-x":B()}],"overflow-y":[{"overflow-y":B()}],overscroll:[{overscroll:Q()}],"overscroll-x":[{"overscroll-x":Q()}],"overscroll-y":[{"overscroll-y":Q()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:we()}],"inset-x":[{"inset-x":we()}],"inset-y":[{"inset-y":we()}],start:[{start:we()}],end:[{end:we()}],top:[{top:we()}],right:[{right:we()}],bottom:[{bottom:we()}],left:[{left:we()}],visibility:["visible","invisible","collapse"],z:[{z:[Mi,"auto",Ve,He]}],basis:[{basis:[rc,"full","auto",p,...ne()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[pt,rc,"auto","initial","none",He]}],grow:[{grow:["",pt,Ve,He]}],shrink:[{shrink:["",pt,Ve,He]}],order:[{order:[Mi,"first","last","none",Ve,He]}],"grid-cols":[{"grid-cols":ee()}],"col-start-end":[{col:$()}],"col-start":[{"col-start":te()}],"col-end":[{"col-end":te()}],"grid-rows":[{"grid-rows":ee()}],"row-start-end":[{row:$()}],"row-start":[{"row-start":te()}],"row-end":[{"row-end":te()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":U()}],"auto-rows":[{"auto-rows":U()}],gap:[{gap:ne()}],"gap-x":[{"gap-x":ne()}],"gap-y":[{"gap-y":ne()}],"justify-content":[{justify:[...W(),"normal"]}],"justify-items":[{"justify-items":[...be(),"normal"]}],"justify-self":[{"justify-self":["auto",...be()]}],"align-content":[{content:["normal",...W()]}],"align-items":[{items:[...be(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...be(),{baseline:["","last"]}]}],"place-content":[{"place-content":W()}],"place-items":[{"place-items":[...be(),"baseline"]}],"place-self":[{"place-self":["auto",...be()]}],p:[{p:ne()}],px:[{px:ne()}],py:[{py:ne()}],ps:[{ps:ne()}],pe:[{pe:ne()}],pt:[{pt:ne()}],pr:[{pr:ne()}],pb:[{pb:ne()}],pl:[{pl:ne()}],m:[{m:me()}],mx:[{mx:me()}],my:[{my:me()}],ms:[{ms:me()}],me:[{me:me()}],mt:[{mt:me()}],mr:[{mr:me()}],mb:[{mb:me()}],ml:[{ml:me()}],"space-x":[{"space-x":ne()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":ne()}],"space-y-reverse":["space-y-reverse"],size:[{size:_e()}],w:[{w:[p,"screen",..._e()]}],"min-w":[{"min-w":[p,"screen","none",..._e()]}],"max-w":[{"max-w":[p,"screen","none","prose",{screen:[u]},..._e()]}],h:[{h:["screen","lh",..._e()]}],"min-h":[{"min-h":["screen","lh","none",..._e()]}],"max-h":[{"max-h":["screen","lh",..._e()]}],"font-size":[{text:["base",r,$d,Ma]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[s,Ve,rg]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",tg,He]}],"font-family":[{font:[JA,He,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[l,Ve,He]}],"line-clamp":[{"line-clamp":[pt,"none",Ve,rg]}],leading:[{leading:[c,...ne()]}],"list-image":[{"list-image":["none",Ve,He]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Ve,He]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:q()}],"text-color":[{text:q()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...le(),"wavy"]}],"text-decoration-thickness":[{decoration:[pt,"from-font","auto",Ve,Ma]}],"text-decoration-color":[{decoration:q()}],"underline-offset":[{"underline-offset":[pt,"auto",Ve,He]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:ne()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ve,He]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ve,He]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:je()}],"bg-repeat":[{bg:ae()}],"bg-size":[{bg:A()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Mi,Ve,He],radial:["",Ve,He],conic:[Mi,Ve,He]},eO,YA]}],"bg-color":[{bg:q()}],"gradient-from-pos":[{from:H()}],"gradient-via-pos":[{via:H()}],"gradient-to-pos":[{to:H()}],"gradient-from":[{from:q()}],"gradient-via":[{via:q()}],"gradient-to":[{to:q()}],rounded:[{rounded:V()}],"rounded-s":[{"rounded-s":V()}],"rounded-e":[{"rounded-e":V()}],"rounded-t":[{"rounded-t":V()}],"rounded-r":[{"rounded-r":V()}],"rounded-b":[{"rounded-b":V()}],"rounded-l":[{"rounded-l":V()}],"rounded-ss":[{"rounded-ss":V()}],"rounded-se":[{"rounded-se":V()}],"rounded-ee":[{"rounded-ee":V()}],"rounded-es":[{"rounded-es":V()}],"rounded-tl":[{"rounded-tl":V()}],"rounded-tr":[{"rounded-tr":V()}],"rounded-br":[{"rounded-br":V()}],"rounded-bl":[{"rounded-bl":V()}],"border-w":[{border:F()}],"border-w-x":[{"border-x":F()}],"border-w-y":[{"border-y":F()}],"border-w-s":[{"border-s":F()}],"border-w-e":[{"border-e":F()}],"border-w-t":[{"border-t":F()}],"border-w-r":[{"border-r":F()}],"border-w-b":[{"border-b":F()}],"border-w-l":[{"border-l":F()}],"divide-x":[{"divide-x":F()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":F()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...le(),"hidden","none"]}],"divide-style":[{divide:[...le(),"hidden","none"]}],"border-color":[{border:q()}],"border-color-x":[{"border-x":q()}],"border-color-y":[{"border-y":q()}],"border-color-s":[{"border-s":q()}],"border-color-e":[{"border-e":q()}],"border-color-t":[{"border-t":q()}],"border-color-r":[{"border-r":q()}],"border-color-b":[{"border-b":q()}],"border-color-l":[{"border-l":q()}],"divide-color":[{divide:q()}],"outline-style":[{outline:[...le(),"none","hidden"]}],"outline-offset":[{"outline-offset":[pt,Ve,He]}],"outline-w":[{outline:["",pt,$d,Ma]}],"outline-color":[{outline:q()}],shadow:[{shadow:["","none",y,ef,Xh]}],"shadow-color":[{shadow:q()}],"inset-shadow":[{"inset-shadow":["none",x,ef,Xh]}],"inset-shadow-color":[{"inset-shadow":q()}],"ring-w":[{ring:F()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:q()}],"ring-offset-w":[{"ring-offset":[pt,Ma]}],"ring-offset-color":[{"ring-offset":q()}],"inset-ring-w":[{"inset-ring":F()}],"inset-ring-color":[{"inset-ring":q()}],"text-shadow":[{"text-shadow":["none",S,ef,Xh]}],"text-shadow-color":[{"text-shadow":q()}],opacity:[{opacity:[pt,Ve,He]}],"mix-blend":[{"mix-blend":[...xe(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":xe()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[pt]}],"mask-image-linear-from-pos":[{"mask-linear-from":pe()}],"mask-image-linear-to-pos":[{"mask-linear-to":pe()}],"mask-image-linear-from-color":[{"mask-linear-from":q()}],"mask-image-linear-to-color":[{"mask-linear-to":q()}],"mask-image-t-from-pos":[{"mask-t-from":pe()}],"mask-image-t-to-pos":[{"mask-t-to":pe()}],"mask-image-t-from-color":[{"mask-t-from":q()}],"mask-image-t-to-color":[{"mask-t-to":q()}],"mask-image-r-from-pos":[{"mask-r-from":pe()}],"mask-image-r-to-pos":[{"mask-r-to":pe()}],"mask-image-r-from-color":[{"mask-r-from":q()}],"mask-image-r-to-color":[{"mask-r-to":q()}],"mask-image-b-from-pos":[{"mask-b-from":pe()}],"mask-image-b-to-pos":[{"mask-b-to":pe()}],"mask-image-b-from-color":[{"mask-b-from":q()}],"mask-image-b-to-color":[{"mask-b-to":q()}],"mask-image-l-from-pos":[{"mask-l-from":pe()}],"mask-image-l-to-pos":[{"mask-l-to":pe()}],"mask-image-l-from-color":[{"mask-l-from":q()}],"mask-image-l-to-color":[{"mask-l-to":q()}],"mask-image-x-from-pos":[{"mask-x-from":pe()}],"mask-image-x-to-pos":[{"mask-x-to":pe()}],"mask-image-x-from-color":[{"mask-x-from":q()}],"mask-image-x-to-color":[{"mask-x-to":q()}],"mask-image-y-from-pos":[{"mask-y-from":pe()}],"mask-image-y-to-pos":[{"mask-y-to":pe()}],"mask-image-y-from-color":[{"mask-y-from":q()}],"mask-image-y-to-color":[{"mask-y-to":q()}],"mask-image-radial":[{"mask-radial":[Ve,He]}],"mask-image-radial-from-pos":[{"mask-radial-from":pe()}],"mask-image-radial-to-pos":[{"mask-radial-to":pe()}],"mask-image-radial-from-color":[{"mask-radial-from":q()}],"mask-image-radial-to-color":[{"mask-radial-to":q()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":D()}],"mask-image-conic-pos":[{"mask-conic":[pt]}],"mask-image-conic-from-pos":[{"mask-conic-from":pe()}],"mask-image-conic-to-pos":[{"mask-conic-to":pe()}],"mask-image-conic-from-color":[{"mask-conic-from":q()}],"mask-image-conic-to-color":[{"mask-conic-to":q()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:je()}],"mask-repeat":[{mask:ae()}],"mask-size":[{mask:A()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Ve,He]}],filter:[{filter:["","none",Ve,He]}],blur:[{blur:se()}],brightness:[{brightness:[pt,Ve,He]}],contrast:[{contrast:[pt,Ve,He]}],"drop-shadow":[{"drop-shadow":["","none",E,ef,Xh]}],"drop-shadow-color":[{"drop-shadow":q()}],grayscale:[{grayscale:["",pt,Ve,He]}],"hue-rotate":[{"hue-rotate":[pt,Ve,He]}],invert:[{invert:["",pt,Ve,He]}],saturate:[{saturate:[pt,Ve,He]}],sepia:[{sepia:["",pt,Ve,He]}],"backdrop-filter":[{"backdrop-filter":["","none",Ve,He]}],"backdrop-blur":[{"backdrop-blur":se()}],"backdrop-brightness":[{"backdrop-brightness":[pt,Ve,He]}],"backdrop-contrast":[{"backdrop-contrast":[pt,Ve,He]}],"backdrop-grayscale":[{"backdrop-grayscale":["",pt,Ve,He]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[pt,Ve,He]}],"backdrop-invert":[{"backdrop-invert":["",pt,Ve,He]}],"backdrop-opacity":[{"backdrop-opacity":[pt,Ve,He]}],"backdrop-saturate":[{"backdrop-saturate":[pt,Ve,He]}],"backdrop-sepia":[{"backdrop-sepia":["",pt,Ve,He]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":ne()}],"border-spacing-x":[{"border-spacing-x":ne()}],"border-spacing-y":[{"border-spacing-y":ne()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Ve,He]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[pt,"initial",Ve,He]}],ease:[{ease:["linear","initial",O,Ve,He]}],delay:[{delay:[pt,Ve,He]}],animate:[{animate:["none",T,Ve,He]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[N,Ve,He]}],"perspective-origin":[{"perspective-origin":K()}],rotate:[{rotate:Pe()}],"rotate-x":[{"rotate-x":Pe()}],"rotate-y":[{"rotate-y":Pe()}],"rotate-z":[{"rotate-z":Pe()}],scale:[{scale:Me()}],"scale-x":[{"scale-x":Me()}],"scale-y":[{"scale-y":Me()}],"scale-z":[{"scale-z":Me()}],"scale-3d":["scale-3d"],skew:[{skew:$e()}],"skew-x":[{"skew-x":$e()}],"skew-y":[{"skew-y":$e()}],transform:[{transform:[Ve,He,"","none","gpu","cpu"]}],"transform-origin":[{origin:K()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Ie()}],"translate-x":[{"translate-x":Ie()}],"translate-y":[{"translate-y":Ie()}],"translate-z":[{"translate-z":Ie()}],"translate-none":["translate-none"],accent:[{accent:q()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:q()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ve,He]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":ne()}],"scroll-mx":[{"scroll-mx":ne()}],"scroll-my":[{"scroll-my":ne()}],"scroll-ms":[{"scroll-ms":ne()}],"scroll-me":[{"scroll-me":ne()}],"scroll-mt":[{"scroll-mt":ne()}],"scroll-mr":[{"scroll-mr":ne()}],"scroll-mb":[{"scroll-mb":ne()}],"scroll-ml":[{"scroll-ml":ne()}],"scroll-p":[{"scroll-p":ne()}],"scroll-px":[{"scroll-px":ne()}],"scroll-py":[{"scroll-py":ne()}],"scroll-ps":[{"scroll-ps":ne()}],"scroll-pe":[{"scroll-pe":ne()}],"scroll-pt":[{"scroll-pt":ne()}],"scroll-pr":[{"scroll-pr":ne()}],"scroll-pb":[{"scroll-pb":ne()}],"scroll-pl":[{"scroll-pl":ne()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ve,He]}],fill:[{fill:["none",...q()]}],"stroke-w":[{stroke:[pt,$d,Ma,rg]}],stroke:[{stroke:["none",...q()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},oO=BA(nO);function xt(...t){return oO(L1(t))}const us=b1,sO=_1,V1=w.forwardRef(({className:t,...e},r)=>n.jsx(Dv,{ref:r,className:xt("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));V1.displayName=Dv.displayName;const Oo=w.forwardRef(({className:t,children:e,...r},s)=>n.jsxs(sO,{children:[n.jsx(V1,{}),n.jsxs(Bv,{ref:s,className:xt("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...r,children:[e,n.jsxs(Fv,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[n.jsx(qv,{className:"h-4 w-4"}),n.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Oo.displayName=Bv.displayName;const Mo=({className:t,...e})=>n.jsx("div",{className:xt("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});Mo.displayName="DialogHeader";const Hv=({className:t,...e})=>n.jsx("div",{className:xt("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});Hv.displayName="DialogFooter";const Lo=w.forwardRef(({className:t,...e},r)=>n.jsx(zv,{ref:r,className:xt("text-lg font-semibold leading-none tracking-tight",t),...e}));Lo.displayName=zv.displayName;const Zf=w.forwardRef(({className:t,...e},r)=>n.jsx($v,{ref:r,className:xt("text-sm text-muted-foreground",t),...e}));Zf.displayName=$v.displayName;const fb=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,mb=L1,Vv=(t,e)=>r=>{var s;if((e==null?void 0:e.variants)==null)return mb(t,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:l,defaultVariants:c}=e,u=Object.keys(l).map(v=>{const y=r==null?void 0:r[v],x=c==null?void 0:c[v];if(y===null)return null;const S=fb(y)||fb(x);return l[v][S]}),p=r&&Object.entries(r).reduce((v,y)=>{let[x,S]=y;return S===void 0||(v[x]=S),v},{}),m=e==null||(s=e.compoundVariants)===null||s===void 0?void 0:s.reduce((v,y)=>{let{class:x,className:S,...E}=y;return Object.entries(E).every(k=>{let[N,P]=k;return Array.isArray(P)?P.includes({...c,...p}[N]):{...c,...p}[N]===P})?[...v,x,S]:v},[]);return mb(t,u,m,r==null?void 0:r.class,r==null?void 0:r.className)},Gv=Vv("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),gr=w.forwardRef(({className:t,variant:e,size:r,asChild:s=!1,...l},c)=>{const u=s?UP:"button";return n.jsx(u,{className:xt(Gv({variant:e,size:r,className:t})),ref:c,...l})});gr.displayName="Button";function kt({options:t,value:e,onChange:r,placeholder:s="Selecione...",label:l,error:c,disabled:u=!1}){const[p,m]=w.useState(!1),v=w.useRef(null);w.useEffect(()=>{function S(E){v.current&&!v.current.contains(E.target)&&m(!1)}return document.addEventListener("mousedown",S),()=>document.removeEventListener("mousedown",S)},[]);const y=t.find(S=>S.value===e),x=y?y.label:s;return n.jsxs("div",{style:{position:"relative"},children:[l&&n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:"#334155",marginBottom:"0.5rem"},children:l}),n.jsxs("div",{ref:v,style:{position:"relative"},children:[n.jsxs("button",{type:"button",onClick:()=>!u&&m(!p),disabled:u,style:{width:"100%",padding:"0.75rem",border:c?"1px solid #ef4444":"1px solid #e2e8f0",borderRadius:"0.5rem",fontSize:"0.875rem",backgroundColor:u?"#f1f5f9":"white",cursor:u?"not-allowed":"pointer",display:"flex",alignItems:"center",justifyContent:"space-between",textAlign:"left",color:y?"#334155":"#94a3b8",opacity:u?.7:1},children:[n.jsx("span",{children:x}),n.jsx(Hf,{size:18,style:{color:"#64748b",transition:"transform 0.2s",transform:p?"rotate(180deg)":"rotate(0deg)",flexShrink:0,marginLeft:"0.5rem"}})]}),p&&!u&&n.jsx("div",{style:{position:"absolute",zIndex:50,width:"100%",marginTop:"0.25rem",backgroundColor:"white",boxShadow:"0 4px 6px rgba(0,0,0,0.1)",border:"1px solid #e2e8f0",borderRadius:"0.5rem",maxHeight:"200px",overflowY:"auto"},children:t.map((S,E)=>n.jsx("div",{onClick:()=>{r(S.value),m(!1)},style:{padding:"0.75rem",cursor:"pointer",fontSize:"0.875rem",color:"#334155",backgroundColor:e===S.value?"#e3f2fd":"white",fontWeight:e===S.value?"500":"normal",borderBottom:E<t.length-1?"1px solid #e2e8f0":"none",transition:"background-color 0.15s"},onMouseEnter:k=>{k.target.style.backgroundColor="#e3f2fd"},onMouseLeave:k=>{k.target.style.backgroundColor=e===S.value?"#e3f2fd":"white"},children:S.label},S.value))})]}),c&&n.jsx("p",{style:{color:"#ef4444",fontSize:"0.75rem",marginTop:"0.25rem"},children:c})]})}const iO=["Janeiro","Fevereiro","Maro","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],aO=["Dom","Seg","Ter","Qua","Qui","Sex","Sb"];function cl({value:t,onChange:e,label:r,error:s,disabled:l=!1,placeholder:c="Selecione a data"}){const[u,p]=w.useState(!1),[m,v]=w.useState(new Date),y=w.useRef(null),x=t?new Date(t+"T00:00:00"):null;w.useEffect(()=>{x&&v(new Date(x.getFullYear(),x.getMonth(),1))},[t]),w.useEffect(()=>{function D(K){y.current&&!y.current.contains(K.target)&&p(!1)}return document.addEventListener("mousedown",D),()=>document.removeEventListener("mousedown",D)},[]);const S=D=>D?new Date(D+"T00:00:00").toLocaleDateString("pt-BR"):"",E=D=>{const K=D.getFullYear(),B=D.getMonth(),Q=new Date(K,B,1),we=new Date(K,B+1,0).getDate(),ee=Q.getDay(),$=[];for(let te=0;te<ee;te++)$.push(null);for(let te=1;te<=we;te++)$.push(new Date(K,B,te));return $},k=()=>{v(new Date(m.getFullYear(),m.getMonth()-1,1))},N=()=>{v(new Date(m.getFullYear(),m.getMonth()+1,1))},P=D=>{if(D){const K=D.toISOString().split("T")[0];e(K),p(!1)}},O=D=>{if(!D)return!1;const K=new Date;return D.toDateString()===K.toDateString()},T=D=>!D||!x?!1:D.toDateString()===x.toDateString(),R=E(m);return n.jsxs("div",{style:{position:"relative"},children:[r&&n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:"#334155",marginBottom:"0.5rem"},children:r}),n.jsxs("div",{ref:y,style:{position:"relative"},children:[n.jsxs("button",{type:"button",onClick:()=>!l&&p(!u),disabled:l,style:{width:"100%",padding:"0.75rem",border:s?"1px solid #ef4444":"1px solid #e2e8f0",borderRadius:"0.5rem",fontSize:"0.875rem",backgroundColor:l?"#f1f5f9":"white",cursor:l?"not-allowed":"pointer",display:"flex",alignItems:"center",justifyContent:"space-between",textAlign:"left",color:t?"#334155":"#94a3b8",opacity:l?.7:1},children:[n.jsx("span",{children:t?S(t):c}),n.jsx(Dc,{size:18,style:{color:"#64748b",flexShrink:0,marginLeft:"0.5rem"}})]}),u&&!l&&n.jsxs("div",{style:{position:"absolute",zIndex:50,width:"280px",marginTop:"0.25rem",backgroundColor:"white",boxShadow:"0 4px 6px rgba(0,0,0,0.1)",border:"1px solid #e2e8f0",borderRadius:"0.5rem",padding:"1rem"},children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"1rem"},children:[n.jsx("button",{type:"button",onClick:k,style:{padding:"0.5rem",borderRadius:"0.375rem",border:"none",backgroundColor:"transparent",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},onMouseEnter:D=>D.target.style.backgroundColor="#f1f5f9",onMouseLeave:D=>D.target.style.backgroundColor="transparent",children:n.jsx(vr,{size:20,color:"#64748b"})}),n.jsxs("span",{style:{fontWeight:"600",color:"#334155",fontSize:"0.9rem"},children:[iO[m.getMonth()]," ",m.getFullYear()]}),n.jsx("button",{type:"button",onClick:N,style:{padding:"0.5rem",borderRadius:"0.375rem",border:"none",backgroundColor:"transparent",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},onMouseEnter:D=>D.target.style.backgroundColor="#f1f5f9",onMouseLeave:D=>D.target.style.backgroundColor="transparent",children:n.jsx(Bc,{size:20,color:"#64748b"})})]}),n.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(7, 1fr)",gap:"0.25rem",marginBottom:"0.5rem"},children:aO.map(D=>n.jsx("div",{style:{textAlign:"center",fontSize:"0.75rem",fontWeight:"600",color:"#64748b",padding:"0.25rem"},children:D},D))}),n.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(7, 1fr)",gap:"0.25rem"},children:R.map((D,K)=>n.jsx("button",{type:"button",onClick:()=>P(D),disabled:!D,style:{padding:"0.5rem",borderRadius:"0.375rem",border:"none",backgroundColor:T(D)?"#3b82f6":O(D)?"#dbeafe":"transparent",color:T(D)?"white":D?"#334155":"transparent",cursor:D?"pointer":"default",fontSize:"0.875rem",fontWeight:O(D)||T(D)?"600":"normal",transition:"all 0.15s"},onMouseEnter:B=>{D&&!T(D)&&(B.target.style.backgroundColor="#e3f2fd")},onMouseLeave:B=>{D&&!T(D)&&(B.target.style.backgroundColor=O(D)?"#dbeafe":"transparent")},children:D?D.getDate():""},K))}),n.jsx("button",{type:"button",onClick:()=>{P(new Date)},style:{width:"100%",marginTop:"0.75rem",padding:"0.5rem",borderRadius:"0.375rem",border:"1px solid #e2e8f0",backgroundColor:"white",color:"#3b82f6",fontSize:"0.875rem",fontWeight:"500",cursor:"pointer",transition:"all 0.15s"},onMouseEnter:D=>{D.target.style.backgroundColor="#e3f2fd"},onMouseLeave:D=>{D.target.style.backgroundColor="white"},children:"Hoje"})]})]}),s&&n.jsx("p",{style:{color:"#ef4444",fontSize:"0.75rem",marginTop:"0.25rem"},children:s})]})}function Fd({options:t,value:e,onChange:r,placeholder:s}){const[l,c]=w.useState(!1),u=Te.useRef(null);w.useEffect(()=>{function v(y){u.current&&!u.current.contains(y.target)&&c(!1)}return document.addEventListener("mousedown",v),()=>document.removeEventListener("mousedown",v)},[]);const p=t.find(v=>v.value===e),m=p?p.label:s;return n.jsxs("div",{ref:u,style:{position:"relative"},children:[n.jsxs("button",{onClick:()=>c(!l),className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-100 bg-white",style:{display:"flex",alignItems:"center",justifyContent:"space-between",textAlign:"left"},children:[n.jsx("span",{className:"text-sm text-slate-700",children:m}),n.jsx("svg",{className:`w-4 h-4 text-slate-500 transition-transform flex-shrink-0 ml-2 ${l?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),l&&n.jsx("div",{className:"absolute z-50 w-full mt-1 bg-white shadow-lg overflow-hidden",style:{border:"1px solid #e2e8f0",borderRadius:"0.5rem",maxHeight:"200px",overflowY:"auto"},children:t.map((v,y)=>n.jsx("div",{onClick:()=>{r(v.value),c(!1)},className:"px-3 py-3 cursor-pointer transition-colors text-sm text-slate-700",style:{backgroundColor:e===v.value?"#e3f2fd":"white",fontWeight:e===v.value?"500":"normal",borderBottom:y<t.length-1?"1px solid #e2e8f0":"none"},onMouseEnter:x=>x.target.style.backgroundColor="#e3f2fd",onMouseLeave:x=>x.target.style.backgroundColor=e===v.value?"#e3f2fd":"white",children:v.label},v.value))})]})}function lO(){var ae;const t=Er(),{user:e}=ll(),[r,s]=w.useState("day"),[l,c]=w.useState(new Date),[u,p]=w.useState(new Date),[m,v]=w.useState([]),[y,x]=w.useState(!0),[S,E]=w.useState(""),[k,N]=w.useState(""),[P,O]=w.useState("total"),[T,R]=w.useState({status:"",atendente:"",motoboy:"",regiao:"",periodo:""}),[D,K]=w.useState(!1),[B,Q]=w.useState(null),ne=A=>{const H=A.getFullYear(),V=A.getMonth(),F=new Date(H,V,1),xe=new Date(H,V+1,0).getDate(),pe=F.getDay(),se=[];for(let Pe=0;Pe<pe;Pe++)se.push({day:"",isCurrentMonth:!1});for(let Pe=1;Pe<=xe;Pe++){const Me=new Date(H,V,Pe);se.push({day:Pe,isCurrentMonth:!0,isSelected:Pe===l.getDate()&&V===l.getMonth()&&H===l.getFullYear(),date:Me})}return se},we=async()=>{x(!0);try{let A=Le.from("entregas").select(`
          *,
          cliente:clientes(id, nome, telefone),
          endereco:enderecos(id, logradouro, numero, bairro, cidade, complemento),
          motoboy:motoboys(id, nome)
        `).eq("tipo","moto").order("data_entrega",{ascending:!0});const{data:H,error:V}=await A;if(V)throw V;const le=await Promise.all((H||[]).map(async pe=>{let se=[];if(pe.clientes_adicionais&&pe.clientes_adicionais.length>0){const{data:Me}=await Le.from("clientes").select("id, nome, telefone").in("id",pe.clientes_adicionais);se=Me||[]}const Pe=pe.endereco_logradouro?{id:pe.endereco_id,logradouro:pe.endereco_logradouro,numero:pe.endereco_numero,complemento:pe.endereco_complemento,bairro:pe.endereco_bairro,cidade:pe.endereco_cidade,cep:pe.endereco_cep}:pe.endereco;return{...pe,endereco:Pe,clientes_adicionais_data:se}}))||[],xe=[{id:"exemplo-1",status:"A Caminho",requisicao:"12345",atendente:"Maria Isabel",data_entrega:l.toISOString(),regiao:"Centro",periodo:"Manh",valor:45.5,forma_pagamento:"Dinheiro",cliente:{nome:"Maria Silva Santos",telefone:"(11) 98765-4321"},endereco:{logradouro:"Rua das Flores",numero:"123",complemento:"Apto 45",bairro:"Jardim Paulista",cidade:"So Paulo"},motoboy:{nome:"Marcio"}},{id:"exemplo-2",status:"Produzindo no Laboratrio",requisicao:"12346",atendente:"Joo Silva",data_entrega:l.toISOString(),regiao:"Zona Sul",periodo:"Tarde",valor:32,forma_pagamento:"Carto",cliente:{nome:"Carlos Eduardo Oliveira",telefone:"(11) 97654-3210"},endereco:{logradouro:"Avenida Paulista",numero:"1578",complemento:"Sala 201",bairro:"Bela Vista",cidade:"So Paulo"},motoboy:{nome:"Bruno"}},{id:"exemplo-3",status:"Entregue",requisicao:"12347",atendente:"Ana Paula",data_entrega:l.toISOString(),regiao:"Zona Norte",periodo:"Manh",valor:28.75,forma_pagamento:"Pix",cliente:{nome:"Ana Paula Costa",telefone:"(11) 96543-2109"},endereco:{logradouro:"Rua Augusta",numero:"789",bairro:"Consolao",cidade:"So Paulo"},motoboy:{nome:"Marcio"}},{id:"exemplo-4",status:"A Caminho",requisicao:"REQ-001",atendente:"Carlos Santos",data_entrega:l.toISOString(),regiao:"ITAJA",periodo:"Tarde",valor:52,forma_pagamento:"Boleto",item_geladeira:!0,cliente:{nome:"Roberto Santos Silva",telefone:"(47) 99876-5432"},endereco:{logradouro:"Rua das Accias",numero:"456",complemento:"Casa",bairro:"Centro",cidade:"Itaja"},motoboy:{nome:"Marcio"}},{id:"exemplo-5",status:"Produzindo no Laboratrio",requisicao:"REQ-002",atendente:"Maria Isabel",data_entrega:l.toISOString(),regiao:"PRAIA BRAVA",periodo:"Manh",valor:65,forma_pagamento:"Pix - Aguardando",buscar_receita:!0,cliente:{nome:"Fernanda Lima Costa",telefone:"(47) 98888-7777"},endereco:{logradouro:"Avenida Atlntica",numero:"2000",complemento:"Apto 302",bairro:"Praia Brava",cidade:"Balnerio Cambori"},motoboy:{nome:"Bruno"}},{id:"exemplo-6",status:"A Caminho",requisicao:"REQ-003",atendente:"Joo Silva",data_entrega:l.toISOString(),regiao:"Centro",periodo:"Tarde",valor:38,forma_pagamento:"Carto",cliente:{nome:"Pedro Henrique Alves",telefone:"(11) 99123-4567"},endereco:{logradouro:"Rua Oscar Freire",numero:"500",bairro:"Jardins",cidade:"So Paulo"},motoboy:{nome:"Bruno"}},{id:"exemplo-7",status:"Entregue",requisicao:"REQ-004",atendente:"Ana Paula",data_entrega:l.toISOString(),regiao:"Zona Norte",periodo:"Manh",valor:42.5,forma_pagamento:"Pix",item_geladeira:!0,cliente:{nome:"Juliana Martins",telefone:"(11) 98234-5678"},endereco:{logradouro:"Avenida Pacaembu",numero:"1200",complemento:"Bloco A",bairro:"Pacaembu",cidade:"So Paulo"},motoboy:{nome:"Marcio"}},{id:"exemplo-8",status:"Produzindo no Laboratrio",requisicao:"REQ-005",atendente:"Carlos Santos",data_entrega:l.toISOString(),regiao:"ITAJA",periodo:"Tarde",valor:55,forma_pagamento:"Dinheiro",buscar_receita:!0,cliente:{nome:"Ricardo Souza Lima",telefone:"(47) 99345-6789"},endereco:{logradouro:"Rua Alberto Werner",numero:"800",bairro:"So Joo",cidade:"Itaja"},motoboy:{nome:"Bruno"}},{id:"exemplo-9",status:"A Caminho",requisicao:"REQ-006",atendente:"Maria Isabel",data_entrega:l.toISOString(),regiao:"PRAIA BRAVA",periodo:"Manh",valor:72,forma_pagamento:"Pix",item_geladeira:!0,buscar_receita:!0,cliente:{nome:"Beatriz Oliveira Santos",telefone:"(47) 98456-7890"},endereco:{logradouro:"Avenida Central",numero:"3500",complemento:"Apto 1502",bairro:"Praia Brava",cidade:"Balnerio Cambori"},motoboy:{nome:"Marcio"}},{id:"exemplo-10",status:"Entregue",requisicao:"REQ-007",atendente:"Joo Silva",data_entrega:l.toISOString(),regiao:"Zona Sul",periodo:"Tarde",valor:31.5,forma_pagamento:"Boleto",cliente:{nome:"Gustavo Ferreira Costa",telefone:"(11) 97567-8901"},endereco:{logradouro:"Avenida Ibirapuera",numero:"2500",bairro:"Moema",cidade:"So Paulo"},motoboy:{nome:"Bruno"}}];v(le)}catch(A){console.error("Erro ao carregar entregas:",A),Se.error("Erro ao carregar entregas")}finally{x(!1)}};w.useEffect(()=>{we()},[]);const ee=A=>A.sort((H,V)=>{var $e,Ie,nt,it;const F=(($e=H.motoboy)==null?void 0:$e.nome)||"",le=((Ie=V.motoboy)==null?void 0:Ie.nome)||"";if(F!==le)return F.localeCompare(le);const xe={"Produzindo no Laboratrio":1,"A Caminho":2,Entregue:3},pe=xe[H.status]||999,se=xe[V.status]||999;if(pe!==se)return pe-se;const Pe=((nt=H.cliente)==null?void 0:nt.nome)||"",Me=((it=V.cliente)==null?void 0:it.nome)||"";return Pe.localeCompare(Me)}),$=A=>{var V;const H=[((V=A.cliente)==null?void 0:V.nome)||"Cliente no informado"];return A.clientes_adicionais_data&&A.clientes_adicionais_data.length>0&&A.clientes_adicionais_data.forEach(F=>{H.push(F.nome)}),H},te=A=>{const H=$(A);return H.length===1?H[0]:H.join(", ")},U=m.filter(A=>{var H,V,F,le;if(r==="day"){if(!A.data_entrega)return!1;const xe=A.data_entrega.split("T")[0],pe=l.toISOString().split("T")[0];if(xe!==pe)return!1}if(k){if(k==="A Caminho"){if(A.status!=="A Caminho"&&A.status!=="Em Rota")return!1}else if(A.status!==k)return!1}if(S){const xe=S.toLowerCase(),se=$(A).some($e=>$e.toLowerCase().includes(xe)),Pe=(H=A.requisicao)==null?void 0:H.toLowerCase().includes(xe),Me=(F=(V=A.cliente)==null?void 0:V.telefone)==null?void 0:F.includes(S);if(!se&&!Pe&&!Me)return!1}return!(T.atendente&&A.atendente!==T.atendente||T.motoboy&&((le=A.motoboy)==null?void 0:le.nome)!==T.motoboy||T.regiao&&A.regiao!==T.regiao||T.periodo&&A.periodo!==T.periodo)}),W=ee(U.filter(A=>A.periodo==="Manh")),be=ee(U.filter(A=>A.periodo==="Tarde")),me=m.filter(A=>{if(r==="day"){if(!A.data_entrega)return!1;const H=A.data_entrega.split("T")[0],V=l.toISOString().split("T")[0];if(H!==V)return!1}return!0}),_e={total:me.length,producao:me.filter(A=>A.status==="Produzindo no Laboratrio").length,caminho:me.filter(A=>A.status==="A Caminho"||A.status==="Em Rota").length,entregues:me.filter(A=>A.status==="Entregue").length,iniciar:me.filter(A=>A.status==="Iniciar").length,pendente:me.filter(A=>A.status==="Pendente").length,voltou:me.filter(A=>A.status==="Voltou p/ Farmcia").length},q=async(A,H)=>{const V=Se.loading("Alterando status...");try{const{error:F}=await Le.from("entregas").update({status:H}).eq("id",A.id);if(F)throw F;Se.success("Status alterado com sucesso!",{id:V}),we(),K(!1)}catch(F){console.error("Erro ao alterar status:",F),Se.error("Erro ao alterar status",{id:V})}},je=A=>{t(`/detalhes-romaneio?id=${A.id}`)};return n.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100",children:[n.jsx("div",{className:"py-8 shadow-sm",style:{background:"linear-gradient(135deg, #457bba 0%, #890d5d 100%)"},children:n.jsx("div",{className:"max-w-7xl mx-auto px-6",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("button",{onClick:()=>t(-1),className:"p-2 rounded-lg bg-white/20 hover:bg-white/30 transition-colors",children:n.jsx(vr,{className:"w-6 h-6 text-white"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-4xl font-bold text-white",children:"Entregas Moto"}),n.jsxs("p",{className:"text-base text-white opacity-90 mt-1",children:["Ol, ",(e==null?void 0:e.nome)||(e==null?void 0:e.usuario)||"Usurio"]})]})]})})}),n.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-6 flex flex-col lg:flex-row gap-6",children:[n.jsx("div",{className:"w-full lg:w-80 flex-shrink-0",children:n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6 sticky top-6",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[n.jsxs("button",{onClick:()=>s("day"),className:"flex-1 flex items-center justify-center gap-2 px-4 py-2 rounded-lg font-semibold text-sm transition-all",style:{backgroundColor:r==="day"?"#376295":"white",color:r==="day"?"white":"#64748b",border:r==="day"?"none":"1px solid #e2e8f0"},children:[n.jsx(Dc,{className:"w-4 h-4"}),"Por Dia"]}),n.jsxs("button",{onClick:()=>{s("all"),N("")},className:"flex-1 flex items-center justify-center gap-2 px-4 py-2 rounded-lg font-semibold text-sm transition-all",style:{backgroundColor:r==="all"?"#376295":"white",color:r==="all"?"white":"#64748b",border:r==="all"?"none":"1px solid #e2e8f0"},children:[n.jsx(Ji,{className:"w-4 h-4"}),"Todos"]})]}),n.jsxs("div",{className:"border rounded-xl p-3 mb-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsx("button",{onClick:()=>{const A=new Date(u);A.setMonth(A.getMonth()-1),p(A)},className:"p-2 hover:bg-slate-100 rounded-lg transition-colors",children:n.jsx(vr,{className:"w-5 h-5 text-slate-600"})}),n.jsx("span",{className:"text-sm font-semibold text-slate-700",children:u.toLocaleDateString("pt-BR",{month:"long",year:"numeric"}).replace(/^\w/,A=>A.toUpperCase())}),n.jsx("button",{onClick:()=>{const A=new Date(u);A.setMonth(A.getMonth()+1),p(A)},className:"p-2 hover:bg-slate-100 rounded-lg transition-colors",children:n.jsx(Bc,{className:"w-5 h-5 text-slate-600"})})]}),n.jsxs("div",{className:"grid grid-cols-7 gap-1",children:[["dom","seg","ter","qua","qui","sex","sb"].map(A=>n.jsx("div",{className:"text-center text-xs font-semibold text-slate-500 py-2",children:A},A)),ne(u).map((A,H)=>{var le;if(!A.isCurrentMonth)return n.jsx("div",{className:"aspect-square"},H);const V=A.isSelected,F=((le=A.date)==null?void 0:le.toDateString())===new Date().toDateString();return n.jsx("button",{onClick:()=>{c(A.date),s("day")},className:"aspect-square rounded-lg text-sm font-medium transition-all flex items-center justify-center hover:bg-blue-50",style:{backgroundColor:V?"#376295":"transparent",color:V?"white":F?"#376295":"#1e293b",fontWeight:F||V?"bold":"normal"},children:A.day},H)})]})]}),n.jsxs("div",{className:"text-center pt-4 border-t border-slate-200",children:[n.jsx("div",{className:"text-base font-semibold text-slate-700",children:l.toLocaleDateString("pt-BR",{day:"numeric",month:"long"})}),n.jsxs("div",{className:"text-sm text-slate-500",children:[_e.total," entregas"]})]}),n.jsxs("button",{onClick:()=>{const A=l.toISOString().split("T")[0];t(`/relatorios?data=${A}`)},className:"w-full mt-4 flex items-center justify-center gap-2 px-4 py-3 border border-slate-300 rounded-lg hover:bg-slate-50 transition-colors",children:[n.jsx(Ji,{className:"w-4 h-4 text-slate-600"}),n.jsx("span",{className:"text-sm font-medium text-slate-700",children:"Relatrio do Dia"})]}),n.jsxs("button",{onClick:()=>{const A=l.toISOString().split("T")[0];t(`/romaneios-do-dia?data=${A}`)},className:"w-full mt-2 flex items-center justify-center gap-2 px-4 py-3 border border-slate-300 rounded-lg hover:bg-slate-50 transition-colors",style:{borderColor:"#890d5d"},children:[n.jsx(tn,{className:"w-4 h-4",style:{color:"#890d5d"}}),n.jsx("span",{className:"text-sm font-medium",style:{color:"#890d5d"},children:"Romaneios do Dia"})]})]})}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"grid grid-cols-5 gap-4 mb-6",children:[n.jsxs("div",{className:"col-span-4 space-y-3",children:[n.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[n.jsxs("div",{onClick:()=>{N(""),O("total")},className:"bg-white rounded-xl shadow-sm p-5 cursor-pointer transition-all hover:shadow-md",style:{border:P==="total"?"2px solid #376295":"2px solid transparent"},children:[n.jsxs("div",{className:"flex items-center justify-center gap-2 mb-3",children:[n.jsx("div",{className:"p-2 rounded-lg",style:{backgroundColor:"#E8F0F8"},children:n.jsx(Ji,{className:"w-6 h-6",style:{color:"#376295"}})}),n.jsx("span",{className:"text-sm font-bold text-slate-700",children:"Total"})]}),n.jsx("div",{className:"text-4xl font-bold text-center",style:{color:"#376295"},children:_e.total})]}),n.jsxs("div",{onClick:()=>{N("Produzindo no Laboratrio"),O("producao")},className:"bg-white rounded-xl shadow-sm p-5 cursor-pointer transition-all hover:shadow-md",style:{border:P==="producao"?"2px solid #890d5d":"2px solid transparent"},children:[n.jsxs("div",{className:"flex items-center justify-center gap-2 mb-3",children:[n.jsx("div",{className:"p-2 rounded-lg",style:{backgroundColor:"#F5E8F5"},children:n.jsx(uo,{className:"w-6 h-6",style:{color:"#890d5d"}})}),n.jsx("span",{className:"text-sm font-bold text-slate-700",children:"Produo"})]}),n.jsx("div",{className:"text-4xl font-bold text-center",style:{color:"#890d5d"},children:_e.producao})]}),n.jsxs("div",{onClick:()=>{N("A Caminho"),O("caminho")},className:"bg-white rounded-xl shadow-sm p-5 cursor-pointer transition-all hover:shadow-md",style:{border:P==="caminho"?"2px solid #f97316":"2px solid transparent"},children:[n.jsxs("div",{className:"flex items-center justify-center gap-2 mb-3",children:[n.jsx("div",{className:"p-2 rounded-lg",style:{backgroundColor:"#FEF3E8"},children:n.jsx(Ao,{className:"w-6 h-6",style:{color:"#f97316"}})}),n.jsx("span",{className:"text-sm font-bold text-slate-700",children:"A Caminho"})]}),n.jsx("div",{className:"text-4xl font-bold text-center",style:{color:"#f97316"},children:_e.caminho})]}),n.jsxs("div",{onClick:()=>{N("Entregue"),O("entregues")},className:"bg-white rounded-xl shadow-sm p-5 cursor-pointer transition-all hover:shadow-md",style:{border:P==="entregues"?"2px solid #3dac38":"2px solid transparent"},children:[n.jsxs("div",{className:"flex items-center justify-center gap-2 mb-3",children:[n.jsx("div",{className:"p-2 rounded-lg",style:{backgroundColor:"#E8F5E8"},children:n.jsx(ea,{className:"w-6 h-6",style:{color:"#3dac38"}})}),n.jsx("span",{className:"text-sm font-bold text-slate-700",children:"Entregues"})]}),n.jsx("div",{className:"text-4xl font-bold text-center",style:{color:"#3dac38"},children:_e.entregues})]})]}),n.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[n.jsxs("div",{className:"bg-slate-100 rounded-lg shadow-sm px-4 py-3 flex items-center justify-center gap-2",children:[n.jsx(Ao,{className:"w-5 h-5 text-slate-500"}),n.jsx("span",{className:"text-sm font-semibold text-slate-600",children:"Filtros Motoboy"})]}),n.jsxs("div",{onClick:()=>{N("Iniciar"),O("iniciar")},className:"bg-white rounded-lg shadow-sm px-4 py-3 cursor-pointer transition-all hover:shadow-md flex items-center justify-center gap-2",style:{border:P==="iniciar"?"2px solid #ca8a04":"2px solid transparent"},children:[n.jsx(T1,{className:"w-5 h-5",style:{color:"#ca8a04"}}),n.jsx("span",{className:"text-sm font-semibold text-slate-700",children:"Iniciar"}),n.jsx("span",{className:"text-lg font-bold",style:{color:"#ca8a04"},children:_e.iniciar})]}),n.jsxs("div",{onClick:()=>{N("Pendente"),O("pendente")},className:"bg-white rounded-lg shadow-sm px-4 py-3 cursor-pointer transition-all hover:shadow-md flex items-center justify-center gap-2",style:{border:P==="pendente"?"2px solid #c2410c":"2px solid transparent"},children:[n.jsx(k1,{className:"w-5 h-5",style:{color:"#c2410c"}}),n.jsx("span",{className:"text-sm font-semibold text-slate-700",children:"Pendente"}),n.jsx("span",{className:"text-lg font-bold",style:{color:"#c2410c"},children:_e.pendente})]}),n.jsxs("div",{onClick:()=>{N("Voltou p/ Farmcia"),O("voltou")},className:"bg-white rounded-lg shadow-sm px-4 py-3 cursor-pointer transition-all hover:shadow-md flex items-center justify-center gap-2",style:{border:P==="voltou"?"2px solid #b91c1c":"2px solid transparent"},children:[n.jsx(R1,{className:"w-5 h-5",style:{color:"#b91c1c"}}),n.jsx("span",{className:"text-sm font-semibold text-slate-700",children:"Voltou"}),n.jsx("span",{className:"text-lg font-bold",style:{color:"#b91c1c"},children:_e.voltou})]})]})]}),n.jsxs("div",{onClick:()=>t("/novo-romaneio"),className:"bg-white rounded-xl shadow-sm cursor-pointer transition-all hover:shadow-md flex flex-col items-center justify-center text-center",style:{background:"linear-gradient(135deg, #890d5d 0%, #6E0A4A 100%)"},children:[n.jsx("div",{className:"mb-1",children:n.jsx("span",{className:"text-sm font-bold text-white uppercase",children:"Novo Romaneio"})}),n.jsx("div",{className:"text-5xl font-bold text-white",children:"+"})]})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6 mb-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h2",{className:"text-lg font-bold text-slate-900",children:"Buscar e Filtrar"}),(S||k||T.motoboy||T.regiao||T.periodo||T.atendente)&&n.jsxs("button",{onClick:()=>{E(""),N(""),O("total"),R({status:"",atendente:"",motoboy:"",regiao:"",periodo:""})},className:"px-4 py-2 text-sm font-medium text-slate-700 bg-slate-100 hover:bg-slate-200 rounded-lg transition-colors flex items-center gap-2",children:[n.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),"Limpar Filtros"]})]}),(S||k||T.motoboy||T.regiao||T.periodo||T.atendente)&&n.jsxs("div",{className:"mb-4 flex flex-wrap items-center gap-2",children:[n.jsx("span",{className:"text-sm font-medium text-slate-600",children:"Filtros ativos:"}),S&&n.jsxs("span",{className:"inline-flex items-center gap-1.5 px-3 py-1.5 bg-blue-100 text-blue-700 rounded text-sm font-medium",children:[n.jsx(fo,{className:"w-3.5 h-3.5"}),'Busca: "',S,'"',n.jsx("button",{onClick:()=>E(""),className:"ml-1 hover:bg-blue-200 rounded p-0.5 transition-colors",children:n.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),k&&n.jsxs("span",{className:"inline-flex items-center gap-1.5 px-3 py-1.5 rounded text-sm font-medium",style:{backgroundColor:k==="Entregue"?"#E8F5E8":k==="A Caminho"?"#FEF3E8":"#F5E8F5",color:k==="Entregue"?"#3dac38":k==="A Caminho"?"#f97316":"#890d5d"},children:["Status: ",k==="Produzindo no Laboratrio"?"Produo":k,n.jsx("button",{onClick:()=>{N(""),O("total")},className:"ml-1 hover:opacity-70 rounded p-0.5 transition-opacity",children:n.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),T.motoboy&&n.jsxs("span",{className:"inline-flex items-center gap-1.5 px-3 py-1.5 bg-orange-100 text-orange-700 rounded text-sm font-medium",children:[n.jsx(Ao,{className:"w-3.5 h-3.5"}),"Motoboy: ",T.motoboy,n.jsx("button",{onClick:()=>R({...T,motoboy:""}),className:"ml-1 hover:bg-orange-200 rounded p-0.5 transition-colors",children:n.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),T.regiao&&n.jsxs("span",{className:"inline-flex items-center gap-1.5 px-3 py-1.5 rounded text-sm font-medium",style:{backgroundColor:"#F5E8F5",color:"#890d5d"},children:[n.jsx(nu,{className:"w-3.5 h-3.5"}),"Regio: ",T.regiao,n.jsx("button",{onClick:()=>R({...T,regiao:""}),className:"ml-1 hover:opacity-70 rounded p-0.5 transition-opacity",children:n.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),T.periodo&&n.jsxs("span",{className:"inline-flex items-center gap-1.5 px-3 py-1.5 bg-amber-100 text-amber-700 rounded text-sm font-medium",children:[n.jsx(co,{className:"w-3.5 h-3.5"}),"Perodo: ",T.periodo,n.jsx("button",{onClick:()=>R({...T,periodo:""}),className:"ml-1 hover:bg-amber-200 rounded p-0.5 transition-colors",children:n.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),T.atendente&&n.jsxs("span",{className:"inline-flex items-center gap-1.5 px-3 py-1.5 bg-green-100 text-green-700 rounded text-sm font-medium",children:[n.jsx(Un,{className:"w-3.5 h-3.5"}),"Atendente: ",T.atendente,n.jsx("button",{onClick:()=>R({...T,atendente:""}),className:"ml-1 hover:bg-green-200 rounded p-0.5 transition-colors",children:n.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"relative",children:[n.jsx(fo,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),n.jsx("input",{type:"text",value:S,onChange:A=>E(A.target.value),placeholder:"Buscar por cliente, requisio, atendente ou telefone...",className:"w-full pl-10 pr-4 py-3 border border-slate-300 rounded-lg focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-100 transition-all"})]}),n.jsxs("div",{className:"grid grid-cols-5 gap-4",children:[n.jsx(Fd,{options:[{value:"",label:"Status"},{value:"Produzindo no Laboratrio",label:"Produo"},{value:"A Caminho",label:"A Caminho"},{value:"Entregue",label:"Entregue"},{value:"Iniciar",label:"Iniciar"},{value:"Pendente",label:"Pendente"},{value:"Voltou p/ Farmcia",label:"Voltou"}],value:k,onChange:A=>{N(A),O("")},placeholder:"Status"}),n.jsx(Fd,{options:[{value:"",label:"Atendentes"},{value:"Maria Isabel",label:"Maria Isabel"},{value:"Joo Silva",label:"Joo Silva"},{value:"Ana Paula",label:"Ana Paula"},{value:"Carlos Santos",label:"Carlos Santos"}],value:T.atendente,onChange:A=>R({...T,atendente:A}),placeholder:"Atendentes"}),n.jsx(Fd,{options:[{value:"",label:"Motoboys"},...Array.from(new Set(m.map(A=>{var H;return(H=A.motoboy)==null?void 0:H.nome}).filter(Boolean))).map(A=>({value:A,label:A}))],value:T.motoboy,onChange:A=>R({...T,motoboy:A}),placeholder:"Motoboys"}),n.jsx(Fd,{options:[{value:"",label:"Regies"},...Array.from(new Set(m.map(A=>A.regiao).filter(Boolean))).map(A=>({value:A,label:A}))],value:T.regiao,onChange:A=>R({...T,regiao:A}),placeholder:"Regies"}),n.jsx(Fd,{options:[{value:"",label:"Perodos"},{value:"Manh",label:"Manh"},{value:"Tarde",label:"Tarde"}],value:T.periodo,onChange:A=>R({...T,periodo:A}),placeholder:"Perodos"})]})]})]}),n.jsx("div",{className:"space-y-6",children:y?n.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:n.jsxs("div",{className:"py-24 text-center",children:[n.jsx("div",{className:"inline-block w-8 h-8 border-4 border-slate-200 border-t-4 rounded-full animate-spin mb-4",style:{borderTopColor:"#376295"}}),n.jsx("p",{className:"text-slate-600",children:"Carregando entregas..."})]})}):U.length===0?n.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:n.jsxs("div",{className:"py-24 text-center",children:[n.jsx(uo,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:"Nenhuma entrega encontrada"}),n.jsx("p",{className:"text-sm text-slate-600",children:S||T.motoboy||T.regiao||T.periodo?"Tente ajustar os filtros de busca":r==="day"?"No h entregas para esta data":"No h entregas cadastradas"})]})}):n.jsxs(n.Fragment,{children:[W.length>0&&n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border-2 border-slate-300 p-6",children:[n.jsx("div",{className:"mb-6",children:n.jsxs("h2",{className:"text-2xl font-bold text-slate-900 flex items-center gap-2",children:[n.jsx(O1,{className:"w-7 h-7",style:{color:"#eab308"}}),"Entregas da Manh",n.jsx("span",{className:"text-lg font-semibold px-3 py-1 rounded-full bg-slate-100 text-slate-700",children:W.length})]})}),W.map(A=>{var H,V;return n.jsx("div",{onClick:()=>je(A),className:"p-5 mb-4 bg-white rounded-lg border border-slate-200 hover:border-slate-300 transition-all cursor-pointer hover:shadow-md last:mb-0",children:n.jsxs("div",{className:"flex items-center justify-between gap-6",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[n.jsxs("span",{className:"text-base font-semibold",style:{color:"#376295"},children:["#",A.requisicao]}),A.atendente&&n.jsxs(n.Fragment,{children:[n.jsx("span",{className:"text-slate-400",children:""}),n.jsxs("span",{className:"text-sm font-medium text-slate-600 flex items-center gap-1.5",children:[n.jsx(Un,{className:"w-3.5 h-3.5"}),A.atendente]})]}),n.jsx("span",{className:"px-3 py-1 rounded text-xs font-medium",style:{backgroundColor:A.status==="Entregue"?"#E8F5E8":A.status==="A Caminho"?"#FEF3E8":"#F5E8F5",color:A.status==="Entregue"?"#3dac38":A.status==="A Caminho"?"#f97316":"#890d5d"},children:A.status==="Produzindo no Laboratrio"?"Produo":A.status})]}),n.jsx("h3",{className:"text-lg font-bold text-slate-900 mb-2",children:te(A)}),n.jsx("div",{className:"mb-3 text-sm text-slate-600",children:n.jsx("span",{children:A.endereco?`${A.endereco.logradouro}, ${A.endereco.numero} - ${A.endereco.bairro} - ${A.endereco.cidade}`:A.endereco_destino||"Endereo no informado"})}),n.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-slate-900",children:[A.motoboy&&n.jsxs("div",{className:"flex items-center gap-1.5",children:[n.jsx(Ao,{className:"w-4 h-4",style:{color:"#1e293b"}}),n.jsx("span",{children:A.motoboy.nome})]}),A.periodo&&n.jsxs("div",{className:"flex items-center gap-1.5",children:[n.jsx(co,{className:"w-4 h-4",style:{color:"#1e293b"}}),n.jsx("span",{children:A.periodo})]}),A.forma_pagamento&&n.jsxs("div",{className:"flex items-center gap-1.5 flex-wrap",children:[n.jsx(Pf,{className:"w-4 h-4",style:{color:"#1e293b"}}),n.jsx("span",{children:A.forma_pagamento}),A.valor_venda>0&&["Receber Dinheiro","Receber Mquina","Pagar MP"].includes(A.forma_pagamento)&&n.jsxs("span",{style:{backgroundColor:"#e8f5e9",color:"#1b5e20",padding:"2px 8px",borderRadius:"4px",fontSize:"0.75rem",fontWeight:"bold",marginLeft:"4px",border:"1px solid #4caf50",display:"inline-flex",alignItems:"center",gap:"4px"},children:["COBRAR: R$ ",A.valor_venda.toFixed(2)]}),A.precisa_troco&&A.valor_troco>0&&n.jsxs("span",{style:{backgroundColor:"#fff3e0",color:"#e65100",padding:"2px 8px",borderRadius:"4px",fontSize:"0.75rem",fontWeight:"bold",marginLeft:"4px",border:"1px solid #ff9800",display:"inline-flex",alignItems:"center",gap:"4px"},children:[n.jsx(Kg,{className:"w-3 h-3"}),"TROCO: R$ ",A.valor_troco.toFixed(2)]})]}),((H=A.cliente)==null?void 0:H.telefone)&&n.jsxs("div",{className:"flex items-center gap-1.5",children:[n.jsx(ou,{className:"w-4 h-4",style:{color:"#1e293b"}}),n.jsx("span",{children:A.cliente.telefone})]})]}),A.observacoes&&n.jsxs("div",{className:"mt-2 text-sm text-slate-600 italic bg-slate-50 p-2 rounded",children:[n.jsx("span",{className:"font-medium",children:"Obs:"})," ",A.observacoes]})]}),n.jsxs("div",{className:"flex flex-col items-center gap-3",children:[(A.item_geladeira||A.buscar_receita)&&n.jsxs("div",{className:"flex items-center gap-2",children:[A.item_geladeira&&n.jsxs("span",{className:"px-4 py-2 rounded text-sm font-semibold flex items-center gap-2",style:{backgroundColor:"#cffafe",color:"#0c4a6e"},children:[n.jsx(Gg,{className:"w-5 h-5"}),"Geladeira"]}),A.buscar_receita&&n.jsxs("span",{className:"px-4 py-2 rounded text-sm font-semibold flex items-center gap-2",style:{backgroundColor:"#fef3c7",color:"#92400e"},children:[n.jsx(tn,{className:"w-5 h-5"}),"Reter Receita"]})]}),n.jsxs("div",{className:"text-right",children:[n.jsxs("div",{className:"text-2xl font-bold",style:{color:"#376295"},children:["R$ ",((V=A.valor)==null?void 0:V.toFixed(2))||"0.00"]}),n.jsx("div",{className:"text-sm font-medium",style:{color:"#376295"},children:A.regiao}),n.jsx("div",{className:"text-sm text-slate-500 mt-1",children:A.data_entrega?new Date(A.data_entrega+"T12:00:00").toLocaleDateString("pt-BR"):"-"})]})]})]})},A.id)})]}),be.length>0&&n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[n.jsx("div",{className:"mb-6",children:n.jsxs("h2",{className:"text-2xl font-bold text-slate-900 flex items-center gap-2",children:[n.jsx(Uv,{className:"w-7 h-7",style:{color:"#f97316"}}),"Entregas da Tarde",n.jsx("span",{className:"text-lg font-semibold px-3 py-1 rounded-full bg-slate-100 text-slate-700",children:be.length})]})}),be.map(A=>{var H,V;return n.jsx("div",{onClick:()=>je(A),className:"p-5 mb-4 bg-white rounded-lg border border-slate-200 hover:border-slate-300 transition-all cursor-pointer hover:shadow-md last:mb-0",children:n.jsxs("div",{className:"flex items-center justify-between gap-6",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[n.jsxs("span",{className:"text-base font-semibold",style:{color:"#376295"},children:["#",A.requisicao]}),A.atendente&&n.jsxs(n.Fragment,{children:[n.jsx("span",{className:"text-slate-400",children:""}),n.jsxs("span",{className:"text-sm font-medium text-slate-600 flex items-center gap-1.5",children:[n.jsx(Un,{className:"w-3.5 h-3.5"}),A.atendente]})]}),n.jsx("span",{className:"px-3 py-1 rounded text-xs font-medium",style:{backgroundColor:A.status==="Entregue"?"#E8F5E8":A.status==="A Caminho"?"#FEF3E8":"#F5E8F5",color:A.status==="Entregue"?"#3dac38":A.status==="A Caminho"?"#f97316":"#890d5d"},children:A.status==="Produzindo no Laboratrio"?"Produo":A.status})]}),n.jsx("h3",{className:"text-lg font-bold text-slate-900 mb-2",children:te(A)}),n.jsx("div",{className:"mb-3 text-sm text-slate-600",children:n.jsx("span",{children:A.endereco?`${A.endereco.logradouro}, ${A.endereco.numero} - ${A.endereco.bairro} - ${A.endereco.cidade}`:A.endereco_destino||"Endereo no informado"})}),n.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-slate-900",children:[A.motoboy&&n.jsxs("div",{className:"flex items-center gap-1.5",children:[n.jsx(Ao,{className:"w-4 h-4",style:{color:"#1e293b"}}),n.jsx("span",{children:A.motoboy.nome})]}),A.periodo&&n.jsxs("div",{className:"flex items-center gap-1.5",children:[n.jsx(co,{className:"w-4 h-4",style:{color:"#1e293b"}}),n.jsx("span",{children:A.periodo})]}),A.forma_pagamento&&n.jsxs("div",{className:"flex items-center gap-1.5 flex-wrap",children:[n.jsx(Pf,{className:"w-4 h-4",style:{color:"#1e293b"}}),n.jsx("span",{children:A.forma_pagamento}),A.valor_venda>0&&["Receber Dinheiro","Receber Mquina","Pagar MP"].includes(A.forma_pagamento)&&n.jsxs("span",{style:{backgroundColor:"#e8f5e9",color:"#1b5e20",padding:"2px 8px",borderRadius:"4px",fontSize:"0.75rem",fontWeight:"bold",marginLeft:"4px",border:"1px solid #4caf50",display:"inline-flex",alignItems:"center",gap:"4px"},children:["COBRAR: R$ ",A.valor_venda.toFixed(2)]}),A.precisa_troco&&A.valor_troco>0&&n.jsxs("span",{style:{backgroundColor:"#fff3e0",color:"#e65100",padding:"2px 8px",borderRadius:"4px",fontSize:"0.75rem",fontWeight:"bold",marginLeft:"4px",border:"1px solid #ff9800",display:"inline-flex",alignItems:"center",gap:"4px"},children:[n.jsx(Kg,{className:"w-3 h-3"}),"TROCO: R$ ",A.valor_troco.toFixed(2)]})]}),((H=A.cliente)==null?void 0:H.telefone)&&n.jsxs("div",{className:"flex items-center gap-1.5",children:[n.jsx(ou,{className:"w-4 h-4",style:{color:"#1e293b"}}),n.jsx("span",{children:A.cliente.telefone})]})]}),A.observacoes&&n.jsxs("div",{className:"mt-2 text-sm text-slate-600 italic bg-slate-50 p-2 rounded",children:[n.jsx("span",{className:"font-medium",children:"Obs:"})," ",A.observacoes]})]}),n.jsxs("div",{className:"flex flex-col items-center gap-3",children:[(A.item_geladeira||A.buscar_receita)&&n.jsxs("div",{className:"flex items-center gap-2",children:[A.item_geladeira&&n.jsxs("span",{className:"px-4 py-2 rounded text-sm font-semibold flex items-center gap-2",style:{backgroundColor:"#cffafe",color:"#0c4a6e"},children:[n.jsx(Gg,{className:"w-5 h-5"}),"Geladeira"]}),A.buscar_receita&&n.jsxs("span",{className:"px-4 py-2 rounded text-sm font-semibold flex items-center gap-2",style:{backgroundColor:"#fef3c7",color:"#92400e"},children:[n.jsx(tn,{className:"w-5 h-5"}),"Reter Receita"]})]}),n.jsxs("div",{className:"text-right",children:[n.jsxs("div",{className:"text-2xl font-bold",style:{color:"#376295"},children:["R$ ",((V=A.valor)==null?void 0:V.toFixed(2))||"0.00"]}),n.jsx("div",{className:"text-sm font-medium",style:{color:"#376295"},children:A.regiao}),n.jsx("div",{className:"text-sm text-slate-500 mt-1",children:A.data_entrega?new Date(A.data_entrega+"T12:00:00").toLocaleDateString("pt-BR"):"-"})]})]})]})},A.id)})]})]})})]})]}),n.jsx(us,{open:D,onOpenChange:K,children:n.jsxs(Oo,{className:"max-w-2xl",children:[n.jsx(Mo,{children:n.jsx(Lo,{style:{color:"#376295"},children:"Detalhes da Entrega"})}),B&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-slate-600 block mb-2",children:"Status Atual"}),n.jsx("span",{className:"inline-block px-4 py-2 rounded-lg text-sm font-semibold",style:{backgroundColor:B.status==="Entregue"?"#E8F5E8":B.status==="A Caminho"?"#F5E8F5":"#FEF9E8",color:B.status==="Entregue"?"#629537":B.status==="A Caminho"?"#6E0A4A":"#D8CA15"},children:B.status})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"text-sm font-medium text-slate-600 block mb-1",children:["Cliente",$(B).length>1?"s":""]}),n.jsx("div",{className:"text-slate-900",children:te(B)}),((ae=B.cliente)==null?void 0:ae.telefone)&&n.jsx("div",{className:"text-sm text-slate-600",children:B.cliente.telefone}),B.clientes_adicionais_data&&B.clientes_adicionais_data.length>0&&n.jsx("div",{className:"text-sm text-slate-600 mt-1",children:B.clientes_adicionais_data.map((A,H)=>n.jsx("div",{children:A.telefone},H))})]}),B.endereco&&n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-slate-600 block mb-1",children:"Endereo"}),n.jsxs("div",{className:"text-slate-900",children:[B.endereco.logradouro,", ",B.endereco.numero,B.endereco.complemento&&` - ${B.endereco.complemento}`,n.jsx("br",{}),B.endereco.bairro," - ",B.endereco.cidade]})]}),n.jsxs("div",{className:"flex gap-2 pt-4 border-t border-slate-200",children:[B.status!=="Entregue"&&n.jsxs(gr,{onClick:()=>q(B,"Entregue"),style:{backgroundColor:"#629537"},className:"text-white hover:opacity-90",children:[n.jsx(ea,{className:"w-4 h-4 mr-2"}),"Marcar como Entregue"]}),B.status!=="A Caminho"&&n.jsxs(gr,{onClick:()=>q(B,"A Caminho"),style:{backgroundColor:"#6E0A4A"},className:"text-white hover:opacity-90",children:[n.jsx(Ao,{className:"w-4 h-4 mr-2"}),"Marcar como A Caminho"]})]})]})]})})]})}const cO={Marcio:{BC:9,"NOVA ESPERANA":11,CAMBORI:16,TABULEIRO:11,"MONTE ALEGRE":11,BARRA:11,ESTALEIRO:16,TAQUARAS:16,LARANJEIRAS:16,ITAJAI:19,ESPINHEIROS:23,"PRAIA DOS AMORES":13.5,"PRAIA BRAVA":13.5,ITAPEMA:27,NAVEGANTES:30,PENHA:52,"PORTO BELO":52,TIJUCAS:52,PIARRAS:52,BOMBINHAS:72,CLINICA:9},Bruno:{BC:7,"NOVA ESPERANA":9,CAMBORI:14,TABULEIRO:9,"MONTE ALEGRE":9,BARRA:9,ESTALEIRO:14,TAQUARAS:14,LARANJEIRAS:14,ITAJAI:17,ESPINHEIROS:21,"PRAIA DOS AMORES":11.5,"PRAIA BRAVA":11.5,ITAPEMA:25,NAVEGANTES:40,PENHA:50,"PORTO BELO":30,TIJUCAS:50,PIARRAS:50,BOMBINHAS:50,CLINICA:7}},dO={BC:12,"NOVA ESPERANA":15,CAMBORI:20,TABULEIRO:15,"MONTE ALEGRE":15,BARRA:15,ESTALEIRO:25,TAQUARAS:25,LARANJEIRAS:25,ITAJAI:25,ESPINHEIROS:35,"PRAIA DOS AMORES":15,"PRAIA BRAVA":15,ITAPEMA:35,NAVEGANTES:50,PENHA:75,"PORTO BELO":60,TIJUCAS:87,PIARRAS:80,BOMBINHAS:90,CLINICA:12},uO={BC:"Marcio","NOVA ESPERANA":"Marcio",CAMBORI:"Marcio",TABULEIRO:"Marcio","MONTE ALEGRE":"Marcio",BARRA:"Marcio",ESTALEIRO:"Marcio",CLINICA:"Marcio",TAQUARAS:"Bruno",LARANJEIRAS:"Bruno",ITAJAI:"Bruno",ESPINHEIROS:"Bruno","PRAIA DOS AMORES":"Bruno","PRAIA BRAVA":"Bruno",ITAPEMA:"Bruno",NAVEGANTES:"Bruno",PENHA:"Bruno","PORTO BELO":"Bruno",TIJUCAS:"Bruno",PIARRAS:"Bruno",BOMBINHAS:"Bruno"},hO=["BC","NOVA ESPERANA","CAMBORI","TABULEIRO","MONTE ALEGRE","BARRA","ESTALEIRO","TAQUARAS","LARANJEIRAS","ITAJAI","ESPINHEIROS","PRAIA DOS AMORES","PRAIA BRAVA","ITAPEMA","NAVEGANTES","PENHA","PORTO BELO","TIJUCAS","PIARRAS","BOMBINHAS","CLINICA","OUTRO"],ng=["Aguardando","Boleto","Link Aguardando","Pagar MP","Pago Dinheiro","Pago Link","Pago Mquina","Pago Pix","Pix Aguardando","Receber Dinheiro","Receber Mquina","S Entregar","Via na Pasta"],pb={"balnerio cambori":{centro:"BC",estados:"BC",pioneiros:"BC","nova esperana":"NOVA ESPERANA",naes:"BC",barra:"BARRA","barra sul":"BARRA",estaleiro:"ESTALEIRO",estaleirinho:"ESTALEIRO",taquaras:"TAQUARAS",laranjeiras:"LARANJEIRAS","praia dos amores":"PRAIA DOS AMORES","praia brava":"PRAIA BRAVA",tabuleiro:"TABULEIRO","monte alegre":"MONTE ALEGRE",default:"BC"},bc:{default:"BC"},"balneario camboriu":{centro:"BC",estados:"BC",pioneiros:"BC","nova esperana":"NOVA ESPERANA","nova esperanca":"NOVA ESPERANA",naes:"BC",nacoes:"BC",barra:"BARRA","barra sul":"BARRA",estaleiro:"ESTALEIRO",estaleirinho:"ESTALEIRO",taquaras:"TAQUARAS",laranjeiras:"LARANJEIRAS","praia dos amores":"PRAIA DOS AMORES","praia brava":"PRAIA BRAVA",tabuleiro:"TABULEIRO","monte alegre":"MONTE ALEGRE",default:"BC"},cambori:{default:"CAMBORI"},camboriu:{default:"CAMBORI"},itaja:{centro:"ITAJAI","vila real":"ITAJAI",espinheiros:"ESPINHEIROS",default:"ITAJAI"},itajai:{centro:"ITAJAI","vila real":"ITAJAI",espinheiros:"ESPINHEIROS",default:"ITAJAI"},itapema:{default:"ITAPEMA"},navegantes:{default:"NAVEGANTES"},penha:{default:"PENHA"},"porto belo":{default:"PORTO BELO"},tijucas:{default:"TIJUCAS"},piarras:{default:"PIARRAS"},picarras:{default:"PIARRAS"},bombinhas:{default:"BOMBINHAS"}},Ud=(t,e)=>{const r=(t==null?void 0:t.toLowerCase().trim())||"",s=(e==null?void 0:e.toLowerCase().trim())||"";if(console.log(" Detectando regio:",{cidade:r,bairro:s}),pb[r]){const l=pb[r];return s==="centro"?(console.log(" Bairro Centro - usando regio padro da cidade:",l.default),l.default):s&&l[s]&&l[s]!==l.default?(console.log(" Regio detectada por bairro cadastrado:",l[s]),l[s]):(console.log(" Regio detectada por cidade (default):",l.default),l.default)}return console.log(" Nenhuma regio detectada"),""};function fO(){const t=Er(),e=mo(),[r,s]=w.useState(!1),[l,c]=w.useState(""),[u,p]=w.useState([]),[m,v]=w.useState(!1),[y,x]=w.useState({nome:"",cpf:"",telefone:"",email:"",enderecos:[{logradouro:"",numero:"",complemento:"",bairro:"",cidade:"",cep:"",is_principal:!0}]}),[S,E]=w.useState([]),[k,N]=w.useState([]),[P,O]=w.useState(null),[T,R]=w.useState(-1),[D,K]=w.useState(""),[B,Q]=w.useState([]),[ne,we]=w.useState(-1),[ee,$]=w.useState(!1),[te,U]=w.useState(null),[W,be]=w.useState({logradouro:"",numero:"",complemento:"",bairro:"",cidade:"",cep:"",regiao:""}),[me,_e]=w.useState(null),[q,je]=w.useState({logradouro:"",numero:"",complemento:"",bairro:"",cidade:"",cep:"",regiao:""}),[ae,A]=w.useState(!1),[H,V]=w.useState(!1),[F,le]=w.useState({numero_requisicao:"",regiao:"",outra_cidade:"",data_entrega:new Date().toISOString().split("T")[0],periodo:"Tarde",forma_pagamento:"",motoboy:"",valor_entrega:0,item_geladeira:!1,buscar_receita:!1,observacoes:"",precisa_troco:!1,valor_troco:0,valor_venda:0}),[xe,pe]=w.useState({}),se=async z=>{if(c(z),R(-1),z.length<2){p([]);return}try{const{data:Y,error:ce}=await Le.from("clientes").select("*").ilike("nome",`%${z}%`).limit(5);if(ce)throw ce;p(Y||[])}catch(Y){console.error("Erro ao buscar clientes:",Y)}},Pe=z=>{u.length!==0&&(z.key==="ArrowDown"?(z.preventDefault(),R(Y=>Y<u.length-1?Y+1:Y)):z.key==="ArrowUp"?(z.preventDefault(),R(Y=>Y>0?Y-1:-1)):z.key==="Enter"&&T>=0&&(z.preventDefault(),nt(u[T])))},Me=z=>{if(K(z),we(-1),$(!0),z.length===0)Q(ng);else{const Y=ng.filter(ce=>ce.toLowerCase().includes(z.toLowerCase()));Q(Y)}},$e=z=>{B.length!==0&&(z.key==="ArrowDown"?(z.preventDefault(),we(Y=>Y<B.length-1?Y+1:0)):z.key==="ArrowUp"?(z.preventDefault(),we(Y=>Y>0?Y-1:B.length-1)):z.key==="Enter"&&ne>=0?(z.preventDefault(),Ie(B[ne])):z.key==="Escape"&&$(!1))},Ie=z=>{le({...F,forma_pagamento:z}),K(z),$(!1),Q([]),we(-1)},nt=async z=>{if(S.find(Y=>Y.id===z.id)){Se.error("Cliente j adicionado!");return}try{const{data:Y,error:ce}=await Le.from("enderecos").select("*").eq("cliente_id",z.id).order("is_principal",{ascending:!1});if(ce)throw ce;if(E([...S,z]),Y&&Y.length>0){const ge=Y.map(Ke=>({...Ke,cliente_nome:z.nome}));N(Ke=>{const Re=[...Ke,...ge];return Ke.length===0&&ge.length>0&&(O(ge[0]),ge[0].regiao&&Vt(ge[0].regiao)),Re})}c(""),p([]),R(-1),Se.success(`Cliente ${z.nome} adicionado!`)}catch(Y){console.error("Erro ao buscar endereos:",Y),Se.error("Erro ao carregar endereos do cliente")}},it=z=>{k.find(ge=>ge.id===me&&ge.cliente_id===z)&&_t(),E(S.filter(ge=>ge.id!==z));const ce=k.filter(ge=>ge.cliente_id!==z);N(ce),P&&P.cliente_id===z&&O(null),te===z&&U(null)},Lt=z=>{O(z);const Y=Ud(z.cidade,z.bairro);Y?Vt(Y):z.regiao&&Vt(z.regiao)},$t=async z=>{try{if(!W.logradouro||!W.numero||!W.bairro||!W.cidade){Se.error("Preencha todos os campos obrigatrios do endereo");return}const ce=Ud(W.cidade,W.bairro)||W.regiao||"",ge={cliente_id:z,logradouro:W.logradouro,numero:W.numero,complemento:W.complemento,bairro:W.bairro,cidade:W.cidade,cep:W.cep,regiao:ce,is_principal:!1},{data:Ke,error:Re}=await Le.from("enderecos").insert([ge]).select();if(Re)throw Re;if(Ke&&Ke.length>0){const at=Ke[0],dt=S.find(Tt=>Tt.id===z),Xe={...at,cliente_nome:dt==null?void 0:dt.nome};N([...k,Xe]),O(Xe),ce&&Vt(ce),be({logradouro:"",numero:"",complemento:"",bairro:"",cidade:"",cep:"",regiao:""}),U(null),Se.success("Endereo cadastrado com sucesso!")}}catch(Y){console.error("Erro ao salvar endereo:",Y),Se.error("Erro ao salvar endereo")}},Pt=z=>{_e(z.id),je({logradouro:z.logradouro||"",numero:z.numero||"",complemento:z.complemento||"",bairro:z.bairro||"",cidade:z.cidade||"",cep:z.cep||"",regiao:z.regiao||""}),U(null)},_t=()=>{_e(null),je({logradouro:"",numero:"",complemento:"",bairro:"",cidade:"",cep:"",regiao:""})},Nt=async()=>{try{if(!q.logradouro||!q.numero||!q.bairro||!q.cidade){Se.error("Preencha todos os campos obrigatrios do endereo");return}const Y=Ud(q.cidade,q.bairro)||q.regiao||"",ce={logradouro:q.logradouro,numero:q.numero,complemento:q.complemento,bairro:q.bairro,cidade:q.cidade,cep:q.cep,regiao:Y};console.log(" Atualizando endereo:",me,ce);const{data:ge,error:Ke}=await Le.from("enderecos").update(ce).eq("id",me).select();if(Ke)throw Ke;console.log(" Endereo atualizado no banco:",ge);const Re=k.find(Xe=>Xe.id===me);console.log(" Endereo antigo encontrado:",Re);const at={id:me,cliente_id:Re==null?void 0:Re.cliente_id,cliente_nome:Re==null?void 0:Re.cliente_nome,logradouro:q.logradouro,numero:q.numero,complemento:q.complemento,bairro:q.bairro,cidade:q.cidade,cep:q.cep,regiao:Y,is_principal:(Re==null?void 0:Re.is_principal)||!1};console.log(" Endereo completo para atualizar:",at);const dt=k.map(Xe=>Xe.id===me?at:Xe);console.log(" Novos endereos:",dt),N(dt),(P==null?void 0:P.id)===me&&(console.log(" Atualizando endereo selecionado"),O(at),Y&&Vt(Y)),_t(),Se.success("Endereo atualizado com sucesso!")}catch(z){console.error(" Erro ao atualizar endereo:",z),Se.error("Erro ao atualizar endereo")}};w.useEffect(()=>{if(W.cidade||W.bairro){const z=Ud(W.cidade,W.bairro);z&&be(Y=>({...Y,regiao:z}))}},[W.cidade,W.bairro]),w.useEffect(()=>{te===null&&be({logradouro:"",numero:"",complemento:"",bairro:"",cidade:"",cep:"",regiao:""})},[te]),w.useEffect(()=>{if(me&&(q.cidade||q.bairro)){const z=Ud(q.cidade,q.bairro);z&&je(Y=>({...Y,regiao:z}))}},[q.cidade,q.bairro,me]),w.useEffect(()=>{F.forma_pagamento&&F.forma_pagamento!==D&&K(F.forma_pagamento)},[F.forma_pagamento]),w.useEffect(()=>{F.forma_pagamento!=="Receber Dinheiro"&&le(z=>({...z,precisa_troco:!1,valor_troco:0}))},[F.forma_pagamento]);const ur=["Receber Dinheiro","Receber Mquina","Pagar MP"];w.useEffect(()=>{ur.includes(F.forma_pagamento)||le(z=>({...z,valor_venda:0}))},[F.forma_pagamento]);const xr=async(z,Y,ce)=>{if(ce!=="Bruno")return A(!1),!1;V(!0);try{const{data:ge}=await Le.from("motoboys").select("id").eq("nome","Bruno").single();if(!ge)return A(!1),!1;const{count:Ke}=await Le.from("entregas").select("*",{count:"exact",head:!0}).eq("motoboy_id",ge.id).eq("data_entrega",z).eq("periodo","Manh"),{count:Re}=await Le.from("entregas").select("*",{count:"exact",head:!0}).eq("motoboy_id",ge.id).eq("data_entrega",z).eq("periodo","Tarde"),Xe=(Y==="Manh"?Ke===0:Re===0)&&(Y==="Manh"?Re===0||Re===1:Ke===0||Ke===1);return A(Xe),Xe}catch(ge){return console.error("Erro ao verificar entrega nica:",ge),A(!1),!1}finally{V(!1)}};w.useEffect(()=>{F.motoboy==="Bruno"&&F.data_entrega&&F.periodo?xr(F.data_entrega,F.periodo,F.motoboy):A(!1)},[F.motoboy,F.data_entrega,F.periodo]);const jt=(z,Y,ce=ae)=>{var ge;return z==="OUTRO"||!z||!Y?0:Y==="Bruno"&&ce?dO[z]||0:((ge=cO[Y])==null?void 0:ge[z])||0};w.useEffect(()=>{if(F.motoboy==="Bruno"&&F.regiao&&F.regiao!=="OUTRO"){const z=jt(F.regiao,F.motoboy,ae);le(Y=>({...Y,valor_entrega:z}))}},[ae]);const Vt=z=>{console.log("Mudando regio para:",z),le(Y=>{const ce=z==="OUTRO"?Y.motoboy:uO[z]||"Marcio",ge=jt(z,ce,ce==="Bruno"?ae:!1);return console.log("Novo motoboy:",ce,"Novo valor:",ge,"Entrega nica:",ae),{...Y,regiao:z,motoboy:ce,valor_entrega:ge}})},kn=z=>{const Y=jt(F.regiao,z,z==="Bruno"?ae:!1);le({...F,motoboy:z,valor_entrega:Y})},Wn=()=>{const z={};return S.length===0&&(z.cliente="Adicione pelo menos um cliente"),P||(z.endereco="Selecione um endereo para a entrega"),F.numero_requisicao||(z.requisicao="Nmero de requisio obrigatrio"),F.regiao||(z.regiao="Selecione a regio"),F.regiao==="OUTRO"&&!F.outra_cidade&&(z.outra_cidade="Informe a cidade"),F.data_entrega||(z.data="Data obrigatria"),F.forma_pagamento||(z.pagamento="Forma de pagamento obrigatria"),F.motoboy||(z.motoboy="Selecione o motoboy"),F.forma_pagamento==="Receber Dinheiro"&&F.precisa_troco&&(!F.valor_troco||F.valor_troco<=0)&&(z.valor_troco="Informe o valor do troco"),ur.includes(F.forma_pagamento)&&(!F.valor_venda||F.valor_venda<=0)&&(z.valor_venda="Informe o valor a cobrar"),pe(z),Object.keys(z).length===0},Or=()=>{x({...y,enderecos:[...y.enderecos,{logradouro:"",numero:"",complemento:"",bairro:"",cidade:"",cep:"",is_principal:!1}]})},Hr=z=>{if(y.enderecos.length===1){Se.error(" necessrio pelo menos um endereo");return}x({...y,enderecos:y.enderecos.filter((Y,ce)=>ce!==z)})},ie=(z,Y,ce)=>{const ge=[...y.enderecos];ge[z]={...ge[z],[Y]:ce},x({...y,enderecos:ge})},Ee=async()=>{if(!y.nome||!y.telefone){Se.error("Preencha nome e telefone");return}if(!y.enderecos.some(Y=>Y.logradouro&&Y.numero&&Y.cidade)){Se.error("Preencha pelo menos um endereo completo (Rua, Nmero e Cidade)");return}const z=Se.loading("Cadastrando cliente...");try{const{data:Y}=await Le.from("clientes").select("id, nome").ilike("nome",y.nome.trim()).limit(1);if(Y&&Y.length>0){Se.error(`J existe um cliente cadastrado com o nome "${Y[0].nome}"`,{id:z});return}const{data:ce,error:ge}=await Le.from("clientes").insert([{nome:y.nome,cpf:y.cpf||null,telefone:y.telefone,email:y.email||null}]).select().single();if(ge)throw ge;const Ke=y.enderecos.filter(Re=>Re.logradouro&&Re.numero&&Re.cidade).map((Re,at)=>({cliente_id:ce.id,logradouro:Re.logradouro,numero:Re.numero,complemento:Re.complemento||null,bairro:Re.bairro||null,cidade:Re.cidade,cep:Re.cep||null,regiao:Re.regiao||null,is_principal:at===0}));if(Ke.length>0){const{error:Re}=await Le.from("enderecos").insert(Ke);if(Re)throw Re}Se.success("Cliente cadastrado com sucesso!",{id:z}),nt(ce),x({nome:"",cpf:"",telefone:"",email:"",enderecos:[{logradouro:"",numero:"",complemento:"",bairro:"",cidade:"",cep:"",is_principal:!0}]}),v(!1),c(""),p([])}catch(Y){console.error("Erro ao cadastrar cliente:",Y),Se.error("Erro ao cadastrar cliente: "+Y.message,{id:z})}},G=async z=>{var ce;if(z.preventDefault(),!Wn()){Se.error("Por favor, preencha todos os campos obrigatrios");return}s(!0);const Y=Se.loading("Criando romaneio...");try{let ge=null;if(F.motoboy){const{data:It}=await Le.from("motoboys").select("id").eq("nome",F.motoboy).limit(1);ge=((ce=It==null?void 0:It[0])==null?void 0:ce.id)||null}const Ke=P.endereco_completo||`${P.logradouro}, ${P.numero} - ${P.bairro}, ${P.cidade}`,Re=F.data_entrega+"T12:00:00",at=S.slice(1).map(It=>It.id),dt={cliente_id:S[0].id,endereco_id:P.id,requisicao:F.numero_requisicao,endereco_destino:Ke,regiao:F.regiao,outra_cidade:F.regiao==="OUTRO"?F.outra_cidade:null,tipo:"moto",data_criacao:new Date().toISOString(),data_entrega:Re,periodo:F.periodo,status:"Produzindo no Laboratrio",motoboy_id:ge,forma_pagamento:F.forma_pagamento,valor:F.valor_entrega,item_geladeira:F.item_geladeira,buscar_receita:F.buscar_receita,observacoes:F.observacoes,clientes_adicionais:at,precisa_troco:F.forma_pagamento==="Receber Dinheiro"?F.precisa_troco:!1,valor_troco:F.forma_pagamento==="Receber Dinheiro"&&F.precisa_troco?F.valor_troco:0,valor_venda:ur.includes(F.forma_pagamento)?F.valor_venda:0,endereco_logradouro:P.logradouro,endereco_numero:P.numero,endereco_complemento:P.complemento,endereco_bairro:P.bairro,endereco_cidade:P.cidade,endereco_cep:P.cep},{data:Xe,error:Tt}=await Le.from("entregas").insert([dt]).select();if(Tt)throw Tt;console.log("Entregas criadas:",Xe),await e.invalidateQueries({queryKey:["entregas"]}),await e.invalidateQueries({queryKey:["receitas"]}),await e.refetchQueries({queryKey:["entregas"]}),Se.success("Romaneio criado com sucesso!",{id:Y}),setTimeout(()=>t("/"),1e3)}catch(ge){console.error("Erro ao criar romaneio:",ge),Se.error("Erro ao criar romaneio: "+ge.message,{id:Y})}finally{s(!1)}};return n.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100",children:[n.jsx("div",{className:"py-8 shadow-sm",style:{background:"linear-gradient(135deg, #457bba 0%, #890d5d 100%)"},children:n.jsx("div",{className:"max-w-7xl mx-auto px-6",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("button",{onClick:()=>t(-1),className:"p-2 rounded-lg bg-white/20 hover:bg-white/30 transition-colors",children:n.jsx(vr,{className:"w-6 h-6 text-white"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-4xl font-bold text-white",children:"Novo Romaneio"}),n.jsx("p",{className:"text-base text-white opacity-90 mt-1",children:"Crie uma nova ordem de entrega"})]})]})})}),n.jsx("div",{className:"max-w-7xl mx-auto px-6 py-6",children:n.jsxs("form",{onSubmit:G,children:[n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6 mb-6",children:[n.jsx("h3",{className:"text-lg font-bold text-slate-900 mb-6",children:"Informaes do Romaneio"}),n.jsxs("div",{style:{marginBottom:"1rem"},children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:he.colors.text,marginBottom:"0.5rem"},children:"Cliente(s) *"}),n.jsx("input",{type:"text",value:l,onChange:z=>se(z.target.value),onKeyDown:Pe,placeholder:"Buscar cliente por nome, CPF ou telefone...",style:{width:"100%",padding:"0.75rem",border:`1px solid ${xe.cliente?he.colors.danger:he.colors.border}`,borderRadius:"0.5rem",fontSize:"0.875rem"}}),u.length>0&&n.jsx("div",{style:{position:"absolute",zIndex:10,background:"white",border:`1px solid ${he.colors.border}`,borderRadius:"0.5rem",marginTop:"0.25rem",maxHeight:"200px",overflowY:"auto",boxShadow:"0 4px 6px rgba(0,0,0,0.1)",width:"100%"},children:u.map((z,Y)=>n.jsxs("div",{onClick:()=>nt(z),onMouseEnter:()=>R(Y),style:{padding:"0.75rem",cursor:"pointer",borderBottom:Y<u.length-1?`1px solid ${he.colors.border}`:"none",background:Y===T?"#e3f2fd":"white",transition:"background 0.15s"},children:[n.jsx("p",{style:{fontWeight:"500",margin:0},children:z.nome}),n.jsx("p",{style:{fontSize:"0.75rem",color:he.colors.textLight,margin:0},children:z.telefone})]},z.id))}),l.length>=2&&u.length===0&&n.jsx("button",{type:"button",onClick:()=>v(!0),style:{marginTop:"0.5rem",padding:"0.5rem 1rem",background:he.colors.primary,color:"white",border:"none",borderRadius:"0.5rem",fontSize:"0.875rem",cursor:"pointer"},children:"+ Cadastrar Novo Cliente"}),xe.cliente&&n.jsx("p",{style:{color:he.colors.danger,fontSize:"0.75rem",marginTop:"0.25rem"},children:xe.cliente})]}),S.length>0&&n.jsxs("div",{style:{marginBottom:"1rem"},children:[n.jsxs("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:he.colors.text,marginBottom:"0.5rem"},children:["Clientes Selecionados (",S.length,")"]}),n.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"0.5rem"},children:S.map(z=>n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.5rem 0.75rem",background:"#e3f2fd",borderRadius:"1rem",fontSize:"0.875rem"},children:[n.jsx("span",{children:z.nome}),n.jsx("button",{type:"button",onClick:()=>it(z.id),style:{background:"none",border:"none",color:he.colors.danger,cursor:"pointer",padding:"0.25rem",display:"flex",alignItems:"center",fontSize:"1rem"},children:""})]},z.id))})]}),S.length>0&&n.jsxs("div",{style:{marginBottom:"1rem"},children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:he.colors.text,marginBottom:"0.5rem"},children:"Endereo de Entrega *"}),S.map(z=>{const Y=k.filter(ce=>ce.cliente_id===z.id);return n.jsxs("div",{style:{marginBottom:"1.5rem",padding:"1rem",border:`1px solid ${he.colors.border}`,borderRadius:"0.5rem",background:"#f8fafc"},children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.75rem"},children:[n.jsx("h4",{style:{margin:0,fontSize:"0.875rem",fontWeight:"600",color:he.colors.primary},children:z.nome}),n.jsx("button",{type:"button",onClick:()=>{te===z.id?U(null):(U(z.id),me&&_t())},style:{padding:"0.375rem 0.75rem",fontSize:"0.75rem",fontWeight:"500",color:he.colors.primary,background:"white",border:`1px solid ${he.colors.primary}`,borderRadius:"0.5rem",cursor:"pointer"},children:te===z.id?"Cancelar":"+ Novo Endereo"})]}),te===z.id&&n.jsxs("div",{style:{padding:"1rem",background:"white",borderRadius:"0.5rem",marginBottom:"0.75rem",border:`1px solid ${he.colors.border}`},children:[n.jsx("h5",{style:{margin:"0 0 0.75rem 0",fontSize:"0.8rem",fontWeight:"600",color:he.colors.text},children:"Cadastrar Novo Endereo"}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"0.75rem"},children:[n.jsx("div",{style:{gridColumn:"1 / -1"},children:n.jsx("input",{type:"text",placeholder:"Rua *",value:W.logradouro,onChange:ce=>be({...W,logradouro:ce.target.value}),style:{width:"100%",padding:"0.5rem",border:`1px solid ${he.colors.border}`,borderRadius:"0.5rem",fontSize:"0.75rem"}})}),n.jsx("div",{children:n.jsx("input",{type:"text",placeholder:"Nmero *",value:W.numero,onChange:ce=>be({...W,numero:ce.target.value}),style:{width:"100%",padding:"0.5rem",border:`1px solid ${he.colors.border}`,borderRadius:"0.5rem",fontSize:"0.75rem"}})}),n.jsx("div",{children:n.jsx("input",{type:"text",placeholder:"Complemento",value:W.complemento,onChange:ce=>be({...W,complemento:ce.target.value}),style:{width:"100%",padding:"0.5rem",border:`1px solid ${he.colors.border}`,borderRadius:"0.5rem",fontSize:"0.75rem"}})}),n.jsx("div",{children:n.jsx("input",{type:"text",placeholder:"Bairro *",value:W.bairro,onChange:ce=>be({...W,bairro:ce.target.value}),style:{width:"100%",padding:"0.5rem",border:`1px solid ${he.colors.border}`,borderRadius:"0.5rem",fontSize:"0.75rem"}})}),n.jsx("div",{children:n.jsx("input",{type:"text",placeholder:"Cidade *",value:W.cidade,onChange:ce=>be({...W,cidade:ce.target.value}),style:{width:"100%",padding:"0.5rem",border:`1px solid ${he.colors.border}`,borderRadius:"0.5rem",fontSize:"0.75rem"}})}),n.jsx("div",{children:n.jsx("input",{type:"text",placeholder:"CEP",value:W.cep,onChange:ce=>be({...W,cep:ce.target.value}),style:{width:"100%",padding:"0.5rem",border:`1px solid ${he.colors.border}`,borderRadius:"0.5rem",fontSize:"0.75rem"}})}),n.jsx("div",{children:n.jsx("input",{type:"text",placeholder:"Regio (auto-detectada)",value:W.regiao,readOnly:!0,style:{width:"100%",padding:"0.5rem",border:`1px solid ${he.colors.border}`,borderRadius:"0.5rem",fontSize:"0.75rem",background:"#f1f5f9"}})})]}),n.jsx("button",{type:"button",onClick:()=>$t(z.id),style:{marginTop:"0.75rem",padding:"0.5rem 1rem",fontSize:"0.75rem",fontWeight:"500",color:"white",background:he.colors.primary,border:"none",borderRadius:"0.5rem",cursor:"pointer",width:"100%"},children:"Salvar Endereo"})]}),Y.length>0?Y.map(ce=>me===ce.id?n.jsxs("div",{style:{padding:"1rem",background:"white",borderRadius:"0.5rem",marginBottom:"0.75rem",border:`2px solid ${he.colors.primary}`},children:[n.jsx("h5",{style:{margin:"0 0 0.75rem 0",fontSize:"0.8rem",fontWeight:"600",color:he.colors.text},children:"Editando Endereo"}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"0.75rem"},children:[n.jsx("div",{style:{gridColumn:"1 / -1"},children:n.jsx("input",{type:"text",placeholder:"Rua *",value:q.logradouro,onChange:ge=>je({...q,logradouro:ge.target.value}),style:{width:"100%",padding:"0.5rem",border:`1px solid ${he.colors.border}`,borderRadius:"0.5rem",fontSize:"0.75rem"}})}),n.jsx("div",{children:n.jsx("input",{type:"text",placeholder:"Nmero *",value:q.numero,onChange:ge=>je({...q,numero:ge.target.value}),style:{width:"100%",padding:"0.5rem",border:`1px solid ${he.colors.border}`,borderRadius:"0.5rem",fontSize:"0.75rem"}})}),n.jsx("div",{children:n.jsx("input",{type:"text",placeholder:"Complemento",value:q.complemento,onChange:ge=>je({...q,complemento:ge.target.value}),style:{width:"100%",padding:"0.5rem",border:`1px solid ${he.colors.border}`,borderRadius:"0.5rem",fontSize:"0.75rem"}})}),n.jsx("div",{children:n.jsx("input",{type:"text",placeholder:"Bairro *",value:q.bairro,onChange:ge=>je({...q,bairro:ge.target.value}),style:{width:"100%",padding:"0.5rem",border:`1px solid ${he.colors.border}`,borderRadius:"0.5rem",fontSize:"0.75rem"}})}),n.jsx("div",{children:n.jsx("input",{type:"text",placeholder:"Cidade *",value:q.cidade,onChange:ge=>je({...q,cidade:ge.target.value}),style:{width:"100%",padding:"0.5rem",border:`1px solid ${he.colors.border}`,borderRadius:"0.5rem",fontSize:"0.75rem"}})}),n.jsx("div",{children:n.jsx("input",{type:"text",placeholder:"CEP",value:q.cep,onChange:ge=>je({...q,cep:ge.target.value}),style:{width:"100%",padding:"0.5rem",border:`1px solid ${he.colors.border}`,borderRadius:"0.5rem",fontSize:"0.75rem"}})}),n.jsx("div",{children:n.jsx("input",{type:"text",placeholder:"Regio (auto-detectada)",value:q.regiao,readOnly:!0,style:{width:"100%",padding:"0.5rem",border:`1px solid ${he.colors.border}`,borderRadius:"0.5rem",fontSize:"0.75rem",background:"#f1f5f9"}})})]}),n.jsxs("div",{style:{display:"flex",gap:"0.5rem",marginTop:"0.75rem"},children:[n.jsx("button",{type:"button",onClick:Nt,style:{flex:1,padding:"0.5rem 1rem",fontSize:"0.75rem",fontWeight:"500",color:"white",background:he.colors.primary,border:"none",borderRadius:"0.5rem",cursor:"pointer"},children:"Salvar"}),n.jsx("button",{type:"button",onClick:_t,style:{flex:1,padding:"0.5rem 1rem",fontSize:"0.75rem",fontWeight:"500",color:he.colors.text,background:"white",border:`1px solid ${he.colors.border}`,borderRadius:"0.5rem",cursor:"pointer"},children:"Cancelar"})]})]},ce.id):n.jsxs("div",{style:{padding:"0.75rem",border:`2px solid ${(P==null?void 0:P.id)===ce.id?he.colors.primary:he.colors.border}`,borderRadius:"0.5rem",marginBottom:"0.5rem",background:(P==null?void 0:P.id)===ce.id?"#f0f9ff":"white",display:"flex",alignItems:"center",gap:"0.75rem"},children:[n.jsx("input",{type:"radio",name:"endereco",checked:(P==null?void 0:P.id)===ce.id,onChange:()=>Lt(ce),style:{cursor:"pointer"}}),n.jsxs("div",{onClick:()=>Lt(ce),style:{flex:1,cursor:"pointer"},children:[n.jsx("p",{style:{margin:0,fontSize:"0.875rem",fontWeight:"500"},children:ce.endereco_completo||`${ce.logradouro}, ${ce.numero} - ${ce.bairro}, ${ce.cidade}`}),ce.regiao&&n.jsxs("p",{style:{margin:0,fontSize:"0.75rem",color:he.colors.textLight,marginTop:"0.25rem"},children:["Regio: ",ce.regiao]})]}),n.jsx("button",{type:"button",onClick:ge=>{ge.stopPropagation(),Pt(ce)},style:{padding:"0.375rem 0.75rem",fontSize:"0.7rem",fontWeight:"500",color:he.colors.primary,background:"white",border:`1px solid ${he.colors.primary}`,borderRadius:"0.5rem",cursor:"pointer"},children:"Editar"})]},ce.id)):n.jsx("p",{style:{margin:0,fontSize:"0.75rem",color:he.colors.textLight,fontStyle:"italic"},children:'Nenhum endereo cadastrado. Clique em "+ Novo Endereo" para adicionar.'})]},z.id)}),xe.endereco&&n.jsx("p",{style:{color:he.colors.danger,fontSize:"0.75rem",marginTop:"0.25rem"},children:xe.endereco})]}),n.jsxs("div",{style:{marginBottom:"1rem"},children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:he.colors.text,marginBottom:"0.5rem"},children:"Nmero da Requisio *"}),n.jsx("input",{type:"text",value:F.numero_requisicao,onChange:z=>le({...F,numero_requisicao:z.target.value}),placeholder:"Ex: REQ-001",style:{width:"100%",padding:"0.75rem",border:`1px solid ${xe.requisicao?he.colors.danger:he.colors.border}`,borderRadius:"0.5rem",fontSize:"0.875rem"}}),xe.requisicao&&n.jsx("p",{style:{color:he.colors.danger,fontSize:"0.75rem",marginTop:"0.25rem"},children:xe.requisicao})]}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem",marginBottom:"1rem"},children:[n.jsx(kt,{label:"Cidade/Regio *",options:hO.map(z=>({value:z,label:z})),value:F.regiao,onChange:Vt,placeholder:"Selecione a cidade",error:xe.regiao}),n.jsx(cl,{label:"Data de Entrega *",value:F.data_entrega,onChange:z=>le({...F,data_entrega:z}),placeholder:"Selecione a data"})]}),F.regiao==="OUTRO"&&n.jsxs("div",{style:{marginBottom:"1rem"},children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:he.colors.text,marginBottom:"0.5rem"},children:"Nome da Cidade *"}),n.jsx("input",{type:"text",value:F.outra_cidade,onChange:z=>le({...F,outra_cidade:z.target.value}),placeholder:"Digite o nome da cidade",style:{width:"100%",padding:"0.75rem",border:`1px solid ${xe.outra_cidade?he.colors.danger:he.colors.border}`,borderRadius:"0.5rem",fontSize:"0.875rem"}})]}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem",marginBottom:"1rem"},children:[n.jsx(kt,{label:"Perodo de Entrega *",options:[{value:"Manh",label:"Manh"},{value:"Tarde",label:"Tarde"}],value:F.periodo,onChange:z=>le({...F,periodo:z}),placeholder:"Selecione o perodo"}),n.jsxs("div",{style:{position:"relative"},children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:he.colors.text,marginBottom:"0.5rem"},children:"Forma de Pagamento *"}),n.jsx("input",{type:"text",value:D,onChange:z=>Me(z.target.value),onKeyDown:$e,onFocus:()=>{$(!0),B.length===0&&Q(ng)},onBlur:()=>{setTimeout(()=>$(!1),200)},placeholder:"Digite ou selecione a forma de pagamento...",style:{width:"100%",padding:"0.75rem",border:`1px solid ${xe.pagamento?he.colors.danger:he.colors.border}`,borderRadius:"0.5rem",fontSize:"0.875rem"}}),ee&&B.length>0&&n.jsx("div",{style:{position:"absolute",top:"100%",left:0,right:0,background:"white",border:`1px solid ${he.colors.border}`,borderRadius:"0.5rem",marginTop:"0.25rem",maxHeight:"200px",overflowY:"auto",boxShadow:"0 4px 6px rgba(0,0,0,0.1)",zIndex:1e3},children:B.map((z,Y)=>n.jsx("div",{onClick:()=>Ie(z),onMouseEnter:()=>we(Y),style:{padding:"0.75rem",cursor:"pointer",borderBottom:Y<B.length-1?`1px solid ${he.colors.border}`:"none",background:Y===ne?"#e3f2fd":"white",transition:"background 0.15s"},children:n.jsx("p",{style:{margin:0,fontSize:"0.875rem"},children:z})},z))})]})]}),ur.includes(F.forma_pagamento)&&n.jsxs("div",{style:{marginBottom:"1rem",padding:"1rem",background:"#e8f5e9",border:"2px solid #4caf50",borderRadius:"0.5rem"},children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"600",color:"#2e7d32",marginBottom:"0.5rem"},children:"Valor a Cobrar (R$) *"}),n.jsx("input",{type:"number",step:"0.01",min:"0",value:F.valor_venda||"",onChange:z=>le({...F,valor_venda:parseFloat(z.target.value)||0}),placeholder:"Ex: 150.00",style:{width:"100%",padding:"0.75rem",border:`2px solid ${xe.valor_venda?he.colors.danger:"#4caf50"}`,borderRadius:"0.5rem",fontSize:"0.875rem",background:"white"}}),xe.valor_venda&&n.jsx("p",{style:{color:he.colors.danger,fontSize:"0.75rem",marginTop:"0.25rem"},children:xe.valor_venda}),!xe.valor_venda&&F.valor_venda>0&&n.jsxs("div",{style:{marginTop:"0.75rem",padding:"0.75rem",background:"#1b5e20",borderRadius:"0.5rem",textAlign:"center"},children:[n.jsx("p",{style:{margin:0,color:"white",fontSize:"0.875rem",fontWeight:"500"},children:F.forma_pagamento==="Receber Mquina"?"Receber na Mquina:":F.forma_pagamento==="Pagar MP"?"Cobrar via MP:":"Valor a Receber:"}),n.jsxs("p",{style:{margin:"0.25rem 0 0 0",color:"white",fontSize:"1.5rem",fontWeight:"700"},children:["R$ ",F.valor_venda.toFixed(2).replace(".",",")]})]}),!F.valor_venda&&n.jsx("p",{style:{fontSize:"0.75rem",color:"#2e7d32",marginTop:"0.25rem",fontWeight:"500"},children:"Informe o valor a ser cobrado nesta entrega."})]}),F.forma_pagamento==="Receber Dinheiro"&&n.jsxs("div",{style:{marginBottom:"1rem",padding:"1rem",background:"#fff9e6",border:"2px solid #ffc107",borderRadius:"0.5rem"},children:[n.jsxs("div",{style:{marginBottom:"0.75rem"},children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"600",color:"#f57c00",marginBottom:"0.5rem"},children:"Precisa de troco?"}),n.jsxs("div",{style:{display:"flex",gap:"1rem"},children:[n.jsxs("label",{style:{display:"flex",alignItems:"center",cursor:"pointer",fontSize:"0.875rem"},children:[n.jsx("input",{type:"radio",name:"precisa_troco",checked:F.precisa_troco===!0,onChange:()=>le({...F,precisa_troco:!0}),style:{marginRight:"0.5rem"}}),"Sim"]}),n.jsxs("label",{style:{display:"flex",alignItems:"center",cursor:"pointer",fontSize:"0.875rem"},children:[n.jsx("input",{type:"radio",name:"precisa_troco",checked:F.precisa_troco===!1,onChange:()=>le({...F,precisa_troco:!1,valor_troco:0}),style:{marginRight:"0.5rem"}}),"No"]})]})]}),F.precisa_troco&&n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"600",color:"#f57c00",marginBottom:"0.5rem"},children:"Valor do Troco (R$) *"}),n.jsx("input",{type:"number",step:"0.01",min:"0",value:F.valor_troco||"",onChange:z=>le({...F,valor_troco:parseFloat(z.target.value)||0}),placeholder:"Ex: 50.00",style:{width:"100%",padding:"0.75rem",border:`2px solid ${xe.valor_troco?he.colors.danger:"#ffc107"}`,borderRadius:"0.5rem",fontSize:"0.875rem",background:"white"}}),n.jsx("p",{style:{fontSize:"0.75rem",color:"#f57c00",marginTop:"0.25rem",fontWeight:"500"},children:"Cliente pagar com quanto? Informe o valor para calcular o troco."})]})]}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem",marginBottom:"1rem"},children:[n.jsxs("div",{children:[n.jsx(kt,{label:"Motoboy *",options:[{value:"Marcio",label:"Marcio"},{value:"Bruno",label:"Bruno"}],value:F.motoboy,onChange:kn,placeholder:"Selecione o motoboy",error:xe.motoboy}),n.jsx("p",{style:{fontSize:"0.75rem",color:he.colors.textLight,marginTop:"0.25rem"},children:"Valor calculado automaticamente"})]}),n.jsxs("div",{children:[n.jsxs("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:he.colors.text,marginBottom:"0.5rem"},children:["Valor da Entrega (R$)",F.motoboy==="Bruno"&&ae&&n.jsx("span",{style:{marginLeft:"0.5rem",padding:"2px 8px",backgroundColor:"#fef3c7",color:"#92400e",fontSize:"0.7rem",fontWeight:"bold",borderRadius:"4px",border:"1px solid #fbbf24"},children:"ENTREGA NICA"}),H&&n.jsx("span",{style:{marginLeft:"0.5rem",fontSize:"0.7rem",color:he.colors.muted},children:"verificando..."})]}),n.jsx("input",{type:"number",step:"0.01",value:F.valor_entrega,onChange:z=>le({...F,valor_entrega:parseFloat(z.target.value)||0}),style:{width:"100%",padding:"0.75rem",border:`1px solid ${ae&&F.motoboy==="Bruno"?"#fbbf24":he.colors.border}`,borderRadius:"0.5rem",fontSize:"0.875rem",fontWeight:"600",color:he.colors.primary,backgroundColor:ae&&F.motoboy==="Bruno"?"#fffbeb":"white"}})]})]}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem",marginBottom:"1rem"},children:[n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:he.colors.text,marginBottom:"0.5rem"},children:"Item de Geladeira? *"}),n.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[n.jsx("button",{type:"button",onClick:()=>le({...F,item_geladeira:!0}),style:{padding:"0.5rem 1.5rem",border:F.item_geladeira?"2px solid #0891b2":"2px solid #e2e8f0",borderRadius:"0.5rem",background:F.item_geladeira?"#cffafe":"white",color:F.item_geladeira?"#0891b2":"#64748b",fontWeight:F.item_geladeira?"600":"400",fontSize:"0.875rem",cursor:"pointer",transition:"all 0.15s"},children:"Sim"}),n.jsx("button",{type:"button",onClick:()=>le({...F,item_geladeira:!1}),style:{padding:"0.5rem 1.5rem",border:F.item_geladeira?"2px solid #e2e8f0":"2px solid #64748b",borderRadius:"0.5rem",background:F.item_geladeira?"white":"#f1f5f9",color:F.item_geladeira?"#64748b":"#1e293b",fontWeight:F.item_geladeira?"400":"600",fontSize:"0.875rem",cursor:"pointer",transition:"all 0.15s"},children:"No"})]})]}),n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:he.colors.text,marginBottom:"0.5rem"},children:"Reter Receita? *"}),n.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[n.jsx("button",{type:"button",onClick:()=>le({...F,buscar_receita:!0}),style:{padding:"0.5rem 1.5rem",border:F.buscar_receita?"2px solid #f97316":"2px solid #e2e8f0",borderRadius:"0.5rem",background:F.buscar_receita?"#ffedd5":"white",color:F.buscar_receita?"#c2410c":"#64748b",fontWeight:F.buscar_receita?"600":"400",fontSize:"0.875rem",cursor:"pointer",transition:"all 0.15s"},children:"Sim"}),n.jsx("button",{type:"button",onClick:()=>le({...F,buscar_receita:!1}),style:{padding:"0.5rem 1.5rem",border:F.buscar_receita?"2px solid #e2e8f0":"2px solid #64748b",borderRadius:"0.5rem",background:F.buscar_receita?"white":"#f1f5f9",color:F.buscar_receita?"#64748b":"#1e293b",fontWeight:F.buscar_receita?"400":"600",fontSize:"0.875rem",cursor:"pointer",transition:"all 0.15s"},children:"No"})]})]})]}),n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:he.colors.text,marginBottom:"0.5rem"},children:"Observaes"}),n.jsx("textarea",{value:F.observacoes,onChange:z=>le({...F,observacoes:z.target.value}),placeholder:"Informaes adicionais sobre a entrega",rows:4,style:{width:"100%",padding:"0.75rem",border:`1px solid ${he.colors.border}`,borderRadius:"0.5rem",fontSize:"0.875rem",resize:"vertical"}})]})]}),n.jsxs("div",{style:{display:"flex",gap:"1rem",justifyContent:"flex-end"},children:[n.jsx("button",{type:"button",onClick:()=>t("/"),style:{padding:"0.75rem 1.5rem",background:"white",color:he.colors.text,border:`1px solid ${he.colors.border}`,borderRadius:"0.5rem",fontSize:"0.9375rem",fontWeight:"600",cursor:"pointer"},children:"Cancelar"}),n.jsx("button",{type:"submit",disabled:r,style:{padding:"0.75rem 1.5rem",background:r?he.colors.textLight:he.colors.primary,color:"white",border:"none",borderRadius:"0.5rem",fontSize:"0.9375rem",fontWeight:"600",cursor:r?"not-allowed":"pointer"},children:r?"Criando...":"Criar Romaneio"})]})]})}),n.jsx(us,{open:m,onOpenChange:v,children:n.jsxs(Oo,{style:{maxWidth:"900px",maxHeight:"90vh",overflowY:"auto"},children:[n.jsx(Mo,{children:n.jsx(Lo,{style:{color:"#376295"},children:"Cadastrar Novo Cliente"})}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Nome Completo *"}),n.jsx("input",{type:"text",value:y.nome,onChange:z=>x({...y,nome:z.target.value}),placeholder:"Digite o nome completo",className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-100"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"CPF"}),n.jsx("input",{type:"text",value:y.cpf,onChange:z=>x({...y,cpf:z.target.value}),placeholder:"000.000.000-00",className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-100"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Telefone *"}),n.jsx("input",{type:"text",value:y.telefone,onChange:z=>x({...y,telefone:z.target.value}),placeholder:"(00) 00000-0000",className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-100"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"E-mail"}),n.jsx("input",{type:"email",value:y.email,onChange:z=>x({...y,email:z.target.value}),placeholder:"cliente@email.com",className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-100"})]})]}),n.jsxs("div",{className:"space-y-3 pt-2 border-t border-slate-200",children:[n.jsxs("div",{className:"flex justify-between items-center pt-2",children:[n.jsx("h3",{className:"text-sm font-semibold text-slate-700",children:"Endereos"}),n.jsxs("button",{type:"button",onClick:Or,className:"flex items-center gap-2 px-3 py-1.5 text-sm border border-slate-300 rounded-lg font-medium text-slate-700 hover:bg-slate-50 transition-colors",children:[n.jsx(Vf,{className:"w-4 h-4"}),"Adicionar Endereo"]})]}),y.enderecos.map((z,Y)=>n.jsxs("div",{className:"bg-slate-50 rounded-lg border border-slate-200 p-4",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsxs("h4",{className:"text-sm font-semibold text-slate-700",children:["Endereo ",Y+1," ",Y===0&&"(Principal)"]}),y.enderecos.length>1&&n.jsx("button",{type:"button",onClick:()=>Hr(Y),className:"p-1.5 hover:bg-red-50 rounded transition-colors",children:n.jsx(Trash2,{className:"w-4 h-4 text-red-500"})})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"CEP"}),n.jsx("input",{type:"text",value:z.cep||"",onChange:ce=>ie(Y,"cep",ce.target.value),placeholder:"00000-000",className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-100"})]}),n.jsxs("div",{className:"grid grid-cols-[2fr_1fr] gap-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Rua/Logradouro *"}),n.jsx("input",{type:"text",value:z.logradouro,onChange:ce=>ie(Y,"logradouro",ce.target.value),placeholder:"Nome da rua",className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-100"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Nmero *"}),n.jsx("input",{type:"text",value:z.numero,onChange:ce=>ie(Y,"numero",ce.target.value),placeholder:"123",className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-100"})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Bairro"}),n.jsx("input",{type:"text",value:z.bairro,onChange:ce=>ie(Y,"bairro",ce.target.value),placeholder:"Nome do bairro",className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-100"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Cidade *"}),n.jsx("input",{type:"text",value:z.cidade,onChange:ce=>ie(Y,"cidade",ce.target.value),placeholder:"Ex: Balnerio Cambori",className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-100"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Complemento"}),n.jsx("input",{type:"text",value:z.complemento,onChange:ce=>ie(Y,"complemento",ce.target.value),placeholder:"Apto, Bloco, etc.",className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-100"})]})]})]},`endereco-${Y}`))]}),n.jsxs("div",{className:"flex gap-3 pt-4",children:[n.jsx("button",{type:"button",onClick:()=>{v(!1),x({nome:"",cpf:"",telefone:"",email:"",enderecos:[{logradouro:"",numero:"",complemento:"",bairro:"",cidade:"",cep:"",is_principal:!0}]})},className:"flex-1 px-4 py-2 border border-slate-300 rounded-lg font-medium text-slate-700 hover:bg-slate-50 transition-colors",children:"Cancelar"}),n.jsx("button",{type:"button",onClick:Ee,className:"flex-1 px-4 py-2 rounded-lg font-medium text-white transition-colors",style:{backgroundColor:"#376295"},children:"Cadastrar"})]})]})]})})]})}const mO={Marcio:{BC:9,"NOVA ESPERANA":11,CAMBORI:16,TABULEIRO:11,"MONTE ALEGRE":11,BARRA:11,ESTALEIRO:16,TAQUARAS:16,LARANJEIRAS:16,ITAJAI:19,ESPINHEIROS:23,"PRAIA DOS AMORES":13.5,"PRAIA BRAVA":13.5,ITAPEMA:27,NAVEGANTES:30,PENHA:52,"PORTO BELO":52,TIJUCAS:52,PIARRAS:52,BOMBINHAS:72,CLINICA:9},Bruno:{BC:7,"NOVA ESPERANA":9,CAMBORI:14,TABULEIRO:9,"MONTE ALEGRE":9,BARRA:9,ESTALEIRO:14,TAQUARAS:14,LARANJEIRAS:14,ITAJAI:17,ESPINHEIROS:21,"PRAIA DOS AMORES":11.5,"PRAIA BRAVA":11.5,ITAPEMA:25,NAVEGANTES:40,PENHA:50,"PORTO BELO":30,TIJUCAS:50,PIARRAS:50,BOMBINHAS:50,CLINICA:7}},pO={BC:12,"NOVA ESPERANA":15,CAMBORI:20,TABULEIRO:15,"MONTE ALEGRE":15,BARRA:15,ESTALEIRO:25,TAQUARAS:25,LARANJEIRAS:25,ITAJAI:25,ESPINHEIROS:35,"PRAIA DOS AMORES":15,"PRAIA BRAVA":15,ITAPEMA:35,NAVEGANTES:50,PENHA:75,"PORTO BELO":60,TIJUCAS:87,PIARRAS:80,BOMBINHAS:90,CLINICA:12},gO={BC:"Marcio","NOVA ESPERANA":"Marcio",CAMBORI:"Marcio",TABULEIRO:"Marcio","MONTE ALEGRE":"Marcio",BARRA:"Marcio",ESTALEIRO:"Marcio",CLINICA:"Marcio",TAQUARAS:"Bruno",LARANJEIRAS:"Bruno",ITAJAI:"Bruno",ESPINHEIROS:"Bruno","PRAIA DOS AMORES":"Bruno","PRAIA BRAVA":"Bruno",ITAPEMA:"Bruno",NAVEGANTES:"Bruno",PENHA:"Bruno","PORTO BELO":"Bruno",TIJUCAS:"Bruno",PIARRAS:"Bruno",BOMBINHAS:"Bruno"},gb=["BC","NOVA ESPERANA","CAMBORI","TABULEIRO","MONTE ALEGRE","BARRA","ESTALEIRO","TAQUARAS","LARANJEIRAS","ITAJAI","ESPINHEIROS","PRAIA DOS AMORES","PRAIA BRAVA","ITAPEMA","NAVEGANTES","PENHA","PORTO BELO","TIJUCAS","PIARRAS","BOMBINHAS","CLINICA","OUTRO"],og=["Aguardando","Boleto","Link Aguardando","Pagar MP","Pago Dinheiro","Pago Link","Pago Mquina","Pago Pix","Pix Aguardando","Receber Dinheiro","Receber Mquina","S Entregar","Via na Pasta"],vb={"balnerio cambori":{centro:"BC",estados:"BC",pioneiros:"BC","nova esperana":"NOVA ESPERANA",naes:"BC",barra:"BARRA","barra sul":"BARRA",estaleiro:"ESTALEIRO",estaleirinho:"ESTALEIRO",taquaras:"TAQUARAS",laranjeiras:"LARANJEIRAS","praia dos amores":"PRAIA DOS AMORES","praia brava":"PRAIA BRAVA",tabuleiro:"TABULEIRO","monte alegre":"MONTE ALEGRE",default:"BC"},bc:{default:"BC"},"balneario camboriu":{centro:"BC",estados:"BC",pioneiros:"BC","nova esperana":"NOVA ESPERANA","nova esperanca":"NOVA ESPERANA",naes:"BC",nacoes:"BC",barra:"BARRA","barra sul":"BARRA",estaleiro:"ESTALEIRO",estaleirinho:"ESTALEIRO",taquaras:"TAQUARAS",laranjeiras:"LARANJEIRAS","praia dos amores":"PRAIA DOS AMORES","praia brava":"PRAIA BRAVA",tabuleiro:"TABULEIRO","monte alegre":"MONTE ALEGRE",default:"BC"},cambori:{default:"CAMBORI"},camboriu:{default:"CAMBORI"},itaja:{centro:"ITAJAI","vila real":"ITAJAI",espinheiros:"ESPINHEIROS",default:"ITAJAI"},itajai:{centro:"ITAJAI","vila real":"ITAJAI",espinheiros:"ESPINHEIROS",default:"ITAJAI"},itapema:{default:"ITAPEMA"},navegantes:{default:"NAVEGANTES"},penha:{default:"PENHA"},"porto belo":{default:"PORTO BELO"},tijucas:{default:"TIJUCAS"},piarras:{default:"PIARRAS"},picarras:{default:"PIARRAS"},bombinhas:{default:"BOMBINHAS"}},xb=t=>{const e=(t==null?void 0:t.trim())||"";return e.toUpperCase()==="BC"?"Balnerio Cambori":e},tf=(t,e)=>{const r=(t==null?void 0:t.toLowerCase().trim())||"",s=(e==null?void 0:e.toLowerCase().trim())||"";if(console.log(" Detectando regio:",{cidade:r,bairro:s}),vb[r]){const l=vb[r];return s==="centro"?(console.log(" Bairro Centro - usando regio padro da cidade:",l.default),l.default):s&&l[s]&&l[s]!==l.default?(console.log(" Regio detectada por bairro cadastrado:",l[s]),l[s]):(console.log(" Regio detectada por cidade (default):",l.default),l.default)}return console.log(" Nenhuma regio detectada"),""};function vO(){const t=Er(),[e]=f_(),r=e.get("id"),s=mo(),[l,c]=w.useState(!1),[u,p]=w.useState(!0),[m,v]=w.useState(""),[y,x]=w.useState([]),[S,E]=w.useState(!1),[k,N]=w.useState({nome:"",cpf:"",telefone:"",email:"",enderecos:[{logradouro:"",numero:"",complemento:"",bairro:"",cidade:"",cep:"",regiao:"",ponto_referencia:"",observacoes:"",is_principal:!0}]}),[P,O]=w.useState([]),[T,R]=w.useState([]),[D,K]=w.useState([]),[B,Q]=w.useState(null),[ne,we]=w.useState(!1),[ee,$]=w.useState(null),[te,U]=w.useState({logradouro:"",numero:"",complemento:"",bairro:"",cidade:"",cep:"",observacoes:""}),[W,be]=w.useState({cliente_id:"",cliente_nome:"",numero_requisicao:"",endereco_id:"",endereco:"",regiao:"",outra_cidade:"",data_entrega:new Date().toISOString().split("T")[0],periodo:"Tarde",forma_pagamento:"",motoboy:"",valor_entrega:0,item_geladeira:!1,buscar_receita:!1,observacoes:"",valor_venda:0}),me=["Receber Dinheiro","Receber Mquina","Pagar MP"],[_e,q]=w.useState({}),[je,ae]=w.useState(!1),[A,H]=w.useState(!1),[V,F]=w.useState(""),[le,xe]=w.useState([]),[pe,se]=w.useState(-1),[Pe,Me]=w.useState(!1),$e=async(G,z,Y,ce)=>{if(Y!=="Bruno")return ae(!1),!1;H(!0);try{const{data:ge}=await Le.from("motoboys").select("id").eq("nome","Bruno").single();if(!ge)return ae(!1),!1;let Ke=Le.from("entregas").select("*",{count:"exact",head:!0}).eq("motoboy_id",ge.id).eq("data_entrega",G).eq("periodo","Manh");ce&&(Ke=Ke.neq("id",ce));const{count:Re}=await Ke;let at=Le.from("entregas").select("*",{count:"exact",head:!0}).eq("motoboy_id",ge.id).eq("data_entrega",G).eq("periodo","Tarde");ce&&(at=at.neq("id",ce));const{count:dt}=await at,It=(z==="Manh"?Re===0:dt===0)&&(z==="Manh"?dt===0||dt===1:Re===0||Re===1);return ae(It),It}catch(ge){return console.error("Erro ao verificar entrega nica:",ge),ae(!1),!1}finally{H(!1)}},Ie=()=>{N({...k,enderecos:[...k.enderecos,{logradouro:"",numero:"",complemento:"",bairro:"",cidade:"",cep:"",regiao:"",ponto_referencia:"",observacoes:"",is_principal:!1}]})},nt=G=>{if(k.enderecos.length===1){Se.error(" necessrio pelo menos um endereo");return}const z=k.enderecos.filter((Y,ce)=>ce!==G);N({...k,enderecos:z})},it=(G,z,Y)=>{const ce=[...k.enderecos];ce[G]={...ce[G],[z]:Y},N({...k,enderecos:ce})};w.useEffect(()=>{if(te.cidade&&te.bairro&&ne){const G=tf(te.cidade,te.bairro);console.log(" useEffect detectando regio:",{cidade:te.cidade,bairro:te.bairro,regiaoDetectada:G}),G&&G!==W.regiao&&(console.log(" Atualizando regio para:",G),jt(G))}},[te.cidade,te.bairro,ne]),w.useEffect(()=>{if(!r){Se.error("ID da entrega no fornecido"),t("/");return}async function G(){var z,Y,ce;try{p(!0);const{data:ge,error:Ke}=await Le.from("entregas").select(`
            *,
            cliente:clientes(id, nome, telefone),
            endereco:enderecos(id, endereco_completo, logradouro, numero, complemento, bairro, cidade, cep, regiao),
            motoboy:motoboys(id, nome)
          `).eq("id",r).single();if(Ke)throw Ke;if(!ge){Se.error("Entrega no encontrada"),t("/");return}const Re=ge.endereco_logradouro?{id:ge.endereco_id,logradouro:ge.endereco_logradouro,numero:ge.endereco_numero,complemento:ge.endereco_complemento,bairro:ge.endereco_bairro,cidade:ge.endereco_cidade,cep:ge.endereco_cep,regiao:ge.regiao,endereco_completo:`${ge.endereco_logradouro}, ${ge.endereco_numero}${ge.endereco_complemento?" - "+ge.endereco_complemento:""} - ${ge.endereco_bairro}, ${ge.endereco_cidade}`}:ge.endereco;be({cliente_id:ge.cliente_id,cliente_nome:((z=ge.cliente)==null?void 0:z.nome)||"",numero_requisicao:ge.requisicao,endereco_id:ge.endereco_id||"",endereco:(Re==null?void 0:Re.endereco_completo)||ge.endereco_destino||"",regiao:ge.regiao||"",outra_cidade:ge.outra_cidade||"",data_entrega:ge.data_entrega||"",periodo:ge.periodo||"Tarde",forma_pagamento:ge.forma_pagamento||"",motoboy:((Y=ge.motoboy)==null?void 0:Y.nome)||"",valor_entrega:ge.valor||0,item_geladeira:ge.item_geladeira||!1,buscar_receita:ge.buscar_receita||!1,observacoes:ge.observacoes||"",valor_venda:ge.valor_venda||0}),F(ge.forma_pagamento||"");const at=[];if(ge.cliente&&at.push(ge.cliente),ge.clientes_adicionais&&ge.clientes_adicionais.length>0){const{data:Xe,error:Tt}=await Le.from("clientes").select("id, nome, telefone").in("id",ge.clientes_adicionais);!Tt&&Xe&&at.push(...Xe)}O(at),v("");const dt=[];for(const Xe of at){const{data:Tt,error:It}=await Le.from("enderecos").select("*").eq("cliente_id",Xe.id).order("is_principal",{ascending:!1});if(!It&&Tt){const zr=Tt.map(Hn=>({...Hn,cliente_nome:Xe.nome}));dt.push(...zr)}}if(K(dt),ge.cliente_id&&await _t(ge.cliente_id),ge.endereco_id){const Xe=dt.find(Tt=>Tt.id===ge.endereco_id);Xe?Q(Xe):Re&&Q({...Re,cliente_id:ge.cliente_id,cliente_nome:((ce=ge.cliente)==null?void 0:ce.nome)||""})}p(!1)}catch(ge){console.error("Erro ao carregar entrega:",ge),Se.error("Erro ao carregar dados da entrega"),p(!1)}}G()},[r,t]);const Lt=async G=>{if(v(G),G.length<2){x([]);return}try{const{data:z,error:Y}=await Le.from("clientes").select("*").ilike("nome",`%${G}%`).limit(5);if(Y)throw Y;x(z||[])}catch(z){console.error("Erro ao buscar clientes:",z)}},$t=async G=>{if(P.find(z=>z.id===G.id)){Se.error("Cliente j adicionado!");return}O([...P,G]),P.length===0&&(be({...W,cliente_id:G.id,cliente_nome:G.nome,endereco_id:"",endereco:""}),await _t(G.id));try{const{data:z,error:Y}=await Le.from("enderecos").select("*").eq("cliente_id",G.id).order("is_principal",{ascending:!1});if(!Y&&z){const ce=z.map(ge=>({...ge,cliente_nome:G.nome}));K(ge=>{const Ke=[...ge,...ce];return ge.length===0&&ce.length>0&&Q(ce[0]),Ke})}}catch(z){console.error("Erro ao buscar endereos do cliente:",z)}v(""),x([]),Se.success(`Cliente ${G.nome} adicionado!`)},Pt=G=>{if(P.length===1){Se.error("Deve haver pelo menos um cliente!");return}D.find(ce=>ce.id===(ee==null?void 0:ee.id)&&ce.cliente_id===G)&&$(null),O(P.filter(ce=>ce.id!==G));const Y=D.filter(ce=>ce.cliente_id!==G);if(K(Y),B&&B.cliente_id===G&&Q(null),W.cliente_id===G){const ce=P.find(ge=>ge.id!==G);ce&&(be({...W,cliente_id:ce.id,cliente_nome:ce.nome}),_t(ce.id))}},_t=async G=>{console.log("Buscando endereos para cliente ID:",G);try{const{data:z,error:Y}=await Le.from("enderecos").select("*").eq("cliente_id",G).order("is_principal",{ascending:!1});if(console.log("Endereos encontrados:",z),console.log("Erro ao buscar endereos:",Y),Y)throw Y;R(z||[]),z&&z.length===1&&(console.log("Selecionando endereo automaticamente:",z[0]),Nt(z[0]))}catch(z){console.error("Erro ao buscar endereos:",z),R([])}},Nt=G=>{console.log("Selecionando endereo:",G),Q(G),be(z=>({...z,endereco_id:G.id,endereco:G.endereco_completo||`${G.logradouro}, ${G.numero} - ${G.bairro}`,regiao:G.regiao||""})),we(!1),G.regiao&&jt(G.regiao)},ur=G=>{$({id:G.id,logradouro:G.logradouro||"",numero:G.numero||"",complemento:G.complemento||"",bairro:G.bairro||"",cidade:G.cidade||"",cep:G.cep||"",regiao:G.regiao||""})},xr=(G,z,Y=je)=>{var ce;return G==="OUTRO"||!G||!z?0:z==="Bruno"&&Y?pO[G]||0:((ce=mO[z])==null?void 0:ce[G])||0};w.useEffect(()=>{W.motoboy==="Bruno"&&W.data_entrega&&W.periodo?$e(W.data_entrega,W.periodo,W.motoboy,r):ae(!1)},[W.motoboy,W.data_entrega,W.periodo]),w.useEffect(()=>{if(W.motoboy==="Bruno"&&W.regiao&&W.regiao!=="OUTRO"){const G=xr(W.regiao,W.motoboy,je);be(z=>({...z,valor_entrega:G}))}},[je]);const jt=G=>{console.log("Mudando regio para:",G),be(z=>{const Y=G==="OUTRO"?z.motoboy:gO[G]||"Marcio",ce=xr(G,Y,Y==="Bruno"?je:!1);return console.log("Novo motoboy:",Y,"Novo valor:",ce,"Entrega nica:",je),{...z,regiao:G,motoboy:Y,valor_entrega:ce}})},Vt=G=>{const z=xr(W.regiao,G,G==="Bruno"?je:!1);be({...W,motoboy:G,valor_entrega:z})},kn=()=>{const G={};return P.length===0&&(G.cliente="Adicione pelo menos um cliente"),W.numero_requisicao||(G.requisicao="Nmero de requisio obrigatrio"),B||(G.endereco="Selecione um endereo para a entrega"),W.regiao||(G.regiao="Selecione a regio"),W.regiao==="OUTRO"&&!W.outra_cidade&&(G.outra_cidade="Informe a cidade"),W.data_entrega||(G.data="Data obrigatria"),W.forma_pagamento||(G.pagamento="Forma de pagamento obrigatria"),W.motoboy||(G.motoboy="Selecione o motoboy"),me.includes(W.forma_pagamento)&&(!W.valor_venda||W.valor_venda<=0)&&(G.valor_venda="Informe o valor a cobrar"),q(G),Object.keys(G).length===0},Wn=G=>{if(F(G),be(z=>({...z,forma_pagamento:G})),se(-1),Me(!0),G.length===0)xe(og);else{const z=og.filter(Y=>Y.toLowerCase().includes(G.toLowerCase()));xe(z)}},Or=G=>{le.length!==0&&(G.key==="ArrowDown"?(G.preventDefault(),se(z=>z<le.length-1?z+1:0)):G.key==="ArrowUp"?(G.preventDefault(),se(z=>z>0?z-1:le.length-1)):G.key==="Enter"&&pe>=0?(G.preventDefault(),Hr(le[pe])):G.key==="Escape"&&Me(!1))},Hr=G=>{be(z=>({...z,forma_pagamento:G})),F(G),Me(!1),xe([]),se(-1)},ie=async()=>{if(!k.nome||!k.telefone){Se.error("Preencha pelo menos nome e telefone");return}if(!k.enderecos.some(z=>z.logradouro&&z.numero&&z.cidade)){Se.error("Preencha pelo menos um endereo completo (Rua, Nmero e Cidade)");return}try{const{data:z}=await Le.from("clientes").select("id, nome").ilike("nome",k.nome.trim()).limit(1);if(z&&z.length>0){Se.error(`J existe um cliente cadastrado com o nome "${z[0].nome}"`);return}const{data:Y,error:ce}=await Le.from("clientes").insert([{nome:k.nome,cpf:k.cpf||null,telefone:k.telefone,email:k.email||null}]).select().single();if(ce)throw ce;const ge=k.enderecos.filter(Re=>Re.logradouro&&Re.numero&&Re.cidade).map((Re,at)=>{const dt=`${Re.logradouro}, ${Re.numero}${Re.complemento?" - "+Re.complemento:""} - ${Re.bairro}, ${Re.cidade} - SC`,Xe=tf(Re.cidade,Re.bairro);return{cliente_id:Y.id,logradouro:Re.logradouro,numero:Re.numero,complemento:Re.complemento||null,bairro:Re.bairro||null,cidade:Re.cidade,estado:"SC",cep:Re.cep||null,regiao:Xe||Re.regiao||null,ponto_referencia:Re.ponto_referencia||null,observacoes:Re.observacoes||null,is_principal:at===0,endereco_completo:dt}}),{error:Ke}=await Le.from("enderecos").insert(ge);if(Ke)throw Ke;Se.success("Cliente cadastrado com sucesso!"),$t(Y),N({nome:"",cpf:"",telefone:"",email:"",enderecos:[{logradouro:"",numero:"",complemento:"",bairro:"",cidade:"",cep:"",regiao:"",ponto_referencia:"",observacoes:"",is_principal:!0}]}),E(!1),v(""),x([])}catch(z){console.error("Erro ao cadastrar cliente:",z),Se.error("Erro ao cadastrar cliente: "+z.message)}},Ee=async G=>{var Y;if(G.preventDefault(),!kn()){Se.error("Por favor, preencha todos os campos obrigatrios");return}c(!0);const z=Se.loading("Salvando alteraes...");try{const{data:ce}=await Le.from("entregas").select("id").eq("requisicao",W.numero_requisicao).neq("id",r).maybeSingle();if(ce){Se.error("J existe um romaneio com esse nmero de requisio!",{id:z}),c(!1);return}const ge=B.endereco_completo||`${B.logradouro}, ${B.numero} - ${B.bairro}, ${B.cidade}`,Ke={endereco_logradouro:B.logradouro,endereco_numero:B.numero,endereco_complemento:B.complemento,endereco_bairro:B.bairro,endereco_cidade:B.cidade,endereco_cep:B.cep};let Re=null;if(W.motoboy){const{data:Tt,error:It}=await Le.from("motoboys").select("id").eq("nome",W.motoboy).limit(1);It&&console.error("Erro ao buscar motoboy:",It),Re=((Y=Tt==null?void 0:Tt[0])==null?void 0:Y.id)||null,console.log("Motoboy selecionado:",W.motoboy,"ID encontrado:",Re)}const at=P.slice(1).map(Tt=>Tt.id);console.log("Salvando entrega com:",{motoboy_id:Re,valor:W.valor_entrega,regiao:W.regiao});const{data:dt,error:Xe}=await Le.from("entregas").update({cliente_id:W.cliente_id,endereco_id:B.id,requisicao:W.numero_requisicao,endereco_destino:ge,regiao:W.regiao,outra_cidade:W.regiao==="OUTRO"?W.outra_cidade:null,data_entrega:W.data_entrega,periodo:W.periodo,motoboy_id:Re,forma_pagamento:W.forma_pagamento,valor:W.valor_entrega,item_geladeira:W.item_geladeira,buscar_receita:W.buscar_receita,observacoes:W.observacoes,clientes_adicionais:at,valor_venda:me.includes(W.forma_pagamento)?W.valor_venda:0,...Ke}).eq("id",r).select().single();if(Xe)throw Xe;s.invalidateQueries({queryKey:["entregas"]}),s.invalidateQueries({queryKey:["receitas"]}),Se.success("Romaneio atualizado com sucesso!",{id:z}),setTimeout(()=>t("/"),800)}catch(ce){console.error("Erro ao criar romaneio:",ce),Se.error("Erro ao criar romaneio: "+ce.message,{id:z})}finally{c(!1)}};return u?n.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100",children:[n.jsx("div",{className:"py-8 shadow-sm mb-6",style:{background:"linear-gradient(135deg, #457bba 0%, #890d5d 100%)"},children:n.jsx("div",{className:"max-w-7xl mx-auto px-6",children:n.jsx("h1",{className:"text-4xl font-bold text-white",children:"Editar Romaneio"})})}),n.jsx("div",{className:"max-w-4xl mx-auto px-6",children:n.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-12 text-center",children:n.jsx("div",{className:"text-xl text-slate-600",children:"Carregando dados da entrega..."})})})]}):n.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 pb-8",children:[n.jsx("div",{className:"py-8 shadow-sm mb-6",style:{background:"linear-gradient(135deg, #457bba 0%, #890d5d 100%)"},children:n.jsx("div",{className:"max-w-4xl mx-auto px-6",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("button",{onClick:()=>t(-1),className:"p-2 rounded-lg bg-white/20 hover:bg-white/30 transition-colors",children:n.jsx(vr,{className:"w-6 h-6 text-white"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-4xl font-bold text-white",children:"Editar Romaneio"}),n.jsx("p",{className:"text-base text-white opacity-90 mt-1",children:"Edite as informaes da ordem de entrega"})]})]})})}),n.jsx("div",{className:"max-w-4xl mx-auto px-6",children:n.jsxs("form",{onSubmit:Ee,children:[n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6 mb-6",children:[n.jsx("h3",{className:"text-lg font-bold text-slate-900 mb-6",style:{color:"#376295"},children:"Informaes do Romaneio"}),n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Cliente(s) *"}),n.jsx("input",{type:"text",value:m,onChange:G=>Lt(G.target.value),placeholder:"Buscar cliente por nome, CPF ou telefone...",className:"w-full px-4 py-3 border rounded-lg text-sm focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-100",style:{borderColor:_e.cliente?"#ef4444":"#cbd5e1"}}),y.length>0&&n.jsx("div",{className:"absolute z-50 bg-white mt-1 max-h-[200px] overflow-y-auto shadow-lg",style:{border:"1px solid #e2e8f0",borderRadius:"0.5rem"},children:y.map((G,z)=>n.jsxs("div",{onClick:()=>$t(G),className:"p-3 cursor-pointer transition-colors",style:{borderBottom:z<y.length-1?"1px solid #e2e8f0":"none"},onMouseEnter:Y=>Y.target.style.backgroundColor="#e3f2fd",onMouseLeave:Y=>Y.target.style.backgroundColor="white",children:[n.jsx("p",{className:"font-semibold text-slate-900 m-0",children:G.nome}),n.jsx("p",{className:"text-xs text-slate-600 m-0",children:G.telefone})]},G.id))}),m.length>=2&&y.length===0&&n.jsx("button",{type:"button",onClick:()=>E(!0),className:"mt-2 px-4 py-2 rounded-lg font-semibold text-sm",style:{backgroundColor:"#376295",color:"white"},children:"+ Cadastrar Novo Cliente"}),_e.cliente&&n.jsx("p",{className:"text-red-600 text-xs mt-1",children:_e.cliente})]}),P.length>0&&n.jsxs("div",{className:"mb-4",children:[n.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:["Clientes Selecionados (",P.length,")"]}),n.jsx("div",{className:"flex flex-wrap gap-2",children:P.map((G,z)=>n.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 bg-blue-50 rounded-full text-sm",children:[n.jsxs("span",{className:"font-medium text-slate-900",children:[G.nome,z===0&&n.jsx("span",{className:"ml-1 text-xs text-slate-500",children:"(Principal)"})]}),n.jsx("button",{type:"button",onClick:()=>Pt(G.id),className:"text-red-600 hover:text-red-800 font-bold text-lg leading-none",title:"Remover cliente",children:""})]},G.id))})]}),P.length>0&&n.jsxs("div",{style:{marginBottom:"1rem"},children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"600",color:he.colors.text,marginBottom:"0.75rem"},children:"Endereo de Entrega *"}),P.map(G=>{const z=D.filter(Y=>Y.cliente_id===G.id);return n.jsxs("div",{style:{marginBottom:"1rem",padding:"1rem",background:he.colors.background,borderRadius:"0.5rem",border:`1px solid ${he.colors.border}`},children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.75rem"},children:[n.jsx("h4",{style:{margin:0,fontSize:"0.875rem",fontWeight:"600",color:he.colors.primary},children:G.nome}),n.jsx("button",{type:"button",onClick:()=>we(ne===G.id?null:G.id),style:{padding:"0.25rem 0.75rem",background:"white",color:he.colors.primary,border:`1px solid ${he.colors.primary}`,borderRadius:"0.25rem",fontSize:"0.75rem",cursor:"pointer"},children:ne===G.id?"Cancelar":"+ Novo Endereo"})]}),ne===G.id&&n.jsxs("div",{style:{padding:"1rem",background:"white",borderRadius:"0.5rem",border:`1px solid ${he.colors.border}`,marginBottom:"0.75rem"},children:[n.jsx("h5",{style:{fontSize:"0.8rem",fontWeight:"600",marginBottom:"0.75rem"},children:"Cadastrar Novo Endereo"}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"2fr 1fr",gap:"0.5rem",marginBottom:"0.5rem"},children:[n.jsx("input",{type:"text",value:te.logradouro,onChange:Y=>U({...te,logradouro:Y.target.value}),placeholder:"Rua *",style:{padding:"0.5rem",border:`1px solid ${he.colors.border}`,borderRadius:"0.5rem",fontSize:"0.875rem"}}),n.jsx("input",{type:"text",value:te.numero,onChange:Y=>U({...te,numero:Y.target.value}),placeholder:"Nmero *",style:{padding:"0.5rem",border:`1px solid ${he.colors.border}`,borderRadius:"0.5rem",fontSize:"0.875rem"}})]}),n.jsx("input",{type:"text",value:te.complemento,onChange:Y=>U({...te,complemento:Y.target.value}),placeholder:"Complemento",style:{width:"100%",padding:"0.5rem",border:`1px solid ${he.colors.border}`,borderRadius:"0.5rem",fontSize:"0.875rem",marginBottom:"0.5rem"}}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"0.5rem",marginBottom:"0.5rem"},children:[n.jsx("input",{type:"text",value:te.bairro,onChange:Y=>U({...te,bairro:Y.target.value}),placeholder:"Bairro *",list:"bairros-sugestoes",style:{padding:"0.5rem",border:`1px solid ${he.colors.border}`,borderRadius:"0.5rem",fontSize:"0.875rem"}}),n.jsx("input",{type:"text",value:te.cidade,onChange:Y=>{const ce=xb(Y.target.value);U({...te,cidade:ce})},placeholder:"Cidade *",list:"cidades-sugestoes",style:{padding:"0.5rem",border:`1px solid ${he.colors.border}`,borderRadius:"0.5rem",fontSize:"0.875rem"}})]}),n.jsx("input",{type:"text",value:te.cep,onChange:Y=>U({...te,cep:Y.target.value}),placeholder:"CEP",style:{width:"100%",padding:"0.5rem",border:`1px solid ${he.colors.border}`,borderRadius:"0.5rem",fontSize:"0.875rem",marginBottom:"0.5rem"}}),n.jsx("textarea",{value:te.observacoes,onChange:Y=>U({...te,observacoes:Y.target.value}),placeholder:"Observaes (opcional)",rows:2,style:{width:"100%",padding:"0.5rem",border:`1px solid ${he.colors.border}`,borderRadius:"0.5rem",fontSize:"0.875rem",marginBottom:"0.75rem",resize:"vertical"}}),n.jsx("button",{type:"button",onClick:async()=>{if(!te.logradouro||!te.numero||!te.bairro||!te.cidade){Se.error("Preencha todos os campos obrigatrios");return}try{const Y=`${te.logradouro}, ${te.numero}${te.complemento?" - "+te.complemento:""} - ${te.bairro}, ${te.cidade} - SC`,ce=tf(te.cidade,te.bairro),{data:ge,error:Ke}=await Le.from("enderecos").insert([{cliente_id:G.id,logradouro:te.logradouro,numero:te.numero,complemento:te.complemento||null,bairro:te.bairro,cidade:te.cidade,estado:"SC",cep:te.cep||null,regiao:ce||"",is_principal:!1,endereco_completo:Y,observacoes:te.observacoes||null}]).select().single();if(Ke)throw Ke;const Re={...ge,cliente_nome:G.nome};K([...D,Re]),Q(Re),ce&&jt(ce),U({logradouro:"",numero:"",complemento:"",bairro:"",cidade:"",cep:"",observacoes:""}),we(null),Se.success("Endereo cadastrado com sucesso!")}catch(Y){console.error("Erro ao salvar endereo:",Y),Se.error("Erro ao salvar endereo")}},style:{padding:"0.5rem 1rem",background:he.colors.primary,color:"white",border:"none",borderRadius:"0.5rem",fontSize:"0.875rem",cursor:"pointer"},children:"Salvar Endereo"})]}),z.length>0?z.map(Y=>(ee==null?void 0:ee.id)===Y.id?n.jsxs("div",{style:{padding:"0.75rem",border:`2px solid ${he.colors.primary}`,borderRadius:"0.5rem",marginBottom:"0.5rem",background:"white"},children:[n.jsx("h5",{style:{fontSize:"0.8rem",fontWeight:"600",marginBottom:"0.75rem"},children:"Editando Endereo"}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"2fr 1fr",gap:"0.5rem",marginBottom:"0.5rem"},children:[n.jsx("input",{type:"text",value:ee.logradouro,onChange:ce=>$({...ee,logradouro:ce.target.value}),placeholder:"Rua *",style:{padding:"0.5rem",border:`1px solid ${he.colors.border}`,borderRadius:"0.5rem",fontSize:"0.875rem"}}),n.jsx("input",{type:"text",value:ee.numero,onChange:ce=>$({...ee,numero:ce.target.value}),placeholder:"Nmero *",style:{padding:"0.5rem",border:`1px solid ${he.colors.border}`,borderRadius:"0.5rem",fontSize:"0.875rem"}})]}),n.jsx("input",{type:"text",value:ee.complemento,onChange:ce=>$({...ee,complemento:ce.target.value}),placeholder:"Complemento",style:{width:"100%",padding:"0.5rem",border:`1px solid ${he.colors.border}`,borderRadius:"0.5rem",fontSize:"0.875rem",marginBottom:"0.5rem"}}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"0.5rem",marginBottom:"0.5rem"},children:[n.jsx("input",{type:"text",value:ee.bairro,onChange:ce=>$({...ee,bairro:ce.target.value}),placeholder:"Bairro *",list:"bairros-sugestoes-edit",style:{padding:"0.5rem",border:`1px solid ${he.colors.border}`,borderRadius:"0.5rem",fontSize:"0.875rem"}}),n.jsx("input",{type:"text",value:ee.cidade,onChange:ce=>{const ge=xb(ce.target.value);$({...ee,cidade:ge})},placeholder:"Cidade *",list:"cidades-sugestoes-edit",style:{padding:"0.5rem",border:`1px solid ${he.colors.border}`,borderRadius:"0.5rem",fontSize:"0.875rem"}})]}),n.jsx("input",{type:"text",value:ee.cep,onChange:ce=>$({...ee,cep:ce.target.value}),placeholder:"CEP",style:{width:"100%",padding:"0.5rem",border:`1px solid ${he.colors.border}`,borderRadius:"0.5rem",fontSize:"0.875rem",marginBottom:"0.75rem"}}),n.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[n.jsx("button",{type:"button",onClick:async()=>{if(!ee.logradouro||!ee.numero||!ee.bairro||!ee.cidade){Se.error("Preencha todos os campos obrigatrios");return}try{const ce=`${ee.logradouro}, ${ee.numero}${ee.complemento?" - "+ee.complemento:""} - ${ee.bairro}, ${ee.cidade} - SC`,ge=tf(ee.cidade,ee.bairro),{error:Ke}=await Le.from("enderecos").update({logradouro:ee.logradouro,numero:ee.numero,complemento:ee.complemento||null,bairro:ee.bairro,cidade:ee.cidade,cep:ee.cep||null,regiao:ge||ee.regiao,endereco_completo:ce}).eq("id",ee.id);if(Ke)throw Ke;const Re={...Y,...ee,endereco_completo:ce,regiao:ge||ee.regiao};K(D.map(at=>at.id===ee.id?Re:at)),(B==null?void 0:B.id)===ee.id&&(Q(Re),ge&&jt(ge)),$(null),Se.success("Endereo atualizado com sucesso!")}catch(ce){console.error("Erro ao atualizar endereo:",ce),Se.error("Erro ao atualizar endereo")}},style:{flex:1,padding:"0.5rem",background:he.colors.primary,color:"white",border:"none",borderRadius:"0.5rem",fontSize:"0.875rem",cursor:"pointer"},children:"Salvar"}),n.jsx("button",{type:"button",onClick:()=>$(null),style:{flex:1,padding:"0.5rem",background:"white",color:he.colors.text,border:`1px solid ${he.colors.border}`,borderRadius:"0.5rem",fontSize:"0.875rem",cursor:"pointer"},children:"Cancelar"})]})]},Y.id):n.jsx("div",{style:{padding:"0.75rem",border:`2px solid ${(B==null?void 0:B.id)===Y.id?he.colors.primary:he.colors.border}`,borderRadius:"0.5rem",marginBottom:"0.5rem",background:(B==null?void 0:B.id)===Y.id?"#f0f9ff":"white",cursor:"pointer"},onClick:()=>Nt(Y),children:n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"start"},children:[n.jsxs("div",{style:{flex:1,display:"flex",alignItems:"center",gap:"0.5rem"},children:[n.jsx("input",{type:"radio",name:"endereco",checked:(B==null?void 0:B.id)===Y.id,onChange:()=>Nt(Y),style:{cursor:"pointer"}}),n.jsxs("div",{children:[n.jsx("p",{style:{margin:0,fontWeight:"500",fontSize:"0.875rem"},children:Y.endereco_completo||`${Y.logradouro}, ${Y.numero} - ${Y.bairro}, ${Y.cidade}`}),Y.regiao&&n.jsxs("p",{style:{margin:0,fontSize:"0.75rem",color:he.colors.textLight},children:["Regio: ",Y.regiao]})]})]}),n.jsx("button",{type:"button",onClick:ce=>{ce.stopPropagation(),ur(Y)},style:{padding:"0.25rem 0.5rem",background:"white",color:he.colors.primary,border:`1px solid ${he.colors.primary}`,borderRadius:"0.25rem",fontSize:"0.75rem",cursor:"pointer"},children:"Editar"})]})},Y.id)):n.jsx("p",{style:{color:he.colors.textLight,fontSize:"0.875rem",fontStyle:"italic",margin:0},children:'Nenhum endereo cadastrado. Clique em "+ Novo Endereo" para adicionar.'})]},G.id)}),_e.endereco&&n.jsx("p",{style:{color:he.colors.danger,fontSize:"0.75rem",marginTop:"0.25rem"},children:_e.endereco}),n.jsxs("datalist",{id:"bairros-sugestoes",children:[n.jsx("option",{value:"Centro"}),n.jsx("option",{value:"Estados"}),n.jsx("option",{value:"Pioneiros"}),n.jsx("option",{value:"Nova Esperana"}),n.jsx("option",{value:"Naes"}),n.jsx("option",{value:"Barra"}),n.jsx("option",{value:"Barra Sul"}),n.jsx("option",{value:"Estaleiro"}),n.jsx("option",{value:"Estaleirinho"}),n.jsx("option",{value:"Taquaras"}),n.jsx("option",{value:"Laranjeiras"}),n.jsx("option",{value:"Praia dos Amores"}),n.jsx("option",{value:"Praia Brava"}),n.jsx("option",{value:"Tabuleiro"}),n.jsx("option",{value:"Monte Alegre"}),n.jsx("option",{value:"Vila Real"}),n.jsx("option",{value:"Espinheiros"})]}),n.jsxs("datalist",{id:"cidades-sugestoes",children:[n.jsx("option",{value:"Balnerio Cambori"}),n.jsx("option",{value:"Cambori"}),n.jsx("option",{value:"Itaja"}),n.jsx("option",{value:"Itapema"}),n.jsx("option",{value:"Navegantes"}),n.jsx("option",{value:"Penha"}),n.jsx("option",{value:"Porto Belo"}),n.jsx("option",{value:"Tijucas"}),n.jsx("option",{value:"Piarras"}),n.jsx("option",{value:"Bombinhas"})]}),n.jsxs("datalist",{id:"bairros-sugestoes-edit",children:[n.jsx("option",{value:"Centro"}),n.jsx("option",{value:"Estados"}),n.jsx("option",{value:"Pioneiros"}),n.jsx("option",{value:"Nova Esperana"}),n.jsx("option",{value:"Naes"}),n.jsx("option",{value:"Barra"}),n.jsx("option",{value:"Barra Sul"}),n.jsx("option",{value:"Estaleiro"}),n.jsx("option",{value:"Estaleirinho"}),n.jsx("option",{value:"Taquaras"}),n.jsx("option",{value:"Laranjeiras"}),n.jsx("option",{value:"Praia dos Amores"}),n.jsx("option",{value:"Praia Brava"}),n.jsx("option",{value:"Tabuleiro"}),n.jsx("option",{value:"Monte Alegre"}),n.jsx("option",{value:"Vila Real"}),n.jsx("option",{value:"Espinheiros"})]}),n.jsxs("datalist",{id:"cidades-sugestoes-edit",children:[n.jsx("option",{value:"Balnerio Cambori"}),n.jsx("option",{value:"Cambori"}),n.jsx("option",{value:"Itaja"}),n.jsx("option",{value:"Itapema"}),n.jsx("option",{value:"Navegantes"}),n.jsx("option",{value:"Penha"}),n.jsx("option",{value:"Porto Belo"}),n.jsx("option",{value:"Tijucas"}),n.jsx("option",{value:"Piarras"}),n.jsx("option",{value:"Bombinhas"})]})]}),n.jsxs("div",{style:{marginBottom:"1rem"},children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:he.colors.text,marginBottom:"0.5rem"},children:"Nmero da Requisio *"}),n.jsx("input",{type:"text",value:W.numero_requisicao,onChange:G=>be({...W,numero_requisicao:G.target.value}),placeholder:"Ex: REQ-001",style:{width:"100%",padding:"0.75rem",border:`1px solid ${_e.requisicao?he.colors.danger:he.colors.border}`,borderRadius:"0.5rem",fontSize:"0.875rem"}}),_e.requisicao&&n.jsx("p",{style:{color:he.colors.danger,fontSize:"0.75rem",marginTop:"0.25rem"},children:_e.requisicao})]}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem",marginBottom:"1rem"},children:[n.jsx(kt,{label:"Cidade/Regio *",options:[{value:"",label:"Selecione a regio"},...gb.map(G=>({value:G,label:G}))],value:W.regiao,onChange:jt,placeholder:"Selecione a regio"}),n.jsx("div",{children:n.jsx(cl,{label:"Data de Entrega *",value:W.data_entrega,onChange:G=>be({...W,data_entrega:G}),placeholder:"Selecione a data"})})]}),W.regiao==="OUTRO"&&n.jsxs("div",{style:{marginBottom:"1rem"},children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:he.colors.text,marginBottom:"0.5rem"},children:"Nome da Cidade *"}),n.jsx("input",{type:"text",value:W.outra_cidade,onChange:G=>be({...W,outra_cidade:G.target.value}),placeholder:"Digite o nome da cidade",style:{width:"100%",padding:"0.75rem",border:`1px solid ${_e.outra_cidade?he.colors.danger:he.colors.border}`,borderRadius:"0.5rem",fontSize:"0.875rem"}})]}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem",marginBottom:"1rem"},children:[n.jsx(kt,{label:"Perodo de Entrega *",options:[{value:"Manh",label:"Manh"},{value:"Tarde",label:"Tarde"}],value:W.periodo,onChange:G=>be({...W,periodo:G}),placeholder:"Selecione o perodo"}),n.jsxs("div",{style:{position:"relative"},children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:he.colors.text,marginBottom:"0.5rem"},children:"Forma de Pagamento *"}),n.jsx("input",{type:"text",value:V,onChange:G=>Wn(G.target.value),onKeyDown:Or,onFocus:()=>{Me(!0),le.length===0&&xe(og)},onBlur:()=>{setTimeout(()=>Me(!1),200)},placeholder:"Digite ou selecione a forma de pagamento...",style:{width:"100%",padding:"0.75rem",border:`1px solid ${_e.pagamento?he.colors.danger:he.colors.border}`,borderRadius:"0.5rem",fontSize:"0.875rem"}}),Pe&&le.length>0&&n.jsx("div",{style:{position:"absolute",top:"100%",left:0,right:0,background:"white",border:`1px solid ${he.colors.border}`,borderRadius:"0.5rem",marginTop:"0.25rem",maxHeight:"200px",overflowY:"auto",boxShadow:"0 4px 6px rgba(0,0,0,0.1)",zIndex:1e3},children:le.map((G,z)=>n.jsx("div",{onClick:()=>Hr(G),onMouseEnter:()=>se(z),style:{padding:"0.75rem",cursor:"pointer",borderBottom:z<le.length-1?`1px solid ${he.colors.border}`:"none",background:z===pe?"#e3f2fd":"white",transition:"background 0.15s"},children:n.jsx("p",{style:{margin:0,fontSize:"0.875rem"},children:G})},G))})]})]}),me.includes(W.forma_pagamento)&&n.jsxs("div",{style:{marginBottom:"1rem",padding:"1rem",background:"#e8f5e9",border:"2px solid #4caf50",borderRadius:"0.5rem"},children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"600",color:"#2e7d32",marginBottom:"0.5rem"},children:"Valor a Cobrar (R$) *"}),n.jsx("input",{type:"number",step:"0.01",min:"0",value:W.valor_venda||"",onChange:G=>be({...W,valor_venda:parseFloat(G.target.value)||0}),placeholder:"Ex: 150.00",style:{width:"100%",padding:"0.75rem",border:`2px solid ${_e.valor_venda?he.colors.danger:"#4caf50"}`,borderRadius:"0.5rem",fontSize:"0.875rem",background:"white"}}),_e.valor_venda&&n.jsx("p",{style:{color:he.colors.danger,fontSize:"0.75rem",marginTop:"0.25rem"},children:_e.valor_venda}),!_e.valor_venda&&W.valor_venda>0&&n.jsxs("div",{style:{marginTop:"0.75rem",padding:"0.75rem",background:"#1b5e20",borderRadius:"0.5rem",textAlign:"center"},children:[n.jsx("p",{style:{margin:0,color:"white",fontSize:"0.875rem",fontWeight:"500"},children:W.forma_pagamento==="Receber Mquina"?"Receber na Mquina:":W.forma_pagamento==="Pagar MP"?"Cobrar via MP:":"Valor a Receber:"}),n.jsxs("p",{style:{margin:"0.25rem 0 0 0",color:"white",fontSize:"1.5rem",fontWeight:"700"},children:["R$ ",W.valor_venda.toFixed(2).replace(".",",")]})]}),!W.valor_venda&&n.jsx("p",{style:{fontSize:"0.75rem",color:"#2e7d32",marginTop:"0.25rem",fontWeight:"500"},children:"Informe o valor a ser cobrado nesta entrega."})]}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem",marginBottom:"1rem"},children:[n.jsxs("div",{children:[n.jsx(kt,{label:"Motoboy *",options:[{value:"",label:"Selecione o motoboy"},{value:"Marcio",label:"Marcio"},{value:"Bruno",label:"Bruno"}],value:W.motoboy,onChange:Vt,placeholder:"Selecione o motoboy"}),n.jsx("p",{style:{fontSize:"0.75rem",color:he.colors.textLight,marginTop:"0.25rem"},children:"Valor calculado automaticamente"})]}),n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:he.colors.text,marginBottom:"0.5rem"},children:"Valor da Entrega (R$)"}),n.jsx("input",{type:"number",step:"0.01",value:W.valor_entrega,onChange:G=>be({...W,valor_entrega:parseFloat(G.target.value)||0}),style:{width:"100%",padding:"0.75rem",border:`1px solid ${he.colors.border}`,borderRadius:"0.5rem",fontSize:"0.875rem",fontWeight:"600",color:he.colors.primary}})]})]}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem",marginBottom:"1rem"},children:[n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"600",color:he.colors.text,marginBottom:"0.5rem"},children:"Item de Geladeira? *"}),n.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[n.jsx("button",{type:"button",onClick:()=>be(G=>({...G,item_geladeira:!0})),style:{padding:"0.5rem 1.5rem",border:W.item_geladeira?"2px solid #0891b2":"2px solid #e2e8f0",borderRadius:"0.5rem",background:W.item_geladeira?"#cffafe":"white",color:W.item_geladeira?"#0891b2":"#64748b",fontWeight:W.item_geladeira?"600":"400",fontSize:"0.875rem",cursor:"pointer",transition:"all 0.15s"},children:"Sim"}),n.jsx("button",{type:"button",onClick:()=>be(G=>({...G,item_geladeira:!1})),style:{padding:"0.5rem 1.5rem",border:W.item_geladeira?"2px solid #e2e8f0":"2px solid #64748b",borderRadius:"0.5rem",background:W.item_geladeira?"white":"#f1f5f9",color:W.item_geladeira?"#64748b":"#1e293b",fontWeight:W.item_geladeira?"400":"600",fontSize:"0.875rem",cursor:"pointer",transition:"all 0.15s"},children:"No"})]})]}),n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"600",color:he.colors.text,marginBottom:"0.5rem"},children:"Reter Receita? *"}),n.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[n.jsx("button",{type:"button",onClick:()=>be(G=>({...G,buscar_receita:!0})),style:{padding:"0.5rem 1.5rem",border:W.buscar_receita?"2px solid #f97316":"2px solid #e2e8f0",borderRadius:"0.5rem",background:W.buscar_receita?"#ffedd5":"white",color:W.buscar_receita?"#c2410c":"#64748b",fontWeight:W.buscar_receita?"600":"400",fontSize:"0.875rem",cursor:"pointer",transition:"all 0.15s"},children:"Sim"}),n.jsx("button",{type:"button",onClick:()=>be(G=>({...G,buscar_receita:!1})),style:{padding:"0.5rem 1.5rem",border:W.buscar_receita?"2px solid #e2e8f0":"2px solid #64748b",borderRadius:"0.5rem",background:W.buscar_receita?"white":"#f1f5f9",color:W.buscar_receita?"#64748b":"#1e293b",fontWeight:W.buscar_receita?"400":"600",fontSize:"0.875rem",cursor:"pointer",transition:"all 0.15s"},children:"No"})]})]})]}),n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:he.colors.text,marginBottom:"0.5rem"},children:"Observaes"}),n.jsx("textarea",{value:W.observacoes,onChange:G=>be({...W,observacoes:G.target.value}),placeholder:"Informaes adicionais sobre a entrega",rows:4,style:{width:"100%",padding:"0.75rem",border:`1px solid ${he.colors.border}`,borderRadius:"0.5rem",fontSize:"0.875rem",resize:"vertical"}})]})]}),n.jsxs("div",{className:"flex gap-4 justify-end mt-6",children:[n.jsx("button",{type:"button",onClick:()=>t("/"),className:"px-6 py-3 bg-white border border-slate-300 rounded-lg font-semibold text-sm text-slate-700 hover:bg-slate-50 transition-colors",children:"Cancelar"}),n.jsx("button",{type:"submit",disabled:l,className:"px-6 py-3 rounded-lg font-semibold text-sm text-white transition-colors",style:{backgroundColor:l?"#94a3b8":"#376295",cursor:l?"not-allowed":"pointer"},children:l?"Salvando...":"Salvar Alteraes"})]})]})}),n.jsx(us,{open:S,onOpenChange:E,children:n.jsxs(Oo,{style:{maxWidth:"900px"},children:[n.jsx(Mo,{children:n.jsx(Lo,{style:{color:"#376295"},children:"Cadastrar Novo Cliente"})}),n.jsxs("div",{className:"space-y-4 max-h-[70vh] overflow-y-auto px-1",children:[n.jsxs("div",{className:"bg-slate-50 p-4 rounded-lg",children:[n.jsx("h3",{className:"text-sm font-semibold text-slate-700 mb-3",children:"Dados do Cliente"}),n.jsxs("div",{className:"mb-3",children:[n.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Nome Completo *"}),n.jsx("input",{type:"text",value:k.nome,onChange:G=>N({...k,nome:G.target.value}),placeholder:"Digite o nome completo",className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-100"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"CPF"}),n.jsx("input",{type:"text",value:k.cpf,onChange:G=>N({...k,cpf:G.target.value}),placeholder:"000.000.000-00",className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-100"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Telefone *"}),n.jsx("input",{type:"text",value:k.telefone,onChange:G=>N({...k,telefone:G.target.value}),placeholder:"(00) 00000-0000",className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-100"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"E-mail"}),n.jsx("input",{type:"email",value:k.email,onChange:G=>N({...k,email:G.target.value}),placeholder:"email@exemplo.com",className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-100"})]})]}),n.jsxs("div",{className:"bg-slate-50 p-4 rounded-lg",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsx("h3",{className:"text-sm font-semibold text-slate-700",children:"Endereos *"}),n.jsx("button",{type:"button",onClick:Ie,className:"px-3 py-1 text-xs font-medium rounded-lg transition-colors",style:{backgroundColor:"#376295",color:"white"},children:"+ Adicionar Endereo"})]}),k.enderecos.map((G,z)=>n.jsxs("div",{className:"bg-white p-4 rounded-lg mb-3 border border-slate-200",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsxs("h4",{className:"text-xs font-semibold text-slate-600",children:["Endereo ",z+1," ",z===0&&"(Principal)"]}),k.enderecos.length>1&&n.jsx("button",{type:"button",onClick:()=>nt(z),className:"text-red-600 hover:text-red-800 text-xs font-medium",children:"Remover"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-slate-700 mb-1",children:"CEP"}),n.jsx("input",{type:"text",value:G.cep,onChange:Y=>it(z,"cep",Y.target.value),placeholder:"00000-000",className:"w-full px-3 py-2 border border-slate-300 rounded-lg text-sm focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-100"})]}),n.jsx(kt,{label:"Regio",options:[{value:"",label:"Selecione"},...gb.map(Y=>({value:Y,label:Y}))],value:G.regiao,onChange:Y=>it(z,"regiao",Y),placeholder:"Selecione"})]}),n.jsxs("div",{className:"grid grid-cols-3 gap-3 mb-3",children:[n.jsxs("div",{className:"col-span-2",children:[n.jsx("label",{className:"block text-xs font-medium text-slate-700 mb-1",children:"Rua/Logradouro *"}),n.jsx("input",{type:"text",value:G.logradouro,onChange:Y=>it(z,"logradouro",Y.target.value),placeholder:"Nome da rua",className:"w-full px-3 py-2 border border-slate-300 rounded-lg text-sm focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-100"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-slate-700 mb-1",children:"Nmero *"}),n.jsx("input",{type:"text",value:G.numero,onChange:Y=>it(z,"numero",Y.target.value),placeholder:"123",className:"w-full px-3 py-2 border border-slate-300 rounded-lg text-sm focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-100"})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-slate-700 mb-1",children:"Bairro"}),n.jsx("input",{type:"text",value:G.bairro,onChange:Y=>it(z,"bairro",Y.target.value),placeholder:"Nome do bairro",className:"w-full px-3 py-2 border border-slate-300 rounded-lg text-sm focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-100"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-slate-700 mb-1",children:"Cidade *"}),n.jsx("input",{type:"text",value:G.cidade,onChange:Y=>it(z,"cidade",Y.target.value),placeholder:"Nome da cidade",className:"w-full px-3 py-2 border border-slate-300 rounded-lg text-sm focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-100"})]})]}),n.jsxs("div",{className:"mb-3",children:[n.jsx("label",{className:"block text-xs font-medium text-slate-700 mb-1",children:"Complemento"}),n.jsx("input",{type:"text",value:G.complemento,onChange:Y=>it(z,"complemento",Y.target.value),placeholder:"Apto, Bloco, etc.",className:"w-full px-3 py-2 border border-slate-300 rounded-lg text-sm focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-100"})]}),n.jsxs("div",{className:"mb-3",children:[n.jsx("label",{className:"block text-xs font-medium text-slate-700 mb-1",children:"Ponto de Referncia"}),n.jsx("input",{type:"text",value:G.ponto_referencia,onChange:Y=>it(z,"ponto_referencia",Y.target.value),placeholder:"Prximo a...",className:"w-full px-3 py-2 border border-slate-300 rounded-lg text-sm focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-100"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-slate-700 mb-1",children:"Observaes"}),n.jsx("textarea",{value:G.observacoes,onChange:Y=>it(z,"observacoes",Y.target.value),placeholder:"Informaes adicionais",rows:2,className:"w-full px-3 py-2 border border-slate-300 rounded-lg text-sm focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-100"})]})]},z))]}),n.jsxs("div",{className:"flex gap-3 pt-4",children:[n.jsx("button",{type:"button",onClick:()=>{E(!1),N({nome:"",cpf:"",telefone:"",email:"",enderecos:[{logradouro:"",numero:"",complemento:"",bairro:"",cidade:"",cep:"",regiao:"",ponto_referencia:"",observacoes:"",is_principal:!0}]})},className:"flex-1 px-4 py-2 border border-slate-300 rounded-lg font-medium text-slate-700 hover:bg-slate-50 transition-colors",children:"Cancelar"}),n.jsx("button",{type:"button",onClick:ie,className:"flex-1 px-4 py-2 rounded-lg font-medium text-white transition-colors",style:{backgroundColor:"#376295"},children:"Cadastrar Cliente"})]})]})]})})]})}function xO({romaneio:t}){var l,c,u,p,m,v,y,x,S,E,k,N;if(!t)return null;const e=new Date;e.toLocaleString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"});const r=e.toLocaleString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"}),s=P=>P?new Date(P+"T12:00:00").toLocaleDateString("pt-BR"):"-";return n.jsxs("div",{className:"print-only",children:[n.jsx("style",{children:`
        /* Esconder na tela */
        @media screen {
          .print-only {
            display: none !important;
          }
        }

        @media print {
          @page {
            margin: 5mm;
            size: auto;
          }
          html, body {
            height: auto !important;
            overflow: visible !important;
          }
          body * {
            visibility: hidden;
          }
          .print-only, .print-only * {
            visibility: visible !important;
          }
          .print-only {
            display: block !important;
            position: absolute !important;
            top: 0 !important;
            left: 0 !important;
            width: 100% !important;
            background: white !important;
          }
          .no-print {
            display: none !important;
          }
        }

        .print-page {
          font-family: Arial, sans-serif;
          font-size: 12px;
          color: #000;
          padding: 20px;
          max-width: 800px;
          margin: 0 auto;
          position: relative;
        }

        .print-header-top {
          display: flex;
          justify-content: space-between;
          font-size: 11px;
          color: #000;
          padding-bottom: 10px;
          border-bottom: 1px solid #000;
          margin-bottom: 20px;
        }

        .print-title {
          text-align: center;
          margin-bottom: 15px;
          display: flex;
          flex-direction: column;
          align-items: center;
          justify-content: center;
          width: 100%;
        }

        .print-logo-img {
          width: 150px;
          height: auto;
          margin-bottom: 10px;
        }

        .print-title h1 {
          font-size: 18px;
          font-weight: bold;
          margin: 0;
          color: #000;
        }

        .print-box {
          border: 1px solid #000;
          padding: 12px;
          margin-bottom: 10px;
        }

        .print-row {
          display: flex;
          justify-content: space-between;
          margin-bottom: 5px;
          color: #000;
        }

        .print-row:last-child {
          margin-bottom: 0;
        }

        .print-label {
          color: #000;
          font-size: 11px;
        }

        .print-value {
          text-align: right;
        }

        .print-value-bold {
          font-weight: bold;
          text-align: right;
        }

        .print-grid {
          display: flex;
          gap: 10px;
          margin-bottom: 10px;
        }

        .print-grid-col {
          flex: 1;
          border: 1px solid #000;
          padding: 12px 15px;
        }

        .print-section-title {
          font-weight: bold;
          font-size: 11px;
          margin-bottom: 10px;
          padding-bottom: 6px;
          border-bottom: 1px solid #000;
          color: #000;
        }

        .print-section-row {
          display: flex;
          justify-content: space-between;
          margin-bottom: 6px;
          font-size: 11px;
          color: #000;
        }

        .print-section-row:last-child {
          margin-bottom: 0;
        }

        .print-section-label {
          color: #000;
        }

        .print-section-value {
          text-align: right;
          color: #000;
        }

        .print-endereco-main {
          font-weight: bold;
          font-size: 12px;
          margin-bottom: 3px;
          color: #000;
        }

        .print-endereco-line {
          font-size: 11px;
          margin-bottom: 2px;
          color: #000;
        }

        .print-endereco-ref {
          font-size: 11px;
          color: #000;
          font-style: italic;
          margin-top: 3px;
        }

        .print-endereco-ac {
          font-size: 11px;
          margin-top: 3px;
          color: #000;
        }

        .print-geladeira {
          display: flex;
          align-items: center;
          justify-content: center;
          gap: 12px;
          padding: 12px 15px;
          margin-bottom: 10px;
          font-size: 14px;
          font-weight: bold;
          text-transform: uppercase;
          border: 2px solid #000;
          background-color: #fff;
          color: #000;
        }

        .print-geladeira-icon {
          font-size: 20px;
        }

        .print-receita {
          display: flex;
          align-items: center;
          justify-content: center;
          gap: 12px;
          padding: 12px 15px;
          margin-bottom: 10px;
          font-size: 14px;
          font-weight: bold;
          text-transform: uppercase;
          border: 2px solid #000;
          background-color: #fff;
          color: #000;
        }

        .print-receita-icon {
          font-size: 20px;
        }

        .print-valor-box {
          background-color: #fff;
          border: 2px solid #000;
          padding: 10px;
          margin-bottom: 10px;
          text-align: center;
          font-size: 14px;
          font-weight: bold;
          color: #000;
        }

        .print-valor-icon {
          margin-right: 8px;
        }

        .print-footer {
          text-align: center;
          font-size: 9px;
          color: #000;
          padding-top: 8px;
          border-top: 1px solid #000;
          margin-top: 10px;
        }

        .print-footer div {
          margin-bottom: 2px;
        }

        .print-carimbo-pago {
          position: absolute;
          top: 50%;
          left: 50%;
          transform: translate(-50%, -50%) rotate(-25deg);
          font-size: 80px;
          font-weight: bold;
          text-transform: uppercase;
          color: #000;
          border: 8px solid #000;
          padding: 10px 40px;
          opacity: 0.3;
          pointer-events: none;
          z-index: 100;
          letter-spacing: 10px;
        }
      `}),n.jsxs("div",{className:"print-page",children:[t.forma_pagamento&&["Pago","S Entregar"].includes(t.forma_pagamento)&&n.jsx("div",{className:"print-carimbo-pago",children:"PAGO"}),n.jsxs("div",{className:"print-title",children:[n.jsx("img",{src:"/logo-formedica.png",alt:"Formdica",className:"print-logo-img"}),n.jsx("h1",{children:"ROMANEIO DE ENTREGA"})]}),n.jsxs("div",{className:"print-grid",children:[n.jsxs("div",{className:"print-grid-col",children:[n.jsx("div",{className:"print-section-title",children:"DADOS DA ENTREGA"}),n.jsxs("div",{className:"print-section-row",children:[n.jsx("span",{className:"print-section-label",children:"N. Requisio:"}),n.jsxs("span",{className:"print-section-value",style:{fontWeight:"bold"},children:["# ",t.requisicao||"0000"]})]}),n.jsxs("div",{className:"print-section-row",children:[n.jsx("span",{className:"print-section-label",children:"Data:"}),n.jsxs("span",{className:"print-section-value",children:[s(t.data_entrega)," - ",t.periodo||"-"]})]}),n.jsxs("div",{className:"print-section-row",children:[n.jsx("span",{className:"print-section-label",children:"Motoboy:"}),n.jsx("span",{className:"print-section-value",children:((l=t.motoboy)==null?void 0:l.nome)||"-"})]}),n.jsxs("div",{className:"print-section-row",children:[n.jsx("span",{className:"print-section-label",children:"Atendente:"}),n.jsx("span",{className:"print-section-value",children:((c=t.atendente)==null?void 0:c.nome)||((u=t.atendente)==null?void 0:u.email)||"-"})]})]}),n.jsxs("div",{className:"print-grid-col",children:[n.jsx("div",{className:"print-section-title",children:"CLIENTE"}),n.jsxs("div",{className:"print-section-row",children:[n.jsx("span",{className:"print-section-label",children:"Nome:"}),n.jsx("span",{className:"print-section-value",children:((p=t.cliente)==null?void 0:p.nome)||"-"})]}),n.jsxs("div",{className:"print-section-row",children:[n.jsx("span",{className:"print-section-label",children:"Telefone:"}),n.jsx("span",{className:"print-section-value",children:((m=t.cliente)==null?void 0:m.telefone)||"-"})]})]})]}),n.jsxs("div",{className:"print-grid",children:[n.jsxs("div",{className:"print-grid-col",children:[n.jsx("div",{className:"print-section-title",children:"ENDERECO DE ENTREGA"}),n.jsxs("div",{className:"print-endereco-main",children:[((v=t.endereco)==null?void 0:v.logradouro)||"-"," , ",((y=t.endereco)==null?void 0:y.numero)||"S/N"]}),n.jsxs("div",{className:"print-endereco-line",children:[((x=t.endereco)==null?void 0:x.bairro)||"-"," - ",((S=t.endereco)==null?void 0:S.cidade)||t.regiao||"-"]}),((E=t.endereco)==null?void 0:E.complemento)&&n.jsxs("div",{className:"print-endereco-line",children:["Compl.: ",t.endereco.complemento]}),((k=t.endereco)==null?void 0:k.ponto_referencia)&&n.jsxs("div",{className:"print-endereco-ref",children:["Ref.: ",t.endereco.ponto_referencia]}),((N=t.cliente)==null?void 0:N.nome)&&n.jsxs("div",{className:"print-endereco-ac",children:["A/C: ",t.cliente.nome]})]}),n.jsxs("div",{className:"print-grid-col",children:[n.jsx("div",{className:"print-section-title",children:"PAGAMENTO"}),n.jsxs("div",{className:"print-section-row",children:[n.jsx("span",{className:"print-section-label",children:"Forma de Pagamento:"}),n.jsx("span",{className:"print-section-value",children:t.forma_pagamento||"-"})]})]})]}),t.observacoes&&n.jsxs("div",{className:"print-box",children:[n.jsx("div",{className:"print-section-title",children:"OBSERVAES"}),n.jsx("div",{className:"print-section-row",style:{justifyContent:"flex-start"},children:n.jsx("span",{className:"print-section-value",style:{textAlign:"left"},children:t.observacoes})})]}),(t.item_geladeira||t.buscar_receita)&&n.jsxs("div",{style:{display:"flex",gap:"10px",marginBottom:"10px"},children:[t.item_geladeira&&n.jsxs("div",{className:"print-geladeira",style:{flex:1,marginBottom:0},children:[n.jsx("span",{className:"print-geladeira-icon",children:""}),n.jsx("span",{children:"ITEM DE GELADEIRA"}),n.jsx("span",{className:"print-geladeira-icon",children:""})]}),t.buscar_receita&&n.jsxs("div",{className:"print-receita",style:{flex:1,marginBottom:0},children:[n.jsxs("svg",{className:"print-receita-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",style:{width:"20px",height:"20px"},children:[n.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),n.jsx("polyline",{points:"14 2 14 8 20 8"}),n.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),n.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),n.jsx("polyline",{points:"10 9 9 9 8 9"})]}),n.jsx("span",{children:"RETER RECEITA"}),n.jsxs("svg",{className:"print-receita-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",style:{width:"20px",height:"20px"},children:[n.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),n.jsx("polyline",{points:"14 2 14 8 20 8"}),n.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),n.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),n.jsx("polyline",{points:"10 9 9 9 8 9"})]})]})]}),t.valor_venda>0&&["Receber Dinheiro","Receber Mquina","Pagar MP"].includes(t.forma_pagamento)||t.precisa_troco&&t.valor_troco>0?n.jsxs("div",{style:{display:"flex",gap:"10px",marginBottom:"10px"},children:[t.valor_venda>0&&["Receber Dinheiro","Receber Mquina","Pagar MP"].includes(t.forma_pagamento)&&n.jsxs("div",{className:"print-valor-box",style:{flex:1,marginBottom:0},children:[n.jsx("span",{className:"print-valor-icon",children:"$"}),"COBRAR NA ENTREGA: R$ ",t.valor_venda.toFixed(2).replace(".",",")]}),t.precisa_troco&&t.valor_troco>0&&n.jsxs("div",{className:"print-valor-box",style:{flex:1,marginBottom:0},children:["TROCO: R$ ",t.valor_troco.toFixed(2).replace(".",",")]})]}):null,n.jsx("div",{className:"print-footer",children:n.jsxs("div",{children:["Impressao em: ",r]})})]})]})}function yb(){var O,T,R,D,K,B,Q,ne,we;const t=Er(),e=mo(),{id:r}=gN(),s=r||new URLSearchParams(window.location.search).get("id"),[l,c]=w.useState("Aguardando"),[u,p]=w.useState(!1),{data:m,isLoading:v,error:y}=fn({queryKey:["romaneio",s],queryFn:async()=>{if(console.log(" Buscando romaneio com ID:",s),!s)throw console.error(" ID do romaneio no fornecido"),new Error("ID do romaneio no fornecido");const{data:ee,error:$}=await Le.from("entregas").select(`
          *,
          cliente:clientes(id, nome, telefone, cpf, email),
          endereco:enderecos(id, logradouro, numero, bairro, cidade, complemento, cep, regiao),
          motoboy:motoboys(id, nome)
        `).eq("id",s).single();if($)throw console.error(" Erro ao buscar romaneio:",$),$;console.log(" Romaneio encontrado:",ee);let te=[];if(ee.clientes_adicionais&&ee.clientes_adicionais.length>0){const{data:be}=await Le.from("clientes").select("id, nome, telefone").in("id",ee.clientes_adicionais);te=be||[]}const U=ee.endereco_logradouro?{id:ee.endereco_id,logradouro:ee.endereco_logradouro,numero:ee.endereco_numero,complemento:ee.endereco_complemento,bairro:ee.endereco_bairro,cidade:ee.endereco_cidade,cep:ee.endereco_cep,regiao:ee.regiao}:ee.endereco;let W=null;if(ee.atendente_id){const{data:be}=await Le.from("usuarios").select("id, nome, email").eq("id",ee.atendente_id).single();W=be}return{...ee,endereco:U,clientesAdicionais:te,atendente:W}},enabled:!!s});w.useEffect(()=>{y&&console.error(" Erro na query:",y)},[y]),w.useEffect(()=>{m&&p(m.pagamento_recebido||!1)},[m]);const x=async()=>{if(confirm("Tem certeza que deseja excluir este romaneio?"))try{const{error:ee}=await Le.from("entregas").delete().eq("id",s);if(ee)throw ee;Se.success("Romaneio excludo com sucesso!"),t("/")}catch(ee){console.error("Erro ao excluir:",ee),Se.error("Erro ao excluir romaneio")}},S=async ee=>{p(ee);try{const{error:$}=await Le.from("entregas").update({pagamento_recebido:ee}).eq("id",s);if($)throw $;Se.success("Pagamento atualizado!"),e.invalidateQueries(["romaneio",s])}catch($){console.error("Erro ao atualizar pagamento:",$),Se.error("Erro ao atualizar pagamento"),p(!ee)}};if(v)return n.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100",children:[n.jsx("div",{className:"py-8 shadow-sm mb-6",style:{background:"linear-gradient(135deg, #457bba 0%, #890d5d 100%)"},children:n.jsx("div",{className:"max-w-7xl mx-auto px-6",children:n.jsx("h1",{className:"text-4xl font-bold text-white",children:"Detalhes do Romaneio"})})}),n.jsx("div",{className:"max-w-7xl mx-auto px-6",children:n.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-12 text-center",children:n.jsx("div",{className:"text-xl text-slate-600",children:"Carregando..."})})})]});if(!m&&!v)return n.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100",children:[n.jsx("div",{className:"py-8 shadow-sm mb-6",style:{background:"linear-gradient(135deg, #457bba 0%, #890d5d 100%)"},children:n.jsx("div",{className:"max-w-7xl mx-auto px-6",children:n.jsx("h1",{className:"text-4xl font-bold text-white",children:"Detalhes do Romaneio"})})}),n.jsx("div",{className:"max-w-7xl mx-auto px-6",children:n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-12",children:[n.jsx("div",{className:"text-2xl font-bold text-slate-900 mb-4",children:"Romaneio no encontrado"}),n.jsxs("div",{className:"text-sm text-slate-600 mb-4",children:["ID buscado: ",s||"Nenhum ID fornecido"]}),y&&n.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg mb-4",children:n.jsxs("div",{className:"text-sm text-red-600",children:["Erro: ",y.message]})}),n.jsx("button",{onClick:()=>t("/"),className:"px-4 py-2 rounded-lg font-semibold text-sm",style:{backgroundColor:"#376295",color:"white"},children:"Voltar"})]})})]});const E=m.requisicao||"",k=[m.cliente,...m.clientesAdicionais||[]].filter(Boolean),N=k.map(ee=>ee.nome).join(", "),P=k.map(ee=>ee.telefone).filter(Boolean).join(", ");return n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 pb-8",children:[n.jsx("div",{className:"py-8 shadow-sm mb-6",style:{background:"linear-gradient(135deg, #457bba 0%, #890d5d 100%)"},children:n.jsx("div",{className:"max-w-7xl mx-auto px-6",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("button",{onClick:()=>t(-1),className:"p-2 rounded-lg bg-white/20 hover:bg-white/30 transition-colors",children:n.jsx(vr,{className:"w-6 h-6 text-white"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-4xl font-bold text-white",children:"Detalhes do Romaneio"}),n.jsx("p",{className:"text-base text-white opacity-90 mt-1",children:"Visualizao completa da entrega"})]})]})})}),n.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[n.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6 mb-6",children:n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[n.jsxs("div",{children:[n.jsxs("h1",{className:"text-2xl font-bold text-slate-900",children:["Romaneio #",E]}),n.jsxs("p",{className:"text-sm text-slate-600 mt-1",children:["Criado em ",m.data_criacao?new Date(m.data_criacao).toLocaleDateString("pt-BR"):"-"," s ",m.data_criacao?new Date(m.data_criacao).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"}):"-"]})]}),n.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[n.jsxs("button",{onClick:()=>t(`/editar-romaneio?id=${s}`),className:"flex items-center gap-2 px-4 py-2 rounded-lg font-semibold text-sm transition-all",style:{backgroundColor:"#376295",color:"white"},title:"Editar",children:[n.jsx(Kf,{size:16}),"Editar"]}),n.jsxs("button",{onClick:()=>window.print(),className:"flex items-center gap-2 px-4 py-2 rounded-lg font-semibold text-sm transition-all",style:{backgroundColor:"#890d5d",color:"white"},title:"Imprimir",children:[n.jsx(Gf,{size:16}),"Imprimir"]}),n.jsxs("button",{onClick:x,className:"flex items-center gap-2 px-4 py-2 rounded-lg font-semibold text-sm transition-all",style:{backgroundColor:"#ef4444",color:"white"},title:"Excluir",children:[n.jsx($c,{size:16}),"Excluir"]})]})]})}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-[1fr_400px] gap-6",children:[n.jsxs("div",{className:"flex flex-col gap-6",children:[n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-4",style:{color:"#376295"},children:[n.jsx(tn,{size:18}),n.jsx("h2",{className:"text-lg font-bold",children:"Informaes do Romaneio"})]}),n.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-2 md:grid-cols-4 gap-6",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-xs text-slate-500 mb-2",children:"Nmero da Requisio"}),n.jsxs("div",{className:"text-base font-semibold",style:{color:"#376295"},children:["#",E]})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-xs text-slate-500 mb-2",children:"Status"}),n.jsx("div",{children:n.jsx("span",{className:"px-3 py-1 rounded text-xs font-medium",style:{backgroundColor:m.status==="Entregue"?"#E8F5E8":m.status==="A Caminho"?"#FEF3E8":"#F5E8F5",color:m.status==="Entregue"?"#3dac38":m.status==="A Caminho"?"#f97316":"#890d5d"},children:m.status==="Produzindo no Laboratrio"?"Produo":m.status})})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-xs text-slate-500 mb-2",children:"Data de Entrega Prevista"}),n.jsxs("div",{className:"text-base font-semibold text-slate-900",children:[m.data_entrega?new Date(m.data_entrega+"T12:00:00").toLocaleDateString("pt-BR"):"-"," - ",m.periodo]})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-xs text-slate-500 mb-2",children:"Valor da Entrega"}),n.jsxs("div",{className:"text-2xl font-bold",style:{color:"#376295"},children:["R$ ",(m.valor||0).toFixed(2)]})]})]})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-4",style:{color:"#376295"},children:[n.jsx(Un,{size:18}),n.jsx("h2",{className:"text-lg font-bold",children:"Cliente"})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-lg font-bold text-slate-900 mb-2",children:N}),n.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600",children:[n.jsx(ou,{size:14}),P]})]})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-4",style:{color:"#376295"},children:[n.jsx(nu,{size:18}),n.jsx("h2",{className:"text-lg font-bold",children:"Endereo de Entrega"})]}),n.jsxs("div",{className:"text-sm text-slate-600",children:[n.jsxs("div",{className:"font-bold text-slate-900 mb-1",children:[(O=m.endereco)==null?void 0:O.logradouro,", ",(T=m.endereco)==null?void 0:T.numero]}),n.jsxs("div",{className:"mb-3",children:[(R=m.endereco)==null?void 0:R.bairro," - ",(D=m.endereco)==null?void 0:D.cidade]}),((K=m.endereco)==null?void 0:K.complemento)&&n.jsxs("div",{className:"text-sm text-slate-600",children:["Complemento: ",m.endereco.complemento]})]})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-4",style:{color:"#376295"},children:[n.jsx(tn,{size:18}),n.jsx("h2",{className:"text-lg font-bold",children:"Observaes"})]}),n.jsx("div",{className:"text-sm text-slate-600",children:m.observacoes||"Nenhuma observao"})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("div",{className:"flex items-center gap-2",style:{color:"#376295"},children:[n.jsx(sb,{size:18}),n.jsx("h2",{className:"text-lg font-bold",children:"Imagens Anexadas"})]}),n.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 rounded-lg font-semibold text-sm transition-all",style:{backgroundColor:"#376295",color:"white"},children:[n.jsx(TR,{size:14}),"Anexar Imagens"]})]}),n.jsxs("div",{className:"flex flex-col items-center justify-center py-12 border-2 border-dashed border-slate-300 rounded-lg text-slate-400",children:[n.jsx(sb,{size:48,className:"mb-2 opacity-30"}),n.jsx("div",{className:"text-sm",children:"Nenhuma imagem anexada"})]})]})]}),n.jsxs("div",{className:"flex flex-col gap-6",children:[n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-4",style:{color:"#376295"},children:[n.jsx(tn,{size:20}),n.jsx("h2",{className:"text-xl font-bold",children:"Informaes"})]}),n.jsxs("div",{className:"flex flex-col gap-5",children:[n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(nu,{size:20,className:"text-slate-500 mt-1 flex-shrink-0"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("div",{className:"text-sm text-slate-500 mb-1",children:"Regio"}),n.jsx("div",{className:"text-base font-semibold",style:{color:"#376295"},children:m.regiao||((B=m.endereco)==null?void 0:B.regiao)||"-"})]})]}),n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(zc,{size:20,className:"text-slate-500 mt-1 flex-shrink-0"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("div",{className:"text-sm text-slate-500 mb-1",children:"Pagamento"}),n.jsx("div",{className:"text-base font-semibold text-slate-900",children:m.forma_pagamento}),m.valor_venda>0&&["Receber Dinheiro","Receber Mquina","Pagar MP"].includes(m.forma_pagamento)?n.jsxs("div",{style:{marginTop:"0.5rem",padding:"0.75rem",background:"#1b5e20",borderRadius:"0.375rem",textAlign:"center"},children:[n.jsx("div",{style:{color:"white",fontSize:"0.75rem",fontWeight:"500"},children:m.forma_pagamento==="Receber Mquina"?"Receber na Mquina:":m.forma_pagamento==="Pagar MP"?"Cobrar via MP:":"Valor a Receber:"}),n.jsxs("div",{style:{color:"white",fontSize:"1.25rem",fontWeight:"700"},children:["R$ ",m.valor_venda.toFixed(2).replace(".",",")]})]}):n.jsxs("div",{className:"text-lg font-bold mt-1",style:{color:"#376295"},children:["R$ ",(m.valor||0).toFixed(2)]})]})]}),n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(co,{size:20,className:"text-slate-500 mt-1 flex-shrink-0"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("div",{className:"text-sm text-slate-500 mb-1",children:"Perodo"}),n.jsx("div",{className:"text-base font-semibold text-slate-900",children:m.periodo})]})]}),n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(Ao,{size:20,className:"text-slate-500 mt-1 flex-shrink-0"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("div",{className:"text-sm text-slate-500 mb-1",children:"Motoboy"}),n.jsx("div",{className:"text-base font-semibold text-slate-900",children:((Q=m.motoboy)==null?void 0:Q.nome)||"-"})]})]}),n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(Un,{size:20,className:"text-slate-500 mt-1 flex-shrink-0"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("div",{className:"text-sm text-slate-500 mb-1",children:"Atendente"}),n.jsx("div",{className:"text-base font-semibold text-slate-900",children:((ne=m.atendente)==null?void 0:ne.email)||((we=m.atendente)==null?void 0:we.nome)||"-"})]})]}),m.item_geladeira&&n.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"12px",padding:"12px 15px",fontSize:"14px",fontWeight:"bold",textTransform:"uppercase",border:"2px solid #2196F3",backgroundColor:"#E3F2FD",color:"#1565C0",borderRadius:"8px"},children:[n.jsx("span",{style:{fontSize:"20px"},children:""}),n.jsx("span",{children:"ITEM DE GELADEIRA"}),n.jsx("span",{style:{fontSize:"20px"},children:""})]}),m.buscar_receita&&n.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"12px",padding:"12px 15px",fontSize:"14px",fontWeight:"bold",textTransform:"uppercase",border:"2px solid #FF9800",backgroundColor:"#FFF3E0",color:"#E65100",borderRadius:"8px"},children:[n.jsx(tn,{size:20}),n.jsx("span",{children:"RETER RECEITA"}),n.jsx(tn,{size:20})]}),n.jsx("div",{className:"border-t border-slate-200 pt-4 mt-2",children:n.jsx(kt,{label:"Pagamento Motoboy",options:[{value:"Aguardando",label:"Aguardando"},{value:"Pago",label:"Pago"},{value:"Pendente",label:"Pendente"}],value:l,onChange:c,placeholder:"Selecione..."})}),n.jsx("div",{children:n.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:u,onChange:ee=>S(ee.target.checked),className:"w-4 h-4",style:{accentColor:"#376295"}}),n.jsx("span",{className:"text-sm text-slate-700 font-medium",children:"Pagamento Recebido"})]})})]})]}),n.jsxs("div",{className:"rounded-xl shadow-lg p-6",style:{background:"linear-gradient(135deg, #890d5d 0%, #457bba 100%)"},children:[n.jsx("div",{className:"text-sm font-semibold text-white opacity-90 mb-4 text-center",children:"Cdigo de Rastreio"}),n.jsx("div",{className:"bg-white bg-opacity-20 p-6 rounded-lg text-center backdrop-blur-sm",children:n.jsx("div",{className:"text-2xl font-bold text-white tracking-widest font-mono",children:m.codigo_rastreio||"54NVT9NS"})})]})]})]})]})]}),n.jsx(xO,{romaneio:m})]})}const Jt=w.forwardRef(({className:t,...e},r)=>n.jsx("div",{ref:r,className:xt("rounded-xl border bg-card text-card-foreground shadow",t),...e}));Jt.displayName="Card";const Hs=w.forwardRef(({className:t,...e},r)=>n.jsx("div",{ref:r,className:xt("flex flex-col space-y-1.5 p-6",t),...e}));Hs.displayName="CardHeader";const Vs=w.forwardRef(({className:t,...e},r)=>n.jsx("div",{ref:r,className:xt("font-semibold leading-none tracking-tight",t),...e}));Vs.displayName="CardTitle";const yO=w.forwardRef(({className:t,...e},r)=>n.jsx("div",{ref:r,className:xt("text-sm text-muted-foreground",t),...e}));yO.displayName="CardDescription";const sr=w.forwardRef(({className:t,...e},r)=>n.jsx("div",{ref:r,className:xt("p-6 pt-0",t),...e}));sr.displayName="CardContent";const bO=w.forwardRef(({className:t,...e},r)=>n.jsx("div",{ref:r,className:xt("flex items-center p-6 pt-0",t),...e}));bO.displayName="CardFooter";const ir=w.forwardRef(({className:t,type:e,...r},s)=>n.jsx("input",{type:e,className:xt("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:s,...r}));ir.displayName="Input";var _O="Label",G1=w.forwardRef((t,e)=>n.jsx(Ot.label,{...t,ref:e,onMouseDown:r=>{var l;r.target.closest("button, input, select, textarea")||((l=t.onMouseDown)==null||l.call(t,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));G1.displayName=_O;var K1=G1;const wO=Vv("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),pr=w.forwardRef(({className:t,...e},r)=>n.jsx(K1,{ref:r,className:xt(wO(),t),...e}));pr.displayName=K1.displayName;const Qf=w.forwardRef(({className:t,...e},r)=>n.jsx("textarea",{className:xt("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...e}));Qf.displayName="Textarea";const jO=Vv("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function ns({className:t,variant:e,...r}){return n.jsx("div",{className:xt(jO({variant:e}),t),...r})}function bb(t,[e,r]){return Math.min(r,Math.max(e,t))}function SO(t){const e=t+"CollectionProvider",[r,s]=Ic(e),[l,c]=r(e,{collectionRef:{current:null},itemMap:new Map}),u=N=>{const{scope:P,children:O}=N,T=Te.useRef(null),R=Te.useRef(new Map).current;return n.jsx(l,{scope:P,itemMap:R,collectionRef:T,children:O})};u.displayName=e;const p=t+"CollectionSlot",m=Cc(p),v=Te.forwardRef((N,P)=>{const{scope:O,children:T}=N,R=c(p,O),D=Zt(P,R.collectionRef);return n.jsx(m,{ref:D,children:T})});v.displayName=p;const y=t+"CollectionItemSlot",x="data-radix-collection-item",S=Cc(y),E=Te.forwardRef((N,P)=>{const{scope:O,children:T,...R}=N,D=Te.useRef(null),K=Zt(P,D),B=c(y,O);return Te.useEffect(()=>(B.itemMap.set(D,{ref:D,...R}),()=>void B.itemMap.delete(D))),n.jsx(S,{[x]:"",ref:K,children:T})});E.displayName=y;function k(N){const P=c(t+"CollectionConsumer",N);return Te.useCallback(()=>{const T=P.collectionRef.current;if(!T)return[];const R=Array.from(T.querySelectorAll(`[${x}]`));return Array.from(P.itemMap.values()).sort((B,Q)=>R.indexOf(B.ref.current)-R.indexOf(Q.ref.current))},[P.collectionRef,P.itemMap])}return[{Provider:u,Slot:v,ItemSlot:E},k,s]}var EO=w.createContext(void 0);function NO(t){const e=w.useContext(EO);return t||e||"ltr"}const CO=["top","right","bottom","left"],ta=Math.min,$n=Math.max,Tf=Math.round,rf=Math.floor,ds=t=>({x:t,y:t}),kO={left:"right",right:"left",bottom:"top",top:"bottom"},PO={start:"end",end:"start"};function Jg(t,e,r){return $n(t,ta(e,r))}function Ys(t,e){return typeof t=="function"?t(e):t}function Js(t){return t.split("-")[0]}function qc(t){return t.split("-")[1]}function Kv(t){return t==="x"?"y":"x"}function Zv(t){return t==="y"?"height":"width"}const TO=new Set(["top","bottom"]);function cs(t){return TO.has(Js(t))?"y":"x"}function Qv(t){return Kv(cs(t))}function RO(t,e,r){r===void 0&&(r=!1);const s=qc(t),l=Qv(t),c=Zv(l);let u=l==="x"?s===(r?"end":"start")?"right":"left":s==="start"?"bottom":"top";return e.reference[c]>e.floating[c]&&(u=Rf(u)),[u,Rf(u)]}function AO(t){const e=Rf(t);return[Xg(t),e,Xg(e)]}function Xg(t){return t.replace(/start|end/g,e=>PO[e])}const _b=["left","right"],wb=["right","left"],OO=["top","bottom"],MO=["bottom","top"];function LO(t,e,r){switch(t){case"top":case"bottom":return r?e?wb:_b:e?_b:wb;case"left":case"right":return e?OO:MO;default:return[]}}function IO(t,e,r,s){const l=qc(t);let c=LO(Js(t),r==="start",s);return l&&(c=c.map(u=>u+"-"+l),e&&(c=c.concat(c.map(Xg)))),c}function Rf(t){return t.replace(/left|right|bottom|top/g,e=>kO[e])}function DO(t){return{top:0,right:0,bottom:0,left:0,...t}}function Z1(t){return typeof t!="number"?DO(t):{top:t,right:t,bottom:t,left:t}}function Af(t){const{x:e,y:r,width:s,height:l}=t;return{width:s,height:l,top:r,left:e,right:e+s,bottom:r+l,x:e,y:r}}function jb(t,e,r){let{reference:s,floating:l}=t;const c=cs(e),u=Qv(e),p=Zv(u),m=Js(e),v=c==="y",y=s.x+s.width/2-l.width/2,x=s.y+s.height/2-l.height/2,S=s[p]/2-l[p]/2;let E;switch(m){case"top":E={x:y,y:s.y-l.height};break;case"bottom":E={x:y,y:s.y+s.height};break;case"right":E={x:s.x+s.width,y:x};break;case"left":E={x:s.x-l.width,y:x};break;default:E={x:s.x,y:s.y}}switch(qc(e)){case"start":E[u]-=S*(r&&v?-1:1);break;case"end":E[u]+=S*(r&&v?-1:1);break}return E}const BO=async(t,e,r)=>{const{placement:s="bottom",strategy:l="absolute",middleware:c=[],platform:u}=r,p=c.filter(Boolean),m=await(u.isRTL==null?void 0:u.isRTL(e));let v=await u.getElementRects({reference:t,floating:e,strategy:l}),{x:y,y:x}=jb(v,s,m),S=s,E={},k=0;for(let N=0;N<p.length;N++){const{name:P,fn:O}=p[N],{x:T,y:R,data:D,reset:K}=await O({x:y,y:x,initialPlacement:s,placement:S,strategy:l,middlewareData:E,rects:v,platform:u,elements:{reference:t,floating:e}});y=T??y,x=R??x,E={...E,[P]:{...E[P],...D}},K&&k<=50&&(k++,typeof K=="object"&&(K.placement&&(S=K.placement),K.rects&&(v=K.rects===!0?await u.getElementRects({reference:t,floating:e,strategy:l}):K.rects),{x:y,y:x}=jb(v,S,m)),N=-1)}return{x:y,y:x,placement:S,strategy:l,middlewareData:E}};async function su(t,e){var r;e===void 0&&(e={});const{x:s,y:l,platform:c,rects:u,elements:p,strategy:m}=t,{boundary:v="clippingAncestors",rootBoundary:y="viewport",elementContext:x="floating",altBoundary:S=!1,padding:E=0}=Ys(e,t),k=Z1(E),P=p[S?x==="floating"?"reference":"floating":x],O=Af(await c.getClippingRect({element:(r=await(c.isElement==null?void 0:c.isElement(P)))==null||r?P:P.contextElement||await(c.getDocumentElement==null?void 0:c.getDocumentElement(p.floating)),boundary:v,rootBoundary:y,strategy:m})),T=x==="floating"?{x:s,y:l,width:u.floating.width,height:u.floating.height}:u.reference,R=await(c.getOffsetParent==null?void 0:c.getOffsetParent(p.floating)),D=await(c.isElement==null?void 0:c.isElement(R))?await(c.getScale==null?void 0:c.getScale(R))||{x:1,y:1}:{x:1,y:1},K=Af(c.convertOffsetParentRelativeRectToViewportRelativeRect?await c.convertOffsetParentRelativeRectToViewportRelativeRect({elements:p,rect:T,offsetParent:R,strategy:m}):T);return{top:(O.top-K.top+k.top)/D.y,bottom:(K.bottom-O.bottom+k.bottom)/D.y,left:(O.left-K.left+k.left)/D.x,right:(K.right-O.right+k.right)/D.x}}const zO=t=>({name:"arrow",options:t,async fn(e){const{x:r,y:s,placement:l,rects:c,platform:u,elements:p,middlewareData:m}=e,{element:v,padding:y=0}=Ys(t,e)||{};if(v==null)return{};const x=Z1(y),S={x:r,y:s},E=Qv(l),k=Zv(E),N=await u.getDimensions(v),P=E==="y",O=P?"top":"left",T=P?"bottom":"right",R=P?"clientHeight":"clientWidth",D=c.reference[k]+c.reference[E]-S[E]-c.floating[k],K=S[E]-c.reference[E],B=await(u.getOffsetParent==null?void 0:u.getOffsetParent(v));let Q=B?B[R]:0;(!Q||!await(u.isElement==null?void 0:u.isElement(B)))&&(Q=p.floating[R]||c.floating[k]);const ne=D/2-K/2,we=Q/2-N[k]/2-1,ee=ta(x[O],we),$=ta(x[T],we),te=ee,U=Q-N[k]-$,W=Q/2-N[k]/2+ne,be=Jg(te,W,U),me=!m.arrow&&qc(l)!=null&&W!==be&&c.reference[k]/2-(W<te?ee:$)-N[k]/2<0,_e=me?W<te?W-te:W-U:0;return{[E]:S[E]+_e,data:{[E]:be,centerOffset:W-be-_e,...me&&{alignmentOffset:_e}},reset:me}}}),$O=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var r,s;const{placement:l,middlewareData:c,rects:u,initialPlacement:p,platform:m,elements:v}=e,{mainAxis:y=!0,crossAxis:x=!0,fallbackPlacements:S,fallbackStrategy:E="bestFit",fallbackAxisSideDirection:k="none",flipAlignment:N=!0,...P}=Ys(t,e);if((r=c.arrow)!=null&&r.alignmentOffset)return{};const O=Js(l),T=cs(p),R=Js(p)===p,D=await(m.isRTL==null?void 0:m.isRTL(v.floating)),K=S||(R||!N?[Rf(p)]:AO(p)),B=k!=="none";!S&&B&&K.push(...IO(p,N,k,D));const Q=[p,...K],ne=await su(e,P),we=[];let ee=((s=c.flip)==null?void 0:s.overflows)||[];if(y&&we.push(ne[O]),x){const W=RO(l,u,D);we.push(ne[W[0]],ne[W[1]])}if(ee=[...ee,{placement:l,overflows:we}],!we.every(W=>W<=0)){var $,te;const W=((($=c.flip)==null?void 0:$.index)||0)+1,be=Q[W];if(be&&(!(x==="alignment"?T!==cs(be):!1)||ee.every(q=>cs(q.placement)===T?q.overflows[0]>0:!0)))return{data:{index:W,overflows:ee},reset:{placement:be}};let me=(te=ee.filter(_e=>_e.overflows[0]<=0).sort((_e,q)=>_e.overflows[1]-q.overflows[1])[0])==null?void 0:te.placement;if(!me)switch(E){case"bestFit":{var U;const _e=(U=ee.filter(q=>{if(B){const je=cs(q.placement);return je===T||je==="y"}return!0}).map(q=>[q.placement,q.overflows.filter(je=>je>0).reduce((je,ae)=>je+ae,0)]).sort((q,je)=>q[1]-je[1])[0])==null?void 0:U[0];_e&&(me=_e);break}case"initialPlacement":me=p;break}if(l!==me)return{reset:{placement:me}}}return{}}}};function Sb(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function Eb(t){return CO.some(e=>t[e]>=0)}const FO=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:r}=e,{strategy:s="referenceHidden",...l}=Ys(t,e);switch(s){case"referenceHidden":{const c=await su(e,{...l,elementContext:"reference"}),u=Sb(c,r.reference);return{data:{referenceHiddenOffsets:u,referenceHidden:Eb(u)}}}case"escaped":{const c=await su(e,{...l,altBoundary:!0}),u=Sb(c,r.floating);return{data:{escapedOffsets:u,escaped:Eb(u)}}}default:return{}}}}},Q1=new Set(["left","top"]);async function UO(t,e){const{placement:r,platform:s,elements:l}=t,c=await(s.isRTL==null?void 0:s.isRTL(l.floating)),u=Js(r),p=qc(r),m=cs(r)==="y",v=Q1.has(u)?-1:1,y=c&&m?-1:1,x=Ys(e,t);let{mainAxis:S,crossAxis:E,alignmentAxis:k}=typeof x=="number"?{mainAxis:x,crossAxis:0,alignmentAxis:null}:{mainAxis:x.mainAxis||0,crossAxis:x.crossAxis||0,alignmentAxis:x.alignmentAxis};return p&&typeof k=="number"&&(E=p==="end"?k*-1:k),m?{x:E*y,y:S*v}:{x:S*v,y:E*y}}const qO=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var r,s;const{x:l,y:c,placement:u,middlewareData:p}=e,m=await UO(e,t);return u===((r=p.offset)==null?void 0:r.placement)&&(s=p.arrow)!=null&&s.alignmentOffset?{}:{x:l+m.x,y:c+m.y,data:{...m,placement:u}}}}},WO=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:r,y:s,placement:l}=e,{mainAxis:c=!0,crossAxis:u=!1,limiter:p={fn:P=>{let{x:O,y:T}=P;return{x:O,y:T}}},...m}=Ys(t,e),v={x:r,y:s},y=await su(e,m),x=cs(Js(l)),S=Kv(x);let E=v[S],k=v[x];if(c){const P=S==="y"?"top":"left",O=S==="y"?"bottom":"right",T=E+y[P],R=E-y[O];E=Jg(T,E,R)}if(u){const P=x==="y"?"top":"left",O=x==="y"?"bottom":"right",T=k+y[P],R=k-y[O];k=Jg(T,k,R)}const N=p.fn({...e,[S]:E,[x]:k});return{...N,data:{x:N.x-r,y:N.y-s,enabled:{[S]:c,[x]:u}}}}}},HO=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:r,y:s,placement:l,rects:c,middlewareData:u}=e,{offset:p=0,mainAxis:m=!0,crossAxis:v=!0}=Ys(t,e),y={x:r,y:s},x=cs(l),S=Kv(x);let E=y[S],k=y[x];const N=Ys(p,e),P=typeof N=="number"?{mainAxis:N,crossAxis:0}:{mainAxis:0,crossAxis:0,...N};if(m){const R=S==="y"?"height":"width",D=c.reference[S]-c.floating[R]+P.mainAxis,K=c.reference[S]+c.reference[R]-P.mainAxis;E<D?E=D:E>K&&(E=K)}if(v){var O,T;const R=S==="y"?"width":"height",D=Q1.has(Js(l)),K=c.reference[x]-c.floating[R]+(D&&((O=u.offset)==null?void 0:O[x])||0)+(D?0:P.crossAxis),B=c.reference[x]+c.reference[R]+(D?0:((T=u.offset)==null?void 0:T[x])||0)-(D?P.crossAxis:0);k<K?k=K:k>B&&(k=B)}return{[S]:E,[x]:k}}}},VO=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var r,s;const{placement:l,rects:c,platform:u,elements:p}=e,{apply:m=()=>{},...v}=Ys(t,e),y=await su(e,v),x=Js(l),S=qc(l),E=cs(l)==="y",{width:k,height:N}=c.floating;let P,O;x==="top"||x==="bottom"?(P=x,O=S===(await(u.isRTL==null?void 0:u.isRTL(p.floating))?"start":"end")?"left":"right"):(O=x,P=S==="end"?"top":"bottom");const T=N-y.top-y.bottom,R=k-y.left-y.right,D=ta(N-y[P],T),K=ta(k-y[O],R),B=!e.middlewareData.shift;let Q=D,ne=K;if((r=e.middlewareData.shift)!=null&&r.enabled.x&&(ne=R),(s=e.middlewareData.shift)!=null&&s.enabled.y&&(Q=T),B&&!S){const ee=$n(y.left,0),$=$n(y.right,0),te=$n(y.top,0),U=$n(y.bottom,0);E?ne=k-2*(ee!==0||$!==0?ee+$:$n(y.left,y.right)):Q=N-2*(te!==0||U!==0?te+U:$n(y.top,y.bottom))}await m({...e,availableWidth:ne,availableHeight:Q});const we=await u.getDimensions(p.floating);return k!==we.width||N!==we.height?{reset:{rects:!0}}:{}}}};function Yf(){return typeof window<"u"}function Wc(t){return Y1(t)?(t.nodeName||"").toLowerCase():"#document"}function qn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function ps(t){var e;return(e=(Y1(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function Y1(t){return Yf()?t instanceof Node||t instanceof qn(t).Node:!1}function Io(t){return Yf()?t instanceof Element||t instanceof qn(t).Element:!1}function hs(t){return Yf()?t instanceof HTMLElement||t instanceof qn(t).HTMLElement:!1}function Nb(t){return!Yf()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof qn(t).ShadowRoot}const GO=new Set(["inline","contents"]);function bu(t){const{overflow:e,overflowX:r,overflowY:s,display:l}=Do(t);return/auto|scroll|overlay|hidden|clip/.test(e+s+r)&&!GO.has(l)}const KO=new Set(["table","td","th"]);function ZO(t){return KO.has(Wc(t))}const QO=[":popover-open",":modal"];function Jf(t){return QO.some(e=>{try{return t.matches(e)}catch{return!1}})}const YO=["transform","translate","scale","rotate","perspective"],JO=["transform","translate","scale","rotate","perspective","filter"],XO=["paint","layout","strict","content"];function Yv(t){const e=Jv(),r=Io(t)?Do(t):t;return YO.some(s=>r[s]?r[s]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!e&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!e&&(r.filter?r.filter!=="none":!1)||JO.some(s=>(r.willChange||"").includes(s))||XO.some(s=>(r.contain||"").includes(s))}function e5(t){let e=ra(t);for(;hs(e)&&!kc(e);){if(Yv(e))return e;if(Jf(e))return null;e=ra(e)}return null}function Jv(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const t5=new Set(["html","body","#document"]);function kc(t){return t5.has(Wc(t))}function Do(t){return qn(t).getComputedStyle(t)}function Xf(t){return Io(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function ra(t){if(Wc(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Nb(t)&&t.host||ps(t);return Nb(e)?e.host:e}function J1(t){const e=ra(t);return kc(e)?t.ownerDocument?t.ownerDocument.body:t.body:hs(e)&&bu(e)?e:J1(e)}function iu(t,e,r){var s;e===void 0&&(e=[]),r===void 0&&(r=!0);const l=J1(t),c=l===((s=t.ownerDocument)==null?void 0:s.body),u=qn(l);if(c){const p=ev(u);return e.concat(u,u.visualViewport||[],bu(l)?l:[],p&&r?iu(p):[])}return e.concat(l,iu(l,[],r))}function ev(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function X1(t){const e=Do(t);let r=parseFloat(e.width)||0,s=parseFloat(e.height)||0;const l=hs(t),c=l?t.offsetWidth:r,u=l?t.offsetHeight:s,p=Tf(r)!==c||Tf(s)!==u;return p&&(r=c,s=u),{width:r,height:s,$:p}}function Xv(t){return Io(t)?t:t.contextElement}function dc(t){const e=Xv(t);if(!hs(e))return ds(1);const r=e.getBoundingClientRect(),{width:s,height:l,$:c}=X1(e);let u=(c?Tf(r.width):r.width)/s,p=(c?Tf(r.height):r.height)/l;return(!u||!Number.isFinite(u))&&(u=1),(!p||!Number.isFinite(p))&&(p=1),{x:u,y:p}}const r5=ds(0);function ej(t){const e=qn(t);return!Jv()||!e.visualViewport?r5:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function n5(t,e,r){return e===void 0&&(e=!1),!r||e&&r!==qn(t)?!1:e}function sl(t,e,r,s){e===void 0&&(e=!1),r===void 0&&(r=!1);const l=t.getBoundingClientRect(),c=Xv(t);let u=ds(1);e&&(s?Io(s)&&(u=dc(s)):u=dc(t));const p=n5(c,r,s)?ej(c):ds(0);let m=(l.left+p.x)/u.x,v=(l.top+p.y)/u.y,y=l.width/u.x,x=l.height/u.y;if(c){const S=qn(c),E=s&&Io(s)?qn(s):s;let k=S,N=ev(k);for(;N&&s&&E!==k;){const P=dc(N),O=N.getBoundingClientRect(),T=Do(N),R=O.left+(N.clientLeft+parseFloat(T.paddingLeft))*P.x,D=O.top+(N.clientTop+parseFloat(T.paddingTop))*P.y;m*=P.x,v*=P.y,y*=P.x,x*=P.y,m+=R,v+=D,k=qn(N),N=ev(k)}}return Af({width:y,height:x,x:m,y:v})}function em(t,e){const r=Xf(t).scrollLeft;return e?e.left+r:sl(ps(t)).left+r}function tj(t,e){const r=t.getBoundingClientRect(),s=r.left+e.scrollLeft-em(t,r),l=r.top+e.scrollTop;return{x:s,y:l}}function o5(t){let{elements:e,rect:r,offsetParent:s,strategy:l}=t;const c=l==="fixed",u=ps(s),p=e?Jf(e.floating):!1;if(s===u||p&&c)return r;let m={scrollLeft:0,scrollTop:0},v=ds(1);const y=ds(0),x=hs(s);if((x||!x&&!c)&&((Wc(s)!=="body"||bu(u))&&(m=Xf(s)),hs(s))){const E=sl(s);v=dc(s),y.x=E.x+s.clientLeft,y.y=E.y+s.clientTop}const S=u&&!x&&!c?tj(u,m):ds(0);return{width:r.width*v.x,height:r.height*v.y,x:r.x*v.x-m.scrollLeft*v.x+y.x+S.x,y:r.y*v.y-m.scrollTop*v.y+y.y+S.y}}function s5(t){return Array.from(t.getClientRects())}function i5(t){const e=ps(t),r=Xf(t),s=t.ownerDocument.body,l=$n(e.scrollWidth,e.clientWidth,s.scrollWidth,s.clientWidth),c=$n(e.scrollHeight,e.clientHeight,s.scrollHeight,s.clientHeight);let u=-r.scrollLeft+em(t);const p=-r.scrollTop;return Do(s).direction==="rtl"&&(u+=$n(e.clientWidth,s.clientWidth)-l),{width:l,height:c,x:u,y:p}}const Cb=25;function a5(t,e){const r=qn(t),s=ps(t),l=r.visualViewport;let c=s.clientWidth,u=s.clientHeight,p=0,m=0;if(l){c=l.width,u=l.height;const y=Jv();(!y||y&&e==="fixed")&&(p=l.offsetLeft,m=l.offsetTop)}const v=em(s);if(v<=0){const y=s.ownerDocument,x=y.body,S=getComputedStyle(x),E=y.compatMode==="CSS1Compat"&&parseFloat(S.marginLeft)+parseFloat(S.marginRight)||0,k=Math.abs(s.clientWidth-x.clientWidth-E);k<=Cb&&(c-=k)}else v<=Cb&&(c+=v);return{width:c,height:u,x:p,y:m}}const l5=new Set(["absolute","fixed"]);function c5(t,e){const r=sl(t,!0,e==="fixed"),s=r.top+t.clientTop,l=r.left+t.clientLeft,c=hs(t)?dc(t):ds(1),u=t.clientWidth*c.x,p=t.clientHeight*c.y,m=l*c.x,v=s*c.y;return{width:u,height:p,x:m,y:v}}function kb(t,e,r){let s;if(e==="viewport")s=a5(t,r);else if(e==="document")s=i5(ps(t));else if(Io(e))s=c5(e,r);else{const l=ej(t);s={x:e.x-l.x,y:e.y-l.y,width:e.width,height:e.height}}return Af(s)}function rj(t,e){const r=ra(t);return r===e||!Io(r)||kc(r)?!1:Do(r).position==="fixed"||rj(r,e)}function d5(t,e){const r=e.get(t);if(r)return r;let s=iu(t,[],!1).filter(p=>Io(p)&&Wc(p)!=="body"),l=null;const c=Do(t).position==="fixed";let u=c?ra(t):t;for(;Io(u)&&!kc(u);){const p=Do(u),m=Yv(u);!m&&p.position==="fixed"&&(l=null),(c?!m&&!l:!m&&p.position==="static"&&!!l&&l5.has(l.position)||bu(u)&&!m&&rj(t,u))?s=s.filter(y=>y!==u):l=p,u=ra(u)}return e.set(t,s),s}function u5(t){let{element:e,boundary:r,rootBoundary:s,strategy:l}=t;const u=[...r==="clippingAncestors"?Jf(e)?[]:d5(e,this._c):[].concat(r),s],p=u[0],m=u.reduce((v,y)=>{const x=kb(e,y,l);return v.top=$n(x.top,v.top),v.right=ta(x.right,v.right),v.bottom=ta(x.bottom,v.bottom),v.left=$n(x.left,v.left),v},kb(e,p,l));return{width:m.right-m.left,height:m.bottom-m.top,x:m.left,y:m.top}}function h5(t){const{width:e,height:r}=X1(t);return{width:e,height:r}}function f5(t,e,r){const s=hs(e),l=ps(e),c=r==="fixed",u=sl(t,!0,c,e);let p={scrollLeft:0,scrollTop:0};const m=ds(0);function v(){m.x=em(l)}if(s||!s&&!c)if((Wc(e)!=="body"||bu(l))&&(p=Xf(e)),s){const E=sl(e,!0,c,e);m.x=E.x+e.clientLeft,m.y=E.y+e.clientTop}else l&&v();c&&!s&&l&&v();const y=l&&!s&&!c?tj(l,p):ds(0),x=u.left+p.scrollLeft-m.x-y.x,S=u.top+p.scrollTop-m.y-y.y;return{x,y:S,width:u.width,height:u.height}}function sg(t){return Do(t).position==="static"}function Pb(t,e){if(!hs(t)||Do(t).position==="fixed")return null;if(e)return e(t);let r=t.offsetParent;return ps(t)===r&&(r=r.ownerDocument.body),r}function nj(t,e){const r=qn(t);if(Jf(t))return r;if(!hs(t)){let l=ra(t);for(;l&&!kc(l);){if(Io(l)&&!sg(l))return l;l=ra(l)}return r}let s=Pb(t,e);for(;s&&ZO(s)&&sg(s);)s=Pb(s,e);return s&&kc(s)&&sg(s)&&!Yv(s)?r:s||e5(t)||r}const m5=async function(t){const e=this.getOffsetParent||nj,r=this.getDimensions,s=await r(t.floating);return{reference:f5(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:s.width,height:s.height}}};function p5(t){return Do(t).direction==="rtl"}const g5={convertOffsetParentRelativeRectToViewportRelativeRect:o5,getDocumentElement:ps,getClippingRect:u5,getOffsetParent:nj,getElementRects:m5,getClientRects:s5,getDimensions:h5,getScale:dc,isElement:Io,isRTL:p5};function oj(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function v5(t,e){let r=null,s;const l=ps(t);function c(){var p;clearTimeout(s),(p=r)==null||p.disconnect(),r=null}function u(p,m){p===void 0&&(p=!1),m===void 0&&(m=1),c();const v=t.getBoundingClientRect(),{left:y,top:x,width:S,height:E}=v;if(p||e(),!S||!E)return;const k=rf(x),N=rf(l.clientWidth-(y+S)),P=rf(l.clientHeight-(x+E)),O=rf(y),R={rootMargin:-k+"px "+-N+"px "+-P+"px "+-O+"px",threshold:$n(0,ta(1,m))||1};let D=!0;function K(B){const Q=B[0].intersectionRatio;if(Q!==m){if(!D)return u();Q?u(!1,Q):s=setTimeout(()=>{u(!1,1e-7)},1e3)}Q===1&&!oj(v,t.getBoundingClientRect())&&u(),D=!1}try{r=new IntersectionObserver(K,{...R,root:l.ownerDocument})}catch{r=new IntersectionObserver(K,R)}r.observe(t)}return u(!0),c}function x5(t,e,r,s){s===void 0&&(s={});const{ancestorScroll:l=!0,ancestorResize:c=!0,elementResize:u=typeof ResizeObserver=="function",layoutShift:p=typeof IntersectionObserver=="function",animationFrame:m=!1}=s,v=Xv(t),y=l||c?[...v?iu(v):[],...iu(e)]:[];y.forEach(O=>{l&&O.addEventListener("scroll",r,{passive:!0}),c&&O.addEventListener("resize",r)});const x=v&&p?v5(v,r):null;let S=-1,E=null;u&&(E=new ResizeObserver(O=>{let[T]=O;T&&T.target===v&&E&&(E.unobserve(e),cancelAnimationFrame(S),S=requestAnimationFrame(()=>{var R;(R=E)==null||R.observe(e)})),r()}),v&&!m&&E.observe(v),E.observe(e));let k,N=m?sl(t):null;m&&P();function P(){const O=sl(t);N&&!oj(N,O)&&r(),N=O,k=requestAnimationFrame(P)}return r(),()=>{var O;y.forEach(T=>{l&&T.removeEventListener("scroll",r),c&&T.removeEventListener("resize",r)}),x==null||x(),(O=E)==null||O.disconnect(),E=null,m&&cancelAnimationFrame(k)}}const y5=qO,b5=WO,_5=$O,w5=VO,j5=FO,Tb=zO,S5=HO,E5=(t,e,r)=>{const s=new Map,l={platform:g5,...r},c={...l.platform,_c:s};return BO(t,e,{...l,platform:c})};var N5=typeof document<"u",C5=function(){},mf=N5?w.useLayoutEffect:C5;function Of(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let r,s,l;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(r=t.length,r!==e.length)return!1;for(s=r;s--!==0;)if(!Of(t[s],e[s]))return!1;return!0}if(l=Object.keys(t),r=l.length,r!==Object.keys(e).length)return!1;for(s=r;s--!==0;)if(!{}.hasOwnProperty.call(e,l[s]))return!1;for(s=r;s--!==0;){const c=l[s];if(!(c==="_owner"&&t.$$typeof)&&!Of(t[c],e[c]))return!1}return!0}return t!==t&&e!==e}function sj(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function Rb(t,e){const r=sj(t);return Math.round(e*r)/r}function ig(t){const e=w.useRef(t);return mf(()=>{e.current=t}),e}function k5(t){t===void 0&&(t={});const{placement:e="bottom",strategy:r="absolute",middleware:s=[],platform:l,elements:{reference:c,floating:u}={},transform:p=!0,whileElementsMounted:m,open:v}=t,[y,x]=w.useState({x:0,y:0,strategy:r,placement:e,middlewareData:{},isPositioned:!1}),[S,E]=w.useState(s);Of(S,s)||E(s);const[k,N]=w.useState(null),[P,O]=w.useState(null),T=w.useCallback(q=>{q!==B.current&&(B.current=q,N(q))},[]),R=w.useCallback(q=>{q!==Q.current&&(Q.current=q,O(q))},[]),D=c||k,K=u||P,B=w.useRef(null),Q=w.useRef(null),ne=w.useRef(y),we=m!=null,ee=ig(m),$=ig(l),te=ig(v),U=w.useCallback(()=>{if(!B.current||!Q.current)return;const q={placement:e,strategy:r,middleware:S};$.current&&(q.platform=$.current),E5(B.current,Q.current,q).then(je=>{const ae={...je,isPositioned:te.current!==!1};W.current&&!Of(ne.current,ae)&&(ne.current=ae,Oc.flushSync(()=>{x(ae)}))})},[S,e,r,$,te]);mf(()=>{v===!1&&ne.current.isPositioned&&(ne.current.isPositioned=!1,x(q=>({...q,isPositioned:!1})))},[v]);const W=w.useRef(!1);mf(()=>(W.current=!0,()=>{W.current=!1}),[]),mf(()=>{if(D&&(B.current=D),K&&(Q.current=K),D&&K){if(ee.current)return ee.current(D,K,U);U()}},[D,K,U,ee,we]);const be=w.useMemo(()=>({reference:B,floating:Q,setReference:T,setFloating:R}),[T,R]),me=w.useMemo(()=>({reference:D,floating:K}),[D,K]),_e=w.useMemo(()=>{const q={position:r,left:0,top:0};if(!me.floating)return q;const je=Rb(me.floating,y.x),ae=Rb(me.floating,y.y);return p?{...q,transform:"translate("+je+"px, "+ae+"px)",...sj(me.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:je,top:ae}},[r,p,me.floating,y.x,y.y]);return w.useMemo(()=>({...y,update:U,refs:be,elements:me,floatingStyles:_e}),[y,U,be,me,_e])}const P5=t=>{function e(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:t,fn(r){const{element:s,padding:l}=typeof t=="function"?t(r):t;return s&&e(s)?s.current!=null?Tb({element:s.current,padding:l}).fn(r):{}:s?Tb({element:s,padding:l}).fn(r):{}}}},T5=(t,e)=>({...y5(t),options:[t,e]}),R5=(t,e)=>({...b5(t),options:[t,e]}),A5=(t,e)=>({...S5(t),options:[t,e]}),O5=(t,e)=>({..._5(t),options:[t,e]}),M5=(t,e)=>({...w5(t),options:[t,e]}),L5=(t,e)=>({...j5(t),options:[t,e]}),I5=(t,e)=>({...P5(t),options:[t,e]});var D5="Arrow",ij=w.forwardRef((t,e)=>{const{children:r,width:s=10,height:l=5,...c}=t;return n.jsx(Ot.svg,{...c,ref:e,width:s,height:l,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?r:n.jsx("polygon",{points:"0,0 30,0 15,10"})})});ij.displayName=D5;var B5=ij;function aj(t){const[e,r]=w.useState(void 0);return rn(()=>{if(t){r({width:t.offsetWidth,height:t.offsetHeight});const s=new ResizeObserver(l=>{if(!Array.isArray(l)||!l.length)return;const c=l[0];let u,p;if("borderBoxSize"in c){const m=c.borderBoxSize,v=Array.isArray(m)?m[0]:m;u=v.inlineSize,p=v.blockSize}else u=t.offsetWidth,p=t.offsetHeight;r({width:u,height:p})});return s.observe(t,{box:"border-box"}),()=>s.unobserve(t)}else r(void 0)},[t]),e}var ex="Popper",[lj,cj]=Ic(ex),[z5,dj]=lj(ex),uj=t=>{const{__scopePopper:e,children:r}=t,[s,l]=w.useState(null);return n.jsx(z5,{scope:e,anchor:s,onAnchorChange:l,children:r})};uj.displayName=ex;var hj="PopperAnchor",fj=w.forwardRef((t,e)=>{const{__scopePopper:r,virtualRef:s,...l}=t,c=dj(hj,r),u=w.useRef(null),p=Zt(e,u),m=w.useRef(null);return w.useEffect(()=>{const v=m.current;m.current=(s==null?void 0:s.current)||u.current,v!==m.current&&c.onAnchorChange(m.current)}),s?null:n.jsx(Ot.div,{...l,ref:p})});fj.displayName=hj;var tx="PopperContent",[$5,F5]=lj(tx),mj=w.forwardRef((t,e)=>{var pe,se,Pe,Me,$e,Ie;const{__scopePopper:r,side:s="bottom",sideOffset:l=0,align:c="center",alignOffset:u=0,arrowPadding:p=0,avoidCollisions:m=!0,collisionBoundary:v=[],collisionPadding:y=0,sticky:x="partial",hideWhenDetached:S=!1,updatePositionStrategy:E="optimized",onPlaced:k,...N}=t,P=dj(tx,r),[O,T]=w.useState(null),R=Zt(e,nt=>T(nt)),[D,K]=w.useState(null),B=aj(D),Q=(B==null?void 0:B.width)??0,ne=(B==null?void 0:B.height)??0,we=s+(c!=="center"?"-"+c:""),ee=typeof y=="number"?y:{top:0,right:0,bottom:0,left:0,...y},$=Array.isArray(v)?v:[v],te=$.length>0,U={padding:ee,boundary:$.filter(q5),altBoundary:te},{refs:W,floatingStyles:be,placement:me,isPositioned:_e,middlewareData:q}=k5({strategy:"fixed",placement:we,whileElementsMounted:(...nt)=>x5(...nt,{animationFrame:E==="always"}),elements:{reference:P.anchor},middleware:[T5({mainAxis:l+ne,alignmentAxis:u}),m&&R5({mainAxis:!0,crossAxis:!1,limiter:x==="partial"?A5():void 0,...U}),m&&O5({...U}),M5({...U,apply:({elements:nt,rects:it,availableWidth:Lt,availableHeight:$t})=>{const{width:Pt,height:_t}=it.reference,Nt=nt.floating.style;Nt.setProperty("--radix-popper-available-width",`${Lt}px`),Nt.setProperty("--radix-popper-available-height",`${$t}px`),Nt.setProperty("--radix-popper-anchor-width",`${Pt}px`),Nt.setProperty("--radix-popper-anchor-height",`${_t}px`)}}),D&&I5({element:D,padding:p}),W5({arrowWidth:Q,arrowHeight:ne}),S&&L5({strategy:"referenceHidden",...U})]}),[je,ae]=vj(me),A=nl(k);rn(()=>{_e&&(A==null||A())},[_e,A]);const H=(pe=q.arrow)==null?void 0:pe.x,V=(se=q.arrow)==null?void 0:se.y,F=((Pe=q.arrow)==null?void 0:Pe.centerOffset)!==0,[le,xe]=w.useState();return rn(()=>{O&&xe(window.getComputedStyle(O).zIndex)},[O]),n.jsx("div",{ref:W.setFloating,"data-radix-popper-content-wrapper":"",style:{...be,transform:_e?be.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:le,"--radix-popper-transform-origin":[(Me=q.transformOrigin)==null?void 0:Me.x,($e=q.transformOrigin)==null?void 0:$e.y].join(" "),...((Ie=q.hide)==null?void 0:Ie.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:n.jsx($5,{scope:r,placedSide:je,onArrowChange:K,arrowX:H,arrowY:V,shouldHideArrow:F,children:n.jsx(Ot.div,{"data-side":je,"data-align":ae,...N,ref:R,style:{...N.style,animation:_e?void 0:"none"}})})})});mj.displayName=tx;var pj="PopperArrow",U5={top:"bottom",right:"left",bottom:"top",left:"right"},gj=w.forwardRef(function(e,r){const{__scopePopper:s,...l}=e,c=F5(pj,s),u=U5[c.placedSide];return n.jsx("span",{ref:c.onArrowChange,style:{position:"absolute",left:c.arrowX,top:c.arrowY,[u]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[c.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[c.placedSide],visibility:c.shouldHideArrow?"hidden":void 0},children:n.jsx(B5,{...l,ref:r,style:{...l.style,display:"block"}})})});gj.displayName=pj;function q5(t){return t!==null}var W5=t=>({name:"transformOrigin",options:t,fn(e){var P,O,T;const{placement:r,rects:s,middlewareData:l}=e,u=((P=l.arrow)==null?void 0:P.centerOffset)!==0,p=u?0:t.arrowWidth,m=u?0:t.arrowHeight,[v,y]=vj(r),x={start:"0%",center:"50%",end:"100%"}[y],S=(((O=l.arrow)==null?void 0:O.x)??0)+p/2,E=(((T=l.arrow)==null?void 0:T.y)??0)+m/2;let k="",N="";return v==="bottom"?(k=u?x:`${S}px`,N=`${-m}px`):v==="top"?(k=u?x:`${S}px`,N=`${s.floating.height+m}px`):v==="right"?(k=`${-m}px`,N=u?x:`${E}px`):v==="left"&&(k=`${s.floating.width+m}px`,N=u?x:`${E}px`),{data:{x:k,y:N}}}});function vj(t){const[e,r="center"]=t.split("-");return[e,r]}var H5=uj,V5=fj,G5=mj,K5=gj;function xj(t){const e=w.useRef({value:t,previous:t});return w.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var yj=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),Z5="VisuallyHidden",Q5=w.forwardRef((t,e)=>n.jsx(Ot.span,{...t,ref:e,style:{...yj,...t.style}}));Q5.displayName=Z5;var Y5=[" ","Enter","ArrowUp","ArrowDown"],J5=[" ","Enter"],il="Select",[tm,rm,X5]=SO(il),[Hc]=Ic(il,[X5,cj]),nm=cj(),[eM,oa]=Hc(il),[tM,rM]=Hc(il),bj=t=>{const{__scopeSelect:e,children:r,open:s,defaultOpen:l,onOpenChange:c,value:u,defaultValue:p,onValueChange:m,dir:v,name:y,autoComplete:x,disabled:S,required:E,form:k}=t,N=nm(e),[P,O]=w.useState(null),[T,R]=w.useState(null),[D,K]=w.useState(!1),B=NO(v),[Q,ne]=Cf({prop:s,defaultProp:l??!1,onChange:c,caller:il}),[we,ee]=Cf({prop:u,defaultProp:p,onChange:m,caller:il}),$=w.useRef(null),te=P?k||!!P.closest("form"):!0,[U,W]=w.useState(new Set),be=Array.from(U).map(me=>me.props.value).join(";");return n.jsx(H5,{...N,children:n.jsxs(eM,{required:E,scope:e,trigger:P,onTriggerChange:O,valueNode:T,onValueNodeChange:R,valueNodeHasChildren:D,onValueNodeHasChildrenChange:K,contentId:lc(),value:we,onValueChange:ee,open:Q,onOpenChange:ne,dir:B,triggerPointerDownPosRef:$,disabled:S,children:[n.jsx(tm.Provider,{scope:e,children:n.jsx(tM,{scope:t.__scopeSelect,onNativeOptionAdd:w.useCallback(me=>{W(_e=>new Set(_e).add(me))},[]),onNativeOptionRemove:w.useCallback(me=>{W(_e=>{const q=new Set(_e);return q.delete(me),q})},[]),children:r})}),te?n.jsxs(Wj,{"aria-hidden":!0,required:E,tabIndex:-1,name:y,autoComplete:x,value:we,onChange:me=>ee(me.target.value),disabled:S,form:k,children:[we===void 0?n.jsx("option",{value:""}):null,Array.from(U)]},be):null]})})};bj.displayName=il;var _j="SelectTrigger",wj=w.forwardRef((t,e)=>{const{__scopeSelect:r,disabled:s=!1,...l}=t,c=nm(r),u=oa(_j,r),p=u.disabled||s,m=Zt(e,u.onTriggerChange),v=rm(r),y=w.useRef("touch"),[x,S,E]=Vj(N=>{const P=v().filter(R=>!R.disabled),O=P.find(R=>R.value===u.value),T=Gj(P,N,O);T!==void 0&&u.onValueChange(T.value)}),k=N=>{p||(u.onOpenChange(!0),E()),N&&(u.triggerPointerDownPosRef.current={x:Math.round(N.pageX),y:Math.round(N.pageY)})};return n.jsx(V5,{asChild:!0,...c,children:n.jsx(Ot.button,{type:"button",role:"combobox","aria-controls":u.contentId,"aria-expanded":u.open,"aria-required":u.required,"aria-autocomplete":"none",dir:u.dir,"data-state":u.open?"open":"closed",disabled:p,"data-disabled":p?"":void 0,"data-placeholder":Hj(u.value)?"":void 0,...l,ref:m,onClick:zt(l.onClick,N=>{N.currentTarget.focus(),y.current!=="mouse"&&k(N)}),onPointerDown:zt(l.onPointerDown,N=>{y.current=N.pointerType;const P=N.target;P.hasPointerCapture(N.pointerId)&&P.releasePointerCapture(N.pointerId),N.button===0&&N.ctrlKey===!1&&N.pointerType==="mouse"&&(k(N),N.preventDefault())}),onKeyDown:zt(l.onKeyDown,N=>{const P=x.current!=="";!(N.ctrlKey||N.altKey||N.metaKey)&&N.key.length===1&&S(N.key),!(P&&N.key===" ")&&Y5.includes(N.key)&&(k(),N.preventDefault())})})})});wj.displayName=_j;var jj="SelectValue",Sj=w.forwardRef((t,e)=>{const{__scopeSelect:r,className:s,style:l,children:c,placeholder:u="",...p}=t,m=oa(jj,r),{onValueNodeHasChildrenChange:v}=m,y=c!==void 0,x=Zt(e,m.onValueNodeChange);return rn(()=>{v(y)},[v,y]),n.jsx(Ot.span,{...p,ref:x,style:{pointerEvents:"none"},children:Hj(m.value)?n.jsx(n.Fragment,{children:u}):c})});Sj.displayName=jj;var nM="SelectIcon",Ej=w.forwardRef((t,e)=>{const{__scopeSelect:r,children:s,...l}=t;return n.jsx(Ot.span,{"aria-hidden":!0,...l,ref:e,children:s||""})});Ej.displayName=nM;var oM="SelectPortal",Nj=t=>n.jsx(Av,{asChild:!0,...t});Nj.displayName=oM;var al="SelectContent",Cj=w.forwardRef((t,e)=>{const r=oa(al,t.__scopeSelect),[s,l]=w.useState();if(rn(()=>{l(new DocumentFragment)},[]),!r.open){const c=s;return c?Oc.createPortal(n.jsx(kj,{scope:t.__scopeSelect,children:n.jsx(tm.Slot,{scope:t.__scopeSelect,children:n.jsx("div",{children:t.children})})}),c):null}return n.jsx(Pj,{...t,ref:e})});Cj.displayName=al;var Co=10,[kj,sa]=Hc(al),sM="SelectContentImpl",iM=Cc("SelectContent.RemoveScroll"),Pj=w.forwardRef((t,e)=>{const{__scopeSelect:r,position:s="item-aligned",onCloseAutoFocus:l,onEscapeKeyDown:c,onPointerDownOutside:u,side:p,sideOffset:m,align:v,alignOffset:y,arrowPadding:x,collisionBoundary:S,collisionPadding:E,sticky:k,hideWhenDetached:N,avoidCollisions:P,...O}=t,T=oa(al,r),[R,D]=w.useState(null),[K,B]=w.useState(null),Q=Zt(e,pe=>D(pe)),[ne,we]=w.useState(null),[ee,$]=w.useState(null),te=rm(r),[U,W]=w.useState(!1),be=w.useRef(!1);w.useEffect(()=>{if(R)return r1(R)},[R]),Kw();const me=w.useCallback(pe=>{const[se,...Pe]=te().map(Ie=>Ie.ref.current),[Me]=Pe.slice(-1),$e=document.activeElement;for(const Ie of pe)if(Ie===$e||(Ie==null||Ie.scrollIntoView({block:"nearest"}),Ie===se&&K&&(K.scrollTop=0),Ie===Me&&K&&(K.scrollTop=K.scrollHeight),Ie==null||Ie.focus(),document.activeElement!==$e))return},[te,K]),_e=w.useCallback(()=>me([ne,R]),[me,ne,R]);w.useEffect(()=>{U&&_e()},[U,_e]);const{onOpenChange:q,triggerPointerDownPosRef:je}=T;w.useEffect(()=>{if(R){let pe={x:0,y:0};const se=Me=>{var $e,Ie;pe={x:Math.abs(Math.round(Me.pageX)-((($e=je.current)==null?void 0:$e.x)??0)),y:Math.abs(Math.round(Me.pageY)-(((Ie=je.current)==null?void 0:Ie.y)??0))}},Pe=Me=>{pe.x<=10&&pe.y<=10?Me.preventDefault():R.contains(Me.target)||q(!1),document.removeEventListener("pointermove",se),je.current=null};return je.current!==null&&(document.addEventListener("pointermove",se),document.addEventListener("pointerup",Pe,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",se),document.removeEventListener("pointerup",Pe,{capture:!0})}}},[R,q,je]),w.useEffect(()=>{const pe=()=>q(!1);return window.addEventListener("blur",pe),window.addEventListener("resize",pe),()=>{window.removeEventListener("blur",pe),window.removeEventListener("resize",pe)}},[q]);const[ae,A]=Vj(pe=>{const se=te().filter($e=>!$e.disabled),Pe=se.find($e=>$e.ref.current===document.activeElement),Me=Gj(se,pe,Pe);Me&&setTimeout(()=>Me.ref.current.focus())}),H=w.useCallback((pe,se,Pe)=>{const Me=!be.current&&!Pe;(T.value!==void 0&&T.value===se||Me)&&(we(pe),Me&&(be.current=!0))},[T.value]),V=w.useCallback(()=>R==null?void 0:R.focus(),[R]),F=w.useCallback((pe,se,Pe)=>{const Me=!be.current&&!Pe;(T.value!==void 0&&T.value===se||Me)&&$(pe)},[T.value]),le=s==="popper"?tv:Tj,xe=le===tv?{side:p,sideOffset:m,align:v,alignOffset:y,arrowPadding:x,collisionBoundary:S,collisionPadding:E,sticky:k,hideWhenDetached:N,avoidCollisions:P}:{};return n.jsx(kj,{scope:r,content:R,viewport:K,onViewportChange:B,itemRefCallback:H,selectedItem:ne,onItemLeave:V,itemTextRefCallback:F,focusSelectedItem:_e,selectedItemText:ee,position:s,isPositioned:U,searchRef:ae,children:n.jsx(Ov,{as:iM,allowPinchZoom:!0,children:n.jsx(Rv,{asChild:!0,trapped:T.open,onMountAutoFocus:pe=>{pe.preventDefault()},onUnmountAutoFocus:zt(l,pe=>{var se;(se=T.trigger)==null||se.focus({preventScroll:!0}),pe.preventDefault()}),children:n.jsx(Tv,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:pe=>pe.preventDefault(),onDismiss:()=>T.onOpenChange(!1),children:n.jsx(le,{role:"listbox",id:T.contentId,"data-state":T.open?"open":"closed",dir:T.dir,onContextMenu:pe=>pe.preventDefault(),...O,...xe,onPlaced:()=>W(!0),ref:Q,style:{display:"flex",flexDirection:"column",outline:"none",...O.style},onKeyDown:zt(O.onKeyDown,pe=>{const se=pe.ctrlKey||pe.altKey||pe.metaKey;if(pe.key==="Tab"&&pe.preventDefault(),!se&&pe.key.length===1&&A(pe.key),["ArrowUp","ArrowDown","Home","End"].includes(pe.key)){let Me=te().filter($e=>!$e.disabled).map($e=>$e.ref.current);if(["ArrowUp","End"].includes(pe.key)&&(Me=Me.slice().reverse()),["ArrowUp","ArrowDown"].includes(pe.key)){const $e=pe.target,Ie=Me.indexOf($e);Me=Me.slice(Ie+1)}setTimeout(()=>me(Me)),pe.preventDefault()}})})})})})})});Pj.displayName=sM;var aM="SelectItemAlignedPosition",Tj=w.forwardRef((t,e)=>{const{__scopeSelect:r,onPlaced:s,...l}=t,c=oa(al,r),u=sa(al,r),[p,m]=w.useState(null),[v,y]=w.useState(null),x=Zt(e,Q=>y(Q)),S=rm(r),E=w.useRef(!1),k=w.useRef(!0),{viewport:N,selectedItem:P,selectedItemText:O,focusSelectedItem:T}=u,R=w.useCallback(()=>{if(c.trigger&&c.valueNode&&p&&v&&N&&P&&O){const Q=c.trigger.getBoundingClientRect(),ne=v.getBoundingClientRect(),we=c.valueNode.getBoundingClientRect(),ee=O.getBoundingClientRect();if(c.dir!=="rtl"){const $e=ee.left-ne.left,Ie=we.left-$e,nt=Q.left-Ie,it=Q.width+nt,Lt=Math.max(it,ne.width),$t=window.innerWidth-Co,Pt=bb(Ie,[Co,Math.max(Co,$t-Lt)]);p.style.minWidth=it+"px",p.style.left=Pt+"px"}else{const $e=ne.right-ee.right,Ie=window.innerWidth-we.right-$e,nt=window.innerWidth-Q.right-Ie,it=Q.width+nt,Lt=Math.max(it,ne.width),$t=window.innerWidth-Co,Pt=bb(Ie,[Co,Math.max(Co,$t-Lt)]);p.style.minWidth=it+"px",p.style.right=Pt+"px"}const $=S(),te=window.innerHeight-Co*2,U=N.scrollHeight,W=window.getComputedStyle(v),be=parseInt(W.borderTopWidth,10),me=parseInt(W.paddingTop,10),_e=parseInt(W.borderBottomWidth,10),q=parseInt(W.paddingBottom,10),je=be+me+U+q+_e,ae=Math.min(P.offsetHeight*5,je),A=window.getComputedStyle(N),H=parseInt(A.paddingTop,10),V=parseInt(A.paddingBottom,10),F=Q.top+Q.height/2-Co,le=te-F,xe=P.offsetHeight/2,pe=P.offsetTop+xe,se=be+me+pe,Pe=je-se;if(se<=F){const $e=$.length>0&&P===$[$.length-1].ref.current;p.style.bottom="0px";const Ie=v.clientHeight-N.offsetTop-N.offsetHeight,nt=Math.max(le,xe+($e?V:0)+Ie+_e),it=se+nt;p.style.height=it+"px"}else{const $e=$.length>0&&P===$[0].ref.current;p.style.top="0px";const nt=Math.max(F,be+N.offsetTop+($e?H:0)+xe)+Pe;p.style.height=nt+"px",N.scrollTop=se-F+N.offsetTop}p.style.margin=`${Co}px 0`,p.style.minHeight=ae+"px",p.style.maxHeight=te+"px",s==null||s(),requestAnimationFrame(()=>E.current=!0)}},[S,c.trigger,c.valueNode,p,v,N,P,O,c.dir,s]);rn(()=>R(),[R]);const[D,K]=w.useState();rn(()=>{v&&K(window.getComputedStyle(v).zIndex)},[v]);const B=w.useCallback(Q=>{Q&&k.current===!0&&(R(),T==null||T(),k.current=!1)},[R,T]);return n.jsx(cM,{scope:r,contentWrapper:p,shouldExpandOnScrollRef:E,onScrollButtonChange:B,children:n.jsx("div",{ref:m,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:D},children:n.jsx(Ot.div,{...l,ref:x,style:{boxSizing:"border-box",maxHeight:"100%",...l.style}})})})});Tj.displayName=aM;var lM="SelectPopperPosition",tv=w.forwardRef((t,e)=>{const{__scopeSelect:r,align:s="start",collisionPadding:l=Co,...c}=t,u=nm(r);return n.jsx(G5,{...u,...c,ref:e,align:s,collisionPadding:l,style:{boxSizing:"border-box",...c.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});tv.displayName=lM;var[cM,rx]=Hc(al,{}),rv="SelectViewport",Rj=w.forwardRef((t,e)=>{const{__scopeSelect:r,nonce:s,...l}=t,c=sa(rv,r),u=rx(rv,r),p=Zt(e,c.onViewportChange),m=w.useRef(0);return n.jsxs(n.Fragment,{children:[n.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),n.jsx(tm.Slot,{scope:r,children:n.jsx(Ot.div,{"data-radix-select-viewport":"",role:"presentation",...l,ref:p,style:{position:"relative",flex:1,overflow:"hidden auto",...l.style},onScroll:zt(l.onScroll,v=>{const y=v.currentTarget,{contentWrapper:x,shouldExpandOnScrollRef:S}=u;if(S!=null&&S.current&&x){const E=Math.abs(m.current-y.scrollTop);if(E>0){const k=window.innerHeight-Co*2,N=parseFloat(x.style.minHeight),P=parseFloat(x.style.height),O=Math.max(N,P);if(O<k){const T=O+E,R=Math.min(k,T),D=T-R;x.style.height=R+"px",x.style.bottom==="0px"&&(y.scrollTop=D>0?D:0,x.style.justifyContent="flex-end")}}}m.current=y.scrollTop})})})]})});Rj.displayName=rv;var Aj="SelectGroup",[dM,uM]=Hc(Aj),hM=w.forwardRef((t,e)=>{const{__scopeSelect:r,...s}=t,l=lc();return n.jsx(dM,{scope:r,id:l,children:n.jsx(Ot.div,{role:"group","aria-labelledby":l,...s,ref:e})})});hM.displayName=Aj;var Oj="SelectLabel",Mj=w.forwardRef((t,e)=>{const{__scopeSelect:r,...s}=t,l=uM(Oj,r);return n.jsx(Ot.div,{id:l.id,...s,ref:e})});Mj.displayName=Oj;var Mf="SelectItem",[fM,Lj]=Hc(Mf),Ij=w.forwardRef((t,e)=>{const{__scopeSelect:r,value:s,disabled:l=!1,textValue:c,...u}=t,p=oa(Mf,r),m=sa(Mf,r),v=p.value===s,[y,x]=w.useState(c??""),[S,E]=w.useState(!1),k=Zt(e,T=>{var R;return(R=m.itemRefCallback)==null?void 0:R.call(m,T,s,l)}),N=lc(),P=w.useRef("touch"),O=()=>{l||(p.onValueChange(s),p.onOpenChange(!1))};if(s==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return n.jsx(fM,{scope:r,value:s,disabled:l,textId:N,isSelected:v,onItemTextChange:w.useCallback(T=>{x(R=>R||((T==null?void 0:T.textContent)??"").trim())},[]),children:n.jsx(tm.ItemSlot,{scope:r,value:s,disabled:l,textValue:y,children:n.jsx(Ot.div,{role:"option","aria-labelledby":N,"data-highlighted":S?"":void 0,"aria-selected":v&&S,"data-state":v?"checked":"unchecked","aria-disabled":l||void 0,"data-disabled":l?"":void 0,tabIndex:l?void 0:-1,...u,ref:k,onFocus:zt(u.onFocus,()=>E(!0)),onBlur:zt(u.onBlur,()=>E(!1)),onClick:zt(u.onClick,()=>{P.current!=="mouse"&&O()}),onPointerUp:zt(u.onPointerUp,()=>{P.current==="mouse"&&O()}),onPointerDown:zt(u.onPointerDown,T=>{P.current=T.pointerType}),onPointerMove:zt(u.onPointerMove,T=>{var R;P.current=T.pointerType,l?(R=m.onItemLeave)==null||R.call(m):P.current==="mouse"&&T.currentTarget.focus({preventScroll:!0})}),onPointerLeave:zt(u.onPointerLeave,T=>{var R;T.currentTarget===document.activeElement&&((R=m.onItemLeave)==null||R.call(m))}),onKeyDown:zt(u.onKeyDown,T=>{var D;((D=m.searchRef)==null?void 0:D.current)!==""&&T.key===" "||(J5.includes(T.key)&&O(),T.key===" "&&T.preventDefault())})})})})});Ij.displayName=Mf;var Kd="SelectItemText",Dj=w.forwardRef((t,e)=>{const{__scopeSelect:r,className:s,style:l,...c}=t,u=oa(Kd,r),p=sa(Kd,r),m=Lj(Kd,r),v=rM(Kd,r),[y,x]=w.useState(null),S=Zt(e,O=>x(O),m.onItemTextChange,O=>{var T;return(T=p.itemTextRefCallback)==null?void 0:T.call(p,O,m.value,m.disabled)}),E=y==null?void 0:y.textContent,k=w.useMemo(()=>n.jsx("option",{value:m.value,disabled:m.disabled,children:E},m.value),[m.disabled,m.value,E]),{onNativeOptionAdd:N,onNativeOptionRemove:P}=v;return rn(()=>(N(k),()=>P(k)),[N,P,k]),n.jsxs(n.Fragment,{children:[n.jsx(Ot.span,{id:m.textId,...c,ref:S}),m.isSelected&&u.valueNode&&!u.valueNodeHasChildren?Oc.createPortal(c.children,u.valueNode):null]})});Dj.displayName=Kd;var Bj="SelectItemIndicator",zj=w.forwardRef((t,e)=>{const{__scopeSelect:r,...s}=t;return Lj(Bj,r).isSelected?n.jsx(Ot.span,{"aria-hidden":!0,...s,ref:e}):null});zj.displayName=Bj;var nv="SelectScrollUpButton",$j=w.forwardRef((t,e)=>{const r=sa(nv,t.__scopeSelect),s=rx(nv,t.__scopeSelect),[l,c]=w.useState(!1),u=Zt(e,s.onScrollButtonChange);return rn(()=>{if(r.viewport&&r.isPositioned){let p=function(){const v=m.scrollTop>0;c(v)};const m=r.viewport;return p(),m.addEventListener("scroll",p),()=>m.removeEventListener("scroll",p)}},[r.viewport,r.isPositioned]),l?n.jsx(Uj,{...t,ref:u,onAutoScroll:()=>{const{viewport:p,selectedItem:m}=r;p&&m&&(p.scrollTop=p.scrollTop-m.offsetHeight)}}):null});$j.displayName=nv;var ov="SelectScrollDownButton",Fj=w.forwardRef((t,e)=>{const r=sa(ov,t.__scopeSelect),s=rx(ov,t.__scopeSelect),[l,c]=w.useState(!1),u=Zt(e,s.onScrollButtonChange);return rn(()=>{if(r.viewport&&r.isPositioned){let p=function(){const v=m.scrollHeight-m.clientHeight,y=Math.ceil(m.scrollTop)<v;c(y)};const m=r.viewport;return p(),m.addEventListener("scroll",p),()=>m.removeEventListener("scroll",p)}},[r.viewport,r.isPositioned]),l?n.jsx(Uj,{...t,ref:u,onAutoScroll:()=>{const{viewport:p,selectedItem:m}=r;p&&m&&(p.scrollTop=p.scrollTop+m.offsetHeight)}}):null});Fj.displayName=ov;var Uj=w.forwardRef((t,e)=>{const{__scopeSelect:r,onAutoScroll:s,...l}=t,c=sa("SelectScrollButton",r),u=w.useRef(null),p=rm(r),m=w.useCallback(()=>{u.current!==null&&(window.clearInterval(u.current),u.current=null)},[]);return w.useEffect(()=>()=>m(),[m]),rn(()=>{var y;const v=p().find(x=>x.ref.current===document.activeElement);(y=v==null?void 0:v.ref.current)==null||y.scrollIntoView({block:"nearest"})},[p]),n.jsx(Ot.div,{"aria-hidden":!0,...l,ref:e,style:{flexShrink:0,...l.style},onPointerDown:zt(l.onPointerDown,()=>{u.current===null&&(u.current=window.setInterval(s,50))}),onPointerMove:zt(l.onPointerMove,()=>{var v;(v=c.onItemLeave)==null||v.call(c),u.current===null&&(u.current=window.setInterval(s,50))}),onPointerLeave:zt(l.onPointerLeave,()=>{m()})})}),mM="SelectSeparator",qj=w.forwardRef((t,e)=>{const{__scopeSelect:r,...s}=t;return n.jsx(Ot.div,{"aria-hidden":!0,...s,ref:e})});qj.displayName=mM;var sv="SelectArrow",pM=w.forwardRef((t,e)=>{const{__scopeSelect:r,...s}=t,l=nm(r),c=oa(sv,r),u=sa(sv,r);return c.open&&u.position==="popper"?n.jsx(K5,{...l,...s,ref:e}):null});pM.displayName=sv;var gM="SelectBubbleInput",Wj=w.forwardRef(({__scopeSelect:t,value:e,...r},s)=>{const l=w.useRef(null),c=Zt(s,l),u=xj(e);return w.useEffect(()=>{const p=l.current;if(!p)return;const m=window.HTMLSelectElement.prototype,y=Object.getOwnPropertyDescriptor(m,"value").set;if(u!==e&&y){const x=new Event("change",{bubbles:!0});y.call(p,e),p.dispatchEvent(x)}},[u,e]),n.jsx(Ot.select,{...r,style:{...yj,...r.style},ref:c,defaultValue:e})});Wj.displayName=gM;function Hj(t){return t===""||t===void 0}function Vj(t){const e=nl(t),r=w.useRef(""),s=w.useRef(0),l=w.useCallback(u=>{const p=r.current+u;e(p),(function m(v){r.current=v,window.clearTimeout(s.current),v!==""&&(s.current=window.setTimeout(()=>m(""),1e3))})(p)},[e]),c=w.useCallback(()=>{r.current="",window.clearTimeout(s.current)},[]);return w.useEffect(()=>()=>window.clearTimeout(s.current),[]),[r,l,c]}function Gj(t,e,r){const l=e.length>1&&Array.from(e).every(v=>v===e[0])?e[0]:e,c=r?t.indexOf(r):-1;let u=vM(t,Math.max(c,0));l.length===1&&(u=u.filter(v=>v!==r));const m=u.find(v=>v.textValue.toLowerCase().startsWith(l.toLowerCase()));return m!==r?m:void 0}function vM(t,e){return t.map((r,s)=>t[(e+s)%t.length])}var xM=bj,Kj=wj,yM=Sj,bM=Ej,_M=Nj,Zj=Cj,wM=Rj,Qj=Mj,Yj=Ij,jM=Dj,SM=zj,Jj=$j,Xj=Fj,eS=qj;const qa=xM,Wa=yM,Zi=w.forwardRef(({className:t,children:e,...r},s)=>n.jsxs(Kj,{ref:s,className:xt("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...r,children:[e,n.jsx(bM,{asChild:!0,children:n.jsx(Hf,{className:"h-4 w-4 opacity-50"})})]}));Zi.displayName=Kj.displayName;const tS=w.forwardRef(({className:t,...e},r)=>n.jsx(Jj,{ref:r,className:xt("flex cursor-default items-center justify-center py-1",t),...e,children:n.jsx(j1,{className:"h-4 w-4"})}));tS.displayName=Jj.displayName;const rS=w.forwardRef(({className:t,...e},r)=>n.jsx(Xj,{ref:r,className:xt("flex cursor-default items-center justify-center py-1",t),...e,children:n.jsx(Hf,{className:"h-4 w-4"})}));rS.displayName=Xj.displayName;const Qi=w.forwardRef(({className:t,children:e,position:r="popper",...s},l)=>n.jsx(_M,{children:n.jsxs(Zj,{ref:l,className:xt("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-lg border border-slate-200 bg-white text-slate-700 shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:r,...s,children:[n.jsx(tS,{}),n.jsx(wM,{className:xt("p-0",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),n.jsx(rS,{})]})}));Qi.displayName=Zj.displayName;const EM=w.forwardRef(({className:t,...e},r)=>n.jsx(Qj,{ref:r,className:xt("px-2 py-1.5 text-sm font-semibold",t),...e}));EM.displayName=Qj.displayName;const or=w.forwardRef(({className:t,children:e,...r},s)=>n.jsxs(Yj,{ref:s,className:xt("relative flex w-full cursor-pointer select-none items-center py-3 pl-3 pr-8 text-sm outline-none border-b border-slate-200 last:border-b-0 hover:bg-[#e3f2fd] focus:bg-[#e3f2fd] data-[state=checked]:bg-[#e3f2fd] data-[state=checked]:font-medium data-[disabled]:pointer-events-none data-[disabled]:opacity-50 transition-colors",t),...r,children:[n.jsx("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:n.jsx(SM,{children:n.jsx(ea,{className:"h-4 w-4"})})}),n.jsx(jM,{children:e})]}));or.displayName=Yj.displayName;const NM=w.forwardRef(({className:t,...e},r)=>n.jsx(eS,{ref:r,className:xt("-mx-1 my-1 h-px bg-muted",t),...e}));NM.displayName=eS.displayName;var nS="AlertDialog",[CM]=Ic(nS,[o1]),ei=o1(),oS=t=>{const{__scopeAlertDialog:e,...r}=t,s=ei(e);return n.jsx(b1,{...s,...r,modal:!0})};oS.displayName=nS;var kM="AlertDialogTrigger",PM=w.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...s}=t,l=ei(r);return n.jsx(cR,{...l,...s,ref:e})});PM.displayName=kM;var TM="AlertDialogPortal",sS=t=>{const{__scopeAlertDialog:e,...r}=t,s=ei(e);return n.jsx(_1,{...s,...r})};sS.displayName=TM;var RM="AlertDialogOverlay",iS=w.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...s}=t,l=ei(r);return n.jsx(Dv,{...l,...s,ref:e})});iS.displayName=RM;var uc="AlertDialogContent",[AM,OM]=CM(uc),MM=WP("AlertDialogContent"),aS=w.forwardRef((t,e)=>{const{__scopeAlertDialog:r,children:s,...l}=t,c=ei(r),u=w.useRef(null),p=Zt(e,u),m=w.useRef(null);return n.jsx(sR,{contentName:uc,titleName:lS,docsSlug:"alert-dialog",children:n.jsx(AM,{scope:r,cancelRef:m,children:n.jsxs(Bv,{role:"alertdialog",...c,...l,ref:p,onOpenAutoFocus:zt(l.onOpenAutoFocus,v=>{var y;v.preventDefault(),(y=m.current)==null||y.focus({preventScroll:!0})}),onPointerDownOutside:v=>v.preventDefault(),onInteractOutside:v=>v.preventDefault(),children:[n.jsx(MM,{children:s}),n.jsx(IM,{contentRef:u})]})})})});aS.displayName=uc;var lS="AlertDialogTitle",cS=w.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...s}=t,l=ei(r);return n.jsx(zv,{...l,...s,ref:e})});cS.displayName=lS;var dS="AlertDialogDescription",uS=w.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...s}=t,l=ei(r);return n.jsx($v,{...l,...s,ref:e})});uS.displayName=dS;var LM="AlertDialogAction",hS=w.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...s}=t,l=ei(r);return n.jsx(Fv,{...l,...s,ref:e})});hS.displayName=LM;var fS="AlertDialogCancel",mS=w.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...s}=t,{cancelRef:l}=OM(fS,r),c=ei(r),u=Zt(e,l);return n.jsx(Fv,{...c,...s,ref:u})});mS.displayName=fS;var IM=({contentRef:t})=>{const e=`\`${uc}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${uc}\` by passing a \`${dS}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${uc}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return w.useEffect(()=>{var s;document.getElementById((s=t.current)==null?void 0:s.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},DM=oS,BM=sS,pS=iS,gS=aS,vS=hS,xS=mS,yS=cS,bS=uS;const zM=DM,$M=BM,_S=w.forwardRef(({className:t,...e},r)=>n.jsx(pS,{className:xt("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:r}));_S.displayName=pS.displayName;const wS=w.forwardRef(({className:t,...e},r)=>n.jsxs($M,{children:[n.jsx(_S,{}),n.jsx(gS,{ref:r,className:xt("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...e})]}));wS.displayName=gS.displayName;const jS=({className:t,...e})=>n.jsx("div",{className:xt("flex flex-col space-y-2 text-center sm:text-left",t),...e});jS.displayName="AlertDialogHeader";const SS=({className:t,...e})=>n.jsx("div",{className:xt("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});SS.displayName="AlertDialogFooter";const ES=w.forwardRef(({className:t,...e},r)=>n.jsx(yS,{ref:r,className:xt("text-lg font-semibold",t),...e}));ES.displayName=yS.displayName;const NS=w.forwardRef(({className:t,...e},r)=>n.jsx(bS,{ref:r,className:xt("text-sm text-muted-foreground",t),...e}));NS.displayName=bS.displayName;const CS=w.forwardRef(({className:t,...e},r)=>n.jsx(vS,{ref:r,className:xt(Gv(),t),...e}));CS.displayName=vS.displayName;const kS=w.forwardRef(({className:t,...e},r)=>n.jsx(xS,{ref:r,className:xt(Gv({variant:"outline"}),"mt-2 sm:mt-0",t),...e}));kS.displayName=xS.displayName;const FM=[{value:"BC",label:"Balnerio Cambori (BC)"},{value:"NOVA ESPERANA",label:"Nova Esperana"},{value:"CAMBORI",label:"Cambori"},{value:"BARRA",label:"Barra"},{value:"ESTALEIRO",label:"Estaleiro"},{value:"TAQUARAS",label:"Taquaras"},{value:"LARANJEIRAS",label:"Laranjeiras"},{value:"PRAIA DOS AMORES",label:"Praia dos Amores"},{value:"PRAIA BRAVA",label:"Praia Brava"},{value:"ITAJAI",label:"Itaja"},{value:"ITAPEMA",label:"Itapema"},{value:"NAVEGANTES",label:"Navegantes"},{value:"PENHA",label:"Penha"},{value:"PORTO BELO",label:"Porto Belo"},{value:"TIJUCAS",label:"Tijucas"},{value:"PIARRAS",label:"Piarras"},{value:"BOMBINHAS",label:"Bombinhas"},{value:"OUTRO",label:"Outro"}],UM=({cliente:t,onSuccess:e,onCancel:r})=>{const[s,l]=w.useState(t||{nome:"",cpf:"",telefone:"",email:"",enderecos:[{logradouro:"",numero:"",complemento:"",bairro:"",cidade:"",cep:"",regiao:"",ponto_referencia:"",observacoes:"",is_principal:!0}]}),[c,u]=w.useState(!1),p=async x=>{if(x.preventDefault(),!s.nome||!s.telefone){Se.error("Preencha nome e telefone");return}if(!s.enderecos.some(E=>E.logradouro&&E.numero&&E.cidade)){Se.error("Preencha pelo menos um endereo completo");return}u(!0);const S=Se.loading(t!=null&&t.id?"Atualizando cliente...":"Cadastrando cliente...");try{if(!(t!=null&&t.id)){const{data:N}=await Le.from("clientes").select("id, nome").ilike("nome",s.nome.trim()).limit(1);if(N&&N.length>0){Se.error(`J existe um cliente cadastrado com o nome "${N[0].nome}"`,{id:S}),u(!1);return}}let E;if(t!=null&&t.id){const{error:N}=await Le.from("clientes").update({nome:s.nome,cpf:s.cpf||null,telefone:s.telefone,email:s.email||null,updated_at:new Date().toISOString()}).eq("id",t.id);if(N)throw N;E=t.id,await Le.from("enderecos").delete().eq("cliente_id",E)}else{const{data:N,error:P}=await Le.from("clientes").insert([{nome:s.nome,cpf:s.cpf||null,telefone:s.telefone,email:s.email||null}]).select().single();if(P)throw P;E=N.id}const k=s.enderecos.filter(N=>N.logradouro&&N.numero&&N.cidade).map((N,P)=>({cliente_id:E,logradouro:N.logradouro,numero:N.numero,complemento:N.complemento||null,bairro:N.bairro||null,cidade:N.cidade,cep:N.cep||null,regiao:N.regiao||null,ponto_referencia:N.ponto_referencia||null,observacoes:N.observacoes||null,is_principal:P===0}));if(k.length>0){const{error:N}=await Le.from("enderecos").insert(k);if(N)throw N}Se.success(t!=null&&t.id?"Cliente atualizado com sucesso!":"Cliente cadastrado com sucesso!",{id:S}),e()}catch(E){console.error("Erro ao salvar cliente:",E),Se.error("Erro ao salvar cliente: "+E.message,{id:S})}finally{u(!1)}},m=()=>{l({...s,enderecos:[...s.enderecos,{logradouro:"",numero:"",complemento:"",bairro:"",cidade:"",cep:"",regiao:"",ponto_referencia:"",observacoes:"",is_principal:!1}]})},v=x=>{if(s.enderecos.length===1){Se.error(" necessrio pelo menos um endereo");return}l({...s,enderecos:s.enderecos.filter((S,E)=>E!==x)})},y=(x,S,E)=>{const k=[...s.enderecos];k[x]={...k[x],[S]:E},l({...s,enderecos:k})};return n.jsxs("form",{onSubmit:p,className:"space-y-4",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Nome Completo *"}),n.jsx("input",{type:"text",value:s.nome,onChange:x=>l({...s,nome:x.target.value}),placeholder:"Digite o nome completo",className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-100",required:!0})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"CPF"}),n.jsx("input",{type:"text",value:s.cpf,onChange:x=>l({...s,cpf:x.target.value}),placeholder:"000.000.000-00",className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-100"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Telefone *"}),n.jsx("input",{type:"text",value:s.telefone,onChange:x=>l({...s,telefone:x.target.value}),placeholder:"(00) 00000-0000",className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-100",required:!0})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"E-mail"}),n.jsx("input",{type:"email",value:s.email,onChange:x=>l({...s,email:x.target.value}),placeholder:"cliente@email.com",className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-100"})]})]}),n.jsxs("div",{className:"space-y-3 pt-2 border-t border-slate-200",children:[n.jsxs("div",{className:"flex justify-between items-center pt-2",children:[n.jsx("h3",{className:"text-sm font-semibold text-slate-700",children:"Endereos"}),n.jsxs("button",{type:"button",onClick:m,className:"flex items-center gap-2 px-3 py-1.5 text-sm border border-slate-300 rounded-lg font-medium text-slate-700 hover:bg-slate-50 transition-colors",children:[n.jsx(Vf,{className:"w-4 h-4"}),"Adicionar Endereo"]})]}),s.enderecos.map((x,S)=>n.jsxs("div",{className:"bg-slate-50 rounded-lg border border-slate-200 p-4",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsxs("h4",{className:"text-sm font-semibold text-slate-700",children:["Endereo ",S+1," ",S===0&&"(Principal)"]}),s.enderecos.length>1&&n.jsx("button",{type:"button",onClick:()=>v(S),className:"p-1.5 hover:bg-red-50 rounded transition-colors",children:n.jsx($c,{className:"w-4 h-4 text-red-500"})})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"CEP"}),n.jsx("input",{type:"text",value:x.cep||"",onChange:E=>y(S,"cep",E.target.value),placeholder:"00000-000",className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-100"})]}),n.jsx("div",{children:n.jsx(kt,{label:"Regio",options:[{value:"",label:"Selecione a regio"},...FM.map(E=>({value:E.value,label:E.label}))],value:x.regiao||"",onChange:E=>y(S,"regiao",E),placeholder:"Selecione a regio"})})]}),n.jsxs("div",{className:"grid grid-cols-[2fr_1fr] gap-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Rua/Logradouro *"}),n.jsx("input",{type:"text",value:x.logradouro,onChange:E=>y(S,"logradouro",E.target.value),placeholder:"Nome da rua",className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-100"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Nmero *"}),n.jsx("input",{type:"text",value:x.numero,onChange:E=>y(S,"numero",E.target.value),placeholder:"123",className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-100"})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Bairro"}),n.jsx("input",{type:"text",value:x.bairro,onChange:E=>y(S,"bairro",E.target.value),placeholder:"Nome do bairro",className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-100"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Cidade *"}),n.jsx("input",{type:"text",value:x.cidade,onChange:E=>y(S,"cidade",E.target.value),placeholder:"Ex: Balnerio Cambori",className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-100"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Complemento"}),n.jsx("input",{type:"text",value:x.complemento,onChange:E=>y(S,"complemento",E.target.value),placeholder:"Apto, Bloco, etc.",className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-100"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Ponto de Referncia"}),n.jsx("input",{type:"text",value:x.ponto_referencia,onChange:E=>y(S,"ponto_referencia",E.target.value),placeholder:"Prximo a...",className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-100"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Observaes"}),n.jsx("textarea",{value:x.observacoes,onChange:E=>y(S,"observacoes",E.target.value),placeholder:"Observaes importantes",rows:2,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-100 resize-vertical"})]})]})]},`endereco-${S}-${x.logradouro||"new"}`))]}),n.jsxs("div",{className:"flex gap-3 pt-4",children:[n.jsx("button",{type:"button",onClick:r,className:"flex-1 px-4 py-2 border border-slate-300 rounded-lg font-medium text-slate-700 hover:bg-slate-50 transition-colors",children:"Cancelar"}),n.jsx("button",{type:"submit",disabled:c,className:"flex-1 px-4 py-2 rounded-lg font-medium text-white transition-colors",style:{backgroundColor:c?"#94a3b8":"#376295",cursor:c?"not-allowed":"pointer"},children:c?"Salvando...":t!=null&&t.id?"Atualizar":"Cadastrar"})]})]})},qM=({status:t})=>{const e={"Produzindo no Laboratrio":{color:"bg-blue-100 text-blue-700",icon:uo},"Preparando no Setor de Entregas":{color:"bg-yellow-100 text-yellow-700",icon:uo},"A Caminho":{color:"bg-purple-100 text-purple-700",icon:uo},Entregue:{color:"bg-green-100 text-green-700",icon:el},"No Entregue":{color:"bg-red-100 text-red-700",icon:co},Cancelado:{color:"bg-gray-100 text-gray-700",icon:co},Pendente:{color:"bg-slate-100 text-slate-700",icon:co},Voltou:{color:"bg-orange-100 text-orange-700",icon:co}},{color:r,icon:s}=e[t]||e.Pendente;return n.jsxs(ns,{className:r,children:[n.jsx(s,{className:"w-3 h-3 mr-1"}),t]})};function WM(){const t=Er(),[e,r]=w.useState(!1),[s,l]=w.useState(null),[c,u]=w.useState(""),[p,m]=w.useState([]),[v,y]=w.useState(!0),[x,S]=w.useState(!1),[E,k]=w.useState(null),[N,P]=w.useState(null),[O,T]=w.useState([]),[R,D]=w.useState(!1),[K,B]=w.useState(""),[Q,ne]=w.useState("todas"),we=async()=>{y(!0);try{const{data:V,error:F}=await Le.from("clientes").select(`
          *,
          enderecos (*)
        `).order("nome",{ascending:!0});if(F)throw F;m(V||[]),V&&V.length>0&&!N&&W(V[0])}catch(V){console.error("Erro ao carregar clientes:",V),Se.error("Erro ao carregar clientes")}finally{y(!1)}};w.useEffect(()=>{we()},[]);const ee=p.filter(V=>{var F,le,xe;return V.nome.toLowerCase().includes(c.toLowerCase())||((F=V.telefone)==null?void 0:F.includes(c))||((le=V.cpf)==null?void 0:le.includes(c))||((xe=V.email)==null?void 0:xe.toLowerCase().includes(c.toLowerCase()))}),$=(V,F)=>{F==null||F.stopPropagation(),l(V),r(!0)},te=()=>{r(!1),setTimeout(()=>{l(null)},100)},U=()=>{te(),we()},W=async V=>{P(V),B(""),ne("todas"),await be(V.id)},be=async V=>{D(!0);try{const{data:F,error:le}=await Le.from("entregas").select(`
          *,
          cliente:clientes(id, nome, telefone),
          endereco:enderecos(id, logradouro, numero, bairro, cidade, complemento),
          motoboy:motoboys(id, nome)
        `).eq("cliente_id",V).order("data_entrega",{ascending:!1});if(le)throw le;const xe=(F||[]).map(pe=>{const se=pe.endereco_logradouro?{id:pe.endereco_id,logradouro:pe.endereco_logradouro,numero:pe.endereco_numero,complemento:pe.endereco_complemento,bairro:pe.endereco_bairro,cidade:pe.endereco_cidade}:pe.endereco;return{...pe,endereco:se}});T(xe)}catch(F){console.error("Erro ao carregar entregas:",F),Se.error("Erro ao carregar histrico de entregas"),T([])}finally{D(!1)}},me=async()=>{if(!E)return;const V=Se.loading("Excluindo cliente...");try{const{data:F,error:le}=await Le.from("entregas").select("id").eq("cliente_id",E.id).limit(1);if(le)throw le;if(F&&F.length>0){Se.error("No  possvel excluir cliente com entregas cadastradas",{id:V}),S(!1),k(null);return}await Le.from("enderecos").delete().eq("cliente_id",E.id);const{error:xe}=await Le.from("clientes").delete().eq("id",E.id);if(xe)throw xe;Se.success("Cliente excludo com sucesso!",{id:V}),S(!1),k(null),(N==null?void 0:N.id)===E.id&&(P(null),T([])),we()}catch(F){console.error("Erro ao excluir cliente:",F),Se.error("Erro ao excluir cliente: "+F.message,{id:V})}},_e=(V,F)=>{F==null||F.stopPropagation(),k(V),S(!0)},q=O.filter(V=>{var F,le;if(Q!=="todas"&&V.status!==Q)return!1;if(K){const xe=K.toLowerCase();return((F=V.requisicao)==null?void 0:F.toLowerCase().includes(xe))||((le=V.observacoes)==null?void 0:le.toLowerCase().includes(xe))}return!0}),je=O.length,ae=O.filter(V=>V.status==="Produzindo no Laboratrio").length,A=O.filter(V=>V.status==="A Caminho").length,H=O.filter(V=>V.status==="Entregue").length;return n.jsxs("div",{className:"bg-gradient-to-br from-slate-50 to-slate-100 min-h-screen",children:[n.jsx("div",{className:"py-8 shadow-sm",style:{background:"linear-gradient(135deg, #457bba 0%, #890d5d 100%)"},children:n.jsx("div",{className:"max-w-7xl mx-auto px-6",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("button",{onClick:()=>t(-1),className:"p-2 rounded-lg bg-white/20 hover:bg-white/30 transition-colors",children:n.jsx(vr,{className:"w-6 h-6 text-white"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-4xl font-bold text-white",children:"Clientes"}),n.jsx("p",{className:"text-base text-white opacity-90 mt-1",children:"Gerencie sua base de clientes"})]})]})})}),n.jsxs("div",{className:"max-w-7xl mx-auto p-4 md:p-8 space-y-6",children:[n.jsx(us,{open:e,onOpenChange:r,children:n.jsxs(Oo,{style:{maxWidth:"900px",maxHeight:"90vh",overflowY:"auto"},children:[n.jsxs(Mo,{children:[n.jsx(Lo,{style:{color:"#376295"},children:s?"Editar Cliente":"Novo Cliente"}),n.jsx(Zf,{children:s?"Atualize as informaes do cliente e seus endereos.":"Preencha os dados do novo cliente e pelo menos um endereo."})]}),n.jsx(UM,{cliente:s,onSuccess:U,onCancel:te})]},(s==null?void 0:s.id)||"new")}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[n.jsxs(Jt,{className:"border-none shadow-lg",children:[n.jsxs(Hs,{className:"space-y-3",children:[n.jsx(Vs,{children:"Lista de Clientes"}),n.jsxs("div",{className:"relative",children:[n.jsx(fo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400 w-4 h-4"}),n.jsx(ir,{placeholder:"Buscar cliente...",value:c,onChange:V=>u(V.target.value),className:"pl-10"})]}),n.jsxs(gr,{className:"w-full",style:{background:"#376295",color:"white"},onClick:()=>{r(!0),l(null)},children:[n.jsx(Vf,{className:"w-4 h-4 mr-2"}),"Novo Cliente"]})]}),n.jsx(sr,{className:"p-0",children:v?n.jsx("div",{className:"p-6 text-center text-slate-500",children:"Carregando clientes..."}):ee.length===0?n.jsx("div",{className:"p-6 text-center text-slate-500",children:c?"Nenhum cliente encontrado":"Nenhum cliente cadastrado"}):n.jsx("div",{className:"divide-y divide-slate-100 max-h-[600px] overflow-y-auto",children:ee.map(V=>n.jsx("div",{onClick:()=>W(V),className:`p-4 hover:bg-slate-50 transition-colors cursor-pointer ${(N==null?void 0:N.id)===V.id?"bg-blue-50 border-l-4 border-[#457bba]":""}`,children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-[#457bba] to-[#890d5d] flex items-center justify-center flex-shrink-0",children:n.jsx(Un,{className:"w-5 h-5 text-white"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("h3",{className:"font-semibold text-slate-900 truncate",children:V.nome}),n.jsxs("div",{className:"flex items-center gap-1 text-sm text-slate-600 mt-1",children:[n.jsx(ou,{className:"w-3 h-3"}),V.telefone]}),n.jsxs("div",{className:"flex gap-2 mt-2",children:[n.jsxs(gr,{variant:"outline",size:"sm",onClick:F=>$(V,F),className:"h-7 text-xs",children:[n.jsx(Kf,{className:"w-3 h-3 mr-1"}),"Editar"]}),n.jsxs(gr,{variant:"outline",size:"sm",onClick:F=>_e(V,F),className:"h-7 text-xs text-red-600 hover:text-red-700",children:[n.jsx($c,{className:"w-3 h-3 mr-1"}),"Excluir"]})]})]})]})},V.id))})})]}),n.jsx("div",{className:"lg:col-span-2 space-y-6",children:N?n.jsxs(n.Fragment,{children:[n.jsx(Jt,{className:"border-none shadow-lg overflow-hidden",children:n.jsx(Hs,{className:"bg-gradient-to-r from-[#457bba] to-[#890d5d] text-white",children:n.jsxs(Vs,{className:"text-2xl flex items-center gap-3",children:[n.jsx(Un,{className:"w-8 h-8"}),n.jsxs("div",{children:[n.jsx("div",{children:N.nome}),n.jsx("div",{className:"text-sm font-normal opacity-90 mt-1",children:N.telefone})]})]})})}),n.jsx(Jt,{className:"border-none shadow-lg",children:n.jsx(sr,{className:"pt-6",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[n.jsx(nu,{className:"w-5 h-5 text-[#f59e0b]"}),n.jsx("h3",{className:"font-semibold text-slate-900",children:"Endereos"})]}),N.enderecos&&N.enderecos.length>0?n.jsx("div",{className:"space-y-3",children:N.enderecos.map((V,F)=>n.jsxs("div",{className:"p-3 bg-slate-50 rounded-lg text-sm",children:[n.jsxs("div",{className:"font-medium text-slate-900",children:[V.logradouro,", ",V.numero]}),V.complemento&&n.jsx("div",{className:"text-slate-600",children:V.complemento}),n.jsxs("div",{className:"text-slate-600",children:[V.bairro&&`${V.bairro} - `,V.cidade]}),V.cep&&n.jsxs("div",{className:"text-slate-500",children:["CEP: ",V.cep]}),V.regiao&&n.jsx("div",{className:"mt-1",children:n.jsx(ns,{variant:"outline",className:"text-xs",children:V.regiao})}),V.is_principal&&n.jsx("div",{className:"mt-2",children:n.jsx("span",{className:"text-xs bg-green-100 text-green-700 px-2 py-1 rounded",children:"Endereo Principal"})})]},F))}):n.jsx("p",{className:"text-slate-500 text-sm",children:"Nenhum endereo cadastrado"}),n.jsxs("div",{className:"mt-4 space-y-2",children:[N.cpf&&n.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[n.jsx(E1,{className:"w-4 h-4 text-slate-400"}),n.jsxs("span",{className:"text-slate-600",children:["CPF: ",N.cpf]})]}),N.email&&n.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[n.jsx(UR,{className:"w-4 h-4 text-slate-400"}),n.jsx("span",{className:"text-slate-600",children:N.email})]})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-lg text-slate-900 mb-4",children:"Estatsticas de Entregas"}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("button",{type:"button",onClick:()=>ne("todas"),className:"bg-white rounded-xl shadow-sm p-5 cursor-pointer transition-all hover:shadow-md",style:{border:Q==="todas"?"2px solid #376295":"2px solid transparent"},children:[n.jsxs("div",{className:"flex items-center justify-center gap-2 mb-3",children:[n.jsx("div",{className:"p-2 rounded-lg",style:{backgroundColor:"#E8F0F8"},children:n.jsx(Ji,{className:"w-6 h-6",style:{color:"#376295"}})}),n.jsx("span",{className:"text-sm font-bold text-slate-700",children:"Total"})]}),n.jsx("div",{className:"text-4xl font-bold text-center",style:{color:"#376295"},children:je})]}),n.jsxs("button",{type:"button",onClick:()=>ne("Produzindo no Laboratrio"),className:"bg-white rounded-xl shadow-sm p-5 cursor-pointer transition-all hover:shadow-md",style:{border:Q==="Produzindo no Laboratrio"?"2px solid #890d5d":"2px solid transparent"},children:[n.jsxs("div",{className:"flex items-center justify-center gap-2 mb-3",children:[n.jsx("div",{className:"p-2 rounded-lg",style:{backgroundColor:"#F5E8F5"},children:n.jsx(uo,{className:"w-6 h-6",style:{color:"#890d5d"}})}),n.jsx("span",{className:"text-sm font-bold text-slate-700",children:"Produo"})]}),n.jsx("div",{className:"text-4xl font-bold text-center",style:{color:"#890d5d"},children:ae})]}),n.jsxs("button",{type:"button",onClick:()=>ne("A Caminho"),className:"bg-white rounded-xl shadow-sm p-5 cursor-pointer transition-all hover:shadow-md",style:{border:Q==="A Caminho"?"2px solid #f97316":"2px solid transparent"},children:[n.jsxs("div",{className:"flex items-center justify-center gap-2 mb-3",children:[n.jsx("div",{className:"p-2 rounded-lg",style:{backgroundColor:"#FEF3E8"},children:n.jsx(Ao,{className:"w-6 h-6",style:{color:"#f97316"}})}),n.jsx("span",{className:"text-sm font-bold text-slate-700",children:"A Caminho"})]}),n.jsx("div",{className:"text-4xl font-bold text-center",style:{color:"#f97316"},children:A})]}),n.jsxs("button",{type:"button",onClick:()=>ne("Entregue"),className:"bg-white rounded-xl shadow-sm p-5 cursor-pointer transition-all hover:shadow-md",style:{border:Q==="Entregue"?"2px solid #3dac38":"2px solid transparent"},children:[n.jsxs("div",{className:"flex items-center justify-center gap-2 mb-3",children:[n.jsx("div",{className:"p-2 rounded-lg",style:{backgroundColor:"#E8F5E8"},children:n.jsx(ea,{className:"w-6 h-6",style:{color:"#3dac38"}})}),n.jsx("span",{className:"text-sm font-bold text-slate-700",children:"Entregues"})]}),n.jsx("div",{className:"text-4xl font-bold text-center",style:{color:"#3dac38"},children:H})]})]})]})]})})}),n.jsxs(Jt,{className:"border-none shadow-lg",children:[n.jsxs(Hs,{children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs(Vs,{className:"flex items-center gap-2",children:[n.jsx(tn,{className:"w-5 h-5 text-[#457bba]"}),"Histrico de Entregas"]}),n.jsxs("div",{className:"text-sm text-slate-500",children:[q.length," entregas"]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 mt-4",children:[n.jsxs("div",{className:"relative",children:[n.jsx(fo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400 w-4 h-4"}),n.jsx(ir,{placeholder:"Buscar por requisio...",value:K,onChange:V=>B(V.target.value),className:"pl-10"})]}),n.jsx(kt,{options:[{value:"todas",label:"Todos os Status"},{value:"Produzindo no Laboratrio",label:"Produo"},{value:"A Caminho",label:"A Caminho"},{value:"Entregue",label:"Entregue"},{value:"Pendente",label:"Pendente"},{value:"No Entregue",label:"No Entregue"},{value:"Voltou",label:"Voltou"},{value:"Cancelado",label:"Cancelado"}],value:Q,onChange:ne,placeholder:"Todos os Status"})]})]}),n.jsx(sr,{className:"p-0",children:R?n.jsx("div",{className:"p-6 text-center text-slate-500",children:"Carregando histrico..."}):q.length===0?n.jsxs("div",{className:"p-12 text-center",children:[n.jsx(uo,{className:"w-12 h-12 text-slate-300 mx-auto mb-4"}),n.jsx("p",{className:"text-slate-500",children:K||Q!=="todas"?"Nenhuma entrega encontrada com os filtros aplicados":"Nenhuma entrega encontrada para este cliente"})]}):n.jsx("div",{className:"divide-y divide-slate-100 max-h-[500px] overflow-y-auto",children:q.map(V=>{var F;return n.jsx("button",{type:"button",onClick:()=>t(`/detalhes-romaneio?id=${V.id}`),className:"w-full p-4 hover:bg-slate-50 transition-colors cursor-pointer text-left",children:n.jsx("div",{className:"flex justify-between items-start gap-4",children:n.jsxs("div",{className:"flex-1 space-y-2",children:[n.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[n.jsxs("span",{className:"font-bold text-slate-900",children:["#",V.requisicao]}),n.jsx(qM,{status:V.status})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm text-slate-600",children:[((F=V.motoboy)==null?void 0:F.nome)&&n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Motoboy:"})," ",V.motoboy.nome]}),V.regiao&&n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(nu,{className:"w-3 h-3"}),V.regiao]}),V.data_entrega&&n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(Dc,{className:"w-3 h-3"}),new Date(V.data_entrega).toLocaleDateString("pt-BR")]}),V.valor&&n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(zc,{className:"w-3 h-3"}),"R$ ",V.valor.toFixed(2)]})]})]})})},V.id)})})})]})]}):n.jsx(Jt,{className:"border-none shadow-lg",children:n.jsxs(sr,{className:"p-12 text-center",children:[n.jsx(Un,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),n.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-2",children:"Selecione um Cliente"}),n.jsx("p",{className:"text-slate-600",children:"Escolha um cliente da lista para visualizar sua ficha completa e histrico de entregas"})]})})})]})]}),n.jsx(zM,{open:x,onOpenChange:S,children:n.jsxs(wS,{children:[n.jsxs(jS,{children:[n.jsx(ES,{children:"Tem certeza?"}),n.jsxs(NS,{children:["Esta ao no pode ser desfeita. O cliente ",n.jsx("strong",{children:E==null?void 0:E.nome})," e todos os seus endereos sero excludos permanentemente."]})]}),n.jsxs(SS,{children:[n.jsx(kS,{onClick:()=>k(null),children:"Cancelar"}),n.jsx(CS,{onClick:me,style:{background:"#ef4444"},children:"Excluir"})]})]})})]})}function Ar(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function fs(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}function HM(t,e){const r=Ar(t);return isNaN(e)?fs(t,NaN):(e&&r.setDate(r.getDate()+e),r)}function om(t,e){const r=Ar(t);if(isNaN(e))return fs(t,NaN);if(!e)return r;const s=r.getDate(),l=fs(t,r.getTime());l.setMonth(r.getMonth()+e+1,0);const c=l.getDate();return s>=c?l:(r.setFullYear(l.getFullYear(),l.getMonth(),s),r)}const PS=6048e5,VM=864e5,TS=6e4,RS=36e5;let GM={};function sm(){return GM}function Pc(t,e){var p,m,v,y;const r=sm(),s=(e==null?void 0:e.weekStartsOn)??((m=(p=e==null?void 0:e.locale)==null?void 0:p.options)==null?void 0:m.weekStartsOn)??r.weekStartsOn??((y=(v=r.locale)==null?void 0:v.options)==null?void 0:y.weekStartsOn)??0,l=Ar(t),c=l.getDay(),u=(c<s?7:0)+c-s;return l.setDate(l.getDate()-u),l.setHours(0,0,0,0),l}function Lf(t){return Pc(t,{weekStartsOn:1})}function AS(t){const e=Ar(t),r=e.getFullYear(),s=fs(t,0);s.setFullYear(r+1,0,4),s.setHours(0,0,0,0);const l=Lf(s),c=fs(t,0);c.setFullYear(r,0,4),c.setHours(0,0,0,0);const u=Lf(c);return e.getTime()>=l.getTime()?r+1:e.getTime()>=u.getTime()?r:r-1}function If(t){const e=Ar(t);return e.setHours(0,0,0,0),e}function Ab(t){const e=Ar(t),r=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return r.setUTCFullYear(e.getFullYear()),+t-+r}function KM(t,e){const r=If(t),s=If(e),l=+r-Ab(r),c=+s-Ab(s);return Math.round((l-c)/VM)}function ZM(t){const e=AS(t),r=fs(t,0);return r.setFullYear(e,0,4),r.setHours(0,0,0,0),Lf(r)}function hn(t,e){const r=If(t),s=If(e);return+r==+s}function QM(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function YM(t){if(!QM(t)&&typeof t!="number")return!1;const e=Ar(t);return!isNaN(Number(e))}function nx(t){const e=Ar(t),r=e.getMonth();return e.setFullYear(e.getFullYear(),r+1,0),e.setHours(23,59,59,999),e}function ox(t,e){const r=Ar(t.start),s=Ar(t.end);let l=+r>+s;const c=l?+r:+s,u=l?s:r;u.setHours(0,0,0,0);let p=1;const m=[];for(;+u<=c;)m.push(Ar(u)),u.setDate(u.getDate()+p),u.setHours(0,0,0,0);return l?m.reverse():m}function au(t){const e=Ar(t);return e.setDate(1),e.setHours(0,0,0,0),e}function JM(t){const e=Ar(t),r=fs(t,0);return r.setFullYear(e.getFullYear(),0,1),r.setHours(0,0,0,0),r}const XM={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},eL=(t,e,r)=>{let s;const l=XM[t];return typeof l=="string"?s=l:e===1?s=l.one:s=l.other.replace("{{count}}",e.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+s:s+" ago":s};function hc(t){return(e={})=>{const r=e.width?String(e.width):t.defaultWidth;return t.formats[r]||t.formats[t.defaultWidth]}}const tL={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},rL={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},nL={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},oL={date:hc({formats:tL,defaultWidth:"full"}),time:hc({formats:rL,defaultWidth:"full"}),dateTime:hc({formats:nL,defaultWidth:"full"})},sL={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},iL=(t,e,r,s)=>sL[t];function as(t){return(e,r)=>{const s=r!=null&&r.context?String(r.context):"standalone";let l;if(s==="formatting"&&t.formattingValues){const u=t.defaultFormattingWidth||t.defaultWidth,p=r!=null&&r.width?String(r.width):u;l=t.formattingValues[p]||t.formattingValues[u]}else{const u=t.defaultWidth,p=r!=null&&r.width?String(r.width):t.defaultWidth;l=t.values[p]||t.values[u]}const c=t.argumentCallback?t.argumentCallback(e):e;return l[c]}}const aL={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},lL={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},cL={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},dL={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},uL={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},hL={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},fL=(t,e)=>{const r=Number(t),s=r%100;if(s>20||s<10)switch(s%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},mL={ordinalNumber:fL,era:as({values:aL,defaultWidth:"wide"}),quarter:as({values:lL,defaultWidth:"wide",argumentCallback:t=>t-1}),month:as({values:cL,defaultWidth:"wide"}),day:as({values:dL,defaultWidth:"wide"}),dayPeriod:as({values:uL,defaultWidth:"wide",formattingValues:hL,defaultFormattingWidth:"wide"})};function ls(t){return(e,r={})=>{const s=r.width,l=s&&t.matchPatterns[s]||t.matchPatterns[t.defaultMatchWidth],c=e.match(l);if(!c)return null;const u=c[0],p=s&&t.parsePatterns[s]||t.parsePatterns[t.defaultParseWidth],m=Array.isArray(p)?gL(p,x=>x.test(u)):pL(p,x=>x.test(u));let v;v=t.valueCallback?t.valueCallback(m):m,v=r.valueCallback?r.valueCallback(v):v;const y=e.slice(u.length);return{value:v,rest:y}}}function pL(t,e){for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&e(t[r]))return r}function gL(t,e){for(let r=0;r<t.length;r++)if(e(t[r]))return r}function OS(t){return(e,r={})=>{const s=e.match(t.matchPattern);if(!s)return null;const l=s[0],c=e.match(t.parsePattern);if(!c)return null;let u=t.valueCallback?t.valueCallback(c[0]):c[0];u=r.valueCallback?r.valueCallback(u):u;const p=e.slice(l.length);return{value:u,rest:p}}}const vL=/^(\d+)(th|st|nd|rd)?/i,xL=/\d+/i,yL={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},bL={any:[/^b/i,/^(a|c)/i]},_L={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},wL={any:[/1/i,/2/i,/3/i,/4/i]},jL={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},SL={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},EL={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},NL={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},CL={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},kL={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},PL={ordinalNumber:OS({matchPattern:vL,parsePattern:xL,valueCallback:t=>parseInt(t,10)}),era:ls({matchPatterns:yL,defaultMatchWidth:"wide",parsePatterns:bL,defaultParseWidth:"any"}),quarter:ls({matchPatterns:_L,defaultMatchWidth:"wide",parsePatterns:wL,defaultParseWidth:"any",valueCallback:t=>t+1}),month:ls({matchPatterns:jL,defaultMatchWidth:"wide",parsePatterns:SL,defaultParseWidth:"any"}),day:ls({matchPatterns:EL,defaultMatchWidth:"wide",parsePatterns:NL,defaultParseWidth:"any"}),dayPeriod:ls({matchPatterns:CL,defaultMatchWidth:"any",parsePatterns:kL,defaultParseWidth:"any"})},TL={code:"en-US",formatDistance:eL,formatLong:oL,formatRelative:iL,localize:mL,match:PL,options:{weekStartsOn:0,firstWeekContainsDate:1}};function RL(t){const e=Ar(t);return KM(e,JM(e))+1}function AL(t){const e=Ar(t),r=+Lf(e)-+ZM(e);return Math.round(r/PS)+1}function MS(t,e){var y,x,S,E;const r=Ar(t),s=r.getFullYear(),l=sm(),c=(e==null?void 0:e.firstWeekContainsDate)??((x=(y=e==null?void 0:e.locale)==null?void 0:y.options)==null?void 0:x.firstWeekContainsDate)??l.firstWeekContainsDate??((E=(S=l.locale)==null?void 0:S.options)==null?void 0:E.firstWeekContainsDate)??1,u=fs(t,0);u.setFullYear(s+1,0,c),u.setHours(0,0,0,0);const p=Pc(u,e),m=fs(t,0);m.setFullYear(s,0,c),m.setHours(0,0,0,0);const v=Pc(m,e);return r.getTime()>=p.getTime()?s+1:r.getTime()>=v.getTime()?s:s-1}function OL(t,e){var p,m,v,y;const r=sm(),s=(e==null?void 0:e.firstWeekContainsDate)??((m=(p=e==null?void 0:e.locale)==null?void 0:p.options)==null?void 0:m.firstWeekContainsDate)??r.firstWeekContainsDate??((y=(v=r.locale)==null?void 0:v.options)==null?void 0:y.firstWeekContainsDate)??1,l=MS(t,e),c=fs(t,0);return c.setFullYear(l,0,s),c.setHours(0,0,0,0),Pc(c,e)}function ML(t,e){const r=Ar(t),s=+Pc(r,e)-+OL(r,e);return Math.round(s/PS)+1}function Mt(t,e){const r=t<0?"-":"",s=Math.abs(t).toString().padStart(e,"0");return r+s}const Li={y(t,e){const r=t.getFullYear(),s=r>0?r:1-r;return Mt(e==="yy"?s%100:s,e.length)},M(t,e){const r=t.getMonth();return e==="M"?String(r+1):Mt(r+1,2)},d(t,e){return Mt(t.getDate(),e.length)},a(t,e){const r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(t,e){return Mt(t.getHours()%12||12,e.length)},H(t,e){return Mt(t.getHours(),e.length)},m(t,e){return Mt(t.getMinutes(),e.length)},s(t,e){return Mt(t.getSeconds(),e.length)},S(t,e){const r=e.length,s=t.getMilliseconds(),l=Math.trunc(s*Math.pow(10,r-3));return Mt(l,e.length)}},nc={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Ob={G:function(t,e,r){const s=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return r.era(s,{width:"abbreviated"});case"GGGGG":return r.era(s,{width:"narrow"});case"GGGG":default:return r.era(s,{width:"wide"})}},y:function(t,e,r){if(e==="yo"){const s=t.getFullYear(),l=s>0?s:1-s;return r.ordinalNumber(l,{unit:"year"})}return Li.y(t,e)},Y:function(t,e,r,s){const l=MS(t,s),c=l>0?l:1-l;if(e==="YY"){const u=c%100;return Mt(u,2)}return e==="Yo"?r.ordinalNumber(c,{unit:"year"}):Mt(c,e.length)},R:function(t,e){const r=AS(t);return Mt(r,e.length)},u:function(t,e){const r=t.getFullYear();return Mt(r,e.length)},Q:function(t,e,r){const s=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(s);case"QQ":return Mt(s,2);case"Qo":return r.ordinalNumber(s,{unit:"quarter"});case"QQQ":return r.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(s,{width:"wide",context:"formatting"})}},q:function(t,e,r){const s=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(s);case"qq":return Mt(s,2);case"qo":return r.ordinalNumber(s,{unit:"quarter"});case"qqq":return r.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(s,{width:"wide",context:"standalone"})}},M:function(t,e,r){const s=t.getMonth();switch(e){case"M":case"MM":return Li.M(t,e);case"Mo":return r.ordinalNumber(s+1,{unit:"month"});case"MMM":return r.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(s,{width:"wide",context:"formatting"})}},L:function(t,e,r){const s=t.getMonth();switch(e){case"L":return String(s+1);case"LL":return Mt(s+1,2);case"Lo":return r.ordinalNumber(s+1,{unit:"month"});case"LLL":return r.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(s,{width:"wide",context:"standalone"})}},w:function(t,e,r,s){const l=ML(t,s);return e==="wo"?r.ordinalNumber(l,{unit:"week"}):Mt(l,e.length)},I:function(t,e,r){const s=AL(t);return e==="Io"?r.ordinalNumber(s,{unit:"week"}):Mt(s,e.length)},d:function(t,e,r){return e==="do"?r.ordinalNumber(t.getDate(),{unit:"date"}):Li.d(t,e)},D:function(t,e,r){const s=RL(t);return e==="Do"?r.ordinalNumber(s,{unit:"dayOfYear"}):Mt(s,e.length)},E:function(t,e,r){const s=t.getDay();switch(e){case"E":case"EE":case"EEE":return r.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(s,{width:"short",context:"formatting"});case"EEEE":default:return r.day(s,{width:"wide",context:"formatting"})}},e:function(t,e,r,s){const l=t.getDay(),c=(l-s.weekStartsOn+8)%7||7;switch(e){case"e":return String(c);case"ee":return Mt(c,2);case"eo":return r.ordinalNumber(c,{unit:"day"});case"eee":return r.day(l,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(l,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(l,{width:"short",context:"formatting"});case"eeee":default:return r.day(l,{width:"wide",context:"formatting"})}},c:function(t,e,r,s){const l=t.getDay(),c=(l-s.weekStartsOn+8)%7||7;switch(e){case"c":return String(c);case"cc":return Mt(c,e.length);case"co":return r.ordinalNumber(c,{unit:"day"});case"ccc":return r.day(l,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(l,{width:"narrow",context:"standalone"});case"cccccc":return r.day(l,{width:"short",context:"standalone"});case"cccc":default:return r.day(l,{width:"wide",context:"standalone"})}},i:function(t,e,r){const s=t.getDay(),l=s===0?7:s;switch(e){case"i":return String(l);case"ii":return Mt(l,e.length);case"io":return r.ordinalNumber(l,{unit:"day"});case"iii":return r.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(s,{width:"short",context:"formatting"});case"iiii":default:return r.day(s,{width:"wide",context:"formatting"})}},a:function(t,e,r){const l=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.dayPeriod(l,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(l,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(l,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(l,{width:"wide",context:"formatting"})}},b:function(t,e,r){const s=t.getHours();let l;switch(s===12?l=nc.noon:s===0?l=nc.midnight:l=s/12>=1?"pm":"am",e){case"b":case"bb":return r.dayPeriod(l,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(l,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(l,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(l,{width:"wide",context:"formatting"})}},B:function(t,e,r){const s=t.getHours();let l;switch(s>=17?l=nc.evening:s>=12?l=nc.afternoon:s>=4?l=nc.morning:l=nc.night,e){case"B":case"BB":case"BBB":return r.dayPeriod(l,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(l,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(l,{width:"wide",context:"formatting"})}},h:function(t,e,r){if(e==="ho"){let s=t.getHours()%12;return s===0&&(s=12),r.ordinalNumber(s,{unit:"hour"})}return Li.h(t,e)},H:function(t,e,r){return e==="Ho"?r.ordinalNumber(t.getHours(),{unit:"hour"}):Li.H(t,e)},K:function(t,e,r){const s=t.getHours()%12;return e==="Ko"?r.ordinalNumber(s,{unit:"hour"}):Mt(s,e.length)},k:function(t,e,r){let s=t.getHours();return s===0&&(s=24),e==="ko"?r.ordinalNumber(s,{unit:"hour"}):Mt(s,e.length)},m:function(t,e,r){return e==="mo"?r.ordinalNumber(t.getMinutes(),{unit:"minute"}):Li.m(t,e)},s:function(t,e,r){return e==="so"?r.ordinalNumber(t.getSeconds(),{unit:"second"}):Li.s(t,e)},S:function(t,e){return Li.S(t,e)},X:function(t,e,r){const s=t.getTimezoneOffset();if(s===0)return"Z";switch(e){case"X":return Lb(s);case"XXXX":case"XX":return Ba(s);case"XXXXX":case"XXX":default:return Ba(s,":")}},x:function(t,e,r){const s=t.getTimezoneOffset();switch(e){case"x":return Lb(s);case"xxxx":case"xx":return Ba(s);case"xxxxx":case"xxx":default:return Ba(s,":")}},O:function(t,e,r){const s=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+Mb(s,":");case"OOOO":default:return"GMT"+Ba(s,":")}},z:function(t,e,r){const s=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+Mb(s,":");case"zzzz":default:return"GMT"+Ba(s,":")}},t:function(t,e,r){const s=Math.trunc(t.getTime()/1e3);return Mt(s,e.length)},T:function(t,e,r){const s=t.getTime();return Mt(s,e.length)}};function Mb(t,e=""){const r=t>0?"-":"+",s=Math.abs(t),l=Math.trunc(s/60),c=s%60;return c===0?r+String(l):r+String(l)+e+Mt(c,2)}function Lb(t,e){return t%60===0?(t>0?"-":"+")+Mt(Math.abs(t)/60,2):Ba(t,e)}function Ba(t,e=""){const r=t>0?"-":"+",s=Math.abs(t),l=Mt(Math.trunc(s/60),2),c=Mt(s%60,2);return r+l+e+c}const Ib=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},LS=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},LL=(t,e)=>{const r=t.match(/(P+)(p+)?/)||[],s=r[1],l=r[2];if(!l)return Ib(t,e);let c;switch(s){case"P":c=e.dateTime({width:"short"});break;case"PP":c=e.dateTime({width:"medium"});break;case"PPP":c=e.dateTime({width:"long"});break;case"PPPP":default:c=e.dateTime({width:"full"});break}return c.replace("{{date}}",Ib(s,e)).replace("{{time}}",LS(l,e))},IL={p:LS,P:LL},DL=/^D+$/,BL=/^Y+$/,zL=["D","DD","YY","YYYY"];function $L(t){return DL.test(t)}function FL(t){return BL.test(t)}function UL(t,e,r){const s=qL(t,e,r);if(console.warn(s),zL.includes(t))throw new RangeError(s)}function qL(t,e,r){const s=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${s} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const WL=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,HL=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,VL=/^'([^]*?)'?$/,GL=/''/g,KL=/[a-zA-Z]/;function wt(t,e,r){var y,x,S,E,k,N,P,O;const s=sm(),l=(r==null?void 0:r.locale)??s.locale??TL,c=(r==null?void 0:r.firstWeekContainsDate)??((x=(y=r==null?void 0:r.locale)==null?void 0:y.options)==null?void 0:x.firstWeekContainsDate)??s.firstWeekContainsDate??((E=(S=s.locale)==null?void 0:S.options)==null?void 0:E.firstWeekContainsDate)??1,u=(r==null?void 0:r.weekStartsOn)??((N=(k=r==null?void 0:r.locale)==null?void 0:k.options)==null?void 0:N.weekStartsOn)??s.weekStartsOn??((O=(P=s.locale)==null?void 0:P.options)==null?void 0:O.weekStartsOn)??0,p=Ar(t);if(!YM(p))throw new RangeError("Invalid time value");let m=e.match(HL).map(T=>{const R=T[0];if(R==="p"||R==="P"){const D=IL[R];return D(T,l.formatLong)}return T}).join("").match(WL).map(T=>{if(T==="''")return{isToken:!1,value:"'"};const R=T[0];if(R==="'")return{isToken:!1,value:ZL(T)};if(Ob[R])return{isToken:!0,value:T};if(R.match(KL))throw new RangeError("Format string contains an unescaped latin alphabet character `"+R+"`");return{isToken:!1,value:T}});l.localize.preprocessor&&(m=l.localize.preprocessor(p,m));const v={firstWeekContainsDate:c,weekStartsOn:u,locale:l};return m.map(T=>{if(!T.isToken)return T.value;const R=T.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&FL(R)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&$L(R))&&UL(R,e,String(t));const D=Ob[R[0]];return D(p,R,l.localize,v)}).join("")}function ZL(t){const e=t.match(VL);return e?e[1].replace(GL,"'"):t}function QL(t){return Ar(t).getDay()}function Br(t,e){const s=eI(t);let l;if(s.date){const m=tI(s.date,2);l=rI(m.restDateString,m.year)}if(!l||isNaN(l.getTime()))return new Date(NaN);const c=l.getTime();let u=0,p;if(s.time&&(u=nI(s.time),isNaN(u)))return new Date(NaN);if(s.timezone){if(p=oI(s.timezone),isNaN(p))return new Date(NaN)}else{const m=new Date(c+u),v=new Date(0);return v.setFullYear(m.getUTCFullYear(),m.getUTCMonth(),m.getUTCDate()),v.setHours(m.getUTCHours(),m.getUTCMinutes(),m.getUTCSeconds(),m.getUTCMilliseconds()),v}return new Date(c+u+p)}const nf={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},YL=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,JL=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,XL=/^([+-])(\d{2})(?::?(\d{2}))?$/;function eI(t){const e={},r=t.split(nf.dateTimeDelimiter);let s;if(r.length>2)return e;if(/:/.test(r[0])?s=r[0]:(e.date=r[0],s=r[1],nf.timeZoneDelimiter.test(e.date)&&(e.date=t.split(nf.timeZoneDelimiter)[0],s=t.substr(e.date.length,t.length))),s){const l=nf.timezone.exec(s);l?(e.time=s.replace(l[1],""),e.timezone=l[1]):e.time=s}return e}function tI(t,e){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),s=t.match(r);if(!s)return{year:NaN,restDateString:""};const l=s[1]?parseInt(s[1]):null,c=s[2]?parseInt(s[2]):null;return{year:c===null?l:c*100,restDateString:t.slice((s[1]||s[2]).length)}}function rI(t,e){if(e===null)return new Date(NaN);const r=t.match(YL);if(!r)return new Date(NaN);const s=!!r[4],l=qd(r[1]),c=qd(r[2])-1,u=qd(r[3]),p=qd(r[4]),m=qd(r[5])-1;if(s)return cI(e,p,m)?sI(e,p,m):new Date(NaN);{const v=new Date(0);return!aI(e,c,u)||!lI(e,l)?new Date(NaN):(v.setUTCFullYear(e,c,Math.max(l,u)),v)}}function qd(t){return t?parseInt(t):1}function nI(t){const e=t.match(JL);if(!e)return NaN;const r=ag(e[1]),s=ag(e[2]),l=ag(e[3]);return dI(r,s,l)?r*RS+s*TS+l*1e3:NaN}function ag(t){return t&&parseFloat(t.replace(",","."))||0}function oI(t){if(t==="Z")return 0;const e=t.match(XL);if(!e)return 0;const r=e[1]==="+"?-1:1,s=parseInt(e[2]),l=e[3]&&parseInt(e[3])||0;return uI(s,l)?r*(s*RS+l*TS):NaN}function sI(t,e,r){const s=new Date(0);s.setUTCFullYear(t,0,4);const l=s.getUTCDay()||7,c=(e-1)*7+r+1-l;return s.setUTCDate(s.getUTCDate()+c),s}const iI=[31,null,31,30,31,30,31,31,30,31,30,31];function IS(t){return t%400===0||t%4===0&&t%100!==0}function aI(t,e,r){return e>=0&&e<=11&&r>=1&&r<=(iI[e]||(IS(t)?29:28))}function lI(t,e){return e>=1&&e<=(IS(t)?366:365)}function cI(t,e,r){return e>=1&&e<=53&&r>=0&&r<=6}function dI(t,e,r){return t===24?e===0&&r===0:r>=0&&r<60&&e>=0&&e<60&&t>=0&&t<25}function uI(t,e){return e>=0&&e<=59}function sx(t,e){return om(t,-1)}const hI={lessThanXSeconds:{one:"menos de um segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"meio minuto",lessThanXMinutes:{one:"menos de um minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"cerca de 1 hora",other:"cerca de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 dia",other:"{{count}} dias"},aboutXWeeks:{one:"cerca de 1 semana",other:"cerca de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"cerca de 1 ms",other:"cerca de {{count}} meses"},xMonths:{one:"1 ms",other:"{{count}} meses"},aboutXYears:{one:"cerca de 1 ano",other:"cerca de {{count}} anos"},xYears:{one:"1 ano",other:"{{count}} anos"},overXYears:{one:"mais de 1 ano",other:"mais de {{count}} anos"},almostXYears:{one:"quase 1 ano",other:"quase {{count}} anos"}},fI=(t,e,r)=>{let s;const l=hI[t];return typeof l=="string"?s=l:e===1?s=l.one:s=l.other.replace("{{count}}",String(e)),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"em "+s:"h "+s:s},mI={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/yyyy"},pI={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},gI={full:"{{date}} 's' {{time}}",long:"{{date}} 's' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},vI={date:hc({formats:mI,defaultWidth:"full"}),time:hc({formats:pI,defaultWidth:"full"}),dateTime:hc({formats:gI,defaultWidth:"full"})},xI={lastWeek:t=>{const e=t.getDay();return"'"+(e===0||e===6?"ltimo":"ltima")+"' eeee 's' p"},yesterday:"'ontem s' p",today:"'hoje s' p",tomorrow:"'amanh s' p",nextWeek:"eeee 's' p",other:"P"},yI=(t,e,r,s)=>{const l=xI[t];return typeof l=="function"?l(e):l},bI={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","depois de cristo"]},_I={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1 trimestre","2 trimestre","3 trimestre","4 trimestre"]},wI={narrow:["j","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"],wide:["janeiro","fevereiro","maro","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"]},jI={narrow:["D","S","T","Q","Q","S","S"],short:["dom","seg","ter","qua","qui","sex","sab"],abbreviated:["domingo","segunda","tera","quarta","quinta","sexta","sbado"],wide:["domingo","segunda-feira","tera-feira","quarta-feira","quinta-feira","sexta-feira","sbado"]},SI={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"}},EI={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"}},NI=(t,e)=>{const r=Number(t);return(e==null?void 0:e.unit)==="week"?r+"":r+""},CI={ordinalNumber:NI,era:as({values:bI,defaultWidth:"wide"}),quarter:as({values:_I,defaultWidth:"wide",argumentCallback:t=>t-1}),month:as({values:wI,defaultWidth:"wide"}),day:as({values:jI,defaultWidth:"wide"}),dayPeriod:as({values:SI,defaultWidth:"wide",formattingValues:EI,defaultFormattingWidth:"wide"})},kI=/^(\d+)[o]?/i,PI=/\d+/i,TI={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|d\.?\s?c\.?)/i,wide:/^(antes de cristo|depois de cristo)/i},RI={any:[/^ac/i,/^dc/i],wide:[/^antes de cristo/i,/^depois de cristo/i]},AI={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234]()? trimestre/i},OI={any:[/1/i,/2/i,/3/i,/4/i]},MI={narrow:/^[jfmajsond]/i,abbreviated:/^(jan|fev|mar|abr|mai|jun|jul|ago|set|out|nov|dez)/i,wide:/^(janeiro|fevereiro|maro|abril|maio|junho|julho|agosto|setembro|outubro|novembro|dezembro)/i},LI={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^fev/i,/^mar/i,/^abr/i,/^mai/i,/^jun/i,/^jul/i,/^ago/i,/^set/i,/^out/i,/^nov/i,/^dez/i]},II={narrow:/^(dom|[23456]?|s[a]b)/i,short:/^(dom|[23456]?|s[a]b)/i,abbreviated:/^(dom|seg|ter|qua|qui|sex|s[a]b)/i,wide:/^(domingo|(segunda|ter[c]a|quarta|quinta|sexta)([- ]feira)?|s[a]bado)/i},DI={short:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[a]/i],narrow:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[a]/i],any:[/^d/i,/^seg/i,/^t/i,/^qua/i,/^qui/i,/^sex/i,/^s[a]b/i]},BI={narrow:/^(a|p|mn|md|(da) (manh|tarde|noite))/i,any:/^([ap]\.?\s?m\.?|meia[-\s]noite|meio[-\s]dia|(da) (manh|tarde|noite))/i},zI={any:{am:/^a/i,pm:/^p/i,midnight:/^mn|^meia[-\s]noite/i,noon:/^md|^meio[-\s]dia/i,morning:/manh/i,afternoon:/tarde/i,evening:/tarde/i,night:/noite/i}},$I={ordinalNumber:OS({matchPattern:kI,parsePattern:PI,valueCallback:t=>parseInt(t,10)}),era:ls({matchPatterns:TI,defaultMatchWidth:"wide",parsePatterns:RI,defaultParseWidth:"any"}),quarter:ls({matchPatterns:AI,defaultMatchWidth:"wide",parsePatterns:OI,defaultParseWidth:"any",valueCallback:t=>t+1}),month:ls({matchPatterns:MI,defaultMatchWidth:"wide",parsePatterns:LI,defaultParseWidth:"any"}),day:ls({matchPatterns:II,defaultMatchWidth:"wide",parsePatterns:DI,defaultParseWidth:"any"}),dayPeriod:ls({matchPatterns:BI,defaultMatchWidth:"any",parsePatterns:zI,defaultParseWidth:"any"})},Ks={code:"pt-BR",formatDistance:fI,formatLong:vI,formatRelative:yI,localize:CI,match:$I,options:{weekStartsOn:0,firstWeekContainsDate:1}};var Jd=function(){return Jd=Object.assign||function(e){for(var r,s=1,l=arguments.length;s<l;s++){r=arguments[s];for(var c in r)Object.prototype.hasOwnProperty.call(r,c)&&(e[c]=r[c])}return e},Jd.apply(this,arguments)};var FI=w.createContext(void 0);function UI(){var t=w.useContext(FI);if(!t)throw new Error("useDayPicker must be used within a DayPickerProvider.");return t}w.createContext(void 0);w.forwardRef(function(t,e){var r=UI(),s=r.classNames,l=r.styles,c=[s.button_reset,s.button];t.className&&c.push(t.className);var u=c.join(" "),p=Jd(Jd({},l.button_reset),l.button);return t.style&&Object.assign(p,t.style),n.jsx("button",Jd({},t,{ref:e,type:"button",className:u,style:p}))});w.createContext(void 0);w.createContext(void 0);var ms;(function(t){t.Outside="outside",t.Disabled="disabled",t.Selected="selected",t.Hidden="hidden",t.Today="today",t.RangeStart="range_start",t.RangeEnd="range_end",t.RangeMiddle="range_middle"})(ms||(ms={}));ms.Selected;ms.Disabled;ms.Hidden;ms.Today;ms.RangeEnd;ms.RangeMiddle;ms.RangeStart;ms.Outside;w.createContext(void 0);w.createContext(void 0);w.createContext(void 0);function qI(){const t=Er(),[e,r]=w.useState("dia"),[s,l]=w.useState(new Date),[c,u]=w.useState(new Date),[p,m]=w.useState(!1),[v,y]=w.useState(""),[x,S]=w.useState("todos"),[E,k]=w.useState({tipo:"SEDEX",cliente:"",remetente:"",numero_requisicao:"",codigo_rastreio:"",valor:"",forma_pagamento:"Aguardando",observacoes:"",data_saida:wt(new Date,"yyyy-MM-dd")}),{data:N}=fn({queryKey:["current-user"],queryFn:async()=>{const{data:{user:$}}=await Le.auth.getUser();if(!$)return null;const{data:te}=await Le.from("usuarios").select("id, nome, email").eq("id",$.id).single();return te}}),P=$=>{const te=$.getFullYear(),U=$.getMonth(),W=new Date(te,U,1),me=new Date(te,U+1,0).getDate(),_e=W.getDay(),q=[];for(let je=0;je<_e;je++)q.push({day:"",isCurrentMonth:!1});for(let je=1;je<=me;je++){const ae=new Date(te,U,je);q.push({day:je,isCurrentMonth:!0,isSelected:je===s.getDate()&&U===s.getMonth()&&te===s.getFullYear(),date:ae})}return q},{data:O=[],isLoading:T,refetch:R}=fn({queryKey:["sedex-disktenha",e,s],queryFn:async()=>{let $=Le.from("sedex_disktenha").select("*").order("data_saida",{ascending:!1});if(e==="dia"){const W=wt(s,"yyyy-MM-dd");$=$.eq("data_saida",W)}const{data:te,error:U}=await $;if(U)throw U;return te||[]}}),D=O.length,K=O.filter($=>$.tipo==="SEDEX").length,B=O.filter($=>$.tipo==="PAC").length,Q=O.filter($=>$.tipo==="DISKTENHA").length,ne=O.filter($=>$.tipo==="DISKTENHA").reduce(($,te)=>$+(parseFloat(te.valor)||0),0),we=O.filter($=>{var W,be,me,_e;const te=((W=$.cliente)==null?void 0:W.toLowerCase().includes(v.toLowerCase()))||((be=$.codigo_rastreio)==null?void 0:be.toLowerCase().includes(v.toLowerCase()))||((me=$.remetente)==null?void 0:me.toLowerCase().includes(v.toLowerCase()))||((_e=$.numero_requisicao)==null?void 0:_e.toLowerCase().includes(v.toLowerCase())),U=x==="todos"||$.tipo===x;return te&&U}),ee=async()=>{if(!E.cliente||!E.numero_requisicao){Se.error("Preencha os campos obrigatrios");return}try{const{error:$}=await Le.from("sedex_disktenha").insert([{...E,valor:parseFloat(E.valor)||0,status:"Pendente",atendente:(N==null?void 0:N.nome)||"",created_at:new Date().toISOString()}]);if($)throw $;Se.success("Entrega criada com sucesso!"),m(!1),k({tipo:"SEDEX",cliente:"",remetente:"",numero_requisicao:"",codigo_rastreio:"",valor:"",forma_pagamento:"Aguardando",observacoes:"",data_saida:wt(new Date,"yyyy-MM-dd")}),R()}catch($){console.error("Erro ao criar entrega:",$),Se.error("Erro ao criar entrega")}};return n.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100",children:[n.jsx("div",{className:"py-8 shadow-sm",style:{background:"linear-gradient(135deg, #457bba 0%, #890d5d 100%)"},children:n.jsx("div",{className:"max-w-7xl mx-auto px-6",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("button",{onClick:()=>t(-1),className:"p-2 rounded-lg bg-white/20 hover:bg-white/30 transition-colors",children:n.jsx(vr,{className:"w-6 h-6 text-white"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-4xl font-bold text-white",children:"Sedex / Disktenha"}),n.jsx("p",{className:"text-base text-white opacity-90 mt-1",children:"Gerencie entregas via Sedex, PAC e Disktenha"})]})]})})}),n.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-6 flex flex-col lg:flex-row gap-6",children:[n.jsx("div",{className:"w-full lg:w-80 flex-shrink-0",children:n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6 sticky top-6",children:[n.jsxs(gr,{onClick:()=>m(!0),className:"w-full mb-4 py-6 text-base font-bold uppercase",style:{background:"#890d5d"},children:[n.jsx(Vf,{className:"w-5 h-5 mr-2 font-bold",strokeWidth:4}),"NOVA ENTREGA"]}),n.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[n.jsxs("button",{onClick:()=>r("dia"),className:"flex-1 flex items-center justify-center gap-2 px-4 py-2 rounded-lg font-semibold text-sm transition-all",style:{backgroundColor:e==="dia"?"#376295":"white",color:e==="dia"?"white":"#64748b",border:e==="dia"?"none":"1px solid #e2e8f0"},children:[n.jsx(Dc,{className:"w-4 h-4"}),"Por Dia"]}),n.jsxs("button",{onClick:()=>{r("todas"),S("todos")},className:"flex-1 flex items-center justify-center gap-2 px-4 py-2 rounded-lg font-semibold text-sm transition-all",style:{backgroundColor:e==="todas"?"#376295":"white",color:e==="todas"?"white":"#64748b",border:e==="todas"?"none":"1px solid #e2e8f0"},children:[n.jsx(Ji,{className:"w-4 h-4"}),"Todos"]})]}),n.jsxs("div",{className:"border rounded-xl p-3 mb-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsx("button",{onClick:()=>{const $=new Date(c);$.setMonth($.getMonth()-1),u($)},className:"p-2 hover:bg-slate-100 rounded-lg transition-colors",children:n.jsx(vr,{className:"w-5 h-5 text-slate-600"})}),n.jsx("span",{className:"text-sm font-semibold text-slate-700",children:c.toLocaleDateString("pt-BR",{month:"long",year:"numeric"}).replace(/^\w/,$=>$.toUpperCase())}),n.jsx("button",{onClick:()=>{const $=new Date(c);$.setMonth($.getMonth()+1),u($)},className:"p-2 hover:bg-slate-100 rounded-lg transition-colors",children:n.jsx(Bc,{className:"w-5 h-5 text-slate-600"})})]}),n.jsxs("div",{className:"grid grid-cols-7 gap-1",children:[["dom","seg","ter","qua","qui","sex","sb"].map($=>n.jsx("div",{className:"text-center text-xs font-semibold text-slate-500 py-2",children:$},$)),P(c).map(($,te)=>{var be;if(!$.isCurrentMonth)return n.jsx("div",{className:"aspect-square"},te);const U=$.isSelected,W=((be=$.date)==null?void 0:be.toDateString())===new Date().toDateString();return n.jsx("button",{onClick:()=>{l($.date),r("dia")},className:"aspect-square rounded-lg text-sm font-medium transition-all flex items-center justify-center hover:bg-blue-50",style:{backgroundColor:U?"#376295":"transparent",color:U?"white":W?"#376295":"#1e293b",fontWeight:W||U?"bold":"normal"},children:$.day},te)})]})]}),n.jsxs("div",{className:"text-center pt-4 border-t border-slate-200",children:[n.jsx("div",{className:"text-base font-semibold text-slate-700",children:s.toLocaleDateString("pt-BR",{day:"numeric",month:"long"})}),n.jsxs("div",{className:"text-sm text-slate-500",children:[D," entregas"]})]})]})}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4 mb-6",children:[n.jsx(Jt,{className:"cursor-pointer transition-all hover:shadow-md bg-white rounded-xl shadow-sm",style:{border:x==="todos"?"2px solid #376295":"2px solid transparent"},onClick:()=>S("todos"),children:n.jsxs(sr,{className:"p-5",children:[n.jsxs("div",{className:"flex items-center justify-center gap-2 mb-3",children:[n.jsx("div",{className:"p-2 rounded-lg",style:{backgroundColor:"#E8F0F8"},children:n.jsx(Ji,{className:"w-6 h-6",style:{color:"#376295"}})}),n.jsx("span",{className:"text-sm font-bold text-slate-700",children:"Total"})]}),n.jsx("div",{className:"text-4xl font-bold text-center",style:{color:"#376295"},children:D})]})}),n.jsx(Jt,{className:"cursor-pointer transition-all hover:shadow-md bg-white rounded-xl shadow-sm",style:{border:x==="SEDEX"?"2px solid #890d5d":"2px solid transparent"},onClick:()=>S(x==="SEDEX"?"todos":"SEDEX"),children:n.jsxs(sr,{className:"p-5",children:[n.jsxs("div",{className:"flex items-center justify-center gap-2 mb-3",children:[n.jsx("div",{className:"p-2 rounded-lg",style:{backgroundColor:"#F5E8F5"},children:n.jsx(ab,{className:"w-6 h-6",style:{color:"#890d5d"}})}),n.jsx("span",{className:"text-sm font-bold text-slate-700",children:"Sedex"})]}),n.jsx("div",{className:"text-4xl font-bold text-center",style:{color:"#890d5d"},children:K})]})}),n.jsx(Jt,{className:"cursor-pointer transition-all hover:shadow-md bg-white rounded-xl shadow-sm",style:{border:x==="PAC"?"2px solid #f97316":"2px solid transparent"},onClick:()=>S(x==="PAC"?"todos":"PAC"),children:n.jsxs(sr,{className:"p-5",children:[n.jsxs("div",{className:"flex items-center justify-center gap-2 mb-3",children:[n.jsx("div",{className:"p-2 rounded-lg",style:{backgroundColor:"#FEF3E8"},children:n.jsx(uo,{className:"w-6 h-6",style:{color:"#f97316"}})}),n.jsx("span",{className:"text-sm font-bold text-slate-700",children:"PAC"})]}),n.jsx("div",{className:"text-4xl font-bold text-center",style:{color:"#f97316"},children:B})]})}),n.jsx(Jt,{className:"cursor-pointer transition-all hover:shadow-md bg-white rounded-xl shadow-sm",style:{border:x==="DISKTENHA"?"2px solid #3dac38":"2px solid transparent"},onClick:()=>S(x==="DISKTENHA"?"todos":"DISKTENHA"),children:n.jsxs(sr,{className:"p-5",children:[n.jsxs("div",{className:"flex items-center justify-center gap-2 mb-3",children:[n.jsx("div",{className:"p-2 rounded-lg",style:{backgroundColor:"#E8F5E8"},children:n.jsx(Ao,{className:"w-6 h-6",style:{color:"#3dac38"}})}),n.jsx("span",{className:"text-sm font-bold text-slate-700",children:"Disktenha"})]}),n.jsx("div",{className:"text-4xl font-bold text-center",style:{color:"#3dac38"},children:Q})]})}),n.jsx(Jt,{className:"cursor-pointer transition-all hover:shadow-md rounded-xl shadow-sm",style:{backgroundColor:"#E8F5E8",border:"3px solid #3dac38"},children:n.jsxs(sr,{className:"p-5",children:[n.jsxs("div",{className:"flex items-center justify-center gap-2 mb-3",children:[n.jsx("div",{className:"p-2 rounded-lg",style:{backgroundColor:"#d1f0d1"},children:n.jsx(zc,{className:"w-6 h-6",style:{color:"#3dac38"}})}),n.jsx("span",{className:"text-sm font-bold text-slate-700",children:"Total Disktenha"})]}),n.jsxs("div",{className:"text-3xl font-bold text-center",style:{color:"#3dac38"},children:["R$ ",ne.toFixed(2)]})]})})]}),n.jsx(Jt,{children:n.jsx(sr,{className:"p-4",children:n.jsxs("div",{className:"relative",children:[n.jsx(fo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400 w-4 h-4"}),n.jsx(ir,{placeholder:"Buscar por cliente, cdigo, remetente...",value:v,onChange:$=>y($.target.value),className:"pl-10"})]})})}),n.jsx(Jt,{children:n.jsxs(sr,{className:"p-6",children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:e==="dia"?`Entregas de ${wt(s,"dd 'de' MMMM",{locale:Ks})}`:"Todas as Entregas"}),T?n.jsx("div",{className:"text-center py-8 text-slate-500",children:"Carregando..."}):we.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx(uo,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),n.jsx("p",{className:"text-slate-500",children:"Nenhuma entrega encontrada"})]}):n.jsx("div",{children:we.map($=>n.jsx("div",{onClick:()=>t(`/sedex-detalhes?id=${$.id}`),className:"p-5 mb-4 bg-white rounded-lg border border-slate-200 hover:border-slate-300 transition-all cursor-pointer hover:shadow-md last:mb-0",children:n.jsxs("div",{className:"flex items-center justify-between gap-6",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[n.jsxs("span",{className:"text-base font-semibold",style:{color:"#376295"},children:["#",$.numero_requisicao||"-"]}),$.atendente&&n.jsxs(n.Fragment,{children:[n.jsx("span",{className:"text-slate-400",children:""}),n.jsxs("span",{className:"text-sm font-medium text-slate-600 flex items-center gap-1.5",children:[n.jsx(Un,{className:"w-3.5 h-3.5"}),$.atendente]})]}),n.jsx("span",{className:"text-slate-400",children:""}),n.jsx("span",{className:"px-3 py-1 rounded text-xs font-medium",style:{backgroundColor:$.tipo==="SEDEX"?"#F5E8F5":$.tipo==="PAC"?"#FEF3E8":"#E8F5E8",color:$.tipo==="SEDEX"?"#890d5d":$.tipo==="PAC"?"#f97316":"#3dac38"},children:$.tipo}),n.jsx("span",{className:"px-3 py-1 rounded text-xs font-medium",style:{backgroundColor:$.status==="Entregue"?"#E8F5E8":$.status==="Saiu"?"#FEF3E8":"#F5E8F5",color:$.status==="Entregue"?"#3dac38":$.status==="Saiu"?"#f97316":"#890d5d"},children:$.status})]}),n.jsx("h3",{className:"text-lg font-bold text-slate-900 mb-2",children:$.cliente}),n.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-slate-600",children:[$.codigo_rastreio&&n.jsxs("div",{className:"flex items-center gap-1.5",children:[n.jsx(uo,{className:"w-4 h-4",style:{color:"#1e293b"}}),n.jsx("span",{children:$.codigo_rastreio})]}),$.remetente&&n.jsxs("div",{className:"flex items-center gap-1.5",children:[n.jsx(ab,{className:"w-4 h-4",style:{color:"#1e293b"}}),n.jsx("span",{children:$.remetente})]})]}),$.observacoes&&n.jsx("p",{className:"text-sm text-slate-500 mt-2",children:$.observacoes})]}),n.jsxs("div",{className:"text-right",children:[$.tipo==="DISKTENHA"&&n.jsxs("div",{className:"mb-2",children:[n.jsx("p",{className:"text-xs text-slate-500",children:$.forma_pagamento}),n.jsxs("p",{className:"text-xl font-bold",style:{color:"#3dac38"},children:["R$ ",parseFloat($.valor||0).toFixed(2)]})]}),n.jsx("p",{className:"text-sm text-slate-500",children:wt(Br($.data_saida),"dd/MM/yyyy")})]})]})},$.id))})]})})]})]}),n.jsx(us,{open:p,onOpenChange:m,children:n.jsxs(Oo,{className:"max-w-2xl",children:[n.jsx(Mo,{children:n.jsx(Lo,{children:"Cadastrar Nova Entrega"})}),n.jsxs("div",{className:"space-y-4 py-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsx("div",{children:n.jsx(cl,{label:"Data e Horrio *",value:E.data_saida,onChange:$=>k({...E,data_saida:$}),placeholder:"Selecione a data"})}),n.jsx(kt,{label:"Tipo de Entrega *",options:[{value:"SEDEX",label:"SEDEX"},{value:"PAC",label:"PAC"},{value:"DISKTENHA",label:"DISKTENHA"}],value:E.tipo,onChange:$=>k({...E,tipo:$}),placeholder:"Selecione o tipo"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(pr,{children:"Cliente *"}),n.jsx(ir,{placeholder:"Nome do cliente",value:E.cliente,onChange:$=>k({...E,cliente:$.target.value})})]}),n.jsxs("div",{children:[n.jsx(pr,{children:"Destinatrio"}),n.jsx(ir,{placeholder:"Nome do destinatrio",value:E.remetente,onChange:$=>k({...E,remetente:$.target.value})})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(pr,{children:"Nmero da Requisio *"}),n.jsx(ir,{placeholder:"Ex: 123456",value:E.numero_requisicao,onChange:$=>k({...E,numero_requisicao:$.target.value})})]}),n.jsxs("div",{children:[n.jsx(pr,{children:"Cdigo de Rastreio"}),n.jsx(ir,{placeholder:"Ex: BR123456789BR",value:E.codigo_rastreio,onChange:$=>k({...E,codigo_rastreio:$.target.value})})]})]}),n.jsxs("div",{children:[n.jsx(pr,{children:"Observaes"}),n.jsx(Qf,{placeholder:"Informaes adicionais sobre a entrega",value:E.observacoes,onChange:$=>k({...E,observacoes:$.target.value}),rows:3})]}),n.jsxs("div",{className:E.tipo==="DISKTENHA"?"grid grid-cols-2 gap-4":"",children:[E.tipo==="DISKTENHA"&&n.jsxs("div",{children:[n.jsx(pr,{children:"Valor da Entrega"}),n.jsx(ir,{type:"number",step:"0.01",placeholder:"0.00",value:E.valor,onChange:$=>k({...E,valor:$.target.value})})]}),n.jsx(kt,{label:"Status do Pagamento",options:[{value:"Aguardando",label:"Aguardando"},{value:"Pago",label:"Pago"}],value:E.forma_pagamento,onChange:$=>k({...E,forma_pagamento:$}),placeholder:"Selecione..."})]})]}),n.jsxs("div",{className:"flex justify-end gap-2",children:[n.jsx(gr,{variant:"outline",onClick:()=>m(!1),children:"Cancelar"}),n.jsx(gr,{onClick:ee,style:{background:"linear-gradient(to right, #457bba, #890d5d)"},className:"text-white",children:"Cadastrar"})]})]})})]})}function WI({className:t,...e}){return n.jsx("div",{className:xt("animate-pulse rounded-md bg-primary/10",t),...e})}function HI(){const t=Er(),e=mo(),s=new URLSearchParams(window.location.search).get("id"),[l,c]=w.useState(!1),[u,p]=w.useState(null),{data:m,isLoading:v,error:y}=fn({queryKey:["sedex-detalhe",s],queryFn:async()=>{if(!s)throw new Error("ID da entrega no fornecido");const{data:T,error:R}=await Le.from("sedex_disktenha").select("*").eq("id",s).single();if(R)throw R;return T},enabled:!!s}),x=en({mutationFn:async T=>{const{error:R}=await Le.from("sedex_disktenha").update(T).eq("id",s);if(R)throw R},onSuccess:()=>{e.invalidateQueries({queryKey:["sedex-detalhe",s]}),e.invalidateQueries({queryKey:["sedex-disktenha"]}),Se.success("Entrega atualizada com sucesso!"),c(!1)},onError:T=>{console.error("Erro ao atualizar:",T),Se.error("Erro ao atualizar entrega")}}),S=en({mutationFn:async()=>{const{error:T}=await Le.from("sedex_disktenha").delete().eq("id",s);if(T)throw T},onSuccess:()=>{Se.success("Entrega excluda com sucesso!"),t("/sedex")},onError:T=>{console.error("Erro ao excluir:",T),Se.error("Erro ao excluir entrega")}}),E=()=>{p({tipo:m.tipo,cliente:m.cliente,remetente:m.remetente||"",numero_requisicao:m.numero_requisicao||"",codigo_rastreio:m.codigo_rastreio||"",valor:m.valor,forma_pagamento:m.forma_pagamento,observacoes:m.observacoes||"",data_saida:m.data_saida,status:m.status}),c(!0)},k=()=>{if(!u.cliente||!u.numero_requisicao){Se.error("Preencha os campos obrigatrios");return}x.mutate({...u,valor:parseFloat(u.valor)||0})},N=()=>{confirm("Tem certeza que deseja excluir esta entrega?")&&S.mutate()};if(v)return n.jsx("div",{className:"p-8 bg-gradient-to-br from-slate-50 to-slate-100 min-h-screen",children:n.jsx("div",{className:"max-w-5xl mx-auto",children:n.jsx(WI,{className:"h-96 w-full"})})});if(y||!m)return n.jsx("div",{className:"p-8 bg-gradient-to-br from-slate-50 to-slate-100 min-h-screen",children:n.jsx(Jt,{className:"max-w-2xl mx-auto",children:n.jsxs(sr,{className:"p-12 text-center",children:[n.jsx(tn,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),n.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-2",children:"Entrega No Encontrada"}),n.jsx("p",{className:"text-slate-500 mb-4",children:(y==null?void 0:y.message)||"A entrega no foi encontrada."}),n.jsxs(gr,{onClick:()=>t(-1),children:[n.jsx(vr,{className:"w-4 h-4 mr-2"}),"Voltar"]})]})})});const P={SEDEX:{bg:"#F5E8F5",text:"#890d5d"},PAC:{bg:"#FEF3E8",text:"#f97316"},DISKTENHA:{bg:"#E8F5E8",text:"#3dac38"}},O=P[m.tipo]||P.SEDEX;return m.forma_pagamento==="Pago"||m.forma_pagamento,n.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100",children:[n.jsx("div",{className:"py-8 shadow-sm mb-6",style:{background:"linear-gradient(135deg, #457bba 0%, #890d5d 100%)"},children:n.jsx("div",{className:"max-w-5xl mx-auto px-6",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("button",{onClick:()=>t(-1),className:"p-2 rounded-lg bg-white/20 hover:bg-white/30 transition-colors",children:n.jsx(vr,{className:"w-6 h-6 text-white"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-4xl font-bold text-white",children:"Detalhes da Entrega"}),n.jsx("p",{className:"text-base text-white opacity-90 mt-1",children:"Visualizao completa da entrega"})]})]})})}),n.jsxs("div",{className:"max-w-5xl mx-auto px-6 pb-6 space-y-6",children:[n.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[n.jsxs("div",{children:[n.jsxs("h1",{className:"text-2xl font-bold text-slate-900",children:[m.tipo," #",m.numero_requisicao||m.codigo_rastreio]}),n.jsxs("p",{className:"text-sm text-slate-600 mt-1",children:["Criado em ",wt(Br(m.created_at),"dd/MM/yyyy 's' HH:mm",{locale:Ks})]})]}),n.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[n.jsxs("button",{onClick:E,className:"flex items-center gap-2 px-4 py-2 rounded-lg font-semibold text-sm transition-all",style:{backgroundColor:"#376295",color:"white"},children:[n.jsx(Kf,{size:16}),"Editar"]}),n.jsxs("button",{onClick:()=>window.print(),className:"flex items-center gap-2 px-4 py-2 rounded-lg font-semibold text-sm transition-all",style:{backgroundColor:"#890d5d",color:"white"},children:[n.jsx(Gf,{size:16}),"Imprimir"]}),n.jsxs("button",{onClick:N,className:"flex items-center gap-2 px-4 py-2 rounded-lg font-semibold text-sm transition-all",style:{backgroundColor:"#ef4444",color:"white"},children:[n.jsx($c,{size:16}),"Excluir"]})]})]})}),n.jsx(Jt,{children:n.jsxs(sr,{className:"p-6",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[n.jsx(tn,{className:"w-5 h-5",style:{color:"#376295"}}),n.jsx("h2",{className:"text-lg font-semibold",children:"Informaes da Entrega"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-slate-500 mb-1",children:"Nmero da Requisio"}),n.jsxs("p",{className:"text-xl font-bold",style:{color:"#376295"},children:["#",m.numero_requisicao||"-"]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-slate-500 mb-1",children:"Tipo"}),n.jsx("span",{className:"inline-block px-3 py-1 rounded-md font-medium text-sm",style:{background:O.bg,color:O.text},children:m.tipo})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-slate-500 mb-1",children:"Status"}),n.jsx("span",{className:"inline-block px-3 py-1 rounded-md font-medium text-sm",style:{backgroundColor:m.status==="Entregue"?"#E8F5E8":m.status==="Saiu"?"#FEF3E8":"#F5E8F5",color:m.status==="Entregue"?"#3dac38":m.status==="Saiu"?"#f97316":"#890d5d"},children:m.status})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-slate-500 mb-1",children:"Data de Postagem"}),n.jsx("p",{className:"font-semibold text-slate-900",children:wt(Br(m.data_saida),"dd/MM/yyyy")})]})]}),n.jsx("div",{className:"border-t pt-6",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-slate-500 mb-1",children:"Cliente"}),n.jsx("p",{className:"text-lg font-medium text-slate-900",children:m.cliente})]}),m.remetente&&n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-slate-500 mb-1",children:"Destinatrio"}),n.jsx("p",{className:"text-lg font-medium text-slate-900",children:m.remetente})]}),m.codigo_rastreio&&n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-slate-500 mb-1",children:"Cdigo de Rastreio"}),n.jsx("p",{className:"text-lg font-medium text-slate-900",children:m.codigo_rastreio})]}),m.atendente&&n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-slate-500 mb-1",children:"Atendente"}),n.jsxs("p",{className:"text-lg font-medium text-slate-900 flex items-center gap-2",children:[n.jsx(Un,{className:"w-4 h-4",style:{color:"#376295"}}),m.atendente]})]})]})}),m.tipo==="DISKTENHA"&&n.jsx("div",{className:"border-t pt-6 mt-6",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(zc,{className:"w-5 h-5",style:{color:"#3dac38"}}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-slate-500 mb-1",children:"A Pagar"}),n.jsxs("p",{className:"text-2xl font-bold",style:{color:"#3dac38"},children:["R$ ",parseFloat(m.valor||0).toFixed(2)]})]})]})}),m.observacoes&&n.jsxs("div",{className:"border-t pt-6 mt-6",children:[n.jsx("p",{className:"text-sm text-slate-500 mb-2",children:"Observaes"}),n.jsx("div",{className:"p-3 bg-slate-50 rounded-lg",children:n.jsx("p",{className:"text-slate-700",children:m.observacoes})})]})]})})]}),n.jsx(us,{open:l,onOpenChange:c,children:n.jsxs(Oo,{className:"max-w-2xl",children:[n.jsx(Mo,{children:n.jsx(Lo,{children:"Editar Entrega"})}),u&&n.jsxs("div",{className:"space-y-4 py-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsx(kt,{label:"Tipo *",options:[{value:"SEDEX",label:"SEDEX"},{value:"PAC",label:"PAC"},{value:"DISKTENHA",label:"DISKTENHA"}],value:u.tipo,onChange:T=>p({...u,tipo:T}),placeholder:"Selecione o tipo"}),n.jsx(kt,{label:"Status *",options:[{value:"Pendente",label:"Pendente"},{value:"Saiu",label:"Saiu"},{value:"Entregue",label:"Entregue"}],value:u.status,onChange:T=>p({...u,status:T}),placeholder:"Selecione o status"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(pr,{children:"Cliente *"}),n.jsx(ir,{value:u.cliente,onChange:T=>p({...u,cliente:T.target.value})})]}),n.jsxs("div",{children:[n.jsx(pr,{children:"Destinatrio"}),n.jsx(ir,{value:u.remetente,onChange:T=>p({...u,remetente:T.target.value})})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(pr,{children:"Nmero da Requisio *"}),n.jsx(ir,{placeholder:"Ex: 123456",value:u.numero_requisicao,onChange:T=>p({...u,numero_requisicao:T.target.value})})]}),n.jsxs("div",{children:[n.jsx(pr,{children:"Cdigo de Rastreio"}),n.jsx(ir,{placeholder:"Ex: BR123456789BR",value:u.codigo_rastreio,onChange:T=>p({...u,codigo_rastreio:T.target.value})})]})]}),n.jsxs("div",{className:u.tipo==="DISKTENHA"?"grid grid-cols-2 gap-4":"",children:[u.tipo==="DISKTENHA"&&n.jsxs("div",{children:[n.jsx(pr,{children:"Valor"}),n.jsx(ir,{type:"number",step:"0.01",value:u.valor,onChange:T=>p({...u,valor:T.target.value})})]}),n.jsx(kt,{label:"Status do Pagamento",options:[{value:"Aguardando",label:"Aguardando"},{value:"Pago",label:"Pago"}],value:u.forma_pagamento,onChange:T=>p({...u,forma_pagamento:T}),placeholder:"Selecione..."})]}),n.jsx("div",{children:n.jsx(cl,{label:"Data de Sada",value:u.data_saida,onChange:T=>p({...u,data_saida:T}),placeholder:"Selecione a data"})}),n.jsxs("div",{children:[n.jsx(pr,{children:"Observaes"}),n.jsx(Qf,{value:u.observacoes,onChange:T=>p({...u,observacoes:T.target.value}),rows:3})]}),n.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[n.jsx(gr,{variant:"outline",onClick:()=>c(!1),children:"Cancelar"}),n.jsx(gr,{onClick:k,disabled:x.isPending,style:{background:"#457bba"},className:"text-white",children:x.isPending?"Salvando...":"Salvar Alteraes"})]})]})]})})]})}function VI(){const t=Er(),e=new URLSearchParams(window.location.search),r=e.get("data"),[s,l]=w.useState(r||wt(new Date,"yyyy-MM-dd")),[c,u]=w.useState(e.get("status")||"todos"),[p,m]=w.useState(e.get("local")||"todos"),[v,y]=w.useState(e.get("motoboy")||"todos"),[x,S]=w.useState(e.get("periodo")||"todos"),[E,k]=w.useState(e.get("busca")||""),{data:N=[],isLoading:P,error:O}=fn({queryKey:["entregas-relatorio"],queryFn:async()=>{const{data:$,error:te}=await Le.from("entregas").select(`
          *,
          cliente:clientes(nome, telefone),
          endereco:enderecos(cidade, regiao),
          motoboy:motoboys(nome)
        `).order("data_entrega",{ascending:!0});if(te)throw te;return $||[]}});if(P)return n.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-br from-slate-50 to-slate-100",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"w-16 h-16 border-4 border-slate-300 rounded-full animate-spin mx-auto mb-4",style:{borderTopColor:"#376295"}}),n.jsx("p",{className:"text-slate-600 font-medium",children:"Carregando relatrio..."})]})});if(O)return n.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-br from-slate-50 to-slate-100",children:n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-red-600 font-semibold mb-2",children:"Erro ao carregar relatrio"}),n.jsx("p",{className:"text-slate-500 text-sm",children:O.message})]})});const T=N.filter($=>{var U,W,be,me,_e,q,je;if(!$.data_entrega)return!1;const te=Br($.data_entrega);if(!hn(te,Br(s))||c!=="todos"&&$.status!==c||p!=="todos"&&((U=$.endereco)==null?void 0:U.regiao)!==p||v!=="todos"&&((W=$.motoboy)==null?void 0:W.nome)!==v||x!=="todos"&&$.periodo_entrega!==x)return!1;if(E){const ae=E.toLowerCase();if(!(((me=(be=$.cliente)==null?void 0:be.nome)==null?void 0:me.toLowerCase().includes(ae))||((_e=$.requisicao)==null?void 0:_e.toLowerCase().includes(ae))||((je=(q=$.motoboy)==null?void 0:q.nome)==null?void 0:je.toLowerCase().includes(ae))))return!1}return!0}),R=[...new Set(N.filter($=>$.data_entrega&&hn(Br($.data_entrega),Br(s))).map($=>{var te;return(te=$.endereco)==null?void 0:te.regiao}))].filter(Boolean).sort(),D=[...new Set(N.filter($=>$.data_entrega&&hn(Br($.data_entrega),Br(s))).map($=>{var te;return(te=$.motoboy)==null?void 0:te.nome}))].filter(Boolean).sort(),K=T.reduce(($,te)=>{var W;const U=((W=te.endereco)==null?void 0:W.regiao)||"Sem regio";return $[U]||($[U]=[]),$[U].push(te),$},{});Object.keys(K).forEach($=>{K[$].sort((te,U)=>te.periodo_entrega!==U.periodo_entrega?te.periodo_entrega==="Manh"?-1:1:0)});const B={Pendente:T.filter($=>$.status==="Pendente"),"Produzindo no Laboratrio":T.filter($=>$.status==="Produzindo no Laboratrio"),"Preparando no Setor de Entregas":T.filter($=>$.status==="Preparando no Setor de Entregas"),"A Caminho":T.filter($=>$.status==="A Caminho"),Entregue:T.filter($=>$.status==="Entregue"),"No Entregue":T.filter($=>$.status==="No Entregue"),Voltou:T.filter($=>$.status==="Voltou"),Cancelado:T.filter($=>$.status==="Cancelado")},Q={Manh:T.filter($=>$.periodo_entrega==="Manh"),Tarde:T.filter($=>$.periodo_entrega==="Tarde")},ne=T.reduce(($,te)=>{var W;const U=((W=te.motoboy)==null?void 0:W.nome)||"Sem motoboy";return $[U]||($[U]=[]),$[U].push(te),$},{}),we=()=>{window.print()},ee=({status:$})=>{const te={Pendente:{bgColor:"#F5E8F5",textColor:"#890d5d",label:"Pendente"},"Produzindo no Laboratrio":{bgColor:"#F5E8F5",textColor:"#890d5d",label:"Produo"},"Preparando no Setor de Entregas":{bgColor:"#FEF3E8",textColor:"#f97316",label:"Preparando"},"A Caminho":{bgColor:"#FEF3E8",textColor:"#f97316",label:"A Caminho"},Entregue:{bgColor:"#E8F5E8",textColor:"#3dac38",label:"Entregue"},"No Entregue":{bgColor:"#fef2f2",textColor:"#ef4444",label:"No Entregue"},Voltou:{bgColor:"#FEF3E8",textColor:"#f97316",label:"Voltou"},Cancelado:{bgColor:"#f1f5f9",textColor:"#64748b",label:"Cancelado"}},U=te[$]||te.Pendente;return n.jsxs(ns,{className:"text-xs flex items-center gap-1",style:{backgroundColor:U.bgColor,color:U.textColor},children:[$==="Entregue"?n.jsx(ea,{className:"w-3 h-3"}):n.jsx(Ao,{className:"w-3 h-3"})," ",U.label]})};return n.jsxs(n.Fragment,{children:[n.jsx("style",{children:`
        @media print {
          * {
            visibility: hidden !important;
          }
          .print-wrapper,
          .print-wrapper * {
            visibility: visible !important;
          }
          .print-wrapper {
            position: absolute !important;
            left: 0 !important;
            top: 0 !important;
            width: 100% !important;
          }
          .no-print {
            display: none !important;
          }
          body {
            background: white;
          }
        }
      `}),n.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100",children:[n.jsx("div",{className:"py-8 shadow-sm no-print",style:{background:"linear-gradient(135deg, #457bba 0%, #890d5d 100%)"},children:n.jsx("div",{className:"max-w-7xl mx-auto px-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("button",{onClick:()=>t(-1),className:"p-2 rounded-lg bg-white/20 hover:bg-white/30 transition-colors",children:n.jsx(vr,{className:"w-6 h-6 text-white"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-4xl font-bold text-white",children:"Relatrio de Entregas"}),n.jsx("p",{className:"text-base text-white opacity-90 mt-1",children:"Visualizao completa das entregas do dia"})]})]}),n.jsxs("button",{onClick:we,className:"px-4 py-2 bg-white/20 hover:bg-white/30 text-white rounded-lg transition-colors flex items-center gap-2 font-medium",children:[n.jsx(Gf,{className:"w-4 h-4"}),"Imprimir (",T.length,")"]})]})})}),n.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-6 space-y-6",children:[n.jsxs(Jt,{className:"border-none shadow-lg no-print",children:[n.jsx(Hs,{children:n.jsx(Vs,{children:"Filtros e Busca"})}),n.jsxs(sr,{className:"space-y-4",children:[n.jsx("div",{className:"max-w-xs",children:n.jsx(cl,{label:"Data",value:s,onChange:l,placeholder:"Selecione a data"})}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-slate-700 mb-2 block",children:"Buscar"}),n.jsxs("div",{className:"relative",children:[n.jsx(fo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400 w-4 h-4"}),n.jsx(ir,{placeholder:"Buscar por cliente, requisio ou motoboy...",value:E,onChange:$=>k($.target.value),className:"pl-10"})]})]}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-slate-700 mb-2 block",children:"Status"}),n.jsxs(qa,{value:c,onValueChange:u,children:[n.jsx(Zi,{children:n.jsx(Wa,{placeholder:"Todos"})}),n.jsxs(Qi,{children:[n.jsx(or,{value:"todos",children:"Todos"}),n.jsx(or,{value:"Pendente",children:"Pendente"}),n.jsx(or,{value:"Produzindo no Laboratrio",children:"Produo"}),n.jsx(or,{value:"Preparando no Setor de Entregas",children:"Preparando"}),n.jsx(or,{value:"A Caminho",children:"A Caminho"}),n.jsx(or,{value:"Entregue",children:"Entregue"}),n.jsx(or,{value:"No Entregue",children:"No Entregue"}),n.jsx(or,{value:"Voltou",children:"Voltou"}),n.jsx(or,{value:"Cancelado",children:"Cancelado"})]})]},`status-${c}`)]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-slate-700 mb-2 block",children:"Local"}),n.jsxs(qa,{value:p,onValueChange:m,children:[n.jsx(Zi,{children:n.jsx(Wa,{placeholder:"Todos"})}),n.jsxs(Qi,{children:[n.jsx(or,{value:"todos",children:"Todos"}),R.map($=>n.jsx(or,{value:$,children:$},$))]})]},`local-${p}`)]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-slate-700 mb-2 block",children:"Motoboy"}),n.jsxs(qa,{value:v,onValueChange:y,children:[n.jsx(Zi,{children:n.jsx(Wa,{placeholder:"Todos"})}),n.jsxs(Qi,{children:[n.jsx(or,{value:"todos",children:"Todos"}),D.map($=>n.jsx(or,{value:$,children:$},$))]})]},`motoboy-${v}`)]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-slate-700 mb-2 block",children:"Perodo"}),n.jsxs(qa,{value:x,onValueChange:S,children:[n.jsx(Zi,{children:n.jsx(Wa,{placeholder:"Todos"})}),n.jsxs(Qi,{children:[n.jsx(or,{value:"todos",children:"Todos"}),n.jsx(or,{value:"Manh",children:"Manh"}),n.jsx(or,{value:"Tarde",children:"Tarde"})]})]},`periodo-${x}`)]})]})]})]}),n.jsxs("div",{className:"print-wrapper",children:[n.jsx("div",{className:"text-white p-6 rounded-lg mb-6",style:{background:"linear-gradient(135deg, #457bba 0%, #890d5d 100%)"},children:n.jsxs("h2",{className:"text-2xl font-bold",children:["Relatrio do Dia ",wt(Br(s),"dd/MM/yyyy")]})}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[n.jsx(Jt,{className:"cursor-pointer hover:shadow-xl transition-all",style:{border:c==="todos"?"2px solid #376295":"2px solid transparent"},onClick:()=>u("todos"),children:n.jsxs(sr,{className:"p-6",children:[n.jsx("p",{className:"text-sm text-slate-600 mb-1",children:"Total"}),n.jsx("p",{className:"text-4xl font-bold",style:{color:"#376295"},children:T.length})]})}),n.jsx(Jt,{className:"cursor-pointer hover:shadow-xl transition-all",style:{border:c==="Entregue"?"2px solid #3dac38":"2px solid transparent"},onClick:()=>u(c==="Entregue"?"todos":"Entregue"),children:n.jsxs(sr,{className:"p-6",children:[n.jsx("p",{className:"text-sm text-slate-600 mb-1",children:"Entregues"}),n.jsx("p",{className:"text-4xl font-bold",style:{color:"#3dac38"},children:B.Entregue.length})]})}),n.jsx(Jt,{className:"cursor-pointer hover:shadow-xl transition-all",style:{border:c==="A Caminho"?"2px solid #f97316":"2px solid transparent"},onClick:()=>u(c==="A Caminho"?"todos":"A Caminho"),children:n.jsxs(sr,{className:"p-6",children:[n.jsx("p",{className:"text-sm text-slate-600 mb-1",children:"A Caminho"}),n.jsx("p",{className:"text-4xl font-bold",style:{color:"#f97316"},children:B["A Caminho"].length})]})}),n.jsx(Jt,{className:"cursor-pointer hover:shadow-xl transition-all",style:{border:c==="Pendente"?"2px solid #890d5d":"2px solid transparent"},onClick:()=>u(c==="Pendente"?"todos":"Pendente"),children:n.jsxs(sr,{className:"p-6",children:[n.jsx("p",{className:"text-sm text-slate-600 mb-1",children:"Pendente"}),n.jsx("p",{className:"text-4xl font-bold",style:{color:"#890d5d"},children:B.Pendente.length})]})})]}),n.jsxs(Jt,{className:"mb-6",children:[n.jsx(Hs,{children:n.jsx(Vs,{children:"Entregas por Local"})}),n.jsx(sr,{children:n.jsx("div",{className:"space-y-4",children:Object.entries(K).sort(($,te)=>$[0].localeCompare(te[0])).map(([$,te])=>n.jsxs("div",{className:"border rounded-lg p-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3 pb-2 border-b",children:[n.jsx("h3",{className:"font-bold text-slate-900",children:$}),n.jsx(ns,{variant:"outline",children:te.length})]}),te.filter(U=>U.periodo_entrega==="Manh").length>0&&n.jsxs("div",{className:"mb-3",children:[n.jsxs("p",{className:"text-sm font-semibold text-slate-700 mb-2 flex items-center gap-1",children:[n.jsx(Uv,{className:"w-4 h-4"})," Manh"]}),n.jsx("div",{className:"space-y-2 pl-4",children:te.filter(U=>U.periodo_entrega==="Manh").map(U=>{var W;return n.jsxs(Ws,{to:`/detalhes-romaneio?id=${U.id}`,className:"flex justify-between items-center text-sm py-2 hover:bg-slate-50 rounded px-2 transition-colors",children:[n.jsxs("span",{className:"text-slate-700",children:["# ",U.requisicao," - ",((W=U.cliente)==null?void 0:W.nome)||U.cliente_nome]}),n.jsxs("div",{className:"flex items-center gap-2",children:[U.valor&&n.jsxs(ns,{style:{backgroundColor:"#E8F0F8",color:"#376295"},children:["R$ ",U.valor.toFixed(2)]}),n.jsx(ee,{status:U.status})]})]},U.id)})})]}),te.filter(U=>U.periodo_entrega==="Tarde").length>0&&n.jsxs("div",{children:[n.jsxs("p",{className:"text-sm font-semibold text-slate-700 mb-2 flex items-center gap-1",children:[n.jsx(GR,{className:"w-4 h-4"})," Tarde"]}),n.jsx("div",{className:"space-y-2 pl-4",children:te.filter(U=>U.periodo_entrega==="Tarde").map(U=>{var W;return n.jsxs(Ws,{to:`/detalhes-romaneio?id=${U.id}`,className:"flex justify-between items-center text-sm py-2 hover:bg-slate-50 rounded px-2 transition-colors",children:[n.jsxs("span",{className:"text-slate-700",children:["# ",U.requisicao," - ",((W=U.cliente)==null?void 0:W.nome)||U.cliente_nome]}),n.jsxs("div",{className:"flex items-center gap-2",children:[U.valor&&n.jsxs(ns,{style:{backgroundColor:"#E8F0F8",color:"#376295"},children:["R$ ",U.valor.toFixed(2)]}),n.jsx(ee,{status:U.status})]})]},U.id)})})]})]},$))})})]}),n.jsxs(Jt,{className:"mb-6",children:[n.jsx(Hs,{children:n.jsx(Vs,{children:"Entregas por Status"})}),n.jsx(sr,{children:n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Object.entries(B).map(([$,te])=>te.length>0&&n.jsxs("div",{className:"border rounded-lg p-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsx("h3",{className:"font-semibold text-slate-900",children:$}),n.jsx(ns,{variant:"outline",children:te.length})]}),n.jsx("div",{className:"space-y-2",children:te.map(U=>{var W;return n.jsxs(Ws,{to:`/detalhes-romaneio?id=${U.id}`,className:"block text-sm text-slate-700 hover:bg-slate-50 rounded px-2 py-1 transition-colors",style:{"--hover-color":"#376295"},onMouseEnter:be=>be.currentTarget.style.color="#376295",onMouseLeave:be=>be.currentTarget.style.color="",children:["# ",U.requisicao," - ",((W=U.cliente)==null?void 0:W.nome)||U.cliente_nome]},U.id)})})]},$))})})]}),n.jsxs(Jt,{className:"mb-6",children:[n.jsx(Hs,{children:n.jsx(Vs,{children:"Entregas por Motoboy"})}),n.jsx(sr,{children:n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Object.entries(ne).map(([$,te])=>n.jsxs("div",{className:"border rounded-lg p-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsx("h3",{className:"font-semibold text-slate-900",children:$}),n.jsx(ns,{variant:"outline",children:te.length})]}),n.jsx("div",{className:"space-y-2",children:te.map(U=>{var W;return n.jsxs(Ws,{to:`/detalhes-romaneio?id=${U.id}`,className:"flex justify-between items-center text-sm hover:bg-slate-50 rounded px-2 py-1 transition-colors",children:[n.jsxs("span",{className:"text-slate-700",onMouseEnter:be=>be.currentTarget.style.color="#376295",onMouseLeave:be=>be.currentTarget.style.color="",children:["# ",U.requisicao," - ",((W=U.cliente)==null?void 0:W.nome)||U.cliente_nome]}),n.jsx(ee,{status:U.status})]},U.id)})})]},$))})})]}),n.jsxs(Jt,{children:[n.jsx(Hs,{children:n.jsx(Vs,{children:"Entregas por Perodo"})}),n.jsx(sr,{children:n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Object.entries(Q).map(([$,te])=>n.jsxs("div",{className:"border rounded-lg p-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsx("h3",{className:"font-semibold text-slate-900",children:$}),n.jsx(ns,{variant:"outline",children:te.length})]}),n.jsx("div",{className:"space-y-2",children:te.map(U=>{var W;return n.jsxs(Ws,{to:`/detalhes-romaneio?id=${U.id}`,className:"flex justify-between items-center text-sm hover:bg-slate-50 rounded px-2 py-1 transition-colors",children:[n.jsxs("span",{className:"text-slate-700",onMouseEnter:be=>be.currentTarget.style.color="#376295",onMouseLeave:be=>be.currentTarget.style.color="",children:["# ",U.requisicao," - ",((W=U.cliente)==null?void 0:W.nome)||U.cliente_nome]}),n.jsx(ee,{status:U.status})]},U.id)})})]},$))})})]})]})]})]})]})}var im="Checkbox",[GI]=Ic(im),[KI,ix]=GI(im);function ZI(t){const{__scopeCheckbox:e,checked:r,children:s,defaultChecked:l,disabled:c,form:u,name:p,onCheckedChange:m,required:v,value:y="on",internal_do_not_use_render:x}=t,[S,E]=Cf({prop:r,defaultProp:l??!1,onChange:m,caller:im}),[k,N]=w.useState(null),[P,O]=w.useState(null),T=w.useRef(!1),R=k?!!u||!!k.closest("form"):!0,D={checked:S,disabled:c,setChecked:E,control:k,setControl:N,name:p,form:u,value:y,hasConsumerStoppedPropagationRef:T,required:v,defaultChecked:Xi(l)?!1:l,isFormControl:R,bubbleInput:P,setBubbleInput:O};return n.jsx(KI,{scope:e,...D,children:QI(x)?x(D):s})}var DS="CheckboxTrigger",BS=w.forwardRef(({__scopeCheckbox:t,onKeyDown:e,onClick:r,...s},l)=>{const{control:c,value:u,disabled:p,checked:m,required:v,setControl:y,setChecked:x,hasConsumerStoppedPropagationRef:S,isFormControl:E,bubbleInput:k}=ix(DS,t),N=Zt(l,y),P=w.useRef(m);return w.useEffect(()=>{const O=c==null?void 0:c.form;if(O){const T=()=>x(P.current);return O.addEventListener("reset",T),()=>O.removeEventListener("reset",T)}},[c,x]),n.jsx(Ot.button,{type:"button",role:"checkbox","aria-checked":Xi(m)?"mixed":m,"aria-required":v,"data-state":qS(m),"data-disabled":p?"":void 0,disabled:p,value:u,...s,ref:N,onKeyDown:zt(e,O=>{O.key==="Enter"&&O.preventDefault()}),onClick:zt(r,O=>{x(T=>Xi(T)?!0:!T),k&&E&&(S.current=O.isPropagationStopped(),S.current||O.stopPropagation())})})});BS.displayName=DS;var ax=w.forwardRef((t,e)=>{const{__scopeCheckbox:r,name:s,checked:l,defaultChecked:c,required:u,disabled:p,value:m,onCheckedChange:v,form:y,...x}=t;return n.jsx(ZI,{__scopeCheckbox:r,checked:l,defaultChecked:c,disabled:p,required:u,onCheckedChange:v,name:s,form:y,value:m,internal_do_not_use_render:({isFormControl:S})=>n.jsxs(n.Fragment,{children:[n.jsx(BS,{...x,ref:e,__scopeCheckbox:r}),S&&n.jsx(US,{__scopeCheckbox:r})]})})});ax.displayName=im;var zS="CheckboxIndicator",$S=w.forwardRef((t,e)=>{const{__scopeCheckbox:r,forceMount:s,...l}=t,c=ix(zS,r);return n.jsx(yu,{present:s||Xi(c.checked)||c.checked===!0,children:n.jsx(Ot.span,{"data-state":qS(c.checked),"data-disabled":c.disabled?"":void 0,...l,ref:e,style:{pointerEvents:"none",...t.style}})})});$S.displayName=zS;var FS="CheckboxBubbleInput",US=w.forwardRef(({__scopeCheckbox:t,...e},r)=>{const{control:s,hasConsumerStoppedPropagationRef:l,checked:c,defaultChecked:u,required:p,disabled:m,name:v,value:y,form:x,bubbleInput:S,setBubbleInput:E}=ix(FS,t),k=Zt(r,E),N=xj(c),P=aj(s);w.useEffect(()=>{const T=S;if(!T)return;const R=window.HTMLInputElement.prototype,K=Object.getOwnPropertyDescriptor(R,"checked").set,B=!l.current;if(N!==c&&K){const Q=new Event("click",{bubbles:B});T.indeterminate=Xi(c),K.call(T,Xi(c)?!1:c),T.dispatchEvent(Q)}},[S,N,c,l]);const O=w.useRef(Xi(c)?!1:c);return n.jsx(Ot.input,{type:"checkbox","aria-hidden":!0,defaultChecked:u??O.current,required:p,disabled:m,name:v,value:y,form:x,...e,tabIndex:-1,ref:k,style:{...e.style,...P,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});US.displayName=FS;function QI(t){return typeof t=="function"}function Xi(t){return t==="indeterminate"}function qS(t){return Xi(t)?"indeterminate":t?"checked":"unchecked"}const YI=w.forwardRef(({className:t,...e},r)=>n.jsx(ax,{ref:r,className:xt("peer h-4 w-4 shrink-0 rounded-sm border border-primary shadow focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...e,children:n.jsx($S,{className:xt("flex items-center justify-center text-current"),children:n.jsx(ea,{className:"h-4 w-4"})})}));YI.displayName=ax.displayName;function JI(){var pe;const t=Er(),e=mo(),[r,s]=w.useState(new Date),[l,c]=w.useState(new Date),[u,p]=w.useState(!1),[m,v]=w.useState(""),[y,x]=w.useState("todos"),[S,E]=w.useState(!1),[k,N]=w.useState(null),[P,O]=w.useState(""),[T,R]=w.useState(""),[D,K]=w.useState(null),[B,Q]=w.useState(!1),{data:ne=[],isLoading:we,error:ee,refetch:$}=fn({queryKey:["receitas"],queryFn:async()=>{const{data:se,error:Pe}=await Le.from("entregas").select(`
          *,
          cliente:clientes(nome, telefone, cpf),
          endereco:enderecos(cidade, regiao),
          motoboy:motoboys(nome)
        `).eq("buscar_receita",!0).order("data_entrega",{ascending:!1});if(Pe)throw Pe;return se||[]},refetchOnMount:"always",refetchOnWindowFocus:"always",refetchOnReconnect:"always",staleTime:0,gcTime:0,retry:1,retryDelay:1e3});if(w.useEffect(()=>{e.invalidateQueries({queryKey:["receitas"]})},[e]),w.useEffect(()=>{ee&&Se.error("Erro ao carregar receitas: "+ee.message)},[ee]),we)return n.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-br from-slate-50 to-slate-100",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"w-16 h-16 border-4 border-slate-300 border-t-[#457bba] rounded-full animate-spin mx-auto mb-4"}),n.jsx("p",{className:"text-slate-600 font-medium",children:"Carregando receitas..."})]})});const te=async()=>{if(!D||!P||!k){Se.error("Por favor, preencha todos os campos obrigatrios");return}Q(!0);try{const se=D.name.split(".").pop(),Me=`anexos/${`${k.id}_${P}_${Date.now()}.${se}`}`,{error:$e,data:Ie}=await Le.storage.from("entregas-anexos").upload(Me,D);if($e)throw $e;const{data:{publicUrl:nt}}=Le.storage.from("entregas-anexos").getPublicUrl(Me),it={[`${P.toLowerCase()}_anexo`]:nt,[`${P.toLowerCase()}_descricao`]:T||null},{error:Lt}=await Le.from("entregas").update(it).eq("id",k.id);if(Lt)throw Lt;Se.success("Anexo enviado com sucesso!"),e.invalidateQueries(["receitas"]),E(!1),O(""),R(""),K(null),N(null),P==="Receita"||P==="Pagamento"&&t("/pagamentos")}catch(se){console.error("Erro ao fazer upload:",se),Se.error("Erro ao enviar anexo: "+se.message)}finally{Q(!1)}},U=se=>{N(se),E(!0)},W=ne.filter(se=>{var Pe,Me,$e,Ie,nt,it,Lt,$t,Pt;if(!u&&l&&se.data_entrega){const _t=Br(se.data_entrega);if(!hn(_t,l))return!1}if(y==="pendentes"&&se.receita_anexo||y==="recebidas"&&!se.receita_anexo)return!1;if(m){const _t=m.toLowerCase();if(!(((Pe=se.requisicao)==null?void 0:Pe.toLowerCase().includes(_t))||(($e=(Me=se.cliente)==null?void 0:Me.nome)==null?void 0:$e.toLowerCase().includes(_t))||((nt=(Ie=se.cliente)==null?void 0:Ie.telefone)==null?void 0:nt.toLowerCase().includes(_t))||((Lt=(it=se.cliente)==null?void 0:it.cpf)==null?void 0:Lt.toLowerCase().includes(_t))||(($t=se.cliente_nome)==null?void 0:$t.toLowerCase().includes(_t))||((Pt=se.cliente_telefone)==null?void 0:Pt.toLowerCase().includes(_t))))return!1}return!0}),be=ne.filter(se=>!se.receita_anexo).length,me=ne.filter(se=>se.receita_anexo).length,_e=ne.reduce((se,Pe)=>{if(Pe.data_entrega)try{const Me=Br(Pe.data_entrega),$e=wt(Me,"yyyy-MM-dd");se[$e]=(se[$e]||0)+1}catch{console.error("Erro ao processar data:",Pe.data_entrega)}return se},{}),q=au(r),je=nx(r),ae=ox({start:q,end:je}),A=q.getDay(),V=[...Array(A).fill(null),...ae],F=se=>{c(se),u&&p(!1)},le=()=>s(sx(r)),xe=()=>s(om(r,1));return n.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100",children:[n.jsx("div",{className:"py-8 shadow-sm",style:{background:"linear-gradient(135deg, #457bba 0%, #890d5d 100%)"},children:n.jsx("div",{className:"max-w-7xl mx-auto px-6",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("button",{onClick:()=>t(-1),className:"p-2 rounded-lg bg-white/20 hover:bg-white/30 transition-colors",children:n.jsx(vr,{className:"w-6 h-6 text-white"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-4xl font-bold text-white",children:"Receitas"}),n.jsx("p",{className:"text-base text-white opacity-90 mt-1",children:"Gerenciamento de receitas retidas"})]})]})})}),n.jsx("div",{className:"max-w-7xl mx-auto px-6 py-6",children:n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[n.jsx("div",{className:"lg:col-span-1",children:n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6 sticky top-6",children:[n.jsx("h3",{className:"text-lg font-bold text-slate-900 mb-4",children:"Filtrar por dados"}),n.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[n.jsxs("button",{onClick:()=>{p(!1),l||c(new Date)},className:"flex-1 flex items-center justify-center gap-2 px-4 py-2 rounded-lg font-semibold text-sm transition-all",style:{backgroundColor:u?"white":"#376295",color:u?"#64748b":"white",border:u?"1px solid #e2e8f0":"none"},children:[n.jsx(Dc,{className:"w-4 h-4"}),"Por Dia"]}),n.jsxs("button",{onClick:()=>{p(!0),c(null)},className:"flex-1 flex items-center justify-center gap-2 px-4 py-2 rounded-lg font-semibold text-sm transition-all",style:{backgroundColor:u?"#376295":"white",color:u?"white":"#64748b",border:u?"none":"1px solid #e2e8f0"},children:[n.jsx(Ji,{className:"w-4 h-4"}),"Todos"]})]}),n.jsxs("div",{className:"border rounded-xl p-3 mb-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsx("button",{onClick:le,className:"p-2 hover:bg-slate-100 rounded-lg transition-colors",children:n.jsx(vr,{className:"h-4 w-4 text-slate-600"})}),n.jsx("div",{className:"text-sm font-semibold text-slate-700",children:wt(r,"MMMM 'de' yyyy",{locale:Ks})}),n.jsx("button",{onClick:xe,className:"p-2 hover:bg-slate-100 rounded-lg transition-colors",children:n.jsx(Bc,{className:"h-4 w-4 text-slate-600"})})]}),n.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:["dom","seg","ter","qua","qui","sex","sb"].map(se=>n.jsx("div",{className:"text-center text-xs font-semibold text-slate-500 py-2",children:se},se))}),n.jsx("div",{className:"grid grid-cols-7 gap-1",children:V.map((se,Pe)=>{if(!se)return n.jsx("div",{className:"aspect-square"},`vazio-${Pe}`);const Me=wt(se,"yyyy-MM-dd"),Ie=(_e[Me]||0)>0,nt=l&&hn(se,l),it=hn(se,new Date);return n.jsx("button",{onClick:()=>F(se),className:`
                          aspect-square rounded-lg text-sm flex flex-col items-center justify-center relative
                          transition-all hover:bg-blue-50
                        `,style:{backgroundColor:nt?"#376295":!nt&&it?"#e2e8f0":!nt&&!it&&Ie?"#F5E8F5":"transparent",color:nt?"white":nt===!1&&it?"#376295":!nt&&!it&&Ie?"#890d5d":"#1e293b",fontWeight:nt||it||Ie?"bold":"normal",boxShadow:nt?"0 4px 6px -1px rgba(0, 0, 0, 0.1)":"none"},children:n.jsx("span",{children:wt(se,"d")})},Me)})})]},wt(r,"yyyy-MM")),n.jsxs("div",{className:"text-center pt-4 border-t border-slate-200",children:[l&&!u&&n.jsx("div",{className:"text-base font-semibold text-slate-700",children:wt(l,"dd 'de' MMMM",{locale:Ks})}),n.jsxs("div",{className:"text-sm text-slate-500",children:[W.length," receita",W.length!==1?"s":""]})]})]},`filter-${u}-${(l==null?void 0:l.getTime())||"all"}`)}),n.jsxs("div",{className:"lg:col-span-3 space-y-6",children:[n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[n.jsx("h2",{className:"text-lg font-bold text-slate-900 mb-4",children:"Buscar"}),n.jsxs("div",{className:"relative",children:[n.jsx(fo,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),n.jsx("input",{type:"text",value:m,onChange:se=>v(se.target.value),placeholder:"Buscar por nmero, nome, telefone ou CPF...",className:"w-full pl-10 pr-4 py-3 border border-slate-300 rounded-lg focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-100 transition-all"})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{onClick:()=>x(y==="pendentes"?"todos":"pendentes"),className:"rounded-xl shadow-sm cursor-pointer transition-all hover:shadow-md text-center",style:{backgroundColor:"#E8F0F8",padding:"1.5rem",border:y==="pendentes"?"2px solid #376295":"2px solid transparent"},children:[n.jsx("p",{className:"text-5xl font-bold mb-2",style:{color:"#376295"},children:be}),n.jsx("p",{className:"text-sm font-medium",style:{color:"#376295"},children:"Pendentes"})]}),n.jsxs("div",{onClick:()=>x(y==="recebidas"?"todos":"recebidas"),className:"rounded-xl shadow-sm cursor-pointer transition-all hover:shadow-md text-center",style:{backgroundColor:"#F5E8F5",padding:"1.5rem",border:y==="recebidas"?"2px solid #890d5d":"2px solid transparent"},children:[n.jsx("p",{className:"text-5xl font-bold mb-2",style:{color:"#890d5d"},children:me}),n.jsx("p",{className:"text-sm font-medium",style:{color:"#890d5d"},children:"Recebidas"})]})]}),n.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:ee?n.jsxs("div",{className:"text-center py-12",children:[n.jsx(S1,{className:"w-16 h-16 text-red-400 mx-auto mb-4"}),n.jsx("p",{className:"text-red-600 font-semibold mb-2",children:"Erro ao carregar receitas"}),n.jsx("p",{className:"text-slate-500 text-sm mb-4",children:ee.message}),n.jsxs(gr,{onClick:()=>$(),variant:"outline",size:"sm",children:[n.jsx(oA,{className:"w-4 h-4 mr-2"}),"Tentar Novamente"]})]}):we?n.jsxs("div",{className:"text-center py-12",children:[n.jsx("div",{className:"inline-block w-8 h-8 border-4 border-slate-200 border-t-4 rounded-full animate-spin mb-4",style:{borderTopColor:"#376295"}}),n.jsx("p",{className:"text-slate-600",children:"Carregando receitas..."})]}):W.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx(tn,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:"Nenhuma receita encontrada"}),n.jsx("p",{className:"text-sm text-slate-600",children:m||y!=="todos"?"Tente ajustar os filtros de busca":"No h receitas cadastradas"})]}):n.jsx("div",{className:"space-y-3",children:W.map(se=>{var Pe,Me,$e;return n.jsx("div",{onClick:()=>t(`/detalhes-romaneio?id=${se.id}`),className:"border border-slate-200 rounded-lg p-5 hover:border-slate-300 hover:shadow-md transition-all cursor-pointer",children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[n.jsxs("span",{className:"text-base font-semibold",style:{color:"#376295"},children:["#",se.requisicao]}),n.jsx("span",{className:"px-3 py-1 rounded text-xs font-medium",style:{backgroundColor:se.receita_anexo?"#F5E8F5":"#E8F0F8",color:se.receita_anexo?"#890d5d":"#376295"},children:se.receita_anexo?"Recebida":"Pendente"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm text-slate-600 mb-3",children:[n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Cliente:"})," ",((Pe=se.cliente)==null?void 0:Pe.nome)||se.cliente_nome]}),n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Telefone:"})," ",((Me=se.cliente)==null?void 0:Me.telefone)||se.cliente_telefone]}),(($e=se.cliente)==null?void 0:$e.cpf)&&n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"CPF:"})," ",se.cliente.cpf]}),se.data_entrega&&n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Data:"})," ",wt(Br(se.data_entrega),"dd/MM/yyyy")]})]})]}),n.jsx("div",{className:"flex items-center gap-2 ml-4",children:se.receita_anexo?n.jsxs("button",{onClick:Ie=>{Ie.stopPropagation(),window.open(se.receita_anexo,"_blank")},className:"px-4 py-2 border border-slate-300 rounded-lg hover:bg-slate-50 transition-colors flex items-center gap-2 text-sm font-medium text-slate-700",children:[n.jsx(C1,{className:"w-4 h-4"}),"Ver Receita"]}):n.jsxs("button",{onClick:Ie=>{Ie.stopPropagation(),U(se)},className:"px-4 py-2 rounded-lg transition-colors flex items-center gap-2 text-sm font-medium text-white",style:{backgroundColor:"#376295"},children:[n.jsx(vA,{className:"w-4 h-4"}),"Anexar"]})})]})},se.id)})})})]})]})}),n.jsx(us,{open:S,onOpenChange:E,children:n.jsxs(Oo,{className:"sm:max-w-[500px]",children:[n.jsxs(Mo,{children:[n.jsx(Lo,{children:"Adicionar Anexo"}),n.jsx(Zf,{children:"Envie fotos ou documentos relacionados a esta entrega."})]}),n.jsxs("div",{className:"space-y-4 py-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium",children:"Tipo de Anexo *"}),n.jsxs(qa,{value:P,onValueChange:O,children:[n.jsx(Zi,{children:n.jsx(Wa,{placeholder:"Selecione o tipo"})}),n.jsxs(Qi,{children:[n.jsx(or,{value:"Receita",children:"Receita"}),n.jsx(or,{value:"Pagamento",children:"Pagamento"}),n.jsx(or,{value:"Outros",children:"Outros"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium",children:"Arquivo *"}),n.jsx("input",{type:"file",accept:"image/*,.pdf",onChange:se=>{var Pe;return K(((Pe=se.target.files)==null?void 0:Pe[0])||null)},className:"w-full px-3 py-2 border border-slate-300 rounded-lg cursor-pointer focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-100"}),D&&n.jsxs("p",{className:"text-xs text-slate-500",children:["Arquivo selecionado: ",D.name]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium",children:"Descrio (opcional)"}),n.jsx(Qf,{placeholder:"Adicione informaes adicionais sobre este anexo...",value:T,onChange:se=>R(se.target.value),rows:3})]}),k&&n.jsxs("div",{className:"p-3 bg-slate-50 rounded-lg text-sm",children:[n.jsxs("p",{className:"font-medium text-slate-900",children:["Entrega: #",k.requisicao]}),n.jsxs("p",{className:"text-slate-600",children:["Cliente: ",((pe=k.cliente)==null?void 0:pe.nome)||k.cliente_nome]})]})]}),n.jsxs(Hv,{children:[n.jsx(gr,{variant:"outline",onClick:()=>{E(!1),O(""),R(""),K(null)},disabled:B,children:"Cancelar"}),n.jsx(gr,{onClick:te,disabled:B||!D||!P,style:{background:B?"#94a3b8":"#376295"},className:"text-white",children:B?"Enviando...":"Enviar Anexo"})]})]})})]})}const XI=["Pago","Dinheiro","Maquina","Troco P/","Via na Pasta","S Entregar","Aguardando","Pix - Aguardando","Link - Aguardando","Boleto","Pagar MP"];function eD(){var ae,A;const t=mo(),e=Er(),[r,s]=w.useState(new Date),[l,c]=w.useState(null),[u,p]=w.useState(!0),[m,v]=w.useState(""),[y,x]=w.useState("todos"),[S,E]=w.useState(!1),[k,N]=w.useState(null),[P,O]=w.useState(""),[T,R]=w.useState(!1),{data:D=[],isLoading:K,error:B}=fn({queryKey:["pagamentos"],queryFn:async()=>{const{data:H,error:V}=await Le.from("entregas").select(`
          *,
          cliente:clientes(nome, telefone, cpf),
          endereco:enderecos(cidade, regiao),
          motoboy:motoboys(nome)
        `).order("data_entrega",{ascending:!1});if(V)throw V;return H||[]},refetchOnMount:"always",refetchOnWindowFocus:"always",staleTime:0,gcTime:0}),Q=en({mutationFn:async({entregaId:H,formaPagamento:V,pagamentoRecebido:F})=>{const le={};V!==void 0&&(le.forma_pagamento=V),F!==void 0&&(le.pagamento_recebido=F);const{error:xe}=await Le.from("entregas").update(le).eq("id",H);if(xe)throw xe},onSuccess:()=>{t.invalidateQueries({queryKey:["pagamentos"]}),t.invalidateQueries({queryKey:["entregas"]}),t.invalidateQueries({queryKey:["receitas"]}),Se.success("Pagamento atualizado com sucesso!"),E(!1)},onError:H=>{Se.error("Erro ao atualizar pagamento: "+H.message)}}),ne=(H,V)=>{H.preventDefault(),H.stopPropagation(),N(V),O(V.forma_pagamento||""),R(V.pagamento_recebido||!1),setTimeout(()=>E(!0),0)},we=()=>{if(!P){Se.error("Selecione uma forma de pagamento");return}Q.mutate({entregaId:k.id,formaPagamento:P,pagamentoRecebido:T})};if(w.useEffect(()=>{t.invalidateQueries({queryKey:["pagamentos"]})},[t]),w.useEffect(()=>{B&&Se.error("Erro ao carregar pagamentos: "+B.message)},[B]),w.useEffect(()=>{if(!S){const H=setTimeout(()=>{document.querySelectorAll("[data-radix-popper-content-wrapper]").forEach(F=>{try{F.remove()}catch{}})},100);return()=>clearTimeout(H)}},[S]),K)return n.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-br from-slate-50 to-slate-100",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"w-16 h-16 border-4 border-slate-300 border-t-[#457bba] rounded-full animate-spin mx-auto mb-4"}),n.jsx("p",{className:"text-slate-600 font-medium",children:"Carregando pagamentos..."})]})});const ee=D.filter(H=>{var V,F,le,xe,pe,se;if(!u&&l&&H.data_entrega&&!hn(Br(H.data_entrega),l)||y!=="todos"&&((V=H.motoboy)==null?void 0:V.nome)!==y)return!1;if(m){const Pe=m.toLowerCase();if(!(((le=(F=H.cliente)==null?void 0:F.nome)==null?void 0:le.toLowerCase().includes(Pe))||((pe=(xe=H.cliente)==null?void 0:xe.telefone)==null?void 0:pe.toLowerCase().includes(Pe))||((se=H.requisicao)==null?void 0:se.toLowerCase().includes(Pe))))return!1}return!0}),$={pendentes:ee.filter(H=>!H.pagamento_recebido&&H.status==="Entregue").length,recebidos:ee.filter(H=>H.pagamento_recebido).length,dinheiro:ee.filter(H=>H.pagamento_recebido&&(H.forma_pagamento==="Dinheiro"||H.forma_pagamento==="dinheiro")).reduce((H,V)=>H+(parseFloat(V.valor)||0),0),cartao:ee.filter(H=>H.pagamento_recebido&&(H.forma_pagamento==="Carto"||H.forma_pagamento==="cartao"||H.forma_pagamento==="Cartao")).reduce((H,V)=>H+(parseFloat(V.valor)||0),0)},te=[...new Set(D.map(H=>{var V;return(V=H.motoboy)==null?void 0:V.nome}))].filter(Boolean).sort(),U=ox({start:au(r),end:nx(r)}),W=au(r).getDay(),be=Array(W).fill(null),me=H=>D.filter(V=>V.data_entrega&&hn(Br(V.data_entrega),H)).length,_e=()=>s(sx(r)),q=()=>s(om(r,1)),je=H=>{c(H),p(!1)};return n.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100",children:[n.jsx("div",{className:"py-8 shadow-sm",style:{background:"linear-gradient(135deg, #457bba 0%, #890d5d 100%)"},children:n.jsx("div",{className:"max-w-7xl mx-auto px-6",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("button",{onClick:()=>e(-1),className:"p-2 rounded-lg bg-white/20 hover:bg-white/30 transition-colors",children:n.jsx(vr,{className:"w-6 h-6 text-white"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-4xl font-bold text-white",children:"Pagamentos"}),n.jsx("p",{className:"text-base text-white opacity-90 mt-1",children:"Gerenciamento de pagamentos das entregas"})]})]})})}),n.jsx("div",{className:"max-w-7xl mx-auto px-6 py-6",children:n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[n.jsx("div",{className:"lg:col-span-1",children:n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6 sticky top-6",children:[n.jsx("h3",{className:"text-lg font-bold text-slate-900 mb-4",children:"Filtrar por dados"}),n.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[n.jsxs("button",{onClick:()=>{p(!1),l||c(new Date)},className:"flex-1 flex items-center justify-center gap-2 px-4 py-2 rounded-lg font-semibold text-sm transition-all",style:{backgroundColor:u?"white":"#376295",color:u?"#64748b":"white",border:u?"1px solid #e2e8f0":"none"},children:[n.jsx(Dc,{className:"w-4 h-4"}),"Por Dia"]}),n.jsxs("button",{onClick:()=>{p(!0),c(null)},className:"flex-1 flex items-center justify-center gap-2 px-4 py-2 rounded-lg font-semibold text-sm transition-all",style:{backgroundColor:u?"#376295":"white",color:u?"white":"#64748b",border:u?"none":"1px solid #e2e8f0"},children:[n.jsx(Ji,{className:"w-4 h-4"}),"Todos"]})]}),n.jsxs("div",{className:"border rounded-lg p-3",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsx("button",{onClick:_e,className:"p-2 hover:bg-slate-100 rounded-lg transition-colors",children:n.jsx(vr,{className:"h-4 w-4 text-slate-600"})}),n.jsx("span",{className:"text-sm font-semibold text-slate-700",children:wt(r,"MMMM 'de' yyyy",{locale:Ks})}),n.jsx("button",{onClick:q,className:"p-2 hover:bg-slate-100 rounded-lg transition-colors",children:n.jsx(Bc,{className:"h-4 w-4 text-slate-600"})})]}),n.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:["dom","seg","ter","qua","qui","sex","sb"].map(H=>n.jsx("div",{className:"text-center text-xs font-semibold text-slate-500 py-2",children:H},H))}),n.jsxs("div",{className:"grid grid-cols-7 gap-1",children:[be.map((H,V)=>n.jsx("div",{className:"aspect-square"},`vazio-${V}`)),U.map(H=>{const V=me(H),F=l&&hn(H,l),le=hn(H,new Date);return n.jsx("button",{onClick:()=>je(H),className:"aspect-square rounded-lg text-sm flex flex-col items-center justify-center relative transition-all hover:bg-blue-50",style:{backgroundColor:F?"#376295":!F&&le?"#e2e8f0":!F&&!le&&V>0?"#F5E8F5":"transparent",color:F?"white":F===!1&&le?"#376295":!F&&!le&&V>0?"#890d5d":"#1e293b",fontWeight:F||le||V>0?"bold":"normal",boxShadow:F?"0 4px 6px -1px rgba(0, 0, 0, 0.1)":"none"},children:n.jsx("span",{children:wt(H,"d")})},H.toISOString())})]})]}),n.jsxs("div",{className:"text-center pt-4 border-t border-slate-200",children:[l&&!u&&n.jsx("div",{className:"text-base font-semibold text-slate-700",children:wt(l,"dd 'de' MMMM",{locale:Ks})}),n.jsxs("div",{className:"text-sm text-slate-500",children:[ee.length," pagamento",ee.length!==1?"s":""]})]})]})}),n.jsxs("div",{className:"lg:col-span-3 space-y-6",children:[n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[n.jsx("h2",{className:"text-lg font-bold text-slate-900 mb-4",children:"Buscar e Filtrar"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"relative",children:[n.jsx(fo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400 w-5 h-5"}),n.jsx("input",{type:"text",placeholder:"Buscar por nmero, nome ou telefone...",value:m,onChange:H=>v(H.target.value),className:"w-full pl-10 pr-4 py-3 border border-slate-300 rounded-lg focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-100 transition-all"})]}),n.jsxs(qa,{value:y,onValueChange:x,children:[n.jsx(Zi,{children:n.jsx(Wa,{placeholder:"Todos os Motoboys"})}),n.jsxs(Qi,{children:[n.jsx(or,{value:"todos",children:"Todos os Motoboys"}),te.map(H=>n.jsx(or,{value:H,children:H},H))]})]})]})]}),n.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[n.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-5 cursor-pointer transition-all hover:shadow-md",children:[n.jsxs("div",{className:"flex items-center justify-center gap-2 mb-3",children:[n.jsx("div",{className:"p-1.5 rounded-lg",style:{backgroundColor:"#FEF3E8"},children:n.jsx(S1,{className:"w-6 h-6",style:{color:"#f97316"}})}),n.jsx("span",{className:"text-sm font-bold text-slate-700",children:"Pendentes"})]}),n.jsx("div",{className:"text-4xl font-bold text-center",style:{color:"#f97316"},children:$.pendentes})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-5 cursor-pointer transition-all hover:shadow-md",children:[n.jsxs("div",{className:"flex items-center justify-center gap-2 mb-3",children:[n.jsx("div",{className:"p-1.5 rounded-lg",style:{backgroundColor:"#E8F5E8"},children:n.jsx(ea,{className:"w-6 h-6",style:{color:"#3dac38"}})}),n.jsx("span",{className:"text-sm font-bold text-slate-700",children:"Recebidos"})]}),n.jsx("div",{className:"text-4xl font-bold text-center",style:{color:"#3dac38"},children:$.recebidos})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-5 cursor-pointer transition-all hover:shadow-md",children:[n.jsxs("div",{className:"flex items-center justify-center gap-2 mb-3",children:[n.jsx("div",{className:"p-1.5 rounded-lg",style:{backgroundColor:"#E8F0F8"},children:n.jsx(Pf,{className:"w-6 h-6",style:{color:"#376295"}})}),n.jsx("span",{className:"text-sm font-bold text-slate-700",children:"Dinheiro"})]}),n.jsxs("div",{className:"text-2xl font-bold text-center",style:{color:"#376295"},children:["R$ ",$.dinheiro.toFixed(2)]})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-5 cursor-pointer transition-all hover:shadow-md",children:[n.jsxs("div",{className:"flex items-center justify-center gap-2 mb-3",children:[n.jsx("div",{className:"p-1.5 rounded-lg",style:{backgroundColor:"#F5E8F5"},children:n.jsx(E1,{className:"w-6 h-6",style:{color:"#890d5d"}})}),n.jsx("span",{className:"text-sm font-bold text-slate-700",children:"Carto"})]}),n.jsxs("div",{className:"text-2xl font-bold text-center",style:{color:"#890d5d"},children:["R$ ",$.cartao.toFixed(2)]})]})]}),n.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:ee.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx(zc,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:"Nenhum pagamento encontrado"}),n.jsx("p",{className:"text-sm text-slate-600",children:m||y!=="todos"?"Tente ajustar os filtros de busca":"No h pagamentos cadastrados"})]}):n.jsx("div",{children:n.jsx("div",{className:"space-y-3",children:ee.map(H=>{var V,F;return n.jsx(Ws,{to:`/detalhes-romaneio?id=${H.id}`,className:"block p-5 rounded-lg border border-slate-200 hover:border-slate-300 hover:shadow-md transition-all",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[n.jsxs("span",{className:"text-base font-semibold",style:{color:"#376295"},children:["#",H.requisicao]}),n.jsx(ns,{className:"px-3 py-1 rounded text-xs font-medium",style:{backgroundColor:H.pagamento_recebido?"#E8F5E8":"#FEF3E8",color:H.pagamento_recebido?"#3dac38":"#f97316"},children:H.pagamento_recebido?"Recebido":"Pendente"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm text-slate-600 mb-3",children:[n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Cliente:"})," ",((V=H.cliente)==null?void 0:V.nome)||H.cliente_nome]}),n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Motoboy:"})," ",((F=H.motoboy)==null?void 0:F.nome)||"Sem motoboy"]}),n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Data:"})," ",H.data_entrega?wt(Br(H.data_entrega),"dd/MM/yyyy"):"-"]}),H.forma_pagamento&&n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Forma:"})," ",H.forma_pagamento]})]})]}),n.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[H.valor&&n.jsx("div",{className:"text-right mr-3",children:n.jsxs("div",{className:"font-bold text-xl",style:{color:"#376295"},children:["R$ ",parseFloat(H.valor).toFixed(2)]})}),n.jsxs("button",{onClick:le=>ne(le,H),className:"px-4 py-2 border border-slate-300 rounded-lg hover:bg-slate-50 transition-colors flex items-center gap-2 text-sm font-medium text-slate-700",title:"Editar pagamento",children:[n.jsx(Kf,{className:"w-4 h-4"}),"Editar"]})]})]})},H.id)})})})})]})]})}),n.jsx(us,{open:S,onOpenChange:E,children:n.jsxs(Oo,{className:"sm:max-w-[500px]",children:[n.jsxs(Mo,{children:[n.jsx(Lo,{children:"Editar Pagamento"}),n.jsxs(Zf,{children:["#",k==null?void 0:k.requisicao," - ",((ae=k==null?void 0:k.cliente)==null?void 0:ae.nome)||(k==null?void 0:k.cliente_nome)]})]}),n.jsxs("div",{className:"space-y-4 py-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium",children:"Forma de Pagamento *"}),n.jsxs(qa,{value:P,onValueChange:O,children:[n.jsx(Zi,{children:n.jsx(Wa,{placeholder:"Selecione a forma de pagamento"})}),n.jsx(Qi,{children:XI.map(H=>n.jsx(or,{value:H,children:H},H))})]},`forma-pagamento-${k==null?void 0:k.id}`)]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium",children:"Status do Pagamento"}),n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[n.jsx("input",{type:"radio",checked:!T,onChange:()=>R(!1),className:"w-4 h-4 text-orange-600"}),n.jsx("span",{className:"text-sm",children:"Pendente"})]}),n.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[n.jsx("input",{type:"radio",checked:T,onChange:()=>R(!0),className:"w-4 h-4 text-green-600"}),n.jsx("span",{className:"text-sm",children:"Recebido"})]})]})]}),k&&n.jsxs("div",{className:"bg-slate-50 rounded-lg p-3 space-y-1 text-sm",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-slate-600",children:"Valor:"}),n.jsxs("span",{className:"font-semibold",children:["R$ ",parseFloat(k.valor||0).toFixed(2)]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-slate-600",children:"Data:"}),n.jsx("span",{children:k.data_entrega?wt(Br(k.data_entrega),"dd/MM/yyyy"):"-"})]}),((A=k.motoboy)==null?void 0:A.nome)&&n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-slate-600",children:"Motoboy:"}),n.jsx("span",{children:k.motoboy.nome})]})]})]}),n.jsxs(Hv,{children:[n.jsx(gr,{variant:"outline",onClick:()=>E(!1),disabled:Q.isPending,children:"Cancelar"}),n.jsx(gr,{onClick:we,disabled:Q.isPending,style:{background:Q.isPending?"#94a3b8":"#376295"},className:"text-white",children:Q.isPending?"Salvando...":"Salvar"})]})]})},`dialog-${(k==null?void 0:k.id)||"none"}`)]})}function tD(t){return"/"+t.toLowerCase().replace(/ /g,"-")}function rD(){const t=Er(),e=$o(),r=mo(),s=new URLSearchParams(e.search),[l,c]=w.useState(()=>{const B=s.get("data");return B?new Date(B):new Date}),[u,p]=w.useState(s.get("motoboy")||"todos"),[m,v]=w.useState(s.get("todas")==="true");w.useEffect(()=>{const B=new URLSearchParams;m||B.set("data",wt(l,"yyyy-MM-dd")),B.set("todas",m.toString()),u!=="todos"&&B.set("motoboy",u),t(`?${B.toString()}`,{replace:!0})},[l,u,m]);const{data:y=[],isLoading:x}=fn({queryKey:["entregas-moto-planilha"],queryFn:async()=>{try{const{data:B,error:Q}=await Le.from("entregas").select(`
            *,
            cliente:clientes(id, nome, telefone),
            endereco:enderecos(id, logradouro, numero, bairro, cidade, complemento),
            motoboy:motoboys(id, nome)
          `).eq("tipo","moto").order("data_entrega",{ascending:!1});if(Q)throw Q;return console.log("Entregas carregadas:",B),B||[]}catch(B){return console.error("Erro ao carregar entregas:",B),Se.error("Erro ao carregar entregas"),[]}},refetchOnMount:"always",staleTime:0,gcTime:0}),{data:S=[],isLoading:E}=fn({queryKey:["sedex-disktenha-planilha",l,m],queryFn:async()=>{let B=Le.from("sedex_disktenha").select("*");if(!m){const we=wt(l,"yyyy-MM-dd");B=B.eq("data_saida",we)}const{data:Q,error:ne}=await B;return ne?(console.error("Erro ao carregar Sedex/Disktenha:",ne),Se.error("Erro ao carregar Sedex/Disktenha"),[]):(console.log("Sedex/Disktenha carregados:",Q),Q||[])}}),k=[...S].sort((B,Q)=>{const ne={DISKTENHA:1,SEDEX:2,PAC:3},we=ne[B.tipo]||999,ee=ne[Q.tipo]||999;return we-ee}),N=en({mutationFn:async({id:B,data:Q})=>{const{error:ne}=await Le.from("entregas").update(Q).eq("id",B);if(ne)throw ne},onSuccess:()=>{r.invalidateQueries({queryKey:["entregas-moto-planilha"]}),Se.success("Status atualizado!")},onError:()=>{Se.error("Erro ao atualizar")}}),P=en({mutationFn:async({id:B,status:Q})=>{const{error:ne}=await Le.from("sedex_disktenha").update({status:Q}).eq("id",B);if(ne)throw ne},onSuccess:()=>{r.invalidateQueries({queryKey:["sedex-disktenha-planilha"]}),Se.success("Status atualizado!")},onError:()=>{Se.error("Erro ao atualizar")}}),O=y.filter(B=>{var Q;if(!m&&B.data_entrega)try{const ne=new Date(B.data_entrega);if(!hn(ne,l))return!1}catch(ne){return console.error("Erro ao fazer parse da data:",B.data_entrega,ne),!1}return!(u!=="todos"&&((Q=B.motoboy)==null?void 0:Q.nome)!==u)});console.log("Total entregas:",y.length),console.log("Entregas filtradas:",O.length),console.log("Data selecionada:",l),console.log("Visualizar todas:",m),console.log("Filtro motoboy:",u);const T=[...O].sort((B,Q)=>{var $,te;const ne=(($=B.endereco)==null?void 0:$.cidade)||"",we=((te=Q.endereco)==null?void 0:te.cidade)||"",ee=ne.localeCompare(we);return ee!==0?ee:B.periodo==="Manh"?-1:1}),R=[...new Set(y.map(B=>{var Q;return(Q=B.motoboy)==null?void 0:Q.nome}).filter(Boolean))],D=(B,Q)=>B==="Entregue"?"bg-green-50":B==="A Caminho"?"bg-yellow-50":Q==="Cartanhex pago"?"bg-orange-50":Q==="Maquina"?"bg-purple-50":"bg-white",K=(B,Q,ne="romaneio")=>{ne==="romaneio"?N.mutate({id:B,data:{status:Q}}):P.mutate({id:B,status:Q})};return n.jsxs("div",{className:"min-h-screen bg-slate-50",children:[n.jsx("div",{className:"py-8 shadow-sm",style:{background:"linear-gradient(135deg, #457bba 0%, #890d5d 100%)"},children:n.jsx("div",{className:"max-w-7xl mx-auto px-6",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("button",{onClick:()=>t(-1),className:"p-2 rounded-lg bg-white/20 hover:bg-white/30 transition-colors",children:n.jsx(vr,{className:"w-6 h-6 text-white"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-4xl font-bold text-white",children:"Planilha Diria"}),n.jsx("p",{className:"text-base text-white opacity-90 mt-1",children:"Visualize e edite todas as entregas do dia"})]})]})})}),n.jsx("div",{className:"p-6",children:n.jsxs("div",{className:"max-w-7xl mx-auto",children:[n.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6 mb-6",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("button",{onClick:()=>v(!0),className:"flex items-center justify-center gap-2 px-4 py-2 rounded-lg font-semibold text-sm transition-all whitespace-nowrap",style:{backgroundColor:m?"#376295":"white",color:m?"white":"#64748b",border:m?"none":"1px solid #e2e8f0"},children:"Todas"}),n.jsx("button",{onClick:()=>v(!1),className:"flex items-center justify-center gap-2 px-4 py-2 rounded-lg font-semibold text-sm transition-all whitespace-nowrap",style:{backgroundColor:m?"white":"#376295",color:m?"#64748b":"white",border:m?"1px solid #e2e8f0":"none"},children:"Por Dia"})]}),!m&&n.jsx("div",{className:"flex items-center gap-2",children:n.jsx(cl,{value:wt(l,"yyyy-MM-dd"),onChange:B=>{B&&c(new Date(B+"T00:00:00"))},placeholder:"Selecione a data"})}),n.jsx("div",{className:"flex-1 max-w-xs",children:n.jsx(kt,{options:[{value:"todos",label:"Todos os Motoboys"},...R.map(B=>({value:B,label:B}))],value:u,onChange:p,placeholder:"Todos os Motoboys"})})]})}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"bg-white rounded-lg border border-slate-200 overflow-hidden",children:[n.jsx("div",{className:"px-4 py-3",style:{backgroundColor:"#376295"},children:n.jsx("h2",{className:"text-white font-bold text-lg",children:"ENTREGAS MOTO"})}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full text-xs border-collapse",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"bg-slate-100 border-b border-slate-300",children:[n.jsx("th",{className:"px-2 py-2 text-left font-semibold text-slate-700 border-r border-slate-200",children:"Atendente"}),n.jsx("th",{className:"px-2 py-2 text-left font-semibold text-slate-700 border-r border-slate-200",children:"Requisio"}),n.jsx("th",{className:"px-2 py-2 text-left font-semibold text-slate-700 border-r border-slate-200",children:"Cliente"}),n.jsx("th",{className:"px-2 py-2 text-left font-semibold text-slate-700 border-r border-slate-200",children:"Telefone"}),n.jsx("th",{className:"px-2 py-2 text-left font-semibold text-slate-700 border-r border-slate-200",children:"Observao"}),n.jsx("th",{className:"px-2 py-2 text-left font-semibold text-slate-700 border-r border-slate-200",children:"Local"}),n.jsx("th",{className:"px-2 py-2 text-left font-semibold text-slate-700 border-r border-slate-200",children:"Forma de Pgto"}),n.jsx("th",{className:"px-2 py-2 text-left font-semibold text-slate-700 border-r border-slate-200",children:"Valor a Cobrar"}),n.jsx("th",{className:"px-2 py-2 text-left font-semibold text-slate-700 border-r border-slate-200",children:"Troco"}),n.jsx("th",{className:"px-2 py-2 text-left font-semibold text-slate-700 border-r border-slate-200",children:"Perodo"}),n.jsx("th",{className:"px-2 py-2 text-left font-semibold text-slate-700 border-r border-slate-200",children:"Status"}),n.jsx("th",{className:"px-2 py-2 text-left font-semibold text-slate-700 border-r border-slate-200",children:"Receita"}),n.jsx("th",{className:"px-2 py-2 text-left font-semibold text-slate-700 border-r border-slate-200",children:"Moto"}),n.jsx("th",{className:"px-2 py-2 text-left font-semibold text-slate-700 border-r border-slate-200",children:"Taxa"}),n.jsx("th",{className:"px-2 py-2 text-left font-semibold text-slate-700",children:"Ver"})]})}),n.jsx("tbody",{children:x?n.jsx("tr",{children:n.jsx("td",{colSpan:"15",className:"p-8 text-center text-slate-500",children:"Carregando..."})}):T.length===0?n.jsx("tr",{children:n.jsx("td",{colSpan:"15",className:"p-8 text-center text-slate-500",children:"Nenhuma entrega encontrada"})}):T.map(B=>{var Q,ne,we,ee;return n.jsxs("tr",{className:`border-b border-slate-200 hover:bg-slate-50 ${D(B.status,B.forma_pagamento)}`,children:[n.jsx("td",{className:"px-2 py-1.5 border-r border-slate-200 text-slate-600",children:B.atendente||"-"}),n.jsx("td",{className:"px-2 py-1.5 border-r border-slate-200 font-mono text-slate-700",children:B.requisicao||"-"}),n.jsx("td",{className:"px-2 py-1.5 border-r border-slate-200 font-medium text-slate-800",children:((Q=B.cliente)==null?void 0:Q.nome)||"-"}),n.jsx("td",{className:"px-2 py-1.5 border-r border-slate-200 text-slate-600",children:(ne=B.cliente)!=null&&ne.telefone?B.cliente.telefone.replace(/\D/g,""):"-"}),n.jsx("td",{className:"px-2 py-1.5 border-r border-slate-200 text-slate-600 max-w-[200px] truncate",children:B.observacoes||"-"}),n.jsx("td",{className:"px-2 py-1.5 border-r border-slate-200 text-slate-600",children:((we=B.endereco)==null?void 0:we.cidade)||"-"}),n.jsx("td",{className:"px-2 py-1.5 border-r border-slate-200",children:n.jsx("span",{className:`px-1.5 py-0.5 rounded text-[10px] font-medium ${B.forma_pagamento==="Pago"?"text-green-700":B.forma_pagamento==="Dinheiro"?"text-blue-700":B.forma_pagamento==="Carto"?"text-purple-700":"bg-slate-100 text-slate-700"}`,style:{backgroundColor:B.forma_pagamento==="Pago"?"#E8F5E8":B.forma_pagamento==="Dinheiro"?"#E8F0F8":B.forma_pagamento==="Carto"?"#F5E8F5":void 0},children:B.forma_pagamento||"-"})}),n.jsxs("td",{className:"px-2 py-1.5 border-r border-slate-200 text-slate-700 font-semibold",children:["R$ ",B.valor?parseFloat(B.valor).toFixed(2):"0.00"]}),n.jsx("td",{className:"px-2 py-1.5 border-r border-slate-200 text-slate-600",children:B.troco||"-"}),n.jsx("td",{className:"px-2 py-1.5 border-r border-slate-200",children:n.jsx("span",{className:`px-1.5 py-0.5 rounded text-[10px] font-medium ${B.periodo==="Manh"?"text-yellow-800":"text-orange-800"}`,style:{backgroundColor:B.periodo==="Manh"?"#fef9c3":"#ffedd5"},children:B.periodo||"-"})}),n.jsx("td",{className:"px-2 py-1.5 border-r border-slate-200",children:n.jsx(kt,{options:[{value:"Pendente",label:"Pendente"},{value:"Produo",label:"Produo"},{value:"Preparando",label:"Preparando"},{value:"A Caminho",label:"A Caminho"},{value:"Entregue",label:"Entregue"},{value:"No Entregue",label:"No Entregue"},{value:"Voltou",label:"Voltou"},{value:"Cancelado",label:"Cancelado"}],value:B.status||"Pendente",onChange:$=>K(B.id,$,"romaneio"),disabled:N.isPending,className:"text-[10px]"})}),n.jsx("td",{className:"px-2 py-1.5 border-r border-slate-200 text-center",children:B.recibo_medico?n.jsx("span",{className:"inline-block w-4 h-4 rounded-full bg-green-500"}):n.jsx("span",{className:"inline-block w-4 h-4 rounded-full bg-slate-300"})}),n.jsx("td",{className:"px-2 py-1.5 border-r border-slate-200 text-slate-700 font-medium",children:((ee=B.motoboy)==null?void 0:ee.nome)||"-"}),n.jsxs("td",{className:"px-2 py-1.5 border-r border-slate-200 text-slate-700 font-semibold",children:["R$ ",B.taxa?parseFloat(B.taxa).toFixed(2):"0.00"]}),n.jsx("td",{className:"px-2 py-1.5",children:n.jsx(Ws,{to:`/detalhes-romaneio?id=${B.id}`,className:"hover:opacity-80 transition-opacity",style:{color:"#376295"},children:n.jsx(N1,{className:"w-3.5 h-3.5"})})})]},B.id)})})]})})]}),n.jsxs("div",{className:"bg-white rounded-lg border border-slate-200 overflow-hidden",children:[n.jsx("div",{className:"px-4 py-3",style:{backgroundColor:"#890d5d"},children:n.jsx("h2",{className:"text-white font-bold text-lg",children:"SEDEX / DISKTENHA"})}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full text-xs border-collapse",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"bg-blue-50 border-b border-blue-200",children:[n.jsx("th",{className:"px-2 py-2 text-left font-semibold text-slate-700 border-r border-blue-200",children:"Tipo"}),n.jsx("th",{className:"px-2 py-2 text-left font-semibold text-slate-700 border-r border-blue-200",children:"Cliente"}),n.jsx("th",{className:"px-2 py-2 text-left font-semibold text-slate-700 border-r border-blue-200",children:"Remetente"}),n.jsx("th",{className:"px-2 py-2 text-left font-semibold text-slate-700 border-r border-blue-200",children:"Cdigo Rastreio"}),n.jsx("th",{className:"px-2 py-2 text-left font-semibold text-slate-700 border-r border-blue-200",children:"Valor"}),n.jsx("th",{className:"px-2 py-2 text-left font-semibold text-slate-700 border-r border-blue-200",children:"Forma de Pgto"}),n.jsx("th",{className:"px-2 py-2 text-left font-semibold text-slate-700 border-r border-blue-200",children:"Data Sada"}),n.jsx("th",{className:"px-2 py-2 text-left font-semibold text-slate-700 border-r border-blue-200",children:"Status"}),n.jsx("th",{className:"px-2 py-2 text-left font-semibold text-slate-700",children:"Observaes"})]})}),n.jsx("tbody",{className:"bg-blue-50/30",children:E?n.jsx("tr",{children:n.jsx("td",{colSpan:"9",className:"p-8 text-center text-slate-500",children:"Carregando..."})}):k.length===0?n.jsx("tr",{children:n.jsx("td",{colSpan:"9",className:"p-8 text-center text-slate-500",children:"Nenhuma entrega Sedex/Disktenha encontrada"})}):k.map(B=>n.jsxs("tr",{className:"border-b border-blue-200 hover:bg-blue-100/50",children:[n.jsx("td",{className:"px-2 py-1.5 border-r border-blue-200",children:n.jsx("span",{className:`px-1.5 py-0.5 rounded text-[10px] font-bold ${B.tipo==="SEDEX"?"bg-red-100 text-red-800":B.tipo==="PAC"?"bg-yellow-100 text-yellow-800":"bg-blue-100 text-blue-800"}`,children:B.tipo})}),n.jsx("td",{className:"px-2 py-1.5 border-r border-blue-200 font-medium text-slate-800",children:B.cliente}),n.jsx("td",{className:"px-2 py-1.5 border-r border-blue-200 text-slate-600",children:B.remetente||"-"}),n.jsx("td",{className:"px-2 py-1.5 border-r border-blue-200 font-mono text-slate-700",children:B.codigo_rastreio}),n.jsxs("td",{className:"px-2 py-1.5 border-r border-blue-200 text-slate-700 font-semibold",children:["R$ ",B.valor?parseFloat(B.valor).toFixed(2):"0.00"]}),n.jsx("td",{className:"px-2 py-1.5 border-r border-blue-200",children:n.jsx("span",{className:"px-1.5 py-0.5 rounded text-[10px] font-medium bg-green-100 text-green-800",children:B.forma_pagamento})}),n.jsx("td",{className:"px-2 py-1.5 border-r border-blue-200 text-slate-600",children:B.data_saida?wt(Br(B.data_saida),"dd/MM/yyyy"):"-"}),n.jsx("td",{className:"px-2 py-1.5 border-r border-blue-200",children:n.jsx(kt,{options:[{value:"Pendente",label:"Pendente"},{value:"Em Trnsito",label:"Em Trnsito"},{value:"Entregue",label:"Entregue"},{value:"Devolvido",label:"Devolvido"}],value:B.status||"Pendente",onChange:Q=>K(B.id,Q,"sedex"),disabled:P.isPending,className:"text-[10px]"})}),n.jsx("td",{className:"px-2 py-1.5 text-slate-600 max-w-[200px] truncate",children:B.observacoes||"-"})]},B.id))})]})})]}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[n.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-5 border-2 border-transparent",children:[n.jsxs("div",{className:"flex items-center justify-center gap-2 mb-3",children:[n.jsx("div",{className:"p-1.5 rounded-lg",style:{backgroundColor:"#E8F0F8"},children:n.jsx("svg",{className:"w-6 h-6",style:{color:"#376295"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})}),n.jsx("span",{className:"text-sm font-bold text-slate-700",children:"Total Romaneios"})]}),n.jsx("div",{className:"text-4xl font-bold text-center",style:{color:"#376295"},children:T.length})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-5 border-2 border-transparent",children:[n.jsxs("div",{className:"flex items-center justify-center gap-2 mb-3",children:[n.jsx("div",{className:"p-1.5 rounded-lg",style:{backgroundColor:"#E8F5E8"},children:n.jsx("svg",{className:"w-6 h-6",style:{color:"#22c55e"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),n.jsx("span",{className:"text-sm font-bold text-slate-700",children:"Entregues"})]}),n.jsx("div",{className:"text-4xl font-bold text-center",style:{color:"#22c55e"},children:T.filter(B=>B.status==="Entregue").length})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-5 border-2 border-transparent",children:[n.jsxs("div",{className:"flex items-center justify-center gap-2 mb-3",children:[n.jsx("div",{className:"p-1.5 rounded-lg",style:{backgroundColor:"#F5E8F5"},children:n.jsx("svg",{className:"w-6 h-6",style:{color:"#890d5d"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"})})}),n.jsx("span",{className:"text-sm font-bold text-slate-700",children:"Sedex/Disk"})]}),n.jsx("div",{className:"text-4xl font-bold text-center",style:{color:"#890d5d"},children:k.length})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-5 border-2 border-transparent",children:[n.jsxs("div",{className:"flex items-center justify-center gap-2 mb-3",children:[n.jsx("div",{className:"p-1.5 rounded-lg",style:{backgroundColor:"#E8F0F8"},children:n.jsx("svg",{className:"w-6 h-6",style:{color:"#376295"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),n.jsx("span",{className:"text-sm font-bold text-slate-700",children:"Valor Total"})]}),n.jsxs("div",{className:"text-4xl font-bold text-center",style:{color:"#376295"},children:["R$ ",(T.reduce((B,Q)=>B+(parseFloat(Q.valor)||0),0)+k.reduce((B,Q)=>B+(parseFloat(Q.valor)||0),0)).toFixed(2)]})]})]})]})]})})]})}function WS(t,e){const r=w.useRef(e);w.useEffect(function(){e!==r.current&&t.attributionControl!=null&&(r.current!=null&&t.attributionControl.removeAttribution(r.current),e!=null&&t.attributionControl.addAttribution(e)),r.current=e},[t,e])}const nD=1;function oD(t){return Object.freeze({__version:nD,map:t})}function HS(t,e){return Object.freeze({...t,...e})}const VS=w.createContext(null),GS=VS.Provider;function lx(){const t=w.useContext(VS);if(t==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return t}function KS(t){function e(r,s){const{instance:l,context:c}=t(r).current;return w.useImperativeHandle(s,()=>l),r.children==null?null:Te.createElement(GS,{value:c},r.children)}return w.forwardRef(e)}function sD(t){function e(r,s){const[l,c]=w.useState(!1),{instance:u}=t(r,c).current;w.useImperativeHandle(s,()=>u),w.useEffect(function(){l&&u.update()},[u,l,r.children]);const p=u._contentNode;return p?Oc.createPortal(r.children,p):null}return w.forwardRef(e)}function iD(t){function e(r,s){const{instance:l}=t(r).current;return w.useImperativeHandle(s,()=>l),null}return w.forwardRef(e)}function cx(t,e){const r=w.useRef();w.useEffect(function(){return e!=null&&t.instance.on(e),r.current=e,function(){r.current!=null&&t.instance.off(r.current),r.current=null}},[t,e])}function am(t,e){const r=t.pane??e.pane;return r?{...t,pane:r}:t}function aD(t,e){return function(s,l){const c=lx(),u=t(am(s,c),c);return WS(c.map,s.attribution),cx(u.current,s.eventHandlers),e(u.current,c,s,l),u}}var Zd={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var lD=Zd.exports,Db;function cD(){return Db||(Db=1,(function(t,e){(function(r,s){s(e)})(lD,(function(r){var s="1.9.4";function l(i){var d,f,b,C;for(f=1,b=arguments.length;f<b;f++){C=arguments[f];for(d in C)i[d]=C[d]}return i}var c=Object.create||(function(){function i(){}return function(d){return i.prototype=d,new i}})();function u(i,d){var f=Array.prototype.slice;if(i.bind)return i.bind.apply(i,f.call(arguments,1));var b=f.call(arguments,2);return function(){return i.apply(d,b.length?b.concat(f.call(arguments)):arguments)}}var p=0;function m(i){return"_leaflet_id"in i||(i._leaflet_id=++p),i._leaflet_id}function v(i,d,f){var b,C,I,J;return J=function(){b=!1,C&&(I.apply(f,C),C=!1)},I=function(){b?C=arguments:(i.apply(f,arguments),setTimeout(J,d),b=!0)},I}function y(i,d,f){var b=d[1],C=d[0],I=b-C;return i===b&&f?i:((i-C)%I+I)%I+C}function x(){return!1}function S(i,d){if(d===!1)return i;var f=Math.pow(10,d===void 0?6:d);return Math.round(i*f)/f}function E(i){return i.trim?i.trim():i.replace(/^\s+|\s+$/g,"")}function k(i){return E(i).split(/\s+/)}function N(i,d){Object.prototype.hasOwnProperty.call(i,"options")||(i.options=i.options?c(i.options):{});for(var f in d)i.options[f]=d[f];return i.options}function P(i,d,f){var b=[];for(var C in i)b.push(encodeURIComponent(f?C.toUpperCase():C)+"="+encodeURIComponent(i[C]));return(!d||d.indexOf("?")===-1?"?":"&")+b.join("&")}var O=/\{ *([\w_ -]+) *\}/g;function T(i,d){return i.replace(O,function(f,b){var C=d[b];if(C===void 0)throw new Error("No value provided for variable "+f);return typeof C=="function"&&(C=C(d)),C})}var R=Array.isArray||function(i){return Object.prototype.toString.call(i)==="[object Array]"};function D(i,d){for(var f=0;f<i.length;f++)if(i[f]===d)return f;return-1}var K="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function B(i){return window["webkit"+i]||window["moz"+i]||window["ms"+i]}var Q=0;function ne(i){var d=+new Date,f=Math.max(0,16-(d-Q));return Q=d+f,window.setTimeout(i,f)}var we=window.requestAnimationFrame||B("RequestAnimationFrame")||ne,ee=window.cancelAnimationFrame||B("CancelAnimationFrame")||B("CancelRequestAnimationFrame")||function(i){window.clearTimeout(i)};function $(i,d,f){if(f&&we===ne)i.call(d);else return we.call(window,u(i,d))}function te(i){i&&ee.call(window,i)}var U={__proto__:null,extend:l,create:c,bind:u,get lastId(){return p},stamp:m,throttle:v,wrapNum:y,falseFn:x,formatNum:S,trim:E,splitWords:k,setOptions:N,getParamString:P,template:T,isArray:R,indexOf:D,emptyImageUrl:K,requestFn:we,cancelFn:ee,requestAnimFrame:$,cancelAnimFrame:te};function W(){}W.extend=function(i){var d=function(){N(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},f=d.__super__=this.prototype,b=c(f);b.constructor=d,d.prototype=b;for(var C in this)Object.prototype.hasOwnProperty.call(this,C)&&C!=="prototype"&&C!=="__super__"&&(d[C]=this[C]);return i.statics&&l(d,i.statics),i.includes&&(be(i.includes),l.apply(null,[b].concat(i.includes))),l(b,i),delete b.statics,delete b.includes,b.options&&(b.options=f.options?c(f.options):{},l(b.options,i.options)),b._initHooks=[],b.callInitHooks=function(){if(!this._initHooksCalled){f.callInitHooks&&f.callInitHooks.call(this),this._initHooksCalled=!0;for(var I=0,J=b._initHooks.length;I<J;I++)b._initHooks[I].call(this)}},d},W.include=function(i){var d=this.prototype.options;return l(this.prototype,i),i.options&&(this.prototype.options=d,this.mergeOptions(i.options)),this},W.mergeOptions=function(i){return l(this.prototype.options,i),this},W.addInitHook=function(i){var d=Array.prototype.slice.call(arguments,1),f=typeof i=="function"?i:function(){this[i].apply(this,d)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(f),this};function be(i){if(!(typeof L>"u"||!L||!L.Mixin)){i=R(i)?i:[i];for(var d=0;d<i.length;d++)i[d]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var me={on:function(i,d,f){if(typeof i=="object")for(var b in i)this._on(b,i[b],d);else{i=k(i);for(var C=0,I=i.length;C<I;C++)this._on(i[C],d,f)}return this},off:function(i,d,f){if(!arguments.length)delete this._events;else if(typeof i=="object")for(var b in i)this._off(b,i[b],d);else{i=k(i);for(var C=arguments.length===1,I=0,J=i.length;I<J;I++)C?this._off(i[I]):this._off(i[I],d,f)}return this},_on:function(i,d,f,b){if(typeof d!="function"){console.warn("wrong listener type: "+typeof d);return}if(this._listens(i,d,f)===!1){f===this&&(f=void 0);var C={fn:d,ctx:f};b&&(C.once=!0),this._events=this._events||{},this._events[i]=this._events[i]||[],this._events[i].push(C)}},_off:function(i,d,f){var b,C,I;if(this._events&&(b=this._events[i],!!b)){if(arguments.length===1){if(this._firingCount)for(C=0,I=b.length;C<I;C++)b[C].fn=x;delete this._events[i];return}if(typeof d!="function"){console.warn("wrong listener type: "+typeof d);return}var J=this._listens(i,d,f);if(J!==!1){var de=b[J];this._firingCount&&(de.fn=x,this._events[i]=b=b.slice()),b.splice(J,1)}}},fire:function(i,d,f){if(!this.listens(i,f))return this;var b=l({},d,{type:i,target:this,sourceTarget:d&&d.sourceTarget||this});if(this._events){var C=this._events[i];if(C){this._firingCount=this._firingCount+1||1;for(var I=0,J=C.length;I<J;I++){var de=C[I],ve=de.fn;de.once&&this.off(i,ve,de.ctx),ve.call(de.ctx||this,b)}this._firingCount--}}return f&&this._propagateEvent(b),this},listens:function(i,d,f,b){typeof i!="string"&&console.warn('"string" type argument expected');var C=d;typeof d!="function"&&(b=!!d,C=void 0,f=void 0);var I=this._events&&this._events[i];if(I&&I.length&&this._listens(i,C,f)!==!1)return!0;if(b){for(var J in this._eventParents)if(this._eventParents[J].listens(i,d,f,b))return!0}return!1},_listens:function(i,d,f){if(!this._events)return!1;var b=this._events[i]||[];if(!d)return!!b.length;f===this&&(f=void 0);for(var C=0,I=b.length;C<I;C++)if(b[C].fn===d&&b[C].ctx===f)return C;return!1},once:function(i,d,f){if(typeof i=="object")for(var b in i)this._on(b,i[b],d,!0);else{i=k(i);for(var C=0,I=i.length;C<I;C++)this._on(i[C],d,f,!0)}return this},addEventParent:function(i){return this._eventParents=this._eventParents||{},this._eventParents[m(i)]=i,this},removeEventParent:function(i){return this._eventParents&&delete this._eventParents[m(i)],this},_propagateEvent:function(i){for(var d in this._eventParents)this._eventParents[d].fire(i.type,l({layer:i.target,propagatedFrom:i.target},i),!0)}};me.addEventListener=me.on,me.removeEventListener=me.clearAllEventListeners=me.off,me.addOneTimeEventListener=me.once,me.fireEvent=me.fire,me.hasEventListeners=me.listens;var _e=W.extend(me);function q(i,d,f){this.x=f?Math.round(i):i,this.y=f?Math.round(d):d}var je=Math.trunc||function(i){return i>0?Math.floor(i):Math.ceil(i)};q.prototype={clone:function(){return new q(this.x,this.y)},add:function(i){return this.clone()._add(ae(i))},_add:function(i){return this.x+=i.x,this.y+=i.y,this},subtract:function(i){return this.clone()._subtract(ae(i))},_subtract:function(i){return this.x-=i.x,this.y-=i.y,this},divideBy:function(i){return this.clone()._divideBy(i)},_divideBy:function(i){return this.x/=i,this.y/=i,this},multiplyBy:function(i){return this.clone()._multiplyBy(i)},_multiplyBy:function(i){return this.x*=i,this.y*=i,this},scaleBy:function(i){return new q(this.x*i.x,this.y*i.y)},unscaleBy:function(i){return new q(this.x/i.x,this.y/i.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=je(this.x),this.y=je(this.y),this},distanceTo:function(i){i=ae(i);var d=i.x-this.x,f=i.y-this.y;return Math.sqrt(d*d+f*f)},equals:function(i){return i=ae(i),i.x===this.x&&i.y===this.y},contains:function(i){return i=ae(i),Math.abs(i.x)<=Math.abs(this.x)&&Math.abs(i.y)<=Math.abs(this.y)},toString:function(){return"Point("+S(this.x)+", "+S(this.y)+")"}};function ae(i,d,f){return i instanceof q?i:R(i)?new q(i[0],i[1]):i==null?i:typeof i=="object"&&"x"in i&&"y"in i?new q(i.x,i.y):new q(i,d,f)}function A(i,d){if(i)for(var f=d?[i,d]:i,b=0,C=f.length;b<C;b++)this.extend(f[b])}A.prototype={extend:function(i){var d,f;if(!i)return this;if(i instanceof q||typeof i[0]=="number"||"x"in i)d=f=ae(i);else if(i=H(i),d=i.min,f=i.max,!d||!f)return this;return!this.min&&!this.max?(this.min=d.clone(),this.max=f.clone()):(this.min.x=Math.min(d.x,this.min.x),this.max.x=Math.max(f.x,this.max.x),this.min.y=Math.min(d.y,this.min.y),this.max.y=Math.max(f.y,this.max.y)),this},getCenter:function(i){return ae((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,i)},getBottomLeft:function(){return ae(this.min.x,this.max.y)},getTopRight:function(){return ae(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(i){var d,f;return typeof i[0]=="number"||i instanceof q?i=ae(i):i=H(i),i instanceof A?(d=i.min,f=i.max):d=f=i,d.x>=this.min.x&&f.x<=this.max.x&&d.y>=this.min.y&&f.y<=this.max.y},intersects:function(i){i=H(i);var d=this.min,f=this.max,b=i.min,C=i.max,I=C.x>=d.x&&b.x<=f.x,J=C.y>=d.y&&b.y<=f.y;return I&&J},overlaps:function(i){i=H(i);var d=this.min,f=this.max,b=i.min,C=i.max,I=C.x>d.x&&b.x<f.x,J=C.y>d.y&&b.y<f.y;return I&&J},isValid:function(){return!!(this.min&&this.max)},pad:function(i){var d=this.min,f=this.max,b=Math.abs(d.x-f.x)*i,C=Math.abs(d.y-f.y)*i;return H(ae(d.x-b,d.y-C),ae(f.x+b,f.y+C))},equals:function(i){return i?(i=H(i),this.min.equals(i.getTopLeft())&&this.max.equals(i.getBottomRight())):!1}};function H(i,d){return!i||i instanceof A?i:new A(i,d)}function V(i,d){if(i)for(var f=d?[i,d]:i,b=0,C=f.length;b<C;b++)this.extend(f[b])}V.prototype={extend:function(i){var d=this._southWest,f=this._northEast,b,C;if(i instanceof le)b=i,C=i;else if(i instanceof V){if(b=i._southWest,C=i._northEast,!b||!C)return this}else return i?this.extend(xe(i)||F(i)):this;return!d&&!f?(this._southWest=new le(b.lat,b.lng),this._northEast=new le(C.lat,C.lng)):(d.lat=Math.min(b.lat,d.lat),d.lng=Math.min(b.lng,d.lng),f.lat=Math.max(C.lat,f.lat),f.lng=Math.max(C.lng,f.lng)),this},pad:function(i){var d=this._southWest,f=this._northEast,b=Math.abs(d.lat-f.lat)*i,C=Math.abs(d.lng-f.lng)*i;return new V(new le(d.lat-b,d.lng-C),new le(f.lat+b,f.lng+C))},getCenter:function(){return new le((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new le(this.getNorth(),this.getWest())},getSouthEast:function(){return new le(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(i){typeof i[0]=="number"||i instanceof le||"lat"in i?i=xe(i):i=F(i);var d=this._southWest,f=this._northEast,b,C;return i instanceof V?(b=i.getSouthWest(),C=i.getNorthEast()):b=C=i,b.lat>=d.lat&&C.lat<=f.lat&&b.lng>=d.lng&&C.lng<=f.lng},intersects:function(i){i=F(i);var d=this._southWest,f=this._northEast,b=i.getSouthWest(),C=i.getNorthEast(),I=C.lat>=d.lat&&b.lat<=f.lat,J=C.lng>=d.lng&&b.lng<=f.lng;return I&&J},overlaps:function(i){i=F(i);var d=this._southWest,f=this._northEast,b=i.getSouthWest(),C=i.getNorthEast(),I=C.lat>d.lat&&b.lat<f.lat,J=C.lng>d.lng&&b.lng<f.lng;return I&&J},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(i,d){return i?(i=F(i),this._southWest.equals(i.getSouthWest(),d)&&this._northEast.equals(i.getNorthEast(),d)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function F(i,d){return i instanceof V?i:new V(i,d)}function le(i,d,f){if(isNaN(i)||isNaN(d))throw new Error("Invalid LatLng object: ("+i+", "+d+")");this.lat=+i,this.lng=+d,f!==void 0&&(this.alt=+f)}le.prototype={equals:function(i,d){if(!i)return!1;i=xe(i);var f=Math.max(Math.abs(this.lat-i.lat),Math.abs(this.lng-i.lng));return f<=(d===void 0?1e-9:d)},toString:function(i){return"LatLng("+S(this.lat,i)+", "+S(this.lng,i)+")"},distanceTo:function(i){return se.distance(this,xe(i))},wrap:function(){return se.wrapLatLng(this)},toBounds:function(i){var d=180*i/40075017,f=d/Math.cos(Math.PI/180*this.lat);return F([this.lat-d,this.lng-f],[this.lat+d,this.lng+f])},clone:function(){return new le(this.lat,this.lng,this.alt)}};function xe(i,d,f){return i instanceof le?i:R(i)&&typeof i[0]!="object"?i.length===3?new le(i[0],i[1],i[2]):i.length===2?new le(i[0],i[1]):null:i==null?i:typeof i=="object"&&"lat"in i?new le(i.lat,"lng"in i?i.lng:i.lon,i.alt):d===void 0?null:new le(i,d,f)}var pe={latLngToPoint:function(i,d){var f=this.projection.project(i),b=this.scale(d);return this.transformation._transform(f,b)},pointToLatLng:function(i,d){var f=this.scale(d),b=this.transformation.untransform(i,f);return this.projection.unproject(b)},project:function(i){return this.projection.project(i)},unproject:function(i){return this.projection.unproject(i)},scale:function(i){return 256*Math.pow(2,i)},zoom:function(i){return Math.log(i/256)/Math.LN2},getProjectedBounds:function(i){if(this.infinite)return null;var d=this.projection.bounds,f=this.scale(i),b=this.transformation.transform(d.min,f),C=this.transformation.transform(d.max,f);return new A(b,C)},infinite:!1,wrapLatLng:function(i){var d=this.wrapLng?y(i.lng,this.wrapLng,!0):i.lng,f=this.wrapLat?y(i.lat,this.wrapLat,!0):i.lat,b=i.alt;return new le(f,d,b)},wrapLatLngBounds:function(i){var d=i.getCenter(),f=this.wrapLatLng(d),b=d.lat-f.lat,C=d.lng-f.lng;if(b===0&&C===0)return i;var I=i.getSouthWest(),J=i.getNorthEast(),de=new le(I.lat-b,I.lng-C),ve=new le(J.lat-b,J.lng-C);return new V(de,ve)}},se=l({},pe,{wrapLng:[-180,180],R:6371e3,distance:function(i,d){var f=Math.PI/180,b=i.lat*f,C=d.lat*f,I=Math.sin((d.lat-i.lat)*f/2),J=Math.sin((d.lng-i.lng)*f/2),de=I*I+Math.cos(b)*Math.cos(C)*J*J,ve=2*Math.atan2(Math.sqrt(de),Math.sqrt(1-de));return this.R*ve}}),Pe=6378137,Me={R:Pe,MAX_LATITUDE:85.0511287798,project:function(i){var d=Math.PI/180,f=this.MAX_LATITUDE,b=Math.max(Math.min(f,i.lat),-f),C=Math.sin(b*d);return new q(this.R*i.lng*d,this.R*Math.log((1+C)/(1-C))/2)},unproject:function(i){var d=180/Math.PI;return new le((2*Math.atan(Math.exp(i.y/this.R))-Math.PI/2)*d,i.x*d/this.R)},bounds:(function(){var i=Pe*Math.PI;return new A([-i,-i],[i,i])})()};function $e(i,d,f,b){if(R(i)){this._a=i[0],this._b=i[1],this._c=i[2],this._d=i[3];return}this._a=i,this._b=d,this._c=f,this._d=b}$e.prototype={transform:function(i,d){return this._transform(i.clone(),d)},_transform:function(i,d){return d=d||1,i.x=d*(this._a*i.x+this._b),i.y=d*(this._c*i.y+this._d),i},untransform:function(i,d){return d=d||1,new q((i.x/d-this._b)/this._a,(i.y/d-this._d)/this._c)}};function Ie(i,d,f,b){return new $e(i,d,f,b)}var nt=l({},se,{code:"EPSG:3857",projection:Me,transformation:(function(){var i=.5/(Math.PI*Me.R);return Ie(i,.5,-i,.5)})()}),it=l({},nt,{code:"EPSG:900913"});function Lt(i){return document.createElementNS("http://www.w3.org/2000/svg",i)}function $t(i,d){var f="",b,C,I,J,de,ve;for(b=0,I=i.length;b<I;b++){for(de=i[b],C=0,J=de.length;C<J;C++)ve=de[C],f+=(C?"L":"M")+ve.x+" "+ve.y;f+=d?ze.svg?"z":"x":""}return f||"M0 0"}var Pt=document.documentElement.style,_t="ActiveXObject"in window,Nt=_t&&!document.addEventListener,ur="msLaunchUri"in navigator&&!("documentMode"in document),xr=fr("webkit"),jt=fr("android"),Vt=fr("android 2")||fr("android 3"),kn=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Wn=jt&&fr("Google")&&kn<537&&!("AudioNode"in window),Or=!!window.opera,Hr=!ur&&fr("chrome"),ie=fr("gecko")&&!xr&&!Or&&!_t,Ee=!Hr&&fr("safari"),G=fr("phantom"),z="OTransition"in Pt,Y=navigator.platform.indexOf("Win")===0,ce=_t&&"transition"in Pt,ge="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Vt,Ke="MozPerspective"in Pt,Re=!window.L_DISABLE_3D&&(ce||ge||Ke)&&!z&&!G,at=typeof orientation<"u"||fr("mobile"),dt=at&&xr,Xe=at&&ge,Tt=!window.PointerEvent&&window.MSPointerEvent,It=!!(window.PointerEvent||Tt),zr="ontouchstart"in window||!!window.TouchEvent,Hn=!window.L_NO_TOUCH&&(zr||It),st=at&&Or,Ft=at&&ie,St=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,yr=(function(){var i=!1;try{var d=Object.defineProperty({},"passive",{get:function(){i=!0}});window.addEventListener("testPassiveEventSupport",x,d),window.removeEventListener("testPassiveEventSupport",x,d)}catch{}return i})(),Vn=(function(){return!!document.createElement("canvas").getContext})(),Ut=!!(document.createElementNS&&Lt("svg").createSVGRect),ar=!!Ut&&(function(){var i=document.createElement("div");return i.innerHTML="<svg/>",(i.firstChild&&i.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),Gn=!Ut&&(function(){try{var i=document.createElement("div");i.innerHTML='<v:shape adj="1"/>';var d=i.firstChild;return d.style.behavior="url(#default#VML)",d&&typeof d.adj=="object"}catch{return!1}})(),hr=navigator.platform.indexOf("Mac")===0,$r=navigator.platform.indexOf("Linux")===0;function fr(i){return navigator.userAgent.toLowerCase().indexOf(i)>=0}var ze={ie:_t,ielt9:Nt,edge:ur,webkit:xr,android:jt,android23:Vt,androidStock:Wn,opera:Or,chrome:Hr,gecko:ie,safari:Ee,phantom:G,opera12:z,win:Y,ie3d:ce,webkit3d:ge,gecko3d:Ke,any3d:Re,mobile:at,mobileWebkit:dt,mobileWebkit3d:Xe,msPointer:Tt,pointer:It,touch:Hn,touchNative:zr,mobileOpera:st,mobileGecko:Ft,retina:St,passiveEvents:yr,canvas:Vn,svg:Ut,vml:Gn,inlineSvg:ar,mac:hr,linux:$r},Uo=ze.msPointer?"MSPointerDown":"pointerdown",ia=ze.msPointer?"MSPointerMove":"pointermove",_u=ze.msPointer?"MSPointerUp":"pointerup",wu=ze.msPointer?"MSPointerCancel":"pointercancel",Gc={touchstart:Uo,touchmove:ia,touchend:_u,touchcancel:wu},qo={touchstart:er,touchmove:dl,touchend:dl,touchcancel:dl},gs={},Kc=!1;function dm(i,d,f){return d==="touchstart"&&um(),qo[d]?(f=qo[d].bind(this,f),i.addEventListener(Gc[d],f,!1),f):(console.warn("wrong event specified:",d),x)}function ju(i,d,f){if(!Gc[d]){console.warn("wrong event specified:",d);return}i.removeEventListener(Gc[d],f,!1)}function Su(i){gs[i.pointerId]=i}function Eu(i){gs[i.pointerId]&&(gs[i.pointerId]=i)}function Zc(i){delete gs[i.pointerId]}function um(){Kc||(document.addEventListener(Uo,Su,!0),document.addEventListener(ia,Eu,!0),document.addEventListener(_u,Zc,!0),document.addEventListener(wu,Zc,!0),Kc=!0)}function dl(i,d){if(d.pointerType!==(d.MSPOINTER_TYPE_MOUSE||"mouse")){d.touches=[];for(var f in gs)d.touches.push(gs[f]);d.changedTouches=[d],i(d)}}function er(i,d){d.MSPOINTER_TYPE_TOUCH&&d.pointerType===d.MSPOINTER_TYPE_TOUCH&&tr(d),dl(i,d)}function hm(i){var d={},f,b;for(b in i)f=i[b],d[b]=f&&f.bind?f.bind(i):f;return i=d,d.type="dblclick",d.detail=2,d.isTrusted=!1,d._simulated=!0,d}var Qc=200;function Nu(i,d){i.addEventListener("dblclick",d);var f=0,b;function C(I){if(I.detail!==1){b=I.detail;return}if(!(I.pointerType==="mouse"||I.sourceCapabilities&&!I.sourceCapabilities.firesTouchEvents)){var J=ys(I);if(!(J.some(function(ve){return ve instanceof HTMLLabelElement&&ve.attributes.for})&&!J.some(function(ve){return ve instanceof HTMLInputElement||ve instanceof HTMLSelectElement}))){var de=Date.now();de-f<=Qc?(b++,b===2&&d(hm(I))):b=1,f=de}}}return i.addEventListener("click",C),{dblclick:d,simDblclick:C}}function ul(i,d){i.removeEventListener("dblclick",d.dblclick),i.removeEventListener("click",d.simDblclick)}var Yc=oi(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),ti=oi(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),aa=ti==="webkitTransition"||ti==="OTransition"?ti+"End":"transitionend";function Pn(i){return typeof i=="string"?document.getElementById(i):i}function la(i,d){var f=i.style[d]||i.currentStyle&&i.currentStyle[d];if((!f||f==="auto")&&document.defaultView){var b=document.defaultView.getComputedStyle(i,null);f=b?b[d]:null}return f==="auto"?null:f}function ht(i,d,f){var b=document.createElement(i);return b.className=d||"",f&&f.appendChild(b),b}function Gt(i){var d=i.parentNode;d&&d.removeChild(i)}function hl(i){for(;i.firstChild;)i.removeChild(i.firstChild)}function ri(i){var d=i.parentNode;d&&d.lastChild!==i&&d.appendChild(i)}function po(i){var d=i.parentNode;d&&d.firstChild!==i&&d.insertBefore(i,d.firstChild)}function ni(i,d){if(i.classList!==void 0)return i.classList.contains(d);var f=fl(i);return f.length>0&&new RegExp("(^|\\s)"+d+"(\\s|$)").test(f)}function ut(i,d){if(i.classList!==void 0)for(var f=k(d),b=0,C=f.length;b<C;b++)i.classList.add(f[b]);else if(!ni(i,d)){var I=fl(i);Jc(i,(I?I+" ":"")+d)}}function qt(i,d){i.classList!==void 0?i.classList.remove(d):Jc(i,E((" "+fl(i)+" ").replace(" "+d+" "," ")))}function Jc(i,d){i.className.baseVal===void 0?i.className=d:i.className.baseVal=d}function fl(i){return i.correspondingElement&&(i=i.correspondingElement),i.className.baseVal===void 0?i.className:i.className.baseVal}function Vr(i,d){"opacity"in i.style?i.style.opacity=d:"filter"in i.style&&Cu(i,d)}function Cu(i,d){var f=!1,b="DXImageTransform.Microsoft.Alpha";try{f=i.filters.item(b)}catch{if(d===1)return}d=Math.round(d*100),f?(f.Enabled=d!==100,f.Opacity=d):i.style.filter+=" progid:"+b+"(opacity="+d+")"}function oi(i){for(var d=document.documentElement.style,f=0;f<i.length;f++)if(i[f]in d)return i[f];return!1}function Tn(i,d,f){var b=d||new q(0,0);i.style[Yc]=(ze.ie3d?"translate("+b.x+"px,"+b.y+"px)":"translate3d("+b.x+"px,"+b.y+"px,0)")+(f?" scale("+f+")":"")}function lr(i,d){i._leaflet_pos=d,ze.any3d?Tn(i,d):(i.style.left=d.x+"px",i.style.top=d.y+"px")}function go(i){return i._leaflet_pos||new q(0,0)}var yt,si,ml;if("onselectstart"in document)yt=function(){lt(window,"selectstart",tr)},si=function(){Dt(window,"selectstart",tr)};else{var vs=oi(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);yt=function(){if(vs){var i=document.documentElement.style;ml=i[vs],i[vs]="none"}},si=function(){vs&&(document.documentElement.style[vs]=ml,ml=void 0)}}function pl(){lt(window,"dragstart",tr)}function gl(){Dt(window,"dragstart",tr)}var ca,da;function ii(i){for(;i.tabIndex===-1;)i=i.parentNode;i.style&&(Rn(),ca=i,da=i.style.outlineStyle,i.style.outlineStyle="none",lt(window,"keydown",Rn))}function Rn(){ca&&(ca.style.outlineStyle=da,ca=void 0,da=void 0,Dt(window,"keydown",Rn))}function vo(i){do i=i.parentNode;while((!i.offsetWidth||!i.offsetHeight)&&i!==document.body);return i}function Kn(i){var d=i.getBoundingClientRect();return{x:d.width/i.offsetWidth||1,y:d.height/i.offsetHeight||1,boundingClientRect:d}}var ua={__proto__:null,TRANSFORM:Yc,TRANSITION:ti,TRANSITION_END:aa,get:Pn,getStyle:la,create:ht,remove:Gt,empty:hl,toFront:ri,toBack:po,hasClass:ni,addClass:ut,removeClass:qt,setClass:Jc,getClass:fl,setOpacity:Vr,testProp:oi,setTransform:Tn,setPosition:lr,getPosition:go,get disableTextSelection(){return yt},get enableTextSelection(){return si},disableImageDrag:pl,enableImageDrag:gl,preventOutline:ii,restoreOutline:Rn,getSizedParentNode:vo,getScale:Kn};function lt(i,d,f,b){if(d&&typeof d=="object")for(var C in d)ed(i,C,d[C],f);else{d=k(d);for(var I=0,J=d.length;I<J;I++)ed(i,d[I],f,b)}return this}var Nr="_leaflet_events";function Dt(i,d,f,b){if(arguments.length===1)Xc(i),delete i[Nr];else if(d&&typeof d=="object")for(var C in d)vl(i,C,d[C],f);else if(d=k(d),arguments.length===2)Xc(i,function(de){return D(d,de)!==-1});else for(var I=0,J=d.length;I<J;I++)vl(i,d[I],f,b);return this}function Xc(i,d){for(var f in i[Nr]){var b=f.split(/\d/)[0];(!d||d(b))&&vl(i,b,null,null,f)}}var xs={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function ed(i,d,f,b){var C=d+m(f)+(b?"_"+m(b):"");if(i[Nr]&&i[Nr][C])return this;var I=function(de){return f.call(b||i,de||window.event)},J=I;!ze.touchNative&&ze.pointer&&d.indexOf("touch")===0?I=dm(i,d,I):ze.touch&&d==="dblclick"?I=Nu(i,I):"addEventListener"in i?d==="touchstart"||d==="touchmove"||d==="wheel"||d==="mousewheel"?i.addEventListener(xs[d]||d,I,ze.passiveEvents?{passive:!1}:!1):d==="mouseenter"||d==="mouseleave"?(I=function(de){de=de||window.event,ma(i,de)&&J(de)},i.addEventListener(xs[d],I,!1)):i.addEventListener(d,J,!1):i.attachEvent("on"+d,I),i[Nr]=i[Nr]||{},i[Nr][C]=I}function vl(i,d,f,b,C){C=C||d+m(f)+(b?"_"+m(b):"");var I=i[Nr]&&i[Nr][C];if(!I)return this;!ze.touchNative&&ze.pointer&&d.indexOf("touch")===0?ju(i,d,I):ze.touch&&d==="dblclick"?ul(i,I):"removeEventListener"in i?i.removeEventListener(xs[d]||d,I,!1):i.detachEvent("on"+d,I),i[Nr][C]=null}function Zn(i){return i.stopPropagation?i.stopPropagation():i.originalEvent?i.originalEvent._stopped=!0:i.cancelBubble=!0,this}function xl(i){return ed(i,"wheel",Zn),this}function ha(i){return lt(i,"mousedown touchstart dblclick contextmenu",Zn),i._leaflet_disable_click=!0,this}function tr(i){return i.preventDefault?i.preventDefault():i.returnValue=!1,this}function An(i){return tr(i),Zn(i),this}function ys(i){if(i.composedPath)return i.composedPath();for(var d=[],f=i.target;f;)d.push(f),f=f.parentNode;return d}function fa(i,d){if(!d)return new q(i.clientX,i.clientY);var f=Kn(d),b=f.boundingClientRect;return new q((i.clientX-b.left)/f.x-d.clientLeft,(i.clientY-b.top)/f.y-d.clientTop)}var fm=ze.linux&&ze.chrome?window.devicePixelRatio:ze.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function ku(i){return ze.edge?i.wheelDeltaY/2:i.deltaY&&i.deltaMode===0?-i.deltaY/fm:i.deltaY&&i.deltaMode===1?-i.deltaY*20:i.deltaY&&i.deltaMode===2?-i.deltaY*60:i.deltaX||i.deltaZ?0:i.wheelDelta?(i.wheelDeltaY||i.wheelDelta)/2:i.detail&&Math.abs(i.detail)<32765?-i.detail*20:i.detail?i.detail/-32765*60:0}function ma(i,d){var f=d.relatedTarget;if(!f)return!0;try{for(;f&&f!==i;)f=f.parentNode}catch{return!1}return f!==i}var yl={__proto__:null,on:lt,off:Dt,stopPropagation:Zn,disableScrollPropagation:xl,disableClickPropagation:ha,preventDefault:tr,stop:An,getPropagationPath:ys,getMousePosition:fa,getWheelDelta:ku,isExternalTarget:ma,addListener:lt,removeListener:Dt},bl=_e.extend({run:function(i,d,f,b){this.stop(),this._el=i,this._inProgress=!0,this._duration=f||.25,this._easeOutPower=1/Math.max(b||.5,.2),this._startPos=go(i),this._offset=d.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=$(this._animate,this),this._step()},_step:function(i){var d=+new Date-this._startTime,f=this._duration*1e3;d<f?this._runFrame(this._easeOut(d/f),i):(this._runFrame(1),this._complete())},_runFrame:function(i,d){var f=this._startPos.add(this._offset.multiplyBy(i));d&&f._round(),lr(this._el,f),this.fire("step")},_complete:function(){te(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(i){return 1-Math.pow(1-i,this._easeOutPower)}}),vt=_e.extend({options:{crs:nt,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(i,d){d=N(this,d),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(i),this._initLayout(),this._onResize=u(this._onResize,this),this._initEvents(),d.maxBounds&&this.setMaxBounds(d.maxBounds),d.zoom!==void 0&&(this._zoom=this._limitZoom(d.zoom)),d.center&&d.zoom!==void 0&&this.setView(xe(d.center),d.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=ti&&ze.any3d&&!ze.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),lt(this._proxy,aa,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(i,d,f){if(d=d===void 0?this._zoom:this._limitZoom(d),i=this._limitCenter(xe(i),d,this.options.maxBounds),f=f||{},this._stop(),this._loaded&&!f.reset&&f!==!0){f.animate!==void 0&&(f.zoom=l({animate:f.animate},f.zoom),f.pan=l({animate:f.animate,duration:f.duration},f.pan));var b=this._zoom!==d?this._tryAnimatedZoom&&this._tryAnimatedZoom(i,d,f.zoom):this._tryAnimatedPan(i,f.pan);if(b)return clearTimeout(this._sizeTimer),this}return this._resetView(i,d,f.pan&&f.pan.noMoveStart),this},setZoom:function(i,d){return this._loaded?this.setView(this.getCenter(),i,{zoom:d}):(this._zoom=i,this)},zoomIn:function(i,d){return i=i||(ze.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+i,d)},zoomOut:function(i,d){return i=i||(ze.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-i,d)},setZoomAround:function(i,d,f){var b=this.getZoomScale(d),C=this.getSize().divideBy(2),I=i instanceof q?i:this.latLngToContainerPoint(i),J=I.subtract(C).multiplyBy(1-1/b),de=this.containerPointToLatLng(C.add(J));return this.setView(de,d,{zoom:f})},_getBoundsCenterZoom:function(i,d){d=d||{},i=i.getBounds?i.getBounds():F(i);var f=ae(d.paddingTopLeft||d.padding||[0,0]),b=ae(d.paddingBottomRight||d.padding||[0,0]),C=this.getBoundsZoom(i,!1,f.add(b));if(C=typeof d.maxZoom=="number"?Math.min(d.maxZoom,C):C,C===1/0)return{center:i.getCenter(),zoom:C};var I=b.subtract(f).divideBy(2),J=this.project(i.getSouthWest(),C),de=this.project(i.getNorthEast(),C),ve=this.unproject(J.add(de).divideBy(2).add(I),C);return{center:ve,zoom:C}},fitBounds:function(i,d){if(i=F(i),!i.isValid())throw new Error("Bounds are not valid.");var f=this._getBoundsCenterZoom(i,d);return this.setView(f.center,f.zoom,d)},fitWorld:function(i){return this.fitBounds([[-90,-180],[90,180]],i)},panTo:function(i,d){return this.setView(i,this._zoom,{pan:d})},panBy:function(i,d){if(i=ae(i).round(),d=d||{},!i.x&&!i.y)return this.fire("moveend");if(d.animate!==!0&&!this.getSize().contains(i))return this._resetView(this.unproject(this.project(this.getCenter()).add(i)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new bl,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),d.noMoveStart||this.fire("movestart"),d.animate!==!1){ut(this._mapPane,"leaflet-pan-anim");var f=this._getMapPanePos().subtract(i).round();this._panAnim.run(this._mapPane,f,d.duration||.25,d.easeLinearity)}else this._rawPanBy(i),this.fire("move").fire("moveend");return this},flyTo:function(i,d,f){if(f=f||{},f.animate===!1||!ze.any3d)return this.setView(i,d,f);this._stop();var b=this.project(this.getCenter()),C=this.project(i),I=this.getSize(),J=this._zoom;i=xe(i),d=d===void 0?J:d;var de=Math.max(I.x,I.y),ve=de*this.getZoomScale(J,d),Ne=C.distanceTo(b)||1,De=1.42,et=De*De;function ft(Rt){var _i=Rt?-1:1,Cm=Rt?ve:de,km=ve*ve-de*de+_i*et*et*Ne*Ne,Ns=2*Cm*et*Ne,Cs=km/Ns,ks=Math.sqrt(Cs*Cs+1)-Cs,Ml=ks<1e-9?-18:Math.log(ks);return Ml}function Cr(Rt){return(Math.exp(Rt)-Math.exp(-Rt))/2}function br(Rt){return(Math.exp(Rt)+Math.exp(-Rt))/2}function sn(Rt){return Cr(Rt)/br(Rt)}var Kr=ft(0);function yi(Rt){return de*(br(Kr)/br(Kr+De*Rt))}function _d(Rt){return de*(br(Kr)*sn(Kr+De*Rt)-Cr(Kr))/et}function Yo(Rt){return 1-Math.pow(1-Rt,1.5)}var Zu=Date.now(),Es=(ft(1)-Kr)/De,Xn=f.duration?1e3*f.duration:1e3*Es*.8;function bi(){var Rt=(Date.now()-Zu)/Xn,_i=Yo(Rt)*Es;Rt<=1?(this._flyToFrame=$(bi,this),this._move(this.unproject(b.add(C.subtract(b).multiplyBy(_d(_i)/Ne)),J),this.getScaleZoom(de/yi(_i),J),{flyTo:!0})):this._move(i,d)._moveEnd(!0)}return this._moveStart(!0,f.noMoveStart),bi.call(this),this},flyToBounds:function(i,d){var f=this._getBoundsCenterZoom(i,d);return this.flyTo(f.center,f.zoom,d)},setMaxBounds:function(i){return i=F(i),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),i.isValid()?(this.options.maxBounds=i,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(i){var d=this.options.minZoom;return this.options.minZoom=i,this._loaded&&d!==i&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(i):this},setMaxZoom:function(i){var d=this.options.maxZoom;return this.options.maxZoom=i,this._loaded&&d!==i&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(i):this},panInsideBounds:function(i,d){this._enforcingBounds=!0;var f=this.getCenter(),b=this._limitCenter(f,this._zoom,F(i));return f.equals(b)||this.panTo(b,d),this._enforcingBounds=!1,this},panInside:function(i,d){d=d||{};var f=ae(d.paddingTopLeft||d.padding||[0,0]),b=ae(d.paddingBottomRight||d.padding||[0,0]),C=this.project(this.getCenter()),I=this.project(i),J=this.getPixelBounds(),de=H([J.min.add(f),J.max.subtract(b)]),ve=de.getSize();if(!de.contains(I)){this._enforcingBounds=!0;var Ne=I.subtract(de.getCenter()),De=de.extend(I).getSize().subtract(ve);C.x+=Ne.x<0?-De.x:De.x,C.y+=Ne.y<0?-De.y:De.y,this.panTo(this.unproject(C),d),this._enforcingBounds=!1}return this},invalidateSize:function(i){if(!this._loaded)return this;i=l({animate:!1,pan:!0},i===!0?{animate:!0}:i);var d=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var f=this.getSize(),b=d.divideBy(2).round(),C=f.divideBy(2).round(),I=b.subtract(C);return!I.x&&!I.y?this:(i.animate&&i.pan?this.panBy(I):(i.pan&&this._rawPanBy(I),this.fire("move"),i.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(u(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:d,newSize:f}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(i){if(i=this._locateOptions=l({timeout:1e4,watch:!1},i),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var d=u(this._handleGeolocationResponse,this),f=u(this._handleGeolocationError,this);return i.watch?this._locationWatchId=navigator.geolocation.watchPosition(d,f,i):navigator.geolocation.getCurrentPosition(d,f,i),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(i){if(this._container._leaflet_id){var d=i.code,f=i.message||(d===1?"permission denied":d===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:d,message:"Geolocation error: "+f+"."})}},_handleGeolocationResponse:function(i){if(this._container._leaflet_id){var d=i.coords.latitude,f=i.coords.longitude,b=new le(d,f),C=b.toBounds(i.coords.accuracy*2),I=this._locateOptions;if(I.setView){var J=this.getBoundsZoom(C);this.setView(b,I.maxZoom?Math.min(J,I.maxZoom):J)}var de={latlng:b,bounds:C,timestamp:i.timestamp};for(var ve in i.coords)typeof i.coords[ve]=="number"&&(de[ve]=i.coords[ve]);this.fire("locationfound",de)}},addHandler:function(i,d){if(!d)return this;var f=this[i]=new d(this);return this._handlers.push(f),this.options[i]&&f.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Gt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(te(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var i;for(i in this._layers)this._layers[i].remove();for(i in this._panes)Gt(this._panes[i]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(i,d){var f="leaflet-pane"+(i?" leaflet-"+i.replace("Pane","")+"-pane":""),b=ht("div",f,d||this._mapPane);return i&&(this._panes[i]=b),b},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var i=this.getPixelBounds(),d=this.unproject(i.getBottomLeft()),f=this.unproject(i.getTopRight());return new V(d,f)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(i,d,f){i=F(i),f=ae(f||[0,0]);var b=this.getZoom()||0,C=this.getMinZoom(),I=this.getMaxZoom(),J=i.getNorthWest(),de=i.getSouthEast(),ve=this.getSize().subtract(f),Ne=H(this.project(de,b),this.project(J,b)).getSize(),De=ze.any3d?this.options.zoomSnap:1,et=ve.x/Ne.x,ft=ve.y/Ne.y,Cr=d?Math.max(et,ft):Math.min(et,ft);return b=this.getScaleZoom(Cr,b),De&&(b=Math.round(b/(De/100))*(De/100),b=d?Math.ceil(b/De)*De:Math.floor(b/De)*De),Math.max(C,Math.min(I,b))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new q(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(i,d){var f=this._getTopLeftPoint(i,d);return new A(f,f.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(i){return this.options.crs.getProjectedBounds(i===void 0?this.getZoom():i)},getPane:function(i){return typeof i=="string"?this._panes[i]:i},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(i,d){var f=this.options.crs;return d=d===void 0?this._zoom:d,f.scale(i)/f.scale(d)},getScaleZoom:function(i,d){var f=this.options.crs;d=d===void 0?this._zoom:d;var b=f.zoom(i*f.scale(d));return isNaN(b)?1/0:b},project:function(i,d){return d=d===void 0?this._zoom:d,this.options.crs.latLngToPoint(xe(i),d)},unproject:function(i,d){return d=d===void 0?this._zoom:d,this.options.crs.pointToLatLng(ae(i),d)},layerPointToLatLng:function(i){var d=ae(i).add(this.getPixelOrigin());return this.unproject(d)},latLngToLayerPoint:function(i){var d=this.project(xe(i))._round();return d._subtract(this.getPixelOrigin())},wrapLatLng:function(i){return this.options.crs.wrapLatLng(xe(i))},wrapLatLngBounds:function(i){return this.options.crs.wrapLatLngBounds(F(i))},distance:function(i,d){return this.options.crs.distance(xe(i),xe(d))},containerPointToLayerPoint:function(i){return ae(i).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(i){return ae(i).add(this._getMapPanePos())},containerPointToLatLng:function(i){var d=this.containerPointToLayerPoint(ae(i));return this.layerPointToLatLng(d)},latLngToContainerPoint:function(i){return this.layerPointToContainerPoint(this.latLngToLayerPoint(xe(i)))},mouseEventToContainerPoint:function(i){return fa(i,this._container)},mouseEventToLayerPoint:function(i){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(i))},mouseEventToLatLng:function(i){return this.layerPointToLatLng(this.mouseEventToLayerPoint(i))},_initContainer:function(i){var d=this._container=Pn(i);if(d){if(d._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");lt(d,"scroll",this._onScroll,this),this._containerId=m(d)},_initLayout:function(){var i=this._container;this._fadeAnimated=this.options.fadeAnimation&&ze.any3d,ut(i,"leaflet-container"+(ze.touch?" leaflet-touch":"")+(ze.retina?" leaflet-retina":"")+(ze.ielt9?" leaflet-oldie":"")+(ze.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var d=la(i,"position");d!=="absolute"&&d!=="relative"&&d!=="fixed"&&d!=="sticky"&&(i.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var i=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),lr(this._mapPane,new q(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(ut(i.markerPane,"leaflet-zoom-hide"),ut(i.shadowPane,"leaflet-zoom-hide"))},_resetView:function(i,d,f){lr(this._mapPane,new q(0,0));var b=!this._loaded;this._loaded=!0,d=this._limitZoom(d),this.fire("viewprereset");var C=this._zoom!==d;this._moveStart(C,f)._move(i,d)._moveEnd(C),this.fire("viewreset"),b&&this.fire("load")},_moveStart:function(i,d){return i&&this.fire("zoomstart"),d||this.fire("movestart"),this},_move:function(i,d,f,b){d===void 0&&(d=this._zoom);var C=this._zoom!==d;return this._zoom=d,this._lastCenter=i,this._pixelOrigin=this._getNewPixelOrigin(i),b?f&&f.pinch&&this.fire("zoom",f):((C||f&&f.pinch)&&this.fire("zoom",f),this.fire("move",f)),this},_moveEnd:function(i){return i&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return te(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(i){lr(this._mapPane,this._getMapPanePos().subtract(i))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(i){this._targets={},this._targets[m(this._container)]=this;var d=i?Dt:lt;d(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&d(window,"resize",this._onResize,this),ze.any3d&&this.options.transform3DLimit&&(i?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){te(this._resizeRequest),this._resizeRequest=$(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var i=this._getMapPanePos();Math.max(Math.abs(i.x),Math.abs(i.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(i,d){for(var f=[],b,C=d==="mouseout"||d==="mouseover",I=i.target||i.srcElement,J=!1;I;){if(b=this._targets[m(I)],b&&(d==="click"||d==="preclick")&&this._draggableMoved(b)){J=!0;break}if(b&&b.listens(d,!0)&&(C&&!ma(I,i)||(f.push(b),C))||I===this._container)break;I=I.parentNode}return!f.length&&!J&&!C&&this.listens(d,!0)&&(f=[this]),f},_isClickDisabled:function(i){for(;i&&i!==this._container;){if(i._leaflet_disable_click)return!0;i=i.parentNode}},_handleDOMEvent:function(i){var d=i.target||i.srcElement;if(!(!this._loaded||d._leaflet_disable_events||i.type==="click"&&this._isClickDisabled(d))){var f=i.type;f==="mousedown"&&ii(d),this._fireDOMEvent(i,f)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(i,d,f){if(i.type==="click"){var b=l({},i);b.type="preclick",this._fireDOMEvent(b,b.type,f)}var C=this._findEventTargets(i,d);if(f){for(var I=[],J=0;J<f.length;J++)f[J].listens(d,!0)&&I.push(f[J]);C=I.concat(C)}if(C.length){d==="contextmenu"&&tr(i);var de=C[0],ve={originalEvent:i};if(i.type!=="keypress"&&i.type!=="keydown"&&i.type!=="keyup"){var Ne=de.getLatLng&&(!de._radius||de._radius<=10);ve.containerPoint=Ne?this.latLngToContainerPoint(de.getLatLng()):this.mouseEventToContainerPoint(i),ve.layerPoint=this.containerPointToLayerPoint(ve.containerPoint),ve.latlng=Ne?de.getLatLng():this.layerPointToLatLng(ve.layerPoint)}for(J=0;J<C.length;J++)if(C[J].fire(d,ve,!0),ve.originalEvent._stopped||C[J].options.bubblingMouseEvents===!1&&D(this._mouseEvents,d)!==-1)return}},_draggableMoved:function(i){return i=i.dragging&&i.dragging.enabled()?i:this,i.dragging&&i.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var i=0,d=this._handlers.length;i<d;i++)this._handlers[i].disable()},whenReady:function(i,d){return this._loaded?i.call(d||this,{target:this}):this.on("load",i,d),this},_getMapPanePos:function(){return go(this._mapPane)||new q(0,0)},_moved:function(){var i=this._getMapPanePos();return i&&!i.equals([0,0])},_getTopLeftPoint:function(i,d){var f=i&&d!==void 0?this._getNewPixelOrigin(i,d):this.getPixelOrigin();return f.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(i,d){var f=this.getSize()._divideBy(2);return this.project(i,d)._subtract(f)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(i,d,f){var b=this._getNewPixelOrigin(f,d);return this.project(i,d)._subtract(b)},_latLngBoundsToNewLayerBounds:function(i,d,f){var b=this._getNewPixelOrigin(f,d);return H([this.project(i.getSouthWest(),d)._subtract(b),this.project(i.getNorthWest(),d)._subtract(b),this.project(i.getSouthEast(),d)._subtract(b),this.project(i.getNorthEast(),d)._subtract(b)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(i){return this.latLngToLayerPoint(i).subtract(this._getCenterLayerPoint())},_limitCenter:function(i,d,f){if(!f)return i;var b=this.project(i,d),C=this.getSize().divideBy(2),I=new A(b.subtract(C),b.add(C)),J=this._getBoundsOffset(I,f,d);return Math.abs(J.x)<=1&&Math.abs(J.y)<=1?i:this.unproject(b.add(J),d)},_limitOffset:function(i,d){if(!d)return i;var f=this.getPixelBounds(),b=new A(f.min.add(i),f.max.add(i));return i.add(this._getBoundsOffset(b,d))},_getBoundsOffset:function(i,d,f){var b=H(this.project(d.getNorthEast(),f),this.project(d.getSouthWest(),f)),C=b.min.subtract(i.min),I=b.max.subtract(i.max),J=this._rebound(C.x,-I.x),de=this._rebound(C.y,-I.y);return new q(J,de)},_rebound:function(i,d){return i+d>0?Math.round(i-d)/2:Math.max(0,Math.ceil(i))-Math.max(0,Math.floor(d))},_limitZoom:function(i){var d=this.getMinZoom(),f=this.getMaxZoom(),b=ze.any3d?this.options.zoomSnap:1;return b&&(i=Math.round(i/b)*b),Math.max(d,Math.min(f,i))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){qt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(i,d){var f=this._getCenterOffset(i)._trunc();return(d&&d.animate)!==!0&&!this.getSize().contains(f)?!1:(this.panBy(f,d),!0)},_createAnimProxy:function(){var i=this._proxy=ht("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(i),this.on("zoomanim",function(d){var f=Yc,b=this._proxy.style[f];Tn(this._proxy,this.project(d.center,d.zoom),this.getZoomScale(d.zoom,1)),b===this._proxy.style[f]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Gt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var i=this.getCenter(),d=this.getZoom();Tn(this._proxy,this.project(i,d),this.getZoomScale(d,1))},_catchTransitionEnd:function(i){this._animatingZoom&&i.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(i,d,f){if(this._animatingZoom)return!0;if(f=f||{},!this._zoomAnimated||f.animate===!1||this._nothingToAnimate()||Math.abs(d-this._zoom)>this.options.zoomAnimationThreshold)return!1;var b=this.getZoomScale(d),C=this._getCenterOffset(i)._divideBy(1-1/b);return f.animate!==!0&&!this.getSize().contains(C)?!1:($(function(){this._moveStart(!0,f.noMoveStart||!1)._animateZoom(i,d,!0)},this),!0)},_animateZoom:function(i,d,f,b){this._mapPane&&(f&&(this._animatingZoom=!0,this._animateToCenter=i,this._animateToZoom=d,ut(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:i,zoom:d,noUpdate:b}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(u(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&qt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Wo(i,d){return new vt(i,d)}var nn=W.extend({options:{position:"topright"},initialize:function(i){N(this,i)},getPosition:function(){return this.options.position},setPosition:function(i){var d=this._map;return d&&d.removeControl(this),this.options.position=i,d&&d.addControl(this),this},getContainer:function(){return this._container},addTo:function(i){this.remove(),this._map=i;var d=this._container=this.onAdd(i),f=this.getPosition(),b=i._controlCorners[f];return ut(d,"leaflet-control"),f.indexOf("bottom")!==-1?b.insertBefore(d,b.firstChild):b.appendChild(d),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Gt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(i){this._map&&i&&i.screenX>0&&i.screenY>0&&this._map.getContainer().focus()}}),Ho=function(i){return new nn(i)};vt.include({addControl:function(i){return i.addTo(this),this},removeControl:function(i){return i.remove(),this},_initControlPos:function(){var i=this._controlCorners={},d="leaflet-",f=this._controlContainer=ht("div",d+"control-container",this._container);function b(C,I){var J=d+C+" "+d+I;i[C+I]=ht("div",J,f)}b("top","left"),b("top","right"),b("bottom","left"),b("bottom","right")},_clearControlPos:function(){for(var i in this._controlCorners)Gt(this._controlCorners[i]);Gt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var td=nn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(i,d,f,b){return f<b?-1:b<f?1:0}},initialize:function(i,d,f){N(this,f),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var b in i)this._addLayer(i[b],b);for(b in d)this._addLayer(d[b],b,!0)},onAdd:function(i){this._initLayout(),this._update(),this._map=i,i.on("zoomend",this._checkDisabledLayers,this);for(var d=0;d<this._layers.length;d++)this._layers[d].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(i){return nn.prototype.addTo.call(this,i),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var i=0;i<this._layers.length;i++)this._layers[i].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(i,d){return this._addLayer(i,d),this._map?this._update():this},addOverlay:function(i,d){return this._addLayer(i,d,!0),this._map?this._update():this},removeLayer:function(i){i.off("add remove",this._onLayerChange,this);var d=this._getLayer(m(i));return d&&this._layers.splice(this._layers.indexOf(d),1),this._map?this._update():this},expand:function(){ut(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var i=this._map.getSize().y-(this._container.offsetTop+50);return i<this._section.clientHeight?(ut(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=i+"px"):qt(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return qt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var i="leaflet-control-layers",d=this._container=ht("div",i),f=this.options.collapsed;d.setAttribute("aria-haspopup",!0),ha(d),xl(d);var b=this._section=ht("section",i+"-list");f&&(this._map.on("click",this.collapse,this),lt(d,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var C=this._layersLink=ht("a",i+"-toggle",d);C.href="#",C.title="Layers",C.setAttribute("role","button"),lt(C,{keydown:function(I){I.keyCode===13&&this._expandSafely()},click:function(I){tr(I),this._expandSafely()}},this),f||this.expand(),this._baseLayersList=ht("div",i+"-base",b),this._separator=ht("div",i+"-separator",b),this._overlaysList=ht("div",i+"-overlays",b),d.appendChild(b)},_getLayer:function(i){for(var d=0;d<this._layers.length;d++)if(this._layers[d]&&m(this._layers[d].layer)===i)return this._layers[d]},_addLayer:function(i,d,f){this._map&&i.on("add remove",this._onLayerChange,this),this._layers.push({layer:i,name:d,overlay:f}),this.options.sortLayers&&this._layers.sort(u(function(b,C){return this.options.sortFunction(b.layer,C.layer,b.name,C.name)},this)),this.options.autoZIndex&&i.setZIndex&&(this._lastZIndex++,i.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;hl(this._baseLayersList),hl(this._overlaysList),this._layerControlInputs=[];var i,d,f,b,C=0;for(f=0;f<this._layers.length;f++)b=this._layers[f],this._addItem(b),d=d||b.overlay,i=i||!b.overlay,C+=b.overlay?0:1;return this.options.hideSingleBase&&(i=i&&C>1,this._baseLayersList.style.display=i?"":"none"),this._separator.style.display=d&&i?"":"none",this},_onLayerChange:function(i){this._handlingClick||this._update();var d=this._getLayer(m(i.target)),f=d.overlay?i.type==="add"?"overlayadd":"overlayremove":i.type==="add"?"baselayerchange":null;f&&this._map.fire(f,d)},_createRadioElement:function(i,d){var f='<input type="radio" class="leaflet-control-layers-selector" name="'+i+'"'+(d?' checked="checked"':"")+"/>",b=document.createElement("div");return b.innerHTML=f,b.firstChild},_addItem:function(i){var d=document.createElement("label"),f=this._map.hasLayer(i.layer),b;i.overlay?(b=document.createElement("input"),b.type="checkbox",b.className="leaflet-control-layers-selector",b.defaultChecked=f):b=this._createRadioElement("leaflet-base-layers_"+m(this),f),this._layerControlInputs.push(b),b.layerId=m(i.layer),lt(b,"click",this._onInputClick,this);var C=document.createElement("span");C.innerHTML=" "+i.name;var I=document.createElement("span");d.appendChild(I),I.appendChild(b),I.appendChild(C);var J=i.overlay?this._overlaysList:this._baseLayersList;return J.appendChild(d),this._checkDisabledLayers(),d},_onInputClick:function(){if(!this._preventClick){var i=this._layerControlInputs,d,f,b=[],C=[];this._handlingClick=!0;for(var I=i.length-1;I>=0;I--)d=i[I],f=this._getLayer(d.layerId).layer,d.checked?b.push(f):d.checked||C.push(f);for(I=0;I<C.length;I++)this._map.hasLayer(C[I])&&this._map.removeLayer(C[I]);for(I=0;I<b.length;I++)this._map.hasLayer(b[I])||this._map.addLayer(b[I]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var i=this._layerControlInputs,d,f,b=this._map.getZoom(),C=i.length-1;C>=0;C--)d=i[C],f=this._getLayer(d.layerId).layer,d.disabled=f.options.minZoom!==void 0&&b<f.options.minZoom||f.options.maxZoom!==void 0&&b>f.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var i=this._section;this._preventClick=!0,lt(i,"click",tr),this.expand();var d=this;setTimeout(function(){Dt(i,"click",tr),d._preventClick=!1})}}),_l=function(i,d,f){return new td(i,d,f)},ai=nn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(i){var d="leaflet-control-zoom",f=ht("div",d+" leaflet-bar"),b=this.options;return this._zoomInButton=this._createButton(b.zoomInText,b.zoomInTitle,d+"-in",f,this._zoomIn),this._zoomOutButton=this._createButton(b.zoomOutText,b.zoomOutTitle,d+"-out",f,this._zoomOut),this._updateDisabled(),i.on("zoomend zoomlevelschange",this._updateDisabled,this),f},onRemove:function(i){i.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(i){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(i.shiftKey?3:1))},_zoomOut:function(i){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(i.shiftKey?3:1))},_createButton:function(i,d,f,b,C){var I=ht("a",f,b);return I.innerHTML=i,I.href="#",I.title=d,I.setAttribute("role","button"),I.setAttribute("aria-label",d),ha(I),lt(I,"click",An),lt(I,"click",C,this),lt(I,"click",this._refocusOnMap,this),I},_updateDisabled:function(){var i=this._map,d="leaflet-disabled";qt(this._zoomInButton,d),qt(this._zoomOutButton,d),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||i._zoom===i.getMinZoom())&&(ut(this._zoomOutButton,d),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||i._zoom===i.getMaxZoom())&&(ut(this._zoomInButton,d),this._zoomInButton.setAttribute("aria-disabled","true"))}});vt.mergeOptions({zoomControl:!0}),vt.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new ai,this.addControl(this.zoomControl))});var Pu=function(i){return new ai(i)},Gr=nn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(i){var d="leaflet-control-scale",f=ht("div",d),b=this.options;return this._addScales(b,d+"-line",f),i.on(b.updateWhenIdle?"moveend":"move",this._update,this),i.whenReady(this._update,this),f},onRemove:function(i){i.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(i,d,f){i.metric&&(this._mScale=ht("div",d,f)),i.imperial&&(this._iScale=ht("div",d,f))},_update:function(){var i=this._map,d=i.getSize().y/2,f=i.distance(i.containerPointToLatLng([0,d]),i.containerPointToLatLng([this.options.maxWidth,d]));this._updateScales(f)},_updateScales:function(i){this.options.metric&&i&&this._updateMetric(i),this.options.imperial&&i&&this._updateImperial(i)},_updateMetric:function(i){var d=this._getRoundNum(i),f=d<1e3?d+" m":d/1e3+" km";this._updateScale(this._mScale,f,d/i)},_updateImperial:function(i){var d=i*3.2808399,f,b,C;d>5280?(f=d/5280,b=this._getRoundNum(f),this._updateScale(this._iScale,b+" mi",b/f)):(C=this._getRoundNum(d),this._updateScale(this._iScale,C+" ft",C/d))},_updateScale:function(i,d,f){i.style.width=Math.round(this.options.maxWidth*f)+"px",i.innerHTML=d},_getRoundNum:function(i){var d=Math.pow(10,(Math.floor(i)+"").length-1),f=i/d;return f=f>=10?10:f>=5?5:f>=3?3:f>=2?2:1,d*f}}),li=function(i){return new Gr(i)},rd='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',bs=nn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(ze.inlineSvg?rd+" ":"")+"Leaflet</a>"},initialize:function(i){N(this,i),this._attributions={}},onAdd:function(i){i.attributionControl=this,this._container=ht("div","leaflet-control-attribution"),ha(this._container);for(var d in i._layers)i._layers[d].getAttribution&&this.addAttribution(i._layers[d].getAttribution());return this._update(),i.on("layeradd",this._addAttribution,this),this._container},onRemove:function(i){i.off("layeradd",this._addAttribution,this)},_addAttribution:function(i){i.layer.getAttribution&&(this.addAttribution(i.layer.getAttribution()),i.layer.once("remove",function(){this.removeAttribution(i.layer.getAttribution())},this))},setPrefix:function(i){return this.options.prefix=i,this._update(),this},addAttribution:function(i){return i?(this._attributions[i]||(this._attributions[i]=0),this._attributions[i]++,this._update(),this):this},removeAttribution:function(i){return i?(this._attributions[i]&&(this._attributions[i]--,this._update()),this):this},_update:function(){if(this._map){var i=[];for(var d in this._attributions)this._attributions[d]&&i.push(d);var f=[];this.options.prefix&&f.push(this.options.prefix),i.length&&f.push(i.join(", ")),this._container.innerHTML=f.join(' <span aria-hidden="true">|</span> ')}}});vt.mergeOptions({attributionControl:!0}),vt.addInitHook(function(){this.options.attributionControl&&new bs().addTo(this)});var mm=function(i){return new bs(i)};nn.Layers=td,nn.Zoom=ai,nn.Scale=Gr,nn.Attribution=bs,Ho.layers=_l,Ho.zoom=Pu,Ho.scale=li,Ho.attribution=mm;var mn=W.extend({initialize:function(i){this._map=i},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});mn.addTo=function(i,d){return i.addHandler(d,this),this};var nd={Events:me},ci=ze.touch?"touchstart mousedown":"mousedown",On=_e.extend({options:{clickTolerance:3},initialize:function(i,d,f,b){N(this,b),this._element=i,this._dragStartTarget=d||i,this._preventOutline=f},enable:function(){this._enabled||(lt(this._dragStartTarget,ci,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(On._dragging===this&&this.finishDrag(!0),Dt(this._dragStartTarget,ci,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(i){if(this._enabled&&(this._moved=!1,!ni(this._element,"leaflet-zoom-anim"))){if(i.touches&&i.touches.length!==1){On._dragging===this&&this.finishDrag();return}if(!(On._dragging||i.shiftKey||i.which!==1&&i.button!==1&&!i.touches)&&(On._dragging=this,this._preventOutline&&ii(this._element),pl(),yt(),!this._moving)){this.fire("down");var d=i.touches?i.touches[0]:i,f=vo(this._element);this._startPoint=new q(d.clientX,d.clientY),this._startPos=go(this._element),this._parentScale=Kn(f);var b=i.type==="mousedown";lt(document,b?"mousemove":"touchmove",this._onMove,this),lt(document,b?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(i){if(this._enabled){if(i.touches&&i.touches.length>1){this._moved=!0;return}var d=i.touches&&i.touches.length===1?i.touches[0]:i,f=new q(d.clientX,d.clientY)._subtract(this._startPoint);!f.x&&!f.y||Math.abs(f.x)+Math.abs(f.y)<this.options.clickTolerance||(f.x/=this._parentScale.x,f.y/=this._parentScale.y,tr(i),this._moved||(this.fire("dragstart"),this._moved=!0,ut(document.body,"leaflet-dragging"),this._lastTarget=i.target||i.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),ut(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(f),this._moving=!0,this._lastEvent=i,this._updatePosition())}},_updatePosition:function(){var i={originalEvent:this._lastEvent};this.fire("predrag",i),lr(this._element,this._newPos),this.fire("drag",i)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(i){qt(document.body,"leaflet-dragging"),this._lastTarget&&(qt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Dt(document,"mousemove touchmove",this._onMove,this),Dt(document,"mouseup touchend touchcancel",this._onUp,this),gl(),si();var d=this._moved&&this._moving;this._moving=!1,On._dragging=!1,d&&this.fire("dragend",{noInertia:i,distance:this._newPos.distanceTo(this._startPos)})}});function od(i,d,f){var b,C=[1,4,2,8],I,J,de,ve,Ne,De,et,ft;for(I=0,De=i.length;I<De;I++)i[I]._code=_s(i[I],d);for(de=0;de<4;de++){for(et=C[de],b=[],I=0,De=i.length,J=De-1;I<De;J=I++)ve=i[I],Ne=i[J],ve._code&et?Ne._code&et||(ft=jl(Ne,ve,et,d,f),ft._code=_s(ft,d),b.push(ft)):(Ne._code&et&&(ft=jl(Ne,ve,et,d,f),ft._code=_s(ft,d),b.push(ft)),b.push(ve));i=b}return i}function Tu(i,d){var f,b,C,I,J,de,ve,Ne,De;if(!i||i.length===0)throw new Error("latlngs not passed");pn(i)||(console.warn("latlngs are not flat! Only the first ring will be used"),i=i[0]);var et=xe([0,0]),ft=F(i),Cr=ft.getNorthWest().distanceTo(ft.getSouthWest())*ft.getNorthEast().distanceTo(ft.getNorthWest());Cr<1700&&(et=sd(i));var br=i.length,sn=[];for(f=0;f<br;f++){var Kr=xe(i[f]);sn.push(d.project(xe([Kr.lat-et.lat,Kr.lng-et.lng])))}for(de=ve=Ne=0,f=0,b=br-1;f<br;b=f++)C=sn[f],I=sn[b],J=C.y*I.x-I.y*C.x,ve+=(C.x+I.x)*J,Ne+=(C.y+I.y)*J,de+=J*3;de===0?De=sn[0]:De=[ve/de,Ne/de];var yi=d.unproject(ae(De));return xe([yi.lat+et.lat,yi.lng+et.lng])}function sd(i){for(var d=0,f=0,b=0,C=0;C<i.length;C++){var I=xe(i[C]);d+=I.lat,f+=I.lng,b++}return xe([d/b,f/b])}var pm={__proto__:null,clipPolygon:od,polygonCenter:Tu,centroid:sd};function wl(i,d){if(!d||!i.length)return i.slice();var f=d*d;return i=xm(i,f),i=vm(i,f),i}function Ru(i,d,f){return Math.sqrt(ws(i,d,f,!0))}function gm(i,d,f){return ws(i,d,f)}function vm(i,d){var f=i.length,b=typeof Uint8Array<"u"?Uint8Array:Array,C=new b(f);C[0]=C[f-1]=1,id(i,C,d,0,f-1);var I,J=[];for(I=0;I<f;I++)C[I]&&J.push(i[I]);return J}function id(i,d,f,b,C){var I=0,J,de,ve;for(de=b+1;de<=C-1;de++)ve=ws(i[de],i[b],i[C],!0),ve>I&&(J=de,I=ve);I>f&&(d[J]=1,id(i,d,f,b,J),id(i,d,f,J,C))}function xm(i,d){for(var f=[i[0]],b=1,C=0,I=i.length;b<I;b++)ym(i[b],i[C])>d&&(f.push(i[b]),C=b);return C<I-1&&f.push(i[I-1]),f}var ad;function Au(i,d,f,b,C){var I=b?ad:_s(i,f),J=_s(d,f),de,ve,Ne;for(ad=J;;){if(!(I|J))return[i,d];if(I&J)return!1;de=I||J,ve=jl(i,d,de,f,C),Ne=_s(ve,f),de===I?(i=ve,I=Ne):(d=ve,J=Ne)}}function jl(i,d,f,b,C){var I=d.x-i.x,J=d.y-i.y,de=b.min,ve=b.max,Ne,De;return f&8?(Ne=i.x+I*(ve.y-i.y)/J,De=ve.y):f&4?(Ne=i.x+I*(de.y-i.y)/J,De=de.y):f&2?(Ne=ve.x,De=i.y+J*(ve.x-i.x)/I):f&1&&(Ne=de.x,De=i.y+J*(de.x-i.x)/I),new q(Ne,De,C)}function _s(i,d){var f=0;return i.x<d.min.x?f|=1:i.x>d.max.x&&(f|=2),i.y<d.min.y?f|=4:i.y>d.max.y&&(f|=8),f}function ym(i,d){var f=d.x-i.x,b=d.y-i.y;return f*f+b*b}function ws(i,d,f,b){var C=d.x,I=d.y,J=f.x-C,de=f.y-I,ve=J*J+de*de,Ne;return ve>0&&(Ne=((i.x-C)*J+(i.y-I)*de)/ve,Ne>1?(C=f.x,I=f.y):Ne>0&&(C+=J*Ne,I+=de*Ne)),J=i.x-C,de=i.y-I,b?J*J+de*de:new q(C,I)}function pn(i){return!R(i[0])||typeof i[0][0]!="object"&&typeof i[0][0]<"u"}function Ou(i){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),pn(i)}function Mu(i,d){var f,b,C,I,J,de,ve,Ne;if(!i||i.length===0)throw new Error("latlngs not passed");pn(i)||(console.warn("latlngs are not flat! Only the first ring will be used"),i=i[0]);var De=xe([0,0]),et=F(i),ft=et.getNorthWest().distanceTo(et.getSouthWest())*et.getNorthEast().distanceTo(et.getNorthWest());ft<1700&&(De=sd(i));var Cr=i.length,br=[];for(f=0;f<Cr;f++){var sn=xe(i[f]);br.push(d.project(xe([sn.lat-De.lat,sn.lng-De.lng])))}for(f=0,b=0;f<Cr-1;f++)b+=br[f].distanceTo(br[f+1])/2;if(b===0)Ne=br[0];else for(f=0,I=0;f<Cr-1;f++)if(J=br[f],de=br[f+1],C=J.distanceTo(de),I+=C,I>b){ve=(I-b)/C,Ne=[de.x-ve*(de.x-J.x),de.y-ve*(de.y-J.y)];break}var Kr=d.unproject(ae(Ne));return xe([Kr.lat+De.lat,Kr.lng+De.lng])}var Lu={__proto__:null,simplify:wl,pointToSegmentDistance:Ru,closestPointOnSegment:gm,clipSegment:Au,_getEdgeIntersection:jl,_getBitCode:_s,_sqClosestPointOnSegment:ws,isFlat:pn,_flat:Ou,polylineCenter:Mu},ld={project:function(i){return new q(i.lng,i.lat)},unproject:function(i){return new le(i.y,i.x)},bounds:new A([-180,-90],[180,90])},cd={R:6378137,R_MINOR:6356752314245179e-9,bounds:new A([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(i){var d=Math.PI/180,f=this.R,b=i.lat*d,C=this.R_MINOR/f,I=Math.sqrt(1-C*C),J=I*Math.sin(b),de=Math.tan(Math.PI/4-b/2)/Math.pow((1-J)/(1+J),I/2);return b=-f*Math.log(Math.max(de,1e-10)),new q(i.lng*d*f,b)},unproject:function(i){for(var d=180/Math.PI,f=this.R,b=this.R_MINOR/f,C=Math.sqrt(1-b*b),I=Math.exp(-i.y/f),J=Math.PI/2-2*Math.atan(I),de=0,ve=.1,Ne;de<15&&Math.abs(ve)>1e-7;de++)Ne=C*Math.sin(J),Ne=Math.pow((1-Ne)/(1+Ne),C/2),ve=Math.PI/2-2*Math.atan(I*Ne)-J,J+=ve;return new le(J*d,i.x*d/f)}},bm={__proto__:null,LonLat:ld,Mercator:cd,SphericalMercator:Me},_m=l({},se,{code:"EPSG:3395",projection:cd,transformation:(function(){var i=.5/(Math.PI*cd.R);return Ie(i,.5,-i,.5)})()}),Iu=l({},se,{code:"EPSG:4326",projection:ld,transformation:Ie(1/180,1,-1/180,.5)}),wm=l({},pe,{projection:ld,transformation:Ie(1,0,-1,0),scale:function(i){return Math.pow(2,i)},zoom:function(i){return Math.log(i)/Math.LN2},distance:function(i,d){var f=d.lng-i.lng,b=d.lat-i.lat;return Math.sqrt(f*f+b*b)},infinite:!0});pe.Earth=se,pe.EPSG3395=_m,pe.EPSG3857=nt,pe.EPSG900913=it,pe.EPSG4326=Iu,pe.Simple=wm;var Mn=_e.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(i){return i.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(i){return i&&i.removeLayer(this),this},getPane:function(i){return this._map.getPane(i?this.options[i]||i:this.options.pane)},addInteractiveTarget:function(i){return this._map._targets[m(i)]=this,this},removeInteractiveTarget:function(i){return delete this._map._targets[m(i)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(i){var d=i.target;if(d.hasLayer(this)){if(this._map=d,this._zoomAnimated=d._zoomAnimated,this.getEvents){var f=this.getEvents();d.on(f,this),this.once("remove",function(){d.off(f,this)},this)}this.onAdd(d),this.fire("add"),d.fire("layeradd",{layer:this})}}});vt.include({addLayer:function(i){if(!i._layerAdd)throw new Error("The provided object is not a Layer.");var d=m(i);return this._layers[d]?this:(this._layers[d]=i,i._mapToAdd=this,i.beforeAdd&&i.beforeAdd(this),this.whenReady(i._layerAdd,i),this)},removeLayer:function(i){var d=m(i);return this._layers[d]?(this._loaded&&i.onRemove(this),delete this._layers[d],this._loaded&&(this.fire("layerremove",{layer:i}),i.fire("remove")),i._map=i._mapToAdd=null,this):this},hasLayer:function(i){return m(i)in this._layers},eachLayer:function(i,d){for(var f in this._layers)i.call(d,this._layers[f]);return this},_addLayers:function(i){i=i?R(i)?i:[i]:[];for(var d=0,f=i.length;d<f;d++)this.addLayer(i[d])},_addZoomLimit:function(i){(!isNaN(i.options.maxZoom)||!isNaN(i.options.minZoom))&&(this._zoomBoundLayers[m(i)]=i,this._updateZoomLevels())},_removeZoomLimit:function(i){var d=m(i);this._zoomBoundLayers[d]&&(delete this._zoomBoundLayers[d],this._updateZoomLevels())},_updateZoomLevels:function(){var i=1/0,d=-1/0,f=this._getZoomSpan();for(var b in this._zoomBoundLayers){var C=this._zoomBoundLayers[b].options;i=C.minZoom===void 0?i:Math.min(i,C.minZoom),d=C.maxZoom===void 0?d:Math.max(d,C.maxZoom)}this._layersMaxZoom=d===-1/0?void 0:d,this._layersMinZoom=i===1/0?void 0:i,f!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Vo=Mn.extend({initialize:function(i,d){N(this,d),this._layers={};var f,b;if(i)for(f=0,b=i.length;f<b;f++)this.addLayer(i[f])},addLayer:function(i){var d=this.getLayerId(i);return this._layers[d]=i,this._map&&this._map.addLayer(i),this},removeLayer:function(i){var d=i in this._layers?i:this.getLayerId(i);return this._map&&this._layers[d]&&this._map.removeLayer(this._layers[d]),delete this._layers[d],this},hasLayer:function(i){var d=typeof i=="number"?i:this.getLayerId(i);return d in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(i){var d=Array.prototype.slice.call(arguments,1),f,b;for(f in this._layers)b=this._layers[f],b[i]&&b[i].apply(b,d);return this},onAdd:function(i){this.eachLayer(i.addLayer,i)},onRemove:function(i){this.eachLayer(i.removeLayer,i)},eachLayer:function(i,d){for(var f in this._layers)i.call(d,this._layers[f]);return this},getLayer:function(i){return this._layers[i]},getLayers:function(){var i=[];return this.eachLayer(i.push,i),i},setZIndex:function(i){return this.invoke("setZIndex",i)},getLayerId:function(i){return m(i)}}),pa=function(i,d){return new Vo(i,d)},xo=Vo.extend({addLayer:function(i){return this.hasLayer(i)?this:(i.addEventParent(this),Vo.prototype.addLayer.call(this,i),this.fire("layeradd",{layer:i}))},removeLayer:function(i){return this.hasLayer(i)?(i in this._layers&&(i=this._layers[i]),i.removeEventParent(this),Vo.prototype.removeLayer.call(this,i),this.fire("layerremove",{layer:i})):this},setStyle:function(i){return this.invoke("setStyle",i)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var i=new V;for(var d in this._layers){var f=this._layers[d];i.extend(f.getBounds?f.getBounds():f.getLatLng())}return i}}),Du=function(i,d){return new xo(i,d)},js=W.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(i){N(this,i)},createIcon:function(i){return this._createIcon("icon",i)},createShadow:function(i){return this._createIcon("shadow",i)},_createIcon:function(i,d){var f=this._getIconUrl(i);if(!f){if(i==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var b=this._createImg(f,d&&d.tagName==="IMG"?d:null);return this._setIconStyles(b,i),(this.options.crossOrigin||this.options.crossOrigin==="")&&(b.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),b},_setIconStyles:function(i,d){var f=this.options,b=f[d+"Size"];typeof b=="number"&&(b=[b,b]);var C=ae(b),I=ae(d==="shadow"&&f.shadowAnchor||f.iconAnchor||C&&C.divideBy(2,!0));i.className="leaflet-marker-"+d+" "+(f.className||""),I&&(i.style.marginLeft=-I.x+"px",i.style.marginTop=-I.y+"px"),C&&(i.style.width=C.x+"px",i.style.height=C.y+"px")},_createImg:function(i,d){return d=d||document.createElement("img"),d.src=i,d},_getIconUrl:function(i){return ze.retina&&this.options[i+"RetinaUrl"]||this.options[i+"Url"]}});function Bu(i){return new js(i)}var di=js.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(i){return typeof di.imagePath!="string"&&(di.imagePath=this._detectIconPath()),(this.options.imagePath||di.imagePath)+js.prototype._getIconUrl.call(this,i)},_stripUrl:function(i){var d=function(f,b,C){var I=b.exec(f);return I&&I[C]};return i=d(i,/^url\((['"])?(.+)\1\)$/,2),i&&d(i,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var i=ht("div","leaflet-default-icon-path",document.body),d=la(i,"background-image")||la(i,"backgroundImage");if(document.body.removeChild(i),d=this._stripUrl(d),d)return d;var f=document.querySelector('link[href$="leaflet.css"]');return f?f.href.substring(0,f.href.length-11-1):""}}),dd=mn.extend({initialize:function(i){this._marker=i},addHooks:function(){var i=this._marker._icon;this._draggable||(this._draggable=new On(i,i,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),ut(i,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&qt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(i){var d=this._marker,f=d._map,b=this._marker.options.autoPanSpeed,C=this._marker.options.autoPanPadding,I=go(d._icon),J=f.getPixelBounds(),de=f.getPixelOrigin(),ve=H(J.min._subtract(de).add(C),J.max._subtract(de).subtract(C));if(!ve.contains(I)){var Ne=ae((Math.max(ve.max.x,I.x)-ve.max.x)/(J.max.x-ve.max.x)-(Math.min(ve.min.x,I.x)-ve.min.x)/(J.min.x-ve.min.x),(Math.max(ve.max.y,I.y)-ve.max.y)/(J.max.y-ve.max.y)-(Math.min(ve.min.y,I.y)-ve.min.y)/(J.min.y-ve.min.y)).multiplyBy(b);f.panBy(Ne,{animate:!1}),this._draggable._newPos._add(Ne),this._draggable._startPos._add(Ne),lr(d._icon,this._draggable._newPos),this._onDrag(i),this._panRequest=$(this._adjustPan.bind(this,i))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(i){this._marker.options.autoPan&&(te(this._panRequest),this._panRequest=$(this._adjustPan.bind(this,i)))},_onDrag:function(i){var d=this._marker,f=d._shadow,b=go(d._icon),C=d._map.layerPointToLatLng(b);f&&lr(f,b),d._latlng=C,i.latlng=C,i.oldLatLng=this._oldLatLng,d.fire("move",i).fire("drag",i)},_onDragEnd:function(i){te(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",i)}}),yo=Mn.extend({options:{icon:new di,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(i,d){N(this,d),this._latlng=xe(i)},onAdd:function(i){this._zoomAnimated=this._zoomAnimated&&i.options.markerZoomAnimation,this._zoomAnimated&&i.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(i){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&i.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(i){var d=this._latlng;return this._latlng=xe(i),this.update(),this.fire("move",{oldLatLng:d,latlng:this._latlng})},setZIndexOffset:function(i){return this.options.zIndexOffset=i,this.update()},getIcon:function(){return this.options.icon},setIcon:function(i){return this.options.icon=i,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var i=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(i)}return this},_initIcon:function(){var i=this.options,d="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),f=i.icon.createIcon(this._icon),b=!1;f!==this._icon&&(this._icon&&this._removeIcon(),b=!0,i.title&&(f.title=i.title),f.tagName==="IMG"&&(f.alt=i.alt||"")),ut(f,d),i.keyboard&&(f.tabIndex="0",f.setAttribute("role","button")),this._icon=f,i.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&lt(f,"focus",this._panOnFocus,this);var C=i.icon.createShadow(this._shadow),I=!1;C!==this._shadow&&(this._removeShadow(),I=!0),C&&(ut(C,d),C.alt=""),this._shadow=C,i.opacity<1&&this._updateOpacity(),b&&this.getPane().appendChild(this._icon),this._initInteraction(),C&&I&&this.getPane(i.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Dt(this._icon,"focus",this._panOnFocus,this),Gt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Gt(this._shadow),this._shadow=null},_setPos:function(i){this._icon&&lr(this._icon,i),this._shadow&&lr(this._shadow,i),this._zIndex=i.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(i){this._icon&&(this._icon.style.zIndex=this._zIndex+i)},_animateZoom:function(i){var d=this._map._latLngToNewLayerPoint(this._latlng,i.zoom,i.center).round();this._setPos(d)},_initInteraction:function(){if(this.options.interactive&&(ut(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),dd)){var i=this.options.draggable;this.dragging&&(i=this.dragging.enabled(),this.dragging.disable()),this.dragging=new dd(this),i&&this.dragging.enable()}},setOpacity:function(i){return this.options.opacity=i,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var i=this.options.opacity;this._icon&&Vr(this._icon,i),this._shadow&&Vr(this._shadow,i)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var i=this._map;if(i){var d=this.options.icon.options,f=d.iconSize?ae(d.iconSize):ae(0,0),b=d.iconAnchor?ae(d.iconAnchor):ae(0,0);i.panInside(this._latlng,{paddingTopLeft:b,paddingBottomRight:f.subtract(b)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function jm(i,d){return new yo(i,d)}var Go=Mn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(i){this._renderer=i.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(i){return N(this,i),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&i&&Object.prototype.hasOwnProperty.call(i,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Sl=Go.extend({options:{fill:!0,radius:10},initialize:function(i,d){N(this,d),this._latlng=xe(i),this._radius=this.options.radius},setLatLng:function(i){var d=this._latlng;return this._latlng=xe(i),this.redraw(),this.fire("move",{oldLatLng:d,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(i){return this.options.radius=this._radius=i,this.redraw()},getRadius:function(){return this._radius},setStyle:function(i){var d=i&&i.radius||this._radius;return Go.prototype.setStyle.call(this,i),this.setRadius(d),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var i=this._radius,d=this._radiusY||i,f=this._clickTolerance(),b=[i+f,d+f];this._pxBounds=new A(this._point.subtract(b),this._point.add(b))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(i){return i.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function zu(i,d){return new Sl(i,d)}var El=Sl.extend({initialize:function(i,d,f){if(typeof d=="number"&&(d=l({},f,{radius:d})),N(this,d),this._latlng=xe(i),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(i){return this._mRadius=i,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var i=[this._radius,this._radiusY||this._radius];return new V(this._map.layerPointToLatLng(this._point.subtract(i)),this._map.layerPointToLatLng(this._point.add(i)))},setStyle:Go.prototype.setStyle,_project:function(){var i=this._latlng.lng,d=this._latlng.lat,f=this._map,b=f.options.crs;if(b.distance===se.distance){var C=Math.PI/180,I=this._mRadius/se.R/C,J=f.project([d+I,i]),de=f.project([d-I,i]),ve=J.add(de).divideBy(2),Ne=f.unproject(ve).lat,De=Math.acos((Math.cos(I*C)-Math.sin(d*C)*Math.sin(Ne*C))/(Math.cos(d*C)*Math.cos(Ne*C)))/C;(isNaN(De)||De===0)&&(De=I/Math.cos(Math.PI/180*d)),this._point=ve.subtract(f.getPixelOrigin()),this._radius=isNaN(De)?0:ve.x-f.project([Ne,i-De]).x,this._radiusY=ve.y-J.y}else{var et=b.unproject(b.project(this._latlng).subtract([this._mRadius,0]));this._point=f.latLngToLayerPoint(this._latlng),this._radius=this._point.x-f.latLngToLayerPoint(et).x}this._updateBounds()}});function ga(i,d,f){return new El(i,d,f)}var on=Go.extend({options:{smoothFactor:1,noClip:!1},initialize:function(i,d){N(this,d),this._setLatLngs(i)},getLatLngs:function(){return this._latlngs},setLatLngs:function(i){return this._setLatLngs(i),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(i){for(var d=1/0,f=null,b=ws,C,I,J=0,de=this._parts.length;J<de;J++)for(var ve=this._parts[J],Ne=1,De=ve.length;Ne<De;Ne++){C=ve[Ne-1],I=ve[Ne];var et=b(i,C,I,!0);et<d&&(d=et,f=b(i,C,I))}return f&&(f.distance=Math.sqrt(d)),f},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Mu(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(i,d){return d=d||this._defaultShape(),i=xe(i),d.push(i),this._bounds.extend(i),this.redraw()},_setLatLngs:function(i){this._bounds=new V,this._latlngs=this._convertLatLngs(i)},_defaultShape:function(){return pn(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(i){for(var d=[],f=pn(i),b=0,C=i.length;b<C;b++)f?(d[b]=xe(i[b]),this._bounds.extend(d[b])):d[b]=this._convertLatLngs(i[b]);return d},_project:function(){var i=new A;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,i),this._bounds.isValid()&&i.isValid()&&(this._rawPxBounds=i,this._updateBounds())},_updateBounds:function(){var i=this._clickTolerance(),d=new q(i,i);this._rawPxBounds&&(this._pxBounds=new A([this._rawPxBounds.min.subtract(d),this._rawPxBounds.max.add(d)]))},_projectLatlngs:function(i,d,f){var b=i[0]instanceof le,C=i.length,I,J;if(b){for(J=[],I=0;I<C;I++)J[I]=this._map.latLngToLayerPoint(i[I]),f.extend(J[I]);d.push(J)}else for(I=0;I<C;I++)this._projectLatlngs(i[I],d,f)},_clipPoints:function(){var i=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(i))){if(this.options.noClip){this._parts=this._rings;return}var d=this._parts,f,b,C,I,J,de,ve;for(f=0,C=0,I=this._rings.length;f<I;f++)for(ve=this._rings[f],b=0,J=ve.length;b<J-1;b++)de=Au(ve[b],ve[b+1],i,b,!0),de&&(d[C]=d[C]||[],d[C].push(de[0]),(de[1]!==ve[b+1]||b===J-2)&&(d[C].push(de[1]),C++))}},_simplifyPoints:function(){for(var i=this._parts,d=this.options.smoothFactor,f=0,b=i.length;f<b;f++)i[f]=wl(i[f],d)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(i,d){var f,b,C,I,J,de,ve=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(i))return!1;for(f=0,I=this._parts.length;f<I;f++)for(de=this._parts[f],b=0,J=de.length,C=J-1;b<J;C=b++)if(!(!d&&b===0)&&Ru(i,de[C],de[b])<=ve)return!0;return!1}});function Sm(i,d){return new on(i,d)}on._flat=Ou;var bo=on.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Tu(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(i){var d=on.prototype._convertLatLngs.call(this,i),f=d.length;return f>=2&&d[0]instanceof le&&d[0].equals(d[f-1])&&d.pop(),d},_setLatLngs:function(i){on.prototype._setLatLngs.call(this,i),pn(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return pn(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var i=this._renderer._bounds,d=this.options.weight,f=new q(d,d);if(i=new A(i.min.subtract(f),i.max.add(f)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(i))){if(this.options.noClip){this._parts=this._rings;return}for(var b=0,C=this._rings.length,I;b<C;b++)I=od(this._rings[b],i,!0),I.length&&this._parts.push(I)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(i){var d=!1,f,b,C,I,J,de,ve,Ne;if(!this._pxBounds||!this._pxBounds.contains(i))return!1;for(I=0,ve=this._parts.length;I<ve;I++)for(f=this._parts[I],J=0,Ne=f.length,de=Ne-1;J<Ne;de=J++)b=f[J],C=f[de],b.y>i.y!=C.y>i.y&&i.x<(C.x-b.x)*(i.y-b.y)/(C.y-b.y)+b.x&&(d=!d);return d||on.prototype._containsPoint.call(this,i,!0)}});function Em(i,d){return new bo(i,d)}var Qn=xo.extend({initialize:function(i,d){N(this,d),this._layers={},i&&this.addData(i)},addData:function(i){var d=R(i)?i:i.features,f,b,C;if(d){for(f=0,b=d.length;f<b;f++)C=d[f],(C.geometries||C.geometry||C.features||C.coordinates)&&this.addData(C);return this}var I=this.options;if(I.filter&&!I.filter(i))return this;var J=ui(i,I);return J?(J.feature=Tl(i),J.defaultOptions=J.options,this.resetStyle(J),I.onEachFeature&&I.onEachFeature(i,J),this.addLayer(J)):this},resetStyle:function(i){return i===void 0?this.eachLayer(this.resetStyle,this):(i.options=l({},i.defaultOptions),this._setLayerStyle(i,this.options.style),this)},setStyle:function(i){return this.eachLayer(function(d){this._setLayerStyle(d,i)},this)},_setLayerStyle:function(i,d){i.setStyle&&(typeof d=="function"&&(d=d(i.feature)),i.setStyle(d))}});function ui(i,d){var f=i.type==="Feature"?i.geometry:i,b=f?f.coordinates:null,C=[],I=d&&d.pointToLayer,J=d&&d.coordsToLatLng||Cl,de,ve,Ne,De;if(!b&&!f)return null;switch(f.type){case"Point":return de=J(b),Nl(I,i,de,d);case"MultiPoint":for(Ne=0,De=b.length;Ne<De;Ne++)de=J(b[Ne]),C.push(Nl(I,i,de,d));return new xo(C);case"LineString":case"MultiLineString":return ve=va(b,f.type==="LineString"?0:1,J),new on(ve,d);case"Polygon":case"MultiPolygon":return ve=va(b,f.type==="Polygon"?1:2,J),new bo(ve,d);case"GeometryCollection":for(Ne=0,De=f.geometries.length;Ne<De;Ne++){var et=ui({geometry:f.geometries[Ne],type:"Feature",properties:i.properties},d);et&&C.push(et)}return new xo(C);case"FeatureCollection":for(Ne=0,De=f.features.length;Ne<De;Ne++){var ft=ui(f.features[Ne],d);ft&&C.push(ft)}return new xo(C);default:throw new Error("Invalid GeoJSON object.")}}function Nl(i,d,f,b){return i?i(d,f):new yo(f,b&&b.markersInheritOptions&&b)}function Cl(i){return new le(i[1],i[0],i[2])}function va(i,d,f){for(var b=[],C=0,I=i.length,J;C<I;C++)J=d?va(i[C],d-1,f):(f||Cl)(i[C]),b.push(J);return b}function kl(i,d){return i=xe(i),i.alt!==void 0?[S(i.lng,d),S(i.lat,d),S(i.alt,d)]:[S(i.lng,d),S(i.lat,d)]}function Pl(i,d,f,b){for(var C=[],I=0,J=i.length;I<J;I++)C.push(d?Pl(i[I],pn(i[I])?0:d-1,f,b):kl(i[I],b));return!d&&f&&C.length>0&&C.push(C[0].slice()),C}function hi(i,d){return i.feature?l({},i.feature,{geometry:d}):Tl(d)}function Tl(i){return i.type==="Feature"||i.type==="FeatureCollection"?i:{type:"Feature",properties:{},geometry:i}}var ud={toGeoJSON:function(i){return hi(this,{type:"Point",coordinates:kl(this.getLatLng(),i)})}};yo.include(ud),El.include(ud),Sl.include(ud),on.include({toGeoJSON:function(i){var d=!pn(this._latlngs),f=Pl(this._latlngs,d?1:0,!1,i);return hi(this,{type:(d?"Multi":"")+"LineString",coordinates:f})}}),bo.include({toGeoJSON:function(i){var d=!pn(this._latlngs),f=d&&!pn(this._latlngs[0]),b=Pl(this._latlngs,f?2:d?1:0,!0,i);return d||(b=[b]),hi(this,{type:(f?"Multi":"")+"Polygon",coordinates:b})}}),Vo.include({toMultiPoint:function(i){var d=[];return this.eachLayer(function(f){d.push(f.toGeoJSON(i).geometry.coordinates)}),hi(this,{type:"MultiPoint",coordinates:d})},toGeoJSON:function(i){var d=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(d==="MultiPoint")return this.toMultiPoint(i);var f=d==="GeometryCollection",b=[];return this.eachLayer(function(C){if(C.toGeoJSON){var I=C.toGeoJSON(i);if(f)b.push(I.geometry);else{var J=Tl(I);J.type==="FeatureCollection"?b.push.apply(b,J.features):b.push(J)}}}),f?hi(this,{geometries:b,type:"GeometryCollection"}):{type:"FeatureCollection",features:b}}});function $u(i,d){return new Qn(i,d)}var Ln=$u,Ko=Mn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(i,d,f){this._url=i,this._bounds=F(d),N(this,f)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(ut(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Gt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(i){return this.options.opacity=i,this._image&&this._updateOpacity(),this},setStyle:function(i){return i.opacity&&this.setOpacity(i.opacity),this},bringToFront:function(){return this._map&&ri(this._image),this},bringToBack:function(){return this._map&&po(this._image),this},setUrl:function(i){return this._url=i,this._image&&(this._image.src=i),this},setBounds:function(i){return this._bounds=F(i),this._map&&this._reset(),this},getEvents:function(){var i={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(i.zoomanim=this._animateZoom),i},setZIndex:function(i){return this.options.zIndex=i,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var i=this._url.tagName==="IMG",d=this._image=i?this._url:ht("img");if(ut(d,"leaflet-image-layer"),this._zoomAnimated&&ut(d,"leaflet-zoom-animated"),this.options.className&&ut(d,this.options.className),d.onselectstart=x,d.onmousemove=x,d.onload=u(this.fire,this,"load"),d.onerror=u(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(d.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),i){this._url=d.src;return}d.src=this._url,d.alt=this.options.alt},_animateZoom:function(i){var d=this._map.getZoomScale(i.zoom),f=this._map._latLngBoundsToNewLayerBounds(this._bounds,i.zoom,i.center).min;Tn(this._image,f,d)},_reset:function(){var i=this._image,d=new A(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),f=d.getSize();lr(i,d.min),i.style.width=f.x+"px",i.style.height=f.y+"px"},_updateOpacity:function(){Vr(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var i=this.options.errorOverlayUrl;i&&this._url!==i&&(this._url=i,this._image.src=i)},getCenter:function(){return this._bounds.getCenter()}}),Fu=function(i,d,f){return new Ko(i,d,f)},hd=Ko.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var i=this._url.tagName==="VIDEO",d=this._image=i?this._url:ht("video");if(ut(d,"leaflet-image-layer"),this._zoomAnimated&&ut(d,"leaflet-zoom-animated"),this.options.className&&ut(d,this.options.className),d.onselectstart=x,d.onmousemove=x,d.onloadeddata=u(this.fire,this,"load"),i){for(var f=d.getElementsByTagName("source"),b=[],C=0;C<f.length;C++)b.push(f[C].src);this._url=f.length>0?b:[d.src];return}R(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(d.style,"objectFit")&&(d.style.objectFit="fill"),d.autoplay=!!this.options.autoplay,d.loop=!!this.options.loop,d.muted=!!this.options.muted,d.playsInline=!!this.options.playsInline;for(var I=0;I<this._url.length;I++){var J=ht("source");J.src=this._url[I],d.appendChild(J)}}});function Uu(i,d,f){return new hd(i,d,f)}var fd=Ko.extend({_initImage:function(){var i=this._image=this._url;ut(i,"leaflet-image-layer"),this._zoomAnimated&&ut(i,"leaflet-zoom-animated"),this.options.className&&ut(i,this.options.className),i.onselectstart=x,i.onmousemove=x}});function md(i,d,f){return new fd(i,d,f)}var Yn=Mn.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(i,d){i&&(i instanceof le||R(i))?(this._latlng=xe(i),N(this,d)):(N(this,i),this._source=d),this.options.content&&(this._content=this.options.content)},openOn:function(i){return i=arguments.length?i:this._source._map,i.hasLayer(this)||i.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(i){return this._map?this.close():(arguments.length?this._source=i:i=this._source,this._prepareOpen(),this.openOn(i._map)),this},onAdd:function(i){this._zoomAnimated=i._zoomAnimated,this._container||this._initLayout(),i._fadeAnimated&&Vr(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),i._fadeAnimated&&Vr(this._container,1),this.bringToFront(),this.options.interactive&&(ut(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(i){i._fadeAnimated?(Vr(this._container,0),this._removeTimeout=setTimeout(u(Gt,void 0,this._container),200)):Gt(this._container),this.options.interactive&&(qt(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(i){return this._latlng=xe(i),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(i){return this._content=i,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var i={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(i.zoomanim=this._animateZoom),i},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&ri(this._container),this},bringToBack:function(){return this._map&&po(this._container),this},_prepareOpen:function(i){var d=this._source;if(!d._map)return!1;if(d instanceof xo){d=null;var f=this._source._layers;for(var b in f)if(f[b]._map){d=f[b];break}if(!d)return!1;this._source=d}if(!i)if(d.getCenter)i=d.getCenter();else if(d.getLatLng)i=d.getLatLng();else if(d.getBounds)i=d.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(i),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var i=this._contentNode,d=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof d=="string")i.innerHTML=d;else{for(;i.hasChildNodes();)i.removeChild(i.firstChild);i.appendChild(d)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var i=this._map.latLngToLayerPoint(this._latlng),d=ae(this.options.offset),f=this._getAnchor();this._zoomAnimated?lr(this._container,i.add(f)):d=d.add(i).add(f);var b=this._containerBottom=-d.y,C=this._containerLeft=-Math.round(this._containerWidth/2)+d.x;this._container.style.bottom=b+"px",this._container.style.left=C+"px"}},_getAnchor:function(){return[0,0]}});vt.include({_initOverlay:function(i,d,f,b){var C=d;return C instanceof i||(C=new i(b).setContent(d)),f&&C.setLatLng(f),C}}),Mn.include({_initOverlay:function(i,d,f,b){var C=f;return C instanceof i?(N(C,b),C._source=this):(C=d&&!b?d:new i(b,this),C.setContent(f)),C}});var Rl=Yn.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(i){return i=arguments.length?i:this._source._map,!i.hasLayer(this)&&i._popup&&i._popup.options.autoClose&&i.removeLayer(i._popup),i._popup=this,Yn.prototype.openOn.call(this,i)},onAdd:function(i){Yn.prototype.onAdd.call(this,i),i.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Go||this._source.on("preclick",Zn))},onRemove:function(i){Yn.prototype.onRemove.call(this,i),i.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Go||this._source.off("preclick",Zn))},getEvents:function(){var i=Yn.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(i.preclick=this.close),this.options.keepInView&&(i.moveend=this._adjustPan),i},_initLayout:function(){var i="leaflet-popup",d=this._container=ht("div",i+" "+(this.options.className||"")+" leaflet-zoom-animated"),f=this._wrapper=ht("div",i+"-content-wrapper",d);if(this._contentNode=ht("div",i+"-content",f),ha(d),xl(this._contentNode),lt(d,"contextmenu",Zn),this._tipContainer=ht("div",i+"-tip-container",d),this._tip=ht("div",i+"-tip",this._tipContainer),this.options.closeButton){var b=this._closeButton=ht("a",i+"-close-button",d);b.setAttribute("role","button"),b.setAttribute("aria-label","Close popup"),b.href="#close",b.innerHTML='<span aria-hidden="true">&#215;</span>',lt(b,"click",function(C){tr(C),this.close()},this)}},_updateLayout:function(){var i=this._contentNode,d=i.style;d.width="",d.whiteSpace="nowrap";var f=i.offsetWidth;f=Math.min(f,this.options.maxWidth),f=Math.max(f,this.options.minWidth),d.width=f+1+"px",d.whiteSpace="",d.height="";var b=i.offsetHeight,C=this.options.maxHeight,I="leaflet-popup-scrolled";C&&b>C?(d.height=C+"px",ut(i,I)):qt(i,I),this._containerWidth=this._container.offsetWidth},_animateZoom:function(i){var d=this._map._latLngToNewLayerPoint(this._latlng,i.zoom,i.center),f=this._getAnchor();lr(this._container,d.add(f))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var i=this._map,d=parseInt(la(this._container,"marginBottom"),10)||0,f=this._container.offsetHeight+d,b=this._containerWidth,C=new q(this._containerLeft,-f-this._containerBottom);C._add(go(this._container));var I=i.layerPointToContainerPoint(C),J=ae(this.options.autoPanPadding),de=ae(this.options.autoPanPaddingTopLeft||J),ve=ae(this.options.autoPanPaddingBottomRight||J),Ne=i.getSize(),De=0,et=0;I.x+b+ve.x>Ne.x&&(De=I.x+b-Ne.x+ve.x),I.x-De-de.x<0&&(De=I.x-de.x),I.y+f+ve.y>Ne.y&&(et=I.y+f-Ne.y+ve.y),I.y-et-de.y<0&&(et=I.y-de.y),(De||et)&&(this.options.keepInView&&(this._autopanning=!0),i.fire("autopanstart").panBy([De,et]))}},_getAnchor:function(){return ae(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),fi=function(i,d){return new Rl(i,d)};vt.mergeOptions({closePopupOnClick:!0}),vt.include({openPopup:function(i,d,f){return this._initOverlay(Rl,i,d,f).openOn(this),this},closePopup:function(i){return i=arguments.length?i:this._popup,i&&i.close(),this}}),Mn.include({bindPopup:function(i,d){return this._popup=this._initOverlay(Rl,this._popup,i,d),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(i){return this._popup&&(this instanceof xo||(this._popup._source=this),this._popup._prepareOpen(i||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(i){return this._popup&&this._popup.setContent(i),this},getPopup:function(){return this._popup},_openPopup:function(i){if(!(!this._popup||!this._map)){An(i);var d=i.layer||i.target;if(this._popup._source===d&&!(d instanceof Go)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(i.latlng);return}this._popup._source=d,this.openPopup(i.latlng)}},_movePopup:function(i){this._popup.setLatLng(i.latlng)},_onKeyPress:function(i){i.originalEvent.keyCode===13&&this._openPopup(i)}});var mi=Yn.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(i){Yn.prototype.onAdd.call(this,i),this.setOpacity(this.options.opacity),i.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(i){Yn.prototype.onRemove.call(this,i),i.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var i=Yn.prototype.getEvents.call(this);return this.options.permanent||(i.preclick=this.close),i},_initLayout:function(){var i="leaflet-tooltip",d=i+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=ht("div",d),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+m(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(i){var d,f,b=this._map,C=this._container,I=b.latLngToContainerPoint(b.getCenter()),J=b.layerPointToContainerPoint(i),de=this.options.direction,ve=C.offsetWidth,Ne=C.offsetHeight,De=ae(this.options.offset),et=this._getAnchor();de==="top"?(d=ve/2,f=Ne):de==="bottom"?(d=ve/2,f=0):de==="center"?(d=ve/2,f=Ne/2):de==="right"?(d=0,f=Ne/2):de==="left"?(d=ve,f=Ne/2):J.x<I.x?(de="right",d=0,f=Ne/2):(de="left",d=ve+(De.x+et.x)*2,f=Ne/2),i=i.subtract(ae(d,f,!0)).add(De).add(et),qt(C,"leaflet-tooltip-right"),qt(C,"leaflet-tooltip-left"),qt(C,"leaflet-tooltip-top"),qt(C,"leaflet-tooltip-bottom"),ut(C,"leaflet-tooltip-"+de),lr(C,i)},_updatePosition:function(){var i=this._map.latLngToLayerPoint(this._latlng);this._setPosition(i)},setOpacity:function(i){this.options.opacity=i,this._container&&Vr(this._container,i)},_animateZoom:function(i){var d=this._map._latLngToNewLayerPoint(this._latlng,i.zoom,i.center);this._setPosition(d)},_getAnchor:function(){return ae(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),xa=function(i,d){return new mi(i,d)};vt.include({openTooltip:function(i,d,f){return this._initOverlay(mi,i,d,f).openOn(this),this},closeTooltip:function(i){return i.close(),this}}),Mn.include({bindTooltip:function(i,d){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(mi,this._tooltip,i,d),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(i){if(!(!i&&this._tooltipHandlersAdded)){var d=i?"off":"on",f={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?f.add=this._openTooltip:(f.mouseover=this._openTooltip,f.mouseout=this.closeTooltip,f.click=this._openTooltip,this._map?this._addFocusListeners():f.add=this._addFocusListeners),this._tooltip.options.sticky&&(f.mousemove=this._moveTooltip),this[d](f),this._tooltipHandlersAdded=!i}},openTooltip:function(i){return this._tooltip&&(this instanceof xo||(this._tooltip._source=this),this._tooltip._prepareOpen(i)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(i){return this._tooltip&&this._tooltip.setContent(i),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(i){var d=typeof i.getElement=="function"&&i.getElement();d&&(lt(d,"focus",function(){this._tooltip._source=i,this.openTooltip()},this),lt(d,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(i){var d=typeof i.getElement=="function"&&i.getElement();d&&d.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(i){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var d=this;this._map.once("moveend",function(){d._openOnceFlag=!1,d._openTooltip(i)});return}this._tooltip._source=i.layer||i.target,this.openTooltip(this._tooltip.options.sticky?i.latlng:void 0)}},_moveTooltip:function(i){var d=i.latlng,f,b;this._tooltip.options.sticky&&i.originalEvent&&(f=this._map.mouseEventToContainerPoint(i.originalEvent),b=this._map.containerPointToLayerPoint(f),d=this._map.layerPointToLatLng(b)),this._tooltip.setLatLng(d)}});var Al=js.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(i){var d=i&&i.tagName==="DIV"?i:document.createElement("div"),f=this.options;if(f.html instanceof Element?(hl(d),d.appendChild(f.html)):d.innerHTML=f.html!==!1?f.html:"",f.bgPos){var b=ae(f.bgPos);d.style.backgroundPosition=-b.x+"px "+-b.y+"px"}return this._setIconStyles(d,"icon"),d},createShadow:function(){return null}});function qu(i){return new Al(i)}js.Default=di;var Zo=Mn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:ze.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(i){N(this,i)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(i){i._addZoomLimit(this)},onRemove:function(i){this._removeAllTiles(),Gt(this._container),i._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(ri(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(po(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(i){return this.options.opacity=i,this._updateOpacity(),this},setZIndex:function(i){return this.options.zIndex=i,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var i=this._clampZoom(this._map.getZoom());i!==this._tileZoom&&(this._tileZoom=i,this._updateLevels()),this._update()}return this},getEvents:function(){var i={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=v(this._onMoveEnd,this.options.updateInterval,this)),i.move=this._onMove),this._zoomAnimated&&(i.zoomanim=this._animateZoom),i},createTile:function(){return document.createElement("div")},getTileSize:function(){var i=this.options.tileSize;return i instanceof q?i:new q(i,i)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(i){for(var d=this.getPane().children,f=-i(-1/0,1/0),b=0,C=d.length,I;b<C;b++)I=d[b].style.zIndex,d[b]!==this._container&&I&&(f=i(f,+I));isFinite(f)&&(this.options.zIndex=f+i(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!ze.ielt9){Vr(this._container,this.options.opacity);var i=+new Date,d=!1,f=!1;for(var b in this._tiles){var C=this._tiles[b];if(!(!C.current||!C.loaded)){var I=Math.min(1,(i-C.loaded)/200);Vr(C.el,I),I<1?d=!0:(C.active?f=!0:this._onOpaqueTile(C),C.active=!0)}}f&&!this._noPrune&&this._pruneTiles(),d&&(te(this._fadeFrame),this._fadeFrame=$(this._updateOpacity,this))}},_onOpaqueTile:x,_initContainer:function(){this._container||(this._container=ht("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var i=this._tileZoom,d=this.options.maxZoom;if(i!==void 0){for(var f in this._levels)f=Number(f),this._levels[f].el.children.length||f===i?(this._levels[f].el.style.zIndex=d-Math.abs(i-f),this._onUpdateLevel(f)):(Gt(this._levels[f].el),this._removeTilesAtZoom(f),this._onRemoveLevel(f),delete this._levels[f]);var b=this._levels[i],C=this._map;return b||(b=this._levels[i]={},b.el=ht("div","leaflet-tile-container leaflet-zoom-animated",this._container),b.el.style.zIndex=d,b.origin=C.project(C.unproject(C.getPixelOrigin()),i).round(),b.zoom=i,this._setZoomTransform(b,C.getCenter(),C.getZoom()),x(b.el.offsetWidth),this._onCreateLevel(b)),this._level=b,b}},_onUpdateLevel:x,_onRemoveLevel:x,_onCreateLevel:x,_pruneTiles:function(){if(this._map){var i,d,f=this._map.getZoom();if(f>this.options.maxZoom||f<this.options.minZoom){this._removeAllTiles();return}for(i in this._tiles)d=this._tiles[i],d.retain=d.current;for(i in this._tiles)if(d=this._tiles[i],d.current&&!d.active){var b=d.coords;this._retainParent(b.x,b.y,b.z,b.z-5)||this._retainChildren(b.x,b.y,b.z,b.z+2)}for(i in this._tiles)this._tiles[i].retain||this._removeTile(i)}},_removeTilesAtZoom:function(i){for(var d in this._tiles)this._tiles[d].coords.z===i&&this._removeTile(d)},_removeAllTiles:function(){for(var i in this._tiles)this._removeTile(i)},_invalidateAll:function(){for(var i in this._levels)Gt(this._levels[i].el),this._onRemoveLevel(Number(i)),delete this._levels[i];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(i,d,f,b){var C=Math.floor(i/2),I=Math.floor(d/2),J=f-1,de=new q(+C,+I);de.z=+J;var ve=this._tileCoordsToKey(de),Ne=this._tiles[ve];return Ne&&Ne.active?(Ne.retain=!0,!0):(Ne&&Ne.loaded&&(Ne.retain=!0),J>b?this._retainParent(C,I,J,b):!1)},_retainChildren:function(i,d,f,b){for(var C=2*i;C<2*i+2;C++)for(var I=2*d;I<2*d+2;I++){var J=new q(C,I);J.z=f+1;var de=this._tileCoordsToKey(J),ve=this._tiles[de];if(ve&&ve.active){ve.retain=!0;continue}else ve&&ve.loaded&&(ve.retain=!0);f+1<b&&this._retainChildren(C,I,f+1,b)}},_resetView:function(i){var d=i&&(i.pinch||i.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),d,d)},_animateZoom:function(i){this._setView(i.center,i.zoom,!0,i.noUpdate)},_clampZoom:function(i){var d=this.options;return d.minNativeZoom!==void 0&&i<d.minNativeZoom?d.minNativeZoom:d.maxNativeZoom!==void 0&&d.maxNativeZoom<i?d.maxNativeZoom:i},_setView:function(i,d,f,b){var C=Math.round(d);this.options.maxZoom!==void 0&&C>this.options.maxZoom||this.options.minZoom!==void 0&&C<this.options.minZoom?C=void 0:C=this._clampZoom(C);var I=this.options.updateWhenZooming&&C!==this._tileZoom;(!b||I)&&(this._tileZoom=C,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),C!==void 0&&this._update(i),f||this._pruneTiles(),this._noPrune=!!f),this._setZoomTransforms(i,d)},_setZoomTransforms:function(i,d){for(var f in this._levels)this._setZoomTransform(this._levels[f],i,d)},_setZoomTransform:function(i,d,f){var b=this._map.getZoomScale(f,i.zoom),C=i.origin.multiplyBy(b).subtract(this._map._getNewPixelOrigin(d,f)).round();ze.any3d?Tn(i.el,C,b):lr(i.el,C)},_resetGrid:function(){var i=this._map,d=i.options.crs,f=this._tileSize=this.getTileSize(),b=this._tileZoom,C=this._map.getPixelWorldBounds(this._tileZoom);C&&(this._globalTileRange=this._pxBoundsToTileRange(C)),this._wrapX=d.wrapLng&&!this.options.noWrap&&[Math.floor(i.project([0,d.wrapLng[0]],b).x/f.x),Math.ceil(i.project([0,d.wrapLng[1]],b).x/f.y)],this._wrapY=d.wrapLat&&!this.options.noWrap&&[Math.floor(i.project([d.wrapLat[0],0],b).y/f.x),Math.ceil(i.project([d.wrapLat[1],0],b).y/f.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(i){var d=this._map,f=d._animatingZoom?Math.max(d._animateToZoom,d.getZoom()):d.getZoom(),b=d.getZoomScale(f,this._tileZoom),C=d.project(i,this._tileZoom).floor(),I=d.getSize().divideBy(b*2);return new A(C.subtract(I),C.add(I))},_update:function(i){var d=this._map;if(d){var f=this._clampZoom(d.getZoom());if(i===void 0&&(i=d.getCenter()),this._tileZoom!==void 0){var b=this._getTiledPixelBounds(i),C=this._pxBoundsToTileRange(b),I=C.getCenter(),J=[],de=this.options.keepBuffer,ve=new A(C.getBottomLeft().subtract([de,-de]),C.getTopRight().add([de,-de]));if(!(isFinite(C.min.x)&&isFinite(C.min.y)&&isFinite(C.max.x)&&isFinite(C.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var Ne in this._tiles){var De=this._tiles[Ne].coords;(De.z!==this._tileZoom||!ve.contains(new q(De.x,De.y)))&&(this._tiles[Ne].current=!1)}if(Math.abs(f-this._tileZoom)>1){this._setView(i,f);return}for(var et=C.min.y;et<=C.max.y;et++)for(var ft=C.min.x;ft<=C.max.x;ft++){var Cr=new q(ft,et);if(Cr.z=this._tileZoom,!!this._isValidTile(Cr)){var br=this._tiles[this._tileCoordsToKey(Cr)];br?br.current=!0:J.push(Cr)}}if(J.sort(function(Kr,yi){return Kr.distanceTo(I)-yi.distanceTo(I)}),J.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var sn=document.createDocumentFragment();for(ft=0;ft<J.length;ft++)this._addTile(J[ft],sn);this._level.el.appendChild(sn)}}}},_isValidTile:function(i){var d=this._map.options.crs;if(!d.infinite){var f=this._globalTileRange;if(!d.wrapLng&&(i.x<f.min.x||i.x>f.max.x)||!d.wrapLat&&(i.y<f.min.y||i.y>f.max.y))return!1}if(!this.options.bounds)return!0;var b=this._tileCoordsToBounds(i);return F(this.options.bounds).overlaps(b)},_keyToBounds:function(i){return this._tileCoordsToBounds(this._keyToTileCoords(i))},_tileCoordsToNwSe:function(i){var d=this._map,f=this.getTileSize(),b=i.scaleBy(f),C=b.add(f),I=d.unproject(b,i.z),J=d.unproject(C,i.z);return[I,J]},_tileCoordsToBounds:function(i){var d=this._tileCoordsToNwSe(i),f=new V(d[0],d[1]);return this.options.noWrap||(f=this._map.wrapLatLngBounds(f)),f},_tileCoordsToKey:function(i){return i.x+":"+i.y+":"+i.z},_keyToTileCoords:function(i){var d=i.split(":"),f=new q(+d[0],+d[1]);return f.z=+d[2],f},_removeTile:function(i){var d=this._tiles[i];d&&(Gt(d.el),delete this._tiles[i],this.fire("tileunload",{tile:d.el,coords:this._keyToTileCoords(i)}))},_initTile:function(i){ut(i,"leaflet-tile");var d=this.getTileSize();i.style.width=d.x+"px",i.style.height=d.y+"px",i.onselectstart=x,i.onmousemove=x,ze.ielt9&&this.options.opacity<1&&Vr(i,this.options.opacity)},_addTile:function(i,d){var f=this._getTilePos(i),b=this._tileCoordsToKey(i),C=this.createTile(this._wrapCoords(i),u(this._tileReady,this,i));this._initTile(C),this.createTile.length<2&&$(u(this._tileReady,this,i,null,C)),lr(C,f),this._tiles[b]={el:C,coords:i,current:!0},d.appendChild(C),this.fire("tileloadstart",{tile:C,coords:i})},_tileReady:function(i,d,f){d&&this.fire("tileerror",{error:d,tile:f,coords:i});var b=this._tileCoordsToKey(i);f=this._tiles[b],f&&(f.loaded=+new Date,this._map._fadeAnimated?(Vr(f.el,0),te(this._fadeFrame),this._fadeFrame=$(this._updateOpacity,this)):(f.active=!0,this._pruneTiles()),d||(ut(f.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:f.el,coords:i})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),ze.ielt9||!this._map._fadeAnimated?$(this._pruneTiles,this):setTimeout(u(this._pruneTiles,this),250)))},_getTilePos:function(i){return i.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(i){var d=new q(this._wrapX?y(i.x,this._wrapX):i.x,this._wrapY?y(i.y,this._wrapY):i.y);return d.z=i.z,d},_pxBoundsToTileRange:function(i){var d=this.getTileSize();return new A(i.min.unscaleBy(d).floor(),i.max.unscaleBy(d).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var i in this._tiles)if(!this._tiles[i].loaded)return!1;return!0}});function pi(i){return new Zo(i)}var Qo=Zo.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(i,d){this._url=i,d=N(this,d),d.detectRetina&&ze.retina&&d.maxZoom>0?(d.tileSize=Math.floor(d.tileSize/2),d.zoomReverse?(d.zoomOffset--,d.minZoom=Math.min(d.maxZoom,d.minZoom+1)):(d.zoomOffset++,d.maxZoom=Math.max(d.minZoom,d.maxZoom-1)),d.minZoom=Math.max(0,d.minZoom)):d.zoomReverse?d.minZoom=Math.min(d.maxZoom,d.minZoom):d.maxZoom=Math.max(d.minZoom,d.maxZoom),typeof d.subdomains=="string"&&(d.subdomains=d.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(i,d){return this._url===i&&d===void 0&&(d=!0),this._url=i,d||this.redraw(),this},createTile:function(i,d){var f=document.createElement("img");return lt(f,"load",u(this._tileOnLoad,this,d,f)),lt(f,"error",u(this._tileOnError,this,d,f)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(f.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(f.referrerPolicy=this.options.referrerPolicy),f.alt="",f.src=this.getTileUrl(i),f},getTileUrl:function(i){var d={r:ze.retina?"@2x":"",s:this._getSubdomain(i),x:i.x,y:i.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var f=this._globalTileRange.max.y-i.y;this.options.tms&&(d.y=f),d["-y"]=f}return T(this._url,l(d,this.options))},_tileOnLoad:function(i,d){ze.ielt9?setTimeout(u(i,this,null,d),0):i(null,d)},_tileOnError:function(i,d,f){var b=this.options.errorTileUrl;b&&d.getAttribute("src")!==b&&(d.src=b),i(f,d)},_onTileRemove:function(i){i.tile.onload=null},_getZoomForUrl:function(){var i=this._tileZoom,d=this.options.maxZoom,f=this.options.zoomReverse,b=this.options.zoomOffset;return f&&(i=d-i),i+b},_getSubdomain:function(i){var d=Math.abs(i.x+i.y)%this.options.subdomains.length;return this.options.subdomains[d]},_abortLoading:function(){var i,d;for(i in this._tiles)if(this._tiles[i].coords.z!==this._tileZoom&&(d=this._tiles[i].el,d.onload=x,d.onerror=x,!d.complete)){d.src=K;var f=this._tiles[i].coords;Gt(d),delete this._tiles[i],this.fire("tileabort",{tile:d,coords:f})}},_removeTile:function(i){var d=this._tiles[i];if(d)return d.el.setAttribute("src",K),Zo.prototype._removeTile.call(this,i)},_tileReady:function(i,d,f){if(!(!this._map||f&&f.getAttribute("src")===K))return Zo.prototype._tileReady.call(this,i,d,f)}});function pd(i,d){return new Qo(i,d)}var ya=Qo.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(i,d){this._url=i;var f=l({},this.defaultWmsParams);for(var b in d)b in this.options||(f[b]=d[b]);d=N(this,d);var C=d.detectRetina&&ze.retina?2:1,I=this.getTileSize();f.width=I.x*C,f.height=I.y*C,this.wmsParams=f},onAdd:function(i){this._crs=this.options.crs||i.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var d=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[d]=this._crs.code,Qo.prototype.onAdd.call(this,i)},getTileUrl:function(i){var d=this._tileCoordsToNwSe(i),f=this._crs,b=H(f.project(d[0]),f.project(d[1])),C=b.min,I=b.max,J=(this._wmsVersion>=1.3&&this._crs===Iu?[C.y,C.x,I.y,I.x]:[C.x,C.y,I.x,I.y]).join(","),de=Qo.prototype.getTileUrl.call(this,i);return de+P(this.wmsParams,de,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+J},setParams:function(i,d){return l(this.wmsParams,i),d||this.redraw(),this}});function Wu(i,d){return new ya(i,d)}Qo.WMS=ya,pd.wms=Wu;var Jn=Mn.extend({options:{padding:.1},initialize:function(i){N(this,i),m(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),ut(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var i={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(i.zoomanim=this._onAnimZoom),i},_onAnimZoom:function(i){this._updateTransform(i.center,i.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(i,d){var f=this._map.getZoomScale(d,this._zoom),b=this._map.getSize().multiplyBy(.5+this.options.padding),C=this._map.project(this._center,d),I=b.multiplyBy(-f).add(C).subtract(this._map._getNewPixelOrigin(i,d));ze.any3d?Tn(this._container,I,f):lr(this._container,I)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var i in this._layers)this._layers[i]._reset()},_onZoomEnd:function(){for(var i in this._layers)this._layers[i]._project()},_updatePaths:function(){for(var i in this._layers)this._layers[i]._update()},_update:function(){var i=this.options.padding,d=this._map.getSize(),f=this._map.containerPointToLayerPoint(d.multiplyBy(-i)).round();this._bounds=new A(f,f.add(d.multiplyBy(1+i*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),gd=Jn.extend({options:{tolerance:0},getEvents:function(){var i=Jn.prototype.getEvents.call(this);return i.viewprereset=this._onViewPreReset,i},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Jn.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var i=this._container=document.createElement("canvas");lt(i,"mousemove",this._onMouseMove,this),lt(i,"click dblclick mousedown mouseup contextmenu",this._onClick,this),lt(i,"mouseout",this._handleMouseOut,this),i._leaflet_disable_events=!0,this._ctx=i.getContext("2d")},_destroyContainer:function(){te(this._redrawRequest),delete this._ctx,Gt(this._container),Dt(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var i;this._redrawBounds=null;for(var d in this._layers)i=this._layers[d],i._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Jn.prototype._update.call(this);var i=this._bounds,d=this._container,f=i.getSize(),b=ze.retina?2:1;lr(d,i.min),d.width=b*f.x,d.height=b*f.y,d.style.width=f.x+"px",d.style.height=f.y+"px",ze.retina&&this._ctx.scale(2,2),this._ctx.translate(-i.min.x,-i.min.y),this.fire("update")}},_reset:function(){Jn.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(i){this._updateDashArray(i),this._layers[m(i)]=i;var d=i._order={layer:i,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=d),this._drawLast=d,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(i){this._requestRedraw(i)},_removePath:function(i){var d=i._order,f=d.next,b=d.prev;f?f.prev=b:this._drawLast=b,b?b.next=f:this._drawFirst=f,delete i._order,delete this._layers[m(i)],this._requestRedraw(i)},_updatePath:function(i){this._extendRedrawBounds(i),i._project(),i._update(),this._requestRedraw(i)},_updateStyle:function(i){this._updateDashArray(i),this._requestRedraw(i)},_updateDashArray:function(i){if(typeof i.options.dashArray=="string"){var d=i.options.dashArray.split(/[, ]+/),f=[],b,C;for(C=0;C<d.length;C++){if(b=Number(d[C]),isNaN(b))return;f.push(b)}i.options._dashArray=f}else i.options._dashArray=i.options.dashArray},_requestRedraw:function(i){this._map&&(this._extendRedrawBounds(i),this._redrawRequest=this._redrawRequest||$(this._redraw,this))},_extendRedrawBounds:function(i){if(i._pxBounds){var d=(i.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new A,this._redrawBounds.extend(i._pxBounds.min.subtract([d,d])),this._redrawBounds.extend(i._pxBounds.max.add([d,d]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var i=this._redrawBounds;if(i){var d=i.getSize();this._ctx.clearRect(i.min.x,i.min.y,d.x,d.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var i,d=this._redrawBounds;if(this._ctx.save(),d){var f=d.getSize();this._ctx.beginPath(),this._ctx.rect(d.min.x,d.min.y,f.x,f.y),this._ctx.clip()}this._drawing=!0;for(var b=this._drawFirst;b;b=b.next)i=b.layer,(!d||i._pxBounds&&i._pxBounds.intersects(d))&&i._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(i,d){if(this._drawing){var f,b,C,I,J=i._parts,de=J.length,ve=this._ctx;if(de){for(ve.beginPath(),f=0;f<de;f++){for(b=0,C=J[f].length;b<C;b++)I=J[f][b],ve[b?"lineTo":"moveTo"](I.x,I.y);d&&ve.closePath()}this._fillStroke(ve,i)}}},_updateCircle:function(i){if(!(!this._drawing||i._empty())){var d=i._point,f=this._ctx,b=Math.max(Math.round(i._radius),1),C=(Math.max(Math.round(i._radiusY),1)||b)/b;C!==1&&(f.save(),f.scale(1,C)),f.beginPath(),f.arc(d.x,d.y/C,b,0,Math.PI*2,!1),C!==1&&f.restore(),this._fillStroke(f,i)}},_fillStroke:function(i,d){var f=d.options;f.fill&&(i.globalAlpha=f.fillOpacity,i.fillStyle=f.fillColor||f.color,i.fill(f.fillRule||"evenodd")),f.stroke&&f.weight!==0&&(i.setLineDash&&i.setLineDash(d.options&&d.options._dashArray||[]),i.globalAlpha=f.opacity,i.lineWidth=f.weight,i.strokeStyle=f.color,i.lineCap=f.lineCap,i.lineJoin=f.lineJoin,i.stroke())},_onClick:function(i){for(var d=this._map.mouseEventToLayerPoint(i),f,b,C=this._drawFirst;C;C=C.next)f=C.layer,f.options.interactive&&f._containsPoint(d)&&(!(i.type==="click"||i.type==="preclick")||!this._map._draggableMoved(f))&&(b=f);this._fireEvent(b?[b]:!1,i)},_onMouseMove:function(i){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var d=this._map.mouseEventToLayerPoint(i);this._handleMouseHover(i,d)}},_handleMouseOut:function(i){var d=this._hoveredLayer;d&&(qt(this._container,"leaflet-interactive"),this._fireEvent([d],i,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(i,d){if(!this._mouseHoverThrottled){for(var f,b,C=this._drawFirst;C;C=C.next)f=C.layer,f.options.interactive&&f._containsPoint(d)&&(b=f);b!==this._hoveredLayer&&(this._handleMouseOut(i),b&&(ut(this._container,"leaflet-interactive"),this._fireEvent([b],i,"mouseover"),this._hoveredLayer=b)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,i),this._mouseHoverThrottled=!0,setTimeout(u(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(i,d,f){this._map._fireDOMEvent(d,f||d.type,i)},_bringToFront:function(i){var d=i._order;if(d){var f=d.next,b=d.prev;if(f)f.prev=b;else return;b?b.next=f:f&&(this._drawFirst=f),d.prev=this._drawLast,this._drawLast.next=d,d.next=null,this._drawLast=d,this._requestRedraw(i)}},_bringToBack:function(i){var d=i._order;if(d){var f=d.next,b=d.prev;if(b)b.next=f;else return;f?f.prev=b:b&&(this._drawLast=b),d.prev=null,d.next=this._drawFirst,this._drawFirst.prev=d,this._drawFirst=d,this._requestRedraw(i)}}});function vd(i){return ze.canvas?new gd(i):null}var gi=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(i){return document.createElement("<lvml:"+i+' class="lvml">')}}catch{}return function(i){return document.createElement("<"+i+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),Hu={_initContainer:function(){this._container=ht("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Jn.prototype._update.call(this),this.fire("update"))},_initPath:function(i){var d=i._container=gi("shape");ut(d,"leaflet-vml-shape "+(this.options.className||"")),d.coordsize="1 1",i._path=gi("path"),d.appendChild(i._path),this._updateStyle(i),this._layers[m(i)]=i},_addPath:function(i){var d=i._container;this._container.appendChild(d),i.options.interactive&&i.addInteractiveTarget(d)},_removePath:function(i){var d=i._container;Gt(d),i.removeInteractiveTarget(d),delete this._layers[m(i)]},_updateStyle:function(i){var d=i._stroke,f=i._fill,b=i.options,C=i._container;C.stroked=!!b.stroke,C.filled=!!b.fill,b.stroke?(d||(d=i._stroke=gi("stroke")),C.appendChild(d),d.weight=b.weight+"px",d.color=b.color,d.opacity=b.opacity,b.dashArray?d.dashStyle=R(b.dashArray)?b.dashArray.join(" "):b.dashArray.replace(/( *, *)/g," "):d.dashStyle="",d.endcap=b.lineCap.replace("butt","flat"),d.joinstyle=b.lineJoin):d&&(C.removeChild(d),i._stroke=null),b.fill?(f||(f=i._fill=gi("fill")),C.appendChild(f),f.color=b.fillColor||b.color,f.opacity=b.fillOpacity):f&&(C.removeChild(f),i._fill=null)},_updateCircle:function(i){var d=i._point.round(),f=Math.round(i._radius),b=Math.round(i._radiusY||f);this._setPath(i,i._empty()?"M0 0":"AL "+d.x+","+d.y+" "+f+","+b+" 0,"+65535*360)},_setPath:function(i,d){i._path.v=d},_bringToFront:function(i){ri(i._container)},_bringToBack:function(i){po(i._container)}},In=ze.vml?gi:Lt,Ss=Jn.extend({_initContainer:function(){this._container=In("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=In("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Gt(this._container),Dt(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Jn.prototype._update.call(this);var i=this._bounds,d=i.getSize(),f=this._container;(!this._svgSize||!this._svgSize.equals(d))&&(this._svgSize=d,f.setAttribute("width",d.x),f.setAttribute("height",d.y)),lr(f,i.min),f.setAttribute("viewBox",[i.min.x,i.min.y,d.x,d.y].join(" ")),this.fire("update")}},_initPath:function(i){var d=i._path=In("path");i.options.className&&ut(d,i.options.className),i.options.interactive&&ut(d,"leaflet-interactive"),this._updateStyle(i),this._layers[m(i)]=i},_addPath:function(i){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(i._path),i.addInteractiveTarget(i._path)},_removePath:function(i){Gt(i._path),i.removeInteractiveTarget(i._path),delete this._layers[m(i)]},_updatePath:function(i){i._project(),i._update()},_updateStyle:function(i){var d=i._path,f=i.options;d&&(f.stroke?(d.setAttribute("stroke",f.color),d.setAttribute("stroke-opacity",f.opacity),d.setAttribute("stroke-width",f.weight),d.setAttribute("stroke-linecap",f.lineCap),d.setAttribute("stroke-linejoin",f.lineJoin),f.dashArray?d.setAttribute("stroke-dasharray",f.dashArray):d.removeAttribute("stroke-dasharray"),f.dashOffset?d.setAttribute("stroke-dashoffset",f.dashOffset):d.removeAttribute("stroke-dashoffset")):d.setAttribute("stroke","none"),f.fill?(d.setAttribute("fill",f.fillColor||f.color),d.setAttribute("fill-opacity",f.fillOpacity),d.setAttribute("fill-rule",f.fillRule||"evenodd")):d.setAttribute("fill","none"))},_updatePoly:function(i,d){this._setPath(i,$t(i._parts,d))},_updateCircle:function(i){var d=i._point,f=Math.max(Math.round(i._radius),1),b=Math.max(Math.round(i._radiusY),1)||f,C="a"+f+","+b+" 0 1,0 ",I=i._empty()?"M0 0":"M"+(d.x-f)+","+d.y+C+f*2+",0 "+C+-f*2+",0 ";this._setPath(i,I)},_setPath:function(i,d){i._path.setAttribute("d",d)},_bringToFront:function(i){ri(i._path)},_bringToBack:function(i){po(i._path)}});ze.vml&&Ss.include(Hu);function Ol(i){return ze.svg||ze.vml?new Ss(i):null}vt.include({getRenderer:function(i){var d=i.options.renderer||this._getPaneRenderer(i.options.pane)||this.options.renderer||this._renderer;return d||(d=this._renderer=this._createRenderer()),this.hasLayer(d)||this.addLayer(d),d},_getPaneRenderer:function(i){if(i==="overlayPane"||i===void 0)return!1;var d=this._paneRenderers[i];return d===void 0&&(d=this._createRenderer({pane:i}),this._paneRenderers[i]=d),d},_createRenderer:function(i){return this.options.preferCanvas&&vd(i)||Ol(i)}});var Vu=bo.extend({initialize:function(i,d){bo.prototype.initialize.call(this,this._boundsToLatLngs(i),d)},setBounds:function(i){return this.setLatLngs(this._boundsToLatLngs(i))},_boundsToLatLngs:function(i){return i=F(i),[i.getSouthWest(),i.getNorthWest(),i.getNorthEast(),i.getSouthEast()]}});function Nm(i,d){return new Vu(i,d)}Ss.create=In,Ss.pointsToPath=$t,Qn.geometryToLayer=ui,Qn.coordsToLatLng=Cl,Qn.coordsToLatLngs=va,Qn.latLngToCoords=kl,Qn.latLngsToCoords=Pl,Qn.getFeature=hi,Qn.asFeature=Tl,vt.mergeOptions({boxZoom:!0});var vi=mn.extend({initialize:function(i){this._map=i,this._container=i._container,this._pane=i._panes.overlayPane,this._resetStateTimeout=0,i.on("unload",this._destroy,this)},addHooks:function(){lt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Dt(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Gt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(i){if(!i.shiftKey||i.which!==1&&i.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),yt(),pl(),this._startPoint=this._map.mouseEventToContainerPoint(i),lt(document,{contextmenu:An,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(i){this._moved||(this._moved=!0,this._box=ht("div","leaflet-zoom-box",this._container),ut(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(i);var d=new A(this._point,this._startPoint),f=d.getSize();lr(this._box,d.min),this._box.style.width=f.x+"px",this._box.style.height=f.y+"px"},_finish:function(){this._moved&&(Gt(this._box),qt(this._container,"leaflet-crosshair")),si(),gl(),Dt(document,{contextmenu:An,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(i){if(!(i.which!==1&&i.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(u(this._resetState,this),0);var d=new V(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(d).fire("boxzoomend",{boxZoomBounds:d})}},_onKeyDown:function(i){i.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});vt.addInitHook("addHandler","boxZoom",vi),vt.mergeOptions({doubleClickZoom:!0});var Gu=mn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(i){var d=this._map,f=d.getZoom(),b=d.options.zoomDelta,C=i.originalEvent.shiftKey?f-b:f+b;d.options.doubleClickZoom==="center"?d.setZoom(C):d.setZoomAround(i.containerPoint,C)}});vt.addInitHook("addHandler","doubleClickZoom",Gu),vt.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var xd=mn.extend({addHooks:function(){if(!this._draggable){var i=this._map;this._draggable=new On(i._mapPane,i._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),i.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),i.on("zoomend",this._onZoomEnd,this),i.whenReady(this._onZoomEnd,this))}ut(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){qt(this._map._container,"leaflet-grab"),qt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var i=this._map;if(i._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var d=F(this._map.options.maxBounds);this._offsetLimit=H(this._map.latLngToContainerPoint(d.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(d.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;i.fire("movestart").fire("dragstart"),i.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(i){if(this._map.options.inertia){var d=this._lastTime=+new Date,f=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(f),this._times.push(d),this._prunePositions(d)}this._map.fire("move",i).fire("drag",i)},_prunePositions:function(i){for(;this._positions.length>1&&i-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var i=this._map.getSize().divideBy(2),d=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=d.subtract(i).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(i,d){return i-(i-d)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var i=this._draggable._newPos.subtract(this._draggable._startPos),d=this._offsetLimit;i.x<d.min.x&&(i.x=this._viscousLimit(i.x,d.min.x)),i.y<d.min.y&&(i.y=this._viscousLimit(i.y,d.min.y)),i.x>d.max.x&&(i.x=this._viscousLimit(i.x,d.max.x)),i.y>d.max.y&&(i.y=this._viscousLimit(i.y,d.max.y)),this._draggable._newPos=this._draggable._startPos.add(i)}},_onPreDragWrap:function(){var i=this._worldWidth,d=Math.round(i/2),f=this._initialWorldOffset,b=this._draggable._newPos.x,C=(b-d+f)%i+d-f,I=(b+d+f)%i-d-f,J=Math.abs(C+f)<Math.abs(I+f)?C:I;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=J},_onDragEnd:function(i){var d=this._map,f=d.options,b=!f.inertia||i.noInertia||this._times.length<2;if(d.fire("dragend",i),b)d.fire("moveend");else{this._prunePositions(+new Date);var C=this._lastPos.subtract(this._positions[0]),I=(this._lastTime-this._times[0])/1e3,J=f.easeLinearity,de=C.multiplyBy(J/I),ve=de.distanceTo([0,0]),Ne=Math.min(f.inertiaMaxSpeed,ve),De=de.multiplyBy(Ne/ve),et=Ne/(f.inertiaDeceleration*J),ft=De.multiplyBy(-et/2).round();!ft.x&&!ft.y?d.fire("moveend"):(ft=d._limitOffset(ft,d.options.maxBounds),$(function(){d.panBy(ft,{duration:et,easeLinearity:J,noMoveStart:!0,animate:!0})}))}}});vt.addInitHook("addHandler","dragging",xd),vt.mergeOptions({keyboard:!0,keyboardPanDelta:80});var yd=mn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(i){this._map=i,this._setPanDelta(i.options.keyboardPanDelta),this._setZoomDelta(i.options.zoomDelta)},addHooks:function(){var i=this._map._container;i.tabIndex<=0&&(i.tabIndex="0"),lt(i,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Dt(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var i=document.body,d=document.documentElement,f=i.scrollTop||d.scrollTop,b=i.scrollLeft||d.scrollLeft;this._map._container.focus(),window.scrollTo(b,f)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(i){var d=this._panKeys={},f=this.keyCodes,b,C;for(b=0,C=f.left.length;b<C;b++)d[f.left[b]]=[-1*i,0];for(b=0,C=f.right.length;b<C;b++)d[f.right[b]]=[i,0];for(b=0,C=f.down.length;b<C;b++)d[f.down[b]]=[0,i];for(b=0,C=f.up.length;b<C;b++)d[f.up[b]]=[0,-1*i]},_setZoomDelta:function(i){var d=this._zoomKeys={},f=this.keyCodes,b,C;for(b=0,C=f.zoomIn.length;b<C;b++)d[f.zoomIn[b]]=i;for(b=0,C=f.zoomOut.length;b<C;b++)d[f.zoomOut[b]]=-i},_addHooks:function(){lt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Dt(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(i){if(!(i.altKey||i.ctrlKey||i.metaKey)){var d=i.keyCode,f=this._map,b;if(d in this._panKeys){if(!f._panAnim||!f._panAnim._inProgress)if(b=this._panKeys[d],i.shiftKey&&(b=ae(b).multiplyBy(3)),f.options.maxBounds&&(b=f._limitOffset(ae(b),f.options.maxBounds)),f.options.worldCopyJump){var C=f.wrapLatLng(f.unproject(f.project(f.getCenter()).add(b)));f.panTo(C)}else f.panBy(b)}else if(d in this._zoomKeys)f.setZoom(f.getZoom()+(i.shiftKey?3:1)*this._zoomKeys[d]);else if(d===27&&f._popup&&f._popup.options.closeOnEscapeKey)f.closePopup();else return;An(i)}}});vt.addInitHook("addHandler","keyboard",yd),vt.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Bt=mn.extend({addHooks:function(){lt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Dt(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(i){var d=ku(i),f=this._map.options.wheelDebounceTime;this._delta+=d,this._lastMousePos=this._map.mouseEventToContainerPoint(i),this._startTime||(this._startTime=+new Date);var b=Math.max(f-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(u(this._performZoom,this),b),An(i)},_performZoom:function(){var i=this._map,d=i.getZoom(),f=this._map.options.zoomSnap||0;i._stop();var b=this._delta/(this._map.options.wheelPxPerZoomLevel*4),C=4*Math.log(2/(1+Math.exp(-Math.abs(b))))/Math.LN2,I=f?Math.ceil(C/f)*f:C,J=i._limitZoom(d+(this._delta>0?I:-I))-d;this._delta=0,this._startTime=null,J&&(i.options.scrollWheelZoom==="center"?i.setZoom(d+J):i.setZoomAround(this._lastMousePos,d+J))}});vt.addInitHook("addHandler","scrollWheelZoom",Bt);var bd=600;vt.mergeOptions({tapHold:ze.touchNative&&ze.safari&&ze.mobile,tapTolerance:15});var ba=mn.extend({addHooks:function(){lt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Dt(this._map._container,"touchstart",this._onDown,this)},_onDown:function(i){if(clearTimeout(this._holdTimeout),i.touches.length===1){var d=i.touches[0];this._startPos=this._newPos=new q(d.clientX,d.clientY),this._holdTimeout=setTimeout(u(function(){this._cancel(),this._isTapValid()&&(lt(document,"touchend",tr),lt(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",d))},this),bd),lt(document,"touchend touchcancel contextmenu",this._cancel,this),lt(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function i(){Dt(document,"touchend",tr),Dt(document,"touchend touchcancel",i)},_cancel:function(){clearTimeout(this._holdTimeout),Dt(document,"touchend touchcancel contextmenu",this._cancel,this),Dt(document,"touchmove",this._onMove,this)},_onMove:function(i){var d=i.touches[0];this._newPos=new q(d.clientX,d.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(i,d){var f=new MouseEvent(i,{bubbles:!0,cancelable:!0,view:window,screenX:d.screenX,screenY:d.screenY,clientX:d.clientX,clientY:d.clientY});f._simulated=!0,d.target.dispatchEvent(f)}});vt.addInitHook("addHandler","tapHold",ba),vt.mergeOptions({touchZoom:ze.touch,bounceAtZoomLimits:!0});var xi=mn.extend({addHooks:function(){ut(this._map._container,"leaflet-touch-zoom"),lt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){qt(this._map._container,"leaflet-touch-zoom"),Dt(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(i){var d=this._map;if(!(!i.touches||i.touches.length!==2||d._animatingZoom||this._zooming)){var f=d.mouseEventToContainerPoint(i.touches[0]),b=d.mouseEventToContainerPoint(i.touches[1]);this._centerPoint=d.getSize()._divideBy(2),this._startLatLng=d.containerPointToLatLng(this._centerPoint),d.options.touchZoom!=="center"&&(this._pinchStartLatLng=d.containerPointToLatLng(f.add(b)._divideBy(2))),this._startDist=f.distanceTo(b),this._startZoom=d.getZoom(),this._moved=!1,this._zooming=!0,d._stop(),lt(document,"touchmove",this._onTouchMove,this),lt(document,"touchend touchcancel",this._onTouchEnd,this),tr(i)}},_onTouchMove:function(i){if(!(!i.touches||i.touches.length!==2||!this._zooming)){var d=this._map,f=d.mouseEventToContainerPoint(i.touches[0]),b=d.mouseEventToContainerPoint(i.touches[1]),C=f.distanceTo(b)/this._startDist;if(this._zoom=d.getScaleZoom(C,this._startZoom),!d.options.bounceAtZoomLimits&&(this._zoom<d.getMinZoom()&&C<1||this._zoom>d.getMaxZoom()&&C>1)&&(this._zoom=d._limitZoom(this._zoom)),d.options.touchZoom==="center"){if(this._center=this._startLatLng,C===1)return}else{var I=f._add(b)._divideBy(2)._subtract(this._centerPoint);if(C===1&&I.x===0&&I.y===0)return;this._center=d.unproject(d.project(this._pinchStartLatLng,this._zoom).subtract(I),this._zoom)}this._moved||(d._moveStart(!0,!1),this._moved=!0),te(this._animRequest);var J=u(d._move,d,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=$(J,this,!0),tr(i)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,te(this._animRequest),Dt(document,"touchmove",this._onTouchMove,this),Dt(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});vt.addInitHook("addHandler","touchZoom",xi),vt.BoxZoom=vi,vt.DoubleClickZoom=Gu,vt.Drag=xd,vt.Keyboard=yd,vt.ScrollWheelZoom=Bt,vt.TapHold=ba,vt.TouchZoom=xi,r.Bounds=A,r.Browser=ze,r.CRS=pe,r.Canvas=gd,r.Circle=El,r.CircleMarker=Sl,r.Class=W,r.Control=nn,r.DivIcon=Al,r.DivOverlay=Yn,r.DomEvent=yl,r.DomUtil=ua,r.Draggable=On,r.Evented=_e,r.FeatureGroup=xo,r.GeoJSON=Qn,r.GridLayer=Zo,r.Handler=mn,r.Icon=js,r.ImageOverlay=Ko,r.LatLng=le,r.LatLngBounds=V,r.Layer=Mn,r.LayerGroup=Vo,r.LineUtil=Lu,r.Map=vt,r.Marker=yo,r.Mixin=nd,r.Path=Go,r.Point=q,r.PolyUtil=pm,r.Polygon=bo,r.Polyline=on,r.Popup=Rl,r.PosAnimation=bl,r.Projection=bm,r.Rectangle=Vu,r.Renderer=Jn,r.SVG=Ss,r.SVGOverlay=fd,r.TileLayer=Qo,r.Tooltip=mi,r.Transformation=$e,r.Util=U,r.VideoOverlay=hd,r.bind=u,r.bounds=H,r.canvas=vd,r.circle=ga,r.circleMarker=zu,r.control=Ho,r.divIcon=qu,r.extend=l,r.featureGroup=Du,r.geoJSON=$u,r.geoJson=Ln,r.gridLayer=pi,r.icon=Bu,r.imageOverlay=Fu,r.latLng=xe,r.latLngBounds=F,r.layerGroup=pa,r.map=Wo,r.marker=jm,r.point=ae,r.polygon=Em,r.polyline=Sm,r.popup=fi,r.rectangle=Nm,r.setOptions=N,r.stamp=m,r.svg=Ol,r.svgOverlay=md,r.tileLayer=pd,r.tooltip=xa,r.transformation=Ie,r.version=s,r.videoOverlay=Uu;var Ku=window.L;r.noConflict=function(){return window.L=Ku,this},window.L=r}))})(Zd,Zd.exports)),Zd.exports}var Vc=cD();const dD=fu(Vc);function lm(t,e,r){return Object.freeze({instance:t,context:e,container:r})}function cm(t,e){return e==null?function(s,l){const c=w.useRef();return c.current||(c.current=t(s,l)),c}:function(s,l){const c=w.useRef();c.current||(c.current=t(s,l));const u=w.useRef(s),{instance:p}=c.current;return w.useEffect(function(){u.current!==s&&(e(p,s,u.current),u.current=s)},[p,s,l]),c}}function ZS(t,e){w.useEffect(function(){return(e.layerContainer??e.map).addLayer(t.instance),function(){var c;(c=e.layerContainer)==null||c.removeLayer(t.instance),e.map.removeLayer(t.instance)}},[e,t])}function QS(t){return function(r){const s=lx(),l=t(am(r,s),s);return WS(s.map,r.attribution),cx(l.current,r.eventHandlers),ZS(l.current,s),l}}function uD(t,e){const r=w.useRef();w.useEffect(function(){if(e.pathOptions!==r.current){const l=e.pathOptions??{};t.instance.setStyle(l),r.current=l}},[t,e])}function hD(t){return function(r){const s=lx(),l=t(am(r,s),s);return cx(l.current,r.eventHandlers),ZS(l.current,s),uD(l.current,r),l}}function fD(t,e){const r=cm(t,e),s=QS(r);return KS(s)}function mD(t,e){const r=cm(t),s=aD(r,e);return sD(s)}function pD(t,e){const r=cm(t,e),s=hD(r);return KS(s)}function gD(t,e){const r=cm(t,e),s=QS(r);return iD(s)}function vD(t,e,r){const{opacity:s,zIndex:l}=e;s!=null&&s!==r.opacity&&t.setOpacity(s),l!=null&&l!==r.zIndex&&t.setZIndex(l)}function iv(){return iv=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},iv.apply(this,arguments)}function xD({bounds:t,boundsOptions:e,center:r,children:s,className:l,id:c,placeholder:u,style:p,whenReady:m,zoom:v,...y},x){const[S]=w.useState({className:l,id:c,style:p}),[E,k]=w.useState(null);w.useImperativeHandle(x,()=>(E==null?void 0:E.map)??null,[E]);const N=w.useCallback(O=>{if(O!==null&&E===null){const T=new Vc.Map(O,y);r!=null&&v!=null?T.setView(r,v):t!=null&&T.fitBounds(t,e),m!=null&&T.whenReady(m),k(oD(T))}},[]);w.useEffect(()=>()=>{E==null||E.map.remove()},[E]);const P=E?Te.createElement(GS,{value:E},s):u??null;return Te.createElement("div",iv({},S,{ref:N}),P)}const yD=w.forwardRef(xD),bD=fD(function({position:e,...r},s){const l=new Vc.Marker(e,r);return lm(l,HS(s,{overlayContainer:l}))},function(e,r,s){r.position!==s.position&&e.setLatLng(r.position),r.icon!=null&&r.icon!==s.icon&&e.setIcon(r.icon),r.zIndexOffset!=null&&r.zIndexOffset!==s.zIndexOffset&&e.setZIndexOffset(r.zIndexOffset),r.opacity!=null&&r.opacity!==s.opacity&&e.setOpacity(r.opacity),e.dragging!=null&&r.draggable!==s.draggable&&(r.draggable===!0?e.dragging.enable():e.dragging.disable())}),_D=pD(function({positions:e,...r},s){const l=new Vc.Polyline(e,r);return lm(l,HS(s,{overlayContainer:l}))},function(e,r,s){r.positions!==s.positions&&e.setLatLngs(r.positions)}),wD=mD(function(e,r){const s=new Vc.Popup(e,r.overlayContainer);return lm(s,r)},function(e,r,{position:s},l){w.useEffect(function(){const{instance:u}=e;function p(v){v.popup===u&&(u.update(),l(!0))}function m(v){v.popup===u&&l(!1)}return r.map.on({popupopen:p,popupclose:m}),r.overlayContainer==null?(s!=null&&u.setLatLng(s),u.openOn(r.map)):r.overlayContainer.bindPopup(u),function(){var y;r.map.off({popupopen:p,popupclose:m}),(y=r.overlayContainer)==null||y.unbindPopup(),r.map.removeLayer(u)}},[e,r,l,s])}),jD=gD(function({url:e,...r},s){const l=new Vc.TileLayer(e,am(r,s));return lm(l,s)},function(e,r,s){vD(e,r,s);const{url:l}=r;l!=null&&l!==s.url&&e.setUrl(l)}),SD=(t,e)=>dD.divIcon({className:"custom-marker",html:`
      <div style="
        background-color: ${e};
        color: white;
        width: 28px;
        height: 28px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-weight: bold;
        font-size: 12px;
        border: 2px solid white;
        box-shadow: 0 2px 4px rgba(0,0,0,0.3);
      ">
        ${t}
      </div>
    `,iconSize:[28,28],iconAnchor:[14,14],popupAnchor:[0,-14]}),lg={};function ED(){var Or,Hr;const t=Er(),e=mo(),{user:r,userType:s}=ll(),[l,c]=w.useState(null),[u,p]=w.useState(new Date),[m,v]=w.useState(new Date),[y,x]=w.useState("todos"),[S,E]=w.useState("todos"),[k,N]=w.useState("todos"),[P,O]=w.useState(""),[T,R]=w.useState({}),[D,K]=w.useState(!1),[B,Q]=w.useState({}),[ne,we]=w.useState(!1),ee=[{value:"Em Rota",label:"A Caminho",icon:Ao,bg:"bg-fuchsia-100",text:"text-fuchsia-800",color:"#890d5d"},{value:"Iniciar",label:"Iniciar",icon:T1,bg:"bg-yellow-100",text:"text-yellow-800",color:"#ca8a04"},{value:"Entregue",label:"Entregue",icon:ea,bg:"bg-green-100",text:"text-green-800",color:"#15803d"},{value:"Pendente",label:"Pendente",icon:k1,bg:"bg-orange-100",text:"text-orange-800",color:"#c2410c"},{value:"Voltou p/ Farmcia",label:"Voltou",icon:R1,bg:"bg-red-100",text:"text-red-800",color:"#b91c1c"}],$="Em Rota",te=ie=>ie?{"A Caminho":"Em Rota","No Entregue":"Voltou p/ Farmcia"}[ie]||ie:$,[U,W]=w.useState(null),be=s==="motoboy",me=r==null?void 0:r.nome_motoboy,{data:_e=[]}=fn({queryKey:["motoboys-lista"],queryFn:async()=>{const{data:ie,error:Ee}=await Le.from("motoboys").select("*").order("nome");if(Ee)throw Ee;return ie||[]}});w.useEffect(()=>{if(_e.length>0&&!l){if(be&&me){const ie=_e.find(Ee=>Ee.nome.toLowerCase()===me.toLowerCase());if(ie){c(ie.id);return}}c(_e[0].id)}},[_e,l,be,me]);const{data:q=[],isLoading:je}=fn({queryKey:["entregas-motoboy-all"],queryFn:async()=>{const{data:ie,error:Ee}=await Le.from("entregas").select(`
          *,
          cliente:clientes(id, nome, telefone),
          endereco:enderecos(id, logradouro, numero, bairro, cidade, complemento),
          motoboy:motoboys(id, nome)
        `).eq("tipo","moto").order("data_entrega",{ascending:!0});if(Ee)throw Ee;return ie||[]},refetchOnMount:"always",staleTime:0}),ae=q.filter(ie=>{var Ee;return((Ee=ie.motoboy)==null?void 0:Ee.id)===l}),A=ae.filter(ie=>{if(!ie.data_entrega)return!1;const Ee=new Date(ie.data_entrega+"T00:00:00");return hn(Ee,u)}),H=A.filter(ie=>{var Ee,G,z,Y,ce,ge,Ke,Re,at,dt,Xe,Tt,It,zr,Hn,st,Ft;if(y!=="todos"&&((Ee=ie.endereco)==null?void 0:Ee.cidade)!==y||S!=="todos"&&ie.periodo!==S||k!=="todos"&&te(ie.status)!==k)return!1;if(P.trim()){const St=P.toLowerCase().trim(),yr=((z=(G=ie.cliente)==null?void 0:G.nome)==null?void 0:z.toLowerCase())||"",Vn=((ce=(Y=ie.cliente)==null?void 0:Y.telefone)==null?void 0:ce.toLowerCase())||"",Ut=((Ke=(ge=ie.endereco)==null?void 0:ge.logradouro)==null?void 0:Ke.toLowerCase())||"",ar=((at=(Re=ie.endereco)==null?void 0:Re.bairro)==null?void 0:at.toLowerCase())||"",Gn=((Xe=(dt=ie.endereco)==null?void 0:dt.cidade)==null?void 0:Xe.toLowerCase())||"",hr=((It=(Tt=ie.endereco)==null?void 0:Tt.numero)==null?void 0:It.toLowerCase())||"",$r=((Hn=(zr=ie.endereco)==null?void 0:zr.complemento)==null?void 0:Hn.toLowerCase())||"",fr=String(ie.requisicao||"").toLowerCase(),ze=((st=ie.observacao)==null?void 0:st.toLowerCase())||"",Uo=((Ft=ie.forma_pagamento)==null?void 0:Ft.toLowerCase())||"";if(!(yr.includes(St)||Vn.includes(St)||Ut.includes(St)||ar.includes(St)||Gn.includes(St)||hr.includes(St)||$r.includes(St)||fr.includes(St)||ze.includes(St)||Uo.includes(St)))return!1}return!0});H.reduce((ie,Ee)=>{var z;const G=((z=Ee.endereco)==null?void 0:z.cidade)||"Sem cidade";return ie[G]||(ie[G]=[]),ie[G].push(Ee),ie},{});const V=[...new Set(A.map(ie=>{var Ee;return(Ee=ie.endereco)==null?void 0:Ee.cidade}).filter(Boolean))],F=ee.map(ie=>({...ie,quantidade:A.filter(Ee=>te(Ee.status)===ie.value).length})),le=V.map(ie=>{const Ee=A.filter(G=>{var z;return((z=G.endereco)==null?void 0:z.cidade)===ie});return{cidade:ie,quantidade:Ee.length,valor:Ee.reduce((G,z)=>G+(parseFloat(z.valor)||0),0),taxa:Ee.reduce((G,z)=>G+(parseFloat(z.taxa)||0),0)}}),xe=le.reduce((ie,Ee)=>ie+Ee.valor,0);le.reduce((ie,Ee)=>ie+Ee.taxa,0);const se=(()=>{const ie=Pc(u,{weekStartsOn:0}),Ee=[];for(let G=0;G<7;G++){const z=HM(ie,G),Y=wt(z,"yyyy-MM-dd"),ce=ae.filter(ge=>ge.data_entrega===Y);Ee.push({nome:wt(z,"EEEE",{locale:Ks}),data:z,dataStr:Y,quantidade:ce.length,valor:ce.reduce((ge,Ke)=>ge+(parseFloat(Ke.valor)||0),0)})}return Ee})(),Pe=se.reduce((ie,Ee)=>ie+Ee.valor,0),Me=ox({start:au(m),end:nx(m)}),$e=new Set(ae.map(ie=>ie.data_entrega)),Ie=en({mutationFn:async({id:ie,status:Ee})=>{const{error:G}=await Le.from("entregas").update({status:Ee}).eq("id",ie);if(G)throw G},onSuccess:()=>{e.invalidateQueries({queryKey:["entregas-motoboy-all"]}),Se.success("Status atualizado!")},onError:()=>{Se.error("Erro ao atualizar status")}}),nt=(ie,Ee)=>{Ie.mutate({id:ie,status:Ee})},it=en({mutationFn:async ie=>{const Ee=Object.entries(ie).map(async([G,z])=>{const{error:Y}=await Le.from("entregas").update({ordem_entrega:z}).eq("id",G);if(Y)throw Y});await Promise.all(Ee)},onSuccess:()=>{e.invalidateQueries({queryKey:["entregas-motoboy-all"]}),Se.success("Ordem salva!")},onError:ie=>{console.error("Erro ao salvar ordem:",ie),Se.error("Erro ao salvar ordem. O campo pode no existir no banco.")}}),Lt=(ie,Ee,G)=>{W({entrega:Ee,cidade:G}),ie.dataTransfer.effectAllowed="move"},$t=ie=>{ie.preventDefault(),ie.dataTransfer.dropEffect="move"},Pt=(ie,Ee,G)=>{if(ie.preventDefault(),!U||U.entrega.id===Ee.id)return;if(U.cidade!==G){Se.error("S  possvel reorganizar entregas da mesma cidade");return}const z=G,Y=H.filter(dt=>{var Xe;return(((Xe=dt.endereco)==null?void 0:Xe.cidade)||"Sem cidade")===z}).sort((dt,Xe)=>(T[dt.id]??dt.ordem_entrega??999)-(T[Xe.id]??Xe.ordem_entrega??999)),ce=Y.findIndex(dt=>dt.id===U.entrega.id),ge=Y.findIndex(dt=>dt.id===Ee.id);if(ce===-1||ge===-1)return;const Ke=[...Y],[Re]=Ke.splice(ce,1);Ke.splice(ge,0,Re);const at={...T};Ke.forEach((dt,Xe)=>{at[dt.id]=Xe}),R(at),W(null),it.mutate(at)},_t=()=>{W(null)},Nt=ie=>[...ie].sort((Ee,G)=>{const z=T[Ee.id]??Ee.ordem_entrega??999,Y=T[G.id]??G.ordem_entrega??999;return z-Y}),ur=ie=>{const Ee=`${ie.logradouro}, ${ie.numero}, ${ie.bairro}, ${ie.cidade}`;window.open(`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(Ee)}`,"_blank")};_e.find(ie=>ie.id===l);const xr=async ie=>{const Ee=`${ie.logradouro}, ${ie.numero}, ${ie.bairro}, ${ie.cidade}, Brasil`;if(lg[Ee])return lg[Ee];try{const z=await(await fetch(`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(Ee)}&limit=1`)).json();if(z&&z.length>0){const Y={lat:parseFloat(z[0].lat),lng:parseFloat(z[0].lon)};return lg[Ee]=Y,Y}}catch(G){console.error("Erro ao geocodificar:",G)}return null};w.useEffect(()=>{(async()=>{if(!D||H.length===0)return;we(!0);const Ee={...B};for(const G of H){if(!G.endereco||Ee[G.id])continue;const z=await xr(G.endereco);z&&(Ee[G.id]=z),await new Promise(Y=>setTimeout(Y,300))}Q(Ee),we(!1)})()},[D,H.length]);const jt=w.useMemo(()=>{const ie=Object.values(B);if(ie.length===0)return[-23.5505,-46.6333];const Ee=ie.reduce((z,Y)=>z+Y.lat,0)/ie.length,G=ie.reduce((z,Y)=>z+Y.lng,0)/ie.length;return[Ee,G]},[B]),Vt=w.useMemo(()=>Nt(H),[H,T]),kn=w.useMemo(()=>Vt.filter(ie=>B[ie.id]).map(ie=>[B[ie.id].lat,B[ie.id].lng]),[Vt,B]),Wn=QL(au(m));return n.jsxs("div",{className:"min-h-screen",style:{backgroundColor:he.colors.background},children:[n.jsx("div",{className:"py-8 shadow-sm",style:{background:"linear-gradient(135deg, #457bba 0%, #890d5d 100%)"},children:n.jsx("div",{className:"max-w-7xl mx-auto px-6",children:n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("div",{className:"flex items-center gap-4",children:[!be&&n.jsx("button",{onClick:()=>t(-1),className:"p-2 rounded-lg bg-white/20 hover:bg-white/30 transition-colors",children:n.jsx(vr,{className:"w-6 h-6 text-white"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-4xl font-bold text-white",children:be?"Minhas Entregas":"Painel do Motoboy"}),n.jsxs("p",{className:"text-base text-white opacity-90 mt-1",children:["Ol, ",me||(r==null?void 0:r.nome)||"Motoboy"]})]})]})})})}),n.jsx("div",{className:"max-w-7xl mx-auto px-6 py-6",children:n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"space-y-4",children:[!be&&n.jsxs("div",{className:"rounded-xl p-4",style:{backgroundColor:"#890d5d"},children:[n.jsx("label",{className:"block text-sm font-semibold text-white mb-2",children:"Selecione o Motoboy"}),n.jsx(kt,{options:_e.map(ie=>({value:ie.id,label:ie.nome})),value:l||"",onChange:c,placeholder:"Selecione o motoboy"})]}),n.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("button",{onClick:()=>v(sx(m)),className:"p-1 hover:bg-slate-100 rounded",children:n.jsx(vr,{className:"w-4 h-4 text-slate-600"})}),n.jsx("span",{className:"text-sm font-medium text-slate-700",children:wt(m,"MMMM yyyy",{locale:Ks})}),n.jsx("button",{onClick:()=>v(om(m,1)),className:"p-1 hover:bg-slate-100 rounded",children:n.jsx(Bc,{className:"w-4 h-4 text-slate-600"})})]}),n.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:["dom","seg","ter","qua","qui","sex","sb"].map(ie=>n.jsx("div",{className:"text-center text-xs font-medium text-slate-500 py-1",children:ie},ie))}),n.jsxs("div",{className:"grid grid-cols-7 gap-1",children:[Array.from({length:Wn}).map((ie,Ee)=>n.jsx("div",{className:"aspect-square"},`empty-${Ee}`)),Me.map(ie=>{const Ee=wt(ie,"yyyy-MM-dd"),G=$e.has(Ee),z=hn(ie,u),Y=hn(ie,new Date);return n.jsx("button",{onClick:()=>p(ie),className:`aspect-square flex items-center justify-center text-sm rounded-lg transition-all relative
                        ${z?"text-white font-bold":Y?"font-semibold":G?"font-medium hover:opacity-80":"text-slate-600 hover:bg-slate-100"}`,style:{backgroundColor:z?he.colors.primary:Y?"#f3e8ff":G?"#fef3c7":"transparent",color:z?"white":Y?he.colors.secondary:G?"#92400e":void 0},children:wt(ie,"d")},Ee)})]}),n.jsxs("div",{className:"mt-4 pt-4 border-t border-slate-200 text-center",children:[n.jsx("p",{className:"text-sm font-semibold text-slate-700",children:wt(u,"d 'de' MMMM",{locale:Ks})}),n.jsxs("p",{className:"text-xs text-slate-500",children:[A.length," entrega",A.length!==1?"s":""]})]})]}),n.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-4",children:[n.jsx("h3",{className:"font-semibold text-slate-700 mb-3",children:"Resumo do Dia"}),n.jsxs("div",{className:"flex items-center justify-between text-xs text-slate-500 mb-2 pb-2 border-b border-slate-100",children:[n.jsx("span",{children:"Local"}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("span",{className:"w-8 text-center",children:"Qtd"}),n.jsx("span",{className:"w-20 text-right",children:"Valor"})]})]}),n.jsx("div",{className:"space-y-2",children:le.map(ie=>n.jsxs("div",{className:"flex items-center justify-between text-sm",children:[n.jsx("span",{className:"text-slate-600",children:ie.cidade}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("span",{className:"text-slate-500 w-8 text-center",children:[ie.quantidade,"x"]}),n.jsxs("span",{className:"font-medium w-20 text-right",style:{color:he.colors.primary},children:["R$ ",ie.valor.toFixed(2)]})]})]},ie.cidade))}),n.jsx("div",{className:"mt-3 pt-3 border-t border-slate-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"font-bold text-slate-700",children:"TOTAL ENTREGAS"}),n.jsxs("span",{className:"font-bold text-lg",style:{color:he.colors.primary},children:["R$ ",xe.toFixed(2)]})]})})]}),n.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsx("h3",{className:"font-semibold text-slate-700",children:"Semana - Aguardando"}),n.jsxs("span",{className:"text-xs text-slate-500",children:[wt(((Or=se[0])==null?void 0:Or.data)||new Date,"dd/MM")," - ",wt(((Hr=se[6])==null?void 0:Hr.data)||new Date,"dd/MM")]})]}),n.jsx("div",{className:"space-y-1",children:se.map(ie=>n.jsxs("div",{className:"flex items-center justify-between text-xs py-1 px-2 rounded",style:{backgroundColor:hn(ie.data,u)?"#e8f0f8":"transparent"},children:[n.jsx("span",{className:"text-slate-600 capitalize w-20",children:ie.nome.slice(0,3)}),n.jsx("span",{className:"text-slate-500",children:wt(ie.data,"dd/MM")}),n.jsxs("span",{className:"text-slate-500",children:[ie.quantidade,"x"]}),n.jsxs("span",{className:`font-semibold ${ie.valor>0?"text-green-600":"text-slate-400"}`,children:["R$ ",ie.valor.toFixed(2)]})]},ie.dataStr))}),n.jsxs("div",{className:"mt-3 pt-3 border-t border-slate-200 flex items-center justify-between",children:[n.jsx("span",{className:"font-bold text-slate-700",children:"TOTAL"}),n.jsxs("span",{className:"font-bold text-green-600",children:["R$ ",Pe.toFixed(2)]})]})]})]}),n.jsxs("div",{className:"lg:col-span-2 space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 md:grid-cols-6 gap-4",children:[n.jsxs("div",{onClick:()=>N("todos"),className:"bg-white rounded-xl shadow-sm p-5 cursor-pointer transition-all hover:shadow-md",style:{border:k==="todos"?`2px solid ${he.colors.primary}`:"2px solid transparent"},children:[n.jsxs("div",{className:"flex items-center justify-center gap-2 mb-3",children:[n.jsx("div",{className:"p-2 rounded-lg",style:{backgroundColor:"#E8F0F8"},children:n.jsx(uo,{className:"w-6 h-6",style:{color:he.colors.primary}})}),n.jsx("span",{className:"text-sm font-bold text-slate-700",children:"Todas"})]}),n.jsx("div",{className:"text-4xl font-bold text-center",style:{color:he.colors.primary},children:A.length})]}),F.map(ie=>{const Ee=ie.icon,G=k===ie.value,z=ie.color+"15";return n.jsxs("div",{onClick:()=>N(G?"todos":ie.value),className:"bg-white rounded-xl shadow-sm p-5 cursor-pointer transition-all hover:shadow-md",style:{border:G?`2px solid ${ie.color}`:"2px solid transparent"},children:[n.jsxs("div",{className:"flex items-center justify-center gap-2 mb-3",children:[n.jsx("div",{className:"p-2 rounded-lg",style:{backgroundColor:z},children:n.jsx(Ee,{className:"w-6 h-6",style:{color:ie.color}})}),n.jsx("span",{className:"text-sm font-bold text-slate-700",children:ie.label})]}),n.jsx("div",{className:"text-4xl font-bold text-center",style:{color:ie.color},children:ie.quantidade})]},ie.value)})]}),n.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-4",children:[n.jsx("h3",{className:"font-semibold text-slate-700 mb-3",children:"Filtros"}),n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-xs font-medium text-slate-500 mb-1",children:"Buscar"}),n.jsxs("div",{className:"relative",children:[n.jsx(fo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-slate-400"}),n.jsx("input",{type:"text",placeholder:"Nome, endereo, requisio...",value:P,onChange:ie=>O(ie.target.value),className:"w-full border border-slate-300 rounded-lg pl-10 pr-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),P&&n.jsx("button",{onClick:()=>O(""),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-slate-400 hover:text-slate-600",children:n.jsx(qv,{className:"w-4 h-4"})})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsx(kt,{label:"Local",options:[{value:"todos",label:"Todos os Locais"},...V.map(ie=>({value:ie,label:ie}))],value:y,onChange:x,placeholder:"Selecione o local"}),n.jsx(kt,{label:"Perodo",options:[{value:"todos",label:"Todos os Perodos"},{value:"Manh",label:"Manh"},{value:"Tarde",label:"Tarde"}],value:S,onChange:E,placeholder:"Selecione o perodo"})]}),n.jsxs("button",{onClick:()=>K(!D),className:"mt-4 w-full flex items-center justify-center gap-2 py-3 rounded-lg font-semibold text-sm transition-all",style:{backgroundColor:D?"#890d5d":"#E8F0F8",color:D?"white":"#890d5d"},children:[n.jsx(ib,{className:"w-5 h-5"}),D?"Ocultar Mapa da Rota":"Ver Mapa da Rota"]})]}),D&&n.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-4",children:[n.jsxs("h3",{className:"font-semibold text-slate-700 mb-3 flex items-center gap-2",children:[n.jsx(ib,{className:"w-5 h-5",style:{color:"#890d5d"}}),"Mapa da Rota - ",H.length," entregas"]}),ne&&n.jsxs("div",{className:"flex items-center justify-center py-4 text-slate-500 text-sm",children:[n.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-purple-700 mr-2"}),"Carregando localizaes..."]}),n.jsx("div",{className:"rounded-lg overflow-hidden border border-slate-200",style:{height:"400px"},children:n.jsxs(yD,{center:jt,zoom:12,style:{height:"100%",width:"100%"},children:[n.jsx(jD,{attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a>',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),kn.length>1&&n.jsx(_D,{positions:kn,color:"#890d5d",weight:3,opacity:.7,dashArray:"10, 10"}),Vt.map((ie,Ee)=>{var ce,ge,Ke,Re,at;const G=B[ie.id];if(!G)return null;const z=ee.find(dt=>dt.value===te(ie.status)),Y=(z==null?void 0:z.color)||"#890d5d";return n.jsx(bD,{position:[G.lat,G.lng],icon:SD(Ee+1,Y),children:n.jsx(wD,{children:n.jsxs("div",{className:"text-sm",children:[n.jsxs("div",{className:"font-bold text-slate-800 mb-1",children:["#",Ee+1," - ",((ce=ie.cliente)==null?void 0:ce.nome)||"Cliente"]}),n.jsxs("div",{className:"text-slate-600 text-xs mb-1",children:["REQ #",ie.requisicao||"0000"]}),n.jsxs("div",{className:"text-slate-500 text-xs",children:[(ge=ie.endereco)==null?void 0:ge.logradouro,", ",(Ke=ie.endereco)==null?void 0:Ke.numero]}),n.jsxs("div",{className:"text-slate-500 text-xs",children:[(Re=ie.endereco)==null?void 0:Re.bairro," - ",(at=ie.endereco)==null?void 0:at.cidade]}),n.jsx("div",{className:"mt-2 text-xs font-medium",style:{color:Y},children:(z==null?void 0:z.label)||"Em Rota"})]})})},ie.id)})]},jt.join(","))}),n.jsx("div",{className:"mt-3 flex flex-wrap gap-2",children:ee.map(ie=>n.jsxs("div",{className:"flex items-center gap-1 text-xs",children:[n.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:ie.color}}),n.jsx("span",{className:"text-slate-600",children:ie.label})]},ie.value))})]}),n.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-500 px-2",children:[n.jsx(zR,{className:"w-4 h-4"}),n.jsx("span",{children:"Arraste as entregas para reorganizar sua rota"})]}),H.length>0?n.jsxs(n.Fragment,{children:[(()=>{const ie=H.filter(Ee=>Ee.periodo==="Manh");return ie.length===0?null:n.jsxs("div",{className:"mb-6",children:[n.jsx("div",{className:"mb-4",children:n.jsxs("h2",{className:"text-2xl font-bold text-slate-900 flex items-center gap-3",children:[n.jsx(O1,{className:"w-8 h-8",style:{color:"#eab308"}}),"Entregas da Manh",n.jsx("span",{className:"text-lg font-semibold px-4 py-1 rounded-full bg-slate-100 text-slate-700",children:ie.length})]})}),n.jsx("div",{className:"space-y-3",children:Nt(ie).map((Ee,G)=>{var z;return n.jsx(cg,{entrega:Ee,index:G+1,cidade:((z=Ee.endereco)==null?void 0:z.cidade)||"Sem cidade",onStatusChange:nt,isUpdating:Ie.isPending,onAbrirMapa:ur,onDragStart:Lt,onDragOver:$t,onDrop:Pt,onDragEnd:_t,isDragging:(U==null?void 0:U.entrega.id)===Ee.id,statusOptions:ee,normalizarStatus:te},Ee.id)})})]})})(),(()=>{const ie=H.filter(Ee=>Ee.periodo==="Tarde");return ie.length===0?null:n.jsxs("div",{className:"mb-6",children:[n.jsx("div",{className:"mb-4",children:n.jsxs("h2",{className:"text-2xl font-bold text-slate-900 flex items-center gap-3",children:[n.jsx(Uv,{className:"w-8 h-8",style:{color:"#f97316"}}),"Entregas da Tarde",n.jsx("span",{className:"text-lg font-semibold px-4 py-1 rounded-full bg-slate-100 text-slate-700",children:ie.length})]})}),n.jsx("div",{className:"space-y-3",children:Nt(ie).map((Ee,G)=>{var z;return n.jsx(cg,{entrega:Ee,index:G+1,cidade:((z=Ee.endereco)==null?void 0:z.cidade)||"Sem cidade",onStatusChange:nt,isUpdating:Ie.isPending,onAbrirMapa:ur,onDragStart:Lt,onDragOver:$t,onDrop:Pt,onDragEnd:_t,isDragging:(U==null?void 0:U.entrega.id)===Ee.id,statusOptions:ee,normalizarStatus:te},Ee.id)})})]})})(),(()=>{const ie=H.filter(Ee=>!Ee.periodo||Ee.periodo!=="Manh"&&Ee.periodo!=="Tarde");return ie.length===0?null:n.jsxs("div",{className:"mb-6",children:[n.jsx("div",{className:"mb-4",children:n.jsxs("h2",{className:"text-2xl font-bold text-slate-900 flex items-center gap-3",children:[n.jsx(co,{className:"w-8 h-8",style:{color:"#64748b"}}),"Sem Perodo Definido",n.jsx("span",{className:"text-lg font-semibold px-4 py-1 rounded-full bg-slate-100 text-slate-700",children:ie.length})]})}),n.jsx("div",{className:"space-y-3",children:Nt(ie).map((Ee,G)=>{var z;return n.jsx(cg,{entrega:Ee,index:G+1,cidade:((z=Ee.endereco)==null?void 0:z.cidade)||"Sem cidade",onStatusChange:nt,isUpdating:Ie.isPending,onAbrirMapa:ur,onDragStart:Lt,onDragOver:$t,onDrop:Pt,onDragEnd:_t,isDragging:(U==null?void 0:U.entrega.id)===Ee.id,statusOptions:ee,normalizarStatus:te},Ee.id)})})]})})()]}):n.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-12 text-center",children:[n.jsx(uo,{className:"w-12 h-12 text-slate-300 mx-auto mb-3"}),n.jsx("p",{className:"text-slate-500",children:"Nenhuma entrega para este dia"})]})]})]})})]})}function cg({entrega:t,index:e,totalEntregas:r,onStatusChange:s,isUpdating:l,onAbrirMapa:c,onMoverEntrega:u,onVerDetalhes:p,statusOptions:m,normalizarStatus:v}){var P,O,T,R,D;const y=K=>{const B=m==null?void 0:m.find(Q=>Q.value===K);if(B)return{bg:B.bg,text:B.text,label:B.label,color:B.color};switch(K){case"A Caminho":return{bg:"bg-blue-100",text:"text-blue-700",label:"Em Rota",color:"#3b82f6"};case"No Entregue":return{bg:"bg-red-100",text:"text-red-700",label:"Voltou",color:"#ef4444"};default:return{bg:"bg-blue-100",text:"text-blue-700",label:"Em Rota",color:"#3b82f6"}}},x=v?v(t.status):t.status,S=y(x),E=["Receber Dinheiro","Receber Mquina","Pagar MP"].includes(t.forma_pagamento),k=parseFloat(t.valor_venda)||parseFloat(t.valor)||0,N=t.precisa_troco&&t.valor_troco>0;return n.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 overflow-hidden transition-all hover:shadow-md",children:[n.jsx("div",{className:"p-5",children:n.jsxs("div",{className:"flex items-start justify-between gap-4",children:[n.jsxs("div",{className:"flex flex-col items-center gap-1 pt-1",children:[n.jsx("button",{onClick:()=>u(t.id,"up"),disabled:e===1,className:`p-1 rounded transition-colors ${e===1?"text-slate-200 cursor-not-allowed":"text-slate-400 hover:text-slate-600 hover:bg-slate-100"}`,children:n.jsx(j1,{className:"w-5 h-5"})}),n.jsxs("span",{className:"text-sm font-bold text-slate-500",children:["#",e]}),n.jsx("button",{onClick:()=>u(t.id,"down"),disabled:e===r,className:`p-1 rounded transition-colors ${e===r?"text-slate-200 cursor-not-allowed":"text-slate-400 hover:text-slate-600 hover:bg-slate-100"}`,children:n.jsx(Hf,{className:"w-5 h-5"})})]}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2 flex-wrap",children:[n.jsxs("span",{className:"text-base font-semibold",style:{color:"#376295"},children:["#",t.requisicao||"0000"]}),t.atendente&&n.jsxs(n.Fragment,{children:[n.jsx("span",{className:"text-slate-400",children:""}),n.jsxs("span",{className:"text-sm font-medium text-slate-600 flex items-center gap-1",children:[n.jsx(Un,{className:"w-3.5 h-3.5"}),t.atendente]})]}),n.jsx("span",{className:"px-3 py-1 rounded text-xs font-medium",style:{backgroundColor:S.color+"20",color:S.color},children:S.label})]}),n.jsx("h3",{className:"text-lg font-bold text-slate-900 mb-2",children:((P=t.cliente)==null?void 0:P.nome)||"Cliente"}),n.jsxs("div",{className:"mb-3 text-sm text-slate-600",children:[n.jsx("span",{children:t.endereco?`${t.endereco.logradouro}, ${t.endereco.numero} - ${t.endereco.bairro} - ${t.endereco.cidade}`:"Endereo no informado"}),((O=t.endereco)==null?void 0:O.complemento)&&n.jsxs("span",{className:"text-slate-500",children:[" (A/C: ",t.endereco.complemento,")"]}),((T=t.endereco)==null?void 0:T.referencia)&&n.jsxs("p",{className:"text-xs mt-1",style:{color:"#890d5d"},children:["Ref: ",t.endereco.referencia]})]}),n.jsxs("div",{className:"flex flex-wrap gap-3 text-sm text-slate-900 mb-2",children:[((R=t.cliente)==null?void 0:R.telefone)&&n.jsxs("a",{href:`tel:${t.cliente.telefone}`,className:"flex items-center gap-1.5 hover:text-blue-600",children:[n.jsx(ou,{className:"w-4 h-4",style:{color:"#1e293b"}}),n.jsx("span",{children:t.cliente.telefone})]}),t.forma_pagamento&&n.jsxs("div",{className:"flex items-center gap-1.5 flex-wrap",children:[n.jsx(Pf,{className:"w-4 h-4",style:{color:"#1e293b"}}),n.jsx("span",{children:t.forma_pagamento})]})]}),E&&k>0&&n.jsxs("div",{className:"mt-3 p-3 rounded-lg",style:{backgroundColor:"#e8f5e9",border:"2px solid #4caf50"},children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx(zc,{className:"w-5 h-5",style:{color:"#1b5e20"}}),n.jsx("span",{className:"font-bold text-sm",style:{color:"#1b5e20"},children:"COBRAR NA ENTREGA:"})]}),n.jsxs("div",{className:"text-2xl font-bold",style:{color:"#1b5e20"},children:["R$ ",k.toFixed(2)]}),N&&n.jsxs("div",{className:"mt-2 flex items-center gap-2 p-2 rounded",style:{backgroundColor:"#fff3e0",border:"1px solid #ff9800"},children:[n.jsx(Kg,{className:"w-4 h-4",style:{color:"#e65100"}}),n.jsxs("span",{className:"font-bold text-sm",style:{color:"#e65100"},children:["LEVAR TROCO: R$ ",parseFloat(t.valor_troco).toFixed(2)]})]})]}),(t.observacao||t.observacoes)&&n.jsxs("div",{className:"mt-3 text-sm text-slate-600 italic bg-slate-50 p-3 rounded-lg border border-slate-200",children:[n.jsx("span",{className:"font-semibold not-italic",children:"Obs:"})," ",t.observacao||t.observacoes]})]}),n.jsxs("div",{className:"flex flex-col items-end gap-3",children:[(t.item_geladeira||t.buscar_receita||t.reter_receita)&&n.jsxs("div",{className:"flex flex-col gap-2",children:[t.item_geladeira&&n.jsxs("span",{className:"px-3 py-2 rounded text-sm font-semibold flex items-center gap-2",style:{backgroundColor:"#cffafe",color:"#0c4a6e",border:"2px solid #06b6d4"},children:[n.jsx(Gg,{className:"w-5 h-5"}),"Geladeira"]}),(t.buscar_receita||t.reter_receita)&&n.jsxs("span",{className:"px-3 py-2 rounded text-sm font-semibold flex items-center gap-2",style:{backgroundColor:"#fef3c7",color:"#92400e",border:"2px solid #f59e0b"},children:[n.jsx(tn,{className:"w-5 h-5"}),"Reter Receita"]})]}),n.jsxs("div",{className:"text-right",children:[n.jsxs("div",{className:"text-xl font-bold",style:{color:"#376295"},children:["R$ ",(parseFloat(t.valor)||0).toFixed(2)]}),n.jsx("div",{className:"text-sm font-medium",style:{color:"#376295"},children:t.regiao||((D=t.endereco)==null?void 0:D.cidade)})]})]})]})}),n.jsxs("div",{className:"px-5 py-3 bg-slate-50 border-t border-slate-200",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[n.jsxs("button",{onClick:()=>c(t.endereco),className:"flex-1 flex items-center justify-center gap-2 py-2 border border-slate-300 rounded-lg text-sm font-medium text-slate-700 hover:bg-white transition-colors",children:[n.jsx(ZR,{className:"w-4 h-4"}),"Abrir no Mapa"]}),n.jsxs("button",{onClick:()=>p(t),className:"flex-1 flex items-center justify-center gap-2 py-2 border border-slate-300 rounded-lg text-sm font-medium text-slate-700 hover:bg-white transition-colors",children:[n.jsx(N1,{className:"w-4 h-4"}),"Ver Romaneio"]})]}),n.jsx("div",{className:"grid grid-cols-5 gap-2",children:m==null?void 0:m.map(K=>{const B=K.icon,Q=x===K.value;return n.jsxs("button",{onClick:()=>!Q&&s(t.id,K.value),disabled:l,className:`flex flex-col items-center justify-center gap-1 py-2 px-1 rounded-lg transition-all text-xs font-semibold ${Q?"ring-4 ring-offset-2 shadow-lg scale-105":"hover:scale-105 hover:shadow-md"}`,style:{backgroundColor:K.color,color:"white","--tw-ring-color":K.color,opacity:l?.5:Q?1:.5},children:[n.jsx(B,{className:"w-4 h-4"}),n.jsx("span",{className:"truncate w-full text-center",children:K.label})]},K.value)})})]})]})}function ND(){const t=Er(),e=mo(),[r,s]=w.useState("todos"),[l,c]=w.useState(""),{data:u=[]}=fn({queryKey:["motoboys-lista"],queryFn:async()=>{const{data:R,error:D}=await Le.from("motoboys").select("*").order("nome");if(D)throw D;return R||[]}}),{data:p=[],isLoading:m}=fn({queryKey:["dispositivos"],queryFn:async()=>{const{data:R,error:D}=await Le.from("dispositivos").select("*").order("ultimo_acesso",{ascending:!1});if(D)throw D;return R||[]}}),v=p.filter(R=>{var B,Q,ne;if(!(r==="todos"||r==="autorizados"&&R.status==="Autorizado"||r==="pendentes"&&R.status==="Pendente"||r==="bloqueados"&&R.status==="Bloqueado"))return!1;if(l.trim()==="")return!0;const K=l.toLowerCase();return((B=R.nome)==null?void 0:B.toLowerCase().includes(K))||((Q=R.usuario)==null?void 0:Q.toLowerCase().includes(K))||((ne=R.impressao_digital)==null?void 0:ne.toLowerCase().includes(K))}),y={total:p.length,autorizados:p.filter(R=>R.status==="Autorizado").length,pendentes:p.filter(R=>R.status==="Pendente").length,bloqueados:p.filter(R=>R.status==="Bloqueado").length},x=en({mutationFn:async R=>{const{error:D}=await Le.from("dispositivos").update({status:"Autorizado"}).eq("id",R);if(D)throw D},onSuccess:()=>{e.invalidateQueries({queryKey:["dispositivos"]}),Se.success("Dispositivo autorizado!")},onError:()=>{Se.error("Erro ao autorizar dispositivo")}}),S=en({mutationFn:async R=>{const{error:D}=await Le.from("dispositivos").update({status:"Bloqueado"}).eq("id",R);if(D)throw D},onSuccess:()=>{e.invalidateQueries({queryKey:["dispositivos"]}),Se.success("Dispositivo bloqueado!")},onError:()=>{Se.error("Erro ao bloquear dispositivo")}}),E=en({mutationFn:async R=>{const{error:D}=await Le.from("dispositivos").delete().eq("id",R);if(D)throw D},onSuccess:()=>{e.invalidateQueries({queryKey:["dispositivos"]}),Se.success("Dispositivo removido!")},onError:()=>{Se.error("Erro ao remover dispositivo")}}),k=en({mutationFn:async({dispositivoId:R,tipoUsuario:D,nomeMotoboy:K})=>{const{error:B}=await Le.from("dispositivos").update({tipo_usuario:D,nome_motoboy:K||null}).eq("id",R);if(B)throw B},onSuccess:()=>{e.invalidateQueries({queryKey:["dispositivos"]}),Se.success("Tipo de usurio atualizado!")},onError:R=>{console.error("Erro:",R),Se.error("Erro ao atualizar tipo de usurio")}}),N=R=>{x.mutate(R)},P=R=>{S.mutate(R)},O=R=>{window.confirm("Tem certeza que deseja remover este dispositivo?")&&E.mutate(R)},T=(R,D,K)=>{k.mutate({dispositivoId:R,tipoUsuario:D,nomeMotoboy:K})};return n.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100",children:[n.jsx("div",{className:"py-8 shadow-sm",style:{background:"linear-gradient(135deg, #457bba 0%, #890d5d 100%)"},children:n.jsx("div",{className:"max-w-7xl mx-auto px-6",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("button",{onClick:()=>t(-1),className:"p-2 rounded-lg bg-white/20 hover:bg-white/30 transition-colors",children:n.jsx(vr,{className:"w-6 h-6 text-white"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-4xl font-bold text-white",children:"Gerenciar Usurios/Dispositivos"}),n.jsx("p",{className:"text-base text-white opacity-90 mt-1",children:"Autorizar ou bloquear dispositivos de acesso"})]})]})})}),n.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-6",children:[n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4 mb-6",children:[n.jsxs("div",{onClick:()=>t(tD("Usuarios")),className:"rounded-xl shadow-sm p-5 cursor-pointer transition-all hover:shadow-md hover:scale-105",style:{backgroundColor:"#890d5d"},children:[n.jsxs("div",{className:"flex items-center justify-center gap-2 mb-3",children:[n.jsx("div",{className:"p-1.5 rounded-lg bg-white/20",children:n.jsx(jA,{className:"w-6 h-6 text-white"})}),n.jsx("span",{className:"text-sm font-bold text-white",children:"Usurios"})]}),n.jsx("div",{className:"text-center",children:n.jsx("span",{className:"text-white font-semibold text-sm",children:"Gerenciar"})})]}),n.jsxs("div",{onClick:()=>s("todos"),className:"bg-white rounded-xl shadow-sm p-5 cursor-pointer transition-all hover:shadow-md",style:{border:r==="todos"?"2px solid #376295":"2px solid transparent"},children:[n.jsxs("div",{className:"flex items-center justify-center gap-2 mb-3",children:[n.jsx("div",{className:"p-1.5 rounded-lg",style:{backgroundColor:"#E8F0F8"},children:n.jsx(Yd,{className:"w-6 h-6",style:{color:"#376295"}})}),n.jsx("span",{className:"text-sm font-bold text-slate-700",children:"Total"})]}),n.jsx("div",{className:"text-4xl font-bold text-center",style:{color:"#376295"},children:y.total})]}),n.jsxs("div",{onClick:()=>s("autorizados"),className:"bg-white rounded-xl shadow-sm p-5 cursor-pointer transition-all hover:shadow-md",style:{border:r==="autorizados"?"2px solid #3dac38":"2px solid transparent"},children:[n.jsxs("div",{className:"flex items-center justify-center gap-2 mb-3",children:[n.jsx("div",{className:"p-1.5 rounded-lg",style:{backgroundColor:"#E8F5E8"},children:n.jsx(el,{className:"w-6 h-6",style:{color:"#3dac38"}})}),n.jsx("span",{className:"text-sm font-bold text-slate-700",children:"Autorizados"})]}),n.jsx("div",{className:"text-4xl font-bold text-center",style:{color:"#3dac38"},children:y.autorizados})]}),n.jsxs("div",{onClick:()=>s("pendentes"),className:"bg-white rounded-xl shadow-sm p-5 cursor-pointer transition-all hover:shadow-md",style:{border:r==="pendentes"?"2px solid #f97316":"2px solid transparent"},children:[n.jsxs("div",{className:"flex items-center justify-center gap-2 mb-3",children:[n.jsx("div",{className:"p-1.5 rounded-lg",style:{backgroundColor:"#FEF3E8"},children:n.jsx(co,{className:"w-6 h-6",style:{color:"#f97316"}})}),n.jsx("span",{className:"text-sm font-bold text-slate-700",children:"Pendentes"})]}),n.jsx("div",{className:"text-4xl font-bold text-center",style:{color:"#f97316"},children:y.pendentes})]}),n.jsxs("div",{onClick:()=>s("bloqueados"),className:"bg-white rounded-xl shadow-sm p-5 cursor-pointer transition-all hover:shadow-md",style:{border:r==="bloqueados"?"2px solid #ef4444":"2px solid transparent"},children:[n.jsxs("div",{className:"flex items-center justify-center gap-2 mb-3",children:[n.jsx("div",{className:"p-1.5 rounded-lg",style:{backgroundColor:"#fef2f2"},children:n.jsx(Qd,{className:"w-6 h-6",style:{color:"#ef4444"}})}),n.jsx("span",{className:"text-sm font-bold text-slate-700",children:"Bloqueados"})]}),n.jsx("div",{className:"text-4xl font-bold text-center",style:{color:"#ef4444"},children:y.bloqueados})]})]}),n.jsx("div",{className:"bg-white rounded-xl shadow-sm p-4 mb-6",children:n.jsxs("div",{className:"relative",children:[n.jsx(fo,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),n.jsx("input",{type:"text",value:l,onChange:R=>c(R.target.value),placeholder:"Buscar por e-mail, dispositivo ou impresso digital...",className:"w-full pl-10 pr-4 py-3 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 transition-all",style:{"--tw-ring-color":"#376295"},onFocus:R=>R.target.style.borderColor="#376295",onBlur:R=>R.target.style.borderColor="#cbd5e1"})]})}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:[n.jsx("div",{className:"px-6 py-4 border-b border-slate-200",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Yd,{className:"w-5 h-5 text-slate-600"}),n.jsx("h2",{className:"text-lg font-bold text-slate-900",children:"Dispositivos Registrados"})]})}),n.jsx("div",{className:"divide-y divide-slate-200",children:m?n.jsx("div",{className:"p-12 text-center text-slate-500",children:"Carregando dispositivos..."}):v.length===0?n.jsxs("div",{className:"p-12 text-center",children:[n.jsx(Yd,{className:"w-12 h-12 text-slate-300 mx-auto mb-3"}),n.jsx("div",{className:"text-slate-600 font-medium",children:"Nenhum dispositivo encontrado"}),n.jsx("div",{className:"text-sm text-slate-500 mt-1",children:l?"Tente ajustar sua busca":"No h dispositivos cadastrados"})]}):v.map(R=>n.jsx(CD,{dispositivo:R,motoboys:u,onAutorizar:N,onBloquear:P,onDeletar:O,onAtualizarTipo:T,isUpdating:x.isPending||S.isPending||E.isPending||k.isPending},R.id))})]})]})]})}function CD({dispositivo:t,motoboys:e,onAutorizar:r,onBloquear:s,onDeletar:l,onAtualizarTipo:c,isUpdating:u}){const[p,m]=Te.useState(t.tipo_usuario||""),[v,y]=Te.useState(t.nome_motoboy||""),x=P=>{m(P),P!=="motoboy"&&(y(""),c(t.id,P,null))},S=P=>{y(P),P&&c(t.id,"motoboy",P)},E=P=>{switch(P){case"Autorizado":return n.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 rounded-full text-xs font-semibold",style:{backgroundColor:"#E8F5E8",color:"#3dac38"},children:[n.jsx(el,{className:"w-3 h-3"}),"Autorizado"]});case"Pendente":return n.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 rounded-full text-xs font-semibold",style:{backgroundColor:"#FEF3E8",color:"#f97316"},children:[n.jsx(co,{className:"w-3 h-3"}),"Pendente"]});case"Bloqueado":return n.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 rounded-full text-xs font-semibold",style:{backgroundColor:"#fef2f2",color:"#ef4444"},children:[n.jsx(Qd,{className:"w-3 h-3"}),"Bloqueado"]});default:return null}},k=P=>P!=null&&P.toLowerCase().includes("safari")||P!=null&&P.toLowerCase().includes("mac")?n.jsx(Yd,{className:"w-5 h-5 text-slate-600"}):n.jsx(A1,{className:"w-5 h-5 text-slate-600"}),N=P=>P?new Date(P).toLocaleString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}):"-";return n.jsx("div",{className:"p-6 hover:bg-slate-50 transition-colors",children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex items-start gap-4 flex-1",children:[n.jsx("div",{className:"mt-1",children:k(t.nome)}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[n.jsx("h3",{className:"font-bold text-slate-900",children:t.nome||"Dispositivo Desconhecido"}),E(t.status)]}),n.jsxs("div",{className:"space-y-1 text-sm",children:[n.jsxs("div",{className:"text-slate-600",children:[n.jsx("span",{className:"font-medium",children:"Usurio:"})," ",n.jsx("span",{className:"text-slate-900",children:t.usuario||"-"})]}),n.jsxs("div",{className:"text-slate-600",children:[n.jsx("span",{className:"font-medium",children:"Impresso digital:"})," ",n.jsx("span",{className:"font-mono text-xs text-slate-700",children:t.impressao_digital||"-"})]}),n.jsxs("div",{className:"text-slate-600",children:[n.jsx("span",{className:"font-medium",children:"ltimo acesso:"})," ",n.jsx("span",{className:"text-slate-900",children:N(t.ultimo_acesso)})]})]}),n.jsx("div",{className:"mt-4 pt-4 border-t border-slate-200",children:n.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-sm font-medium text-slate-600",children:"Tipo:"}),n.jsx("div",{className:"min-w-[160px]",children:n.jsx(kt,{options:[{value:"",label:"Selecione..."},{value:"admin",label:"Administrador"},{value:"atendente",label:"Atendente"},{value:"motoboy",label:"Motoboy"}],value:p,onChange:x,disabled:u,placeholder:"Selecione..."})})]}),p==="motoboy"&&n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-sm font-medium text-slate-600",children:"Motoboy:"}),n.jsx("div",{className:"min-w-[150px]",children:n.jsx(kt,{options:[{value:"",label:"Selecione..."},...(e==null?void 0:e.map(P=>({value:P.nome,label:P.nome})))||[]],value:v,onChange:S,disabled:u,placeholder:"Selecione..."})})]}),p&&n.jsx("span",{className:`px-3 py-1.5 rounded-lg text-xs font-bold ${p==="admin"?"bg-purple-100 text-purple-700":p==="motoboy"?"bg-orange-100 text-orange-700":"bg-blue-100 text-blue-700"}`,children:p==="admin"?"Administrador":p==="motoboy"?`Motoboy${v?`: ${v}`:""}`:"Atendente"})]})})]})]}),n.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[t.status==="Pendente"&&n.jsxs(n.Fragment,{children:[n.jsxs("button",{onClick:()=>r(t.id),disabled:u,className:"flex items-center gap-2 text-white px-4 py-2 rounded-lg font-semibold text-sm transition-opacity hover:opacity-90 disabled:opacity-50",style:{backgroundColor:"#3dac38"},children:[n.jsx(el,{className:"w-4 h-4"}),"Autorizar"]}),n.jsxs("button",{onClick:()=>s(t.id),disabled:u,className:"flex items-center gap-2 text-white px-4 py-2 rounded-lg font-semibold text-sm transition-opacity hover:opacity-90 disabled:opacity-50",style:{backgroundColor:"#ef4444"},children:[n.jsx(Qd,{className:"w-4 h-4"}),"Bloquear"]})]}),t.status==="Autorizado"&&n.jsxs("button",{onClick:()=>s(t.id),disabled:u,className:"flex items-center gap-2 text-white px-4 py-2 rounded-lg font-semibold text-sm transition-opacity hover:opacity-90 disabled:opacity-50",style:{backgroundColor:"#ef4444"},children:[n.jsx(Qd,{className:"w-4 h-4"}),"Bloquear"]}),t.status==="Bloqueado"&&n.jsxs("button",{onClick:()=>r(t.id),disabled:u,className:"flex items-center gap-2 text-white px-4 py-2 rounded-lg font-semibold text-sm transition-opacity hover:opacity-90 disabled:opacity-50",style:{backgroundColor:"#3dac38"},children:[n.jsx(el,{className:"w-4 h-4"}),"Autorizar"]}),n.jsx("button",{onClick:()=>l(t.id),disabled:u,className:"p-2 text-slate-600 hover:bg-slate-200 rounded-lg transition-colors disabled:opacity-50",children:n.jsx($c,{className:"w-5 h-5"})})]})]})})}function kD({romaneio:t}){var s,l,c,u,p,m,v,y,x,S;if(!t)return null;const e=E=>E?new Date(E+"T12:00:00").toLocaleDateString("pt-BR"):"-",r=t.forma_pagamento&&["Pago","S Entregar"].includes(t.forma_pagamento);return n.jsxs("div",{className:"romaneio-card",style:{position:"relative"},children:[r&&n.jsx("div",{className:"carimbo-pago",style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%) rotate(-25deg)",fontSize:"50px",fontWeight:"bold",textTransform:"uppercase",color:"#000",border:"5px solid #000",padding:"5px 25px",opacity:.2,pointerEvents:"none",zIndex:10,letterSpacing:"5px"},children:"PAGO"}),n.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",marginBottom:"10px"},children:[n.jsx("img",{src:"/logo-formedica.png",alt:"Formdica",style:{width:"100px",height:"auto",marginBottom:"5px"}}),n.jsx("h2",{style:{fontSize:"14px",fontWeight:"bold",margin:0},children:"ROMANEIO DE ENTREGA"})]}),n.jsxs("div",{style:{display:"flex",gap:"8px",marginBottom:"8px"},children:[n.jsxs("div",{style:{flex:1,border:"1px solid #000",padding:"8px"},children:[n.jsx("div",{style:{fontWeight:"bold",fontSize:"10px",marginBottom:"5px",borderBottom:"1px solid #000",paddingBottom:"3px"},children:"DADOS DA ENTREGA"}),n.jsxs("div",{style:{fontSize:"9px",marginBottom:"3px"},children:[n.jsx("span",{children:"N. Requisio: "}),n.jsxs("span",{style:{fontWeight:"bold"},children:["#",t.requisicao||"0000"]})]}),n.jsxs("div",{style:{fontSize:"9px",marginBottom:"3px"},children:[n.jsx("span",{children:"Data: "}),n.jsxs("span",{children:[e(t.data_entrega)," - ",t.periodo||"-"]})]}),n.jsxs("div",{style:{fontSize:"9px",marginBottom:"3px"},children:[n.jsx("span",{children:"Motoboy: "}),n.jsx("span",{children:((s=t.motoboy)==null?void 0:s.nome)||"-"})]}),n.jsxs("div",{style:{fontSize:"9px"},children:[n.jsx("span",{children:"Atendente: "}),n.jsx("span",{children:((l=t.atendente)==null?void 0:l.nome)||((c=t.atendente)==null?void 0:c.email)||"-"})]})]}),n.jsxs("div",{style:{flex:1,border:"1px solid #000",padding:"8px"},children:[n.jsx("div",{style:{fontWeight:"bold",fontSize:"10px",marginBottom:"5px",borderBottom:"1px solid #000",paddingBottom:"3px"},children:"CLIENTE"}),n.jsxs("div",{style:{fontSize:"9px",marginBottom:"3px"},children:[n.jsx("span",{children:"Nome: "}),n.jsx("span",{children:((u=t.cliente)==null?void 0:u.nome)||"-"})]}),n.jsxs("div",{style:{fontSize:"9px"},children:[n.jsx("span",{children:"Telefone: "}),n.jsx("span",{children:((p=t.cliente)==null?void 0:p.telefone)||"-"})]})]})]}),n.jsxs("div",{style:{display:"flex",gap:"8px",marginBottom:"8px"},children:[n.jsxs("div",{style:{flex:1,border:"1px solid #000",padding:"8px"},children:[n.jsx("div",{style:{fontWeight:"bold",fontSize:"10px",marginBottom:"5px",borderBottom:"1px solid #000",paddingBottom:"3px"},children:"ENDERECO DE ENTREGA"}),n.jsxs("div",{style:{fontWeight:"bold",fontSize:"10px",marginBottom:"2px"},children:[((m=t.endereco)==null?void 0:m.logradouro)||"-",", ",((v=t.endereco)==null?void 0:v.numero)||"S/N"]}),n.jsxs("div",{style:{fontSize:"9px",marginBottom:"2px"},children:[((y=t.endereco)==null?void 0:y.bairro)||"-"," - ",((x=t.endereco)==null?void 0:x.cidade)||t.regiao||"-"]}),((S=t.endereco)==null?void 0:S.complemento)&&n.jsxs("div",{style:{fontSize:"9px"},children:["Compl.: ",t.endereco.complemento]})]}),n.jsxs("div",{style:{flex:1,border:"1px solid #000",padding:"8px"},children:[n.jsx("div",{style:{fontWeight:"bold",fontSize:"10px",marginBottom:"5px",borderBottom:"1px solid #000",paddingBottom:"3px"},children:"PAGAMENTO"}),n.jsxs("div",{style:{fontSize:"9px"},children:[n.jsx("span",{children:"Forma de Pagamento: "}),n.jsx("span",{children:t.forma_pagamento||"-"})]})]})]}),t.observacoes&&n.jsxs("div",{style:{border:"1px solid #000",padding:"8px",marginBottom:"8px"},children:[n.jsx("div",{style:{fontWeight:"bold",fontSize:"10px",marginBottom:"5px",borderBottom:"1px solid #000",paddingBottom:"3px"},children:"OBSERVAES"}),n.jsx("div",{style:{fontSize:"9px"},children:t.observacoes})]}),(t.item_geladeira||t.buscar_receita)&&n.jsxs("div",{style:{display:"flex",gap:"8px",marginBottom:"8px"},children:[t.item_geladeira&&n.jsxs("div",{style:{flex:1,display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",padding:"8px",fontSize:"11px",fontWeight:"bold",textTransform:"uppercase",border:"2px solid #000",background:"#fff"},children:[n.jsx("span",{children:""}),n.jsx("span",{children:"ITEM DE GELADEIRA"}),n.jsx("span",{children:""})]}),t.buscar_receita&&n.jsxs("div",{style:{flex:1,display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",padding:"8px",fontSize:"11px",fontWeight:"bold",textTransform:"uppercase",border:"2px solid #000",background:"#fff"},children:[n.jsx(tn,{size:14}),n.jsx("span",{children:"RETER RECEITA"}),n.jsx(tn,{size:14})]})]}),(t.valor_venda>0&&["Receber Dinheiro","Receber Mquina","Pagar MP"].includes(t.forma_pagamento)||t.precisa_troco&&t.valor_troco>0)&&n.jsxs("div",{style:{display:"flex",gap:"8px",marginBottom:"8px"},children:[t.valor_venda>0&&["Receber Dinheiro","Receber Mquina","Pagar MP"].includes(t.forma_pagamento)&&n.jsxs("div",{style:{flex:1,background:"#fff",border:"2px solid #000",padding:"8px",textAlign:"center",fontSize:"12px",fontWeight:"bold"},children:["$ COBRAR NA ENTREGA: R$ ",t.valor_venda.toFixed(2).replace(".",",")]}),t.precisa_troco&&t.valor_troco>0&&n.jsxs("div",{style:{flex:1,background:"#fff",border:"2px solid #000",padding:"8px",textAlign:"center",fontSize:"12px",fontWeight:"bold"},children:["TROCO: R$ ",t.valor_troco.toFixed(2).replace(".",",")]})]})]})}function PD(){const t=Er(),[e]=f_(),r=e.get("data"),[s,l]=w.useState(r||new Date().toISOString().split("T")[0]),[c,u]=w.useState([]),[p,m]=w.useState(!0),[v,y]=w.useState({busca:"",motoboy:"",periodo:"",status:""}),[x,S]=w.useState(!1),E=async()=>{m(!0);try{const{data:T,error:R}=await Le.from("entregas").select(`
          *,
          cliente:clientes(id, nome, telefone),
          endereco:enderecos(id, logradouro, numero, bairro, cidade, complemento),
          motoboy:motoboys(id, nome)
        `).eq("tipo","moto").eq("data_entrega",s).order("periodo",{ascending:!0});if(R)throw R;const D=await Promise.all((T||[]).map(async K=>{const B=K.endereco_logradouro?{id:K.endereco_id,logradouro:K.endereco_logradouro,numero:K.endereco_numero,complemento:K.endereco_complemento,bairro:K.endereco_bairro,cidade:K.endereco_cidade}:K.endereco;let Q=null;if(K.atendente_id){const{data:ne}=await Le.from("usuarios").select("id, nome, email").eq("id",K.atendente_id).single();Q=ne}return{...K,endereco:B,atendente:Q}}));u(D)}catch(T){console.error("Erro ao carregar romaneios:",T),Se.error("Erro ao carregar romaneios")}finally{m(!1)}};w.useEffect(()=>{E()},[s]);const k=c.filter(T=>{var R,D,K,B,Q,ne,we,ee,$,te;if(v.busca){const U=v.busca.toLowerCase(),W=(D=(R=T.cliente)==null?void 0:R.nome)==null?void 0:D.toLowerCase().includes(U),be=(K=T.requisicao)==null?void 0:K.toLowerCase().includes(U),me=((Q=(B=T.endereco)==null?void 0:B.logradouro)==null?void 0:Q.toLowerCase().includes(U))||((we=(ne=T.endereco)==null?void 0:ne.bairro)==null?void 0:we.toLowerCase().includes(U)),_e=($=(ee=T.motoboy)==null?void 0:ee.nome)==null?void 0:$.toLowerCase().includes(U);if(!W&&!be&&!me&&!_e)return!1}return!(v.motoboy&&((te=T.motoboy)==null?void 0:te.nome)!==v.motoboy||v.periodo&&T.periodo!==v.periodo||v.status&&T.status!==v.status)}),N=[...new Set(c.map(T=>{var R;return(R=T.motoboy)==null?void 0:R.nome}).filter(Boolean))],P=()=>{window.print()},O=T=>new Date(T+"T12:00:00").toLocaleDateString("pt-BR",{weekday:"long",day:"2-digit",month:"long",year:"numeric"});return n.jsxs(n.Fragment,{children:[n.jsx("style",{children:`
        @media print {
          .no-print {
            display: none !important;
          }
          .print-container {
            padding: 0 !important;
          }
          .romaneio-card {
            page-break-inside: avoid;
            border: 1px solid #000 !important;
            margin-bottom: 10px !important;
            padding: 10px !important;
          }
          .romaneios-grid {
            display: block !important;
          }
          .romaneios-grid > div {
            break-inside: avoid;
          }
        }

        @media screen {
          .romaneio-card {
            border: 1px solid #e2e8f0;
            border-radius: 8px;
            padding: 15px;
            background: white;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
          }
        }
      `}),n.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100",children:[n.jsx("div",{className:"no-print py-8 shadow-sm",style:{background:"linear-gradient(135deg, #457bba 0%, #890d5d 100%)"},children:n.jsx("div",{className:"max-w-7xl mx-auto px-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("button",{onClick:()=>t(-1),className:"p-2 rounded-lg bg-white/20 hover:bg-white/30 transition-colors",children:n.jsx(vr,{className:"w-6 h-6 text-white"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-white",children:"Romaneios do Dia"}),n.jsx("p",{className:"text-white/80 text-sm mt-1",children:O(s)})]})]}),n.jsx("div",{className:"flex items-center gap-3",children:n.jsxs("button",{onClick:P,className:"flex items-center gap-2 px-4 py-2 bg-white rounded-lg font-semibold text-sm hover:bg-gray-100 transition-colors",style:{color:"#890d5d"},children:[n.jsx(Gf,{size:18}),"Imprimir Todos (",k.length,")"]})})]})})}),n.jsx("div",{className:"no-print max-w-7xl mx-auto px-6 py-4",children:n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-4",children:[n.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[n.jsx("div",{className:"flex items-center gap-2",children:n.jsx(cl,{value:s,onChange:l,placeholder:"Selecione a data"})}),n.jsxs("div",{className:"flex-1 relative",children:[n.jsx(fo,{size:18,className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400"}),n.jsx("input",{type:"text",value:v.busca,onChange:T=>y({...v,busca:T.target.value}),placeholder:"Buscar por cliente, requisio, endereo, motoboy...",className:"w-full pl-10 pr-4 py-2 border border-slate-300 rounded-lg text-sm focus:outline-none focus:border-blue-500"})]}),n.jsxs("button",{onClick:()=>S(!x),className:"flex items-center gap-2 px-4 py-2 border border-slate-300 rounded-lg text-sm hover:bg-slate-50 transition-colors",children:[n.jsx(DR,{size:18}),"Filtros",(v.motoboy||v.periodo||v.status)&&n.jsx("span",{className:"w-2 h-2 bg-blue-500 rounded-full"})]}),(v.busca||v.motoboy||v.periodo||v.status)&&n.jsxs("button",{onClick:()=>y({busca:"",motoboy:"",periodo:"",status:""}),className:"flex items-center gap-1 px-3 py-2 text-sm text-slate-600 hover:text-slate-900",children:[n.jsx(qv,{size:16}),"Limpar"]})]}),x&&n.jsxs("div",{className:"flex items-center gap-4 mt-4 pt-4 border-t border-slate-200",children:[n.jsx(kt,{options:[{value:"",label:"Todos Motoboys"},...N.map(T=>({value:T,label:T}))],value:v.motoboy,onChange:T=>y({...v,motoboy:T}),placeholder:"Todos Motoboys"}),n.jsx(kt,{options:[{value:"",label:"Todos Perodos"},{value:"Manh",label:"Manh"},{value:"Tarde",label:"Tarde"}],value:v.periodo,onChange:T=>y({...v,periodo:T}),placeholder:"Todos Perodos"}),n.jsx(kt,{options:[{value:"",label:"Todos Status"},{value:"Produzindo no Laboratrio",label:"Produo"},{value:"A Caminho",label:"A Caminho"},{value:"Entregue",label:"Entregue"}],value:v.status,onChange:T=>y({...v,status:T}),placeholder:"Todos Status"})]})]})}),n.jsx("div",{className:"print-container max-w-7xl mx-auto px-6 pb-8",children:p?n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-12 text-center",children:[n.jsx("div",{className:"inline-block w-8 h-8 border-4 border-slate-200 border-t-blue-500 rounded-full animate-spin mb-4"}),n.jsx("p",{className:"text-slate-600",children:"Carregando romaneios..."})]}):k.length===0?n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-12 text-center",children:[n.jsx(tn,{size:48,className:"mx-auto mb-4 text-slate-300"}),n.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:"Nenhum romaneio encontrado"}),n.jsx("p",{className:"text-slate-600",children:v.busca||v.motoboy||v.periodo||v.status?"Tente ajustar os filtros de busca":"No h romaneios para esta data"})]}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"no-print mb-4 text-sm text-slate-600",children:["Mostrando ",k.length," romaneio(s)"]}),n.jsx("div",{className:"romaneios-grid",style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"16px"},children:k.map(T=>n.jsx(kD,{romaneio:T},T.id))})]})})]})]})}function TD(){const t=Er(),e=mo(),[r,s]=w.useState(""),[l,c]=w.useState(!1),[u,p]=w.useState({nome:"",usuario:"",senha:"",tipo_usuario:"atendente",nome_motoboy:"",nome_atendente:""}),[m,v]=w.useState(!1),[y,x]=w.useState(null),{data:S=[],isLoading:E}=fn({queryKey:["dispositivos-usuarios"],queryFn:async()=>{const{data:U,error:W}=await Le.from("dispositivos").select("*").order("status",{ascending:!1}).order("usuario");if(W)throw W;return U||[]}}),{data:k=[]}=fn({queryKey:["motoboys-lista"],queryFn:async()=>{const{data:U,error:W}=await Le.from("motoboys").select("*").order("nome");if(W)throw W;return U||[]}}),N=en({mutationFn:async({id:U,tipo_usuario:W,nome_motoboy:be})=>{const{error:me}=await Le.from("dispositivos").update({tipo_usuario:W,nome_motoboy:be||null}).eq("id",U);if(me)throw me},onSuccess:()=>{e.invalidateQueries({queryKey:["dispositivos-usuarios"]}),Se.success("Tipo de usurio atualizado!")},onError:()=>{Se.error("Erro ao atualizar usurio")}}),P=en({mutationFn:async U=>{const{error:W}=await Le.from("dispositivos").insert([{usuario:U.usuario,nome:U.nome,senha:U.senha,tipo_usuario:U.tipo_usuario,nome_motoboy:U.tipo_usuario==="motoboy"?U.nome_motoboy:null,nome_atendente:U.tipo_usuario==="atendente"?U.nome_atendente:null,status:"Pendente",impressao_digital:"user-"+Date.now(),ultimo_acesso:new Date().toISOString()}]);if(W)throw W},onSuccess:()=>{e.invalidateQueries({queryKey:["dispositivos-usuarios"]}),Se.success("Usurio criado! Aguardando autorizao."),c(!1),p({nome:"",usuario:"",senha:"",tipo_usuario:"atendente",nome_motoboy:"",nome_atendente:""})},onError:U=>{console.error("Erro ao criar usurio:",U),Se.error("Erro ao criar usurio")}}),O=()=>{if(!u.nome||!u.usuario||!u.senha){Se.error("Preencha nome, usurio e senha");return}if(u.tipo_usuario==="motoboy"&&!u.nome_motoboy){Se.error("Selecione o motoboy");return}if(u.tipo_usuario==="atendente"&&!u.nome_atendente){Se.error("Informe o nome da atendente");return}P.mutate(u)},T=en({mutationFn:async U=>{const W={nome:U.nome,usuario:U.usuario,tipo_usuario:U.tipo_usuario,nome_motoboy:U.tipo_usuario==="motoboy"?U.nome_motoboy:null,nome_atendente:U.tipo_usuario==="atendente"?U.nome_atendente:null};U.senha&&(W.senha=U.senha),console.log("Atualizando usurio:",U.id,W);const{data:be,error:me}=await Le.from("dispositivos").update(W).eq("id",U.id).select();if(me)throw console.error("Erro Supabase:",me),me;return console.log("Resultado:",be),be},onSuccess:()=>{e.invalidateQueries({queryKey:["dispositivos-usuarios"]}),Se.success("Usurio atualizado com sucesso!"),v(!1),x(null)},onError:U=>{console.error("Erro ao editar usurio:",U),Se.error("Erro ao editar usurio: "+(U.message||"Erro desconhecido"))}}),R=en({mutationFn:async({id:U,status:W})=>{const{error:be}=await Le.from("dispositivos").update({status:W}).eq("id",U);if(be)throw be},onSuccess:(U,{status:W})=>{e.invalidateQueries({queryKey:["dispositivos-usuarios"]}),Se.success(W==="Autorizado"?"Usurio autorizado!":"Usurio bloqueado!")},onError:()=>{Se.error("Erro ao atualizar status")}}),D=en({mutationFn:async U=>{const{error:W}=await Le.from("dispositivos").delete().eq("id",U);if(W)throw W},onSuccess:()=>{e.invalidateQueries({queryKey:["dispositivos-usuarios"]}),Se.success("Usurio excludo!")},onError:()=>{Se.error("Erro ao excluir usurio")}}),K=U=>{x({id:U.id,nome:U.nome||"",usuario:U.usuario||"",senha:"",tipo_usuario:U.tipo_usuario||"atendente",nome_motoboy:U.nome_motoboy||"",nome_atendente:U.nome_atendente||""}),v(!0)},B=()=>{if(!y.nome||!y.usuario){Se.error("Preencha nome e usurio");return}if(y.tipo_usuario==="motoboy"&&!y.nome_motoboy){Se.error("Selecione o motoboy");return}if(y.tipo_usuario==="atendente"&&!y.nome_atendente){Se.error("Informe o nome da atendente");return}T.mutate(y)},Q=(U,W)=>{R.mutate({id:U,status:W})},ne=U=>{window.confirm("Tem certeza que deseja excluir este usurio?")&&D.mutate(U)},we=(U,W,be)=>{N.mutate({id:U,tipo_usuario:W,nome_motoboy:be})},ee=S.filter(U=>{var W,be;return((W=U.usuario)==null?void 0:W.toLowerCase().includes(r.toLowerCase()))||((be=U.nome)==null?void 0:be.toLowerCase().includes(r.toLowerCase()))}),$=(U,W)=>{const be={admin:{bg:"bg-purple-100",text:"text-purple-700",label:"Administrador"},atendente:{bg:"bg-blue-100",text:"text-blue-700",label:"Atendente"},motoboy:{bg:"bg-orange-100",text:"text-orange-700",label:`Motoboy${W?`: ${W}`:""}`}},{bg:me,text:_e,label:q}=be[U]||{bg:"bg-slate-100",text:"text-slate-700",label:"No Definido"};return n.jsx("span",{className:`px-3 py-1 rounded-lg text-xs font-bold ${me} ${_e}`,children:q})},te=U=>U!=null&&U.toLowerCase().includes("safari")||U!=null&&U.toLowerCase().includes("mac")||U!=null&&U.toLowerCase().includes("windows")?n.jsx(Yd,{className:"w-5 h-5 text-slate-500"}):n.jsx(A1,{className:"w-5 h-5 text-slate-500"});return n.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100",children:[n.jsx("div",{className:"py-8 shadow-sm",style:{background:"linear-gradient(135deg, #457bba 0%, #890d5d 100%)"},children:n.jsx("div",{className:"max-w-7xl mx-auto px-6",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("button",{onClick:()=>t(-1),className:"p-2 rounded-lg bg-white/20 hover:bg-white/30 transition-colors",children:n.jsx(mR,{className:"w-6 h-6 text-white"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-4xl font-bold text-white",children:"Gerenciar Usurios"}),n.jsx("p",{className:"text-base text-white opacity-90 mt-1",children:"Defina os tipos de acesso para cada dispositivo"})]})]})})}),n.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-6",children:[n.jsxs("div",{onClick:()=>c(!0),className:"bg-white rounded-xl shadow-sm p-5 mb-6 cursor-pointer transition-all hover:shadow-md hover:scale-[1.01] flex items-center gap-4",style:{borderLeft:"4px solid #890d5d"},children:[n.jsx("div",{className:"p-3 rounded-full",style:{backgroundColor:"#890d5d"},children:n.jsx(lb,{className:"w-6 h-6 text-white"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-bold text-slate-900",children:"Criar Novo Usurio"}),n.jsx("p",{className:"text-sm text-slate-500",children:"Adicione um novo usurio ao sistema"})]})]}),n.jsx("div",{className:"bg-white rounded-xl shadow-sm p-4 mb-6",children:n.jsxs("div",{className:"relative",children:[n.jsx(fo,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),n.jsx("input",{type:"text",value:r,onChange:U=>s(U.target.value),placeholder:"Buscar por nome ou dispositivo...",className:"w-full pl-10 pr-4 py-3 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:border-transparent",style:{"--tw-ring-color":"#376295"}})]})}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:[n.jsx("div",{className:"px-6 py-4 border-b border-slate-200",style:{backgroundColor:"#890d5d"},children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(yA,{className:"w-5 h-5 text-white"}),n.jsxs("h2",{className:"text-lg font-bold text-white",children:["Usurios Autorizados (",ee.length,")"]})]})}),n.jsx("div",{className:"divide-y divide-slate-200",children:E?n.jsx("div",{className:"p-12 text-center text-slate-500",children:"Carregando usurios..."}):ee.length===0?n.jsxs("div",{className:"p-12 text-center",children:[n.jsx(Un,{className:"w-12 h-12 text-slate-300 mx-auto mb-3"}),n.jsx("div",{className:"text-slate-600 font-medium",children:"Nenhum usurio encontrado"}),n.jsx("div",{className:"text-sm text-slate-500 mt-1",children:"Autorize dispositivos na pgina de Dispositivos"})]}):ee.map(U=>n.jsx(RD,{dispositivo:U,motoboys:k,onUpdateTipo:we,onEditar:K,onExcluir:ne,onAutorizar:Q,isUpdating:N.isPending,getDeviceIcon:te,getTipoBadge:$},U.id))})]})]}),n.jsx(us,{open:l,onOpenChange:c,children:n.jsxs(Oo,{className:"max-w-md",children:[n.jsx(Mo,{children:n.jsxs(Lo,{className:"flex items-center gap-2",children:[n.jsx(lb,{className:"w-5 h-5",style:{color:"#890d5d"}}),"Criar Novo Usurio"]})}),n.jsxs("div",{className:"space-y-4 py-4",children:[n.jsxs("div",{children:[n.jsx(pr,{children:"Nome *"}),n.jsx(ir,{value:u.nome,onChange:U=>p({...u,nome:U.target.value}),placeholder:"Nome do usurio"})]}),n.jsxs("div",{children:[n.jsx(pr,{children:"Usurio (usado para login) *"}),n.jsx(ir,{type:"text",value:u.usuario,onChange:U=>p({...u,usuario:U.target.value}),placeholder:"Digite o nome de usurio"})]}),n.jsxs("div",{children:[n.jsx(pr,{children:"Senha *"}),n.jsx(ir,{type:"password",value:u.senha,onChange:U=>p({...u,senha:U.target.value}),placeholder:"Digite uma senha"})]}),n.jsx(kt,{label:"Tipo de Usurio *",options:[{value:"admin",label:"Administrador"},{value:"atendente",label:"Atendente"},{value:"motoboy",label:"Motoboy"}],value:u.tipo_usuario,onChange:U=>p({...u,tipo_usuario:U}),placeholder:"Selecione o tipo"}),u.tipo_usuario==="atendente"&&n.jsxs("div",{children:[n.jsx(pr,{children:"Nome da Atendente *"}),n.jsx(ir,{value:u.nome_atendente,onChange:U=>p({...u,nome_atendente:U.target.value}),placeholder:"Nome da atendente"})]}),u.tipo_usuario==="motoboy"&&n.jsxs("div",{children:[n.jsx(kt,{label:"Selecionar Motoboy *",options:[{value:"",label:"Selecione..."},...k.map(U=>({value:U.nome,label:U.nome}))],value:u.nome_motoboy,onChange:U=>p({...u,nome_motoboy:U}),placeholder:"Selecione..."}),n.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"O motoboy s ver suas prprias entregas"})]}),n.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[n.jsx(gr,{variant:"outline",onClick:()=>c(!1),children:"Cancelar"}),n.jsx(gr,{onClick:O,disabled:P.isPending,style:{backgroundColor:"#890d5d"},className:"text-white",children:P.isPending?"Criando...":"Criar Usurio"})]})]})]})}),n.jsx(us,{open:m,onOpenChange:v,children:n.jsxs(Oo,{className:"max-w-md",children:[n.jsx(Mo,{children:n.jsxs(Lo,{className:"flex items-center gap-2",children:[n.jsx(P1,{className:"w-5 h-5",style:{color:"#457bba"}}),"Editar Usurio"]})}),y&&n.jsxs("div",{className:"space-y-4 py-4",children:[n.jsxs("div",{children:[n.jsx(pr,{children:"Nome *"}),n.jsx(ir,{value:y.nome,onChange:U=>x({...y,nome:U.target.value}),placeholder:"Nome do usurio"})]}),n.jsxs("div",{children:[n.jsx(pr,{children:"Usurio (usado para login) *"}),n.jsx(ir,{type:"text",value:y.usuario,onChange:U=>x({...y,usuario:U.target.value}),placeholder:"Digite o nome de usurio"})]}),n.jsxs("div",{children:[n.jsx(pr,{children:"Nova Senha (deixe em branco para manter)"}),n.jsx(ir,{type:"password",value:y.senha,onChange:U=>x({...y,senha:U.target.value}),placeholder:"Digite uma nova senha"})]}),n.jsx(kt,{label:"Tipo de Usurio *",options:[{value:"admin",label:"Administrador"},{value:"atendente",label:"Atendente"},{value:"motoboy",label:"Motoboy"}],value:y.tipo_usuario,onChange:U=>x({...y,tipo_usuario:U}),placeholder:"Selecione o tipo"}),y.tipo_usuario==="atendente"&&n.jsxs("div",{children:[n.jsx(pr,{children:"Nome da Atendente *"}),n.jsx(ir,{value:y.nome_atendente,onChange:U=>x({...y,nome_atendente:U.target.value}),placeholder:"Nome da atendente"})]}),y.tipo_usuario==="motoboy"&&n.jsx(kt,{label:"Selecionar Motoboy *",options:[{value:"",label:"Selecione..."},...k.map(U=>({value:U.nome,label:U.nome}))],value:y.nome_motoboy,onChange:U=>x({...y,nome_motoboy:U}),placeholder:"Selecione..."}),n.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[n.jsx(gr,{variant:"outline",onClick:()=>v(!1),children:"Cancelar"}),n.jsx(gr,{onClick:B,disabled:T.isPending,style:{backgroundColor:"#457bba"},className:"text-white",children:T.isPending?"Salvando...":"Salvar"})]})]})]})})]})}function RD({dispositivo:t,motoboys:e,onUpdateTipo:r,onEditar:s,onExcluir:l,onAutorizar:c,isUpdating:u,getDeviceIcon:p,getTipoBadge:m}){const[v,y]=Te.useState(t.tipo_usuario||""),[x,S]=Te.useState(t.nome_motoboy||""),[E,k]=Te.useState(!1),N=t.status!=="Autorizado",P=R=>{y(R),R!=="motoboy"&&(S(""),r(t.id,R,null))},O=R=>{S(R),R&&r(t.id,"motoboy",R)},T=()=>N?n.jsxs("span",{className:"flex items-center gap-1 px-3 py-1 rounded-lg text-xs font-bold bg-yellow-100 text-yellow-700",children:[n.jsx(co,{className:"w-3 h-3"}),"Pendente"]}):n.jsxs("span",{className:"flex items-center gap-1 px-3 py-1 rounded-lg text-xs font-bold bg-green-100 text-green-700",children:[n.jsx(el,{className:"w-3 h-3"}),"Autorizado"]});return n.jsx("div",{className:`p-6 hover:bg-slate-50 transition-colors ${N?"bg-yellow-50":""}`,children:n.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center ${N?"bg-yellow-400":"bg-gradient-to-br from-[#457bba] to-[#890d5d]"}`,children:n.jsx(Un,{className:"w-6 h-6 text-white"})}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("h3",{className:"font-bold text-slate-900 text-lg",children:t.nome||t.usuario||"Usurio"}),T()]}),n.jsxs("div",{className:"flex items-center gap-4 text-sm text-slate-500 mt-1",children:[n.jsxs("span",{className:"font-medium",children:["Login: ",t.usuario||"-"]}),n.jsxs("span",{className:"flex items-center gap-1 font-medium",children:["Senha: ",E?t.senha||"-":"",n.jsx("button",{onClick:()=>k(!E),className:"p-1 hover:bg-slate-200 rounded transition-colors",title:E?"Ocultar senha":"Mostrar senha",children:E?n.jsx(OR,{className:"w-4 h-4"}):n.jsx(C1,{className:"w-4 h-4"})})]})]})]})]}),n.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[N?n.jsxs("button",{onClick:()=>c(t.id,"Autorizado"),className:"flex items-center gap-2 px-4 py-2 bg-green-500 hover:bg-green-600 text-white rounded-lg transition-colors font-medium",children:[n.jsx(el,{className:"w-4 h-4"}),"Autorizar"]}):n.jsxs("button",{onClick:()=>c(t.id,"Bloqueado"),className:"flex items-center gap-2 px-4 py-2 bg-slate-200 hover:bg-red-100 text-slate-600 hover:text-red-600 rounded-lg transition-colors font-medium",children:[n.jsx(Qd,{className:"w-4 h-4"}),"Bloquear"]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-sm font-medium text-slate-600",children:"Tipo:"}),n.jsx("div",{className:"min-w-[160px]",children:n.jsx(kt,{options:[{value:"",label:"Selecione..."},{value:"admin",label:"Administrador"},{value:"atendente",label:"Atendente"},{value:"motoboy",label:"Motoboy"}],value:v,onChange:P,disabled:u,placeholder:"Selecione..."})})]}),v==="motoboy"&&n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-sm font-medium text-slate-600",children:"Motoboy:"}),n.jsx("div",{className:"min-w-[150px]",children:n.jsx(kt,{options:[{value:"",label:"Selecione..."},...(e==null?void 0:e.map(R=>({value:R.nome,label:R.nome})))||[]],value:x,onChange:O,disabled:u,placeholder:"Selecione..."})})]}),v&&m(v,x),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("button",{onClick:()=>s(t),className:"p-2 text-slate-600 hover:bg-slate-200 rounded-lg transition-colors",title:"Editar usurio",children:n.jsx(P1,{className:"w-5 h-5"})}),n.jsx("button",{onClick:()=>l(t.id),className:"p-2 text-red-500 hover:bg-red-100 rounded-lg transition-colors",title:"Excluir usurio",children:n.jsx($c,{className:"w-5 h-5"})})]})]})]})})}const AD=new s2({defaultOptions:{queries:{refetchOnWindowFocus:!1,retry:1,staleTime:300*1e3}}});function Bb({children:t}){const{user:e,loading:r}=ll();return r?n.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",minHeight:"100vh"},children:n.jsxs("div",{style:{textAlign:"center"},children:[n.jsx("div",{style:{width:"50px",height:"50px",border:"4px solid #e2e8f0",borderTop:"4px solid #457bba",borderRadius:"50%",animation:"spin 1s linear infinite",margin:"0 auto 1rem"}}),n.jsx("p",{children:"Carregando..."})]})}):e?t:n.jsx(gf,{to:"/login"})}function wn({children:t}){const{userType:e}=ll();return e==="motoboy"?n.jsx(gf,{to:"/painel-motoboys",replace:!0}):t}function OD(){const{user:t,userType:e}=ll(),r=()=>e==="motoboy"?"/painel-motoboys":"/";return n.jsxs(ry,{children:[n.jsx(wr,{path:"/login",element:t?n.jsx(gf,{to:r()}):n.jsx(MP,{})}),n.jsx(wr,{path:"/imprimir-romaneio",element:n.jsx(Bb,{children:n.jsx(yb,{printMode:!0})})}),n.jsx(wr,{path:"/*",element:n.jsx(Bb,{children:n.jsx(AP,{children:n.jsxs(ry,{children:[n.jsx(wr,{path:"/",element:e==="motoboy"?n.jsx(gf,{to:"/painel-motoboys",replace:!0}):n.jsx(lO,{})}),n.jsx(wr,{path:"/sedex",element:n.jsx(wn,{children:n.jsx(qI,{})})}),n.jsx(wr,{path:"/sedex-detalhes",element:n.jsx(wn,{children:n.jsx(HI,{})})}),n.jsx(wr,{path:"/novo-romaneio",element:n.jsx(wn,{children:n.jsx(fO,{})})}),n.jsx(wr,{path:"/editar-romaneio",element:n.jsx(wn,{children:n.jsx(vO,{})})}),n.jsx(wr,{path:"/detalhes-romaneio",element:n.jsx(wn,{children:n.jsx(yb,{})})}),n.jsx(wr,{path:"/clientes",element:n.jsx(wn,{children:n.jsx(WM,{})})}),n.jsx(wr,{path:"/historico-clientes",element:n.jsx(wn,{children:n.jsx("div",{style:{padding:"2rem"},children:"Histrico - Em construo"})})}),n.jsx(wr,{path:"/relatorios",element:n.jsx(wn,{children:n.jsx(VI,{})})}),n.jsx(wr,{path:"/receitas",element:n.jsx(wn,{children:n.jsx(JI,{})})}),n.jsx(wr,{path:"/pagamentos",element:n.jsx(wn,{children:n.jsx(eD,{})})}),n.jsx(wr,{path:"/planilha-diaria",element:n.jsx(wn,{children:n.jsx(rD,{})})}),n.jsx(wr,{path:"/painel-motoboys",element:n.jsx(ED,{})}),n.jsx(wr,{path:"/dispositivos",element:n.jsx(wn,{children:n.jsx(ND,{})})}),n.jsx(wr,{path:"/romaneios-do-dia",element:n.jsx(wn,{children:n.jsx(PD,{})})}),n.jsx(wr,{path:"/usuarios",element:n.jsx(wn,{children:n.jsx(TD,{})})})]})})})})]})}function MD(){return n.jsx(OP,{children:n.jsx(i2,{client:AD,children:n.jsx(TP,{children:n.jsxs(eC,{basename:"/FormedicaEntregas",children:[n.jsx(OD,{}),n.jsx(IC,{position:"top-right",richColors:!0}),n.jsx("style",{children:`
              @keyframes spin {
                to { transform: rotate(360deg); }
              }
              * {
                margin: 0;
                padding: 0;
                box-sizing: border-box;
              }
              body {
                font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
              }
            `})]})})})})}window.addEventListener("error",t=>{var e,r;if((e=t.message)!=null&&e.includes("removeChild")||(r=t.message)!=null&&r.includes("The node to be removed is not a child"))return console.warn(" [Global] Erro de removeChild capturado e prevenido:",t.message),t.preventDefault(),t.stopPropagation(),!0});window.addEventListener("unhandledrejection",t=>{var e,r,s,l;if((r=(e=t.reason)==null?void 0:e.message)!=null&&r.includes("removeChild")||(l=(s=t.reason)==null?void 0:s.message)!=null&&l.includes("The node to be removed is not a child"))return console.warn(" [Global] Promise rejection de removeChild capturada e prevenida"),t.preventDefault(),!0});$E.createRoot(document.getElementById("root")).render(n.jsx(MD,{}));
