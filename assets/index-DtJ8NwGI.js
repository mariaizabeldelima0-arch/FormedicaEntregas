var h0=t=>{throw TypeError(t)};var hf=(t,e,r)=>e.has(t)||h0("Cannot "+r);var W=(t,e,r)=>(hf(t,e,"read from private field"),r?r.call(t):e.get(t)),Le=(t,e,r)=>e.has(t)?h0("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),Se=(t,e,r,o)=>(hf(t,e,"write to private field"),o?o.call(t,r):e.set(t,r),r),Ke=(t,e,r)=>(hf(t,e,"access private method"),r);var sd=(t,e,r,o)=>({set _(i){Se(t,e,i,r)},get _(){return W(t,e,o)}});function jy(t,e){for(var r=0;r<e.length;r++){const o=e[r];if(typeof o!="string"&&!Array.isArray(o)){for(const i in o)if(i!=="default"&&!(i in t)){const l=Object.getOwnPropertyDescriptor(o,i);l&&Object.defineProperty(t,i,l.get?l:{enumerable:!0,get:()=>o[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))o(i);new MutationObserver(i=>{for(const l of i)if(l.type==="childList")for(const d of l.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&o(d)}).observe(document,{childList:!0,subtree:!0});function r(i){const l={};return i.integrity&&(l.integrity=i.integrity),i.referrerPolicy&&(l.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?l.credentials="include":i.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function o(i){if(i.ep)return;i.ep=!0;const l=r(i);fetch(i.href,l)}})();function lu(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function ql(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var r=function o(){return this instanceof o?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(o){var i=Object.getOwnPropertyDescriptor(t,o);Object.defineProperty(r,o,i.get?i:{enumerable:!0,get:function(){return t[o]}})}),r}var ff={exports:{}},pl={},mf={exports:{}},Qe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f0;function dE(){if(f0)return Qe;f0=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),d=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),p=Symbol.iterator;function w(R){return R===null||typeof R!="object"?null:(R=p&&R[p]||R["@@iterator"],typeof R=="function"?R:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,j={};function _(R,B,F){this.props=R,this.context=B,this.refs=j,this.updater=F||b}_.prototype.isReactComponent={},_.prototype.setState=function(R,B){if(typeof R!="object"&&typeof R!="function"&&R!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,R,B,"setState")},_.prototype.forceUpdate=function(R){this.updater.enqueueForceUpdate(this,R,"forceUpdate")};function C(){}C.prototype=_.prototype;function E(R,B,F){this.props=R,this.context=B,this.refs=j,this.updater=F||b}var S=E.prototype=new C;S.constructor=E,N(S,_.prototype),S.isPureReactComponent=!0;var T=Array.isArray,q=Object.prototype.hasOwnProperty,A={current:null},U={key:!0,ref:!0,__self:!0,__source:!0};function K(R,B,F){var D,oe={},pe=null,se=null;if(B!=null)for(D in B.ref!==void 0&&(se=B.ref),B.key!==void 0&&(pe=""+B.key),B)q.call(B,D)&&!U.hasOwnProperty(D)&&(oe[D]=B[D]);var P=arguments.length-2;if(P===1)oe.children=F;else if(1<P){for(var Z=Array(P),le=0;le<P;le++)Z[le]=arguments[le+2];oe.children=Z}if(R&&R.defaultProps)for(D in P=R.defaultProps,P)oe[D]===void 0&&(oe[D]=P[D]);return{$$typeof:t,type:R,key:pe,ref:se,props:oe,_owner:A.current}}function ue(R,B){return{$$typeof:t,type:R.type,key:B,ref:R.ref,props:R.props,_owner:R._owner}}function V(R){return typeof R=="object"&&R!==null&&R.$$typeof===t}function O(R){var B={"=":"=0",":":"=2"};return"$"+R.replace(/[=:]/g,function(F){return B[F]})}var Y=/\/+/g;function I(R,B){return typeof R=="object"&&R!==null&&R.key!=null?O(""+R.key):B.toString(36)}function L(R,B,F,D,oe){var pe=typeof R;(pe==="undefined"||pe==="boolean")&&(R=null);var se=!1;if(R===null)se=!0;else switch(pe){case"string":case"number":se=!0;break;case"object":switch(R.$$typeof){case t:case e:se=!0}}if(se)return se=R,oe=oe(se),R=D===""?"."+I(se,0):D,T(oe)?(F="",R!=null&&(F=R.replace(Y,"$&/")+"/"),L(oe,B,F,"",function(le){return le})):oe!=null&&(V(oe)&&(oe=ue(oe,F+(!oe.key||se&&se.key===oe.key?"":(""+oe.key).replace(Y,"$&/")+"/")+R)),B.push(oe)),1;if(se=0,D=D===""?".":D+":",T(R))for(var P=0;P<R.length;P++){pe=R[P];var Z=D+I(pe,P);se+=L(pe,B,F,Z,oe)}else if(Z=w(R),typeof Z=="function")for(R=Z.call(R),P=0;!(pe=R.next()).done;)pe=pe.value,Z=D+I(pe,P++),se+=L(pe,B,F,Z,oe);else if(pe==="object")throw B=String(R),Error("Objects are not valid as a React child (found: "+(B==="[object Object]"?"object with keys {"+Object.keys(R).join(", ")+"}":B)+"). If you meant to render a collection of children, use an array instead.");return se}function ce(R,B,F){if(R==null)return R;var D=[],oe=0;return L(R,D,"","",function(pe){return B.call(F,pe,oe++)}),D}function ae(R){if(R._status===-1){var B=R._result;B=B(),B.then(function(F){(R._status===0||R._status===-1)&&(R._status=1,R._result=F)},function(F){(R._status===0||R._status===-1)&&(R._status=2,R._result=F)}),R._status===-1&&(R._status=0,R._result=B)}if(R._status===1)return R._result.default;throw R._result}var fe={current:null},z={transition:null},he={ReactCurrentDispatcher:fe,ReactCurrentBatchConfig:z,ReactCurrentOwner:A};function de(){throw Error("act(...) is not supported in production builds of React.")}return Qe.Children={map:ce,forEach:function(R,B,F){ce(R,function(){B.apply(this,arguments)},F)},count:function(R){var B=0;return ce(R,function(){B++}),B},toArray:function(R){return ce(R,function(B){return B})||[]},only:function(R){if(!V(R))throw Error("React.Children.only expected to receive a single React element child.");return R}},Qe.Component=_,Qe.Fragment=r,Qe.Profiler=i,Qe.PureComponent=E,Qe.StrictMode=o,Qe.Suspense=h,Qe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=he,Qe.act=de,Qe.cloneElement=function(R,B,F){if(R==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+R+".");var D=N({},R.props),oe=R.key,pe=R.ref,se=R._owner;if(B!=null){if(B.ref!==void 0&&(pe=B.ref,se=A.current),B.key!==void 0&&(oe=""+B.key),R.type&&R.type.defaultProps)var P=R.type.defaultProps;for(Z in B)q.call(B,Z)&&!U.hasOwnProperty(Z)&&(D[Z]=B[Z]===void 0&&P!==void 0?P[Z]:B[Z])}var Z=arguments.length-2;if(Z===1)D.children=F;else if(1<Z){P=Array(Z);for(var le=0;le<Z;le++)P[le]=arguments[le+2];D.children=P}return{$$typeof:t,type:R.type,key:oe,ref:pe,props:D,_owner:se}},Qe.createContext=function(R){return R={$$typeof:d,_currentValue:R,_currentValue2:R,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},R.Provider={$$typeof:l,_context:R},R.Consumer=R},Qe.createElement=K,Qe.createFactory=function(R){var B=K.bind(null,R);return B.type=R,B},Qe.createRef=function(){return{current:null}},Qe.forwardRef=function(R){return{$$typeof:u,render:R}},Qe.isValidElement=V,Qe.lazy=function(R){return{$$typeof:g,_payload:{_status:-1,_result:R},_init:ae}},Qe.memo=function(R,B){return{$$typeof:m,type:R,compare:B===void 0?null:B}},Qe.startTransition=function(R){var B=z.transition;z.transition={};try{R()}finally{z.transition=B}},Qe.unstable_act=de,Qe.useCallback=function(R,B){return fe.current.useCallback(R,B)},Qe.useContext=function(R){return fe.current.useContext(R)},Qe.useDebugValue=function(){},Qe.useDeferredValue=function(R){return fe.current.useDeferredValue(R)},Qe.useEffect=function(R,B){return fe.current.useEffect(R,B)},Qe.useId=function(){return fe.current.useId()},Qe.useImperativeHandle=function(R,B,F){return fe.current.useImperativeHandle(R,B,F)},Qe.useInsertionEffect=function(R,B){return fe.current.useInsertionEffect(R,B)},Qe.useLayoutEffect=function(R,B){return fe.current.useLayoutEffect(R,B)},Qe.useMemo=function(R,B){return fe.current.useMemo(R,B)},Qe.useReducer=function(R,B,F){return fe.current.useReducer(R,B,F)},Qe.useRef=function(R){return fe.current.useRef(R)},Qe.useState=function(R){return fe.current.useState(R)},Qe.useSyncExternalStore=function(R,B,F){return fe.current.useSyncExternalStore(R,B,F)},Qe.useTransition=function(){return fe.current.useTransition()},Qe.version="18.3.1",Qe}var m0;function Bm(){return m0||(m0=1,mf.exports=dE()),mf.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var p0;function uE(){if(p0)return pl;p0=1;var t=Bm(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function d(u,h,m){var g,p={},w=null,b=null;m!==void 0&&(w=""+m),h.key!==void 0&&(w=""+h.key),h.ref!==void 0&&(b=h.ref);for(g in h)o.call(h,g)&&!l.hasOwnProperty(g)&&(p[g]=h[g]);if(u&&u.defaultProps)for(g in h=u.defaultProps,h)p[g]===void 0&&(p[g]=h[g]);return{$$typeof:e,type:u,key:w,ref:b,props:p,_owner:i.current}}return pl.Fragment=r,pl.jsx=d,pl.jsxs=d,pl}var g0;function hE(){return g0||(g0=1,ff.exports=uE()),ff.exports}var n=hE(),v=Bm();const be=lu(v),_y=jy({__proto__:null,default:be},[v]);var od={},pf={exports:{}},Ar={},gf={exports:{}},xf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var x0;function fE(){return x0||(x0=1,(function(t){function e(z,he){var de=z.length;z.push(he);e:for(;0<de;){var R=de-1>>>1,B=z[R];if(0<i(B,he))z[R]=he,z[de]=B,de=R;else break e}}function r(z){return z.length===0?null:z[0]}function o(z){if(z.length===0)return null;var he=z[0],de=z.pop();if(de!==he){z[0]=de;e:for(var R=0,B=z.length,F=B>>>1;R<F;){var D=2*(R+1)-1,oe=z[D],pe=D+1,se=z[pe];if(0>i(oe,de))pe<B&&0>i(se,oe)?(z[R]=se,z[pe]=de,R=pe):(z[R]=oe,z[D]=de,R=D);else if(pe<B&&0>i(se,de))z[R]=se,z[pe]=de,R=pe;else break e}}return he}function i(z,he){var de=z.sortIndex-he.sortIndex;return de!==0?de:z.id-he.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var d=Date,u=d.now();t.unstable_now=function(){return d.now()-u}}var h=[],m=[],g=1,p=null,w=3,b=!1,N=!1,j=!1,_=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(z){for(var he=r(m);he!==null;){if(he.callback===null)o(m);else if(he.startTime<=z)o(m),he.sortIndex=he.expirationTime,e(h,he);else break;he=r(m)}}function T(z){if(j=!1,S(z),!N)if(r(h)!==null)N=!0,ae(q);else{var he=r(m);he!==null&&fe(T,he.startTime-z)}}function q(z,he){N=!1,j&&(j=!1,C(K),K=-1),b=!0;var de=w;try{for(S(he),p=r(h);p!==null&&(!(p.expirationTime>he)||z&&!O());){var R=p.callback;if(typeof R=="function"){p.callback=null,w=p.priorityLevel;var B=R(p.expirationTime<=he);he=t.unstable_now(),typeof B=="function"?p.callback=B:p===r(h)&&o(h),S(he)}else o(h);p=r(h)}if(p!==null)var F=!0;else{var D=r(m);D!==null&&fe(T,D.startTime-he),F=!1}return F}finally{p=null,w=de,b=!1}}var A=!1,U=null,K=-1,ue=5,V=-1;function O(){return!(t.unstable_now()-V<ue)}function Y(){if(U!==null){var z=t.unstable_now();V=z;var he=!0;try{he=U(!0,z)}finally{he?I():(A=!1,U=null)}}else A=!1}var I;if(typeof E=="function")I=function(){E(Y)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,ce=L.port2;L.port1.onmessage=Y,I=function(){ce.postMessage(null)}}else I=function(){_(Y,0)};function ae(z){U=z,A||(A=!0,I())}function fe(z,he){K=_(function(){z(t.unstable_now())},he)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(z){z.callback=null},t.unstable_continueExecution=function(){N||b||(N=!0,ae(q))},t.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ue=0<z?Math.floor(1e3/z):5},t.unstable_getCurrentPriorityLevel=function(){return w},t.unstable_getFirstCallbackNode=function(){return r(h)},t.unstable_next=function(z){switch(w){case 1:case 2:case 3:var he=3;break;default:he=w}var de=w;w=he;try{return z()}finally{w=de}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(z,he){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var de=w;w=z;try{return he()}finally{w=de}},t.unstable_scheduleCallback=function(z,he,de){var R=t.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?R+de:R):de=R,z){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=de+B,z={id:g++,callback:he,priorityLevel:z,startTime:de,expirationTime:B,sortIndex:-1},de>R?(z.sortIndex=de,e(m,z),r(h)===null&&z===r(m)&&(j?(C(K),K=-1):j=!0,fe(T,de-R))):(z.sortIndex=B,e(h,z),N||b||(N=!0,ae(q))),z},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(z){var he=w;return function(){var de=w;w=he;try{return z.apply(this,arguments)}finally{w=de}}}})(xf)),xf}var v0;function mE(){return v0||(v0=1,gf.exports=fE()),gf.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var y0;function pE(){if(y0)return Ar;y0=1;var t=Bm(),e=mE();function r(s){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+s,c=1;c<arguments.length;c++)a+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+s+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,i={};function l(s,a){d(s,a),d(s+"Capture",a)}function d(s,a){for(i[s]=a,s=0;s<a.length;s++)o.add(a[s])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},p={};function w(s){return h.call(p,s)?!0:h.call(g,s)?!1:m.test(s)?p[s]=!0:(g[s]=!0,!1)}function b(s,a,c,f){if(c!==null&&c.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return f?!1:c!==null?!c.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function N(s,a,c,f){if(a===null||typeof a>"u"||b(s,a,c,f))return!0;if(f)return!1;if(c!==null)switch(c.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function j(s,a,c,f,x,y,k){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=f,this.attributeNamespace=x,this.mustUseProperty=c,this.propertyName=s,this.type=a,this.sanitizeURL=y,this.removeEmptyString=k}var _={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){_[s]=new j(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var a=s[0];_[a]=new j(a,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){_[s]=new j(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){_[s]=new j(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){_[s]=new j(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){_[s]=new j(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){_[s]=new j(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){_[s]=new j(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){_[s]=new j(s,5,!1,s.toLowerCase(),null,!1,!1)});var C=/[\-:]([a-z])/g;function E(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var a=s.replace(C,E);_[a]=new j(a,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var a=s.replace(C,E);_[a]=new j(a,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var a=s.replace(C,E);_[a]=new j(a,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){_[s]=new j(s,1,!1,s.toLowerCase(),null,!1,!1)}),_.xlinkHref=new j("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){_[s]=new j(s,1,!1,s.toLowerCase(),null,!0,!0)});function S(s,a,c,f){var x=_.hasOwnProperty(a)?_[a]:null;(x!==null?x.type!==0:f||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(N(a,c,x,f)&&(c=null),f||x===null?w(a)&&(c===null?s.removeAttribute(a):s.setAttribute(a,""+c)):x.mustUseProperty?s[x.propertyName]=c===null?x.type===3?!1:"":c:(a=x.attributeName,f=x.attributeNamespace,c===null?s.removeAttribute(a):(x=x.type,c=x===3||x===4&&c===!0?"":""+c,f?s.setAttributeNS(f,a,c):s.setAttribute(a,c))))}var T=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,q=Symbol.for("react.element"),A=Symbol.for("react.portal"),U=Symbol.for("react.fragment"),K=Symbol.for("react.strict_mode"),ue=Symbol.for("react.profiler"),V=Symbol.for("react.provider"),O=Symbol.for("react.context"),Y=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),L=Symbol.for("react.suspense_list"),ce=Symbol.for("react.memo"),ae=Symbol.for("react.lazy"),fe=Symbol.for("react.offscreen"),z=Symbol.iterator;function he(s){return s===null||typeof s!="object"?null:(s=z&&s[z]||s["@@iterator"],typeof s=="function"?s:null)}var de=Object.assign,R;function B(s){if(R===void 0)try{throw Error()}catch(c){var a=c.stack.trim().match(/\n( *(at )?)/);R=a&&a[1]||""}return`
`+R+s}var F=!1;function D(s,a){if(!s||F)return"";F=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(ne){var f=ne}Reflect.construct(s,[],a)}else{try{a.call()}catch(ne){f=ne}s.call(a.prototype)}else{try{throw Error()}catch(ne){f=ne}s()}}catch(ne){if(ne&&f&&typeof ne.stack=="string"){for(var x=ne.stack.split(`
`),y=f.stack.split(`
`),k=x.length-1,$=y.length-1;1<=k&&0<=$&&x[k]!==y[$];)$--;for(;1<=k&&0<=$;k--,$--)if(x[k]!==y[$]){if(k!==1||$!==1)do if(k--,$--,0>$||x[k]!==y[$]){var H=`
`+x[k].replace(" at new "," at ");return s.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",s.displayName)),H}while(1<=k&&0<=$);break}}}finally{F=!1,Error.prepareStackTrace=c}return(s=s?s.displayName||s.name:"")?B(s):""}function oe(s){switch(s.tag){case 5:return B(s.type);case 16:return B("Lazy");case 13:return B("Suspense");case 19:return B("SuspenseList");case 0:case 2:case 15:return s=D(s.type,!1),s;case 11:return s=D(s.type.render,!1),s;case 1:return s=D(s.type,!0),s;default:return""}}function pe(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case U:return"Fragment";case A:return"Portal";case ue:return"Profiler";case K:return"StrictMode";case I:return"Suspense";case L:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case O:return(s.displayName||"Context")+".Consumer";case V:return(s._context.displayName||"Context")+".Provider";case Y:var a=s.render;return s=s.displayName,s||(s=a.displayName||a.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case ce:return a=s.displayName||null,a!==null?a:pe(s.type)||"Memo";case ae:a=s._payload,s=s._init;try{return pe(s(a))}catch{}}return null}function se(s){var a=s.type;switch(s.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=a.render,s=s.displayName||s.name||"",a.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return pe(a);case 8:return a===K?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function P(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Z(s){var a=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function le(s){var a=Z(s)?"checked":"value",c=Object.getOwnPropertyDescriptor(s.constructor.prototype,a),f=""+s[a];if(!s.hasOwnProperty(a)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var x=c.get,y=c.set;return Object.defineProperty(s,a,{configurable:!0,get:function(){return x.call(this)},set:function(k){f=""+k,y.call(this,k)}}),Object.defineProperty(s,a,{enumerable:c.enumerable}),{getValue:function(){return f},setValue:function(k){f=""+k},stopTracking:function(){s._valueTracker=null,delete s[a]}}}}function ve(s){s._valueTracker||(s._valueTracker=le(s))}function je(s){if(!s)return!1;var a=s._valueTracker;if(!a)return!0;var c=a.getValue(),f="";return s&&(f=Z(s)?s.checked?"true":"false":s.value),s=f,s!==c?(a.setValue(s),!0):!1}function Ee(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function Ae(s,a){var c=a.checked;return de({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:c??s._wrapperState.initialChecked})}function Ve(s,a){var c=a.defaultValue==null?"":a.defaultValue,f=a.checked!=null?a.checked:a.defaultChecked;c=P(a.value!=null?a.value:c),s._wrapperState={initialChecked:f,initialValue:c,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function at(s,a){a=a.checked,a!=null&&S(s,"checked",a,!1)}function yt(s,a){at(s,a);var c=P(a.value),f=a.type;if(c!=null)f==="number"?(c===0&&s.value===""||s.value!=c)&&(s.value=""+c):s.value!==""+c&&(s.value=""+c);else if(f==="submit"||f==="reset"){s.removeAttribute("value");return}a.hasOwnProperty("value")?Ze(s,a.type,c):a.hasOwnProperty("defaultValue")&&Ze(s,a.type,P(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(s.defaultChecked=!!a.defaultChecked)}function ut(s,a,c){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var f=a.type;if(!(f!=="submit"&&f!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+s._wrapperState.initialValue,c||a===s.value||(s.value=a),s.defaultValue=a}c=s.name,c!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,c!==""&&(s.name=c)}function Ze(s,a,c){(a!=="number"||Ee(s.ownerDocument)!==s)&&(c==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+c&&(s.defaultValue=""+c))}var ir=Array.isArray;function Nr(s,a,c,f){if(s=s.options,a){a={};for(var x=0;x<c.length;x++)a["$"+c[x]]=!0;for(c=0;c<s.length;c++)x=a.hasOwnProperty("$"+s[c].value),s[c].selected!==x&&(s[c].selected=x),x&&f&&(s[c].defaultSelected=!0)}else{for(c=""+P(c),a=null,x=0;x<s.length;x++){if(s[x].value===c){s[x].selected=!0,f&&(s[x].defaultSelected=!0);return}a!==null||s[x].disabled||(a=s[x])}a!==null&&(a.selected=!0)}}function ht(s,a){if(a.dangerouslySetInnerHTML!=null)throw Error(r(91));return de({},a,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function Qt(s,a){var c=a.value;if(c==null){if(c=a.children,a=a.defaultValue,c!=null){if(a!=null)throw Error(r(92));if(ir(c)){if(1<c.length)throw Error(r(93));c=c[0]}a=c}a==null&&(a=""),c=a}s._wrapperState={initialValue:P(c)}}function Rs(s,a){var c=P(a.value),f=P(a.defaultValue);c!=null&&(c=""+c,c!==s.value&&(s.value=c),a.defaultValue==null&&s.defaultValue!==c&&(s.defaultValue=c)),f!=null&&(s.defaultValue=""+f)}function As(s){var a=s.textContent;a===s._wrapperState.initialValue&&a!==""&&a!==null&&(s.value=a)}function ln(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function In(s,a){return s==null||s==="http://www.w3.org/1999/xhtml"?ln(a):s==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var lr,Mn=(function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,c,f,x){MSApp.execUnsafeLocalFunction(function(){return s(a,c,f,x)})}:s})(function(s,a){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=a;else{for(lr=lr||document.createElement("div"),lr.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=lr.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;a.firstChild;)s.appendChild(a.firstChild)}});function Q(s,a){if(a){var c=s.firstChild;if(c&&c===s.lastChild&&c.nodeType===3){c.nodeValue=a;return}}s.textContent=a}var M={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},G=["Webkit","ms","Moz","O"];Object.keys(M).forEach(function(s){G.forEach(function(a){a=a+s.charAt(0).toUpperCase()+s.substring(1),M[a]=M[s]})});function re(s,a,c){return a==null||typeof a=="boolean"||a===""?"":c||typeof a!="number"||a===0||M.hasOwnProperty(s)&&M[s]?(""+a).trim():a+"px"}function ie(s,a){s=s.style;for(var c in a)if(a.hasOwnProperty(c)){var f=c.indexOf("--")===0,x=re(c,a[c],f);c==="float"&&(c="cssFloat"),f?s.setProperty(c,x):s[c]=x}}var qe=de({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function _e(s,a){if(a){if(qe[s]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(r(137,s));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(r(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(r(61))}if(a.style!=null&&typeof a.style!="object")throw Error(r(62))}}function tt(s,a){if(s.indexOf("-")===-1)return typeof a.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ct=null;function He(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var bt=null,Rt=null,cn=null;function Co(s){if(s=el(s)){if(typeof bt!="function")throw Error(r(280));var a=s.stateNode;a&&(a=yc(a),bt(s.stateNode,s.type,a))}}function We(s){Rt?cn?cn.push(s):cn=[s]:Rt=s}function Tt(){if(Rt){var s=Rt,a=cn;if(cn=Rt=null,Co(s),a)for(s=0;s<a.length;s++)Co(a[s])}}function Wt(s,a){return s(a)}function cr(){}var Ps=!1;function Dt(s,a,c){if(Ps)return s(a,c);Ps=!0;try{return Wt(s,a,c)}finally{Ps=!1,(Rt!==null||cn!==null)&&(cr(),Tt())}}function Jt(s,a){var c=s.stateNode;if(c===null)return null;var f=yc(c);if(f===null)return null;c=f[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(s=s.type,f=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!f;break e;default:s=!1}if(s)return null;if(c&&typeof c!="function")throw Error(r(231,a,typeof c));return c}var Ts=!1;if(u)try{var rr={};Object.defineProperty(rr,"passive",{get:function(){Ts=!0}}),window.addEventListener("test",rr,rr),window.removeEventListener("test",rr,rr)}catch{Ts=!1}function Lr(s,a,c,f,x,y,k,$,H){var ne=Array.prototype.slice.call(arguments,3);try{a.apply(c,ne)}catch(xe){this.onError(xe)}}var Os=!1,Qr=null,Mi=!1,Au=null,x_={onError:function(s){Os=!0,Qr=s}};function v_(s,a,c,f,x,y,k,$,H){Os=!1,Qr=null,Lr.apply(x_,arguments)}function y_(s,a,c,f,x,y,k,$,H){if(v_.apply(this,arguments),Os){if(Os){var ne=Qr;Os=!1,Qr=null}else throw Error(r(198));Mi||(Mi=!0,Au=ne)}}function ko(s){var a=s,c=s;if(s.alternate)for(;a.return;)a=a.return;else{s=a;do a=s,(a.flags&4098)!==0&&(c=a.return),s=a.return;while(s)}return a.tag===3?c:null}function Mp(s){if(s.tag===13){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function Dp(s){if(ko(s)!==s)throw Error(r(188))}function b_(s){var a=s.alternate;if(!a){if(a=ko(s),a===null)throw Error(r(188));return a!==s?null:s}for(var c=s,f=a;;){var x=c.return;if(x===null)break;var y=x.alternate;if(y===null){if(f=x.return,f!==null){c=f;continue}break}if(x.child===y.child){for(y=x.child;y;){if(y===c)return Dp(x),s;if(y===f)return Dp(x),a;y=y.sibling}throw Error(r(188))}if(c.return!==f.return)c=x,f=y;else{for(var k=!1,$=x.child;$;){if($===c){k=!0,c=x,f=y;break}if($===f){k=!0,f=x,c=y;break}$=$.sibling}if(!k){for($=y.child;$;){if($===c){k=!0,c=y,f=x;break}if($===f){k=!0,f=y,c=x;break}$=$.sibling}if(!k)throw Error(r(189))}}if(c.alternate!==f)throw Error(r(190))}if(c.tag!==3)throw Error(r(188));return c.stateNode.current===c?s:a}function Lp(s){return s=b_(s),s!==null?$p(s):null}function $p(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var a=$p(s);if(a!==null)return a;s=s.sibling}return null}var Bp=e.unstable_scheduleCallback,Fp=e.unstable_cancelCallback,w_=e.unstable_shouldYield,j_=e.unstable_requestPaint,Ot=e.unstable_now,__=e.unstable_getCurrentPriorityLevel,Pu=e.unstable_ImmediatePriority,zp=e.unstable_UserBlockingPriority,Zl=e.unstable_NormalPriority,N_=e.unstable_LowPriority,Up=e.unstable_IdlePriority,ec=null,Dn=null;function E_(s){if(Dn&&typeof Dn.onCommitFiberRoot=="function")try{Dn.onCommitFiberRoot(ec,s,void 0,(s.current.flags&128)===128)}catch{}}var dn=Math.clz32?Math.clz32:k_,S_=Math.log,C_=Math.LN2;function k_(s){return s>>>=0,s===0?32:31-(S_(s)/C_|0)|0}var tc=64,rc=4194304;function Di(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function nc(s,a){var c=s.pendingLanes;if(c===0)return 0;var f=0,x=s.suspendedLanes,y=s.pingedLanes,k=c&268435455;if(k!==0){var $=k&~x;$!==0?f=Di($):(y&=k,y!==0&&(f=Di(y)))}else k=c&~x,k!==0?f=Di(k):y!==0&&(f=Di(y));if(f===0)return 0;if(a!==0&&a!==f&&(a&x)===0&&(x=f&-f,y=a&-a,x>=y||x===16&&(y&4194240)!==0))return a;if((f&4)!==0&&(f|=c&16),a=s.entangledLanes,a!==0)for(s=s.entanglements,a&=f;0<a;)c=31-dn(a),x=1<<c,f|=s[c],a&=~x;return f}function R_(s,a){switch(s){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function A_(s,a){for(var c=s.suspendedLanes,f=s.pingedLanes,x=s.expirationTimes,y=s.pendingLanes;0<y;){var k=31-dn(y),$=1<<k,H=x[k];H===-1?(($&c)===0||($&f)!==0)&&(x[k]=R_($,a)):H<=a&&(s.expiredLanes|=$),y&=~$}}function Tu(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function qp(){var s=tc;return tc<<=1,(tc&4194240)===0&&(tc=64),s}function Ou(s){for(var a=[],c=0;31>c;c++)a.push(s);return a}function Li(s,a,c){s.pendingLanes|=a,a!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,a=31-dn(a),s[a]=c}function P_(s,a){var c=s.pendingLanes&~a;s.pendingLanes=a,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=a,s.mutableReadLanes&=a,s.entangledLanes&=a,a=s.entanglements;var f=s.eventTimes;for(s=s.expirationTimes;0<c;){var x=31-dn(c),y=1<<x;a[x]=0,f[x]=-1,s[x]=-1,c&=~y}}function Iu(s,a){var c=s.entangledLanes|=a;for(s=s.entanglements;c;){var f=31-dn(c),x=1<<f;x&a|s[f]&a&&(s[f]|=a),c&=~x}}var it=0;function Wp(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var Vp,Mu,Hp,Kp,Gp,Du=!1,sc=[],Is=null,Ms=null,Ds=null,$i=new Map,Bi=new Map,Ls=[],T_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Qp(s,a){switch(s){case"focusin":case"focusout":Is=null;break;case"dragenter":case"dragleave":Ms=null;break;case"mouseover":case"mouseout":Ds=null;break;case"pointerover":case"pointerout":$i.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bi.delete(a.pointerId)}}function Fi(s,a,c,f,x,y){return s===null||s.nativeEvent!==y?(s={blockedOn:a,domEventName:c,eventSystemFlags:f,nativeEvent:y,targetContainers:[x]},a!==null&&(a=el(a),a!==null&&Mu(a)),s):(s.eventSystemFlags|=f,a=s.targetContainers,x!==null&&a.indexOf(x)===-1&&a.push(x),s)}function O_(s,a,c,f,x){switch(a){case"focusin":return Is=Fi(Is,s,a,c,f,x),!0;case"dragenter":return Ms=Fi(Ms,s,a,c,f,x),!0;case"mouseover":return Ds=Fi(Ds,s,a,c,f,x),!0;case"pointerover":var y=x.pointerId;return $i.set(y,Fi($i.get(y)||null,s,a,c,f,x)),!0;case"gotpointercapture":return y=x.pointerId,Bi.set(y,Fi(Bi.get(y)||null,s,a,c,f,x)),!0}return!1}function Jp(s){var a=Ro(s.target);if(a!==null){var c=ko(a);if(c!==null){if(a=c.tag,a===13){if(a=Mp(c),a!==null){s.blockedOn=a,Gp(s.priority,function(){Hp(c)});return}}else if(a===3&&c.stateNode.current.memoizedState.isDehydrated){s.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}s.blockedOn=null}function oc(s){if(s.blockedOn!==null)return!1;for(var a=s.targetContainers;0<a.length;){var c=$u(s.domEventName,s.eventSystemFlags,a[0],s.nativeEvent);if(c===null){c=s.nativeEvent;var f=new c.constructor(c.type,c);ct=f,c.target.dispatchEvent(f),ct=null}else return a=el(c),a!==null&&Mu(a),s.blockedOn=c,!1;a.shift()}return!0}function Yp(s,a,c){oc(s)&&c.delete(a)}function I_(){Du=!1,Is!==null&&oc(Is)&&(Is=null),Ms!==null&&oc(Ms)&&(Ms=null),Ds!==null&&oc(Ds)&&(Ds=null),$i.forEach(Yp),Bi.forEach(Yp)}function zi(s,a){s.blockedOn===a&&(s.blockedOn=null,Du||(Du=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,I_)))}function Ui(s){function a(x){return zi(x,s)}if(0<sc.length){zi(sc[0],s);for(var c=1;c<sc.length;c++){var f=sc[c];f.blockedOn===s&&(f.blockedOn=null)}}for(Is!==null&&zi(Is,s),Ms!==null&&zi(Ms,s),Ds!==null&&zi(Ds,s),$i.forEach(a),Bi.forEach(a),c=0;c<Ls.length;c++)f=Ls[c],f.blockedOn===s&&(f.blockedOn=null);for(;0<Ls.length&&(c=Ls[0],c.blockedOn===null);)Jp(c),c.blockedOn===null&&Ls.shift()}var wa=T.ReactCurrentBatchConfig,ac=!0;function M_(s,a,c,f){var x=it,y=wa.transition;wa.transition=null;try{it=1,Lu(s,a,c,f)}finally{it=x,wa.transition=y}}function D_(s,a,c,f){var x=it,y=wa.transition;wa.transition=null;try{it=4,Lu(s,a,c,f)}finally{it=x,wa.transition=y}}function Lu(s,a,c,f){if(ac){var x=$u(s,a,c,f);if(x===null)th(s,a,f,ic,c),Qp(s,f);else if(O_(x,s,a,c,f))f.stopPropagation();else if(Qp(s,f),a&4&&-1<T_.indexOf(s)){for(;x!==null;){var y=el(x);if(y!==null&&Vp(y),y=$u(s,a,c,f),y===null&&th(s,a,f,ic,c),y===x)break;x=y}x!==null&&f.stopPropagation()}else th(s,a,f,null,c)}}var ic=null;function $u(s,a,c,f){if(ic=null,s=He(f),s=Ro(s),s!==null)if(a=ko(s),a===null)s=null;else if(c=a.tag,c===13){if(s=Mp(a),s!==null)return s;s=null}else if(c===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;s=null}else a!==s&&(s=null);return ic=s,null}function Xp(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(__()){case Pu:return 1;case zp:return 4;case Zl:case N_:return 16;case Up:return 536870912;default:return 16}default:return 16}}var $s=null,Bu=null,lc=null;function Zp(){if(lc)return lc;var s,a=Bu,c=a.length,f,x="value"in $s?$s.value:$s.textContent,y=x.length;for(s=0;s<c&&a[s]===x[s];s++);var k=c-s;for(f=1;f<=k&&a[c-f]===x[y-f];f++);return lc=x.slice(s,1<f?1-f:void 0)}function cc(s){var a=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&a===13&&(s=13)):s=a,s===10&&(s=13),32<=s||s===13?s:0}function dc(){return!0}function eg(){return!1}function $r(s){function a(c,f,x,y,k){this._reactName=c,this._targetInst=x,this.type=f,this.nativeEvent=y,this.target=k,this.currentTarget=null;for(var $ in s)s.hasOwnProperty($)&&(c=s[$],this[$]=c?c(y):y[$]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?dc:eg,this.isPropagationStopped=eg,this}return de(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=dc)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=dc)},persist:function(){},isPersistent:dc}),a}var ja={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Fu=$r(ja),qi=de({},ja,{view:0,detail:0}),L_=$r(qi),zu,Uu,Wi,uc=de({},qi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Wu,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Wi&&(Wi&&s.type==="mousemove"?(zu=s.screenX-Wi.screenX,Uu=s.screenY-Wi.screenY):Uu=zu=0,Wi=s),zu)},movementY:function(s){return"movementY"in s?s.movementY:Uu}}),tg=$r(uc),$_=de({},uc,{dataTransfer:0}),B_=$r($_),F_=de({},qi,{relatedTarget:0}),qu=$r(F_),z_=de({},ja,{animationName:0,elapsedTime:0,pseudoElement:0}),U_=$r(z_),q_=de({},ja,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),W_=$r(q_),V_=de({},ja,{data:0}),rg=$r(V_),H_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},K_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},G_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Q_(s){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(s):(s=G_[s])?!!a[s]:!1}function Wu(){return Q_}var J_=de({},qi,{key:function(s){if(s.key){var a=H_[s.key]||s.key;if(a!=="Unidentified")return a}return s.type==="keypress"?(s=cc(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?K_[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Wu,charCode:function(s){return s.type==="keypress"?cc(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?cc(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Y_=$r(J_),X_=de({},uc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ng=$r(X_),Z_=de({},qi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Wu}),eN=$r(Z_),tN=de({},ja,{propertyName:0,elapsedTime:0,pseudoElement:0}),rN=$r(tN),nN=de({},uc,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),sN=$r(nN),oN=[9,13,27,32],Vu=u&&"CompositionEvent"in window,Vi=null;u&&"documentMode"in document&&(Vi=document.documentMode);var aN=u&&"TextEvent"in window&&!Vi,sg=u&&(!Vu||Vi&&8<Vi&&11>=Vi),og=" ",ag=!1;function ig(s,a){switch(s){case"keyup":return oN.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function lg(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var _a=!1;function iN(s,a){switch(s){case"compositionend":return lg(a);case"keypress":return a.which!==32?null:(ag=!0,og);case"textInput":return s=a.data,s===og&&ag?null:s;default:return null}}function lN(s,a){if(_a)return s==="compositionend"||!Vu&&ig(s,a)?(s=Zp(),lc=Bu=$s=null,_a=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return sg&&a.locale!=="ko"?null:a.data;default:return null}}var cN={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function cg(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a==="input"?!!cN[s.type]:a==="textarea"}function dg(s,a,c,f){We(f),a=gc(a,"onChange"),0<a.length&&(c=new Fu("onChange","change",null,c,f),s.push({event:c,listeners:a}))}var Hi=null,Ki=null;function dN(s){kg(s,0)}function hc(s){var a=ka(s);if(je(a))return s}function uN(s,a){if(s==="change")return a}var ug=!1;if(u){var Hu;if(u){var Ku="oninput"in document;if(!Ku){var hg=document.createElement("div");hg.setAttribute("oninput","return;"),Ku=typeof hg.oninput=="function"}Hu=Ku}else Hu=!1;ug=Hu&&(!document.documentMode||9<document.documentMode)}function fg(){Hi&&(Hi.detachEvent("onpropertychange",mg),Ki=Hi=null)}function mg(s){if(s.propertyName==="value"&&hc(Ki)){var a=[];dg(a,Ki,s,He(s)),Dt(dN,a)}}function hN(s,a,c){s==="focusin"?(fg(),Hi=a,Ki=c,Hi.attachEvent("onpropertychange",mg)):s==="focusout"&&fg()}function fN(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return hc(Ki)}function mN(s,a){if(s==="click")return hc(a)}function pN(s,a){if(s==="input"||s==="change")return hc(a)}function gN(s,a){return s===a&&(s!==0||1/s===1/a)||s!==s&&a!==a}var un=typeof Object.is=="function"?Object.is:gN;function Gi(s,a){if(un(s,a))return!0;if(typeof s!="object"||s===null||typeof a!="object"||a===null)return!1;var c=Object.keys(s),f=Object.keys(a);if(c.length!==f.length)return!1;for(f=0;f<c.length;f++){var x=c[f];if(!h.call(a,x)||!un(s[x],a[x]))return!1}return!0}function pg(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function gg(s,a){var c=pg(s);s=0;for(var f;c;){if(c.nodeType===3){if(f=s+c.textContent.length,s<=a&&f>=a)return{node:c,offset:a-s};s=f}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=pg(c)}}function xg(s,a){return s&&a?s===a?!0:s&&s.nodeType===3?!1:a&&a.nodeType===3?xg(s,a.parentNode):"contains"in s?s.contains(a):s.compareDocumentPosition?!!(s.compareDocumentPosition(a)&16):!1:!1}function vg(){for(var s=window,a=Ee();a instanceof s.HTMLIFrameElement;){try{var c=typeof a.contentWindow.location.href=="string"}catch{c=!1}if(c)s=a.contentWindow;else break;a=Ee(s.document)}return a}function Gu(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a&&(a==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||a==="textarea"||s.contentEditable==="true")}function xN(s){var a=vg(),c=s.focusedElem,f=s.selectionRange;if(a!==c&&c&&c.ownerDocument&&xg(c.ownerDocument.documentElement,c)){if(f!==null&&Gu(c)){if(a=f.start,s=f.end,s===void 0&&(s=a),"selectionStart"in c)c.selectionStart=a,c.selectionEnd=Math.min(s,c.value.length);else if(s=(a=c.ownerDocument||document)&&a.defaultView||window,s.getSelection){s=s.getSelection();var x=c.textContent.length,y=Math.min(f.start,x);f=f.end===void 0?y:Math.min(f.end,x),!s.extend&&y>f&&(x=f,f=y,y=x),x=gg(c,y);var k=gg(c,f);x&&k&&(s.rangeCount!==1||s.anchorNode!==x.node||s.anchorOffset!==x.offset||s.focusNode!==k.node||s.focusOffset!==k.offset)&&(a=a.createRange(),a.setStart(x.node,x.offset),s.removeAllRanges(),y>f?(s.addRange(a),s.extend(k.node,k.offset)):(a.setEnd(k.node,k.offset),s.addRange(a)))}}for(a=[],s=c;s=s.parentNode;)s.nodeType===1&&a.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<a.length;c++)s=a[c],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var vN=u&&"documentMode"in document&&11>=document.documentMode,Na=null,Qu=null,Qi=null,Ju=!1;function yg(s,a,c){var f=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;Ju||Na==null||Na!==Ee(f)||(f=Na,"selectionStart"in f&&Gu(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),Qi&&Gi(Qi,f)||(Qi=f,f=gc(Qu,"onSelect"),0<f.length&&(a=new Fu("onSelect","select",null,a,c),s.push({event:a,listeners:f}),a.target=Na)))}function fc(s,a){var c={};return c[s.toLowerCase()]=a.toLowerCase(),c["Webkit"+s]="webkit"+a,c["Moz"+s]="moz"+a,c}var Ea={animationend:fc("Animation","AnimationEnd"),animationiteration:fc("Animation","AnimationIteration"),animationstart:fc("Animation","AnimationStart"),transitionend:fc("Transition","TransitionEnd")},Yu={},bg={};u&&(bg=document.createElement("div").style,"AnimationEvent"in window||(delete Ea.animationend.animation,delete Ea.animationiteration.animation,delete Ea.animationstart.animation),"TransitionEvent"in window||delete Ea.transitionend.transition);function mc(s){if(Yu[s])return Yu[s];if(!Ea[s])return s;var a=Ea[s],c;for(c in a)if(a.hasOwnProperty(c)&&c in bg)return Yu[s]=a[c];return s}var wg=mc("animationend"),jg=mc("animationiteration"),_g=mc("animationstart"),Ng=mc("transitionend"),Eg=new Map,Sg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Bs(s,a){Eg.set(s,a),l(a,[s])}for(var Xu=0;Xu<Sg.length;Xu++){var Zu=Sg[Xu],yN=Zu.toLowerCase(),bN=Zu[0].toUpperCase()+Zu.slice(1);Bs(yN,"on"+bN)}Bs(wg,"onAnimationEnd"),Bs(jg,"onAnimationIteration"),Bs(_g,"onAnimationStart"),Bs("dblclick","onDoubleClick"),Bs("focusin","onFocus"),Bs("focusout","onBlur"),Bs(Ng,"onTransitionEnd"),d("onMouseEnter",["mouseout","mouseover"]),d("onMouseLeave",["mouseout","mouseover"]),d("onPointerEnter",["pointerout","pointerover"]),d("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ji="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),wN=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ji));function Cg(s,a,c){var f=s.type||"unknown-event";s.currentTarget=c,y_(f,a,void 0,s),s.currentTarget=null}function kg(s,a){a=(a&4)!==0;for(var c=0;c<s.length;c++){var f=s[c],x=f.event;f=f.listeners;e:{var y=void 0;if(a)for(var k=f.length-1;0<=k;k--){var $=f[k],H=$.instance,ne=$.currentTarget;if($=$.listener,H!==y&&x.isPropagationStopped())break e;Cg(x,$,ne),y=H}else for(k=0;k<f.length;k++){if($=f[k],H=$.instance,ne=$.currentTarget,$=$.listener,H!==y&&x.isPropagationStopped())break e;Cg(x,$,ne),y=H}}}if(Mi)throw s=Au,Mi=!1,Au=null,s}function gt(s,a){var c=a[ih];c===void 0&&(c=a[ih]=new Set);var f=s+"__bubble";c.has(f)||(Rg(a,s,2,!1),c.add(f))}function eh(s,a,c){var f=0;a&&(f|=4),Rg(c,s,f,a)}var pc="_reactListening"+Math.random().toString(36).slice(2);function Yi(s){if(!s[pc]){s[pc]=!0,o.forEach(function(c){c!=="selectionchange"&&(wN.has(c)||eh(c,!1,s),eh(c,!0,s))});var a=s.nodeType===9?s:s.ownerDocument;a===null||a[pc]||(a[pc]=!0,eh("selectionchange",!1,a))}}function Rg(s,a,c,f){switch(Xp(a)){case 1:var x=M_;break;case 4:x=D_;break;default:x=Lu}c=x.bind(null,a,c,s),x=void 0,!Ts||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(x=!0),f?x!==void 0?s.addEventListener(a,c,{capture:!0,passive:x}):s.addEventListener(a,c,!0):x!==void 0?s.addEventListener(a,c,{passive:x}):s.addEventListener(a,c,!1)}function th(s,a,c,f,x){var y=f;if((a&1)===0&&(a&2)===0&&f!==null)e:for(;;){if(f===null)return;var k=f.tag;if(k===3||k===4){var $=f.stateNode.containerInfo;if($===x||$.nodeType===8&&$.parentNode===x)break;if(k===4)for(k=f.return;k!==null;){var H=k.tag;if((H===3||H===4)&&(H=k.stateNode.containerInfo,H===x||H.nodeType===8&&H.parentNode===x))return;k=k.return}for(;$!==null;){if(k=Ro($),k===null)return;if(H=k.tag,H===5||H===6){f=y=k;continue e}$=$.parentNode}}f=f.return}Dt(function(){var ne=y,xe=He(c),ye=[];e:{var ge=Eg.get(s);if(ge!==void 0){var Ce=Fu,Pe=s;switch(s){case"keypress":if(cc(c)===0)break e;case"keydown":case"keyup":Ce=Y_;break;case"focusin":Pe="focus",Ce=qu;break;case"focusout":Pe="blur",Ce=qu;break;case"beforeblur":case"afterblur":Ce=qu;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ce=tg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ce=B_;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ce=eN;break;case wg:case jg:case _g:Ce=U_;break;case Ng:Ce=rN;break;case"scroll":Ce=L_;break;case"wheel":Ce=sN;break;case"copy":case"cut":case"paste":Ce=W_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ce=ng}var Ie=(a&4)!==0,It=!Ie&&s==="scroll",ee=Ie?ge!==null?ge+"Capture":null:ge;Ie=[];for(var J=ne,te;J!==null;){te=J;var we=te.stateNode;if(te.tag===5&&we!==null&&(te=we,ee!==null&&(we=Jt(J,ee),we!=null&&Ie.push(Xi(J,we,te)))),It)break;J=J.return}0<Ie.length&&(ge=new Ce(ge,Pe,null,c,xe),ye.push({event:ge,listeners:Ie}))}}if((a&7)===0){e:{if(ge=s==="mouseover"||s==="pointerover",Ce=s==="mouseout"||s==="pointerout",ge&&c!==ct&&(Pe=c.relatedTarget||c.fromElement)&&(Ro(Pe)||Pe[rs]))break e;if((Ce||ge)&&(ge=xe.window===xe?xe:(ge=xe.ownerDocument)?ge.defaultView||ge.parentWindow:window,Ce?(Pe=c.relatedTarget||c.toElement,Ce=ne,Pe=Pe?Ro(Pe):null,Pe!==null&&(It=ko(Pe),Pe!==It||Pe.tag!==5&&Pe.tag!==6)&&(Pe=null)):(Ce=null,Pe=ne),Ce!==Pe)){if(Ie=tg,we="onMouseLeave",ee="onMouseEnter",J="mouse",(s==="pointerout"||s==="pointerover")&&(Ie=ng,we="onPointerLeave",ee="onPointerEnter",J="pointer"),It=Ce==null?ge:ka(Ce),te=Pe==null?ge:ka(Pe),ge=new Ie(we,J+"leave",Ce,c,xe),ge.target=It,ge.relatedTarget=te,we=null,Ro(xe)===ne&&(Ie=new Ie(ee,J+"enter",Pe,c,xe),Ie.target=te,Ie.relatedTarget=It,we=Ie),It=we,Ce&&Pe)t:{for(Ie=Ce,ee=Pe,J=0,te=Ie;te;te=Sa(te))J++;for(te=0,we=ee;we;we=Sa(we))te++;for(;0<J-te;)Ie=Sa(Ie),J--;for(;0<te-J;)ee=Sa(ee),te--;for(;J--;){if(Ie===ee||ee!==null&&Ie===ee.alternate)break t;Ie=Sa(Ie),ee=Sa(ee)}Ie=null}else Ie=null;Ce!==null&&Ag(ye,ge,Ce,Ie,!1),Pe!==null&&It!==null&&Ag(ye,It,Pe,Ie,!0)}}e:{if(ge=ne?ka(ne):window,Ce=ge.nodeName&&ge.nodeName.toLowerCase(),Ce==="select"||Ce==="input"&&ge.type==="file")var Me=uN;else if(cg(ge))if(ug)Me=pN;else{Me=fN;var Be=hN}else(Ce=ge.nodeName)&&Ce.toLowerCase()==="input"&&(ge.type==="checkbox"||ge.type==="radio")&&(Me=mN);if(Me&&(Me=Me(s,ne))){dg(ye,Me,c,xe);break e}Be&&Be(s,ge,ne),s==="focusout"&&(Be=ge._wrapperState)&&Be.controlled&&ge.type==="number"&&Ze(ge,"number",ge.value)}switch(Be=ne?ka(ne):window,s){case"focusin":(cg(Be)||Be.contentEditable==="true")&&(Na=Be,Qu=ne,Qi=null);break;case"focusout":Qi=Qu=Na=null;break;case"mousedown":Ju=!0;break;case"contextmenu":case"mouseup":case"dragend":Ju=!1,yg(ye,c,xe);break;case"selectionchange":if(vN)break;case"keydown":case"keyup":yg(ye,c,xe)}var Fe;if(Vu)e:{switch(s){case"compositionstart":var Ue="onCompositionStart";break e;case"compositionend":Ue="onCompositionEnd";break e;case"compositionupdate":Ue="onCompositionUpdate";break e}Ue=void 0}else _a?ig(s,c)&&(Ue="onCompositionEnd"):s==="keydown"&&c.keyCode===229&&(Ue="onCompositionStart");Ue&&(sg&&c.locale!=="ko"&&(_a||Ue!=="onCompositionStart"?Ue==="onCompositionEnd"&&_a&&(Fe=Zp()):($s=xe,Bu="value"in $s?$s.value:$s.textContent,_a=!0)),Be=gc(ne,Ue),0<Be.length&&(Ue=new rg(Ue,s,null,c,xe),ye.push({event:Ue,listeners:Be}),Fe?Ue.data=Fe:(Fe=lg(c),Fe!==null&&(Ue.data=Fe)))),(Fe=aN?iN(s,c):lN(s,c))&&(ne=gc(ne,"onBeforeInput"),0<ne.length&&(xe=new rg("onBeforeInput","beforeinput",null,c,xe),ye.push({event:xe,listeners:ne}),xe.data=Fe))}kg(ye,a)})}function Xi(s,a,c){return{instance:s,listener:a,currentTarget:c}}function gc(s,a){for(var c=a+"Capture",f=[];s!==null;){var x=s,y=x.stateNode;x.tag===5&&y!==null&&(x=y,y=Jt(s,c),y!=null&&f.unshift(Xi(s,y,x)),y=Jt(s,a),y!=null&&f.push(Xi(s,y,x))),s=s.return}return f}function Sa(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function Ag(s,a,c,f,x){for(var y=a._reactName,k=[];c!==null&&c!==f;){var $=c,H=$.alternate,ne=$.stateNode;if(H!==null&&H===f)break;$.tag===5&&ne!==null&&($=ne,x?(H=Jt(c,y),H!=null&&k.unshift(Xi(c,H,$))):x||(H=Jt(c,y),H!=null&&k.push(Xi(c,H,$)))),c=c.return}k.length!==0&&s.push({event:a,listeners:k})}var jN=/\r\n?/g,_N=/\u0000|\uFFFD/g;function Pg(s){return(typeof s=="string"?s:""+s).replace(jN,`
`).replace(_N,"")}function xc(s,a,c){if(a=Pg(a),Pg(s)!==a&&c)throw Error(r(425))}function vc(){}var rh=null,nh=null;function sh(s,a){return s==="textarea"||s==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var oh=typeof setTimeout=="function"?setTimeout:void 0,NN=typeof clearTimeout=="function"?clearTimeout:void 0,Tg=typeof Promise=="function"?Promise:void 0,EN=typeof queueMicrotask=="function"?queueMicrotask:typeof Tg<"u"?function(s){return Tg.resolve(null).then(s).catch(SN)}:oh;function SN(s){setTimeout(function(){throw s})}function ah(s,a){var c=a,f=0;do{var x=c.nextSibling;if(s.removeChild(c),x&&x.nodeType===8)if(c=x.data,c==="/$"){if(f===0){s.removeChild(x),Ui(a);return}f--}else c!=="$"&&c!=="$?"&&c!=="$!"||f++;c=x}while(c);Ui(a)}function Fs(s){for(;s!=null;s=s.nextSibling){var a=s.nodeType;if(a===1||a===3)break;if(a===8){if(a=s.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return s}function Og(s){s=s.previousSibling;for(var a=0;s;){if(s.nodeType===8){var c=s.data;if(c==="$"||c==="$!"||c==="$?"){if(a===0)return s;a--}else c==="/$"&&a++}s=s.previousSibling}return null}var Ca=Math.random().toString(36).slice(2),Ln="__reactFiber$"+Ca,Zi="__reactProps$"+Ca,rs="__reactContainer$"+Ca,ih="__reactEvents$"+Ca,CN="__reactListeners$"+Ca,kN="__reactHandles$"+Ca;function Ro(s){var a=s[Ln];if(a)return a;for(var c=s.parentNode;c;){if(a=c[rs]||c[Ln]){if(c=a.alternate,a.child!==null||c!==null&&c.child!==null)for(s=Og(s);s!==null;){if(c=s[Ln])return c;s=Og(s)}return a}s=c,c=s.parentNode}return null}function el(s){return s=s[Ln]||s[rs],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function ka(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(r(33))}function yc(s){return s[Zi]||null}var lh=[],Ra=-1;function zs(s){return{current:s}}function xt(s){0>Ra||(s.current=lh[Ra],lh[Ra]=null,Ra--)}function ft(s,a){Ra++,lh[Ra]=s.current,s.current=a}var Us={},dr=zs(Us),Er=zs(!1),Ao=Us;function Aa(s,a){var c=s.type.contextTypes;if(!c)return Us;var f=s.stateNode;if(f&&f.__reactInternalMemoizedUnmaskedChildContext===a)return f.__reactInternalMemoizedMaskedChildContext;var x={},y;for(y in c)x[y]=a[y];return f&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=a,s.__reactInternalMemoizedMaskedChildContext=x),x}function Sr(s){return s=s.childContextTypes,s!=null}function bc(){xt(Er),xt(dr)}function Ig(s,a,c){if(dr.current!==Us)throw Error(r(168));ft(dr,a),ft(Er,c)}function Mg(s,a,c){var f=s.stateNode;if(a=a.childContextTypes,typeof f.getChildContext!="function")return c;f=f.getChildContext();for(var x in f)if(!(x in a))throw Error(r(108,se(s)||"Unknown",x));return de({},c,f)}function wc(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||Us,Ao=dr.current,ft(dr,s),ft(Er,Er.current),!0}function Dg(s,a,c){var f=s.stateNode;if(!f)throw Error(r(169));c?(s=Mg(s,a,Ao),f.__reactInternalMemoizedMergedChildContext=s,xt(Er),xt(dr),ft(dr,s)):xt(Er),ft(Er,c)}var ns=null,jc=!1,ch=!1;function Lg(s){ns===null?ns=[s]:ns.push(s)}function RN(s){jc=!0,Lg(s)}function qs(){if(!ch&&ns!==null){ch=!0;var s=0,a=it;try{var c=ns;for(it=1;s<c.length;s++){var f=c[s];do f=f(!0);while(f!==null)}ns=null,jc=!1}catch(x){throw ns!==null&&(ns=ns.slice(s+1)),Bp(Pu,qs),x}finally{it=a,ch=!1}}return null}var Pa=[],Ta=0,_c=null,Nc=0,Jr=[],Yr=0,Po=null,ss=1,os="";function To(s,a){Pa[Ta++]=Nc,Pa[Ta++]=_c,_c=s,Nc=a}function $g(s,a,c){Jr[Yr++]=ss,Jr[Yr++]=os,Jr[Yr++]=Po,Po=s;var f=ss;s=os;var x=32-dn(f)-1;f&=~(1<<x),c+=1;var y=32-dn(a)+x;if(30<y){var k=x-x%5;y=(f&(1<<k)-1).toString(32),f>>=k,x-=k,ss=1<<32-dn(a)+x|c<<x|f,os=y+s}else ss=1<<y|c<<x|f,os=s}function dh(s){s.return!==null&&(To(s,1),$g(s,1,0))}function uh(s){for(;s===_c;)_c=Pa[--Ta],Pa[Ta]=null,Nc=Pa[--Ta],Pa[Ta]=null;for(;s===Po;)Po=Jr[--Yr],Jr[Yr]=null,os=Jr[--Yr],Jr[Yr]=null,ss=Jr[--Yr],Jr[Yr]=null}var Br=null,Fr=null,wt=!1,hn=null;function Bg(s,a){var c=tn(5,null,null,0);c.elementType="DELETED",c.stateNode=a,c.return=s,a=s.deletions,a===null?(s.deletions=[c],s.flags|=16):a.push(c)}function Fg(s,a){switch(s.tag){case 5:var c=s.type;return a=a.nodeType!==1||c.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(s.stateNode=a,Br=s,Fr=Fs(a.firstChild),!0):!1;case 6:return a=s.pendingProps===""||a.nodeType!==3?null:a,a!==null?(s.stateNode=a,Br=s,Fr=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(c=Po!==null?{id:ss,overflow:os}:null,s.memoizedState={dehydrated:a,treeContext:c,retryLane:1073741824},c=tn(18,null,null,0),c.stateNode=a,c.return=s,s.child=c,Br=s,Fr=null,!0):!1;default:return!1}}function hh(s){return(s.mode&1)!==0&&(s.flags&128)===0}function fh(s){if(wt){var a=Fr;if(a){var c=a;if(!Fg(s,a)){if(hh(s))throw Error(r(418));a=Fs(c.nextSibling);var f=Br;a&&Fg(s,a)?Bg(f,c):(s.flags=s.flags&-4097|2,wt=!1,Br=s)}}else{if(hh(s))throw Error(r(418));s.flags=s.flags&-4097|2,wt=!1,Br=s}}}function zg(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;Br=s}function Ec(s){if(s!==Br)return!1;if(!wt)return zg(s),wt=!0,!1;var a;if((a=s.tag!==3)&&!(a=s.tag!==5)&&(a=s.type,a=a!=="head"&&a!=="body"&&!sh(s.type,s.memoizedProps)),a&&(a=Fr)){if(hh(s))throw Ug(),Error(r(418));for(;a;)Bg(s,a),a=Fs(a.nextSibling)}if(zg(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));e:{for(s=s.nextSibling,a=0;s;){if(s.nodeType===8){var c=s.data;if(c==="/$"){if(a===0){Fr=Fs(s.nextSibling);break e}a--}else c!=="$"&&c!=="$!"&&c!=="$?"||a++}s=s.nextSibling}Fr=null}}else Fr=Br?Fs(s.stateNode.nextSibling):null;return!0}function Ug(){for(var s=Fr;s;)s=Fs(s.nextSibling)}function Oa(){Fr=Br=null,wt=!1}function mh(s){hn===null?hn=[s]:hn.push(s)}var AN=T.ReactCurrentBatchConfig;function tl(s,a,c){if(s=c.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(c._owner){if(c=c._owner,c){if(c.tag!==1)throw Error(r(309));var f=c.stateNode}if(!f)throw Error(r(147,s));var x=f,y=""+s;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===y?a.ref:(a=function(k){var $=x.refs;k===null?delete $[y]:$[y]=k},a._stringRef=y,a)}if(typeof s!="string")throw Error(r(284));if(!c._owner)throw Error(r(290,s))}return s}function Sc(s,a){throw s=Object.prototype.toString.call(a),Error(r(31,s==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":s))}function qg(s){var a=s._init;return a(s._payload)}function Wg(s){function a(ee,J){if(s){var te=ee.deletions;te===null?(ee.deletions=[J],ee.flags|=16):te.push(J)}}function c(ee,J){if(!s)return null;for(;J!==null;)a(ee,J),J=J.sibling;return null}function f(ee,J){for(ee=new Map;J!==null;)J.key!==null?ee.set(J.key,J):ee.set(J.index,J),J=J.sibling;return ee}function x(ee,J){return ee=Ys(ee,J),ee.index=0,ee.sibling=null,ee}function y(ee,J,te){return ee.index=te,s?(te=ee.alternate,te!==null?(te=te.index,te<J?(ee.flags|=2,J):te):(ee.flags|=2,J)):(ee.flags|=1048576,J)}function k(ee){return s&&ee.alternate===null&&(ee.flags|=2),ee}function $(ee,J,te,we){return J===null||J.tag!==6?(J=of(te,ee.mode,we),J.return=ee,J):(J=x(J,te),J.return=ee,J)}function H(ee,J,te,we){var Me=te.type;return Me===U?xe(ee,J,te.props.children,we,te.key):J!==null&&(J.elementType===Me||typeof Me=="object"&&Me!==null&&Me.$$typeof===ae&&qg(Me)===J.type)?(we=x(J,te.props),we.ref=tl(ee,J,te),we.return=ee,we):(we=Jc(te.type,te.key,te.props,null,ee.mode,we),we.ref=tl(ee,J,te),we.return=ee,we)}function ne(ee,J,te,we){return J===null||J.tag!==4||J.stateNode.containerInfo!==te.containerInfo||J.stateNode.implementation!==te.implementation?(J=af(te,ee.mode,we),J.return=ee,J):(J=x(J,te.children||[]),J.return=ee,J)}function xe(ee,J,te,we,Me){return J===null||J.tag!==7?(J=Fo(te,ee.mode,we,Me),J.return=ee,J):(J=x(J,te),J.return=ee,J)}function ye(ee,J,te){if(typeof J=="string"&&J!==""||typeof J=="number")return J=of(""+J,ee.mode,te),J.return=ee,J;if(typeof J=="object"&&J!==null){switch(J.$$typeof){case q:return te=Jc(J.type,J.key,J.props,null,ee.mode,te),te.ref=tl(ee,null,J),te.return=ee,te;case A:return J=af(J,ee.mode,te),J.return=ee,J;case ae:var we=J._init;return ye(ee,we(J._payload),te)}if(ir(J)||he(J))return J=Fo(J,ee.mode,te,null),J.return=ee,J;Sc(ee,J)}return null}function ge(ee,J,te,we){var Me=J!==null?J.key:null;if(typeof te=="string"&&te!==""||typeof te=="number")return Me!==null?null:$(ee,J,""+te,we);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case q:return te.key===Me?H(ee,J,te,we):null;case A:return te.key===Me?ne(ee,J,te,we):null;case ae:return Me=te._init,ge(ee,J,Me(te._payload),we)}if(ir(te)||he(te))return Me!==null?null:xe(ee,J,te,we,null);Sc(ee,te)}return null}function Ce(ee,J,te,we,Me){if(typeof we=="string"&&we!==""||typeof we=="number")return ee=ee.get(te)||null,$(J,ee,""+we,Me);if(typeof we=="object"&&we!==null){switch(we.$$typeof){case q:return ee=ee.get(we.key===null?te:we.key)||null,H(J,ee,we,Me);case A:return ee=ee.get(we.key===null?te:we.key)||null,ne(J,ee,we,Me);case ae:var Be=we._init;return Ce(ee,J,te,Be(we._payload),Me)}if(ir(we)||he(we))return ee=ee.get(te)||null,xe(J,ee,we,Me,null);Sc(J,we)}return null}function Pe(ee,J,te,we){for(var Me=null,Be=null,Fe=J,Ue=J=0,Zt=null;Fe!==null&&Ue<te.length;Ue++){Fe.index>Ue?(Zt=Fe,Fe=null):Zt=Fe.sibling;var rt=ge(ee,Fe,te[Ue],we);if(rt===null){Fe===null&&(Fe=Zt);break}s&&Fe&&rt.alternate===null&&a(ee,Fe),J=y(rt,J,Ue),Be===null?Me=rt:Be.sibling=rt,Be=rt,Fe=Zt}if(Ue===te.length)return c(ee,Fe),wt&&To(ee,Ue),Me;if(Fe===null){for(;Ue<te.length;Ue++)Fe=ye(ee,te[Ue],we),Fe!==null&&(J=y(Fe,J,Ue),Be===null?Me=Fe:Be.sibling=Fe,Be=Fe);return wt&&To(ee,Ue),Me}for(Fe=f(ee,Fe);Ue<te.length;Ue++)Zt=Ce(Fe,ee,Ue,te[Ue],we),Zt!==null&&(s&&Zt.alternate!==null&&Fe.delete(Zt.key===null?Ue:Zt.key),J=y(Zt,J,Ue),Be===null?Me=Zt:Be.sibling=Zt,Be=Zt);return s&&Fe.forEach(function(Xs){return a(ee,Xs)}),wt&&To(ee,Ue),Me}function Ie(ee,J,te,we){var Me=he(te);if(typeof Me!="function")throw Error(r(150));if(te=Me.call(te),te==null)throw Error(r(151));for(var Be=Me=null,Fe=J,Ue=J=0,Zt=null,rt=te.next();Fe!==null&&!rt.done;Ue++,rt=te.next()){Fe.index>Ue?(Zt=Fe,Fe=null):Zt=Fe.sibling;var Xs=ge(ee,Fe,rt.value,we);if(Xs===null){Fe===null&&(Fe=Zt);break}s&&Fe&&Xs.alternate===null&&a(ee,Fe),J=y(Xs,J,Ue),Be===null?Me=Xs:Be.sibling=Xs,Be=Xs,Fe=Zt}if(rt.done)return c(ee,Fe),wt&&To(ee,Ue),Me;if(Fe===null){for(;!rt.done;Ue++,rt=te.next())rt=ye(ee,rt.value,we),rt!==null&&(J=y(rt,J,Ue),Be===null?Me=rt:Be.sibling=rt,Be=rt);return wt&&To(ee,Ue),Me}for(Fe=f(ee,Fe);!rt.done;Ue++,rt=te.next())rt=Ce(Fe,ee,Ue,rt.value,we),rt!==null&&(s&&rt.alternate!==null&&Fe.delete(rt.key===null?Ue:rt.key),J=y(rt,J,Ue),Be===null?Me=rt:Be.sibling=rt,Be=rt);return s&&Fe.forEach(function(cE){return a(ee,cE)}),wt&&To(ee,Ue),Me}function It(ee,J,te,we){if(typeof te=="object"&&te!==null&&te.type===U&&te.key===null&&(te=te.props.children),typeof te=="object"&&te!==null){switch(te.$$typeof){case q:e:{for(var Me=te.key,Be=J;Be!==null;){if(Be.key===Me){if(Me=te.type,Me===U){if(Be.tag===7){c(ee,Be.sibling),J=x(Be,te.props.children),J.return=ee,ee=J;break e}}else if(Be.elementType===Me||typeof Me=="object"&&Me!==null&&Me.$$typeof===ae&&qg(Me)===Be.type){c(ee,Be.sibling),J=x(Be,te.props),J.ref=tl(ee,Be,te),J.return=ee,ee=J;break e}c(ee,Be);break}else a(ee,Be);Be=Be.sibling}te.type===U?(J=Fo(te.props.children,ee.mode,we,te.key),J.return=ee,ee=J):(we=Jc(te.type,te.key,te.props,null,ee.mode,we),we.ref=tl(ee,J,te),we.return=ee,ee=we)}return k(ee);case A:e:{for(Be=te.key;J!==null;){if(J.key===Be)if(J.tag===4&&J.stateNode.containerInfo===te.containerInfo&&J.stateNode.implementation===te.implementation){c(ee,J.sibling),J=x(J,te.children||[]),J.return=ee,ee=J;break e}else{c(ee,J);break}else a(ee,J);J=J.sibling}J=af(te,ee.mode,we),J.return=ee,ee=J}return k(ee);case ae:return Be=te._init,It(ee,J,Be(te._payload),we)}if(ir(te))return Pe(ee,J,te,we);if(he(te))return Ie(ee,J,te,we);Sc(ee,te)}return typeof te=="string"&&te!==""||typeof te=="number"?(te=""+te,J!==null&&J.tag===6?(c(ee,J.sibling),J=x(J,te),J.return=ee,ee=J):(c(ee,J),J=of(te,ee.mode,we),J.return=ee,ee=J),k(ee)):c(ee,J)}return It}var Ia=Wg(!0),Vg=Wg(!1),Cc=zs(null),kc=null,Ma=null,ph=null;function gh(){ph=Ma=kc=null}function xh(s){var a=Cc.current;xt(Cc),s._currentValue=a}function vh(s,a,c){for(;s!==null;){var f=s.alternate;if((s.childLanes&a)!==a?(s.childLanes|=a,f!==null&&(f.childLanes|=a)):f!==null&&(f.childLanes&a)!==a&&(f.childLanes|=a),s===c)break;s=s.return}}function Da(s,a){kc=s,ph=Ma=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&a)!==0&&(Cr=!0),s.firstContext=null)}function Xr(s){var a=s._currentValue;if(ph!==s)if(s={context:s,memoizedValue:a,next:null},Ma===null){if(kc===null)throw Error(r(308));Ma=s,kc.dependencies={lanes:0,firstContext:s}}else Ma=Ma.next=s;return a}var Oo=null;function yh(s){Oo===null?Oo=[s]:Oo.push(s)}function Hg(s,a,c,f){var x=a.interleaved;return x===null?(c.next=c,yh(a)):(c.next=x.next,x.next=c),a.interleaved=c,as(s,f)}function as(s,a){s.lanes|=a;var c=s.alternate;for(c!==null&&(c.lanes|=a),c=s,s=s.return;s!==null;)s.childLanes|=a,c=s.alternate,c!==null&&(c.childLanes|=a),c=s,s=s.return;return c.tag===3?c.stateNode:null}var Ws=!1;function bh(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Kg(s,a){s=s.updateQueue,a.updateQueue===s&&(a.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function is(s,a){return{eventTime:s,lane:a,tag:0,payload:null,callback:null,next:null}}function Vs(s,a,c){var f=s.updateQueue;if(f===null)return null;if(f=f.shared,(et&2)!==0){var x=f.pending;return x===null?a.next=a:(a.next=x.next,x.next=a),f.pending=a,as(s,c)}return x=f.interleaved,x===null?(a.next=a,yh(f)):(a.next=x.next,x.next=a),f.interleaved=a,as(s,c)}function Rc(s,a,c){if(a=a.updateQueue,a!==null&&(a=a.shared,(c&4194240)!==0)){var f=a.lanes;f&=s.pendingLanes,c|=f,a.lanes=c,Iu(s,c)}}function Gg(s,a){var c=s.updateQueue,f=s.alternate;if(f!==null&&(f=f.updateQueue,c===f)){var x=null,y=null;if(c=c.firstBaseUpdate,c!==null){do{var k={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};y===null?x=y=k:y=y.next=k,c=c.next}while(c!==null);y===null?x=y=a:y=y.next=a}else x=y=a;c={baseState:f.baseState,firstBaseUpdate:x,lastBaseUpdate:y,shared:f.shared,effects:f.effects},s.updateQueue=c;return}s=c.lastBaseUpdate,s===null?c.firstBaseUpdate=a:s.next=a,c.lastBaseUpdate=a}function Ac(s,a,c,f){var x=s.updateQueue;Ws=!1;var y=x.firstBaseUpdate,k=x.lastBaseUpdate,$=x.shared.pending;if($!==null){x.shared.pending=null;var H=$,ne=H.next;H.next=null,k===null?y=ne:k.next=ne,k=H;var xe=s.alternate;xe!==null&&(xe=xe.updateQueue,$=xe.lastBaseUpdate,$!==k&&($===null?xe.firstBaseUpdate=ne:$.next=ne,xe.lastBaseUpdate=H))}if(y!==null){var ye=x.baseState;k=0,xe=ne=H=null,$=y;do{var ge=$.lane,Ce=$.eventTime;if((f&ge)===ge){xe!==null&&(xe=xe.next={eventTime:Ce,lane:0,tag:$.tag,payload:$.payload,callback:$.callback,next:null});e:{var Pe=s,Ie=$;switch(ge=a,Ce=c,Ie.tag){case 1:if(Pe=Ie.payload,typeof Pe=="function"){ye=Pe.call(Ce,ye,ge);break e}ye=Pe;break e;case 3:Pe.flags=Pe.flags&-65537|128;case 0:if(Pe=Ie.payload,ge=typeof Pe=="function"?Pe.call(Ce,ye,ge):Pe,ge==null)break e;ye=de({},ye,ge);break e;case 2:Ws=!0}}$.callback!==null&&$.lane!==0&&(s.flags|=64,ge=x.effects,ge===null?x.effects=[$]:ge.push($))}else Ce={eventTime:Ce,lane:ge,tag:$.tag,payload:$.payload,callback:$.callback,next:null},xe===null?(ne=xe=Ce,H=ye):xe=xe.next=Ce,k|=ge;if($=$.next,$===null){if($=x.shared.pending,$===null)break;ge=$,$=ge.next,ge.next=null,x.lastBaseUpdate=ge,x.shared.pending=null}}while(!0);if(xe===null&&(H=ye),x.baseState=H,x.firstBaseUpdate=ne,x.lastBaseUpdate=xe,a=x.shared.interleaved,a!==null){x=a;do k|=x.lane,x=x.next;while(x!==a)}else y===null&&(x.shared.lanes=0);Do|=k,s.lanes=k,s.memoizedState=ye}}function Qg(s,a,c){if(s=a.effects,a.effects=null,s!==null)for(a=0;a<s.length;a++){var f=s[a],x=f.callback;if(x!==null){if(f.callback=null,f=c,typeof x!="function")throw Error(r(191,x));x.call(f)}}}var rl={},$n=zs(rl),nl=zs(rl),sl=zs(rl);function Io(s){if(s===rl)throw Error(r(174));return s}function wh(s,a){switch(ft(sl,a),ft(nl,s),ft($n,rl),s=a.nodeType,s){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:In(null,"");break;default:s=s===8?a.parentNode:a,a=s.namespaceURI||null,s=s.tagName,a=In(a,s)}xt($n),ft($n,a)}function La(){xt($n),xt(nl),xt(sl)}function Jg(s){Io(sl.current);var a=Io($n.current),c=In(a,s.type);a!==c&&(ft(nl,s),ft($n,c))}function jh(s){nl.current===s&&(xt($n),xt(nl))}var Et=zs(0);function Pc(s){for(var a=s;a!==null;){if(a.tag===13){var c=a.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||c.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var _h=[];function Nh(){for(var s=0;s<_h.length;s++)_h[s]._workInProgressVersionPrimary=null;_h.length=0}var Tc=T.ReactCurrentDispatcher,Eh=T.ReactCurrentBatchConfig,Mo=0,St=null,Vt=null,Yt=null,Oc=!1,ol=!1,al=0,PN=0;function ur(){throw Error(r(321))}function Sh(s,a){if(a===null)return!1;for(var c=0;c<a.length&&c<s.length;c++)if(!un(s[c],a[c]))return!1;return!0}function Ch(s,a,c,f,x,y){if(Mo=y,St=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,Tc.current=s===null||s.memoizedState===null?MN:DN,s=c(f,x),ol){y=0;do{if(ol=!1,al=0,25<=y)throw Error(r(301));y+=1,Yt=Vt=null,a.updateQueue=null,Tc.current=LN,s=c(f,x)}while(ol)}if(Tc.current=Dc,a=Vt!==null&&Vt.next!==null,Mo=0,Yt=Vt=St=null,Oc=!1,a)throw Error(r(300));return s}function kh(){var s=al!==0;return al=0,s}function Bn(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Yt===null?St.memoizedState=Yt=s:Yt=Yt.next=s,Yt}function Zr(){if(Vt===null){var s=St.alternate;s=s!==null?s.memoizedState:null}else s=Vt.next;var a=Yt===null?St.memoizedState:Yt.next;if(a!==null)Yt=a,Vt=s;else{if(s===null)throw Error(r(310));Vt=s,s={memoizedState:Vt.memoizedState,baseState:Vt.baseState,baseQueue:Vt.baseQueue,queue:Vt.queue,next:null},Yt===null?St.memoizedState=Yt=s:Yt=Yt.next=s}return Yt}function il(s,a){return typeof a=="function"?a(s):a}function Rh(s){var a=Zr(),c=a.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=s;var f=Vt,x=f.baseQueue,y=c.pending;if(y!==null){if(x!==null){var k=x.next;x.next=y.next,y.next=k}f.baseQueue=x=y,c.pending=null}if(x!==null){y=x.next,f=f.baseState;var $=k=null,H=null,ne=y;do{var xe=ne.lane;if((Mo&xe)===xe)H!==null&&(H=H.next={lane:0,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null}),f=ne.hasEagerState?ne.eagerState:s(f,ne.action);else{var ye={lane:xe,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null};H===null?($=H=ye,k=f):H=H.next=ye,St.lanes|=xe,Do|=xe}ne=ne.next}while(ne!==null&&ne!==y);H===null?k=f:H.next=$,un(f,a.memoizedState)||(Cr=!0),a.memoizedState=f,a.baseState=k,a.baseQueue=H,c.lastRenderedState=f}if(s=c.interleaved,s!==null){x=s;do y=x.lane,St.lanes|=y,Do|=y,x=x.next;while(x!==s)}else x===null&&(c.lanes=0);return[a.memoizedState,c.dispatch]}function Ah(s){var a=Zr(),c=a.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=s;var f=c.dispatch,x=c.pending,y=a.memoizedState;if(x!==null){c.pending=null;var k=x=x.next;do y=s(y,k.action),k=k.next;while(k!==x);un(y,a.memoizedState)||(Cr=!0),a.memoizedState=y,a.baseQueue===null&&(a.baseState=y),c.lastRenderedState=y}return[y,f]}function Yg(){}function Xg(s,a){var c=St,f=Zr(),x=a(),y=!un(f.memoizedState,x);if(y&&(f.memoizedState=x,Cr=!0),f=f.queue,Ph(tx.bind(null,c,f,s),[s]),f.getSnapshot!==a||y||Yt!==null&&Yt.memoizedState.tag&1){if(c.flags|=2048,ll(9,ex.bind(null,c,f,x,a),void 0,null),Xt===null)throw Error(r(349));(Mo&30)!==0||Zg(c,a,x)}return x}function Zg(s,a,c){s.flags|=16384,s={getSnapshot:a,value:c},a=St.updateQueue,a===null?(a={lastEffect:null,stores:null},St.updateQueue=a,a.stores=[s]):(c=a.stores,c===null?a.stores=[s]:c.push(s))}function ex(s,a,c,f){a.value=c,a.getSnapshot=f,rx(a)&&nx(s)}function tx(s,a,c){return c(function(){rx(a)&&nx(s)})}function rx(s){var a=s.getSnapshot;s=s.value;try{var c=a();return!un(s,c)}catch{return!0}}function nx(s){var a=as(s,1);a!==null&&gn(a,s,1,-1)}function sx(s){var a=Bn();return typeof s=="function"&&(s=s()),a.memoizedState=a.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:il,lastRenderedState:s},a.queue=s,s=s.dispatch=IN.bind(null,St,s),[a.memoizedState,s]}function ll(s,a,c,f){return s={tag:s,create:a,destroy:c,deps:f,next:null},a=St.updateQueue,a===null?(a={lastEffect:null,stores:null},St.updateQueue=a,a.lastEffect=s.next=s):(c=a.lastEffect,c===null?a.lastEffect=s.next=s:(f=c.next,c.next=s,s.next=f,a.lastEffect=s)),s}function ox(){return Zr().memoizedState}function Ic(s,a,c,f){var x=Bn();St.flags|=s,x.memoizedState=ll(1|a,c,void 0,f===void 0?null:f)}function Mc(s,a,c,f){var x=Zr();f=f===void 0?null:f;var y=void 0;if(Vt!==null){var k=Vt.memoizedState;if(y=k.destroy,f!==null&&Sh(f,k.deps)){x.memoizedState=ll(a,c,y,f);return}}St.flags|=s,x.memoizedState=ll(1|a,c,y,f)}function ax(s,a){return Ic(8390656,8,s,a)}function Ph(s,a){return Mc(2048,8,s,a)}function ix(s,a){return Mc(4,2,s,a)}function lx(s,a){return Mc(4,4,s,a)}function cx(s,a){if(typeof a=="function")return s=s(),a(s),function(){a(null)};if(a!=null)return s=s(),a.current=s,function(){a.current=null}}function dx(s,a,c){return c=c!=null?c.concat([s]):null,Mc(4,4,cx.bind(null,a,s),c)}function Th(){}function ux(s,a){var c=Zr();a=a===void 0?null:a;var f=c.memoizedState;return f!==null&&a!==null&&Sh(a,f[1])?f[0]:(c.memoizedState=[s,a],s)}function hx(s,a){var c=Zr();a=a===void 0?null:a;var f=c.memoizedState;return f!==null&&a!==null&&Sh(a,f[1])?f[0]:(s=s(),c.memoizedState=[s,a],s)}function fx(s,a,c){return(Mo&21)===0?(s.baseState&&(s.baseState=!1,Cr=!0),s.memoizedState=c):(un(c,a)||(c=qp(),St.lanes|=c,Do|=c,s.baseState=!0),a)}function TN(s,a){var c=it;it=c!==0&&4>c?c:4,s(!0);var f=Eh.transition;Eh.transition={};try{s(!1),a()}finally{it=c,Eh.transition=f}}function mx(){return Zr().memoizedState}function ON(s,a,c){var f=Qs(s);if(c={lane:f,action:c,hasEagerState:!1,eagerState:null,next:null},px(s))gx(a,c);else if(c=Hg(s,a,c,f),c!==null){var x=vr();gn(c,s,f,x),xx(c,a,f)}}function IN(s,a,c){var f=Qs(s),x={lane:f,action:c,hasEagerState:!1,eagerState:null,next:null};if(px(s))gx(a,x);else{var y=s.alternate;if(s.lanes===0&&(y===null||y.lanes===0)&&(y=a.lastRenderedReducer,y!==null))try{var k=a.lastRenderedState,$=y(k,c);if(x.hasEagerState=!0,x.eagerState=$,un($,k)){var H=a.interleaved;H===null?(x.next=x,yh(a)):(x.next=H.next,H.next=x),a.interleaved=x;return}}catch{}finally{}c=Hg(s,a,x,f),c!==null&&(x=vr(),gn(c,s,f,x),xx(c,a,f))}}function px(s){var a=s.alternate;return s===St||a!==null&&a===St}function gx(s,a){ol=Oc=!0;var c=s.pending;c===null?a.next=a:(a.next=c.next,c.next=a),s.pending=a}function xx(s,a,c){if((c&4194240)!==0){var f=a.lanes;f&=s.pendingLanes,c|=f,a.lanes=c,Iu(s,c)}}var Dc={readContext:Xr,useCallback:ur,useContext:ur,useEffect:ur,useImperativeHandle:ur,useInsertionEffect:ur,useLayoutEffect:ur,useMemo:ur,useReducer:ur,useRef:ur,useState:ur,useDebugValue:ur,useDeferredValue:ur,useTransition:ur,useMutableSource:ur,useSyncExternalStore:ur,useId:ur,unstable_isNewReconciler:!1},MN={readContext:Xr,useCallback:function(s,a){return Bn().memoizedState=[s,a===void 0?null:a],s},useContext:Xr,useEffect:ax,useImperativeHandle:function(s,a,c){return c=c!=null?c.concat([s]):null,Ic(4194308,4,cx.bind(null,a,s),c)},useLayoutEffect:function(s,a){return Ic(4194308,4,s,a)},useInsertionEffect:function(s,a){return Ic(4,2,s,a)},useMemo:function(s,a){var c=Bn();return a=a===void 0?null:a,s=s(),c.memoizedState=[s,a],s},useReducer:function(s,a,c){var f=Bn();return a=c!==void 0?c(a):a,f.memoizedState=f.baseState=a,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:a},f.queue=s,s=s.dispatch=ON.bind(null,St,s),[f.memoizedState,s]},useRef:function(s){var a=Bn();return s={current:s},a.memoizedState=s},useState:sx,useDebugValue:Th,useDeferredValue:function(s){return Bn().memoizedState=s},useTransition:function(){var s=sx(!1),a=s[0];return s=TN.bind(null,s[1]),Bn().memoizedState=s,[a,s]},useMutableSource:function(){},useSyncExternalStore:function(s,a,c){var f=St,x=Bn();if(wt){if(c===void 0)throw Error(r(407));c=c()}else{if(c=a(),Xt===null)throw Error(r(349));(Mo&30)!==0||Zg(f,a,c)}x.memoizedState=c;var y={value:c,getSnapshot:a};return x.queue=y,ax(tx.bind(null,f,y,s),[s]),f.flags|=2048,ll(9,ex.bind(null,f,y,c,a),void 0,null),c},useId:function(){var s=Bn(),a=Xt.identifierPrefix;if(wt){var c=os,f=ss;c=(f&~(1<<32-dn(f)-1)).toString(32)+c,a=":"+a+"R"+c,c=al++,0<c&&(a+="H"+c.toString(32)),a+=":"}else c=PN++,a=":"+a+"r"+c.toString(32)+":";return s.memoizedState=a},unstable_isNewReconciler:!1},DN={readContext:Xr,useCallback:ux,useContext:Xr,useEffect:Ph,useImperativeHandle:dx,useInsertionEffect:ix,useLayoutEffect:lx,useMemo:hx,useReducer:Rh,useRef:ox,useState:function(){return Rh(il)},useDebugValue:Th,useDeferredValue:function(s){var a=Zr();return fx(a,Vt.memoizedState,s)},useTransition:function(){var s=Rh(il)[0],a=Zr().memoizedState;return[s,a]},useMutableSource:Yg,useSyncExternalStore:Xg,useId:mx,unstable_isNewReconciler:!1},LN={readContext:Xr,useCallback:ux,useContext:Xr,useEffect:Ph,useImperativeHandle:dx,useInsertionEffect:ix,useLayoutEffect:lx,useMemo:hx,useReducer:Ah,useRef:ox,useState:function(){return Ah(il)},useDebugValue:Th,useDeferredValue:function(s){var a=Zr();return Vt===null?a.memoizedState=s:fx(a,Vt.memoizedState,s)},useTransition:function(){var s=Ah(il)[0],a=Zr().memoizedState;return[s,a]},useMutableSource:Yg,useSyncExternalStore:Xg,useId:mx,unstable_isNewReconciler:!1};function fn(s,a){if(s&&s.defaultProps){a=de({},a),s=s.defaultProps;for(var c in s)a[c]===void 0&&(a[c]=s[c]);return a}return a}function Oh(s,a,c,f){a=s.memoizedState,c=c(f,a),c=c==null?a:de({},a,c),s.memoizedState=c,s.lanes===0&&(s.updateQueue.baseState=c)}var Lc={isMounted:function(s){return(s=s._reactInternals)?ko(s)===s:!1},enqueueSetState:function(s,a,c){s=s._reactInternals;var f=vr(),x=Qs(s),y=is(f,x);y.payload=a,c!=null&&(y.callback=c),a=Vs(s,y,x),a!==null&&(gn(a,s,x,f),Rc(a,s,x))},enqueueReplaceState:function(s,a,c){s=s._reactInternals;var f=vr(),x=Qs(s),y=is(f,x);y.tag=1,y.payload=a,c!=null&&(y.callback=c),a=Vs(s,y,x),a!==null&&(gn(a,s,x,f),Rc(a,s,x))},enqueueForceUpdate:function(s,a){s=s._reactInternals;var c=vr(),f=Qs(s),x=is(c,f);x.tag=2,a!=null&&(x.callback=a),a=Vs(s,x,f),a!==null&&(gn(a,s,f,c),Rc(a,s,f))}};function vx(s,a,c,f,x,y,k){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(f,y,k):a.prototype&&a.prototype.isPureReactComponent?!Gi(c,f)||!Gi(x,y):!0}function yx(s,a,c){var f=!1,x=Us,y=a.contextType;return typeof y=="object"&&y!==null?y=Xr(y):(x=Sr(a)?Ao:dr.current,f=a.contextTypes,y=(f=f!=null)?Aa(s,x):Us),a=new a(c,y),s.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=Lc,s.stateNode=a,a._reactInternals=s,f&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=x,s.__reactInternalMemoizedMaskedChildContext=y),a}function bx(s,a,c,f){s=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(c,f),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(c,f),a.state!==s&&Lc.enqueueReplaceState(a,a.state,null)}function Ih(s,a,c,f){var x=s.stateNode;x.props=c,x.state=s.memoizedState,x.refs={},bh(s);var y=a.contextType;typeof y=="object"&&y!==null?x.context=Xr(y):(y=Sr(a)?Ao:dr.current,x.context=Aa(s,y)),x.state=s.memoizedState,y=a.getDerivedStateFromProps,typeof y=="function"&&(Oh(s,a,y,c),x.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(a=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),a!==x.state&&Lc.enqueueReplaceState(x,x.state,null),Ac(s,c,x,f),x.state=s.memoizedState),typeof x.componentDidMount=="function"&&(s.flags|=4194308)}function $a(s,a){try{var c="",f=a;do c+=oe(f),f=f.return;while(f);var x=c}catch(y){x=`
Error generating stack: `+y.message+`
`+y.stack}return{value:s,source:a,stack:x,digest:null}}function Mh(s,a,c){return{value:s,source:null,stack:c??null,digest:a??null}}function Dh(s,a){try{console.error(a.value)}catch(c){setTimeout(function(){throw c})}}var $N=typeof WeakMap=="function"?WeakMap:Map;function wx(s,a,c){c=is(-1,c),c.tag=3,c.payload={element:null};var f=a.value;return c.callback=function(){Wc||(Wc=!0,Yh=f),Dh(s,a)},c}function jx(s,a,c){c=is(-1,c),c.tag=3;var f=s.type.getDerivedStateFromError;if(typeof f=="function"){var x=a.value;c.payload=function(){return f(x)},c.callback=function(){Dh(s,a)}}var y=s.stateNode;return y!==null&&typeof y.componentDidCatch=="function"&&(c.callback=function(){Dh(s,a),typeof f!="function"&&(Ks===null?Ks=new Set([this]):Ks.add(this));var k=a.stack;this.componentDidCatch(a.value,{componentStack:k!==null?k:""})}),c}function _x(s,a,c){var f=s.pingCache;if(f===null){f=s.pingCache=new $N;var x=new Set;f.set(a,x)}else x=f.get(a),x===void 0&&(x=new Set,f.set(a,x));x.has(c)||(x.add(c),s=XN.bind(null,s,a,c),a.then(s,s))}function Nx(s){do{var a;if((a=s.tag===13)&&(a=s.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return s;s=s.return}while(s!==null);return null}function Ex(s,a,c,f,x){return(s.mode&1)===0?(s===a?s.flags|=65536:(s.flags|=128,c.flags|=131072,c.flags&=-52805,c.tag===1&&(c.alternate===null?c.tag=17:(a=is(-1,1),a.tag=2,Vs(c,a,1))),c.lanes|=1),s):(s.flags|=65536,s.lanes=x,s)}var BN=T.ReactCurrentOwner,Cr=!1;function xr(s,a,c,f){a.child=s===null?Vg(a,null,c,f):Ia(a,s.child,c,f)}function Sx(s,a,c,f,x){c=c.render;var y=a.ref;return Da(a,x),f=Ch(s,a,c,f,y,x),c=kh(),s!==null&&!Cr?(a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~x,ls(s,a,x)):(wt&&c&&dh(a),a.flags|=1,xr(s,a,f,x),a.child)}function Cx(s,a,c,f,x){if(s===null){var y=c.type;return typeof y=="function"&&!sf(y)&&y.defaultProps===void 0&&c.compare===null&&c.defaultProps===void 0?(a.tag=15,a.type=y,kx(s,a,y,f,x)):(s=Jc(c.type,null,f,a,a.mode,x),s.ref=a.ref,s.return=a,a.child=s)}if(y=s.child,(s.lanes&x)===0){var k=y.memoizedProps;if(c=c.compare,c=c!==null?c:Gi,c(k,f)&&s.ref===a.ref)return ls(s,a,x)}return a.flags|=1,s=Ys(y,f),s.ref=a.ref,s.return=a,a.child=s}function kx(s,a,c,f,x){if(s!==null){var y=s.memoizedProps;if(Gi(y,f)&&s.ref===a.ref)if(Cr=!1,a.pendingProps=f=y,(s.lanes&x)!==0)(s.flags&131072)!==0&&(Cr=!0);else return a.lanes=s.lanes,ls(s,a,x)}return Lh(s,a,c,f,x)}function Rx(s,a,c){var f=a.pendingProps,x=f.children,y=s!==null?s.memoizedState:null;if(f.mode==="hidden")if((a.mode&1)===0)a.memoizedState={baseLanes:0,cachePool:null,transitions:null},ft(Fa,zr),zr|=c;else{if((c&1073741824)===0)return s=y!==null?y.baseLanes|c:c,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:s,cachePool:null,transitions:null},a.updateQueue=null,ft(Fa,zr),zr|=s,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},f=y!==null?y.baseLanes:c,ft(Fa,zr),zr|=f}else y!==null?(f=y.baseLanes|c,a.memoizedState=null):f=c,ft(Fa,zr),zr|=f;return xr(s,a,x,c),a.child}function Ax(s,a){var c=a.ref;(s===null&&c!==null||s!==null&&s.ref!==c)&&(a.flags|=512,a.flags|=2097152)}function Lh(s,a,c,f,x){var y=Sr(c)?Ao:dr.current;return y=Aa(a,y),Da(a,x),c=Ch(s,a,c,f,y,x),f=kh(),s!==null&&!Cr?(a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~x,ls(s,a,x)):(wt&&f&&dh(a),a.flags|=1,xr(s,a,c,x),a.child)}function Px(s,a,c,f,x){if(Sr(c)){var y=!0;wc(a)}else y=!1;if(Da(a,x),a.stateNode===null)Bc(s,a),yx(a,c,f),Ih(a,c,f,x),f=!0;else if(s===null){var k=a.stateNode,$=a.memoizedProps;k.props=$;var H=k.context,ne=c.contextType;typeof ne=="object"&&ne!==null?ne=Xr(ne):(ne=Sr(c)?Ao:dr.current,ne=Aa(a,ne));var xe=c.getDerivedStateFromProps,ye=typeof xe=="function"||typeof k.getSnapshotBeforeUpdate=="function";ye||typeof k.UNSAFE_componentWillReceiveProps!="function"&&typeof k.componentWillReceiveProps!="function"||($!==f||H!==ne)&&bx(a,k,f,ne),Ws=!1;var ge=a.memoizedState;k.state=ge,Ac(a,f,k,x),H=a.memoizedState,$!==f||ge!==H||Er.current||Ws?(typeof xe=="function"&&(Oh(a,c,xe,f),H=a.memoizedState),($=Ws||vx(a,c,$,f,ge,H,ne))?(ye||typeof k.UNSAFE_componentWillMount!="function"&&typeof k.componentWillMount!="function"||(typeof k.componentWillMount=="function"&&k.componentWillMount(),typeof k.UNSAFE_componentWillMount=="function"&&k.UNSAFE_componentWillMount()),typeof k.componentDidMount=="function"&&(a.flags|=4194308)):(typeof k.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=f,a.memoizedState=H),k.props=f,k.state=H,k.context=ne,f=$):(typeof k.componentDidMount=="function"&&(a.flags|=4194308),f=!1)}else{k=a.stateNode,Kg(s,a),$=a.memoizedProps,ne=a.type===a.elementType?$:fn(a.type,$),k.props=ne,ye=a.pendingProps,ge=k.context,H=c.contextType,typeof H=="object"&&H!==null?H=Xr(H):(H=Sr(c)?Ao:dr.current,H=Aa(a,H));var Ce=c.getDerivedStateFromProps;(xe=typeof Ce=="function"||typeof k.getSnapshotBeforeUpdate=="function")||typeof k.UNSAFE_componentWillReceiveProps!="function"&&typeof k.componentWillReceiveProps!="function"||($!==ye||ge!==H)&&bx(a,k,f,H),Ws=!1,ge=a.memoizedState,k.state=ge,Ac(a,f,k,x);var Pe=a.memoizedState;$!==ye||ge!==Pe||Er.current||Ws?(typeof Ce=="function"&&(Oh(a,c,Ce,f),Pe=a.memoizedState),(ne=Ws||vx(a,c,ne,f,ge,Pe,H)||!1)?(xe||typeof k.UNSAFE_componentWillUpdate!="function"&&typeof k.componentWillUpdate!="function"||(typeof k.componentWillUpdate=="function"&&k.componentWillUpdate(f,Pe,H),typeof k.UNSAFE_componentWillUpdate=="function"&&k.UNSAFE_componentWillUpdate(f,Pe,H)),typeof k.componentDidUpdate=="function"&&(a.flags|=4),typeof k.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof k.componentDidUpdate!="function"||$===s.memoizedProps&&ge===s.memoizedState||(a.flags|=4),typeof k.getSnapshotBeforeUpdate!="function"||$===s.memoizedProps&&ge===s.memoizedState||(a.flags|=1024),a.memoizedProps=f,a.memoizedState=Pe),k.props=f,k.state=Pe,k.context=H,f=ne):(typeof k.componentDidUpdate!="function"||$===s.memoizedProps&&ge===s.memoizedState||(a.flags|=4),typeof k.getSnapshotBeforeUpdate!="function"||$===s.memoizedProps&&ge===s.memoizedState||(a.flags|=1024),f=!1)}return $h(s,a,c,f,y,x)}function $h(s,a,c,f,x,y){Ax(s,a);var k=(a.flags&128)!==0;if(!f&&!k)return x&&Dg(a,c,!1),ls(s,a,y);f=a.stateNode,BN.current=a;var $=k&&typeof c.getDerivedStateFromError!="function"?null:f.render();return a.flags|=1,s!==null&&k?(a.child=Ia(a,s.child,null,y),a.child=Ia(a,null,$,y)):xr(s,a,$,y),a.memoizedState=f.state,x&&Dg(a,c,!0),a.child}function Tx(s){var a=s.stateNode;a.pendingContext?Ig(s,a.pendingContext,a.pendingContext!==a.context):a.context&&Ig(s,a.context,!1),wh(s,a.containerInfo)}function Ox(s,a,c,f,x){return Oa(),mh(x),a.flags|=256,xr(s,a,c,f),a.child}var Bh={dehydrated:null,treeContext:null,retryLane:0};function Fh(s){return{baseLanes:s,cachePool:null,transitions:null}}function Ix(s,a,c){var f=a.pendingProps,x=Et.current,y=!1,k=(a.flags&128)!==0,$;if(($=k)||($=s!==null&&s.memoizedState===null?!1:(x&2)!==0),$?(y=!0,a.flags&=-129):(s===null||s.memoizedState!==null)&&(x|=1),ft(Et,x&1),s===null)return fh(a),s=a.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((a.mode&1)===0?a.lanes=1:s.data==="$!"?a.lanes=8:a.lanes=1073741824,null):(k=f.children,s=f.fallback,y?(f=a.mode,y=a.child,k={mode:"hidden",children:k},(f&1)===0&&y!==null?(y.childLanes=0,y.pendingProps=k):y=Yc(k,f,0,null),s=Fo(s,f,c,null),y.return=a,s.return=a,y.sibling=s,a.child=y,a.child.memoizedState=Fh(c),a.memoizedState=Bh,s):zh(a,k));if(x=s.memoizedState,x!==null&&($=x.dehydrated,$!==null))return FN(s,a,k,f,$,x,c);if(y){y=f.fallback,k=a.mode,x=s.child,$=x.sibling;var H={mode:"hidden",children:f.children};return(k&1)===0&&a.child!==x?(f=a.child,f.childLanes=0,f.pendingProps=H,a.deletions=null):(f=Ys(x,H),f.subtreeFlags=x.subtreeFlags&14680064),$!==null?y=Ys($,y):(y=Fo(y,k,c,null),y.flags|=2),y.return=a,f.return=a,f.sibling=y,a.child=f,f=y,y=a.child,k=s.child.memoizedState,k=k===null?Fh(c):{baseLanes:k.baseLanes|c,cachePool:null,transitions:k.transitions},y.memoizedState=k,y.childLanes=s.childLanes&~c,a.memoizedState=Bh,f}return y=s.child,s=y.sibling,f=Ys(y,{mode:"visible",children:f.children}),(a.mode&1)===0&&(f.lanes=c),f.return=a,f.sibling=null,s!==null&&(c=a.deletions,c===null?(a.deletions=[s],a.flags|=16):c.push(s)),a.child=f,a.memoizedState=null,f}function zh(s,a){return a=Yc({mode:"visible",children:a},s.mode,0,null),a.return=s,s.child=a}function $c(s,a,c,f){return f!==null&&mh(f),Ia(a,s.child,null,c),s=zh(a,a.pendingProps.children),s.flags|=2,a.memoizedState=null,s}function FN(s,a,c,f,x,y,k){if(c)return a.flags&256?(a.flags&=-257,f=Mh(Error(r(422))),$c(s,a,k,f)):a.memoizedState!==null?(a.child=s.child,a.flags|=128,null):(y=f.fallback,x=a.mode,f=Yc({mode:"visible",children:f.children},x,0,null),y=Fo(y,x,k,null),y.flags|=2,f.return=a,y.return=a,f.sibling=y,a.child=f,(a.mode&1)!==0&&Ia(a,s.child,null,k),a.child.memoizedState=Fh(k),a.memoizedState=Bh,y);if((a.mode&1)===0)return $c(s,a,k,null);if(x.data==="$!"){if(f=x.nextSibling&&x.nextSibling.dataset,f)var $=f.dgst;return f=$,y=Error(r(419)),f=Mh(y,f,void 0),$c(s,a,k,f)}if($=(k&s.childLanes)!==0,Cr||$){if(f=Xt,f!==null){switch(k&-k){case 4:x=2;break;case 16:x=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:x=32;break;case 536870912:x=268435456;break;default:x=0}x=(x&(f.suspendedLanes|k))!==0?0:x,x!==0&&x!==y.retryLane&&(y.retryLane=x,as(s,x),gn(f,s,x,-1))}return nf(),f=Mh(Error(r(421))),$c(s,a,k,f)}return x.data==="$?"?(a.flags|=128,a.child=s.child,a=ZN.bind(null,s),x._reactRetry=a,null):(s=y.treeContext,Fr=Fs(x.nextSibling),Br=a,wt=!0,hn=null,s!==null&&(Jr[Yr++]=ss,Jr[Yr++]=os,Jr[Yr++]=Po,ss=s.id,os=s.overflow,Po=a),a=zh(a,f.children),a.flags|=4096,a)}function Mx(s,a,c){s.lanes|=a;var f=s.alternate;f!==null&&(f.lanes|=a),vh(s.return,a,c)}function Uh(s,a,c,f,x){var y=s.memoizedState;y===null?s.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:f,tail:c,tailMode:x}:(y.isBackwards=a,y.rendering=null,y.renderingStartTime=0,y.last=f,y.tail=c,y.tailMode=x)}function Dx(s,a,c){var f=a.pendingProps,x=f.revealOrder,y=f.tail;if(xr(s,a,f.children,c),f=Et.current,(f&2)!==0)f=f&1|2,a.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=a.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&Mx(s,c,a);else if(s.tag===19)Mx(s,c,a);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break e;for(;s.sibling===null;){if(s.return===null||s.return===a)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}f&=1}if(ft(Et,f),(a.mode&1)===0)a.memoizedState=null;else switch(x){case"forwards":for(c=a.child,x=null;c!==null;)s=c.alternate,s!==null&&Pc(s)===null&&(x=c),c=c.sibling;c=x,c===null?(x=a.child,a.child=null):(x=c.sibling,c.sibling=null),Uh(a,!1,x,c,y);break;case"backwards":for(c=null,x=a.child,a.child=null;x!==null;){if(s=x.alternate,s!==null&&Pc(s)===null){a.child=x;break}s=x.sibling,x.sibling=c,c=x,x=s}Uh(a,!0,c,null,y);break;case"together":Uh(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Bc(s,a){(a.mode&1)===0&&s!==null&&(s.alternate=null,a.alternate=null,a.flags|=2)}function ls(s,a,c){if(s!==null&&(a.dependencies=s.dependencies),Do|=a.lanes,(c&a.childLanes)===0)return null;if(s!==null&&a.child!==s.child)throw Error(r(153));if(a.child!==null){for(s=a.child,c=Ys(s,s.pendingProps),a.child=c,c.return=a;s.sibling!==null;)s=s.sibling,c=c.sibling=Ys(s,s.pendingProps),c.return=a;c.sibling=null}return a.child}function zN(s,a,c){switch(a.tag){case 3:Tx(a),Oa();break;case 5:Jg(a);break;case 1:Sr(a.type)&&wc(a);break;case 4:wh(a,a.stateNode.containerInfo);break;case 10:var f=a.type._context,x=a.memoizedProps.value;ft(Cc,f._currentValue),f._currentValue=x;break;case 13:if(f=a.memoizedState,f!==null)return f.dehydrated!==null?(ft(Et,Et.current&1),a.flags|=128,null):(c&a.child.childLanes)!==0?Ix(s,a,c):(ft(Et,Et.current&1),s=ls(s,a,c),s!==null?s.sibling:null);ft(Et,Et.current&1);break;case 19:if(f=(c&a.childLanes)!==0,(s.flags&128)!==0){if(f)return Dx(s,a,c);a.flags|=128}if(x=a.memoizedState,x!==null&&(x.rendering=null,x.tail=null,x.lastEffect=null),ft(Et,Et.current),f)break;return null;case 22:case 23:return a.lanes=0,Rx(s,a,c)}return ls(s,a,c)}var Lx,qh,$x,Bx;Lx=function(s,a){for(var c=a.child;c!==null;){if(c.tag===5||c.tag===6)s.appendChild(c.stateNode);else if(c.tag!==4&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===a)break;for(;c.sibling===null;){if(c.return===null||c.return===a)return;c=c.return}c.sibling.return=c.return,c=c.sibling}},qh=function(){},$x=function(s,a,c,f){var x=s.memoizedProps;if(x!==f){s=a.stateNode,Io($n.current);var y=null;switch(c){case"input":x=Ae(s,x),f=Ae(s,f),y=[];break;case"select":x=de({},x,{value:void 0}),f=de({},f,{value:void 0}),y=[];break;case"textarea":x=ht(s,x),f=ht(s,f),y=[];break;default:typeof x.onClick!="function"&&typeof f.onClick=="function"&&(s.onclick=vc)}_e(c,f);var k;c=null;for(ne in x)if(!f.hasOwnProperty(ne)&&x.hasOwnProperty(ne)&&x[ne]!=null)if(ne==="style"){var $=x[ne];for(k in $)$.hasOwnProperty(k)&&(c||(c={}),c[k]="")}else ne!=="dangerouslySetInnerHTML"&&ne!=="children"&&ne!=="suppressContentEditableWarning"&&ne!=="suppressHydrationWarning"&&ne!=="autoFocus"&&(i.hasOwnProperty(ne)?y||(y=[]):(y=y||[]).push(ne,null));for(ne in f){var H=f[ne];if($=x!=null?x[ne]:void 0,f.hasOwnProperty(ne)&&H!==$&&(H!=null||$!=null))if(ne==="style")if($){for(k in $)!$.hasOwnProperty(k)||H&&H.hasOwnProperty(k)||(c||(c={}),c[k]="");for(k in H)H.hasOwnProperty(k)&&$[k]!==H[k]&&(c||(c={}),c[k]=H[k])}else c||(y||(y=[]),y.push(ne,c)),c=H;else ne==="dangerouslySetInnerHTML"?(H=H?H.__html:void 0,$=$?$.__html:void 0,H!=null&&$!==H&&(y=y||[]).push(ne,H)):ne==="children"?typeof H!="string"&&typeof H!="number"||(y=y||[]).push(ne,""+H):ne!=="suppressContentEditableWarning"&&ne!=="suppressHydrationWarning"&&(i.hasOwnProperty(ne)?(H!=null&&ne==="onScroll"&&gt("scroll",s),y||$===H||(y=[])):(y=y||[]).push(ne,H))}c&&(y=y||[]).push("style",c);var ne=y;(a.updateQueue=ne)&&(a.flags|=4)}},Bx=function(s,a,c,f){c!==f&&(a.flags|=4)};function cl(s,a){if(!wt)switch(s.tailMode){case"hidden":a=s.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?s.tail=null:c.sibling=null;break;case"collapsed":c=s.tail;for(var f=null;c!==null;)c.alternate!==null&&(f=c),c=c.sibling;f===null?a||s.tail===null?s.tail=null:s.tail.sibling=null:f.sibling=null}}function hr(s){var a=s.alternate!==null&&s.alternate.child===s.child,c=0,f=0;if(a)for(var x=s.child;x!==null;)c|=x.lanes|x.childLanes,f|=x.subtreeFlags&14680064,f|=x.flags&14680064,x.return=s,x=x.sibling;else for(x=s.child;x!==null;)c|=x.lanes|x.childLanes,f|=x.subtreeFlags,f|=x.flags,x.return=s,x=x.sibling;return s.subtreeFlags|=f,s.childLanes=c,a}function UN(s,a,c){var f=a.pendingProps;switch(uh(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return hr(a),null;case 1:return Sr(a.type)&&bc(),hr(a),null;case 3:return f=a.stateNode,La(),xt(Er),xt(dr),Nh(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(s===null||s.child===null)&&(Ec(a)?a.flags|=4:s===null||s.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,hn!==null&&(ef(hn),hn=null))),qh(s,a),hr(a),null;case 5:jh(a);var x=Io(sl.current);if(c=a.type,s!==null&&a.stateNode!=null)$x(s,a,c,f,x),s.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!f){if(a.stateNode===null)throw Error(r(166));return hr(a),null}if(s=Io($n.current),Ec(a)){f=a.stateNode,c=a.type;var y=a.memoizedProps;switch(f[Ln]=a,f[Zi]=y,s=(a.mode&1)!==0,c){case"dialog":gt("cancel",f),gt("close",f);break;case"iframe":case"object":case"embed":gt("load",f);break;case"video":case"audio":for(x=0;x<Ji.length;x++)gt(Ji[x],f);break;case"source":gt("error",f);break;case"img":case"image":case"link":gt("error",f),gt("load",f);break;case"details":gt("toggle",f);break;case"input":Ve(f,y),gt("invalid",f);break;case"select":f._wrapperState={wasMultiple:!!y.multiple},gt("invalid",f);break;case"textarea":Qt(f,y),gt("invalid",f)}_e(c,y),x=null;for(var k in y)if(y.hasOwnProperty(k)){var $=y[k];k==="children"?typeof $=="string"?f.textContent!==$&&(y.suppressHydrationWarning!==!0&&xc(f.textContent,$,s),x=["children",$]):typeof $=="number"&&f.textContent!==""+$&&(y.suppressHydrationWarning!==!0&&xc(f.textContent,$,s),x=["children",""+$]):i.hasOwnProperty(k)&&$!=null&&k==="onScroll"&&gt("scroll",f)}switch(c){case"input":ve(f),ut(f,y,!0);break;case"textarea":ve(f),As(f);break;case"select":case"option":break;default:typeof y.onClick=="function"&&(f.onclick=vc)}f=x,a.updateQueue=f,f!==null&&(a.flags|=4)}else{k=x.nodeType===9?x:x.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=ln(c)),s==="http://www.w3.org/1999/xhtml"?c==="script"?(s=k.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof f.is=="string"?s=k.createElement(c,{is:f.is}):(s=k.createElement(c),c==="select"&&(k=s,f.multiple?k.multiple=!0:f.size&&(k.size=f.size))):s=k.createElementNS(s,c),s[Ln]=a,s[Zi]=f,Lx(s,a,!1,!1),a.stateNode=s;e:{switch(k=tt(c,f),c){case"dialog":gt("cancel",s),gt("close",s),x=f;break;case"iframe":case"object":case"embed":gt("load",s),x=f;break;case"video":case"audio":for(x=0;x<Ji.length;x++)gt(Ji[x],s);x=f;break;case"source":gt("error",s),x=f;break;case"img":case"image":case"link":gt("error",s),gt("load",s),x=f;break;case"details":gt("toggle",s),x=f;break;case"input":Ve(s,f),x=Ae(s,f),gt("invalid",s);break;case"option":x=f;break;case"select":s._wrapperState={wasMultiple:!!f.multiple},x=de({},f,{value:void 0}),gt("invalid",s);break;case"textarea":Qt(s,f),x=ht(s,f),gt("invalid",s);break;default:x=f}_e(c,x),$=x;for(y in $)if($.hasOwnProperty(y)){var H=$[y];y==="style"?ie(s,H):y==="dangerouslySetInnerHTML"?(H=H?H.__html:void 0,H!=null&&Mn(s,H)):y==="children"?typeof H=="string"?(c!=="textarea"||H!=="")&&Q(s,H):typeof H=="number"&&Q(s,""+H):y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&y!=="autoFocus"&&(i.hasOwnProperty(y)?H!=null&&y==="onScroll"&&gt("scroll",s):H!=null&&S(s,y,H,k))}switch(c){case"input":ve(s),ut(s,f,!1);break;case"textarea":ve(s),As(s);break;case"option":f.value!=null&&s.setAttribute("value",""+P(f.value));break;case"select":s.multiple=!!f.multiple,y=f.value,y!=null?Nr(s,!!f.multiple,y,!1):f.defaultValue!=null&&Nr(s,!!f.multiple,f.defaultValue,!0);break;default:typeof x.onClick=="function"&&(s.onclick=vc)}switch(c){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}}f&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return hr(a),null;case 6:if(s&&a.stateNode!=null)Bx(s,a,s.memoizedProps,f);else{if(typeof f!="string"&&a.stateNode===null)throw Error(r(166));if(c=Io(sl.current),Io($n.current),Ec(a)){if(f=a.stateNode,c=a.memoizedProps,f[Ln]=a,(y=f.nodeValue!==c)&&(s=Br,s!==null))switch(s.tag){case 3:xc(f.nodeValue,c,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&xc(f.nodeValue,c,(s.mode&1)!==0)}y&&(a.flags|=4)}else f=(c.nodeType===9?c:c.ownerDocument).createTextNode(f),f[Ln]=a,a.stateNode=f}return hr(a),null;case 13:if(xt(Et),f=a.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(wt&&Fr!==null&&(a.mode&1)!==0&&(a.flags&128)===0)Ug(),Oa(),a.flags|=98560,y=!1;else if(y=Ec(a),f!==null&&f.dehydrated!==null){if(s===null){if(!y)throw Error(r(318));if(y=a.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(r(317));y[Ln]=a}else Oa(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;hr(a),y=!1}else hn!==null&&(ef(hn),hn=null),y=!0;if(!y)return a.flags&65536?a:null}return(a.flags&128)!==0?(a.lanes=c,a):(f=f!==null,f!==(s!==null&&s.memoizedState!==null)&&f&&(a.child.flags|=8192,(a.mode&1)!==0&&(s===null||(Et.current&1)!==0?Ht===0&&(Ht=3):nf())),a.updateQueue!==null&&(a.flags|=4),hr(a),null);case 4:return La(),qh(s,a),s===null&&Yi(a.stateNode.containerInfo),hr(a),null;case 10:return xh(a.type._context),hr(a),null;case 17:return Sr(a.type)&&bc(),hr(a),null;case 19:if(xt(Et),y=a.memoizedState,y===null)return hr(a),null;if(f=(a.flags&128)!==0,k=y.rendering,k===null)if(f)cl(y,!1);else{if(Ht!==0||s!==null&&(s.flags&128)!==0)for(s=a.child;s!==null;){if(k=Pc(s),k!==null){for(a.flags|=128,cl(y,!1),f=k.updateQueue,f!==null&&(a.updateQueue=f,a.flags|=4),a.subtreeFlags=0,f=c,c=a.child;c!==null;)y=c,s=f,y.flags&=14680066,k=y.alternate,k===null?(y.childLanes=0,y.lanes=s,y.child=null,y.subtreeFlags=0,y.memoizedProps=null,y.memoizedState=null,y.updateQueue=null,y.dependencies=null,y.stateNode=null):(y.childLanes=k.childLanes,y.lanes=k.lanes,y.child=k.child,y.subtreeFlags=0,y.deletions=null,y.memoizedProps=k.memoizedProps,y.memoizedState=k.memoizedState,y.updateQueue=k.updateQueue,y.type=k.type,s=k.dependencies,y.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),c=c.sibling;return ft(Et,Et.current&1|2),a.child}s=s.sibling}y.tail!==null&&Ot()>za&&(a.flags|=128,f=!0,cl(y,!1),a.lanes=4194304)}else{if(!f)if(s=Pc(k),s!==null){if(a.flags|=128,f=!0,c=s.updateQueue,c!==null&&(a.updateQueue=c,a.flags|=4),cl(y,!0),y.tail===null&&y.tailMode==="hidden"&&!k.alternate&&!wt)return hr(a),null}else 2*Ot()-y.renderingStartTime>za&&c!==1073741824&&(a.flags|=128,f=!0,cl(y,!1),a.lanes=4194304);y.isBackwards?(k.sibling=a.child,a.child=k):(c=y.last,c!==null?c.sibling=k:a.child=k,y.last=k)}return y.tail!==null?(a=y.tail,y.rendering=a,y.tail=a.sibling,y.renderingStartTime=Ot(),a.sibling=null,c=Et.current,ft(Et,f?c&1|2:c&1),a):(hr(a),null);case 22:case 23:return rf(),f=a.memoizedState!==null,s!==null&&s.memoizedState!==null!==f&&(a.flags|=8192),f&&(a.mode&1)!==0?(zr&1073741824)!==0&&(hr(a),a.subtreeFlags&6&&(a.flags|=8192)):hr(a),null;case 24:return null;case 25:return null}throw Error(r(156,a.tag))}function qN(s,a){switch(uh(a),a.tag){case 1:return Sr(a.type)&&bc(),s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 3:return La(),xt(Er),xt(dr),Nh(),s=a.flags,(s&65536)!==0&&(s&128)===0?(a.flags=s&-65537|128,a):null;case 5:return jh(a),null;case 13:if(xt(Et),s=a.memoizedState,s!==null&&s.dehydrated!==null){if(a.alternate===null)throw Error(r(340));Oa()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 19:return xt(Et),null;case 4:return La(),null;case 10:return xh(a.type._context),null;case 22:case 23:return rf(),null;case 24:return null;default:return null}}var Fc=!1,fr=!1,WN=typeof WeakSet=="function"?WeakSet:Set,ke=null;function Ba(s,a){var c=s.ref;if(c!==null)if(typeof c=="function")try{c(null)}catch(f){At(s,a,f)}else c.current=null}function Wh(s,a,c){try{c()}catch(f){At(s,a,f)}}var Fx=!1;function VN(s,a){if(rh=ac,s=vg(),Gu(s)){if("selectionStart"in s)var c={start:s.selectionStart,end:s.selectionEnd};else e:{c=(c=s.ownerDocument)&&c.defaultView||window;var f=c.getSelection&&c.getSelection();if(f&&f.rangeCount!==0){c=f.anchorNode;var x=f.anchorOffset,y=f.focusNode;f=f.focusOffset;try{c.nodeType,y.nodeType}catch{c=null;break e}var k=0,$=-1,H=-1,ne=0,xe=0,ye=s,ge=null;t:for(;;){for(var Ce;ye!==c||x!==0&&ye.nodeType!==3||($=k+x),ye!==y||f!==0&&ye.nodeType!==3||(H=k+f),ye.nodeType===3&&(k+=ye.nodeValue.length),(Ce=ye.firstChild)!==null;)ge=ye,ye=Ce;for(;;){if(ye===s)break t;if(ge===c&&++ne===x&&($=k),ge===y&&++xe===f&&(H=k),(Ce=ye.nextSibling)!==null)break;ye=ge,ge=ye.parentNode}ye=Ce}c=$===-1||H===-1?null:{start:$,end:H}}else c=null}c=c||{start:0,end:0}}else c=null;for(nh={focusedElem:s,selectionRange:c},ac=!1,ke=a;ke!==null;)if(a=ke,s=a.child,(a.subtreeFlags&1028)!==0&&s!==null)s.return=a,ke=s;else for(;ke!==null;){a=ke;try{var Pe=a.alternate;if((a.flags&1024)!==0)switch(a.tag){case 0:case 11:case 15:break;case 1:if(Pe!==null){var Ie=Pe.memoizedProps,It=Pe.memoizedState,ee=a.stateNode,J=ee.getSnapshotBeforeUpdate(a.elementType===a.type?Ie:fn(a.type,Ie),It);ee.__reactInternalSnapshotBeforeUpdate=J}break;case 3:var te=a.stateNode.containerInfo;te.nodeType===1?te.textContent="":te.nodeType===9&&te.documentElement&&te.removeChild(te.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(we){At(a,a.return,we)}if(s=a.sibling,s!==null){s.return=a.return,ke=s;break}ke=a.return}return Pe=Fx,Fx=!1,Pe}function dl(s,a,c){var f=a.updateQueue;if(f=f!==null?f.lastEffect:null,f!==null){var x=f=f.next;do{if((x.tag&s)===s){var y=x.destroy;x.destroy=void 0,y!==void 0&&Wh(a,c,y)}x=x.next}while(x!==f)}}function zc(s,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var c=a=a.next;do{if((c.tag&s)===s){var f=c.create;c.destroy=f()}c=c.next}while(c!==a)}}function Vh(s){var a=s.ref;if(a!==null){var c=s.stateNode;switch(s.tag){case 5:s=c;break;default:s=c}typeof a=="function"?a(s):a.current=s}}function zx(s){var a=s.alternate;a!==null&&(s.alternate=null,zx(a)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(a=s.stateNode,a!==null&&(delete a[Ln],delete a[Zi],delete a[ih],delete a[CN],delete a[kN])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function Ux(s){return s.tag===5||s.tag===3||s.tag===4}function qx(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||Ux(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Hh(s,a,c){var f=s.tag;if(f===5||f===6)s=s.stateNode,a?c.nodeType===8?c.parentNode.insertBefore(s,a):c.insertBefore(s,a):(c.nodeType===8?(a=c.parentNode,a.insertBefore(s,c)):(a=c,a.appendChild(s)),c=c._reactRootContainer,c!=null||a.onclick!==null||(a.onclick=vc));else if(f!==4&&(s=s.child,s!==null))for(Hh(s,a,c),s=s.sibling;s!==null;)Hh(s,a,c),s=s.sibling}function Kh(s,a,c){var f=s.tag;if(f===5||f===6)s=s.stateNode,a?c.insertBefore(s,a):c.appendChild(s);else if(f!==4&&(s=s.child,s!==null))for(Kh(s,a,c),s=s.sibling;s!==null;)Kh(s,a,c),s=s.sibling}var nr=null,mn=!1;function Hs(s,a,c){for(c=c.child;c!==null;)Wx(s,a,c),c=c.sibling}function Wx(s,a,c){if(Dn&&typeof Dn.onCommitFiberUnmount=="function")try{Dn.onCommitFiberUnmount(ec,c)}catch{}switch(c.tag){case 5:fr||Ba(c,a);case 6:var f=nr,x=mn;nr=null,Hs(s,a,c),nr=f,mn=x,nr!==null&&(mn?(s=nr,c=c.stateNode,s.nodeType===8?s.parentNode.removeChild(c):s.removeChild(c)):nr.removeChild(c.stateNode));break;case 18:nr!==null&&(mn?(s=nr,c=c.stateNode,s.nodeType===8?ah(s.parentNode,c):s.nodeType===1&&ah(s,c),Ui(s)):ah(nr,c.stateNode));break;case 4:f=nr,x=mn,nr=c.stateNode.containerInfo,mn=!0,Hs(s,a,c),nr=f,mn=x;break;case 0:case 11:case 14:case 15:if(!fr&&(f=c.updateQueue,f!==null&&(f=f.lastEffect,f!==null))){x=f=f.next;do{var y=x,k=y.destroy;y=y.tag,k!==void 0&&((y&2)!==0||(y&4)!==0)&&Wh(c,a,k),x=x.next}while(x!==f)}Hs(s,a,c);break;case 1:if(!fr&&(Ba(c,a),f=c.stateNode,typeof f.componentWillUnmount=="function"))try{f.props=c.memoizedProps,f.state=c.memoizedState,f.componentWillUnmount()}catch($){At(c,a,$)}Hs(s,a,c);break;case 21:Hs(s,a,c);break;case 22:c.mode&1?(fr=(f=fr)||c.memoizedState!==null,Hs(s,a,c),fr=f):Hs(s,a,c);break;default:Hs(s,a,c)}}function Vx(s){var a=s.updateQueue;if(a!==null){s.updateQueue=null;var c=s.stateNode;c===null&&(c=s.stateNode=new WN),a.forEach(function(f){var x=eE.bind(null,s,f);c.has(f)||(c.add(f),f.then(x,x))})}}function pn(s,a){var c=a.deletions;if(c!==null)for(var f=0;f<c.length;f++){var x=c[f];try{var y=s,k=a,$=k;e:for(;$!==null;){switch($.tag){case 5:nr=$.stateNode,mn=!1;break e;case 3:nr=$.stateNode.containerInfo,mn=!0;break e;case 4:nr=$.stateNode.containerInfo,mn=!0;break e}$=$.return}if(nr===null)throw Error(r(160));Wx(y,k,x),nr=null,mn=!1;var H=x.alternate;H!==null&&(H.return=null),x.return=null}catch(ne){At(x,a,ne)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)Hx(a,s),a=a.sibling}function Hx(s,a){var c=s.alternate,f=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(pn(a,s),Fn(s),f&4){try{dl(3,s,s.return),zc(3,s)}catch(Ie){At(s,s.return,Ie)}try{dl(5,s,s.return)}catch(Ie){At(s,s.return,Ie)}}break;case 1:pn(a,s),Fn(s),f&512&&c!==null&&Ba(c,c.return);break;case 5:if(pn(a,s),Fn(s),f&512&&c!==null&&Ba(c,c.return),s.flags&32){var x=s.stateNode;try{Q(x,"")}catch(Ie){At(s,s.return,Ie)}}if(f&4&&(x=s.stateNode,x!=null)){var y=s.memoizedProps,k=c!==null?c.memoizedProps:y,$=s.type,H=s.updateQueue;if(s.updateQueue=null,H!==null)try{$==="input"&&y.type==="radio"&&y.name!=null&&at(x,y),tt($,k);var ne=tt($,y);for(k=0;k<H.length;k+=2){var xe=H[k],ye=H[k+1];xe==="style"?ie(x,ye):xe==="dangerouslySetInnerHTML"?Mn(x,ye):xe==="children"?Q(x,ye):S(x,xe,ye,ne)}switch($){case"input":yt(x,y);break;case"textarea":Rs(x,y);break;case"select":var ge=x._wrapperState.wasMultiple;x._wrapperState.wasMultiple=!!y.multiple;var Ce=y.value;Ce!=null?Nr(x,!!y.multiple,Ce,!1):ge!==!!y.multiple&&(y.defaultValue!=null?Nr(x,!!y.multiple,y.defaultValue,!0):Nr(x,!!y.multiple,y.multiple?[]:"",!1))}x[Zi]=y}catch(Ie){At(s,s.return,Ie)}}break;case 6:if(pn(a,s),Fn(s),f&4){if(s.stateNode===null)throw Error(r(162));x=s.stateNode,y=s.memoizedProps;try{x.nodeValue=y}catch(Ie){At(s,s.return,Ie)}}break;case 3:if(pn(a,s),Fn(s),f&4&&c!==null&&c.memoizedState.isDehydrated)try{Ui(a.containerInfo)}catch(Ie){At(s,s.return,Ie)}break;case 4:pn(a,s),Fn(s);break;case 13:pn(a,s),Fn(s),x=s.child,x.flags&8192&&(y=x.memoizedState!==null,x.stateNode.isHidden=y,!y||x.alternate!==null&&x.alternate.memoizedState!==null||(Jh=Ot())),f&4&&Vx(s);break;case 22:if(xe=c!==null&&c.memoizedState!==null,s.mode&1?(fr=(ne=fr)||xe,pn(a,s),fr=ne):pn(a,s),Fn(s),f&8192){if(ne=s.memoizedState!==null,(s.stateNode.isHidden=ne)&&!xe&&(s.mode&1)!==0)for(ke=s,xe=s.child;xe!==null;){for(ye=ke=xe;ke!==null;){switch(ge=ke,Ce=ge.child,ge.tag){case 0:case 11:case 14:case 15:dl(4,ge,ge.return);break;case 1:Ba(ge,ge.return);var Pe=ge.stateNode;if(typeof Pe.componentWillUnmount=="function"){f=ge,c=ge.return;try{a=f,Pe.props=a.memoizedProps,Pe.state=a.memoizedState,Pe.componentWillUnmount()}catch(Ie){At(f,c,Ie)}}break;case 5:Ba(ge,ge.return);break;case 22:if(ge.memoizedState!==null){Qx(ye);continue}}Ce!==null?(Ce.return=ge,ke=Ce):Qx(ye)}xe=xe.sibling}e:for(xe=null,ye=s;;){if(ye.tag===5){if(xe===null){xe=ye;try{x=ye.stateNode,ne?(y=x.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none"):($=ye.stateNode,H=ye.memoizedProps.style,k=H!=null&&H.hasOwnProperty("display")?H.display:null,$.style.display=re("display",k))}catch(Ie){At(s,s.return,Ie)}}}else if(ye.tag===6){if(xe===null)try{ye.stateNode.nodeValue=ne?"":ye.memoizedProps}catch(Ie){At(s,s.return,Ie)}}else if((ye.tag!==22&&ye.tag!==23||ye.memoizedState===null||ye===s)&&ye.child!==null){ye.child.return=ye,ye=ye.child;continue}if(ye===s)break e;for(;ye.sibling===null;){if(ye.return===null||ye.return===s)break e;xe===ye&&(xe=null),ye=ye.return}xe===ye&&(xe=null),ye.sibling.return=ye.return,ye=ye.sibling}}break;case 19:pn(a,s),Fn(s),f&4&&Vx(s);break;case 21:break;default:pn(a,s),Fn(s)}}function Fn(s){var a=s.flags;if(a&2){try{e:{for(var c=s.return;c!==null;){if(Ux(c)){var f=c;break e}c=c.return}throw Error(r(160))}switch(f.tag){case 5:var x=f.stateNode;f.flags&32&&(Q(x,""),f.flags&=-33);var y=qx(s);Kh(s,y,x);break;case 3:case 4:var k=f.stateNode.containerInfo,$=qx(s);Hh(s,$,k);break;default:throw Error(r(161))}}catch(H){At(s,s.return,H)}s.flags&=-3}a&4096&&(s.flags&=-4097)}function HN(s,a,c){ke=s,Kx(s)}function Kx(s,a,c){for(var f=(s.mode&1)!==0;ke!==null;){var x=ke,y=x.child;if(x.tag===22&&f){var k=x.memoizedState!==null||Fc;if(!k){var $=x.alternate,H=$!==null&&$.memoizedState!==null||fr;$=Fc;var ne=fr;if(Fc=k,(fr=H)&&!ne)for(ke=x;ke!==null;)k=ke,H=k.child,k.tag===22&&k.memoizedState!==null?Jx(x):H!==null?(H.return=k,ke=H):Jx(x);for(;y!==null;)ke=y,Kx(y),y=y.sibling;ke=x,Fc=$,fr=ne}Gx(s)}else(x.subtreeFlags&8772)!==0&&y!==null?(y.return=x,ke=y):Gx(s)}}function Gx(s){for(;ke!==null;){var a=ke;if((a.flags&8772)!==0){var c=a.alternate;try{if((a.flags&8772)!==0)switch(a.tag){case 0:case 11:case 15:fr||zc(5,a);break;case 1:var f=a.stateNode;if(a.flags&4&&!fr)if(c===null)f.componentDidMount();else{var x=a.elementType===a.type?c.memoizedProps:fn(a.type,c.memoizedProps);f.componentDidUpdate(x,c.memoizedState,f.__reactInternalSnapshotBeforeUpdate)}var y=a.updateQueue;y!==null&&Qg(a,y,f);break;case 3:var k=a.updateQueue;if(k!==null){if(c=null,a.child!==null)switch(a.child.tag){case 5:c=a.child.stateNode;break;case 1:c=a.child.stateNode}Qg(a,k,c)}break;case 5:var $=a.stateNode;if(c===null&&a.flags&4){c=$;var H=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":H.autoFocus&&c.focus();break;case"img":H.src&&(c.src=H.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var ne=a.alternate;if(ne!==null){var xe=ne.memoizedState;if(xe!==null){var ye=xe.dehydrated;ye!==null&&Ui(ye)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}fr||a.flags&512&&Vh(a)}catch(ge){At(a,a.return,ge)}}if(a===s){ke=null;break}if(c=a.sibling,c!==null){c.return=a.return,ke=c;break}ke=a.return}}function Qx(s){for(;ke!==null;){var a=ke;if(a===s){ke=null;break}var c=a.sibling;if(c!==null){c.return=a.return,ke=c;break}ke=a.return}}function Jx(s){for(;ke!==null;){var a=ke;try{switch(a.tag){case 0:case 11:case 15:var c=a.return;try{zc(4,a)}catch(H){At(a,c,H)}break;case 1:var f=a.stateNode;if(typeof f.componentDidMount=="function"){var x=a.return;try{f.componentDidMount()}catch(H){At(a,x,H)}}var y=a.return;try{Vh(a)}catch(H){At(a,y,H)}break;case 5:var k=a.return;try{Vh(a)}catch(H){At(a,k,H)}}}catch(H){At(a,a.return,H)}if(a===s){ke=null;break}var $=a.sibling;if($!==null){$.return=a.return,ke=$;break}ke=a.return}}var KN=Math.ceil,Uc=T.ReactCurrentDispatcher,Gh=T.ReactCurrentOwner,en=T.ReactCurrentBatchConfig,et=0,Xt=null,Lt=null,sr=0,zr=0,Fa=zs(0),Ht=0,ul=null,Do=0,qc=0,Qh=0,hl=null,kr=null,Jh=0,za=1/0,cs=null,Wc=!1,Yh=null,Ks=null,Vc=!1,Gs=null,Hc=0,fl=0,Xh=null,Kc=-1,Gc=0;function vr(){return(et&6)!==0?Ot():Kc!==-1?Kc:Kc=Ot()}function Qs(s){return(s.mode&1)===0?1:(et&2)!==0&&sr!==0?sr&-sr:AN.transition!==null?(Gc===0&&(Gc=qp()),Gc):(s=it,s!==0||(s=window.event,s=s===void 0?16:Xp(s.type)),s)}function gn(s,a,c,f){if(50<fl)throw fl=0,Xh=null,Error(r(185));Li(s,c,f),((et&2)===0||s!==Xt)&&(s===Xt&&((et&2)===0&&(qc|=c),Ht===4&&Js(s,sr)),Rr(s,f),c===1&&et===0&&(a.mode&1)===0&&(za=Ot()+500,jc&&qs()))}function Rr(s,a){var c=s.callbackNode;A_(s,a);var f=nc(s,s===Xt?sr:0);if(f===0)c!==null&&Fp(c),s.callbackNode=null,s.callbackPriority=0;else if(a=f&-f,s.callbackPriority!==a){if(c!=null&&Fp(c),a===1)s.tag===0?RN(Xx.bind(null,s)):Lg(Xx.bind(null,s)),EN(function(){(et&6)===0&&qs()}),c=null;else{switch(Wp(f)){case 1:c=Pu;break;case 4:c=zp;break;case 16:c=Zl;break;case 536870912:c=Up;break;default:c=Zl}c=a0(c,Yx.bind(null,s))}s.callbackPriority=a,s.callbackNode=c}}function Yx(s,a){if(Kc=-1,Gc=0,(et&6)!==0)throw Error(r(327));var c=s.callbackNode;if(Ua()&&s.callbackNode!==c)return null;var f=nc(s,s===Xt?sr:0);if(f===0)return null;if((f&30)!==0||(f&s.expiredLanes)!==0||a)a=Qc(s,f);else{a=f;var x=et;et|=2;var y=e0();(Xt!==s||sr!==a)&&(cs=null,za=Ot()+500,$o(s,a));do try{JN();break}catch($){Zx(s,$)}while(!0);gh(),Uc.current=y,et=x,Lt!==null?a=0:(Xt=null,sr=0,a=Ht)}if(a!==0){if(a===2&&(x=Tu(s),x!==0&&(f=x,a=Zh(s,x))),a===1)throw c=ul,$o(s,0),Js(s,f),Rr(s,Ot()),c;if(a===6)Js(s,f);else{if(x=s.current.alternate,(f&30)===0&&!GN(x)&&(a=Qc(s,f),a===2&&(y=Tu(s),y!==0&&(f=y,a=Zh(s,y))),a===1))throw c=ul,$o(s,0),Js(s,f),Rr(s,Ot()),c;switch(s.finishedWork=x,s.finishedLanes=f,a){case 0:case 1:throw Error(r(345));case 2:Bo(s,kr,cs);break;case 3:if(Js(s,f),(f&130023424)===f&&(a=Jh+500-Ot(),10<a)){if(nc(s,0)!==0)break;if(x=s.suspendedLanes,(x&f)!==f){vr(),s.pingedLanes|=s.suspendedLanes&x;break}s.timeoutHandle=oh(Bo.bind(null,s,kr,cs),a);break}Bo(s,kr,cs);break;case 4:if(Js(s,f),(f&4194240)===f)break;for(a=s.eventTimes,x=-1;0<f;){var k=31-dn(f);y=1<<k,k=a[k],k>x&&(x=k),f&=~y}if(f=x,f=Ot()-f,f=(120>f?120:480>f?480:1080>f?1080:1920>f?1920:3e3>f?3e3:4320>f?4320:1960*KN(f/1960))-f,10<f){s.timeoutHandle=oh(Bo.bind(null,s,kr,cs),f);break}Bo(s,kr,cs);break;case 5:Bo(s,kr,cs);break;default:throw Error(r(329))}}}return Rr(s,Ot()),s.callbackNode===c?Yx.bind(null,s):null}function Zh(s,a){var c=hl;return s.current.memoizedState.isDehydrated&&($o(s,a).flags|=256),s=Qc(s,a),s!==2&&(a=kr,kr=c,a!==null&&ef(a)),s}function ef(s){kr===null?kr=s:kr.push.apply(kr,s)}function GN(s){for(var a=s;;){if(a.flags&16384){var c=a.updateQueue;if(c!==null&&(c=c.stores,c!==null))for(var f=0;f<c.length;f++){var x=c[f],y=x.getSnapshot;x=x.value;try{if(!un(y(),x))return!1}catch{return!1}}}if(c=a.child,a.subtreeFlags&16384&&c!==null)c.return=a,a=c;else{if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Js(s,a){for(a&=~Qh,a&=~qc,s.suspendedLanes|=a,s.pingedLanes&=~a,s=s.expirationTimes;0<a;){var c=31-dn(a),f=1<<c;s[c]=-1,a&=~f}}function Xx(s){if((et&6)!==0)throw Error(r(327));Ua();var a=nc(s,0);if((a&1)===0)return Rr(s,Ot()),null;var c=Qc(s,a);if(s.tag!==0&&c===2){var f=Tu(s);f!==0&&(a=f,c=Zh(s,f))}if(c===1)throw c=ul,$o(s,0),Js(s,a),Rr(s,Ot()),c;if(c===6)throw Error(r(345));return s.finishedWork=s.current.alternate,s.finishedLanes=a,Bo(s,kr,cs),Rr(s,Ot()),null}function tf(s,a){var c=et;et|=1;try{return s(a)}finally{et=c,et===0&&(za=Ot()+500,jc&&qs())}}function Lo(s){Gs!==null&&Gs.tag===0&&(et&6)===0&&Ua();var a=et;et|=1;var c=en.transition,f=it;try{if(en.transition=null,it=1,s)return s()}finally{it=f,en.transition=c,et=a,(et&6)===0&&qs()}}function rf(){zr=Fa.current,xt(Fa)}function $o(s,a){s.finishedWork=null,s.finishedLanes=0;var c=s.timeoutHandle;if(c!==-1&&(s.timeoutHandle=-1,NN(c)),Lt!==null)for(c=Lt.return;c!==null;){var f=c;switch(uh(f),f.tag){case 1:f=f.type.childContextTypes,f!=null&&bc();break;case 3:La(),xt(Er),xt(dr),Nh();break;case 5:jh(f);break;case 4:La();break;case 13:xt(Et);break;case 19:xt(Et);break;case 10:xh(f.type._context);break;case 22:case 23:rf()}c=c.return}if(Xt=s,Lt=s=Ys(s.current,null),sr=zr=a,Ht=0,ul=null,Qh=qc=Do=0,kr=hl=null,Oo!==null){for(a=0;a<Oo.length;a++)if(c=Oo[a],f=c.interleaved,f!==null){c.interleaved=null;var x=f.next,y=c.pending;if(y!==null){var k=y.next;y.next=x,f.next=k}c.pending=f}Oo=null}return s}function Zx(s,a){do{var c=Lt;try{if(gh(),Tc.current=Dc,Oc){for(var f=St.memoizedState;f!==null;){var x=f.queue;x!==null&&(x.pending=null),f=f.next}Oc=!1}if(Mo=0,Yt=Vt=St=null,ol=!1,al=0,Gh.current=null,c===null||c.return===null){Ht=1,ul=a,Lt=null;break}e:{var y=s,k=c.return,$=c,H=a;if(a=sr,$.flags|=32768,H!==null&&typeof H=="object"&&typeof H.then=="function"){var ne=H,xe=$,ye=xe.tag;if((xe.mode&1)===0&&(ye===0||ye===11||ye===15)){var ge=xe.alternate;ge?(xe.updateQueue=ge.updateQueue,xe.memoizedState=ge.memoizedState,xe.lanes=ge.lanes):(xe.updateQueue=null,xe.memoizedState=null)}var Ce=Nx(k);if(Ce!==null){Ce.flags&=-257,Ex(Ce,k,$,y,a),Ce.mode&1&&_x(y,ne,a),a=Ce,H=ne;var Pe=a.updateQueue;if(Pe===null){var Ie=new Set;Ie.add(H),a.updateQueue=Ie}else Pe.add(H);break e}else{if((a&1)===0){_x(y,ne,a),nf();break e}H=Error(r(426))}}else if(wt&&$.mode&1){var It=Nx(k);if(It!==null){(It.flags&65536)===0&&(It.flags|=256),Ex(It,k,$,y,a),mh($a(H,$));break e}}y=H=$a(H,$),Ht!==4&&(Ht=2),hl===null?hl=[y]:hl.push(y),y=k;do{switch(y.tag){case 3:y.flags|=65536,a&=-a,y.lanes|=a;var ee=wx(y,H,a);Gg(y,ee);break e;case 1:$=H;var J=y.type,te=y.stateNode;if((y.flags&128)===0&&(typeof J.getDerivedStateFromError=="function"||te!==null&&typeof te.componentDidCatch=="function"&&(Ks===null||!Ks.has(te)))){y.flags|=65536,a&=-a,y.lanes|=a;var we=jx(y,$,a);Gg(y,we);break e}}y=y.return}while(y!==null)}r0(c)}catch(Me){a=Me,Lt===c&&c!==null&&(Lt=c=c.return);continue}break}while(!0)}function e0(){var s=Uc.current;return Uc.current=Dc,s===null?Dc:s}function nf(){(Ht===0||Ht===3||Ht===2)&&(Ht=4),Xt===null||(Do&268435455)===0&&(qc&268435455)===0||Js(Xt,sr)}function Qc(s,a){var c=et;et|=2;var f=e0();(Xt!==s||sr!==a)&&(cs=null,$o(s,a));do try{QN();break}catch(x){Zx(s,x)}while(!0);if(gh(),et=c,Uc.current=f,Lt!==null)throw Error(r(261));return Xt=null,sr=0,Ht}function QN(){for(;Lt!==null;)t0(Lt)}function JN(){for(;Lt!==null&&!w_();)t0(Lt)}function t0(s){var a=o0(s.alternate,s,zr);s.memoizedProps=s.pendingProps,a===null?r0(s):Lt=a,Gh.current=null}function r0(s){var a=s;do{var c=a.alternate;if(s=a.return,(a.flags&32768)===0){if(c=UN(c,a,zr),c!==null){Lt=c;return}}else{if(c=qN(c,a),c!==null){c.flags&=32767,Lt=c;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{Ht=6,Lt=null;return}}if(a=a.sibling,a!==null){Lt=a;return}Lt=a=s}while(a!==null);Ht===0&&(Ht=5)}function Bo(s,a,c){var f=it,x=en.transition;try{en.transition=null,it=1,YN(s,a,c,f)}finally{en.transition=x,it=f}return null}function YN(s,a,c,f){do Ua();while(Gs!==null);if((et&6)!==0)throw Error(r(327));c=s.finishedWork;var x=s.finishedLanes;if(c===null)return null;if(s.finishedWork=null,s.finishedLanes=0,c===s.current)throw Error(r(177));s.callbackNode=null,s.callbackPriority=0;var y=c.lanes|c.childLanes;if(P_(s,y),s===Xt&&(Lt=Xt=null,sr=0),(c.subtreeFlags&2064)===0&&(c.flags&2064)===0||Vc||(Vc=!0,a0(Zl,function(){return Ua(),null})),y=(c.flags&15990)!==0,(c.subtreeFlags&15990)!==0||y){y=en.transition,en.transition=null;var k=it;it=1;var $=et;et|=4,Gh.current=null,VN(s,c),Hx(c,s),xN(nh),ac=!!rh,nh=rh=null,s.current=c,HN(c),j_(),et=$,it=k,en.transition=y}else s.current=c;if(Vc&&(Vc=!1,Gs=s,Hc=x),y=s.pendingLanes,y===0&&(Ks=null),E_(c.stateNode),Rr(s,Ot()),a!==null)for(f=s.onRecoverableError,c=0;c<a.length;c++)x=a[c],f(x.value,{componentStack:x.stack,digest:x.digest});if(Wc)throw Wc=!1,s=Yh,Yh=null,s;return(Hc&1)!==0&&s.tag!==0&&Ua(),y=s.pendingLanes,(y&1)!==0?s===Xh?fl++:(fl=0,Xh=s):fl=0,qs(),null}function Ua(){if(Gs!==null){var s=Wp(Hc),a=en.transition,c=it;try{if(en.transition=null,it=16>s?16:s,Gs===null)var f=!1;else{if(s=Gs,Gs=null,Hc=0,(et&6)!==0)throw Error(r(331));var x=et;for(et|=4,ke=s.current;ke!==null;){var y=ke,k=y.child;if((ke.flags&16)!==0){var $=y.deletions;if($!==null){for(var H=0;H<$.length;H++){var ne=$[H];for(ke=ne;ke!==null;){var xe=ke;switch(xe.tag){case 0:case 11:case 15:dl(8,xe,y)}var ye=xe.child;if(ye!==null)ye.return=xe,ke=ye;else for(;ke!==null;){xe=ke;var ge=xe.sibling,Ce=xe.return;if(zx(xe),xe===ne){ke=null;break}if(ge!==null){ge.return=Ce,ke=ge;break}ke=Ce}}}var Pe=y.alternate;if(Pe!==null){var Ie=Pe.child;if(Ie!==null){Pe.child=null;do{var It=Ie.sibling;Ie.sibling=null,Ie=It}while(Ie!==null)}}ke=y}}if((y.subtreeFlags&2064)!==0&&k!==null)k.return=y,ke=k;else e:for(;ke!==null;){if(y=ke,(y.flags&2048)!==0)switch(y.tag){case 0:case 11:case 15:dl(9,y,y.return)}var ee=y.sibling;if(ee!==null){ee.return=y.return,ke=ee;break e}ke=y.return}}var J=s.current;for(ke=J;ke!==null;){k=ke;var te=k.child;if((k.subtreeFlags&2064)!==0&&te!==null)te.return=k,ke=te;else e:for(k=J;ke!==null;){if($=ke,($.flags&2048)!==0)try{switch($.tag){case 0:case 11:case 15:zc(9,$)}}catch(Me){At($,$.return,Me)}if($===k){ke=null;break e}var we=$.sibling;if(we!==null){we.return=$.return,ke=we;break e}ke=$.return}}if(et=x,qs(),Dn&&typeof Dn.onPostCommitFiberRoot=="function")try{Dn.onPostCommitFiberRoot(ec,s)}catch{}f=!0}return f}finally{it=c,en.transition=a}}return!1}function n0(s,a,c){a=$a(c,a),a=wx(s,a,1),s=Vs(s,a,1),a=vr(),s!==null&&(Li(s,1,a),Rr(s,a))}function At(s,a,c){if(s.tag===3)n0(s,s,c);else for(;a!==null;){if(a.tag===3){n0(a,s,c);break}else if(a.tag===1){var f=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(Ks===null||!Ks.has(f))){s=$a(c,s),s=jx(a,s,1),a=Vs(a,s,1),s=vr(),a!==null&&(Li(a,1,s),Rr(a,s));break}}a=a.return}}function XN(s,a,c){var f=s.pingCache;f!==null&&f.delete(a),a=vr(),s.pingedLanes|=s.suspendedLanes&c,Xt===s&&(sr&c)===c&&(Ht===4||Ht===3&&(sr&130023424)===sr&&500>Ot()-Jh?$o(s,0):Qh|=c),Rr(s,a)}function s0(s,a){a===0&&((s.mode&1)===0?a=1:(a=rc,rc<<=1,(rc&130023424)===0&&(rc=4194304)));var c=vr();s=as(s,a),s!==null&&(Li(s,a,c),Rr(s,c))}function ZN(s){var a=s.memoizedState,c=0;a!==null&&(c=a.retryLane),s0(s,c)}function eE(s,a){var c=0;switch(s.tag){case 13:var f=s.stateNode,x=s.memoizedState;x!==null&&(c=x.retryLane);break;case 19:f=s.stateNode;break;default:throw Error(r(314))}f!==null&&f.delete(a),s0(s,c)}var o0;o0=function(s,a,c){if(s!==null)if(s.memoizedProps!==a.pendingProps||Er.current)Cr=!0;else{if((s.lanes&c)===0&&(a.flags&128)===0)return Cr=!1,zN(s,a,c);Cr=(s.flags&131072)!==0}else Cr=!1,wt&&(a.flags&1048576)!==0&&$g(a,Nc,a.index);switch(a.lanes=0,a.tag){case 2:var f=a.type;Bc(s,a),s=a.pendingProps;var x=Aa(a,dr.current);Da(a,c),x=Ch(null,a,f,s,x,c);var y=kh();return a.flags|=1,typeof x=="object"&&x!==null&&typeof x.render=="function"&&x.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,Sr(f)?(y=!0,wc(a)):y=!1,a.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,bh(a),x.updater=Lc,a.stateNode=x,x._reactInternals=a,Ih(a,f,s,c),a=$h(null,a,f,!0,y,c)):(a.tag=0,wt&&y&&dh(a),xr(null,a,x,c),a=a.child),a;case 16:f=a.elementType;e:{switch(Bc(s,a),s=a.pendingProps,x=f._init,f=x(f._payload),a.type=f,x=a.tag=rE(f),s=fn(f,s),x){case 0:a=Lh(null,a,f,s,c);break e;case 1:a=Px(null,a,f,s,c);break e;case 11:a=Sx(null,a,f,s,c);break e;case 14:a=Cx(null,a,f,fn(f.type,s),c);break e}throw Error(r(306,f,""))}return a;case 0:return f=a.type,x=a.pendingProps,x=a.elementType===f?x:fn(f,x),Lh(s,a,f,x,c);case 1:return f=a.type,x=a.pendingProps,x=a.elementType===f?x:fn(f,x),Px(s,a,f,x,c);case 3:e:{if(Tx(a),s===null)throw Error(r(387));f=a.pendingProps,y=a.memoizedState,x=y.element,Kg(s,a),Ac(a,f,null,c);var k=a.memoizedState;if(f=k.element,y.isDehydrated)if(y={element:f,isDehydrated:!1,cache:k.cache,pendingSuspenseBoundaries:k.pendingSuspenseBoundaries,transitions:k.transitions},a.updateQueue.baseState=y,a.memoizedState=y,a.flags&256){x=$a(Error(r(423)),a),a=Ox(s,a,f,c,x);break e}else if(f!==x){x=$a(Error(r(424)),a),a=Ox(s,a,f,c,x);break e}else for(Fr=Fs(a.stateNode.containerInfo.firstChild),Br=a,wt=!0,hn=null,c=Vg(a,null,f,c),a.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(Oa(),f===x){a=ls(s,a,c);break e}xr(s,a,f,c)}a=a.child}return a;case 5:return Jg(a),s===null&&fh(a),f=a.type,x=a.pendingProps,y=s!==null?s.memoizedProps:null,k=x.children,sh(f,x)?k=null:y!==null&&sh(f,y)&&(a.flags|=32),Ax(s,a),xr(s,a,k,c),a.child;case 6:return s===null&&fh(a),null;case 13:return Ix(s,a,c);case 4:return wh(a,a.stateNode.containerInfo),f=a.pendingProps,s===null?a.child=Ia(a,null,f,c):xr(s,a,f,c),a.child;case 11:return f=a.type,x=a.pendingProps,x=a.elementType===f?x:fn(f,x),Sx(s,a,f,x,c);case 7:return xr(s,a,a.pendingProps,c),a.child;case 8:return xr(s,a,a.pendingProps.children,c),a.child;case 12:return xr(s,a,a.pendingProps.children,c),a.child;case 10:e:{if(f=a.type._context,x=a.pendingProps,y=a.memoizedProps,k=x.value,ft(Cc,f._currentValue),f._currentValue=k,y!==null)if(un(y.value,k)){if(y.children===x.children&&!Er.current){a=ls(s,a,c);break e}}else for(y=a.child,y!==null&&(y.return=a);y!==null;){var $=y.dependencies;if($!==null){k=y.child;for(var H=$.firstContext;H!==null;){if(H.context===f){if(y.tag===1){H=is(-1,c&-c),H.tag=2;var ne=y.updateQueue;if(ne!==null){ne=ne.shared;var xe=ne.pending;xe===null?H.next=H:(H.next=xe.next,xe.next=H),ne.pending=H}}y.lanes|=c,H=y.alternate,H!==null&&(H.lanes|=c),vh(y.return,c,a),$.lanes|=c;break}H=H.next}}else if(y.tag===10)k=y.type===a.type?null:y.child;else if(y.tag===18){if(k=y.return,k===null)throw Error(r(341));k.lanes|=c,$=k.alternate,$!==null&&($.lanes|=c),vh(k,c,a),k=y.sibling}else k=y.child;if(k!==null)k.return=y;else for(k=y;k!==null;){if(k===a){k=null;break}if(y=k.sibling,y!==null){y.return=k.return,k=y;break}k=k.return}y=k}xr(s,a,x.children,c),a=a.child}return a;case 9:return x=a.type,f=a.pendingProps.children,Da(a,c),x=Xr(x),f=f(x),a.flags|=1,xr(s,a,f,c),a.child;case 14:return f=a.type,x=fn(f,a.pendingProps),x=fn(f.type,x),Cx(s,a,f,x,c);case 15:return kx(s,a,a.type,a.pendingProps,c);case 17:return f=a.type,x=a.pendingProps,x=a.elementType===f?x:fn(f,x),Bc(s,a),a.tag=1,Sr(f)?(s=!0,wc(a)):s=!1,Da(a,c),yx(a,f,x),Ih(a,f,x,c),$h(null,a,f,!0,s,c);case 19:return Dx(s,a,c);case 22:return Rx(s,a,c)}throw Error(r(156,a.tag))};function a0(s,a){return Bp(s,a)}function tE(s,a,c,f){this.tag=s,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function tn(s,a,c,f){return new tE(s,a,c,f)}function sf(s){return s=s.prototype,!(!s||!s.isReactComponent)}function rE(s){if(typeof s=="function")return sf(s)?1:0;if(s!=null){if(s=s.$$typeof,s===Y)return 11;if(s===ce)return 14}return 2}function Ys(s,a){var c=s.alternate;return c===null?(c=tn(s.tag,a,s.key,s.mode),c.elementType=s.elementType,c.type=s.type,c.stateNode=s.stateNode,c.alternate=s,s.alternate=c):(c.pendingProps=a,c.type=s.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=s.flags&14680064,c.childLanes=s.childLanes,c.lanes=s.lanes,c.child=s.child,c.memoizedProps=s.memoizedProps,c.memoizedState=s.memoizedState,c.updateQueue=s.updateQueue,a=s.dependencies,c.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},c.sibling=s.sibling,c.index=s.index,c.ref=s.ref,c}function Jc(s,a,c,f,x,y){var k=2;if(f=s,typeof s=="function")sf(s)&&(k=1);else if(typeof s=="string")k=5;else e:switch(s){case U:return Fo(c.children,x,y,a);case K:k=8,x|=8;break;case ue:return s=tn(12,c,a,x|2),s.elementType=ue,s.lanes=y,s;case I:return s=tn(13,c,a,x),s.elementType=I,s.lanes=y,s;case L:return s=tn(19,c,a,x),s.elementType=L,s.lanes=y,s;case fe:return Yc(c,x,y,a);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case V:k=10;break e;case O:k=9;break e;case Y:k=11;break e;case ce:k=14;break e;case ae:k=16,f=null;break e}throw Error(r(130,s==null?s:typeof s,""))}return a=tn(k,c,a,x),a.elementType=s,a.type=f,a.lanes=y,a}function Fo(s,a,c,f){return s=tn(7,s,f,a),s.lanes=c,s}function Yc(s,a,c,f){return s=tn(22,s,f,a),s.elementType=fe,s.lanes=c,s.stateNode={isHidden:!1},s}function of(s,a,c){return s=tn(6,s,null,a),s.lanes=c,s}function af(s,a,c){return a=tn(4,s.children!==null?s.children:[],s.key,a),a.lanes=c,a.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},a}function nE(s,a,c,f,x){this.tag=a,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ou(0),this.expirationTimes=Ou(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ou(0),this.identifierPrefix=f,this.onRecoverableError=x,this.mutableSourceEagerHydrationData=null}function lf(s,a,c,f,x,y,k,$,H){return s=new nE(s,a,c,$,H),a===1?(a=1,y===!0&&(a|=8)):a=0,y=tn(3,null,null,a),s.current=y,y.stateNode=s,y.memoizedState={element:f,isDehydrated:c,cache:null,transitions:null,pendingSuspenseBoundaries:null},bh(y),s}function sE(s,a,c){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:A,key:f==null?null:""+f,children:s,containerInfo:a,implementation:c}}function i0(s){if(!s)return Us;s=s._reactInternals;e:{if(ko(s)!==s||s.tag!==1)throw Error(r(170));var a=s;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(Sr(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(r(171))}if(s.tag===1){var c=s.type;if(Sr(c))return Mg(s,c,a)}return a}function l0(s,a,c,f,x,y,k,$,H){return s=lf(c,f,!0,s,x,y,k,$,H),s.context=i0(null),c=s.current,f=vr(),x=Qs(c),y=is(f,x),y.callback=a??null,Vs(c,y,x),s.current.lanes=x,Li(s,x,f),Rr(s,f),s}function Xc(s,a,c,f){var x=a.current,y=vr(),k=Qs(x);return c=i0(c),a.context===null?a.context=c:a.pendingContext=c,a=is(y,k),a.payload={element:s},f=f===void 0?null:f,f!==null&&(a.callback=f),s=Vs(x,a,k),s!==null&&(gn(s,x,k,y),Rc(s,x,k)),k}function Zc(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function c0(s,a){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var c=s.retryLane;s.retryLane=c!==0&&c<a?c:a}}function cf(s,a){c0(s,a),(s=s.alternate)&&c0(s,a)}function oE(){return null}var d0=typeof reportError=="function"?reportError:function(s){console.error(s)};function df(s){this._internalRoot=s}ed.prototype.render=df.prototype.render=function(s){var a=this._internalRoot;if(a===null)throw Error(r(409));Xc(s,a,null,null)},ed.prototype.unmount=df.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var a=s.containerInfo;Lo(function(){Xc(null,s,null,null)}),a[rs]=null}};function ed(s){this._internalRoot=s}ed.prototype.unstable_scheduleHydration=function(s){if(s){var a=Kp();s={blockedOn:null,target:s,priority:a};for(var c=0;c<Ls.length&&a!==0&&a<Ls[c].priority;c++);Ls.splice(c,0,s),c===0&&Jp(s)}};function uf(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function td(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function u0(){}function aE(s,a,c,f,x){if(x){if(typeof f=="function"){var y=f;f=function(){var ne=Zc(k);y.call(ne)}}var k=l0(a,f,s,0,null,!1,!1,"",u0);return s._reactRootContainer=k,s[rs]=k.current,Yi(s.nodeType===8?s.parentNode:s),Lo(),k}for(;x=s.lastChild;)s.removeChild(x);if(typeof f=="function"){var $=f;f=function(){var ne=Zc(H);$.call(ne)}}var H=lf(s,0,!1,null,null,!1,!1,"",u0);return s._reactRootContainer=H,s[rs]=H.current,Yi(s.nodeType===8?s.parentNode:s),Lo(function(){Xc(a,H,c,f)}),H}function rd(s,a,c,f,x){var y=c._reactRootContainer;if(y){var k=y;if(typeof x=="function"){var $=x;x=function(){var H=Zc(k);$.call(H)}}Xc(a,k,s,x)}else k=aE(c,a,s,x,f);return Zc(k)}Vp=function(s){switch(s.tag){case 3:var a=s.stateNode;if(a.current.memoizedState.isDehydrated){var c=Di(a.pendingLanes);c!==0&&(Iu(a,c|1),Rr(a,Ot()),(et&6)===0&&(za=Ot()+500,qs()))}break;case 13:Lo(function(){var f=as(s,1);if(f!==null){var x=vr();gn(f,s,1,x)}}),cf(s,1)}},Mu=function(s){if(s.tag===13){var a=as(s,134217728);if(a!==null){var c=vr();gn(a,s,134217728,c)}cf(s,134217728)}},Hp=function(s){if(s.tag===13){var a=Qs(s),c=as(s,a);if(c!==null){var f=vr();gn(c,s,a,f)}cf(s,a)}},Kp=function(){return it},Gp=function(s,a){var c=it;try{return it=s,a()}finally{it=c}},bt=function(s,a,c){switch(a){case"input":if(yt(s,c),a=c.name,c.type==="radio"&&a!=null){for(c=s;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<c.length;a++){var f=c[a];if(f!==s&&f.form===s.form){var x=yc(f);if(!x)throw Error(r(90));je(f),yt(f,x)}}}break;case"textarea":Rs(s,c);break;case"select":a=c.value,a!=null&&Nr(s,!!c.multiple,a,!1)}},Wt=tf,cr=Lo;var iE={usingClientEntryPoint:!1,Events:[el,ka,yc,We,Tt,tf]},ml={findFiberByHostInstance:Ro,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},lE={bundleType:ml.bundleType,version:ml.version,rendererPackageName:ml.rendererPackageName,rendererConfig:ml.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:T.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=Lp(s),s===null?null:s.stateNode},findFiberByHostInstance:ml.findFiberByHostInstance||oE,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var nd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nd.isDisabled&&nd.supportsFiber)try{ec=nd.inject(lE),Dn=nd}catch{}}return Ar.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=iE,Ar.createPortal=function(s,a){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!uf(a))throw Error(r(200));return sE(s,a,null,c)},Ar.createRoot=function(s,a){if(!uf(s))throw Error(r(299));var c=!1,f="",x=d0;return a!=null&&(a.unstable_strictMode===!0&&(c=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onRecoverableError!==void 0&&(x=a.onRecoverableError)),a=lf(s,1,!1,null,null,c,!1,f,x),s[rs]=a.current,Yi(s.nodeType===8?s.parentNode:s),new df(a)},Ar.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var a=s._reactInternals;if(a===void 0)throw typeof s.render=="function"?Error(r(188)):(s=Object.keys(s).join(","),Error(r(268,s)));return s=Lp(a),s=s===null?null:s.stateNode,s},Ar.flushSync=function(s){return Lo(s)},Ar.hydrate=function(s,a,c){if(!td(a))throw Error(r(200));return rd(null,s,a,!0,c)},Ar.hydrateRoot=function(s,a,c){if(!uf(s))throw Error(r(405));var f=c!=null&&c.hydratedSources||null,x=!1,y="",k=d0;if(c!=null&&(c.unstable_strictMode===!0&&(x=!0),c.identifierPrefix!==void 0&&(y=c.identifierPrefix),c.onRecoverableError!==void 0&&(k=c.onRecoverableError)),a=l0(a,null,s,1,c??null,x,!1,y,k),s[rs]=a.current,Yi(s),f)for(s=0;s<f.length;s++)c=f[s],x=c._getVersion,x=x(c._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[c,x]:a.mutableSourceEagerHydrationData.push(c,x);return new ed(a)},Ar.render=function(s,a,c){if(!td(a))throw Error(r(200));return rd(null,s,a,!1,c)},Ar.unmountComponentAtNode=function(s){if(!td(s))throw Error(r(40));return s._reactRootContainer?(Lo(function(){rd(null,null,s,!1,function(){s._reactRootContainer=null,s[rs]=null})}),!0):!1},Ar.unstable_batchedUpdates=tf,Ar.unstable_renderSubtreeIntoContainer=function(s,a,c,f){if(!td(c))throw Error(r(200));if(s==null||s._reactInternals===void 0)throw Error(r(38));return rd(s,a,c,!1,f)},Ar.version="18.3.1-next-f1338f8080-20240426",Ar}var b0;function Ny(){if(b0)return pf.exports;b0=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),pf.exports=pE(),pf.exports}var w0;function gE(){if(w0)return od;w0=1;var t=Ny();return od.createRoot=t.createRoot,od.hydrateRoot=t.hydrateRoot,od}var xE=gE();const vE=lu(xE);/**
 * react-router v7.9.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var j0="popstate";function yE(t={}){function e(i,l){let{pathname:d="/",search:u="",hash:h=""}=va(i.location.hash.substring(1));return!d.startsWith("/")&&!d.startsWith(".")&&(d="/"+d),Uf("",{pathname:d,search:u,hash:h},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function r(i,l){let d=i.document.querySelector("base"),u="";if(d&&d.getAttribute("href")){let h=i.location.href,m=h.indexOf("#");u=m===-1?h:h.slice(0,m)}return u+"#"+(typeof l=="string"?l:Pl(l))}function o(i,l){Gr(i.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(l)})`)}return wE(e,r,o,t)}function Nt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Gr(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function bE(){return Math.random().toString(36).substring(2,10)}function _0(t,e){return{usr:t.state,key:t.key,idx:e}}function Uf(t,e,r=null,o){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?va(e):e,state:r,key:e&&e.key||o||bE()}}function Pl({pathname:t="/",search:e="",hash:r=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function va(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substring(r),t=t.substring(0,r));let o=t.indexOf("?");o>=0&&(e.search=t.substring(o),t=t.substring(0,o)),t&&(e.pathname=t)}return e}function wE(t,e,r,o={}){let{window:i=document.defaultView,v5Compat:l=!1}=o,d=i.history,u="POP",h=null,m=g();m==null&&(m=0,d.replaceState({...d.state,idx:m},""));function g(){return(d.state||{idx:null}).idx}function p(){u="POP";let _=g(),C=_==null?null:_-m;m=_,h&&h({action:u,location:j.location,delta:C})}function w(_,C){u="PUSH";let E=Uf(j.location,_,C);r&&r(E,_),m=g()+1;let S=_0(E,m),T=j.createHref(E);try{d.pushState(S,"",T)}catch(q){if(q instanceof DOMException&&q.name==="DataCloneError")throw q;i.location.assign(T)}l&&h&&h({action:u,location:j.location,delta:1})}function b(_,C){u="REPLACE";let E=Uf(j.location,_,C);r&&r(E,_),m=g();let S=_0(E,m),T=j.createHref(E);d.replaceState(S,"",T),l&&h&&h({action:u,location:j.location,delta:0})}function N(_){return jE(_)}let j={get action(){return u},get location(){return t(i,d)},listen(_){if(h)throw new Error("A history only accepts one active listener");return i.addEventListener(j0,p),h=_,()=>{i.removeEventListener(j0,p),h=null}},createHref(_){return e(i,_)},createURL:N,encodeLocation(_){let C=N(_);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:w,replace:b,go(_){return d.go(_)}};return j}function jE(t,e=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),Nt(r,"No window.location.(origin|href) available to create URL");let o=typeof t=="string"?t:Pl(t);return o=o.replace(/ $/,"%20"),!e&&o.startsWith("//")&&(o=r+o),new URL(o,r)}function Ey(t,e,r="/"){return _E(t,e,r,!1)}function _E(t,e,r,o){let i=typeof e=="string"?va(e):e,l=Ns(i.pathname||"/",r);if(l==null)return null;let d=Sy(t);NE(d);let u=null;for(let h=0;u==null&&h<d.length;++h){let m=ME(l);u=OE(d[h],m,o)}return u}function Sy(t,e=[],r=[],o="",i=!1){let l=(d,u,h=i,m)=>{let g={relativePath:m===void 0?d.path||"":m,caseSensitive:d.caseSensitive===!0,childrenIndex:u,route:d};if(g.relativePath.startsWith("/")){if(!g.relativePath.startsWith(o)&&h)return;Nt(g.relativePath.startsWith(o),`Absolute route path "${g.relativePath}" nested under path "${o}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(o.length)}let p=js([o,g.relativePath]),w=r.concat(g);d.children&&d.children.length>0&&(Nt(d.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),Sy(d.children,e,w,p,h)),!(d.path==null&&!d.index)&&e.push({path:p,score:PE(p,d.index),routesMeta:w})};return t.forEach((d,u)=>{var h;if(d.path===""||!((h=d.path)!=null&&h.includes("?")))l(d,u);else for(let m of Cy(d.path))l(d,u,!0,m)}),e}function Cy(t){let e=t.split("/");if(e.length===0)return[];let[r,...o]=e,i=r.endsWith("?"),l=r.replace(/\?$/,"");if(o.length===0)return i?[l,""]:[l];let d=Cy(o.join("/")),u=[];return u.push(...d.map(h=>h===""?l:[l,h].join("/"))),i&&u.push(...d),u.map(h=>t.startsWith("/")&&h===""?"/":h)}function NE(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:TE(e.routesMeta.map(o=>o.childrenIndex),r.routesMeta.map(o=>o.childrenIndex)))}var EE=/^:[\w-]+$/,SE=3,CE=2,kE=1,RE=10,AE=-2,N0=t=>t==="*";function PE(t,e){let r=t.split("/"),o=r.length;return r.some(N0)&&(o+=AE),e&&(o+=CE),r.filter(i=>!N0(i)).reduce((i,l)=>i+(EE.test(l)?SE:l===""?kE:RE),o)}function TE(t,e){return t.length===e.length&&t.slice(0,-1).every((o,i)=>o===e[i])?t[t.length-1]-e[e.length-1]:0}function OE(t,e,r=!1){let{routesMeta:o}=t,i={},l="/",d=[];for(let u=0;u<o.length;++u){let h=o[u],m=u===o.length-1,g=l==="/"?e:e.slice(l.length)||"/",p=Fd({path:h.relativePath,caseSensitive:h.caseSensitive,end:m},g),w=h.route;if(!p&&m&&r&&!o[o.length-1].route.index&&(p=Fd({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},g)),!p)return null;Object.assign(i,p.params),d.push({params:i,pathname:js([l,p.pathname]),pathnameBase:BE(js([l,p.pathnameBase])),route:w}),p.pathnameBase!=="/"&&(l=js([l,p.pathnameBase]))}return d}function Fd(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,o]=IE(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let l=i[0],d=l.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:o.reduce((m,{paramName:g,isOptional:p},w)=>{if(g==="*"){let N=u[w]||"";d=l.slice(0,l.length-N.length).replace(/(.)\/+$/,"$1")}const b=u[w];return p&&!b?m[g]=void 0:m[g]=(b||"").replace(/%2F/g,"/"),m},{}),pathname:l,pathnameBase:d,pattern:t}}function IE(t,e=!1,r=!0){Gr(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let o=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,u,h)=>(o.push({paramName:u,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(o.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),o]}function ME(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Gr(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Ns(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,o=t.charAt(r);return o&&o!=="/"?null:t.slice(r)||"/"}function DE(t,e="/"){let{pathname:r,search:o="",hash:i=""}=typeof t=="string"?va(t):t;return{pathname:r?r.startsWith("/")?r:LE(r,e):e,search:FE(o),hash:zE(i)}}function LE(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function vf(t,e,r,o){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(o)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function $E(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function Fm(t){let e=$E(t);return e.map((r,o)=>o===e.length-1?r.pathname:r.pathnameBase)}function zm(t,e,r,o=!1){let i;typeof t=="string"?i=va(t):(i={...t},Nt(!i.pathname||!i.pathname.includes("?"),vf("?","pathname","search",i)),Nt(!i.pathname||!i.pathname.includes("#"),vf("#","pathname","hash",i)),Nt(!i.search||!i.search.includes("#"),vf("#","search","hash",i)));let l=t===""||i.pathname==="",d=l?"/":i.pathname,u;if(d==null)u=r;else{let p=e.length-1;if(!o&&d.startsWith("..")){let w=d.split("/");for(;w[0]==="..";)w.shift(),p-=1;i.pathname=w.join("/")}u=p>=0?e[p]:"/"}let h=DE(i,u),m=d&&d!=="/"&&d.endsWith("/"),g=(l||d===".")&&r.endsWith("/");return!h.pathname.endsWith("/")&&(m||g)&&(h.pathname+="/"),h}var js=t=>t.join("/").replace(/\/\/+/g,"/"),BE=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),FE=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,zE=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function UE(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var ky=["POST","PUT","PATCH","DELETE"];new Set(ky);var qE=["GET",...ky];new Set(qE);var Ni=v.createContext(null);Ni.displayName="DataRouter";var cu=v.createContext(null);cu.displayName="DataRouterState";v.createContext(!1);var Ry=v.createContext({isTransitioning:!1});Ry.displayName="ViewTransition";var WE=v.createContext(new Map);WE.displayName="Fetchers";var VE=v.createContext(null);VE.displayName="Await";var An=v.createContext(null);An.displayName="Navigation";var Wl=v.createContext(null);Wl.displayName="Location";var Pn=v.createContext({outlet:null,matches:[],isDataRoute:!1});Pn.displayName="Route";var Um=v.createContext(null);Um.displayName="RouteError";function HE(t,{relative:e}={}){Nt(Ei(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:o}=v.useContext(An),{hash:i,pathname:l,search:d}=Vl(t,{relative:e}),u=l;return r!=="/"&&(u=l==="/"?r:js([r,l])),o.createHref({pathname:u,search:d,hash:i})}function Ei(){return v.useContext(Wl)!=null}function Tn(){return Nt(Ei(),"useLocation() may be used only in the context of a <Router> component."),v.useContext(Wl).location}var Ay="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Py(t){v.useContext(An).static||v.useLayoutEffect(t)}function qt(){let{isDataRoute:t}=v.useContext(Pn);return t?aS():KE()}function KE(){Nt(Ei(),"useNavigate() may be used only in the context of a <Router> component.");let t=v.useContext(Ni),{basename:e,navigator:r}=v.useContext(An),{matches:o}=v.useContext(Pn),{pathname:i}=Tn(),l=JSON.stringify(Fm(o)),d=v.useRef(!1);return Py(()=>{d.current=!0}),v.useCallback((h,m={})=>{if(Gr(d.current,Ay),!d.current)return;if(typeof h=="number"){r.go(h);return}let g=zm(h,JSON.parse(l),i,m.relative==="path");t==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:js([e,g.pathname])),(m.replace?r.replace:r.push)(g,m.state,m)},[e,r,l,i,t])}v.createContext(null);function GE(){let{matches:t}=v.useContext(Pn),e=t[t.length-1];return e?e.params:{}}function Vl(t,{relative:e}={}){let{matches:r}=v.useContext(Pn),{pathname:o}=Tn(),i=JSON.stringify(Fm(r));return v.useMemo(()=>zm(t,JSON.parse(i),o,e==="path"),[t,i,o,e])}function QE(t,e){return Ty(t,e)}function Ty(t,e,r,o,i){var E;Nt(Ei(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=v.useContext(An),{matches:d}=v.useContext(Pn),u=d[d.length-1],h=u?u.params:{},m=u?u.pathname:"/",g=u?u.pathnameBase:"/",p=u&&u.route;{let S=p&&p.path||"";Oy(m,!p||S.endsWith("*")||S.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${S}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${S}"> to <Route path="${S==="/"?"*":`${S}/*`}">.`)}let w=Tn(),b;if(e){let S=typeof e=="string"?va(e):e;Nt(g==="/"||((E=S.pathname)==null?void 0:E.startsWith(g)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${S.pathname}" was given in the \`location\` prop.`),b=S}else b=w;let N=b.pathname||"/",j=N;if(g!=="/"){let S=g.replace(/^\//,"").split("/");j="/"+N.replace(/^\//,"").split("/").slice(S.length).join("/")}let _=Ey(t,{pathname:j});Gr(p||_!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),Gr(_==null||_[_.length-1].route.element!==void 0||_[_.length-1].route.Component!==void 0||_[_.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let C=eS(_&&_.map(S=>Object.assign({},S,{params:Object.assign({},h,S.params),pathname:js([g,l.encodeLocation?l.encodeLocation(S.pathname).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?g:js([g,l.encodeLocation?l.encodeLocation(S.pathnameBase).pathname:S.pathnameBase])})),d,r,o,i);return e&&C?v.createElement(Wl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},C):C}function JE(){let t=oS(),e=UE(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,o="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:o},l={padding:"2px 4px",backgroundColor:o},d=null;return console.error("Error handled by React Router default ErrorBoundary:",t),d=v.createElement(v.Fragment,null,v.createElement("p",null," Hey developer "),v.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",v.createElement("code",{style:l},"ErrorBoundary")," or"," ",v.createElement("code",{style:l},"errorElement")," prop on your route.")),v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},e),r?v.createElement("pre",{style:i},r):null,d)}var YE=v.createElement(JE,null),XE=class extends v.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?v.createElement(Pn.Provider,{value:this.props.routeContext},v.createElement(Um.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function ZE({routeContext:t,match:e,children:r}){let o=v.useContext(Ni);return o&&o.static&&o.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=e.route.id),v.createElement(Pn.Provider,{value:t},r)}function eS(t,e=[],r=null,o=null,i=null){if(t==null){if(!r)return null;if(r.errors)t=r.matches;else if(e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let l=t,d=r==null?void 0:r.errors;if(d!=null){let m=l.findIndex(g=>g.route.id&&(d==null?void 0:d[g.route.id])!==void 0);Nt(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(d).join(",")}`),l=l.slice(0,Math.min(l.length,m+1))}let u=!1,h=-1;if(r)for(let m=0;m<l.length;m++){let g=l[m];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(h=m),g.route.id){let{loaderData:p,errors:w}=r,b=g.route.loader&&!p.hasOwnProperty(g.route.id)&&(!w||w[g.route.id]===void 0);if(g.route.lazy||b){u=!0,h>=0?l=l.slice(0,h+1):l=[l[0]];break}}}return l.reduceRight((m,g,p)=>{let w,b=!1,N=null,j=null;r&&(w=d&&g.route.id?d[g.route.id]:void 0,N=g.route.errorElement||YE,u&&(h<0&&p===0?(Oy("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,j=null):h===p&&(b=!0,j=g.route.hydrateFallbackElement||null)));let _=e.concat(l.slice(0,p+1)),C=()=>{let E;return w?E=N:b?E=j:g.route.Component?E=v.createElement(g.route.Component,null):g.route.element?E=g.route.element:E=m,v.createElement(ZE,{match:g,routeContext:{outlet:m,matches:_,isDataRoute:r!=null},children:E})};return r&&(g.route.ErrorBoundary||g.route.errorElement||p===0)?v.createElement(XE,{location:r.location,revalidation:r.revalidation,component:N,error:w,children:C(),routeContext:{outlet:null,matches:_,isDataRoute:!0},unstable_onError:o}):C()},null)}function qm(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function tS(t){let e=v.useContext(Ni);return Nt(e,qm(t)),e}function rS(t){let e=v.useContext(cu);return Nt(e,qm(t)),e}function nS(t){let e=v.useContext(Pn);return Nt(e,qm(t)),e}function Wm(t){let e=nS(t),r=e.matches[e.matches.length-1];return Nt(r.route.id,`${t} can only be used on routes that contain a unique "id"`),r.route.id}function sS(){return Wm("useRouteId")}function oS(){var o;let t=v.useContext(Um),e=rS("useRouteError"),r=Wm("useRouteError");return t!==void 0?t:(o=e.errors)==null?void 0:o[r]}function aS(){let{router:t}=tS("useNavigate"),e=Wm("useNavigate"),r=v.useRef(!1);return Py(()=>{r.current=!0}),v.useCallback(async(i,l={})=>{Gr(r.current,Ay),r.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...l}))},[t,e])}var E0={};function Oy(t,e,r){!e&&!E0[t]&&(E0[t]=!0,Gr(!1,r))}v.memo(iS);function iS({routes:t,future:e,state:r,unstable_onError:o}){return Ty(t,void 0,r,o,e)}function zd({to:t,replace:e,state:r,relative:o}){Nt(Ei(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=v.useContext(An);Gr(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=v.useContext(Pn),{pathname:d}=Tn(),u=qt(),h=zm(t,Fm(l),d,o==="path"),m=JSON.stringify(h);return v.useEffect(()=>{u(JSON.parse(m),{replace:e,state:r,relative:o})},[u,m,o,e,r]),null}function $t(t){Nt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function lS({basename:t="/",children:e=null,location:r,navigationType:o="POP",navigator:i,static:l=!1}){Nt(!Ei(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=t.replace(/^\/*/,"/"),u=v.useMemo(()=>({basename:d,navigator:i,static:l,future:{}}),[d,i,l]);typeof r=="string"&&(r=va(r));let{pathname:h="/",search:m="",hash:g="",state:p=null,key:w="default"}=r,b=v.useMemo(()=>{let N=Ns(h,d);return N==null?null:{location:{pathname:N,search:m,hash:g,state:p,key:w},navigationType:o}},[d,h,m,g,p,w,o]);return Gr(b!=null,`<Router basename="${d}"> is not able to match the URL "${h}${m}${g}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:v.createElement(An.Provider,{value:u},v.createElement(Wl.Provider,{children:e,value:b}))}function S0({children:t,location:e}){return QE(qf(t),e)}function qf(t,e=[]){let r=[];return v.Children.forEach(t,(o,i)=>{if(!v.isValidElement(o))return;let l=[...e,i];if(o.type===v.Fragment){r.push.apply(r,qf(o.props.children,l));return}Nt(o.type===$t,`[${typeof o.type=="string"?o.type:o.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Nt(!o.props.index||!o.props.children,"An index route cannot have child routes.");let d={id:o.props.id||l.join("-"),caseSensitive:o.props.caseSensitive,element:o.props.element,Component:o.props.Component,index:o.props.index,path:o.props.path,loader:o.props.loader,action:o.props.action,hydrateFallbackElement:o.props.hydrateFallbackElement,HydrateFallback:o.props.HydrateFallback,errorElement:o.props.errorElement,ErrorBoundary:o.props.ErrorBoundary,hasErrorBoundary:o.props.hasErrorBoundary===!0||o.props.ErrorBoundary!=null||o.props.errorElement!=null,shouldRevalidate:o.props.shouldRevalidate,handle:o.props.handle,lazy:o.props.lazy};o.props.children&&(d.children=qf(o.props.children,l)),r.push(d)}),r}var Ad="get",Pd="application/x-www-form-urlencoded";function du(t){return t!=null&&typeof t.tagName=="string"}function cS(t){return du(t)&&t.tagName.toLowerCase()==="button"}function dS(t){return du(t)&&t.tagName.toLowerCase()==="form"}function uS(t){return du(t)&&t.tagName.toLowerCase()==="input"}function hS(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function fS(t,e){return t.button===0&&(!e||e==="_self")&&!hS(t)}function Wf(t=""){return new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,r)=>{let o=t[r];return e.concat(Array.isArray(o)?o.map(i=>[r,i]):[[r,o]])},[]))}function mS(t,e){let r=Wf(t);return e&&e.forEach((o,i)=>{r.has(i)||e.getAll(i).forEach(l=>{r.append(i,l)})}),r}var ad=null;function pS(){if(ad===null)try{new FormData(document.createElement("form"),0),ad=!1}catch{ad=!0}return ad}var gS=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function yf(t){return t!=null&&!gS.has(t)?(Gr(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Pd}"`),null):t}function xS(t,e){let r,o,i,l,d;if(dS(t)){let u=t.getAttribute("action");o=u?Ns(u,e):null,r=t.getAttribute("method")||Ad,i=yf(t.getAttribute("enctype"))||Pd,l=new FormData(t)}else if(cS(t)||uS(t)&&(t.type==="submit"||t.type==="image")){let u=t.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=t.getAttribute("formaction")||u.getAttribute("action");if(o=h?Ns(h,e):null,r=t.getAttribute("formmethod")||u.getAttribute("method")||Ad,i=yf(t.getAttribute("formenctype"))||yf(u.getAttribute("enctype"))||Pd,l=new FormData(u,t),!pS()){let{name:m,type:g,value:p}=t;if(g==="image"){let w=m?`${m}.`:"";l.append(`${w}x`,"0"),l.append(`${w}y`,"0")}else m&&l.append(m,p)}}else{if(du(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Ad,o=null,i=Pd,d=t}return l&&i==="text/plain"&&(d=l,l=void 0),{action:o,method:r.toLowerCase(),encType:i,formData:l,body:d}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Vm(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function vS(t,e,r){let o=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return o.pathname==="/"?o.pathname=`_root.${r}`:e&&Ns(o.pathname,e)==="/"?o.pathname=`${e.replace(/\/$/,"")}/_root.${r}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${r}`,o}async function yS(t,e){if(t.id in e)return e[t.id];try{let r=await import(t.module);return e[t.id]=r,r}catch(r){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function bS(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function wS(t,e,r){let o=await Promise.all(t.map(async i=>{let l=e.routes[i.route.id];if(l){let d=await yS(l,r);return d.links?d.links():[]}return[]}));return ES(o.flat(1).filter(bS).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function C0(t,e,r,o,i,l){let d=(h,m)=>r[m]?h.route.id!==r[m].route.id:!0,u=(h,m)=>{var g;return r[m].pathname!==h.pathname||((g=r[m].route.path)==null?void 0:g.endsWith("*"))&&r[m].params["*"]!==h.params["*"]};return l==="assets"?e.filter((h,m)=>d(h,m)||u(h,m)):l==="data"?e.filter((h,m)=>{var p;let g=o.routes[h.route.id];if(!g||!g.hasLoader)return!1;if(d(h,m)||u(h,m))return!0;if(h.route.shouldRevalidate){let w=h.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((p=r[0])==null?void 0:p.params)||{},nextUrl:new URL(t,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function jS(t,e,{includeHydrateFallback:r}={}){return _S(t.map(o=>{let i=e.routes[o.route.id];if(!i)return[];let l=[i.module];return i.clientActionModule&&(l=l.concat(i.clientActionModule)),i.clientLoaderModule&&(l=l.concat(i.clientLoaderModule)),r&&i.hydrateFallbackModule&&(l=l.concat(i.hydrateFallbackModule)),i.imports&&(l=l.concat(i.imports)),l}).flat(1))}function _S(t){return[...new Set(t)]}function NS(t){let e={},r=Object.keys(t).sort();for(let o of r)e[o]=t[o];return e}function ES(t,e){let r=new Set;return new Set(e),t.reduce((o,i)=>{let l=JSON.stringify(NS(i));return r.has(l)||(r.add(l),o.push({key:l,link:i})),o},[])}function Iy(){let t=v.useContext(Ni);return Vm(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function SS(){let t=v.useContext(cu);return Vm(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Hm=v.createContext(void 0);Hm.displayName="FrameworkContext";function My(){let t=v.useContext(Hm);return Vm(t,"You must render this element inside a <HydratedRouter> element"),t}function CS(t,e){let r=v.useContext(Hm),[o,i]=v.useState(!1),[l,d]=v.useState(!1),{onFocus:u,onBlur:h,onMouseEnter:m,onMouseLeave:g,onTouchStart:p}=e,w=v.useRef(null);v.useEffect(()=>{if(t==="render"&&d(!0),t==="viewport"){let j=C=>{C.forEach(E=>{d(E.isIntersecting)})},_=new IntersectionObserver(j,{threshold:.5});return w.current&&_.observe(w.current),()=>{_.disconnect()}}},[t]),v.useEffect(()=>{if(o){let j=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(j)}}},[o]);let b=()=>{i(!0)},N=()=>{i(!1),d(!1)};return r?t!=="intent"?[l,w,{}]:[l,w,{onFocus:gl(u,b),onBlur:gl(h,N),onMouseEnter:gl(m,b),onMouseLeave:gl(g,N),onTouchStart:gl(p,b)}]:[!1,w,{}]}function gl(t,e){return r=>{t&&t(r),r.defaultPrevented||e(r)}}function kS({page:t,...e}){let{router:r}=Iy(),o=v.useMemo(()=>Ey(r.routes,t,r.basename),[r.routes,t,r.basename]);return o?v.createElement(AS,{page:t,matches:o,...e}):null}function RS(t){let{manifest:e,routeModules:r}=My(),[o,i]=v.useState([]);return v.useEffect(()=>{let l=!1;return wS(t,e,r).then(d=>{l||i(d)}),()=>{l=!0}},[t,e,r]),o}function AS({page:t,matches:e,...r}){let o=Tn(),{manifest:i,routeModules:l}=My(),{basename:d}=Iy(),{loaderData:u,matches:h}=SS(),m=v.useMemo(()=>C0(t,e,h,i,o,"data"),[t,e,h,i,o]),g=v.useMemo(()=>C0(t,e,h,i,o,"assets"),[t,e,h,i,o]),p=v.useMemo(()=>{if(t===o.pathname+o.search+o.hash)return[];let N=new Set,j=!1;if(e.forEach(C=>{var S;let E=i.routes[C.route.id];!E||!E.hasLoader||(!m.some(T=>T.route.id===C.route.id)&&C.route.id in u&&((S=l[C.route.id])!=null&&S.shouldRevalidate)||E.hasClientLoader?j=!0:N.add(C.route.id))}),N.size===0)return[];let _=vS(t,d,"data");return j&&N.size>0&&_.searchParams.set("_routes",e.filter(C=>N.has(C.route.id)).map(C=>C.route.id).join(",")),[_.pathname+_.search]},[d,u,o,i,m,e,t,l]),w=v.useMemo(()=>jS(g,i),[g,i]),b=RS(g);return v.createElement(v.Fragment,null,p.map(N=>v.createElement("link",{key:N,rel:"prefetch",as:"fetch",href:N,...r})),w.map(N=>v.createElement("link",{key:N,rel:"modulepreload",href:N,...r})),b.map(({key:N,link:j})=>v.createElement("link",{key:N,nonce:r.nonce,...j})))}function PS(...t){return e=>{t.forEach(r=>{typeof r=="function"?r(e):r!=null&&(r.current=e)})}}var Dy=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Dy&&(window.__reactRouterVersion="7.9.1")}catch{}function TS({basename:t,children:e,window:r}){let o=v.useRef();o.current==null&&(o.current=yE({window:r,v5Compat:!0}));let i=o.current,[l,d]=v.useState({action:i.action,location:i.location}),u=v.useCallback(h=>{v.startTransition(()=>d(h))},[d]);return v.useLayoutEffect(()=>i.listen(u),[i,u]),v.createElement(lS,{basename:t,children:e,location:l.location,navigationType:l.action,navigator:i})}var Ly=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,vs=v.forwardRef(function({onClick:e,discover:r="render",prefetch:o="none",relative:i,reloadDocument:l,replace:d,state:u,target:h,to:m,preventScrollReset:g,viewTransition:p,...w},b){let{basename:N}=v.useContext(An),j=typeof m=="string"&&Ly.test(m),_,C=!1;if(typeof m=="string"&&j&&(_=m,Dy))try{let ue=new URL(window.location.href),V=m.startsWith("//")?new URL(ue.protocol+m):new URL(m),O=Ns(V.pathname,N);V.origin===ue.origin&&O!=null?m=O+V.search+V.hash:C=!0}catch{Gr(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let E=HE(m,{relative:i}),[S,T,q]=CS(o,w),A=DS(m,{replace:d,state:u,target:h,preventScrollReset:g,relative:i,viewTransition:p});function U(ue){e&&e(ue),ue.defaultPrevented||A(ue)}let K=v.createElement("a",{...w,...q,href:_||E,onClick:C||l?e:U,ref:PS(b,T),target:h,"data-discover":!j&&r==="render"?"true":void 0});return S&&!j?v.createElement(v.Fragment,null,K,v.createElement(kS,{page:E})):K});vs.displayName="Link";var OS=v.forwardRef(function({"aria-current":e="page",caseSensitive:r=!1,className:o="",end:i=!1,style:l,to:d,viewTransition:u,children:h,...m},g){let p=Vl(d,{relative:m.relative}),w=Tn(),b=v.useContext(cu),{navigator:N,basename:j}=v.useContext(An),_=b!=null&&zS(p)&&u===!0,C=N.encodeLocation?N.encodeLocation(p).pathname:p.pathname,E=w.pathname,S=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;r||(E=E.toLowerCase(),S=S?S.toLowerCase():null,C=C.toLowerCase()),S&&j&&(S=Ns(S,j)||S);const T=C!=="/"&&C.endsWith("/")?C.length-1:C.length;let q=E===C||!i&&E.startsWith(C)&&E.charAt(T)==="/",A=S!=null&&(S===C||!i&&S.startsWith(C)&&S.charAt(C.length)==="/"),U={isActive:q,isPending:A,isTransitioning:_},K=q?e:void 0,ue;typeof o=="function"?ue=o(U):ue=[o,q?"active":null,A?"pending":null,_?"transitioning":null].filter(Boolean).join(" ");let V=typeof l=="function"?l(U):l;return v.createElement(vs,{...m,"aria-current":K,className:ue,ref:g,style:V,to:d,viewTransition:u},typeof h=="function"?h(U):h)});OS.displayName="NavLink";var IS=v.forwardRef(({discover:t="render",fetcherKey:e,navigate:r,reloadDocument:o,replace:i,state:l,method:d=Ad,action:u,onSubmit:h,relative:m,preventScrollReset:g,viewTransition:p,...w},b)=>{let N=BS(),j=FS(u,{relative:m}),_=d.toLowerCase()==="get"?"get":"post",C=typeof u=="string"&&Ly.test(u),E=S=>{if(h&&h(S),S.defaultPrevented)return;S.preventDefault();let T=S.nativeEvent.submitter,q=(T==null?void 0:T.getAttribute("formmethod"))||d;N(T||S.currentTarget,{fetcherKey:e,method:q,navigate:r,replace:i,state:l,relative:m,preventScrollReset:g,viewTransition:p})};return v.createElement("form",{ref:b,method:_,action:j,onSubmit:o?h:E,...w,"data-discover":!C&&t==="render"?"true":void 0})});IS.displayName="Form";function MS(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function $y(t){let e=v.useContext(Ni);return Nt(e,MS(t)),e}function DS(t,{target:e,replace:r,state:o,preventScrollReset:i,relative:l,viewTransition:d}={}){let u=qt(),h=Tn(),m=Vl(t,{relative:l});return v.useCallback(g=>{if(fS(g,e)){g.preventDefault();let p=r!==void 0?r:Pl(h)===Pl(m);u(t,{replace:p,state:o,preventScrollReset:i,relative:l,viewTransition:d})}},[h,u,m,r,o,e,t,i,l,d])}function By(t){Gr(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=v.useRef(Wf(t)),r=v.useRef(!1),o=Tn(),i=v.useMemo(()=>mS(o.search,r.current?null:e.current),[o.search]),l=qt(),d=v.useCallback((u,h)=>{const m=Wf(typeof u=="function"?u(new URLSearchParams(i)):u);r.current=!0,l("?"+m,h)},[l,i]);return[i,d]}var LS=0,$S=()=>`__${String(++LS)}__`;function BS(){let{router:t}=$y("useSubmit"),{basename:e}=v.useContext(An),r=sS();return v.useCallback(async(o,i={})=>{let{action:l,method:d,encType:u,formData:h,body:m}=xS(o,e);if(i.navigate===!1){let g=i.fetcherKey||$S();await t.fetch(g,r,i.action||l,{preventScrollReset:i.preventScrollReset,formData:h,body:m,formMethod:i.method||d,formEncType:i.encType||u,flushSync:i.flushSync})}else await t.navigate(i.action||l,{preventScrollReset:i.preventScrollReset,formData:h,body:m,formMethod:i.method||d,formEncType:i.encType||u,replace:i.replace,state:i.state,fromRouteId:r,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,r])}function FS(t,{relative:e}={}){let{basename:r}=v.useContext(An),o=v.useContext(Pn);Nt(o,"useFormAction must be used inside a RouteContext");let[i]=o.matches.slice(-1),l={...Vl(t||".",{relative:e})},d=Tn();if(t==null){l.search=d.search;let u=new URLSearchParams(l.search),h=u.getAll("index");if(h.some(g=>g==="")){u.delete("index"),h.filter(p=>p).forEach(p=>u.append("index",p));let g=u.toString();l.search=g?`?${g}`:""}}return(!t||t===".")&&i.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(l.pathname=l.pathname==="/"?r:js([r,l.pathname])),Pl(l)}function zS(t,{relative:e}={}){let r=v.useContext(Ry);Nt(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:o}=$y("useViewTransitionState"),i=Vl(t,{relative:e});if(!r.isTransitioning)return!1;let l=Ns(r.currentLocation.pathname,o)||r.currentLocation.pathname,d=Ns(r.nextLocation.pathname,o)||r.nextLocation.pathname;return Fd(i.pathname,d)!=null||Fd(i.pathname,l)!=null}var Hl=Ny();const Fy=lu(Hl);function US(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}const qS=t=>{switch(t){case"success":return HS;case"info":return GS;case"warning":return KS;case"error":return QS;default:return null}},WS=Array(12).fill(0),VS=({visible:t,className:e})=>be.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},be.createElement("div",{className:"sonner-spinner"},WS.map((r,o)=>be.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${o}`})))),HS=be.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},be.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),KS=be.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},be.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),GS=be.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},be.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),QS=be.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},be.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),JS=be.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},be.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),be.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),YS=()=>{const[t,e]=be.useState(document.hidden);return be.useEffect(()=>{const r=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),t};let Vf=1;class XS{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const r=this.subscribers.indexOf(e);this.subscribers.splice(r,1)}),this.publish=e=>{this.subscribers.forEach(r=>r(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var r;const{message:o,...i}=e,l=typeof(e==null?void 0:e.id)=="number"||((r=e.id)==null?void 0:r.length)>0?e.id:Vf++,d=this.toasts.find(h=>h.id===l),u=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(l)&&this.dismissedToasts.delete(l),d?this.toasts=this.toasts.map(h=>h.id===l?(this.publish({...h,...e,id:l,title:o}),{...h,...e,id:l,dismissible:u,title:o}):h):this.addToast({title:o,...i,dismissible:u,id:l}),l},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(r=>r({id:e,dismiss:!0})))):this.toasts.forEach(r=>{this.subscribers.forEach(o=>o({id:r.id,dismiss:!0}))}),e),this.message=(e,r)=>this.create({...r,message:e}),this.error=(e,r)=>this.create({...r,message:e,type:"error"}),this.success=(e,r)=>this.create({...r,type:"success",message:e}),this.info=(e,r)=>this.create({...r,type:"info",message:e}),this.warning=(e,r)=>this.create({...r,type:"warning",message:e}),this.loading=(e,r)=>this.create({...r,type:"loading",message:e}),this.promise=(e,r)=>{if(!r)return;let o;r.loading!==void 0&&(o=this.create({...r,promise:e,type:"loading",message:r.loading,description:typeof r.description!="function"?r.description:void 0}));const i=Promise.resolve(e instanceof Function?e():e);let l=o!==void 0,d;const u=i.then(async m=>{if(d=["resolve",m],be.isValidElement(m))l=!1,this.create({id:o,type:"default",message:m});else if(e2(m)&&!m.ok){l=!1;const p=typeof r.error=="function"?await r.error(`HTTP error! status: ${m.status}`):r.error,w=typeof r.description=="function"?await r.description(`HTTP error! status: ${m.status}`):r.description,N=typeof p=="object"&&!be.isValidElement(p)?p:{message:p};this.create({id:o,type:"error",description:w,...N})}else if(m instanceof Error){l=!1;const p=typeof r.error=="function"?await r.error(m):r.error,w=typeof r.description=="function"?await r.description(m):r.description,N=typeof p=="object"&&!be.isValidElement(p)?p:{message:p};this.create({id:o,type:"error",description:w,...N})}else if(r.success!==void 0){l=!1;const p=typeof r.success=="function"?await r.success(m):r.success,w=typeof r.description=="function"?await r.description(m):r.description,N=typeof p=="object"&&!be.isValidElement(p)?p:{message:p};this.create({id:o,type:"success",description:w,...N})}}).catch(async m=>{if(d=["reject",m],r.error!==void 0){l=!1;const g=typeof r.error=="function"?await r.error(m):r.error,p=typeof r.description=="function"?await r.description(m):r.description,b=typeof g=="object"&&!be.isValidElement(g)?g:{message:g};this.create({id:o,type:"error",description:p,...b})}}).finally(()=>{l&&(this.dismiss(o),o=void 0),r.finally==null||r.finally.call(r)}),h=()=>new Promise((m,g)=>u.then(()=>d[0]==="reject"?g(d[1]):m(d[1])).catch(g));return typeof o!="string"&&typeof o!="number"?{unwrap:h}:Object.assign(o,{unwrap:h})},this.custom=(e,r)=>{const o=(r==null?void 0:r.id)||Vf++;return this.create({jsx:e(o),id:o,...r}),o},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Mr=new XS,ZS=(t,e)=>{const r=(e==null?void 0:e.id)||Vf++;return Mr.addToast({title:t,...e,id:r}),r},e2=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",t2=ZS,r2=()=>Mr.toasts,n2=()=>Mr.getActiveToasts(),me=Object.assign(t2,{success:Mr.success,info:Mr.info,warning:Mr.warning,error:Mr.error,custom:Mr.custom,message:Mr.message,promise:Mr.promise,dismiss:Mr.dismiss,loading:Mr.loading},{getHistory:r2,getToasts:n2});US("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function id(t){return t.label!==void 0}const s2=3,o2="24px",a2="16px",k0=4e3,i2=356,l2=14,c2=45,d2=200;function zn(...t){return t.filter(Boolean).join(" ")}function u2(t){const[e,r]=t.split("-"),o=[];return e&&o.push(e),r&&o.push(r),o}const h2=t=>{var e,r,o,i,l,d,u,h,m;const{invert:g,toast:p,unstyled:w,interacting:b,setHeights:N,visibleToasts:j,heights:_,index:C,toasts:E,expanded:S,removeToast:T,defaultRichColors:q,closeButton:A,style:U,cancelButtonStyle:K,actionButtonStyle:ue,className:V="",descriptionClassName:O="",duration:Y,position:I,gap:L,expandByDefault:ce,classNames:ae,icons:fe,closeButtonAriaLabel:z="Close toast"}=t,[he,de]=be.useState(null),[R,B]=be.useState(null),[F,D]=be.useState(!1),[oe,pe]=be.useState(!1),[se,P]=be.useState(!1),[Z,le]=be.useState(!1),[ve,je]=be.useState(!1),[Ee,Ae]=be.useState(0),[Ve,at]=be.useState(0),yt=be.useRef(p.duration||Y||k0),ut=be.useRef(null),Ze=be.useRef(null),ir=C===0,Nr=C+1<=j,ht=p.type,Qt=p.dismissible!==!1,Rs=p.className||"",As=p.descriptionClassName||"",ln=be.useMemo(()=>_.findIndex(We=>We.toastId===p.id)||0,[_,p.id]),In=be.useMemo(()=>{var We;return(We=p.closeButton)!=null?We:A},[p.closeButton,A]),lr=be.useMemo(()=>p.duration||Y||k0,[p.duration,Y]),Mn=be.useRef(0),Q=be.useRef(0),M=be.useRef(0),G=be.useRef(null),[re,ie]=I.split("-"),qe=be.useMemo(()=>_.reduce((We,Tt,Wt)=>Wt>=ln?We:We+Tt.height,0),[_,ln]),_e=YS(),tt=p.invert||g,ct=ht==="loading";Q.current=be.useMemo(()=>ln*L+qe,[ln,qe]),be.useEffect(()=>{yt.current=lr},[lr]),be.useEffect(()=>{D(!0)},[]),be.useEffect(()=>{const We=Ze.current;if(We){const Tt=We.getBoundingClientRect().height;return at(Tt),N(Wt=>[{toastId:p.id,height:Tt,position:p.position},...Wt]),()=>N(Wt=>Wt.filter(cr=>cr.toastId!==p.id))}},[N,p.id]),be.useLayoutEffect(()=>{if(!F)return;const We=Ze.current,Tt=We.style.height;We.style.height="auto";const Wt=We.getBoundingClientRect().height;We.style.height=Tt,at(Wt),N(cr=>cr.find(Dt=>Dt.toastId===p.id)?cr.map(Dt=>Dt.toastId===p.id?{...Dt,height:Wt}:Dt):[{toastId:p.id,height:Wt,position:p.position},...cr])},[F,p.title,p.description,N,p.id,p.jsx,p.action,p.cancel]);const He=be.useCallback(()=>{pe(!0),Ae(Q.current),N(We=>We.filter(Tt=>Tt.toastId!==p.id)),setTimeout(()=>{T(p)},d2)},[p,T,N,Q]);be.useEffect(()=>{if(p.promise&&ht==="loading"||p.duration===1/0||p.type==="loading")return;let We;return S||b||_e?(()=>{if(M.current<Mn.current){const cr=new Date().getTime()-Mn.current;yt.current=yt.current-cr}M.current=new Date().getTime()})():(()=>{yt.current!==1/0&&(Mn.current=new Date().getTime(),We=setTimeout(()=>{p.onAutoClose==null||p.onAutoClose.call(p,p),He()},yt.current))})(),()=>clearTimeout(We)},[S,b,p,ht,_e,He]),be.useEffect(()=>{p.delete&&(He(),p.onDismiss==null||p.onDismiss.call(p,p))},[He,p.delete]);function bt(){var We;if(fe!=null&&fe.loading){var Tt;return be.createElement("div",{className:zn(ae==null?void 0:ae.loader,p==null||(Tt=p.classNames)==null?void 0:Tt.loader,"sonner-loader"),"data-visible":ht==="loading"},fe.loading)}return be.createElement(VS,{className:zn(ae==null?void 0:ae.loader,p==null||(We=p.classNames)==null?void 0:We.loader),visible:ht==="loading"})}const Rt=p.icon||(fe==null?void 0:fe[ht])||qS(ht);var cn,Co;return be.createElement("li",{tabIndex:0,ref:Ze,className:zn(V,Rs,ae==null?void 0:ae.toast,p==null||(e=p.classNames)==null?void 0:e.toast,ae==null?void 0:ae.default,ae==null?void 0:ae[ht],p==null||(r=p.classNames)==null?void 0:r[ht]),"data-sonner-toast":"","data-rich-colors":(cn=p.richColors)!=null?cn:q,"data-styled":!(p.jsx||p.unstyled||w),"data-mounted":F,"data-promise":!!p.promise,"data-swiped":ve,"data-removed":oe,"data-visible":Nr,"data-y-position":re,"data-x-position":ie,"data-index":C,"data-front":ir,"data-swiping":se,"data-dismissible":Qt,"data-type":ht,"data-invert":tt,"data-swipe-out":Z,"data-swipe-direction":R,"data-expanded":!!(S||ce&&F),"data-testid":p.testId,style:{"--index":C,"--toasts-before":C,"--z-index":E.length-C,"--offset":`${oe?Ee:Q.current}px`,"--initial-height":ce?"auto":`${Ve}px`,...U,...p.style},onDragEnd:()=>{P(!1),de(null),G.current=null},onPointerDown:We=>{We.button!==2&&(ct||!Qt||(ut.current=new Date,Ae(Q.current),We.target.setPointerCapture(We.pointerId),We.target.tagName!=="BUTTON"&&(P(!0),G.current={x:We.clientX,y:We.clientY})))},onPointerUp:()=>{var We,Tt,Wt;if(Z||!Qt)return;G.current=null;const cr=Number(((We=Ze.current)==null?void 0:We.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Ps=Number(((Tt=Ze.current)==null?void 0:Tt.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Dt=new Date().getTime()-((Wt=ut.current)==null?void 0:Wt.getTime()),Jt=he==="x"?cr:Ps,Ts=Math.abs(Jt)/Dt;if(Math.abs(Jt)>=c2||Ts>.11){Ae(Q.current),p.onDismiss==null||p.onDismiss.call(p,p),B(he==="x"?cr>0?"right":"left":Ps>0?"down":"up"),He(),le(!0);return}else{var rr,Lr;(rr=Ze.current)==null||rr.style.setProperty("--swipe-amount-x","0px"),(Lr=Ze.current)==null||Lr.style.setProperty("--swipe-amount-y","0px")}je(!1),P(!1),de(null)},onPointerMove:We=>{var Tt,Wt,cr;if(!G.current||!Qt||((Tt=window.getSelection())==null?void 0:Tt.toString().length)>0)return;const Dt=We.clientY-G.current.y,Jt=We.clientX-G.current.x;var Ts;const rr=(Ts=t.swipeDirections)!=null?Ts:u2(I);!he&&(Math.abs(Jt)>1||Math.abs(Dt)>1)&&de(Math.abs(Jt)>Math.abs(Dt)?"x":"y");let Lr={x:0,y:0};const Os=Qr=>1/(1.5+Math.abs(Qr)/20);if(he==="y"){if(rr.includes("top")||rr.includes("bottom"))if(rr.includes("top")&&Dt<0||rr.includes("bottom")&&Dt>0)Lr.y=Dt;else{const Qr=Dt*Os(Dt);Lr.y=Math.abs(Qr)<Math.abs(Dt)?Qr:Dt}}else if(he==="x"&&(rr.includes("left")||rr.includes("right")))if(rr.includes("left")&&Jt<0||rr.includes("right")&&Jt>0)Lr.x=Jt;else{const Qr=Jt*Os(Jt);Lr.x=Math.abs(Qr)<Math.abs(Jt)?Qr:Jt}(Math.abs(Lr.x)>0||Math.abs(Lr.y)>0)&&je(!0),(Wt=Ze.current)==null||Wt.style.setProperty("--swipe-amount-x",`${Lr.x}px`),(cr=Ze.current)==null||cr.style.setProperty("--swipe-amount-y",`${Lr.y}px`)}},In&&!p.jsx&&ht!=="loading"?be.createElement("button",{"aria-label":z,"data-disabled":ct,"data-close-button":!0,onClick:ct||!Qt?()=>{}:()=>{He(),p.onDismiss==null||p.onDismiss.call(p,p)},className:zn(ae==null?void 0:ae.closeButton,p==null||(o=p.classNames)==null?void 0:o.closeButton)},(Co=fe==null?void 0:fe.close)!=null?Co:JS):null,(ht||p.icon||p.promise)&&p.icon!==null&&((fe==null?void 0:fe[ht])!==null||p.icon)?be.createElement("div",{"data-icon":"",className:zn(ae==null?void 0:ae.icon,p==null||(i=p.classNames)==null?void 0:i.icon)},p.promise||p.type==="loading"&&!p.icon?p.icon||bt():null,p.type!=="loading"?Rt:null):null,be.createElement("div",{"data-content":"",className:zn(ae==null?void 0:ae.content,p==null||(l=p.classNames)==null?void 0:l.content)},be.createElement("div",{"data-title":"",className:zn(ae==null?void 0:ae.title,p==null||(d=p.classNames)==null?void 0:d.title)},p.jsx?p.jsx:typeof p.title=="function"?p.title():p.title),p.description?be.createElement("div",{"data-description":"",className:zn(O,As,ae==null?void 0:ae.description,p==null||(u=p.classNames)==null?void 0:u.description)},typeof p.description=="function"?p.description():p.description):null),be.isValidElement(p.cancel)?p.cancel:p.cancel&&id(p.cancel)?be.createElement("button",{"data-button":!0,"data-cancel":!0,style:p.cancelButtonStyle||K,onClick:We=>{id(p.cancel)&&Qt&&(p.cancel.onClick==null||p.cancel.onClick.call(p.cancel,We),He())},className:zn(ae==null?void 0:ae.cancelButton,p==null||(h=p.classNames)==null?void 0:h.cancelButton)},p.cancel.label):null,be.isValidElement(p.action)?p.action:p.action&&id(p.action)?be.createElement("button",{"data-button":!0,"data-action":!0,style:p.actionButtonStyle||ue,onClick:We=>{id(p.action)&&(p.action.onClick==null||p.action.onClick.call(p.action,We),!We.defaultPrevented&&He())},className:zn(ae==null?void 0:ae.actionButton,p==null||(m=p.classNames)==null?void 0:m.actionButton)},p.action.label):null)};function R0(){if(typeof window>"u"||typeof document>"u")return"ltr";const t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function f2(t,e){const r={};return[t,e].forEach((o,i)=>{const l=i===1,d=l?"--mobile-offset":"--offset",u=l?a2:o2;function h(m){["top","right","bottom","left"].forEach(g=>{r[`${d}-${g}`]=typeof m=="number"?`${m}px`:m})}typeof o=="number"||typeof o=="string"?h(o):typeof o=="object"?["top","right","bottom","left"].forEach(m=>{o[m]===void 0?r[`${d}-${m}`]=u:r[`${d}-${m}`]=typeof o[m]=="number"?`${o[m]}px`:o[m]}):h(u)}),r}const m2=be.forwardRef(function(e,r){const{id:o,invert:i,position:l="bottom-right",hotkey:d=["altKey","KeyT"],expand:u,closeButton:h,className:m,offset:g,mobileOffset:p,theme:w="light",richColors:b,duration:N,style:j,visibleToasts:_=s2,toastOptions:C,dir:E=R0(),gap:S=l2,icons:T,containerAriaLabel:q="Notifications"}=e,[A,U]=be.useState([]),K=be.useMemo(()=>o?A.filter(F=>F.toasterId===o):A.filter(F=>!F.toasterId),[A,o]),ue=be.useMemo(()=>Array.from(new Set([l].concat(K.filter(F=>F.position).map(F=>F.position)))),[K,l]),[V,O]=be.useState([]),[Y,I]=be.useState(!1),[L,ce]=be.useState(!1),[ae,fe]=be.useState(w!=="system"?w:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),z=be.useRef(null),he=d.join("+").replace(/Key/g,"").replace(/Digit/g,""),de=be.useRef(null),R=be.useRef(!1),B=be.useCallback(F=>{U(D=>{var oe;return(oe=D.find(pe=>pe.id===F.id))!=null&&oe.delete||Mr.dismiss(F.id),D.filter(({id:pe})=>pe!==F.id)})},[]);return be.useEffect(()=>Mr.subscribe(F=>{if(F.dismiss){requestAnimationFrame(()=>{U(D=>D.map(oe=>oe.id===F.id?{...oe,delete:!0}:oe))});return}setTimeout(()=>{Fy.flushSync(()=>{U(D=>{const oe=D.findIndex(pe=>pe.id===F.id);return oe!==-1?[...D.slice(0,oe),{...D[oe],...F},...D.slice(oe+1)]:[F,...D]})})})}),[A]),be.useEffect(()=>{if(w!=="system"){fe(w);return}if(w==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?fe("dark"):fe("light")),typeof window>"u")return;const F=window.matchMedia("(prefers-color-scheme: dark)");try{F.addEventListener("change",({matches:D})=>{fe(D?"dark":"light")})}catch{F.addListener(({matches:oe})=>{try{fe(oe?"dark":"light")}catch(pe){console.error(pe)}})}},[w]),be.useEffect(()=>{A.length<=1&&I(!1)},[A]),be.useEffect(()=>{const F=D=>{var oe;if(d.every(P=>D[P]||D.code===P)){var se;I(!0),(se=z.current)==null||se.focus()}D.code==="Escape"&&(document.activeElement===z.current||(oe=z.current)!=null&&oe.contains(document.activeElement))&&I(!1)};return document.addEventListener("keydown",F),()=>document.removeEventListener("keydown",F)},[d]),be.useEffect(()=>{if(z.current)return()=>{de.current&&(de.current.focus({preventScroll:!0}),de.current=null,R.current=!1)}},[z.current]),be.createElement("section",{ref:r,"aria-label":`${q} ${he}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},ue.map((F,D)=>{var oe;const[pe,se]=F.split("-");return K.length?be.createElement("ol",{key:F,dir:E==="auto"?R0():E,tabIndex:-1,ref:z,className:m,"data-sonner-toaster":!0,"data-sonner-theme":ae,"data-y-position":pe,"data-x-position":se,style:{"--front-toast-height":`${((oe=V[0])==null?void 0:oe.height)||0}px`,"--width":`${i2}px`,"--gap":`${S}px`,...j,...f2(g,p)},onBlur:P=>{R.current&&!P.currentTarget.contains(P.relatedTarget)&&(R.current=!1,de.current&&(de.current.focus({preventScroll:!0}),de.current=null))},onFocus:P=>{P.target instanceof HTMLElement&&P.target.dataset.dismissible==="false"||R.current||(R.current=!0,de.current=P.relatedTarget)},onMouseEnter:()=>I(!0),onMouseMove:()=>I(!0),onMouseLeave:()=>{L||I(!1)},onDragEnd:()=>I(!1),onPointerDown:P=>{P.target instanceof HTMLElement&&P.target.dataset.dismissible==="false"||ce(!0)},onPointerUp:()=>ce(!1)},K.filter(P=>!P.position&&D===0||P.position===F).map((P,Z)=>{var le,ve;return be.createElement(h2,{key:P.id,icons:T,index:Z,toast:P,defaultRichColors:b,duration:(le=C==null?void 0:C.duration)!=null?le:N,className:C==null?void 0:C.className,descriptionClassName:C==null?void 0:C.descriptionClassName,invert:i,visibleToasts:_,closeButton:(ve=C==null?void 0:C.closeButton)!=null?ve:h,interacting:L,position:F,style:C==null?void 0:C.style,unstyled:C==null?void 0:C.unstyled,classNames:C==null?void 0:C.classNames,cancelButtonStyle:C==null?void 0:C.cancelButtonStyle,actionButtonStyle:C==null?void 0:C.actionButtonStyle,closeButtonAriaLabel:C==null?void 0:C.closeButtonAriaLabel,removeToast:B,toasts:K.filter(je=>je.position==P.position),heights:V.filter(je=>je.position==P.position),setHeights:O,expandByDefault:u,gap:S,expanded:Y,swipeDirections:e.swipeDirections})})):null}))});var Si=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},p2={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},oo,$m,uy,g2=(uy=class{constructor(){Le(this,oo,p2);Le(this,$m,!1)}setTimeoutProvider(t){Se(this,oo,t)}setTimeout(t,e){return W(this,oo).setTimeout(t,e)}clearTimeout(t){W(this,oo).clearTimeout(t)}setInterval(t,e){return W(this,oo).setInterval(t,e)}clearInterval(t){W(this,oo).clearInterval(t)}},oo=new WeakMap,$m=new WeakMap,uy),Jo=new g2;function x2(t){setTimeout(t,0)}var ca=typeof window>"u"||"Deno"in globalThis;function wr(){}function v2(t,e){return typeof t=="function"?t(e):t}function Hf(t){return typeof t=="number"&&t>=0&&t!==1/0}function zy(t,e){return Math.max(t+(e||0)-Date.now(),0)}function xo(t,e){return typeof t=="function"?t(e):t}function nn(t,e){return typeof t=="function"?t(e):t}function A0(t,e){const{type:r="all",exact:o,fetchStatus:i,predicate:l,queryKey:d,stale:u}=t;if(d){if(o){if(e.queryHash!==Km(d,e.options))return!1}else if(!Tl(e.queryKey,d))return!1}if(r!=="all"){const h=e.isActive();if(r==="active"&&!h||r==="inactive"&&h)return!1}return!(typeof u=="boolean"&&e.isStale()!==u||i&&i!==e.state.fetchStatus||l&&!l(e))}function P0(t,e){const{exact:r,status:o,predicate:i,mutationKey:l}=t;if(l){if(!e.options.mutationKey)return!1;if(r){if(da(e.options.mutationKey)!==da(l))return!1}else if(!Tl(e.options.mutationKey,l))return!1}return!(o&&e.state.status!==o||i&&!i(e))}function Km(t,e){return((e==null?void 0:e.queryKeyHashFn)||da)(t)}function da(t){return JSON.stringify(t,(e,r)=>Kf(r)?Object.keys(r).sort().reduce((o,i)=>(o[i]=r[i],o),{}):r)}function Tl(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(r=>Tl(t[r],e[r])):!1}var y2=Object.prototype.hasOwnProperty;function Uy(t,e){if(t===e)return t;const r=T0(t)&&T0(e);if(!r&&!(Kf(t)&&Kf(e)))return e;const i=(r?t:Object.keys(t)).length,l=r?e:Object.keys(e),d=l.length,u=r?new Array(d):{};let h=0;for(let m=0;m<d;m++){const g=r?m:l[m],p=t[g],w=e[g];if(p===w){u[g]=p,(r?m<i:y2.call(t,g))&&h++;continue}if(p===null||w===null||typeof p!="object"||typeof w!="object"){u[g]=w;continue}const b=Uy(p,w);u[g]=b,b===p&&h++}return i===d&&h===i?t:u}function Ud(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const r in t)if(t[r]!==e[r])return!1;return!0}function T0(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Kf(t){if(!O0(t))return!1;const e=t.constructor;if(e===void 0)return!0;const r=e.prototype;return!(!O0(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function O0(t){return Object.prototype.toString.call(t)==="[object Object]"}function b2(t){return new Promise(e=>{Jo.setTimeout(e,t)})}function Gf(t,e,r){return typeof r.structuralSharing=="function"?r.structuralSharing(t,e):r.structuralSharing!==!1?Uy(t,e):e}function w2(t,e,r=0){const o=[...t,e];return r&&o.length>r?o.slice(1):o}function j2(t,e,r=0){const o=[e,...t];return r&&o.length>r?o.slice(0,-1):o}var Gm=Symbol();function qy(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===Gm?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function Wy(t,e){return typeof t=="function"?t(...e):!!t}var ea,ao,ii,hy,_2=(hy=class extends Si{constructor(){super();Le(this,ea);Le(this,ao);Le(this,ii);Se(this,ii,e=>{if(!ca&&window.addEventListener){const r=()=>e();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){W(this,ao)||this.setEventListener(W(this,ii))}onUnsubscribe(){var e;this.hasListeners()||((e=W(this,ao))==null||e.call(this),Se(this,ao,void 0))}setEventListener(e){var r;Se(this,ii,e),(r=W(this,ao))==null||r.call(this),Se(this,ao,e(o=>{typeof o=="boolean"?this.setFocused(o):this.onFocus()}))}setFocused(e){W(this,ea)!==e&&(Se(this,ea,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(r=>{r(e)})}isFocused(){var e;return typeof W(this,ea)=="boolean"?W(this,ea):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},ea=new WeakMap,ao=new WeakMap,ii=new WeakMap,hy),Qm=new _2;function Qf(){let t,e;const r=new Promise((i,l)=>{t=i,e=l});r.status="pending",r.catch(()=>{});function o(i){Object.assign(r,i),delete r.resolve,delete r.reject}return r.resolve=i=>{o({status:"fulfilled",value:i}),t(i)},r.reject=i=>{o({status:"rejected",reason:i}),e(i)},r}var N2=x2;function E2(){let t=[],e=0,r=u=>{u()},o=u=>{u()},i=N2;const l=u=>{e?t.push(u):i(()=>{r(u)})},d=()=>{const u=t;t=[],u.length&&i(()=>{o(()=>{u.forEach(h=>{r(h)})})})};return{batch:u=>{let h;e++;try{h=u()}finally{e--,e||d()}return h},batchCalls:u=>(...h)=>{l(()=>{u(...h)})},schedule:l,setNotifyFunction:u=>{r=u},setBatchNotifyFunction:u=>{o=u},setScheduler:u=>{i=u}}}var Gt=E2(),li,io,ci,fy,S2=(fy=class extends Si{constructor(){super();Le(this,li,!0);Le(this,io);Le(this,ci);Se(this,ci,e=>{if(!ca&&window.addEventListener){const r=()=>e(!0),o=()=>e(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",o,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",o)}}})}onSubscribe(){W(this,io)||this.setEventListener(W(this,ci))}onUnsubscribe(){var e;this.hasListeners()||((e=W(this,io))==null||e.call(this),Se(this,io,void 0))}setEventListener(e){var r;Se(this,ci,e),(r=W(this,io))==null||r.call(this),Se(this,io,e(this.setOnline.bind(this)))}setOnline(e){W(this,li)!==e&&(Se(this,li,e),this.listeners.forEach(o=>{o(e)}))}isOnline(){return W(this,li)}},li=new WeakMap,io=new WeakMap,ci=new WeakMap,fy),qd=new S2;function C2(t){return Math.min(1e3*2**t,3e4)}function Vy(t){return(t??"online")==="online"?qd.isOnline():!0}var Jf=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function Hy(t){let e=!1,r=0,o;const i=Qf(),l=()=>i.status!=="pending",d=j=>{var _;if(!l()){const C=new Jf(j);w(C),(_=t.onCancel)==null||_.call(t,C)}},u=()=>{e=!0},h=()=>{e=!1},m=()=>Qm.isFocused()&&(t.networkMode==="always"||qd.isOnline())&&t.canRun(),g=()=>Vy(t.networkMode)&&t.canRun(),p=j=>{l()||(o==null||o(),i.resolve(j))},w=j=>{l()||(o==null||o(),i.reject(j))},b=()=>new Promise(j=>{var _;o=C=>{(l()||m())&&j(C)},(_=t.onPause)==null||_.call(t)}).then(()=>{var j;o=void 0,l()||(j=t.onContinue)==null||j.call(t)}),N=()=>{if(l())return;let j;const _=r===0?t.initialPromise:void 0;try{j=_??t.fn()}catch(C){j=Promise.reject(C)}Promise.resolve(j).then(p).catch(C=>{var A;if(l())return;const E=t.retry??(ca?0:3),S=t.retryDelay??C2,T=typeof S=="function"?S(r,C):S,q=E===!0||typeof E=="number"&&r<E||typeof E=="function"&&E(r,C);if(e||!q){w(C);return}r++,(A=t.onFail)==null||A.call(t,r,C),b2(T).then(()=>m()?void 0:b()).then(()=>{e?w(C):N()})})};return{promise:i,status:()=>i.status,cancel:d,continue:()=>(o==null||o(),i),cancelRetry:u,continueRetry:h,canStart:g,start:()=>(g()?N():b().then(N),i)}}var ta,my,Ky=(my=class{constructor(){Le(this,ta)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Hf(this.gcTime)&&Se(this,ta,Jo.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(ca?1/0:300*1e3))}clearGcTimeout(){W(this,ta)&&(Jo.clearTimeout(W(this,ta)),Se(this,ta,void 0))}},ta=new WeakMap,my),ra,di,rn,na,er,$l,sa,bn,fs,py,k2=(py=class extends Ky{constructor(e){super();Le(this,bn);Le(this,ra);Le(this,di);Le(this,rn);Le(this,na);Le(this,er);Le(this,$l);Le(this,sa);Se(this,sa,!1),Se(this,$l,e.defaultOptions),this.setOptions(e.options),this.observers=[],Se(this,na,e.client),Se(this,rn,W(this,na).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,Se(this,ra,I0(this.options)),this.state=e.state??W(this,ra),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=W(this,er))==null?void 0:e.promise}setOptions(e){if(this.options={...W(this,$l),...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=I0(this.options);r.data!==void 0&&(this.setData(r.data,{updatedAt:r.dataUpdatedAt,manual:!0}),Se(this,ra,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&W(this,rn).remove(this)}setData(e,r){const o=Gf(this.state.data,e,this.options);return Ke(this,bn,fs).call(this,{data:o,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),o}setState(e,r){Ke(this,bn,fs).call(this,{type:"setState",state:e,setStateOptions:r})}cancel(e){var o,i;const r=(o=W(this,er))==null?void 0:o.promise;return(i=W(this,er))==null||i.cancel(e),r?r.then(wr).catch(wr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(W(this,ra))}isActive(){return this.observers.some(e=>nn(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Gm||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>xo(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!zy(this.state.dataUpdatedAt,e)}onFocus(){var r;const e=this.observers.find(o=>o.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(r=W(this,er))==null||r.continue()}onOnline(){var r;const e=this.observers.find(o=>o.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(r=W(this,er))==null||r.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),W(this,rn).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(r=>r!==e),this.observers.length||(W(this,er)&&(W(this,sa)?W(this,er).cancel({revert:!0}):W(this,er).cancelRetry()),this.scheduleGc()),W(this,rn).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Ke(this,bn,fs).call(this,{type:"invalidate"})}async fetch(e,r){var h,m,g,p,w,b,N,j,_,C,E,S;if(this.state.fetchStatus!=="idle"&&((h=W(this,er))==null?void 0:h.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(W(this,er))return W(this,er).continueRetry(),W(this,er).promise}if(e&&this.setOptions(e),!this.options.queryFn){const T=this.observers.find(q=>q.options.queryFn);T&&this.setOptions(T.options)}const o=new AbortController,i=T=>{Object.defineProperty(T,"signal",{enumerable:!0,get:()=>(Se(this,sa,!0),o.signal)})},l=()=>{const T=qy(this.options,r),A=(()=>{const U={client:W(this,na),queryKey:this.queryKey,meta:this.meta};return i(U),U})();return Se(this,sa,!1),this.options.persister?this.options.persister(T,A,this):T(A)},u=(()=>{const T={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:W(this,na),state:this.state,fetchFn:l};return i(T),T})();(m=this.options.behavior)==null||m.onFetch(u,this),Se(this,di,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((g=u.fetchOptions)==null?void 0:g.meta))&&Ke(this,bn,fs).call(this,{type:"fetch",meta:(p=u.fetchOptions)==null?void 0:p.meta}),Se(this,er,Hy({initialPromise:r==null?void 0:r.initialPromise,fn:u.fetchFn,onCancel:T=>{T instanceof Jf&&T.revert&&this.setState({...W(this,di),fetchStatus:"idle"}),o.abort()},onFail:(T,q)=>{Ke(this,bn,fs).call(this,{type:"failed",failureCount:T,error:q})},onPause:()=>{Ke(this,bn,fs).call(this,{type:"pause"})},onContinue:()=>{Ke(this,bn,fs).call(this,{type:"continue"})},retry:u.options.retry,retryDelay:u.options.retryDelay,networkMode:u.options.networkMode,canRun:()=>!0}));try{const T=await W(this,er).start();if(T===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(T),(b=(w=W(this,rn).config).onSuccess)==null||b.call(w,T,this),(j=(N=W(this,rn).config).onSettled)==null||j.call(N,T,this.state.error,this),T}catch(T){if(T instanceof Jf){if(T.silent)return W(this,er).promise;if(T.revert){if(this.state.data===void 0)throw T;return this.state.data}}throw Ke(this,bn,fs).call(this,{type:"error",error:T}),(C=(_=W(this,rn).config).onError)==null||C.call(_,T,this),(S=(E=W(this,rn).config).onSettled)==null||S.call(E,this.state.data,T,this),T}finally{this.scheduleGc()}}},ra=new WeakMap,di=new WeakMap,rn=new WeakMap,na=new WeakMap,er=new WeakMap,$l=new WeakMap,sa=new WeakMap,bn=new WeakSet,fs=function(e){const r=o=>{switch(e.type){case"failed":return{...o,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...o,fetchStatus:"paused"};case"continue":return{...o,fetchStatus:"fetching"};case"fetch":return{...o,...Gy(o.data,this.options),fetchMeta:e.meta??null};case"success":const i={...o,data:e.data,dataUpdateCount:o.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return Se(this,di,e.manual?i:void 0),i;case"error":const l=e.error;return{...o,error:l,errorUpdateCount:o.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:o.fetchFailureCount+1,fetchFailureReason:l,fetchStatus:"idle",status:"error"};case"invalidate":return{...o,isInvalidated:!0};case"setState":return{...o,...e.state}}};this.state=r(this.state),Gt.batch(()=>{this.observers.forEach(o=>{o.onQueryUpdate()}),W(this,rn).notify({query:this,type:"updated",action:e})})},py);function Gy(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Vy(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function I0(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,r=e!==void 0,o=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?o??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Or,Xe,Bl,yr,oa,ui,ms,lo,Fl,hi,fi,aa,ia,co,mi,st,_l,Yf,Xf,Zf,em,tm,rm,nm,Qy,gy,R2=(gy=class extends Si{constructor(e,r){super();Le(this,st);Le(this,Or);Le(this,Xe);Le(this,Bl);Le(this,yr);Le(this,oa);Le(this,ui);Le(this,ms);Le(this,lo);Le(this,Fl);Le(this,hi);Le(this,fi);Le(this,aa);Le(this,ia);Le(this,co);Le(this,mi,new Set);this.options=r,Se(this,Or,e),Se(this,lo,null),Se(this,ms,Qf()),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(W(this,Xe).addObserver(this),M0(W(this,Xe),this.options)?Ke(this,st,_l).call(this):this.updateResult(),Ke(this,st,em).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return sm(W(this,Xe),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return sm(W(this,Xe),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Ke(this,st,tm).call(this),Ke(this,st,rm).call(this),W(this,Xe).removeObserver(this)}setOptions(e){const r=this.options,o=W(this,Xe);if(this.options=W(this,Or).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof nn(this.options.enabled,W(this,Xe))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Ke(this,st,nm).call(this),W(this,Xe).setOptions(this.options),r._defaulted&&!Ud(this.options,r)&&W(this,Or).getQueryCache().notify({type:"observerOptionsUpdated",query:W(this,Xe),observer:this});const i=this.hasListeners();i&&D0(W(this,Xe),o,this.options,r)&&Ke(this,st,_l).call(this),this.updateResult(),i&&(W(this,Xe)!==o||nn(this.options.enabled,W(this,Xe))!==nn(r.enabled,W(this,Xe))||xo(this.options.staleTime,W(this,Xe))!==xo(r.staleTime,W(this,Xe)))&&Ke(this,st,Yf).call(this);const l=Ke(this,st,Xf).call(this);i&&(W(this,Xe)!==o||nn(this.options.enabled,W(this,Xe))!==nn(r.enabled,W(this,Xe))||l!==W(this,co))&&Ke(this,st,Zf).call(this,l)}getOptimisticResult(e){const r=W(this,Or).getQueryCache().build(W(this,Or),e),o=this.createResult(r,e);return P2(this,o)&&(Se(this,yr,o),Se(this,ui,this.options),Se(this,oa,W(this,Xe).state)),o}getCurrentResult(){return W(this,yr)}trackResult(e,r){return new Proxy(e,{get:(o,i)=>(this.trackProp(i),r==null||r(i),i==="promise"&&!this.options.experimental_prefetchInRender&&W(this,ms).status==="pending"&&W(this,ms).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),Reflect.get(o,i))})}trackProp(e){W(this,mi).add(e)}getCurrentQuery(){return W(this,Xe)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const r=W(this,Or).defaultQueryOptions(e),o=W(this,Or).getQueryCache().build(W(this,Or),r);return o.fetch().then(()=>this.createResult(o,r))}fetch(e){return Ke(this,st,_l).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),W(this,yr)))}createResult(e,r){var ue;const o=W(this,Xe),i=this.options,l=W(this,yr),d=W(this,oa),u=W(this,ui),m=e!==o?e.state:W(this,Bl),{state:g}=e;let p={...g},w=!1,b;if(r._optimisticResults){const V=this.hasListeners(),O=!V&&M0(e,r),Y=V&&D0(e,o,r,i);(O||Y)&&(p={...p,...Gy(g.data,e.options)}),r._optimisticResults==="isRestoring"&&(p.fetchStatus="idle")}let{error:N,errorUpdatedAt:j,status:_}=p;b=p.data;let C=!1;if(r.placeholderData!==void 0&&b===void 0&&_==="pending"){let V;l!=null&&l.isPlaceholderData&&r.placeholderData===(u==null?void 0:u.placeholderData)?(V=l.data,C=!0):V=typeof r.placeholderData=="function"?r.placeholderData((ue=W(this,fi))==null?void 0:ue.state.data,W(this,fi)):r.placeholderData,V!==void 0&&(_="success",b=Gf(l==null?void 0:l.data,V,r),w=!0)}if(r.select&&b!==void 0&&!C)if(l&&b===(d==null?void 0:d.data)&&r.select===W(this,Fl))b=W(this,hi);else try{Se(this,Fl,r.select),b=r.select(b),b=Gf(l==null?void 0:l.data,b,r),Se(this,hi,b),Se(this,lo,null)}catch(V){Se(this,lo,V)}W(this,lo)&&(N=W(this,lo),b=W(this,hi),j=Date.now(),_="error");const E=p.fetchStatus==="fetching",S=_==="pending",T=_==="error",q=S&&E,A=b!==void 0,K={status:_,fetchStatus:p.fetchStatus,isPending:S,isSuccess:_==="success",isError:T,isInitialLoading:q,isLoading:q,data:b,dataUpdatedAt:p.dataUpdatedAt,error:N,errorUpdatedAt:j,failureCount:p.fetchFailureCount,failureReason:p.fetchFailureReason,errorUpdateCount:p.errorUpdateCount,isFetched:p.dataUpdateCount>0||p.errorUpdateCount>0,isFetchedAfterMount:p.dataUpdateCount>m.dataUpdateCount||p.errorUpdateCount>m.errorUpdateCount,isFetching:E,isRefetching:E&&!S,isLoadingError:T&&!A,isPaused:p.fetchStatus==="paused",isPlaceholderData:w,isRefetchError:T&&A,isStale:Jm(e,r),refetch:this.refetch,promise:W(this,ms),isEnabled:nn(r.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const V=I=>{K.status==="error"?I.reject(K.error):K.data!==void 0&&I.resolve(K.data)},O=()=>{const I=Se(this,ms,K.promise=Qf());V(I)},Y=W(this,ms);switch(Y.status){case"pending":e.queryHash===o.queryHash&&V(Y);break;case"fulfilled":(K.status==="error"||K.data!==Y.value)&&O();break;case"rejected":(K.status!=="error"||K.error!==Y.reason)&&O();break}}return K}updateResult(){const e=W(this,yr),r=this.createResult(W(this,Xe),this.options);if(Se(this,oa,W(this,Xe).state),Se(this,ui,this.options),W(this,oa).data!==void 0&&Se(this,fi,W(this,Xe)),Ud(r,e))return;Se(this,yr,r);const o=()=>{if(!e)return!0;const{notifyOnChangeProps:i}=this.options,l=typeof i=="function"?i():i;if(l==="all"||!l&&!W(this,mi).size)return!0;const d=new Set(l??W(this,mi));return this.options.throwOnError&&d.add("error"),Object.keys(W(this,yr)).some(u=>{const h=u;return W(this,yr)[h]!==e[h]&&d.has(h)})};Ke(this,st,Qy).call(this,{listeners:o()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Ke(this,st,em).call(this)}},Or=new WeakMap,Xe=new WeakMap,Bl=new WeakMap,yr=new WeakMap,oa=new WeakMap,ui=new WeakMap,ms=new WeakMap,lo=new WeakMap,Fl=new WeakMap,hi=new WeakMap,fi=new WeakMap,aa=new WeakMap,ia=new WeakMap,co=new WeakMap,mi=new WeakMap,st=new WeakSet,_l=function(e){Ke(this,st,nm).call(this);let r=W(this,Xe).fetch(this.options,e);return e!=null&&e.throwOnError||(r=r.catch(wr)),r},Yf=function(){Ke(this,st,tm).call(this);const e=xo(this.options.staleTime,W(this,Xe));if(ca||W(this,yr).isStale||!Hf(e))return;const o=zy(W(this,yr).dataUpdatedAt,e)+1;Se(this,aa,Jo.setTimeout(()=>{W(this,yr).isStale||this.updateResult()},o))},Xf=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(W(this,Xe)):this.options.refetchInterval)??!1},Zf=function(e){Ke(this,st,rm).call(this),Se(this,co,e),!(ca||nn(this.options.enabled,W(this,Xe))===!1||!Hf(W(this,co))||W(this,co)===0)&&Se(this,ia,Jo.setInterval(()=>{(this.options.refetchIntervalInBackground||Qm.isFocused())&&Ke(this,st,_l).call(this)},W(this,co)))},em=function(){Ke(this,st,Yf).call(this),Ke(this,st,Zf).call(this,Ke(this,st,Xf).call(this))},tm=function(){W(this,aa)&&(Jo.clearTimeout(W(this,aa)),Se(this,aa,void 0))},rm=function(){W(this,ia)&&(Jo.clearInterval(W(this,ia)),Se(this,ia,void 0))},nm=function(){const e=W(this,Or).getQueryCache().build(W(this,Or),this.options);if(e===W(this,Xe))return;const r=W(this,Xe);Se(this,Xe,e),Se(this,Bl,e.state),this.hasListeners()&&(r==null||r.removeObserver(this),e.addObserver(this))},Qy=function(e){Gt.batch(()=>{e.listeners&&this.listeners.forEach(r=>{r(W(this,yr))}),W(this,Or).getQueryCache().notify({query:W(this,Xe),type:"observerResultsUpdated"})})},gy);function A2(t,e){return nn(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function M0(t,e){return A2(t,e)||t.state.data!==void 0&&sm(t,e,e.refetchOnMount)}function sm(t,e,r){if(nn(e.enabled,t)!==!1&&xo(e.staleTime,t)!=="static"){const o=typeof r=="function"?r(t):r;return o==="always"||o!==!1&&Jm(t,e)}return!1}function D0(t,e,r,o){return(t!==e||nn(o.enabled,t)===!1)&&(!r.suspense||t.state.status!=="error")&&Jm(t,r)}function Jm(t,e){return nn(e.enabled,t)!==!1&&t.isStaleByTime(xo(e.staleTime,t))}function P2(t,e){return!Ud(t.getCurrentResult(),e)}function L0(t){return{onFetch:(e,r)=>{var g,p,w,b,N;const o=e.options,i=(w=(p=(g=e.fetchOptions)==null?void 0:g.meta)==null?void 0:p.fetchMore)==null?void 0:w.direction,l=((b=e.state.data)==null?void 0:b.pages)||[],d=((N=e.state.data)==null?void 0:N.pageParams)||[];let u={pages:[],pageParams:[]},h=0;const m=async()=>{let j=!1;const _=S=>{Object.defineProperty(S,"signal",{enumerable:!0,get:()=>(e.signal.aborted?j=!0:e.signal.addEventListener("abort",()=>{j=!0}),e.signal)})},C=qy(e.options,e.fetchOptions),E=async(S,T,q)=>{if(j)return Promise.reject();if(T==null&&S.pages.length)return Promise.resolve(S);const U=(()=>{const O={client:e.client,queryKey:e.queryKey,pageParam:T,direction:q?"backward":"forward",meta:e.options.meta};return _(O),O})(),K=await C(U),{maxPages:ue}=e.options,V=q?j2:w2;return{pages:V(S.pages,K,ue),pageParams:V(S.pageParams,T,ue)}};if(i&&l.length){const S=i==="backward",T=S?T2:$0,q={pages:l,pageParams:d},A=T(o,q);u=await E(q,A,S)}else{const S=t??l.length;do{const T=h===0?d[0]??o.initialPageParam:$0(o,u);if(h>0&&T==null)break;u=await E(u,T),h++}while(h<S)}return u};e.options.persister?e.fetchFn=()=>{var j,_;return(_=(j=e.options).persister)==null?void 0:_.call(j,m,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},r)}:e.fetchFn=m}}}function $0(t,{pages:e,pageParams:r}){const o=e.length-1;return e.length>0?t.getNextPageParam(e[o],e,r[o],r):void 0}function T2(t,{pages:e,pageParams:r}){var o;return e.length>0?(o=t.getPreviousPageParam)==null?void 0:o.call(t,e[0],e,r[0],r):void 0}var zl,Wn,br,la,Vn,to,xy,O2=(xy=class extends Ky{constructor(e){super();Le(this,Vn);Le(this,zl);Le(this,Wn);Le(this,br);Le(this,la);Se(this,zl,e.client),this.mutationId=e.mutationId,Se(this,br,e.mutationCache),Se(this,Wn,[]),this.state=e.state||Jy(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){W(this,Wn).includes(e)||(W(this,Wn).push(e),this.clearGcTimeout(),W(this,br).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){Se(this,Wn,W(this,Wn).filter(r=>r!==e)),this.scheduleGc(),W(this,br).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){W(this,Wn).length||(this.state.status==="pending"?this.scheduleGc():W(this,br).remove(this))}continue(){var e;return((e=W(this,la))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var d,u,h,m,g,p,w,b,N,j,_,C,E,S,T,q,A,U,K,ue;const r=()=>{Ke(this,Vn,to).call(this,{type:"continue"})},o={client:W(this,zl),meta:this.options.meta,mutationKey:this.options.mutationKey};Se(this,la,Hy({fn:()=>this.options.mutationFn?this.options.mutationFn(e,o):Promise.reject(new Error("No mutationFn found")),onFail:(V,O)=>{Ke(this,Vn,to).call(this,{type:"failed",failureCount:V,error:O})},onPause:()=>{Ke(this,Vn,to).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>W(this,br).canRun(this)}));const i=this.state.status==="pending",l=!W(this,la).canStart();try{if(i)r();else{Ke(this,Vn,to).call(this,{type:"pending",variables:e,isPaused:l}),await((u=(d=W(this,br).config).onMutate)==null?void 0:u.call(d,e,this,o));const O=await((m=(h=this.options).onMutate)==null?void 0:m.call(h,e,o));O!==this.state.context&&Ke(this,Vn,to).call(this,{type:"pending",context:O,variables:e,isPaused:l})}const V=await W(this,la).start();return await((p=(g=W(this,br).config).onSuccess)==null?void 0:p.call(g,V,e,this.state.context,this,o)),await((b=(w=this.options).onSuccess)==null?void 0:b.call(w,V,e,this.state.context,o)),await((j=(N=W(this,br).config).onSettled)==null?void 0:j.call(N,V,null,this.state.variables,this.state.context,this,o)),await((C=(_=this.options).onSettled)==null?void 0:C.call(_,V,null,e,this.state.context,o)),Ke(this,Vn,to).call(this,{type:"success",data:V}),V}catch(V){try{throw await((S=(E=W(this,br).config).onError)==null?void 0:S.call(E,V,e,this.state.context,this,o)),await((q=(T=this.options).onError)==null?void 0:q.call(T,V,e,this.state.context,o)),await((U=(A=W(this,br).config).onSettled)==null?void 0:U.call(A,void 0,V,this.state.variables,this.state.context,this,o)),await((ue=(K=this.options).onSettled)==null?void 0:ue.call(K,void 0,V,e,this.state.context,o)),V}finally{Ke(this,Vn,to).call(this,{type:"error",error:V})}}finally{W(this,br).runNext(this)}}},zl=new WeakMap,Wn=new WeakMap,br=new WeakMap,la=new WeakMap,Vn=new WeakSet,to=function(e){const r=o=>{switch(e.type){case"failed":return{...o,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...o,isPaused:!0};case"continue":return{...o,isPaused:!1};case"pending":return{...o,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...o,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...o,data:void 0,error:e.error,failureCount:o.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Gt.batch(()=>{W(this,Wn).forEach(o=>{o.onMutationUpdate(e)}),W(this,br).notify({mutation:this,type:"updated",action:e})})},xy);function Jy(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var ps,wn,Ul,vy,I2=(vy=class extends Si{constructor(e={}){super();Le(this,ps);Le(this,wn);Le(this,Ul);this.config=e,Se(this,ps,new Set),Se(this,wn,new Map),Se(this,Ul,0)}build(e,r,o){const i=new O2({client:e,mutationCache:this,mutationId:++sd(this,Ul)._,options:e.defaultMutationOptions(r),state:o});return this.add(i),i}add(e){W(this,ps).add(e);const r=ld(e);if(typeof r=="string"){const o=W(this,wn).get(r);o?o.push(e):W(this,wn).set(r,[e])}this.notify({type:"added",mutation:e})}remove(e){if(W(this,ps).delete(e)){const r=ld(e);if(typeof r=="string"){const o=W(this,wn).get(r);if(o)if(o.length>1){const i=o.indexOf(e);i!==-1&&o.splice(i,1)}else o[0]===e&&W(this,wn).delete(r)}}this.notify({type:"removed",mutation:e})}canRun(e){const r=ld(e);if(typeof r=="string"){const o=W(this,wn).get(r),i=o==null?void 0:o.find(l=>l.state.status==="pending");return!i||i===e}else return!0}runNext(e){var o;const r=ld(e);if(typeof r=="string"){const i=(o=W(this,wn).get(r))==null?void 0:o.find(l=>l!==e&&l.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Gt.batch(()=>{W(this,ps).forEach(e=>{this.notify({type:"removed",mutation:e})}),W(this,ps).clear(),W(this,wn).clear()})}getAll(){return Array.from(W(this,ps))}find(e){const r={exact:!0,...e};return this.getAll().find(o=>P0(r,o))}findAll(e={}){return this.getAll().filter(r=>P0(e,r))}notify(e){Gt.batch(()=>{this.listeners.forEach(r=>{r(e)})})}resumePausedMutations(){const e=this.getAll().filter(r=>r.state.isPaused);return Gt.batch(()=>Promise.all(e.map(r=>r.continue().catch(wr))))}},ps=new WeakMap,wn=new WeakMap,Ul=new WeakMap,vy);function ld(t){var e;return(e=t.options.scope)==null?void 0:e.id}var gs,uo,Ir,xs,_s,Td,om,yy,M2=(yy=class extends Si{constructor(r,o){super();Le(this,_s);Le(this,gs);Le(this,uo);Le(this,Ir);Le(this,xs);Se(this,gs,r),this.setOptions(o),this.bindMethods(),Ke(this,_s,Td).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var i;const o=this.options;this.options=W(this,gs).defaultMutationOptions(r),Ud(this.options,o)||W(this,gs).getMutationCache().notify({type:"observerOptionsUpdated",mutation:W(this,Ir),observer:this}),o!=null&&o.mutationKey&&this.options.mutationKey&&da(o.mutationKey)!==da(this.options.mutationKey)?this.reset():((i=W(this,Ir))==null?void 0:i.state.status)==="pending"&&W(this,Ir).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=W(this,Ir))==null||r.removeObserver(this)}onMutationUpdate(r){Ke(this,_s,Td).call(this),Ke(this,_s,om).call(this,r)}getCurrentResult(){return W(this,uo)}reset(){var r;(r=W(this,Ir))==null||r.removeObserver(this),Se(this,Ir,void 0),Ke(this,_s,Td).call(this),Ke(this,_s,om).call(this)}mutate(r,o){var i;return Se(this,xs,o),(i=W(this,Ir))==null||i.removeObserver(this),Se(this,Ir,W(this,gs).getMutationCache().build(W(this,gs),this.options)),W(this,Ir).addObserver(this),W(this,Ir).execute(r)}},gs=new WeakMap,uo=new WeakMap,Ir=new WeakMap,xs=new WeakMap,_s=new WeakSet,Td=function(){var o;const r=((o=W(this,Ir))==null?void 0:o.state)??Jy();Se(this,uo,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},om=function(r){Gt.batch(()=>{var o,i,l,d,u,h,m,g;if(W(this,xs)&&this.hasListeners()){const p=W(this,uo).variables,w=W(this,uo).context,b={client:W(this,gs),meta:this.options.meta,mutationKey:this.options.mutationKey};(r==null?void 0:r.type)==="success"?((i=(o=W(this,xs)).onSuccess)==null||i.call(o,r.data,p,w,b),(d=(l=W(this,xs)).onSettled)==null||d.call(l,r.data,null,p,w,b)):(r==null?void 0:r.type)==="error"&&((h=(u=W(this,xs)).onError)==null||h.call(u,r.error,p,w,b),(g=(m=W(this,xs)).onSettled)==null||g.call(m,void 0,r.error,p,w,b))}this.listeners.forEach(p=>{p(W(this,uo))})})},yy),Hn,by,D2=(by=class extends Si{constructor(e={}){super();Le(this,Hn);this.config=e,Se(this,Hn,new Map)}build(e,r,o){const i=r.queryKey,l=r.queryHash??Km(i,r);let d=this.get(l);return d||(d=new k2({client:e,queryKey:i,queryHash:l,options:e.defaultQueryOptions(r),state:o,defaultOptions:e.getQueryDefaults(i)}),this.add(d)),d}add(e){W(this,Hn).has(e.queryHash)||(W(this,Hn).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const r=W(this,Hn).get(e.queryHash);r&&(e.destroy(),r===e&&W(this,Hn).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Gt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return W(this,Hn).get(e)}getAll(){return[...W(this,Hn).values()]}find(e){const r={exact:!0,...e};return this.getAll().find(o=>A0(r,o))}findAll(e={}){const r=this.getAll();return Object.keys(e).length>0?r.filter(o=>A0(e,o)):r}notify(e){Gt.batch(()=>{this.listeners.forEach(r=>{r(e)})})}onFocus(){Gt.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Gt.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Hn=new WeakMap,by),Pt,ho,fo,pi,gi,mo,xi,vi,wy,L2=(wy=class{constructor(t={}){Le(this,Pt);Le(this,ho);Le(this,fo);Le(this,pi);Le(this,gi);Le(this,mo);Le(this,xi);Le(this,vi);Se(this,Pt,t.queryCache||new D2),Se(this,ho,t.mutationCache||new I2),Se(this,fo,t.defaultOptions||{}),Se(this,pi,new Map),Se(this,gi,new Map),Se(this,mo,0)}mount(){sd(this,mo)._++,W(this,mo)===1&&(Se(this,xi,Qm.subscribe(async t=>{t&&(await this.resumePausedMutations(),W(this,Pt).onFocus())})),Se(this,vi,qd.subscribe(async t=>{t&&(await this.resumePausedMutations(),W(this,Pt).onOnline())})))}unmount(){var t,e;sd(this,mo)._--,W(this,mo)===0&&((t=W(this,xi))==null||t.call(this),Se(this,xi,void 0),(e=W(this,vi))==null||e.call(this),Se(this,vi,void 0))}isFetching(t){return W(this,Pt).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return W(this,ho).findAll({...t,status:"pending"}).length}getQueryData(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=W(this,Pt).get(e.queryHash))==null?void 0:r.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),r=W(this,Pt).build(this,e),o=r.state.data;return o===void 0?this.fetchQuery(t):(t.revalidateIfStale&&r.isStaleByTime(xo(e.staleTime,r))&&this.prefetchQuery(e),Promise.resolve(o))}getQueriesData(t){return W(this,Pt).findAll(t).map(({queryKey:e,state:r})=>{const o=r.data;return[e,o]})}setQueryData(t,e,r){const o=this.defaultQueryOptions({queryKey:t}),i=W(this,Pt).get(o.queryHash),l=i==null?void 0:i.state.data,d=v2(e,l);if(d!==void 0)return W(this,Pt).build(this,o).setData(d,{...r,manual:!0})}setQueriesData(t,e,r){return Gt.batch(()=>W(this,Pt).findAll(t).map(({queryKey:o})=>[o,this.setQueryData(o,e,r)]))}getQueryState(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=W(this,Pt).get(e.queryHash))==null?void 0:r.state}removeQueries(t){const e=W(this,Pt);Gt.batch(()=>{e.findAll(t).forEach(r=>{e.remove(r)})})}resetQueries(t,e){const r=W(this,Pt);return Gt.batch(()=>(r.findAll(t).forEach(o=>{o.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const r={revert:!0,...e},o=Gt.batch(()=>W(this,Pt).findAll(t).map(i=>i.cancel(r)));return Promise.all(o).then(wr).catch(wr)}invalidateQueries(t,e={}){return Gt.batch(()=>(W(this,Pt).findAll(t).forEach(r=>{r.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const r={...e,cancelRefetch:e.cancelRefetch??!0},o=Gt.batch(()=>W(this,Pt).findAll(t).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let l=i.fetch(void 0,r);return r.throwOnError||(l=l.catch(wr)),i.state.fetchStatus==="paused"?Promise.resolve():l}));return Promise.all(o).then(wr)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const r=W(this,Pt).build(this,e);return r.isStaleByTime(xo(e.staleTime,r))?r.fetch(e):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(wr).catch(wr)}fetchInfiniteQuery(t){return t.behavior=L0(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(wr).catch(wr)}ensureInfiniteQueryData(t){return t.behavior=L0(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return qd.isOnline()?W(this,ho).resumePausedMutations():Promise.resolve()}getQueryCache(){return W(this,Pt)}getMutationCache(){return W(this,ho)}getDefaultOptions(){return W(this,fo)}setDefaultOptions(t){Se(this,fo,t)}setQueryDefaults(t,e){W(this,pi).set(da(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...W(this,pi).values()],r={};return e.forEach(o=>{Tl(t,o.queryKey)&&Object.assign(r,o.defaultOptions)}),r}setMutationDefaults(t,e){W(this,gi).set(da(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...W(this,gi).values()],r={};return e.forEach(o=>{Tl(t,o.mutationKey)&&Object.assign(r,o.defaultOptions)}),r}defaultQueryOptions(t){if(t._defaulted)return t;const e={...W(this,fo).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=Km(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===Gm&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...W(this,fo).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){W(this,Pt).clear(),W(this,ho).clear()}},Pt=new WeakMap,ho=new WeakMap,fo=new WeakMap,pi=new WeakMap,gi=new WeakMap,mo=new WeakMap,xi=new WeakMap,vi=new WeakMap,wy),Yy=v.createContext(void 0),an=t=>{const e=v.useContext(Yy);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},$2=({client:t,children:e})=>(v.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),n.jsx(Yy.Provider,{value:t,children:e})),Xy=v.createContext(!1),B2=()=>v.useContext(Xy);Xy.Provider;function F2(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var z2=v.createContext(F2()),U2=()=>v.useContext(z2),q2=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},W2=t=>{v.useEffect(()=>{t.clearReset()},[t])},V2=({result:t,errorResetBoundary:e,throwOnError:r,query:o,suspense:i})=>t.isError&&!e.isReset()&&!t.isFetching&&o&&(i&&t.data===void 0||Wy(r,[t.error,o])),H2=t=>{if(t.suspense){const r=i=>i==="static"?i:Math.max(i??1e3,1e3),o=t.staleTime;t.staleTime=typeof o=="function"?(...i)=>r(o(...i)):r(o),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},K2=(t,e)=>t.isLoading&&t.isFetching&&!e,G2=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,B0=(t,e,r)=>e.fetchOptimistic(t).catch(()=>{r.clearReset()});function Q2(t,e,r){var p,w,b,N,j;const o=B2(),i=U2(),l=an(),d=l.defaultQueryOptions(t);(w=(p=l.getDefaultOptions().queries)==null?void 0:p._experimental_beforeQuery)==null||w.call(p,d),d._optimisticResults=o?"isRestoring":"optimistic",H2(d),q2(d,i),W2(i);const u=!l.getQueryCache().get(d.queryHash),[h]=v.useState(()=>new e(l,d)),m=h.getOptimisticResult(d),g=!o&&t.subscribed!==!1;if(v.useSyncExternalStore(v.useCallback(_=>{const C=g?h.subscribe(Gt.batchCalls(_)):wr;return h.updateResult(),C},[h,g]),()=>h.getCurrentResult(),()=>h.getCurrentResult()),v.useEffect(()=>{h.setOptions(d)},[d,h]),G2(d,m))throw B0(d,h,i);if(V2({result:m,errorResetBoundary:i,throwOnError:d.throwOnError,query:l.getQueryCache().get(d.queryHash),suspense:d.suspense}))throw m.error;if((N=(b=l.getDefaultOptions().queries)==null?void 0:b._experimental_afterQuery)==null||N.call(b,d,m),d.experimental_prefetchInRender&&!ca&&K2(m,o)){const _=u?B0(d,h,i):(j=l.getQueryCache().get(d.queryHash))==null?void 0:j.promise;_==null||_.catch(wr).finally(()=>{h.updateResult()})}return d.notifyOnChangeProps?m:h.trackResult(m)}function _r(t,e){return Q2(t,R2)}function pr(t,e){const r=an(),[o]=v.useState(()=>new M2(r,t));v.useEffect(()=>{o.setOptions(t)},[o,t]);const i=v.useSyncExternalStore(v.useCallback(d=>o.subscribe(Gt.batchCalls(d)),[o]),()=>o.getCurrentResult(),()=>o.getCurrentResult()),l=v.useCallback((d,u)=>{o.mutate(d,u).catch(wr)},[o]);if(i.error&&Wy(o.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:l,mutateAsync:i.mutate}}var ds={},cd={},am=function(t,e){return am=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},am(t,e)};function Zy(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");am(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var sn=function(){return sn=Object.assign||function(e){for(var r,o=1,i=arguments.length;o<i;o++){r=arguments[o];for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&(e[l]=r[l])}return e},sn.apply(this,arguments)};function No(t,e){var r={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.indexOf(o)<0&&(r[o]=t[o]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,o=Object.getOwnPropertySymbols(t);i<o.length;i++)e.indexOf(o[i])<0&&Object.prototype.propertyIsEnumerable.call(t,o[i])&&(r[o[i]]=t[o[i]]);return r}function eb(t,e,r,o){var i=arguments.length,l=i<3?e:o===null?o=Object.getOwnPropertyDescriptor(e,r):o,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(t,e,r,o);else for(var u=t.length-1;u>=0;u--)(d=t[u])&&(l=(i<3?d(l):i>3?d(e,r,l):d(e,r))||l);return i>3&&l&&Object.defineProperty(e,r,l),l}function tb(t,e){return function(r,o){e(r,o,t)}}function rb(t,e,r,o,i,l){function d(C){if(C!==void 0&&typeof C!="function")throw new TypeError("Function expected");return C}for(var u=o.kind,h=u==="getter"?"get":u==="setter"?"set":"value",m=!e&&t?o.static?t:t.prototype:null,g=e||(m?Object.getOwnPropertyDescriptor(m,o.name):{}),p,w=!1,b=r.length-1;b>=0;b--){var N={};for(var j in o)N[j]=j==="access"?{}:o[j];for(var j in o.access)N.access[j]=o.access[j];N.addInitializer=function(C){if(w)throw new TypeError("Cannot add initializers after decoration has completed");l.push(d(C||null))};var _=(0,r[b])(u==="accessor"?{get:g.get,set:g.set}:g[h],N);if(u==="accessor"){if(_===void 0)continue;if(_===null||typeof _!="object")throw new TypeError("Object expected");(p=d(_.get))&&(g.get=p),(p=d(_.set))&&(g.set=p),(p=d(_.init))&&i.unshift(p)}else(p=d(_))&&(u==="field"?i.unshift(p):g[h]=p)}m&&Object.defineProperty(m,o.name,g),w=!0}function nb(t,e,r){for(var o=arguments.length>2,i=0;i<e.length;i++)r=o?e[i].call(t,r):e[i].call(t);return o?r:void 0}function sb(t){return typeof t=="symbol"?t:"".concat(t)}function ob(t,e,r){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:r?"".concat(r," ",e):e})}function ab(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function Re(t,e,r,o){function i(l){return l instanceof r?l:new r(function(d){d(l)})}return new(r||(r=Promise))(function(l,d){function u(g){try{m(o.next(g))}catch(p){d(p)}}function h(g){try{m(o.throw(g))}catch(p){d(p)}}function m(g){g.done?l(g.value):i(g.value).then(u,h)}m((o=o.apply(t,e||[])).next())})}function ib(t,e){var r={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},o,i,l,d=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return d.next=u(0),d.throw=u(1),d.return=u(2),typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function u(m){return function(g){return h([m,g])}}function h(m){if(o)throw new TypeError("Generator is already executing.");for(;d&&(d=0,m[0]&&(r=0)),r;)try{if(o=1,i&&(l=m[0]&2?i.return:m[0]?i.throw||((l=i.return)&&l.call(i),0):i.next)&&!(l=l.call(i,m[1])).done)return l;switch(i=0,l&&(m=[m[0]&2,l.value]),m[0]){case 0:case 1:l=m;break;case 4:return r.label++,{value:m[1],done:!1};case 5:r.label++,i=m[1],m=[0];continue;case 7:m=r.ops.pop(),r.trys.pop();continue;default:if(l=r.trys,!(l=l.length>0&&l[l.length-1])&&(m[0]===6||m[0]===2)){r=0;continue}if(m[0]===3&&(!l||m[1]>l[0]&&m[1]<l[3])){r.label=m[1];break}if(m[0]===6&&r.label<l[1]){r.label=l[1],l=m;break}if(l&&r.label<l[2]){r.label=l[2],r.ops.push(m);break}l[2]&&r.ops.pop(),r.trys.pop();continue}m=e.call(t,r)}catch(g){m=[6,g],i=0}finally{o=l=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}}var uu=Object.create?(function(t,e,r,o){o===void 0&&(o=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,o,i)}):(function(t,e,r,o){o===void 0&&(o=r),t[o]=e[r]});function lb(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&uu(e,t,r)}function Wd(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],o=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ym(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var o=r.call(t),i,l=[],d;try{for(;(e===void 0||e-- >0)&&!(i=o.next()).done;)l.push(i.value)}catch(u){d={error:u}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(d)throw d.error}}return l}function cb(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Ym(arguments[e]));return t}function db(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var o=Array(t),i=0,e=0;e<r;e++)for(var l=arguments[e],d=0,u=l.length;d<u;d++,i++)o[i]=l[d];return o}function Xm(t,e,r){if(r||arguments.length===2)for(var o=0,i=e.length,l;o<i;o++)(l||!(o in e))&&(l||(l=Array.prototype.slice.call(e,0,o)),l[o]=e[o]);return t.concat(l||Array.prototype.slice.call(e))}function yi(t){return this instanceof yi?(this.v=t,this):new yi(t)}function ub(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=r.apply(t,e||[]),i,l=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),u("next"),u("throw"),u("return",d),i[Symbol.asyncIterator]=function(){return this},i;function d(b){return function(N){return Promise.resolve(N).then(b,p)}}function u(b,N){o[b]&&(i[b]=function(j){return new Promise(function(_,C){l.push([b,j,_,C])>1||h(b,j)})},N&&(i[b]=N(i[b])))}function h(b,N){try{m(o[b](N))}catch(j){w(l[0][3],j)}}function m(b){b.value instanceof yi?Promise.resolve(b.value.v).then(g,p):w(l[0][2],b)}function g(b){h("next",b)}function p(b){h("throw",b)}function w(b,N){b(N),l.shift(),l.length&&h(l[0][0],l[0][1])}}function hb(t){var e,r;return e={},o("next"),o("throw",function(i){throw i}),o("return"),e[Symbol.iterator]=function(){return this},e;function o(i,l){e[i]=t[i]?function(d){return(r=!r)?{value:yi(t[i](d)),done:!1}:l?l(d):d}:l}}function fb(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof Wd=="function"?Wd(t):t[Symbol.iterator](),r={},o("next"),o("throw"),o("return"),r[Symbol.asyncIterator]=function(){return this},r);function o(l){r[l]=t[l]&&function(d){return new Promise(function(u,h){d=t[l](d),i(u,h,d.done,d.value)})}}function i(l,d,u,h){Promise.resolve(h).then(function(m){l({value:m,done:u})},d)}}function mb(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var J2=Object.create?(function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}):function(t,e){t.default=e},im=function(t){return im=Object.getOwnPropertyNames||function(e){var r=[];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[r.length]=o);return r},im(t)};function pb(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r=im(t),o=0;o<r.length;o++)r[o]!=="default"&&uu(e,t,r[o]);return J2(e,t),e}function gb(t){return t&&t.__esModule?t:{default:t}}function xb(t,e,r,o){if(r==="a"&&!o)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!o:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?o:r==="a"?o.call(t):o?o.value:e.get(t)}function vb(t,e,r,o,i){if(o==="m")throw new TypeError("Private method is not writable");if(o==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return o==="a"?i.call(t,r):i?i.value=r:e.set(t,r),r}function yb(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function bb(t,e,r){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var o,i;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");o=e[Symbol.asyncDispose]}if(o===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");o=e[Symbol.dispose],r&&(i=o)}if(typeof o!="function")throw new TypeError("Object not disposable.");i&&(o=function(){try{i.call(this)}catch(l){return Promise.reject(l)}}),t.stack.push({value:e,dispose:o,async:r})}else r&&t.stack.push({async:!0});return e}var Y2=typeof SuppressedError=="function"?SuppressedError:function(t,e,r){var o=new Error(r);return o.name="SuppressedError",o.error=t,o.suppressed=e,o};function wb(t){function e(l){t.error=t.hasError?new Y2(l,t.error,"An error was suppressed during disposal."):l,t.hasError=!0}var r,o=0;function i(){for(;r=t.stack.pop();)try{if(!r.async&&o===1)return o=0,t.stack.push(r),Promise.resolve().then(i);if(r.dispose){var l=r.dispose.call(r.value);if(r.async)return o|=2,Promise.resolve(l).then(i,function(d){return e(d),i()})}else o|=1}catch(d){e(d)}if(o===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return i()}function jb(t,e){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,o,i,l,d){return o?e?".jsx":".js":i&&(!l||!d)?r:i+l+"."+d.toLowerCase()+"js"}):t}const X2={__extends:Zy,__assign:sn,__rest:No,__decorate:eb,__param:tb,__esDecorate:rb,__runInitializers:nb,__propKey:sb,__setFunctionName:ob,__metadata:ab,__awaiter:Re,__generator:ib,__createBinding:uu,__exportStar:lb,__values:Wd,__read:Ym,__spread:cb,__spreadArrays:db,__spreadArray:Xm,__await:yi,__asyncGenerator:ub,__asyncDelegator:hb,__asyncValues:fb,__makeTemplateObject:mb,__importStar:pb,__importDefault:gb,__classPrivateFieldGet:xb,__classPrivateFieldSet:vb,__classPrivateFieldIn:yb,__addDisposableResource:bb,__disposeResources:wb,__rewriteRelativeImportExtension:jb},Z2=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:bb,get __assign(){return sn},__asyncDelegator:hb,__asyncGenerator:ub,__asyncValues:fb,__await:yi,__awaiter:Re,__classPrivateFieldGet:xb,__classPrivateFieldIn:yb,__classPrivateFieldSet:vb,__createBinding:uu,__decorate:eb,__disposeResources:wb,__esDecorate:rb,__exportStar:lb,__extends:Zy,__generator:ib,__importDefault:gb,__importStar:pb,__makeTemplateObject:mb,__metadata:ab,__param:tb,__propKey:sb,__read:Ym,__rest:No,__rewriteRelativeImportExtension:jb,__runInitializers:nb,__setFunctionName:ob,__spread:cb,__spreadArray:Xm,__spreadArrays:db,__values:Wd,default:X2},Symbol.toStringTag,{value:"Module"})),eC=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);let hu=class extends Error{constructor(e,r="FunctionsError",o){super(e),this.name=r,this.context=o}},_b=class extends hu{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}},lm=class extends hu{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}},cm=class extends hu{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}};var Vd;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Vd||(Vd={}));class tC{constructor(e,{headers:r={},customFetch:o,region:i=Vd.Any}={}){this.url=e,this.headers=r,this.region=i,this.fetch=eC(o)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return Re(this,arguments,void 0,function*(r,o={}){var i;let l,d;try{const{headers:u,method:h,body:m,signal:g,timeout:p}=o;let w={},{region:b}=o;b||(b=this.region);const N=new URL(`${this.url}/${r}`);b&&b!=="any"&&(w["x-region"]=b,N.searchParams.set("forceFunctionRegion",b));let j;m&&(u&&!Object.prototype.hasOwnProperty.call(u,"Content-Type")||!u)?typeof Blob<"u"&&m instanceof Blob||m instanceof ArrayBuffer?(w["Content-Type"]="application/octet-stream",j=m):typeof m=="string"?(w["Content-Type"]="text/plain",j=m):typeof FormData<"u"&&m instanceof FormData?j=m:(w["Content-Type"]="application/json",j=JSON.stringify(m)):j=m;let _=g;p&&(d=new AbortController,l=setTimeout(()=>d.abort(),p),g?(_=d.signal,g.addEventListener("abort",()=>d.abort())):_=d.signal);const C=yield this.fetch(N.toString(),{method:h||"POST",headers:Object.assign(Object.assign(Object.assign({},w),this.headers),u),body:j,signal:_}).catch(q=>{throw new _b(q)}),E=C.headers.get("x-relay-error");if(E&&E==="true")throw new lm(C);if(!C.ok)throw new cm(C);let S=((i=C.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),T;return S==="application/json"?T=yield C.json():S==="application/octet-stream"||S==="application/pdf"?T=yield C.blob():S==="text/event-stream"?T=C:S==="multipart/form-data"?T=yield C.formData():T=yield C.text(),{data:T,error:null,response:C}}catch(u){return{data:null,error:u,response:u instanceof cm||u instanceof lm?u.context:void 0}}finally{l&&clearTimeout(l)}})}}const rC=Object.freeze(Object.defineProperty({__proto__:null,get FunctionRegion(){return Vd},FunctionsClient:tC,FunctionsError:hu,FunctionsFetchError:_b,FunctionsHttpError:cm,FunctionsRelayError:lm},Symbol.toStringTag,{value:"Module"})),Nb=ql(rC);var mr={};const Ci=ql(Z2);var dd={},ud={},hd={},fd={},md={},pd={},F0;function Eb(){if(F0)return pd;F0=1,Object.defineProperty(pd,"__esModule",{value:!0});class t extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return pd.default=t,pd}var z0;function Sb(){if(z0)return md;z0=1,Object.defineProperty(md,"__esModule",{value:!0});const e=Ci.__importDefault(Eb());let r=class{constructor(i){var l,d;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(l=i.shouldThrowOnError)!==null&&l!==void 0?l:!1,this.signal=i.signal,this.isMaybeSingle=(d=i.isMaybeSingle)!==null&&d!==void 0?d:!1,i.fetch?this.fetch=i.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,l){return this.headers=new Headers(this.headers),this.headers.set(i,l),this}then(i,l){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const d=this.fetch;let u=d(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async h=>{var m,g,p,w;let b=null,N=null,j=null,_=h.status,C=h.statusText;if(h.ok){if(this.method!=="HEAD"){const q=await h.text();q===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((m=this.headers.get("Accept"))===null||m===void 0)&&m.includes("application/vnd.pgrst.plan+text"))?N=q:N=JSON.parse(q))}const S=(g=this.headers.get("Prefer"))===null||g===void 0?void 0:g.match(/count=(exact|planned|estimated)/),T=(p=h.headers.get("content-range"))===null||p===void 0?void 0:p.split("/");S&&T&&T.length>1&&(j=parseInt(T[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(N)&&(N.length>1?(b={code:"PGRST116",details:`Results contain ${N.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},N=null,j=null,_=406,C="Not Acceptable"):N.length===1?N=N[0]:N=null)}else{const S=await h.text();try{b=JSON.parse(S),Array.isArray(b)&&h.status===404&&(N=[],b=null,_=200,C="OK")}catch{h.status===404&&S===""?(_=204,C="No Content"):b={message:S}}if(b&&this.isMaybeSingle&&(!((w=b==null?void 0:b.details)===null||w===void 0)&&w.includes("0 rows"))&&(b=null,_=200,C="OK"),b&&this.shouldThrowOnError)throw new e.default(b)}return{error:b,data:N,count:j,status:_,statusText:C}});return this.shouldThrowOnError||(u=u.catch(h=>{var m,g,p,w,b,N;let j="";const _=h==null?void 0:h.cause;if(_){const C=(m=_==null?void 0:_.message)!==null&&m!==void 0?m:"",E=(g=_==null?void 0:_.code)!==null&&g!==void 0?g:"";j=`${(p=h==null?void 0:h.name)!==null&&p!==void 0?p:"FetchError"}: ${h==null?void 0:h.message}`,j+=`

Caused by: ${(w=_==null?void 0:_.name)!==null&&w!==void 0?w:"Error"}: ${C}`,E&&(j+=` (${E})`),_!=null&&_.stack&&(j+=`
${_.stack}`)}else j=(b=h==null?void 0:h.stack)!==null&&b!==void 0?b:"";return{error:{message:`${(N=h==null?void 0:h.name)!==null&&N!==void 0?N:"FetchError"}: ${h==null?void 0:h.message}`,details:j,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),u.then(i,l)}returns(){return this}overrideTypes(){return this}};return md.default=r,md}var U0;function Cb(){if(U0)return fd;U0=1,Object.defineProperty(fd,"__esModule",{value:!0});const e=Ci.__importDefault(Sb());let r=class extends e.default{select(i){let l=!1;const d=(i??"*").split("").map(u=>/\s/.test(u)&&!l?"":(u==='"'&&(l=!l),u)).join("");return this.url.searchParams.set("select",d),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:l=!0,nullsFirst:d,foreignTable:u,referencedTable:h=u}={}){const m=h?`${h}.order`:"order",g=this.url.searchParams.get(m);return this.url.searchParams.set(m,`${g?`${g},`:""}${i}.${l?"asc":"desc"}${d===void 0?"":d?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:l,referencedTable:d=l}={}){const u=typeof d>"u"?"limit":`${d}.limit`;return this.url.searchParams.set(u,`${i}`),this}range(i,l,{foreignTable:d,referencedTable:u=d}={}){const h=typeof u>"u"?"offset":`${u}.offset`,m=typeof u>"u"?"limit":`${u}.limit`;return this.url.searchParams.set(h,`${i}`),this.url.searchParams.set(m,`${l-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:l=!1,settings:d=!1,buffers:u=!1,wal:h=!1,format:m="text"}={}){var g;const p=[i?"analyze":null,l?"verbose":null,d?"settings":null,u?"buffers":null,h?"wal":null].filter(Boolean).join("|"),w=(g=this.headers.get("Accept"))!==null&&g!==void 0?g:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${m}; for="${w}"; options=${p};`),m==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}};return fd.default=r,fd}var q0;function Zm(){if(q0)return hd;q0=1,Object.defineProperty(hd,"__esModule",{value:!0});const e=Ci.__importDefault(Cb()),r=new RegExp("[,()]");let o=class extends e.default{eq(l,d){return this.url.searchParams.append(l,`eq.${d}`),this}neq(l,d){return this.url.searchParams.append(l,`neq.${d}`),this}gt(l,d){return this.url.searchParams.append(l,`gt.${d}`),this}gte(l,d){return this.url.searchParams.append(l,`gte.${d}`),this}lt(l,d){return this.url.searchParams.append(l,`lt.${d}`),this}lte(l,d){return this.url.searchParams.append(l,`lte.${d}`),this}like(l,d){return this.url.searchParams.append(l,`like.${d}`),this}likeAllOf(l,d){return this.url.searchParams.append(l,`like(all).{${d.join(",")}}`),this}likeAnyOf(l,d){return this.url.searchParams.append(l,`like(any).{${d.join(",")}}`),this}ilike(l,d){return this.url.searchParams.append(l,`ilike.${d}`),this}ilikeAllOf(l,d){return this.url.searchParams.append(l,`ilike(all).{${d.join(",")}}`),this}ilikeAnyOf(l,d){return this.url.searchParams.append(l,`ilike(any).{${d.join(",")}}`),this}regexMatch(l,d){return this.url.searchParams.append(l,`match.${d}`),this}regexIMatch(l,d){return this.url.searchParams.append(l,`imatch.${d}`),this}is(l,d){return this.url.searchParams.append(l,`is.${d}`),this}isDistinct(l,d){return this.url.searchParams.append(l,`isdistinct.${d}`),this}in(l,d){const u=Array.from(new Set(d)).map(h=>typeof h=="string"&&r.test(h)?`"${h}"`:`${h}`).join(",");return this.url.searchParams.append(l,`in.(${u})`),this}contains(l,d){return typeof d=="string"?this.url.searchParams.append(l,`cs.${d}`):Array.isArray(d)?this.url.searchParams.append(l,`cs.{${d.join(",")}}`):this.url.searchParams.append(l,`cs.${JSON.stringify(d)}`),this}containedBy(l,d){return typeof d=="string"?this.url.searchParams.append(l,`cd.${d}`):Array.isArray(d)?this.url.searchParams.append(l,`cd.{${d.join(",")}}`):this.url.searchParams.append(l,`cd.${JSON.stringify(d)}`),this}rangeGt(l,d){return this.url.searchParams.append(l,`sr.${d}`),this}rangeGte(l,d){return this.url.searchParams.append(l,`nxl.${d}`),this}rangeLt(l,d){return this.url.searchParams.append(l,`sl.${d}`),this}rangeLte(l,d){return this.url.searchParams.append(l,`nxr.${d}`),this}rangeAdjacent(l,d){return this.url.searchParams.append(l,`adj.${d}`),this}overlaps(l,d){return typeof d=="string"?this.url.searchParams.append(l,`ov.${d}`):this.url.searchParams.append(l,`ov.{${d.join(",")}}`),this}textSearch(l,d,{config:u,type:h}={}){let m="";h==="plain"?m="pl":h==="phrase"?m="ph":h==="websearch"&&(m="w");const g=u===void 0?"":`(${u})`;return this.url.searchParams.append(l,`${m}fts${g}.${d}`),this}match(l){return Object.entries(l).forEach(([d,u])=>{this.url.searchParams.append(d,`eq.${u}`)}),this}not(l,d,u){return this.url.searchParams.append(l,`not.${d}.${u}`),this}or(l,{foreignTable:d,referencedTable:u=d}={}){const h=u?`${u}.or`:"or";return this.url.searchParams.append(h,`(${l})`),this}filter(l,d,u){return this.url.searchParams.append(l,`${d}.${u}`),this}};return hd.default=o,hd}var W0;function kb(){if(W0)return ud;W0=1,Object.defineProperty(ud,"__esModule",{value:!0});const e=Ci.__importDefault(Zm());let r=class{constructor(i,{headers:l={},schema:d,fetch:u}){this.url=i,this.headers=new Headers(l),this.schema=d,this.fetch=u}select(i,l){const{head:d=!1,count:u}=l??{},h=d?"HEAD":"GET";let m=!1;const g=(i??"*").split("").map(p=>/\s/.test(p)&&!m?"":(p==='"'&&(m=!m),p)).join("");return this.url.searchParams.set("select",g),u&&this.headers.append("Prefer",`count=${u}`),new e.default({method:h,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:l,defaultToNull:d=!0}={}){var u;const h="POST";if(l&&this.headers.append("Prefer",`count=${l}`),d||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const m=i.reduce((g,p)=>g.concat(Object.keys(p)),[]);if(m.length>0){const g=[...new Set(m)].map(p=>`"${p}"`);this.url.searchParams.set("columns",g.join(","))}}return new e.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}upsert(i,{onConflict:l,ignoreDuplicates:d=!1,count:u,defaultToNull:h=!0}={}){var m;const g="POST";if(this.headers.append("Prefer",`resolution=${d?"ignore":"merge"}-duplicates`),l!==void 0&&this.url.searchParams.set("on_conflict",l),u&&this.headers.append("Prefer",`count=${u}`),h||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const p=i.reduce((w,b)=>w.concat(Object.keys(b)),[]);if(p.length>0){const w=[...new Set(p)].map(b=>`"${b}"`);this.url.searchParams.set("columns",w.join(","))}}return new e.default({method:g,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(m=this.fetch)!==null&&m!==void 0?m:fetch})}update(i,{count:l}={}){var d;const u="PATCH";return l&&this.headers.append("Prefer",`count=${l}`),new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}delete({count:i}={}){var l;const d="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new e.default({method:d,url:this.url,headers:this.headers,schema:this.schema,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}};return ud.default=r,ud}var V0;function nC(){if(V0)return dd;V0=1,Object.defineProperty(dd,"__esModule",{value:!0});const t=Ci,e=t.__importDefault(kb()),r=t.__importDefault(Zm());let o=class Rb{constructor(l,{headers:d={},schema:u,fetch:h}={}){this.url=l,this.headers=new Headers(d),this.schemaName=u,this.fetch=h}from(l){if(!l||typeof l!="string"||l.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const d=new URL(`${this.url}/${l}`);return new e.default(d,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(l){return new Rb(this.url,{headers:this.headers,schema:l,fetch:this.fetch})}rpc(l,d={},{head:u=!1,get:h=!1,count:m}={}){var g;let p;const w=new URL(`${this.url}/rpc/${l}`);let b;u||h?(p=u?"HEAD":"GET",Object.entries(d).filter(([j,_])=>_!==void 0).map(([j,_])=>[j,Array.isArray(_)?`{${_.join(",")}}`:`${_}`]).forEach(([j,_])=>{w.searchParams.append(j,_)})):(p="POST",b=d);const N=new Headers(this.headers);return m&&N.set("Prefer",`count=${m}`),new r.default({method:p,url:w,headers:N,schema:this.schemaName,body:b,fetch:(g=this.fetch)!==null&&g!==void 0?g:fetch})}};return dd.default=o,dd}var H0;function Ab(){if(H0)return mr;H0=1,Object.defineProperty(mr,"__esModule",{value:!0}),mr.PostgrestError=mr.PostgrestBuilder=mr.PostgrestTransformBuilder=mr.PostgrestFilterBuilder=mr.PostgrestQueryBuilder=mr.PostgrestClient=void 0;const t=Ci,e=t.__importDefault(nC());mr.PostgrestClient=e.default;const r=t.__importDefault(kb());mr.PostgrestQueryBuilder=r.default;const o=t.__importDefault(Zm());mr.PostgrestFilterBuilder=o.default;const i=t.__importDefault(Cb());mr.PostgrestTransformBuilder=i.default;const l=t.__importDefault(Sb());mr.PostgrestBuilder=l.default;const d=t.__importDefault(Eb());return mr.PostgrestError=d.default,mr.default={PostgrestClient:e.default,PostgrestQueryBuilder:r.default,PostgrestFilterBuilder:o.default,PostgrestTransformBuilder:i.default,PostgrestBuilder:l.default,PostgrestError:d.default},mr}class Pb{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const o=r.node,i=parseInt(o.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const o=this.getWebSocketConstructor();return new o(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const sC="2.87.1",oC=`realtime-js/${sC}`,Tb="1.0.0",aC="2.0.0",K0=Tb,dm=1e4,iC=1e3,lC=100;var Go;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Go||(Go={}));var Bt;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Bt||(Bt={}));var jn;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(jn||(jn={}));var um;(function(t){t.websocket="websocket"})(um||(um={}));var Qo;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Qo||(Qo={}));class cC{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,r){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(e));let o=[e.join_ref,e.ref,e.topic,e.event,e.payload];return r(JSON.stringify(o))}_binaryEncodeUserBroadcastPush(e){var r;return this._isArrayBuffer((r=e.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var r,o;const i=(o=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&o!==void 0?o:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(e){var r,o;const i=(o=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&o!==void 0?o:{},d=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,d)}_encodeUserBroadcastPush(e,r,o){var i,l;const d=e.topic,u=(i=e.ref)!==null&&i!==void 0?i:"",h=(l=e.join_ref)!==null&&l!==void 0?l:"",m=e.payload.event,g=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},p=Object.keys(g).length===0?"":JSON.stringify(g);if(h.length>255)throw new Error(`joinRef length ${h.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`ref length ${u.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`topic length ${d.length} exceeds maximum of 255`);if(m.length>255)throw new Error(`userEvent length ${m.length} exceeds maximum of 255`);if(p.length>255)throw new Error(`metadata length ${p.length} exceeds maximum of 255`);const w=this.USER_BROADCAST_PUSH_META_LENGTH+h.length+u.length+d.length+m.length+p.length,b=new ArrayBuffer(this.HEADER_LENGTH+w);let N=new DataView(b),j=0;N.setUint8(j++,this.KINDS.userBroadcastPush),N.setUint8(j++,h.length),N.setUint8(j++,u.length),N.setUint8(j++,d.length),N.setUint8(j++,m.length),N.setUint8(j++,p.length),N.setUint8(j++,r),Array.from(h,C=>N.setUint8(j++,C.charCodeAt(0))),Array.from(u,C=>N.setUint8(j++,C.charCodeAt(0))),Array.from(d,C=>N.setUint8(j++,C.charCodeAt(0))),Array.from(m,C=>N.setUint8(j++,C.charCodeAt(0))),Array.from(p,C=>N.setUint8(j++,C.charCodeAt(0)));var _=new Uint8Array(b.byteLength+o.byteLength);return _.set(new Uint8Array(b),0),_.set(new Uint8Array(o),b.byteLength),_.buffer}decode(e,r){if(this._isArrayBuffer(e)){let o=this._binaryDecode(e);return r(o)}if(typeof e=="string"){const o=JSON.parse(e),[i,l,d,u,h]=o;return r({join_ref:i,ref:l,topic:d,event:u,payload:h})}return r({})}_binaryDecode(e){const r=new DataView(e),o=r.getUint8(0),i=new TextDecoder;switch(o){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,r,i)}}_decodeUserBroadcast(e,r,o){const i=r.getUint8(1),l=r.getUint8(2),d=r.getUint8(3),u=r.getUint8(4);let h=this.HEADER_LENGTH+4;const m=o.decode(e.slice(h,h+i));h=h+i;const g=o.decode(e.slice(h,h+l));h=h+l;const p=o.decode(e.slice(h,h+d));h=h+d;const w=e.slice(h,e.byteLength),b=u===this.JSON_ENCODING?JSON.parse(o.decode(w)):w,N={type:this.BROADCAST_EVENT,event:g,payload:b};return d>0&&(N.meta=JSON.parse(p)),{join_ref:null,ref:null,topic:m,event:this.BROADCAST_EVENT,payload:N}}_isArrayBuffer(e){var r;return e instanceof ArrayBuffer||((r=e==null?void 0:e.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(e,r){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([o])=>r.includes(o)))}}class Ob{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var mt;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(mt||(mt={}));const G0=(t,e,r={})=>{var o;const i=(o=r.skipTypes)!==null&&o!==void 0?o:[];return e?Object.keys(e).reduce((l,d)=>(l[d]=dC(d,t,e,i),l),{}):{}},dC=(t,e,r,o)=>{const i=e.find(u=>u.name===t),l=i==null?void 0:i.type,d=r[t];return l&&!o.includes(l)?Ib(l,d):hm(d)},Ib=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return mC(e,r)}switch(t){case mt.bool:return uC(e);case mt.float4:case mt.float8:case mt.int2:case mt.int4:case mt.int8:case mt.numeric:case mt.oid:return hC(e);case mt.json:case mt.jsonb:return fC(e);case mt.timestamp:return pC(e);case mt.abstime:case mt.date:case mt.daterange:case mt.int4range:case mt.int8range:case mt.money:case mt.reltime:case mt.text:case mt.time:case mt.timestamptz:case mt.timetz:case mt.tsrange:case mt.tstzrange:return hm(e);default:return hm(e)}},hm=t=>t,uC=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},hC=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},fC=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},mC=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,o=t[r];if(t[0]==="{"&&o==="}"){let l;const d=t.slice(1,r);try{l=JSON.parse("["+d+"]")}catch{l=d?d.split(","):[]}return l.map(u=>Ib(e,u))}return t},pC=t=>typeof t=="string"?t.replace(" ","T"):t,Mb=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class bf{constructor(e,r,o={},i=dm){this.channel=e,this.event=r,this.payload=o,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var o;return this._hasReceived(e)&&r((o=this.receivedResp)===null||o===void 0?void 0:o.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(o=>o.status===e).forEach(o=>o.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var fm;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(fm||(fm={}));let Db=class Od{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const o=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(o.state,{},i=>{const{onJoin:l,onLeave:d,onSync:u}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Od.syncState(this.state,i,l,d),this.pendingDiffs.forEach(h=>{this.state=Od.syncDiff(this.state,h,l,d)}),this.pendingDiffs=[],u()}),this.channel._on(o.diff,{},i=>{const{onJoin:l,onLeave:d,onSync:u}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Od.syncDiff(this.state,i,l,d),u())}),this.onJoin((i,l,d)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:l,newPresences:d})}),this.onLeave((i,l,d)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:l,leftPresences:d})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,o,i){const l=this.cloneDeep(e),d=this.transformState(r),u={},h={};return this.map(l,(m,g)=>{d[m]||(h[m]=g)}),this.map(d,(m,g)=>{const p=l[m];if(p){const w=g.map(_=>_.presence_ref),b=p.map(_=>_.presence_ref),N=g.filter(_=>b.indexOf(_.presence_ref)<0),j=p.filter(_=>w.indexOf(_.presence_ref)<0);N.length>0&&(u[m]=N),j.length>0&&(h[m]=j)}else u[m]=g}),this.syncDiff(l,{joins:u,leaves:h},o,i)}static syncDiff(e,r,o,i){const{joins:l,leaves:d}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return o||(o=()=>{}),i||(i=()=>{}),this.map(l,(u,h)=>{var m;const g=(m=e[u])!==null&&m!==void 0?m:[];if(e[u]=this.cloneDeep(h),g.length>0){const p=e[u].map(b=>b.presence_ref),w=g.filter(b=>p.indexOf(b.presence_ref)<0);e[u].unshift(...w)}o(u,g,h)}),this.map(d,(u,h)=>{let m=e[u];if(!m)return;const g=h.map(p=>p.presence_ref);m=m.filter(p=>g.indexOf(p.presence_ref)<0),e[u]=m,i(u,m,h),m.length===0&&delete e[u]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(o=>r(o,e[o]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,o)=>{const i=e[o];return"metas"in i?r[o]=i.metas.map(l=>(l.presence_ref=l.phx_ref,delete l.phx_ref,delete l.phx_ref_prev,l)):r[o]=i,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var mm;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(mm||(mm={}));var ei;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(ei||(ei={}));var Un;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Un||(Un={}));const gC=Bt;let Lb=class Nl{constructor(e,r={config:{}},o){var i,l;if(this.topic=e,this.params=r,this.socket=o,this.bindings={},this.state=Bt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new bf(this,jn.join,this.params,this.timeout),this.rejoinTimer=new Ob(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Bt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(d=>d.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Bt.closed,this.socket._remove(this)}),this._onError(d=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,d),this.state=Bt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Bt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",d=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,d),this.state=Bt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(jn.reply,{},(d,u)=>{this._trigger(this._replyEventName(u),d)}),this.presence=new Db(this),this.broadcastEndpointURL=Mb(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((l=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||l===void 0)&&l.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,r=this.timeout){var o,i,l;if(this.socket.isConnected()||this.socket.connect(),this.state==Bt.closed){const{config:{broadcast:d,presence:u,private:h}}=this.params,m=(i=(o=this.bindings.postgres_changes)===null||o===void 0?void 0:o.map(b=>b.filter))!==null&&i!==void 0?i:[],g=!!this.bindings[ei.PRESENCE]&&this.bindings[ei.PRESENCE].length>0||((l=this.params.config.presence)===null||l===void 0?void 0:l.enabled)===!0,p={},w={broadcast:d,presence:Object.assign(Object.assign({},u),{enabled:g}),postgres_changes:m,private:h};this.socket.accessTokenValue&&(p.access_token=this.socket.accessTokenValue),this._onError(b=>e==null?void 0:e(Un.CHANNEL_ERROR,b)),this._onClose(()=>e==null?void 0:e(Un.CLOSED)),this.updateJoinPayload(Object.assign({config:w},p)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:b})=>{var N;if(this.socket._isManualToken()||this.socket.setAuth(),b===void 0){e==null||e(Un.SUBSCRIBED);return}else{const j=this.bindings.postgres_changes,_=(N=j==null?void 0:j.length)!==null&&N!==void 0?N:0,C=[];for(let E=0;E<_;E++){const S=j[E],{filter:{event:T,schema:q,table:A,filter:U}}=S,K=b&&b[E];if(K&&K.event===T&&Nl.isFilterValueEqual(K.schema,q)&&Nl.isFilterValueEqual(K.table,A)&&Nl.isFilterValueEqual(K.filter,U))C.push(Object.assign(Object.assign({},S),{id:K.id}));else{this.unsubscribe(),this.state=Bt.errored,e==null||e(Un.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=C,e&&e(Un.SUBSCRIBED);return}}).receive("error",b=>{this.state=Bt.errored,e==null||e(Un.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(b).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Un.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,o){return this.state===Bt.joined&&e===ei.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,r,o)}async httpSend(e,r,o={}){var i;const l=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const d={method:"POST",headers:{Authorization:l,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:r,private:this.private}]})},u=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(i=o.timeout)!==null&&i!==void 0?i:this.timeout);if(u.status===202)return{success:!0};let h=u.statusText;try{const m=await u.json();h=m.error||m.message||h}catch{}return Promise.reject(new Error(h))}async send(e,r={}){var o,i;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:l,payload:d}=e,h={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:l,payload:d,private:this.private}]})};try{const m=await this._fetchWithTimeout(this.broadcastEndpointURL,h,(o=r.timeout)!==null&&o!==void 0?o:this.timeout);return await((i=m.body)===null||i===void 0?void 0:i.cancel()),m.ok?"ok":"error"}catch(m){return m.name==="AbortError"?"timed out":"error"}}else return new Promise(l=>{var d,u,h;const m=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((h=(u=(d=this.params)===null||d===void 0?void 0:d.config)===null||u===void 0?void 0:u.broadcast)===null||h===void 0)&&h.ack)&&l("ok"),m.receive("ok",()=>l("ok")),m.receive("error",()=>l("error")),m.receive("timeout",()=>l("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Bt.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(jn.close,"leave",this._joinRef())};this.joinPush.destroy();let o=null;return new Promise(i=>{o=new bf(this,jn.leave,{},e),o.receive("ok",()=>{r(),i("ok")}).receive("timeout",()=>{r(),i("timed out")}).receive("error",()=>{i("error")}),o.send(),this._canPush()||o.trigger("ok",{})}).finally(()=>{o==null||o.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Bt.closed,this.bindings={}}async _fetchWithTimeout(e,r,o){const i=new AbortController,l=setTimeout(()=>i.abort(),o),d=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(l),d}_push(e,r,o=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new bf(this,e,r,o);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>lC){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,o){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,o){var i,l;const d=e.toLocaleLowerCase(),{close:u,error:h,leave:m,join:g}=jn;if(o&&[u,h,m,g].indexOf(d)>=0&&o!==this._joinRef())return;let w=this._onMessage(d,r,o);if(r&&!w)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(d)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(b=>{var N,j,_;return((N=b.filter)===null||N===void 0?void 0:N.event)==="*"||((_=(j=b.filter)===null||j===void 0?void 0:j.event)===null||_===void 0?void 0:_.toLocaleLowerCase())===d}).map(b=>b.callback(w,o)):(l=this.bindings[d])===null||l===void 0||l.filter(b=>{var N,j,_,C,E,S;if(["broadcast","presence","postgres_changes"].includes(d))if("id"in b){const T=b.id,q=(N=b.filter)===null||N===void 0?void 0:N.event;return T&&((j=r.ids)===null||j===void 0?void 0:j.includes(T))&&(q==="*"||(q==null?void 0:q.toLocaleLowerCase())===((_=r.data)===null||_===void 0?void 0:_.type.toLocaleLowerCase()))}else{const T=(E=(C=b==null?void 0:b.filter)===null||C===void 0?void 0:C.event)===null||E===void 0?void 0:E.toLocaleLowerCase();return T==="*"||T===((S=r==null?void 0:r.event)===null||S===void 0?void 0:S.toLocaleLowerCase())}else return b.type.toLocaleLowerCase()===d}).map(b=>{if(typeof w=="object"&&"ids"in w){const N=w.data,{schema:j,table:_,commit_timestamp:C,type:E,errors:S}=N;w=Object.assign(Object.assign({},{schema:j,table:_,commit_timestamp:C,eventType:E,new:{},old:{},errors:S}),this._getPayloadRecords(N))}b.callback(w,o)})}_isClosed(){return this.state===Bt.closed}_isJoined(){return this.state===Bt.joined}_isJoining(){return this.state===Bt.joining}_isLeaving(){return this.state===Bt.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,o){const i=e.toLocaleLowerCase(),l={type:i,filter:r,callback:o};return this.bindings[i]?this.bindings[i].push(l):this.bindings[i]=[l],this}_off(e,r){const o=e.toLocaleLowerCase();return this.bindings[o]&&(this.bindings[o]=this.bindings[o].filter(i=>{var l;return!(((l=i.type)===null||l===void 0?void 0:l.toLocaleLowerCase())===o&&Nl.isEqual(i.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const o in e)if(e[o]!==r[o])return!1;return!0}static isFilterValueEqual(e,r){return(e??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(jn.close,{},e)}_onError(e){this._on(jn.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Bt.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=G0(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=G0(e.columns,e.old_record)),r}};const wf=()=>{},gd={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},xC=[1e3,2e3,5e3,1e4],vC=1e4,yC=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;let bC=class{constructor(e,r){var o;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=dm,this.transport=null,this.heartbeatIntervalMs=gd.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=wf,this.ref=0,this.reconnectTimer=null,this.vsn=K0,this.logger=wf,this.conn=null,this.sendBuffer=[],this.serializer=new cC,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>i?(...l)=>i(...l):(...l)=>fetch(...l),!(!((o=r==null?void 0:r.params)===null||o===void 0)&&o.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${um.websocket}`,this.httpEndpoint=Mb(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Pb.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const o=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(o),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,o){this.logger(e,r,o)}connectionState(){switch(this.conn&&this.conn.readyState){case Go.connecting:return Qo.Connecting;case Go.open:return Qo.Open;case Go.closing:return Qo.Closing;default:return Qo.Closed}}isConnected(){return this.connectionState()===Qo.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const o=`realtime:${e}`,i=this.getChannels().find(l=>l.topic===o);if(i)return i;{const l=new Lb(`realtime:${e}`,r,this);return this.channels.push(l),l}}push(e){const{topic:r,event:o,payload:i,ref:l}=e,d=()=>{this.encode(e,u=>{var h;(h=this.conn)===null||h===void 0||h.send(u)})};this.log("push",`${r} ${o} (${l})`,i),this.isConnected()?d():this.sendBuffer.push(d)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(iC,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},gd.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(o=>o.topic===e&&(o._isJoined()||o._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(m){this.log("error","error in heartbeat callback",m)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:o,event:i,payload:l,ref:d}=r,u=d?`(${d})`:"",h=l.status||"";this.log("receive",`${h} ${o} ${i} ${u}`.trim(),l),this.channels.filter(m=>m._isMember(o)).forEach(m=>m._trigger(i,l,d)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){if(this.conn){if(this.conn.readyState===Go.open||this.conn.readyState===Go.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(jn.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const o=e.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${e}${o}${i}`}_workerObjectUrl(e){let r;if(e)r=e;else{const o=new Blob([yC],{type:"application/javascript"});r=URL.createObjectURL(o)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r,o=!1;if(e)r=e,o=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(i){this.log("error","Error fetching access token from callback",i),r=this.accessTokenValue}else r=this.accessTokenValue;o?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(i=>{const l={access_token:r,version:oC};r&&i.updateJoinPayload(l),i.joinedOnce&&i._isJoined()&&i._push(jn.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(o=>{try{o(r)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(o){this.log("error",`error triggering ${e} callbacks`,o)}}_setupReconnectionTimer(){this.reconnectTimer=new Ob(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},gd.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,o,i,l,d,u,h,m,g,p,w,b;switch(this.transport=(r=e==null?void 0:e.transport)!==null&&r!==void 0?r:null,this.timeout=(o=e==null?void 0:e.timeout)!==null&&o!==void 0?o:dm,this.heartbeatIntervalMs=(i=e==null?void 0:e.heartbeatIntervalMs)!==null&&i!==void 0?i:gd.HEARTBEAT_INTERVAL,this.worker=(l=e==null?void 0:e.worker)!==null&&l!==void 0?l:!1,this.accessToken=(d=e==null?void 0:e.accessToken)!==null&&d!==void 0?d:null,this.heartbeatCallback=(u=e==null?void 0:e.heartbeatCallback)!==null&&u!==void 0?u:wf,this.vsn=(h=e==null?void 0:e.vsn)!==null&&h!==void 0?h:K0,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(m=e==null?void 0:e.reconnectAfterMs)!==null&&m!==void 0?m:(N=>xC[N-1]||vC),this.vsn){case Tb:this.encode=(g=e==null?void 0:e.encode)!==null&&g!==void 0?g:((N,j)=>j(JSON.stringify(N))),this.decode=(p=e==null?void 0:e.decode)!==null&&p!==void 0?p:((N,j)=>j(JSON.parse(N)));break;case aC:this.encode=(w=e==null?void 0:e.encode)!==null&&w!==void 0?w:this.serializer.encode.bind(this.serializer),this.decode=(b=e==null?void 0:e.decode)!==null&&b!==void 0?b:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}};const wC=Object.freeze(Object.defineProperty({__proto__:null,REALTIME_CHANNEL_STATES:gC,get REALTIME_LISTEN_TYPES(){return ei},get REALTIME_POSTGRES_CHANGES_LISTEN_EVENT(){return mm},get REALTIME_PRESENCE_LISTEN_EVENTS(){return fm},get REALTIME_SUBSCRIBE_STATES(){return Un},RealtimeChannel:Lb,RealtimeClient:bC,RealtimePresence:Db,WebSocketFactory:Pb},Symbol.toStringTag,{value:"Module"})),$b=ql(wC);class Kl extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function jt(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class Bb extends Kl{constructor(e,r,o){super(e),this.name="StorageApiError",this.status=r,this.statusCode=o}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Hd extends Kl{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}const ep=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),jC=()=>Response,pm=t=>{if(Array.isArray(t))return t.map(r=>pm(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,o])=>{const i=r.replace(/([-_][a-z])/gi,l=>l.toUpperCase().replace(/[-_]/g,""));e[i]=pm(o)}),e},_C=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},NC=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t),jf=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},EC=(t,e,r)=>Re(void 0,void 0,void 0,function*(){const o=yield jC();t instanceof o&&!(r!=null&&r.noResolveJson)?t.json().then(i=>{const l=t.status||500,d=(i==null?void 0:i.statusCode)||l+"";e(new Bb(jf(i),l,d))}).catch(i=>{e(new Hd(jf(i),i))}):e(new Hd(jf(t),t))}),SC=(t,e,r,o)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!o?i:(_C(o)?(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(o)):i.body=o,e!=null&&e.duplex&&(i.duplex=e.duplex),Object.assign(Object.assign({},i),r))};function Gl(t,e,r,o,i,l){return Re(this,void 0,void 0,function*(){return new Promise((d,u)=>{t(r,SC(e,o,i,l)).then(h=>{if(!h.ok)throw h;return o!=null&&o.noResolveJson?h:h.json()}).then(h=>d(h)).catch(h=>EC(h,u,o))})})}function Ol(t,e,r,o){return Re(this,void 0,void 0,function*(){return Gl(t,"GET",e,r,o)})}function yn(t,e,r,o,i){return Re(this,void 0,void 0,function*(){return Gl(t,"POST",e,o,i,r)})}function gm(t,e,r,o,i){return Re(this,void 0,void 0,function*(){return Gl(t,"PUT",e,o,i,r)})}function CC(t,e,r,o){return Re(this,void 0,void 0,function*(){return Gl(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),o)})}function tp(t,e,r,o,i){return Re(this,void 0,void 0,function*(){return Gl(t,"DELETE",e,o,i,r)})}class kC{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r}then(e,r){return this.execute().then(e,r)}execute(){return Re(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(jt(e))return{data:null,error:e};throw e}})}}var Fb;class RC{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r,this[Fb]="BlobDownloadBuilder",this.promise=null}asStream(){return new kC(this.downloadFn,this.shouldThrowOnError)}then(e,r){return this.getPromise().then(e,r)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return Re(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(jt(e))return{data:null,error:e};throw e}})}}Fb=Symbol.toStringTag;const AC={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Q0={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class PC{constructor(e,r={},o,i){this.shouldThrowOnError=!1,this.url=e,this.headers=r,this.bucketId=o,this.fetch=ep(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,r,o,i){return Re(this,void 0,void 0,function*(){try{let l;const d=Object.assign(Object.assign({},Q0),i);let u=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(d.upsert)});const h=d.metadata;typeof Blob<"u"&&o instanceof Blob?(l=new FormData,l.append("cacheControl",d.cacheControl),h&&l.append("metadata",this.encodeMetadata(h)),l.append("",o)):typeof FormData<"u"&&o instanceof FormData?(l=o,l.has("cacheControl")||l.append("cacheControl",d.cacheControl),h&&!l.has("metadata")&&l.append("metadata",this.encodeMetadata(h))):(l=o,u["cache-control"]=`max-age=${d.cacheControl}`,u["content-type"]=d.contentType,h&&(u["x-metadata"]=this.toBase64(this.encodeMetadata(h))),(typeof ReadableStream<"u"&&l instanceof ReadableStream||l&&typeof l=="object"&&"pipe"in l&&typeof l.pipe=="function")&&!d.duplex&&(d.duplex="half")),i!=null&&i.headers&&(u=Object.assign(Object.assign({},u),i.headers));const m=this._removeEmptyFolders(r),g=this._getFinalPath(m),p=yield(e=="PUT"?gm:yn)(this.fetch,`${this.url}/object/${g}`,l,Object.assign({headers:u},d!=null&&d.duplex?{duplex:d.duplex}:{}));return{data:{path:m,id:p.Id,fullPath:p.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(jt(l))return{data:null,error:l};throw l}})}upload(e,r,o){return Re(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,o)})}uploadToSignedUrl(e,r,o,i){return Re(this,void 0,void 0,function*(){const l=this._removeEmptyFolders(e),d=this._getFinalPath(l),u=new URL(this.url+`/object/upload/sign/${d}`);u.searchParams.set("token",r);try{let h;const m=Object.assign({upsert:Q0.upsert},i),g=Object.assign(Object.assign({},this.headers),{"x-upsert":String(m.upsert)});typeof Blob<"u"&&o instanceof Blob?(h=new FormData,h.append("cacheControl",m.cacheControl),h.append("",o)):typeof FormData<"u"&&o instanceof FormData?(h=o,h.append("cacheControl",m.cacheControl)):(h=o,g["cache-control"]=`max-age=${m.cacheControl}`,g["content-type"]=m.contentType);const p=yield gm(this.fetch,u.toString(),h,{headers:g});return{data:{path:l,fullPath:p.Key},error:null}}catch(h){if(this.shouldThrowOnError)throw h;if(jt(h))return{data:null,error:h};throw h}})}createSignedUploadUrl(e,r){return Re(this,void 0,void 0,function*(){try{let o=this._getFinalPath(e);const i=Object.assign({},this.headers);r!=null&&r.upsert&&(i["x-upsert"]="true");const l=yield yn(this.fetch,`${this.url}/object/upload/sign/${o}`,{},{headers:i}),d=new URL(this.url+l.url),u=d.searchParams.get("token");if(!u)throw new Kl("No token returned by API");return{data:{signedUrl:d.toString(),path:e,token:u},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(jt(o))return{data:null,error:o};throw o}})}update(e,r,o){return Re(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,o)})}move(e,r,o){return Re(this,void 0,void 0,function*(){try{return{data:yield yn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:o==null?void 0:o.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(jt(i))return{data:null,error:i};throw i}})}copy(e,r,o){return Re(this,void 0,void 0,function*(){try{return{data:{path:(yield yn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:o==null?void 0:o.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(jt(i))return{data:null,error:i};throw i}})}createSignedUrl(e,r,o){return Re(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),l=yield yn(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:r},o!=null&&o.transform?{transform:o.transform}:{}),{headers:this.headers});const d=o!=null&&o.download?`&download=${o.download===!0?"":o.download}`:"";return l={signedUrl:encodeURI(`${this.url}${l.signedURL}${d}`)},{data:l,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(jt(i))return{data:null,error:i};throw i}})}createSignedUrls(e,r,o){return Re(this,void 0,void 0,function*(){try{const i=yield yn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),l=o!=null&&o.download?`&download=${o.download===!0?"":o.download}`:"";return{data:i.map(d=>Object.assign(Object.assign({},d),{signedUrl:d.signedURL?encodeURI(`${this.url}${d.signedURL}${l}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(jt(i))return{data:null,error:i};throw i}})}download(e,r){const i=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",l=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),d=l?`?${l}`:"",u=this._getFinalPath(e),h=()=>Ol(this.fetch,`${this.url}/${i}/${u}${d}`,{headers:this.headers,noResolveJson:!0});return new RC(h,this.shouldThrowOnError)}info(e){return Re(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const o=yield Ol(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:pm(o),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(jt(o))return{data:null,error:o};throw o}})}exists(e){return Re(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield CC(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(jt(o)&&o instanceof Hd){const i=o.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:o}}throw o}})}getPublicUrl(e,r){const o=this._getFinalPath(e),i=[],l=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";l!==""&&i.push(l);const u=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",h=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});h!==""&&i.push(h);let m=i.join("&");return m!==""&&(m=`?${m}`),{data:{publicUrl:encodeURI(`${this.url}/${u}/public/${o}${m}`)}}}remove(e){return Re(this,void 0,void 0,function*(){try{return{data:yield tp(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(jt(r))return{data:null,error:r};throw r}})}list(e,r,o){return Re(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},AC),r),{prefix:e||""});return{data:yield yn(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},o),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(jt(i))return{data:null,error:i};throw i}})}listV2(e,r){return Re(this,void 0,void 0,function*(){try{const o=Object.assign({},e);return{data:yield yn(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,o,{headers:this.headers},r),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(jt(o))return{data:null,error:o};throw o}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const zb="2.87.1",Ub={"X-Client-Info":`storage-js/${zb}`};class TC{constructor(e,r={},o,i){this.shouldThrowOnError=!1;const l=new URL(e);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(l.hostname)&&!l.hostname.includes("storage.supabase.")&&(l.hostname=l.hostname.replace("supabase.","storage.supabase.")),this.url=l.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Ub),r),this.fetch=ep(o)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return Re(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(e);return{data:yield Ol(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(jt(r))return{data:null,error:r};throw r}})}getBucket(e){return Re(this,void 0,void 0,function*(){try{return{data:yield Ol(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(jt(r))return{data:null,error:r};throw r}})}createBucket(e){return Re(this,arguments,void 0,function*(r,o={public:!1}){try{return{data:yield yn(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:o.type,public:o.public,file_size_limit:o.fileSizeLimit,allowed_mime_types:o.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(jt(i))return{data:null,error:i};throw i}})}updateBucket(e,r){return Re(this,void 0,void 0,function*(){try{return{data:yield gm(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(jt(o))return{data:null,error:o};throw o}})}emptyBucket(e){return Re(this,void 0,void 0,function*(){try{return{data:yield yn(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(jt(r))return{data:null,error:r};throw r}})}deleteBucket(e){return Re(this,void 0,void 0,function*(){try{return{data:yield tp(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(jt(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(e){const r={};return e&&("limit"in e&&(r.limit=String(e.limit)),"offset"in e&&(r.offset=String(e.offset)),e.search&&(r.search=e.search),e.sortColumn&&(r.sortColumn=e.sortColumn),e.sortOrder&&(r.sortOrder=e.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}var Il=class extends Error{constructor(t,e){var r;super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&((r=e.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function OC(t,e,r){const o=new URL(e,t);if(r)for(const[i,l]of Object.entries(r))l!==void 0&&o.searchParams.set(i,l);return o.toString()}async function IC(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function MC(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:r,path:o,query:i,body:l,headers:d}){const u=OC(t.baseUrl,o,i),h=await IC(t.auth),m=await e(u,{method:r,headers:{...l?{"Content-Type":"application/json"}:{},...h,...d},body:l?JSON.stringify(l):void 0}),g=await m.text(),p=(m.headers.get("content-type")||"").includes("application/json"),w=p&&g?JSON.parse(g):g;if(!m.ok){const b=p?w:void 0,N=b==null?void 0:b.error;throw new Il((N==null?void 0:N.message)??`Request failed with status ${m.status}`,{status:m.status,icebergType:N==null?void 0:N.type,icebergCode:N==null?void 0:N.code,details:b})}return{status:m.status,headers:m.headers,data:w}}}}function xd(t){return t.join("")}var DC=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:xd(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(o=>({namespace:o}))}async createNamespace(t,e){const r={namespace:t.namespace,properties:e==null?void 0:e.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${xd(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${xd(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${xd(t.namespace)}`}),!0}catch(e){if(e instanceof Il&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(r){if(r instanceof Il&&r.status===409)return;throw r}}};function qa(t){return t.join("")}var LC=class{constructor(t,e="",r){this.client=t,this.prefix=e,this.accessDelegation=r}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${qa(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${qa(t.namespace)}/tables`,body:e,headers:r})).data.metadata}async updateTable(t,e){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${qa(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${qa(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String((e==null?void 0:e.purge)??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${qa(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${qa(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(r){if(r instanceof Il&&r.status===404)return!1;throw r}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(r){if(r instanceof Il&&r.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw r}}},$C=class{constructor(t){var o;let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const r=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=MC({baseUrl:r,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=(o=t.accessDelegation)==null?void 0:o.join(","),this.namespaceOps=new DC(this.client,e),this.tableOps=new LC(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}};class qb{constructor(e,r={},o){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Ub),r),this.fetch=ep(o)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return Re(this,void 0,void 0,function*(){try{return{data:yield yn(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(jt(r))return{data:null,error:r};throw r}})}listBuckets(e){return Re(this,void 0,void 0,function*(){try{const r=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&r.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&r.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&r.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&r.set("sortOrder",e.sortOrder),e!=null&&e.search&&r.set("search",e.search);const o=r.toString(),i=o?`${this.url}/bucket?${o}`:`${this.url}/bucket`;return{data:yield Ol(this.fetch,i,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(jt(r))return{data:null,error:r};throw r}})}deleteBucket(e){return Re(this,void 0,void 0,function*(){try{return{data:yield tp(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(jt(r))return{data:null,error:r};throw r}})}from(e){if(!NC(e))throw new Kl("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new $C({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:()=>Re(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch}),o=this.shouldThrowOnError;return new Proxy(r,{get(l,d){const u=l[d];return typeof u!="function"?u:(...h)=>Re(this,void 0,void 0,function*(){try{return{data:yield u.apply(l,h),error:null}}catch(m){if(o)throw m;return{data:null,error:m}}})}})}}const rp={"X-Client-Info":`storage-js/${zb}`,"Content-Type":"application/json"};class np extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Dr(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}class Id extends np{constructor(e,r,o){super(e),this.name="StorageVectorsApiError",this.status=r,this.statusCode=o}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Wb extends np{constructor(e,r){super(e),this.name="StorageVectorsUnknownError",this.originalError=r}}var xm;(function(t){t.InternalError="InternalError",t.S3VectorConflictException="S3VectorConflictException",t.S3VectorNotFoundException="S3VectorNotFoundException",t.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",t.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",t.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(xm||(xm={}));const fu=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),BC=()=>Response,Vb=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},FC=t=>Array.from(new Float32Array(t)),zC=(t,e)=>{if(e!==void 0&&t.float32.length!==e)throw new Error(`Vector dimension mismatch: expected ${e}, got ${t.float32.length}`)},J0=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),UC=(t,e,r)=>Re(void 0,void 0,void 0,function*(){if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(r!=null&&r.noResolveJson)){const i=t.status||500,l=t;if(typeof l.json=="function")l.json().then(d=>{const u=(d==null?void 0:d.statusCode)||(d==null?void 0:d.code)||i+"";e(new Id(J0(d),i,u))}).catch(()=>{const d=i+"",u=l.statusText||`HTTP ${i} error`;e(new Id(u,i,d))});else{const d=i+"",u=l.statusText||`HTTP ${i} error`;e(new Id(u,i,d))}}else e(new Wb(J0(t),t))}),qC=(t,e,r,o)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return o?(Vb(o)?(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(o)):i.body=o,Object.assign(Object.assign({},i),r)):i};function WC(t,e,r,o,i,l){return Re(this,void 0,void 0,function*(){return new Promise((d,u)=>{t(r,qC(e,o,i,l)).then(h=>{if(!h.ok)throw h;if(o!=null&&o.noResolveJson)return h;const m=h.headers.get("content-type");return!m||!m.includes("application/json")?{}:h.json()}).then(h=>d(h)).catch(h=>UC(h,u,o))})})}function qr(t,e,r,o,i){return Re(this,void 0,void 0,function*(){return WC(t,"POST",e,o,i,r)})}class Hb{constructor(e,r={},o){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},rp),r),this.fetch=fu(o)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return Re(this,void 0,void 0,function*(){try{return{data:(yield qr(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Dr(r))return{data:null,error:r};throw r}})}getIndex(e,r){return Re(this,void 0,void 0,function*(){try{return{data:yield qr(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Dr(o))return{data:null,error:o};throw o}})}listIndexes(e){return Re(this,void 0,void 0,function*(){try{return{data:yield qr(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Dr(r))return{data:null,error:r};throw r}})}deleteIndex(e,r){return Re(this,void 0,void 0,function*(){try{return{data:(yield qr(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}))||{},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Dr(o))return{data:null,error:o};throw o}})}}class Kb{constructor(e,r={},o){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},rp),r),this.fetch=fu(o)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return Re(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield qr(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Dr(r))return{data:null,error:r};throw r}})}getVectors(e){return Re(this,void 0,void 0,function*(){try{return{data:yield qr(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Dr(r))return{data:null,error:r};throw r}})}listVectors(e){return Re(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield qr(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Dr(r))return{data:null,error:r};throw r}})}queryVectors(e){return Re(this,void 0,void 0,function*(){try{return{data:yield qr(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Dr(r))return{data:null,error:r};throw r}})}deleteVectors(e){return Re(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield qr(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Dr(r))return{data:null,error:r};throw r}})}}class Gb{constructor(e,r={},o){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},rp),r),this.fetch=fu(o)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return Re(this,void 0,void 0,function*(){try{return{data:(yield qr(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Dr(r))return{data:null,error:r};throw r}})}getBucket(e){return Re(this,void 0,void 0,function*(){try{return{data:yield qr(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Dr(r))return{data:null,error:r};throw r}})}listBuckets(){return Re(this,arguments,void 0,function*(e={}){try{return{data:yield qr(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Dr(r))return{data:null,error:r};throw r}})}deleteBucket(e){return Re(this,void 0,void 0,function*(){try{return{data:(yield qr(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Dr(r))return{data:null,error:r};throw r}})}}class Qb extends Gb{constructor(e,r={}){super(e,r.headers||{},r.fetch)}from(e){return new Jb(this.url,this.headers,e,this.fetch)}createBucket(e){const r=Object.create(null,{createBucket:{get:()=>super.createBucket}});return Re(this,void 0,void 0,function*(){return r.createBucket.call(this,e)})}getBucket(e){const r=Object.create(null,{getBucket:{get:()=>super.getBucket}});return Re(this,void 0,void 0,function*(){return r.getBucket.call(this,e)})}listBuckets(){const e=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return Re(this,arguments,void 0,function*(r={}){return e.listBuckets.call(this,r)})}deleteBucket(e){const r=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return Re(this,void 0,void 0,function*(){return r.deleteBucket.call(this,e)})}}class Jb extends Hb{constructor(e,r,o,i){super(e,r,i),this.vectorBucketName=o}createIndex(e){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return Re(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return Re(this,arguments,void 0,function*(r={}){return e.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return Re(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return Re(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new Yb(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class Yb extends Kb{constructor(e,r,o,i,l){super(e,r,l),this.vectorBucketName=o,this.indexName=i}putVectors(e){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return Re(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return Re(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return Re(this,arguments,void 0,function*(r={}){return e.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return Re(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return Re(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class VC extends TC{constructor(e,r={},o,i){super(e,r,o,i)}from(e){return new PC(this.url,this.headers,e,this.fetch)}get vectors(){return new Qb(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new qb(this.url+"/iceberg",this.headers,this.fetch)}}const HC=Object.freeze(Object.defineProperty({__proto__:null,StorageAnalyticsClient:qb,StorageApiError:Bb,StorageClient:VC,StorageError:Kl,StorageUnknownError:Hd,StorageVectorsApiError:Id,StorageVectorsClient:Qb,StorageVectorsError:np,get StorageVectorsErrorCode(){return xm},StorageVectorsUnknownError:Wb,VectorBucketApi:Gb,VectorBucketScope:Jb,VectorDataApi:Kb,VectorIndexApi:Hb,VectorIndexScope:Yb,isPlainObject:Vb,isStorageError:jt,isStorageVectorsError:Dr,normalizeToFloat32:FC,resolveFetch:fu,resolveResponse:BC,validateVectorDimension:zC},Symbol.toStringTag,{value:"Module"})),KC=ql(HC);var _f={},xl={},Y0;function GC(){return Y0||(Y0=1,Object.defineProperty(xl,"__esModule",{value:!0}),xl.version=void 0,xl.version="2.87.1"),xl}var X0;function QC(){return X0||(X0=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_REALTIME_OPTIONS=t.DEFAULT_AUTH_OPTIONS=t.DEFAULT_DB_OPTIONS=t.DEFAULT_GLOBAL_OPTIONS=t.DEFAULT_HEADERS=void 0;const e=GC();let r="";typeof Deno<"u"?r="deno":typeof document<"u"?r="web":typeof navigator<"u"&&navigator.product==="ReactNative"?r="react-native":r="node",t.DEFAULT_HEADERS={"X-Client-Info":`supabase-js-${r}/${e.version}`},t.DEFAULT_GLOBAL_OPTIONS={headers:t.DEFAULT_HEADERS},t.DEFAULT_DB_OPTIONS={schema:"public"},t.DEFAULT_AUTH_OPTIONS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},t.DEFAULT_REALTIME_OPTIONS={}})(_f)),_f}var Nf={},Z0;function JC(){return Z0||(Z0=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.fetchWithAuth=t.resolveHeadersConstructor=t.resolveFetch=void 0;const e=i=>i?(...l)=>i(...l):(...l)=>fetch(...l);t.resolveFetch=e;const r=()=>Headers;t.resolveHeadersConstructor=r;const o=(i,l,d)=>{const u=(0,t.resolveFetch)(d),h=(0,t.resolveHeadersConstructor)();return async(m,g)=>{var p;const w=(p=await l())!==null&&p!==void 0?p:i;let b=new h(g==null?void 0:g.headers);return b.has("apikey")||b.set("apikey",i),b.has("Authorization")||b.set("Authorization",`Bearer ${w}`),u(m,Object.assign(Object.assign({},g),{headers:b}))}};t.fetchWithAuth=o})(Nf)),Nf}var us={},ev;function YC(){if(ev)return us;ev=1,Object.defineProperty(us,"__esModule",{value:!0}),us.isBrowser=void 0,us.uuid=t,us.ensureTrailingSlash=e,us.applySettingDefaults=o,us.validateSupabaseUrl=i;function t(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(l){var d=Math.random()*16|0,u=l=="x"?d:d&3|8;return u.toString(16)})}function e(l){return l.endsWith("/")?l:l+"/"}const r=()=>typeof window<"u";us.isBrowser=r;function o(l,d){var u,h;const{db:m,auth:g,realtime:p,global:w}=l,{db:b,auth:N,realtime:j,global:_}=d,C={db:Object.assign(Object.assign({},b),m),auth:Object.assign(Object.assign({},N),g),realtime:Object.assign(Object.assign({},j),p),storage:{},global:Object.assign(Object.assign(Object.assign({},_),w),{headers:Object.assign(Object.assign({},(u=_==null?void 0:_.headers)!==null&&u!==void 0?u:{}),(h=w==null?void 0:w.headers)!==null&&h!==void 0?h:{})}),accessToken:async()=>""};return l.accessToken?C.accessToken=l.accessToken:delete C.accessToken,C}function i(l){const d=l==null?void 0:l.trim();if(!d)throw new Error("supabaseUrl is required.");if(!d.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(e(d))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}return us}var vl={};const Xb="2.87.1",Xa=30*1e3,vm=3,Ef=vm*Xa,XC="http://localhost:9999",ZC="supabase.auth.token",ek={"X-Client-Info":`gotrue-js/${Xb}`},ym="X-Supabase-Api-Version",Zb={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},tk=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,rk=600*1e3;let bi=class extends Error{constructor(e,r,o){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=o}};function De(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}let ew=class extends bi{constructor(e,r,o){super(e,r,o),this.name="AuthApiError",this.status=r,this.code=o}};function tw(t){return De(t)&&t.name==="AuthApiError"}let no=class extends bi{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}},Cs=class extends bi{constructor(e,r,o,i){super(e,o,i),this.name=r,this.status=o}},Tr=class extends Cs{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function rw(t){return De(t)&&t.name==="AuthSessionMissingError"}let Wo=class extends Cs{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},El=class extends Cs{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}},Sl=class extends Cs{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function nw(t){return De(t)&&t.name==="AuthImplicitGrantRedirectError"}let bm=class extends Cs{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},Kd=class extends Cs{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}};function Md(t){return De(t)&&t.name==="AuthRetryableFetchError"}let wm=class extends Cs{constructor(e,r,o){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=o}};function nk(t){return De(t)&&t.name==="AuthWeakPasswordError"}let Gd=class extends Cs{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}};const Qd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),tv=` 	
\r=`.split(""),sk=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<tv.length;e+=1)t[tv[e].charCodeAt(0)]=-2;for(let e=0;e<Qd.length;e+=1)t[Qd[e].charCodeAt(0)]=e;return t})();function rv(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const o=e.queue>>e.queuedBits-6&63;r(Qd[o]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const o=e.queue>>e.queuedBits-6&63;r(Qd[o]),e.queuedBits-=6}}function sw(t,e,r){const o=sk[t];if(o>-1)for(e.queue=e.queue<<6|o,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(o===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function nv(t){const e=[],r=d=>{e.push(String.fromCodePoint(d))},o={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},l=d=>{ik(d,o,r)};for(let d=0;d<t.length;d+=1)sw(t.charCodeAt(d),i,l);return e.join("")}function ok(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function ak(t,e){for(let r=0;r<t.length;r+=1){let o=t.charCodeAt(r);if(o>55295&&o<=56319){const i=(o-55296)*1024&65535;o=(t.charCodeAt(r+1)-56320&65535|i)+65536,r+=1}ok(o,e)}}function ik(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let o=1;o<6;o+=1)if((t>>7-o&1)===0){e.utf8seq=o;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function ti(t){const e=[],r={queue:0,queuedBits:0},o=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)sw(t.charCodeAt(i),r,o);return new Uint8Array(e)}function lk(t){const e=[];return ak(t,r=>e.push(r)),new Uint8Array(e)}function Yo(t){const e=[],r={queue:0,queuedBits:0},o=i=>{e.push(i)};return t.forEach(i=>rv(i,r,o)),rv(null,r,o),e.join("")}function ck(t){return Math.round(Date.now()/1e3)+t}function dk(){return Symbol("auth-callback")}const ar=()=>typeof window<"u"&&typeof document<"u",zo={tested:!1,writable:!1},ow=()=>{if(!ar())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(zo.tested)return zo.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),zo.tested=!0,zo.writable=!0}catch{zo.tested=!0,zo.writable=!1}return zo.writable};function uk(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,l)=>{e[l]=i})}catch{}return r.searchParams.forEach((o,i)=>{e[i]=o}),e}const aw=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),hk=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Za=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},Uo=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},or=async(t,e)=>{await t.removeItem(e)};class mu{constructor(){this.promise=new mu.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}mu.promiseConstructor=Promise;function Sf(t){const e=t.split(".");if(e.length!==3)throw new Gd("Invalid JWT structure");for(let o=0;o<e.length;o++)if(!tk.test(e[o]))throw new Gd("JWT not in base64url format");return{header:JSON.parse(nv(e[0])),payload:JSON.parse(nv(e[1])),signature:ti(e[2]),raw:{header:e[0],payload:e[1]}}}async function fk(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function mk(t,e){return new Promise((o,i)=>{(async()=>{for(let l=0;l<1/0;l++)try{const d=await t(l);if(!e(l,null,d)){o(d);return}}catch(d){if(!e(l,d)){i(d);return}}})()})}function pk(t){return("0"+t.toString(16)).substr(-2)}function gk(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",o=r.length;let i="";for(let l=0;l<56;l++)i+=r.charAt(Math.floor(Math.random()*o));return i}return crypto.getRandomValues(e),Array.from(e,pk).join("")}async function xk(t){const r=new TextEncoder().encode(t),o=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(o);return Array.from(i).map(l=>String.fromCharCode(l)).join("")}async function vk(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await xk(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Wa(t,e,r=!1){const o=gk();let i=o;r&&(i+="/PASSWORD_RECOVERY"),await Za(t,`${e}-code-verifier`,i);const l=await vk(o);return[l,o===l?"plain":"s256"]}const yk=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function bk(t){const e=t.headers.get(ym);if(!e||!e.match(yk))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function wk(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function jk(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const _k=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Va(t){if(!_k.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Cf(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const o=r.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Nk(t,e){return new Proxy(t,{get:(r,o,i)=>{if(o==="__isInsecureUserWarningProxy")return!0;if(typeof o=="symbol"){const l=o.toString();if(l==="Symbol(Symbol.toPrimitive)"||l==="Symbol(Symbol.toStringTag)"||l==="Symbol(util.inspect.custom)"||l==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,o,i)}return!e.value&&typeof o=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(r,o,i)}})}function sv(t){return JSON.parse(JSON.stringify(t))}const Vo=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Ek=[502,503,504];async function ov(t){var e;if(!hk(t))throw new Kd(Vo(t),0);if(Ek.includes(t.status))throw new Kd(Vo(t),t.status);let r;try{r=await t.json()}catch(l){throw new no(Vo(l),l)}let o;const i=bk(t);if(i&&i.getTime()>=Zb["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?o=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(o=r.error_code),o){if(o==="weak_password")throw new wm(Vo(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(o==="session_not_found")throw new Tr}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((l,d)=>l&&typeof d=="string",!0))throw new wm(Vo(r),t.status,r.weak_password.reasons);throw new ew(Vo(r),t.status||500,o)}const Sk=(t,e,r,o)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(o),Object.assign(Object.assign({},i),r))};async function ze(t,e,r,o){var i;const l=Object.assign({},o==null?void 0:o.headers);l[ym]||(l[ym]=Zb["2024-01-01"].name),o!=null&&o.jwt&&(l.Authorization=`Bearer ${o.jwt}`);const d=(i=o==null?void 0:o.query)!==null&&i!==void 0?i:{};o!=null&&o.redirectTo&&(d.redirect_to=o.redirectTo);const u=Object.keys(d).length?"?"+new URLSearchParams(d).toString():"",h=await Ck(t,e,r+u,{headers:l,noResolveJson:o==null?void 0:o.noResolveJson},{},o==null?void 0:o.body);return o!=null&&o.xform?o==null?void 0:o.xform(h):{data:Object.assign({},h),error:null}}async function Ck(t,e,r,o,i,l){const d=Sk(e,o,i,l);let u;try{u=await t(r,Object.assign({},d))}catch(h){throw console.error(h),new Kd(Vo(h),0)}if(u.ok||await ov(u),o!=null&&o.noResolveJson)return u;try{return await u.json()}catch(h){await ov(h)}}function xn(t){var e;let r=null;Ak(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=ck(t.expires_in)));const o=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:o},error:null}}function av(t){const e=xn(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,o)=>r&&typeof o=="string",!0)&&(e.data.weak_password=t.weak_password),e}function so(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function kk(t){return{data:t,error:null}}function Rk(t){const{action_link:e,email_otp:r,hashed_token:o,redirect_to:i,verification_type:l}=t,d=No(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),u={action_link:e,email_otp:r,hashed_token:o,redirect_to:i,verification_type:l},h=Object.assign({},d);return{data:{properties:u,user:h},error:null}}function iv(t){return t}function Ak(t){return t.access_token&&t.refresh_token&&t.expires_in}const Dd=["global","local","others"];let sp=class{constructor({url:e="",headers:r={},fetch:o}){this.url=e,this.headers=r,this.fetch=aw(o),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,r=Dd[0]){if(Dd.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Dd.join(", ")}`);try{return await ze(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(o){if(De(o))return{data:null,error:o};throw o}}async inviteUserByEmail(e,r={}){try{return await ze(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:so})}catch(o){if(De(o))return{data:{user:null},error:o};throw o}}async generateLink(e){try{const{options:r}=e,o=No(e,["options"]),i=Object.assign(Object.assign({},o),r);return"newEmail"in o&&(i.new_email=o==null?void 0:o.newEmail,delete i.newEmail),await ze(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:Rk,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(De(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await ze(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:so})}catch(r){if(De(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,o,i,l,d,u,h;try{const m={nextPage:null,lastPage:0,total:0},g=await ze(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(o=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&o!==void 0?o:"",per_page:(l=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&l!==void 0?l:""},xform:iv});if(g.error)throw g.error;const p=await g.json(),w=(d=g.headers.get("x-total-count"))!==null&&d!==void 0?d:0,b=(h=(u=g.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&h!==void 0?h:[];return b.length>0&&(b.forEach(N=>{const j=parseInt(N.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(N.split(";")[1].split("=")[1]);m[`${_}Page`]=j}),m.total=parseInt(w)),{data:Object.assign(Object.assign({},p),m),error:null}}catch(m){if(De(m))return{data:{users:[]},error:m};throw m}}async getUserById(e){Va(e);try{return await ze(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:so})}catch(r){if(De(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){Va(e);try{return await ze(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:so})}catch(o){if(De(o))return{data:{user:null},error:o};throw o}}async deleteUser(e,r=!1){Va(e);try{return await ze(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:so})}catch(o){if(De(o))return{data:{user:null},error:o};throw o}}async _listFactors(e){Va(e.userId);try{const{data:r,error:o}=await ze(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:o}}catch(r){if(De(r))return{data:null,error:r};throw r}}async _deleteFactor(e){Va(e.userId),Va(e.id);try{return{data:await ze(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(De(r))return{data:null,error:r};throw r}}async _listOAuthClients(e){var r,o,i,l,d,u,h;try{const m={nextPage:null,lastPage:0,total:0},g=await ze(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(o=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&o!==void 0?o:"",per_page:(l=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&l!==void 0?l:""},xform:iv});if(g.error)throw g.error;const p=await g.json(),w=(d=g.headers.get("x-total-count"))!==null&&d!==void 0?d:0,b=(h=(u=g.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&h!==void 0?h:[];return b.length>0&&(b.forEach(N=>{const j=parseInt(N.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(N.split(";")[1].split("=")[1]);m[`${_}Page`]=j}),m.total=parseInt(w)),{data:Object.assign(Object.assign({},p),m),error:null}}catch(m){if(De(m))return{data:{clients:[]},error:m};throw m}}async _createOAuthClient(e){try{return await ze(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(De(r))return{data:null,error:r};throw r}}async _getOAuthClient(e){try{return await ze(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(De(r))return{data:null,error:r};throw r}}async _updateOAuthClient(e,r){try{return await ze(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:r,headers:this.headers,xform:o=>({data:o,error:null})})}catch(o){if(De(o))return{data:null,error:o};throw o}}async _deleteOAuthClient(e){try{return await ze(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(De(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(e){try{return await ze(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(De(r))return{data:null,error:r};throw r}}};function lv(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}const Ho={debug:!!(globalThis&&ow()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class op extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}let iw=class extends op{};class Pk extends op{}async function lw(t,e,r){Ho.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const o=new globalThis.AbortController;return e>0&&setTimeout(()=>{o.abort(),Ho.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:o.signal},async i=>{if(i){Ho.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await r()}finally{Ho.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw Ho.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new iw(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Ho.debug)try{const l=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(l,null,"  "))}catch(l){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",l)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}const cv={};async function Tk(t,e,r){var o;const i=(o=cv[t])!==null&&o!==void 0?o:Promise.resolve(),l=Promise.race([i.catch(()=>null),e>=0?new Promise((d,u)=>{setTimeout(()=>{u(new Pk(`Acquring process lock with name "${t}" timed out`))},e)}):null].filter(d=>d)).catch(d=>{if(d&&d.isAcquireTimeout)throw d;return null}).then(async()=>await r());return cv[t]=l.catch(async d=>{if(d&&d.isAcquireTimeout)return await i,null;throw d}),await l}function Ok(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function cw(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function Ik(t){return parseInt(t,16)}function Mk(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,o=>o.toString(16).padStart(2,"0")).join("")}function Dk(t){var e;const{chainId:r,domain:o,expirationTime:i,issuedAt:l=new Date,nonce:d,notBefore:u,requestId:h,resources:m,scheme:g,uri:p,version:w}=t;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!o)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(d&&d.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${d}`);if(!p)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(w!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${w}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const b=cw(t.address),N=g?`${g}://${o}`:o,j=t.statement?`${t.statement}
`:"",_=`${N} wants you to sign in with your Ethereum account:
${b}

${j}`;let C=`URI: ${p}
Version: ${w}
Chain ID: ${r}${d?`
Nonce: ${d}`:""}
Issued At: ${l.toISOString()}`;if(i&&(C+=`
Expiration Time: ${i.toISOString()}`),u&&(C+=`
Not Before: ${u.toISOString()}`),h&&(C+=`
Request ID: ${h}`),m){let E=`
Resources:`;for(const S of m){if(!S||typeof S!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${S}`);E+=`
- ${S}`}C+=E}return`${_}
${C}`}class Ft extends Error{constructor({message:e,code:r,cause:o,name:i}){var l;super(e,{cause:o}),this.__isWebAuthnError=!0,this.name=(l=i??(o instanceof Error?o.name:void 0))!==null&&l!==void 0?l:"Unknown Error",this.code=r}}class Jd extends Ft{constructor(e,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:e}),this.name="WebAuthnUnknownError",this.originalError=r}}function Lk({error:t,options:e}){var r,o,i;const{publicKey:l}=e;if(!l)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Ft({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((r=l.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Ft({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((o=l.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new Ft({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((i=l.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new Ft({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new Ft({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new Ft({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return l.pubKeyCredParams.filter(u=>u.type==="public-key").length===0?new Ft({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new Ft({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const d=window.location.hostname;if(dw(d)){if(l.rp.id!==d)return new Ft({message:`The RP ID "${l.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Ft({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(l.user.id.byteLength<1||l.user.id.byteLength>64)return new Ft({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new Ft({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Ft({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function $k({error:t,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Ft({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new Ft({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const o=window.location.hostname;if(dw(o)){if(r.rpId!==o)return new Ft({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Ft({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new Ft({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Ft({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class Bk{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const Fk=new Bk;function zk(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:r,excludeCredentials:o}=t,i=No(t,["challenge","user","excludeCredentials"]),l=ti(e).buffer,d=Object.assign(Object.assign({},r),{id:ti(r.id).buffer}),u=Object.assign(Object.assign({},i),{challenge:l,user:d});if(o&&o.length>0){u.excludeCredentials=new Array(o.length);for(let h=0;h<o.length;h++){const m=o[h];u.excludeCredentials[h]=Object.assign(Object.assign({},m),{id:ti(m.id).buffer,type:m.type||"public-key",transports:m.transports})}}return u}function Uk(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:r}=t,o=No(t,["challenge","allowCredentials"]),i=ti(e).buffer,l=Object.assign(Object.assign({},o),{challenge:i});if(r&&r.length>0){l.allowCredentials=new Array(r.length);for(let d=0;d<r.length;d++){const u=r[d];l.allowCredentials[d]=Object.assign(Object.assign({},u),{id:ti(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return l}function qk(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t;return{id:t.id,rawId:t.id,response:{attestationObject:Yo(new Uint8Array(t.response.attestationObject)),clientDataJSON:Yo(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Wk(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t,o=t.getClientExtensionResults(),i=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:Yo(new Uint8Array(i.authenticatorData)),clientDataJSON:Yo(new Uint8Array(i.clientDataJSON)),signature:Yo(new Uint8Array(i.signature)),userHandle:i.userHandle?Yo(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:o,authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function dw(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function dv(){var t,e;return!!(ar()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function Vk(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Jd("Browser returned unexpected credential type",e)}:{data:null,error:new Jd("Empty credential response",e)}}catch(e){return{data:null,error:Lk({error:e,options:t})}}}async function Hk(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Jd("Browser returned unexpected credential type",e)}:{data:null,error:new Jd("Empty credential response",e)}}catch(e){return{data:null,error:$k({error:e,options:t})}}}const Kk={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},Gk={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Yd(...t){const e=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),r=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),o={};for(const i of t)if(i)for(const l in i){const d=i[l];if(d!==void 0)if(Array.isArray(d))o[l]=d;else if(r(d))o[l]=d;else if(e(d)){const u=o[l];e(u)?o[l]=Yd(u,d):o[l]=Yd(d)}else o[l]=d}return o}function Qk(t,e){return Yd(Kk,t,e||{})}function Jk(t,e){return Yd(Gk,t,e||{})}class Yk{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:r,friendlyName:o,signal:i},l){try{const{data:d,error:u}=await this.client.mfa.challenge({factorId:e,webauthn:r});if(!d)return{data:null,error:u};const h=i??Fk.createNewAbortSignal();if(d.webauthn.type==="create"){const{user:m}=d.webauthn.credential_options.publicKey;m.name||(m.name=`${m.id}:${o}`),m.displayName||(m.displayName=m.name)}switch(d.webauthn.type){case"create":{const m=Qk(d.webauthn.credential_options.publicKey,l==null?void 0:l.create),{data:g,error:p}=await Vk({publicKey:m,signal:h});return g?{data:{factorId:e,challengeId:d.id,webauthn:{type:d.webauthn.type,credential_response:g}},error:null}:{data:null,error:p}}case"request":{const m=Jk(d.webauthn.credential_options.publicKey,l==null?void 0:l.request),{data:g,error:p}=await Hk(Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:m,signal:h}));return g?{data:{factorId:e,challengeId:d.id,webauthn:{type:d.webauthn.type,credential_response:g}},error:null}:{data:null,error:p}}}}catch(d){return De(d)?{data:null,error:d}:{data:null,error:new no("Unexpected error in challenge",d)}}}async _verify({challengeId:e,factorId:r,webauthn:o}){return this.client.mfa.verify({factorId:r,challengeId:e,webauthn:o})}async _authenticate({factorId:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:o=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},l){if(!r)return{data:null,error:new bi("rpId is required for WebAuthn authentication")};try{if(!dv())return{data:null,error:new no("Browser does not support WebAuthn",null)};const{data:d,error:u}=await this.challenge({factorId:e,webauthn:{rpId:r,rpOrigins:o},signal:i},{request:l});if(!d)return{data:null,error:u};const{webauthn:h}=d;return this._verify({factorId:e,challengeId:d.challengeId,webauthn:{type:h.type,rpId:r,rpOrigins:o,credential_response:h.credential_response}})}catch(d){return De(d)?{data:null,error:d}:{data:null,error:new no("Unexpected error in authenticate",d)}}}async _register({friendlyName:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:o=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},l){if(!r)return{data:null,error:new bi("rpId is required for WebAuthn registration")};try{if(!dv())return{data:null,error:new no("Browser does not support WebAuthn",null)};const{data:d,error:u}=await this._enroll({friendlyName:e});if(!d)return await this.client.mfa.listFactors().then(g=>{var p;return(p=g.data)===null||p===void 0?void 0:p.all.find(w=>w.factor_type==="webauthn"&&w.friendly_name===e&&w.status!=="unverified")}).then(g=>g?this.client.mfa.unenroll({factorId:g==null?void 0:g.id}):void 0),{data:null,error:u};const{data:h,error:m}=await this._challenge({factorId:d.id,friendlyName:d.friendly_name,webauthn:{rpId:r,rpOrigins:o},signal:i},{create:l});return h?this._verify({factorId:d.id,challengeId:h.challengeId,webauthn:{rpId:r,rpOrigins:o,type:h.webauthn.type,credential_response:h.webauthn.credential_response}}):{data:null,error:m}}catch(d){return De(d)?{data:null,error:d}:{data:null,error:new no("Unexpected error in register",d)}}}}Ok();const Xk={url:XC,storageKey:ZC,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:ek,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function uv(t,e,r){return await r()}const Ha={};let ap=class jm{get jwks(){var e,r;return(r=(e=Ha[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){Ha[this.storageKey]=Object.assign(Object.assign({},Ha[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=Ha[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Ha[this.storageKey]=Object.assign(Object.assign({},Ha[this.storageKey]),{cachedAt:e})}constructor(e){var r,o,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const l=Object.assign(Object.assign({},Xk),e);if(this.storageKey=l.storageKey,this.instanceID=(r=jm.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,jm.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!l.debug,typeof l.debug=="function"&&(this.logger=l.debug),this.instanceID>0&&ar()){const d=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(d),this.logDebugMessages&&console.trace(d)}if(this.persistSession=l.persistSession,this.autoRefreshToken=l.autoRefreshToken,this.admin=new sp({url:l.url,headers:l.headers,fetch:l.fetch}),this.url=l.url,this.headers=l.headers,this.fetch=aw(l.fetch),this.lock=l.lock||uv,this.detectSessionInUrl=l.detectSessionInUrl,this.flowType=l.flowType,this.hasCustomAuthorizationHeader=l.hasCustomAuthorizationHeader,this.throwOnError=l.throwOnError,l.lock?this.lock=l.lock:this.persistSession&&ar()&&(!((o=globalThis==null?void 0:globalThis.navigator)===null||o===void 0)&&o.locks)?this.lock=lw:this.lock=uv,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Yk(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(l.storage?this.storage=l.storage:ow()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=lv(this.memoryStorage)),l.userStorage&&(this.userStorage=l.userStorage)):(this.memoryStorage={},this.storage=lv(this.memoryStorage)),ar()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(d){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",d)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async d=>{this._debug("received broadcast notification from other tab or client",d),await this._notifyAllSubscribers(d.data.event,d.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Xb}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let r={},o="none";if(ar()&&(r=uk(window.location.href),this._isImplicitGrantCallback(r)?o="implicit":await this._isPKCECallback(r)&&(o="pkce")),ar()&&this.detectSessionInUrl&&o!=="none"){const{data:i,error:l}=await this._getSessionFromURL(r,o);if(l){if(this._debug("#_initialize()","error detecting session from URL",l),nw(l)){const h=(e=l.details)===null||e===void 0?void 0:e.code;if(h==="identity_already_exists"||h==="identity_not_found"||h==="single_identity_not_deletable")return{error:l}}return await this._removeSession(),{error:l}}const{session:d,redirectType:u}=i;return this._debug("#_initialize()","detected session in URL",d,"redirect type",u),await this._saveSession(d),setTimeout(async()=>{u==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",d):await this._notifyAllSubscribers("SIGNED_IN",d)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return De(r)?this._returnResult({error:r}):this._returnResult({error:new no("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,o,i;try{const l=await ze(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(o=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&o!==void 0?o:{},gotrue_meta_security:{captcha_token:(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.captchaToken}},xform:xn}),{data:d,error:u}=l;if(u||!d)return this._returnResult({data:{user:null,session:null},error:u});const h=d.session,m=d.user;return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",h)),this._returnResult({data:{user:m,session:h},error:null})}catch(l){if(De(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signUp(e){var r,o,i;try{let l;if("email"in e){const{email:g,password:p,options:w}=e;let b=null,N=null;this.flowType==="pkce"&&([b,N]=await Wa(this.storage,this.storageKey)),l=await ze(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:w==null?void 0:w.emailRedirectTo,body:{email:g,password:p,data:(r=w==null?void 0:w.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:w==null?void 0:w.captchaToken},code_challenge:b,code_challenge_method:N},xform:xn})}else if("phone"in e){const{phone:g,password:p,options:w}=e;l=await ze(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:g,password:p,data:(o=w==null?void 0:w.data)!==null&&o!==void 0?o:{},channel:(i=w==null?void 0:w.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:w==null?void 0:w.captchaToken}},xform:xn})}else throw new El("You must provide either an email or phone number and a password");const{data:d,error:u}=l;if(u||!d)return await or(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:u});const h=d.session,m=d.user;return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",h)),this._returnResult({data:{user:m,session:h},error:null})}catch(l){if(await or(this.storage,`${this.storageKey}-code-verifier`),De(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signInWithPassword(e){try{let r;if("email"in e){const{email:l,password:d,options:u}=e;r=await ze(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:l,password:d,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:av})}else if("phone"in e){const{phone:l,password:d,options:u}=e;r=await ze(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:l,password:d,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:av})}else throw new El("You must provide either an email or phone number and a password");const{data:o,error:i}=r;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!o||!o.session||!o.user){const l=new Wo;return this._returnResult({data:{user:null,session:null},error:l})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:Object.assign({user:o.user,session:o.session},o.weak_password?{weakPassword:o.weak_password}:null),error:i})}catch(r){if(De(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(e){var r,o,i,l;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(o=e.options)===null||o===void 0?void 0:o.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(l=e.options)===null||l===void 0?void 0:l.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,o,i,l,d,u,h,m,g,p,w;let b,N;if("message"in e)b=e.message,N=e.signature;else{const{chain:j,wallet:_,statement:C,options:E}=e;let S;if(ar())if(typeof _=="object")S=_;else{const ue=window;if("ethereum"in ue&&typeof ue.ethereum=="object"&&"request"in ue.ethereum&&typeof ue.ethereum.request=="function")S=ue.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof _!="object"||!(E!=null&&E.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");S=_}const T=new URL((r=E==null?void 0:E.url)!==null&&r!==void 0?r:window.location.href),q=await S.request({method:"eth_requestAccounts"}).then(ue=>ue).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!q||q.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const A=cw(q[0]);let U=(o=E==null?void 0:E.signInWithEthereum)===null||o===void 0?void 0:o.chainId;if(!U){const ue=await S.request({method:"eth_chainId"});U=Ik(ue)}const K={domain:T.host,address:A,statement:C,uri:T.href,version:"1",chainId:U,nonce:(i=E==null?void 0:E.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(d=(l=E==null?void 0:E.signInWithEthereum)===null||l===void 0?void 0:l.issuedAt)!==null&&d!==void 0?d:new Date,expirationTime:(u=E==null?void 0:E.signInWithEthereum)===null||u===void 0?void 0:u.expirationTime,notBefore:(h=E==null?void 0:E.signInWithEthereum)===null||h===void 0?void 0:h.notBefore,requestId:(m=E==null?void 0:E.signInWithEthereum)===null||m===void 0?void 0:m.requestId,resources:(g=E==null?void 0:E.signInWithEthereum)===null||g===void 0?void 0:g.resources};b=Dk(K),N=await S.request({method:"personal_sign",params:[Mk(b),A]})}try{const{data:j,error:_}=await ze(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:b,signature:N},!((p=e.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(w=e.options)===null||w===void 0?void 0:w.captchaToken}}:null),xform:xn});if(_)throw _;if(!j||!j.session||!j.user){const C=new Wo;return this._returnResult({data:{user:null,session:null},error:C})}return j.session&&(await this._saveSession(j.session),await this._notifyAllSubscribers("SIGNED_IN",j.session)),this._returnResult({data:Object.assign({},j),error:_})}catch(j){if(De(j))return this._returnResult({data:{user:null,session:null},error:j});throw j}}async signInWithSolana(e){var r,o,i,l,d,u,h,m,g,p,w,b;let N,j;if("message"in e)N=e.message,j=e.signature;else{const{chain:_,wallet:C,statement:E,options:S}=e;let T;if(ar())if(typeof C=="object")T=C;else{const A=window;if("solana"in A&&typeof A.solana=="object"&&("signIn"in A.solana&&typeof A.solana.signIn=="function"||"signMessage"in A.solana&&typeof A.solana.signMessage=="function"))T=A.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof C!="object"||!(S!=null&&S.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");T=C}const q=new URL((r=S==null?void 0:S.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in T&&T.signIn){const A=await T.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},S==null?void 0:S.signInWithSolana),{version:"1",domain:q.host,uri:q.href}),E?{statement:E}:null));let U;if(Array.isArray(A)&&A[0]&&typeof A[0]=="object")U=A[0];else if(A&&typeof A=="object"&&"signedMessage"in A&&"signature"in A)U=A;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in U&&"signature"in U&&(typeof U.signedMessage=="string"||U.signedMessage instanceof Uint8Array)&&U.signature instanceof Uint8Array)N=typeof U.signedMessage=="string"?U.signedMessage:new TextDecoder().decode(U.signedMessage),j=U.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in T)||typeof T.signMessage!="function"||!("publicKey"in T)||typeof T!="object"||!T.publicKey||!("toBase58"in T.publicKey)||typeof T.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");N=[`${q.host} wants you to sign in with your Solana account:`,T.publicKey.toBase58(),...E?["",E,""]:[""],"Version: 1",`URI: ${q.href}`,`Issued At: ${(i=(o=S==null?void 0:S.signInWithSolana)===null||o===void 0?void 0:o.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((l=S==null?void 0:S.signInWithSolana)===null||l===void 0)&&l.notBefore?[`Not Before: ${S.signInWithSolana.notBefore}`]:[],...!((d=S==null?void 0:S.signInWithSolana)===null||d===void 0)&&d.expirationTime?[`Expiration Time: ${S.signInWithSolana.expirationTime}`]:[],...!((u=S==null?void 0:S.signInWithSolana)===null||u===void 0)&&u.chainId?[`Chain ID: ${S.signInWithSolana.chainId}`]:[],...!((h=S==null?void 0:S.signInWithSolana)===null||h===void 0)&&h.nonce?[`Nonce: ${S.signInWithSolana.nonce}`]:[],...!((m=S==null?void 0:S.signInWithSolana)===null||m===void 0)&&m.requestId?[`Request ID: ${S.signInWithSolana.requestId}`]:[],...!((p=(g=S==null?void 0:S.signInWithSolana)===null||g===void 0?void 0:g.resources)===null||p===void 0)&&p.length?["Resources",...S.signInWithSolana.resources.map(U=>`- ${U}`)]:[]].join(`
`);const A=await T.signMessage(new TextEncoder().encode(N),"utf8");if(!A||!(A instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");j=A}}try{const{data:_,error:C}=await ze(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:N,signature:Yo(j)},!((w=e.options)===null||w===void 0)&&w.captchaToken?{gotrue_meta_security:{captcha_token:(b=e.options)===null||b===void 0?void 0:b.captchaToken}}:null),xform:xn});if(C)throw C;if(!_||!_.session||!_.user){const E=new Wo;return this._returnResult({data:{user:null,session:null},error:E})}return _.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),this._returnResult({data:Object.assign({},_),error:C})}catch(_){if(De(_))return this._returnResult({data:{user:null,session:null},error:_});throw _}}async _exchangeCodeForSession(e){const r=await Uo(this.storage,`${this.storageKey}-code-verifier`),[o,i]=(r??"").split("/");try{const{data:l,error:d}=await ze(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:o},xform:xn});if(await or(this.storage,`${this.storageKey}-code-verifier`),d)throw d;if(!l||!l.session||!l.user){const u=new Wo;return this._returnResult({data:{user:null,session:null,redirectType:null},error:u})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:Object.assign(Object.assign({},l),{redirectType:i??null}),error:d})}catch(l){if(await or(this.storage,`${this.storageKey}-code-verifier`),De(l))return this._returnResult({data:{user:null,session:null,redirectType:null},error:l});throw l}}async signInWithIdToken(e){try{const{options:r,provider:o,token:i,access_token:l,nonce:d}=e,u=await ze(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:o,id_token:i,access_token:l,nonce:d,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:xn}),{data:h,error:m}=u;if(m)return this._returnResult({data:{user:null,session:null},error:m});if(!h||!h.session||!h.user){const g=new Wo;return this._returnResult({data:{user:null,session:null},error:g})}return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",h.session)),this._returnResult({data:h,error:m})}catch(r){if(De(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(e){var r,o,i,l,d;try{if("email"in e){const{email:u,options:h}=e;let m=null,g=null;this.flowType==="pkce"&&([m,g]=await Wa(this.storage,this.storageKey));const{error:p}=await ze(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:u,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},create_user:(o=h==null?void 0:h.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:m,code_challenge_method:g},redirectTo:h==null?void 0:h.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:p})}if("phone"in e){const{phone:u,options:h}=e,{data:m,error:g}=await ze(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:u,data:(i=h==null?void 0:h.data)!==null&&i!==void 0?i:{},create_user:(l=h==null?void 0:h.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},channel:(d=h==null?void 0:h.channel)!==null&&d!==void 0?d:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:m==null?void 0:m.message_id},error:g})}throw new El("You must provide either an email or phone number.")}catch(u){if(await or(this.storage,`${this.storageKey}-code-verifier`),De(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async verifyOtp(e){var r,o;try{let i,l;"options"in e&&(i=(r=e.options)===null||r===void 0?void 0:r.redirectTo,l=(o=e.options)===null||o===void 0?void 0:o.captchaToken);const{data:d,error:u}=await ze(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:l}}),redirectTo:i,xform:xn});if(u)throw u;if(!d)throw new Error("An error occurred on token verification.");const h=d.session,m=d.user;return h!=null&&h.access_token&&(await this._saveSession(h),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",h)),this._returnResult({data:{user:m,session:h},error:null})}catch(i){if(De(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(e){var r,o,i,l,d;try{let u=null,h=null;this.flowType==="pkce"&&([u,h]=await Wa(this.storage,this.storageKey));const m=await ze(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(o=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&o!==void 0?o:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:u,code_challenge_method:h}),headers:this.headers,xform:kk});return!((l=m.data)===null||l===void 0)&&l.url&&ar()&&!(!((d=e.options)===null||d===void 0)&&d.skipBrowserRedirect)&&window.location.assign(m.data.url),this._returnResult(m)}catch(u){if(await or(this.storage,`${this.storageKey}-code-verifier`),De(u))return this._returnResult({data:null,error:u});throw u}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:o}=e;if(o)throw o;if(!r)throw new Tr;const{error:i}=await ze(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(e){if(De(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:o,type:i,options:l}=e,{error:d}=await ze(this.fetch,"POST",r,{headers:this.headers,body:{email:o,type:i,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:d})}else if("phone"in e){const{phone:o,type:i,options:l}=e,{data:d,error:u}=await ze(this.fetch,"POST",r,{headers:this.headers,body:{phone:o,type:i,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:u})}throw new El("You must provide either an email or phone number and a type")}catch(r){if(De(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const o=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await o,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const o=r();for(this.pendingInLock.push((async()=>{try{await o}catch{}})()),await o;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await o}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await Uo(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const o=e.expires_at?e.expires_at*1e3-Date.now()<Ef:!1;if(this._debug("#__loadSession()",`session has${o?"":" not"} expired`,"expires_at",e.expires_at),!o){if(this.userStorage){const d=await Uo(this.userStorage,this.storageKey+"-user");d!=null&&d.user?e.user=d.user:e.user=Cf()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const d={value:this.suppressGetSessionWarning};e.user=Nk(e.user,d),d.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:i,error:l}=await this._callRefreshToken(e.refresh_token);return l?this._returnResult({data:{session:null},error:l}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const r=await this._acquireLock(-1,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(e){try{return e?await ze(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:so}):await this._useSession(async r=>{var o,i,l;const{data:d,error:u}=r;if(u)throw u;return!(!((o=d.session)===null||o===void 0)&&o.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Tr}:await ze(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(l=(i=d.session)===null||i===void 0?void 0:i.access_token)!==null&&l!==void 0?l:void 0,xform:so})})}catch(r){if(De(r))return rw(r)&&(await this._removeSession(),await or(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async o=>{const{data:i,error:l}=o;if(l)throw l;if(!i.session)throw new Tr;const d=i.session;let u=null,h=null;this.flowType==="pkce"&&e.email!=null&&([u,h]=await Wa(this.storage,this.storageKey));const{data:m,error:g}=await ze(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:u,code_challenge_method:h}),jwt:d.access_token,xform:so});if(g)throw g;return d.user=m.user,await this._saveSession(d),await this._notifyAllSubscribers("USER_UPDATED",d),this._returnResult({data:{user:d.user},error:null})})}catch(o){if(await or(this.storage,`${this.storageKey}-code-verifier`),De(o))return this._returnResult({data:{user:null},error:o});throw o}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Tr;const r=Date.now()/1e3;let o=r,i=!0,l=null;const{payload:d}=Sf(e.access_token);if(d.exp&&(o=d.exp,i=o<=r),i){const{data:u,error:h}=await this._callRefreshToken(e.refresh_token);if(h)return this._returnResult({data:{user:null,session:null},error:h});if(!u)return{data:{user:null,session:null},error:null};l=u}else{const{data:u,error:h}=await this._getUser(e.access_token);if(h)throw h;l={access_token:e.access_token,refresh_token:e.refresh_token,user:u.user,token_type:"bearer",expires_in:o-r,expires_at:o},await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)}return this._returnResult({data:{user:l.user,session:l},error:null})}catch(r){if(De(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var o;if(!e){const{data:d,error:u}=r;if(u)throw u;e=(o=d.session)!==null&&o!==void 0?o:void 0}if(!(e!=null&&e.refresh_token))throw new Tr;const{data:i,error:l}=await this._callRefreshToken(e.refresh_token);return l?this._returnResult({data:{user:null,session:null},error:l}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(De(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(e,r){try{if(!ar())throw new Sl("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Sl(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new bm("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Sl("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new bm("No code detected.");const{data:E,error:S}=await this._exchangeCodeForSession(e.code);if(S)throw S;const T=new URL(window.location.href);return T.searchParams.delete("code"),window.history.replaceState(window.history.state,"",T.toString()),{data:{session:E.session,redirectType:null},error:null}}const{provider_token:o,provider_refresh_token:i,access_token:l,refresh_token:d,expires_in:u,expires_at:h,token_type:m}=e;if(!l||!u||!d||!m)throw new Sl("No session defined in URL");const g=Math.round(Date.now()/1e3),p=parseInt(u);let w=g+p;h&&(w=parseInt(h));const b=w-g;b*1e3<=Xa&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${b}s, should have been closer to ${p}s`);const N=w-p;g-N>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",N,w,g):g-N<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",N,w,g);const{data:j,error:_}=await this._getUser(l);if(_)throw _;const C={provider_token:o,provider_refresh_token:i,access_token:l,expires_in:p,expires_at:w,refresh_token:d,token_type:m,user:j.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:C,redirectType:e.type},error:null})}catch(o){if(De(o))return this._returnResult({data:{session:null,redirectType:null},error:o});throw o}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await Uo(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var o;const{data:i,error:l}=r;if(l)return this._returnResult({error:l});const d=(o=i.session)===null||o===void 0?void 0:o.access_token;if(d){const{error:u}=await this.admin.signOut(d,e);if(u&&!(tw(u)&&(u.status===404||u.status===401||u.status===403)))return this._returnResult({error:u})}return e!=="others"&&(await this._removeSession(),await or(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const r=dk(),o={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,o),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:o}}}async _emitInitialSession(e){return await this._useSession(async r=>{var o,i;try{const{data:{session:l},error:d}=r;if(d)throw d;await((o=this.stateChangeEmitters.get(e))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",l)),this._debug("INITIAL_SESSION","callback id",e,"session",l)}catch(l){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",l),console.error(l)}})}async resetPasswordForEmail(e,r={}){let o=null,i=null;this.flowType==="pkce"&&([o,i]=await Wa(this.storage,this.storageKey,!0));try{return await ze(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:o,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(l){if(await or(this.storage,`${this.storageKey}-code-verifier`),De(l))return this._returnResult({data:null,error:l});throw l}}async getUserIdentities(){var e;try{const{data:r,error:o}=await this.getUser();if(o)throw o;return this._returnResult({data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(r){if(De(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var r;try{const{data:o,error:i}=await this._useSession(async l=>{var d,u,h,m,g;const{data:p,error:w}=l;if(w)throw w;const b=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(d=e.options)===null||d===void 0?void 0:d.redirectTo,scopes:(u=e.options)===null||u===void 0?void 0:u.scopes,queryParams:(h=e.options)===null||h===void 0?void 0:h.queryParams,skipBrowserRedirect:!0});return await ze(this.fetch,"GET",b,{headers:this.headers,jwt:(g=(m=p.session)===null||m===void 0?void 0:m.access_token)!==null&&g!==void 0?g:void 0})});if(i)throw i;return ar()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(o==null?void 0:o.url),this._returnResult({data:{provider:e.provider,url:o==null?void 0:o.url},error:null})}catch(o){if(De(o))return this._returnResult({data:{provider:e.provider,url:null},error:o});throw o}}async linkIdentityIdToken(e){return await this._useSession(async r=>{var o;try{const{error:i,data:{session:l}}=r;if(i)throw i;const{options:d,provider:u,token:h,access_token:m,nonce:g}=e,p=await ze(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(o=l==null?void 0:l.access_token)!==null&&o!==void 0?o:void 0,body:{provider:u,id_token:h,access_token:m,nonce:g,link_identity:!0,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},xform:xn}),{data:w,error:b}=p;return b?this._returnResult({data:{user:null,session:null},error:b}):!w||!w.session||!w.user?this._returnResult({data:{user:null,session:null},error:new Wo}):(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("USER_UPDATED",w.session)),this._returnResult({data:w,error:b}))}catch(i){if(await or(this.storage,`${this.storageKey}-code-verifier`),De(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(e){try{return await this._useSession(async r=>{var o,i;const{data:l,error:d}=r;if(d)throw d;return await ze(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(o=l.session)===null||o===void 0?void 0:o.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(De(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const o=Date.now();return await mk(async i=>(i>0&&await fk(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await ze(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:xn})),(i,l)=>{const d=200*Math.pow(2,i);return l&&Md(l)&&Date.now()+d-o<Xa})}catch(o){if(this._debug(r,"error",o),De(o))return this._returnResult({data:{session:null,user:null},error:o});throw o}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const o=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",o),ar()&&!r.skipBrowserRedirect&&window.location.assign(o),{data:{provider:e,url:o},error:null}}async _recoverAndRefresh(){var e,r;const o="#_recoverAndRefresh()";this._debug(o,"begin");try{const i=await Uo(this.storage,this.storageKey);if(i&&this.userStorage){let d=await Uo(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!d&&(d={user:i.user},await Za(this.userStorage,this.storageKey+"-user",d)),i.user=(e=d==null?void 0:d.user)!==null&&e!==void 0?e:Cf()}else if(i&&!i.user&&!i.user){const d=await Uo(this.storage,this.storageKey+"-user");d&&(d!=null&&d.user)?(i.user=d.user,await or(this.storage,this.storageKey+"-user"),await Za(this.storage,this.storageKey,i)):i.user=Cf()}if(this._debug(o,"session from storage",i),!this._isValidSession(i)){this._debug(o,"session is not valid"),i!==null&&await this._removeSession();return}const l=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Ef;if(this._debug(o,`session has${l?"":" not"} expired with margin of ${Ef}s`),l){if(this.autoRefreshToken&&i.refresh_token){const{error:d}=await this._callRefreshToken(i.refresh_token);d&&(console.error(d),Md(d)||(this._debug(o,"refresh failed with a non-retryable error, removing the session",d),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:d,error:u}=await this._getUser(i.access_token);!u&&(d!=null&&d.user)?(i.user=d.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(o,"could not get user data, skipping SIGNED_IN notification")}catch(d){console.error("Error getting user data:",d),this._debug(o,"error getting user data, skipping SIGNED_IN notification",d)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(o,"error",i),console.error(i);return}finally{this._debug(o,"end")}}async _callRefreshToken(e){var r,o;if(!e)throw new Tr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new mu;const{data:l,error:d}=await this._refreshAccessToken(e);if(d)throw d;if(!l.session)throw new Tr;await this._saveSession(l.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",l.session);const u={data:l.session,error:null};return this.refreshingDeferred.resolve(u),u}catch(l){if(this._debug(i,"error",l),De(l)){const d={data:null,error:l};return Md(l)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(d),d}throw(o=this.refreshingDeferred)===null||o===void 0||o.reject(l),l}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,r,o=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",r,`broadcast = ${o}`);try{this.broadcastChannel&&o&&this.broadcastChannel.postMessage({event:e,session:r});const l=[],d=Array.from(this.stateChangeEmitters.values()).map(async u=>{try{await u.callback(e,r)}catch(h){l.push(h)}});if(await Promise.all(d),l.length>0){for(let u=0;u<l.length;u+=1)console.error(l[u]);throw l[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await or(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},e),o=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!o&&r.user&&await Za(this.userStorage,this.storageKey+"-user",{user:r.user});const i=Object.assign({},r);delete i.user;const l=sv(i);await Za(this.storage,this.storageKey,l)}else{const i=sv(r);await Za(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await or(this.storage,this.storageKey),await or(this.storage,this.storageKey+"-code-verifier"),await or(this.storage,this.storageKey+"-user"),this.userStorage&&await or(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&ar()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Xa);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:o}}=r;if(!o||!o.refresh_token||!o.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((o.expires_at*1e3-e)/Xa);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Xa}ms, refresh threshold is ${vm} ticks`),i<=vm&&await this._callRefreshToken(o.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof op)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ar()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,o){const i=[`provider=${encodeURIComponent(r)}`];if(o!=null&&o.redirectTo&&i.push(`redirect_to=${encodeURIComponent(o.redirectTo)}`),o!=null&&o.scopes&&i.push(`scopes=${encodeURIComponent(o.scopes)}`),this.flowType==="pkce"){const[l,d]=await Wa(this.storage,this.storageKey),u=new URLSearchParams({code_challenge:`${encodeURIComponent(l)}`,code_challenge_method:`${encodeURIComponent(d)}`});i.push(u.toString())}if(o!=null&&o.queryParams){const l=new URLSearchParams(o.queryParams);i.push(l.toString())}return o!=null&&o.skipBrowserRedirect&&i.push(`skip_http_redirect=${o.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var o;const{data:i,error:l}=r;return l?this._returnResult({data:null,error:l}):await ze(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(o=i==null?void 0:i.session)===null||o===void 0?void 0:o.access_token})})}catch(r){if(De(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(e){try{return await this._useSession(async r=>{var o,i;const{data:l,error:d}=r;if(d)return this._returnResult({data:null,error:d});const u=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:h,error:m}=await ze(this.fetch,"POST",`${this.url}/factors`,{body:u,headers:this.headers,jwt:(o=l==null?void 0:l.session)===null||o===void 0?void 0:o.access_token});return m?this._returnResult({data:null,error:m}):(e.factorType==="totp"&&h.type==="totp"&&(!((i=h==null?void 0:h.totp)===null||i===void 0)&&i.qr_code)&&(h.totp.qr_code=`data:image/svg+xml;utf-8,${h.totp.qr_code}`),this._returnResult({data:h,error:null}))})}catch(r){if(De(r))return this._returnResult({data:null,error:r});throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var o;const{data:i,error:l}=r;if(l)return this._returnResult({data:null,error:l});const d=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?qk(e.webauthn.credential_response):Wk(e.webauthn.credential_response)})}:{code:e.code}),{data:u,error:h}=await ze(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:d,headers:this.headers,jwt:(o=i==null?void 0:i.session)===null||o===void 0?void 0:o.access_token});return h?this._returnResult({data:null,error:h}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+u.expires_in},u)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",u),this._returnResult({data:u,error:h}))})}catch(r){if(De(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var o;const{data:i,error:l}=r;if(l)return this._returnResult({data:null,error:l});const d=await ze(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(o=i==null?void 0:i.session)===null||o===void 0?void 0:o.access_token});if(d.error)return d;const{data:u}=d;if(u.type!=="webauthn")return{data:u,error:null};switch(u.webauthn.type){case"create":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:zk(u.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:Uk(u.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(De(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(e){const{data:r,error:o}=await this._challenge({factorId:e.factorId});return o?this._returnResult({data:null,error:o}):await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){var e;const{data:{user:r},error:o}=await this.getUser();if(o)return{data:null,error:o};const i={all:[],phone:[],totp:[],webauthn:[]};for(const l of(e=r==null?void 0:r.factors)!==null&&e!==void 0?e:[])i.all.push(l),l.status==="verified"&&i[l.factor_type].push(l);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var e,r;const{data:{session:o},error:i}=await this.getSession();if(i)return this._returnResult({data:null,error:i});if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=Sf(o.access_token);let d=null;l.aal&&(d=l.aal);let u=d;((r=(e=o.user.factors)===null||e===void 0?void 0:e.filter(g=>g.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(u="aal2");const m=l.amr||[];return{data:{currentLevel:d,nextLevel:u,currentAuthenticationMethods:m},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async r=>{const{data:{session:o},error:i}=r;return i?this._returnResult({data:null,error:i}):o?await ze(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:o.access_token,xform:l=>({data:l,error:null})}):this._returnResult({data:null,error:new Tr})})}catch(r){if(De(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(e,r){try{return await this._useSession(async o=>{const{data:{session:i},error:l}=o;if(l)return this._returnResult({data:null,error:l});if(!i)return this._returnResult({data:null,error:new Tr});const d=await ze(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:u=>({data:u,error:null})});return d.data&&d.data.redirect_url&&ar()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(d.data.redirect_url),d})}catch(o){if(De(o))return this._returnResult({data:null,error:o});throw o}}async _denyAuthorization(e,r){try{return await this._useSession(async o=>{const{data:{session:i},error:l}=o;if(l)return this._returnResult({data:null,error:l});if(!i)return this._returnResult({data:null,error:new Tr});const d=await ze(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:u=>({data:u,error:null})});return d.data&&d.data.redirect_url&&ar()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(d.data.redirect_url),d})}catch(o){if(De(o))return this._returnResult({data:null,error:o});throw o}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:r},error:o}=e;return o?this._returnResult({data:null,error:o}):r?await ze(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new Tr})})}catch(e){if(De(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async r=>{const{data:{session:o},error:i}=r;return i?this._returnResult({data:null,error:i}):o?(await ze(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:o.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Tr})})}catch(r){if(De(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(e,r={keys:[]}){let o=r.keys.find(u=>u.kid===e);if(o)return o;const i=Date.now();if(o=this.jwks.keys.find(u=>u.kid===e),o&&this.jwks_cached_at+rk>i)return o;const{data:l,error:d}=await ze(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(d)throw d;return!l.keys||l.keys.length===0||(this.jwks=l,this.jwks_cached_at=i,o=l.keys.find(u=>u.kid===e),!o)?null:o}async getClaims(e,r={}){try{let o=e;if(!o){const{data:b,error:N}=await this.getSession();if(N||!b.session)return this._returnResult({data:null,error:N});o=b.session.access_token}const{header:i,payload:l,signature:d,raw:{header:u,payload:h}}=Sf(o);r!=null&&r.allowExpired||wk(l.exp);const m=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!m){const{error:b}=await this.getUser(o);if(b)throw b;return{data:{claims:l,header:i,signature:d},error:null}}const g=jk(i.alg),p=await crypto.subtle.importKey("jwk",m,g,!0,["verify"]);if(!await crypto.subtle.verify(g,p,d,lk(`${u}.${h}`)))throw new Gd("Invalid JWT signature");return{data:{claims:l,header:i,signature:d},error:null}}catch(o){if(De(o))return this._returnResult({data:null,error:o});throw o}}};ap.nextInstanceID={};const Zk=sp,eR=ap,tR=Object.freeze(Object.defineProperty({__proto__:null,AuthAdminApi:Zk,AuthApiError:ew,AuthClient:eR,AuthError:bi,AuthImplicitGrantRedirectError:Sl,AuthInvalidCredentialsError:El,AuthInvalidJwtError:Gd,AuthInvalidTokenResponseError:Wo,AuthPKCEGrantCodeExchangeError:bm,AuthRetryableFetchError:Kd,AuthSessionMissingError:Tr,AuthUnknownError:no,AuthWeakPasswordError:wm,CustomAuthError:Cs,GoTrueAdminApi:sp,GoTrueClient:ap,NavigatorLockAcquireTimeoutError:iw,SIGN_OUT_SCOPES:Dd,isAuthApiError:tw,isAuthError:De,isAuthImplicitGrantRedirectError:nw,isAuthRetryableFetchError:Md,isAuthSessionMissingError:rw,isAuthWeakPasswordError:nk,lockInternals:Ho,navigatorLock:lw,processLock:Tk},Symbol.toStringTag,{value:"Module"})),uw=ql(tR);var hv;function rR(){if(hv)return vl;hv=1,Object.defineProperty(vl,"__esModule",{value:!0}),vl.SupabaseAuthClient=void 0;const t=uw;let e=class extends t.AuthClient{constructor(o){super(o)}};return vl.SupabaseAuthClient=e,vl}var fv;function mv(){if(fv)return cd;fv=1,Object.defineProperty(cd,"__esModule",{value:!0});const t=Nb,e=Ab(),r=$b,o=KC,i=QC(),l=JC(),d=YC(),u=rR();class h{constructor(g,p,w){var b,N,j;this.supabaseUrl=g,this.supabaseKey=p;const _=(0,d.validateSupabaseUrl)(g);if(!p)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",_),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",_),this.storageUrl=new URL("storage/v1",_),this.functionsUrl=new URL("functions/v1",_);const C=`sb-${_.hostname.split(".")[0]}-auth-token`,E={db:i.DEFAULT_DB_OPTIONS,realtime:i.DEFAULT_REALTIME_OPTIONS,auth:Object.assign(Object.assign({},i.DEFAULT_AUTH_OPTIONS),{storageKey:C}),global:i.DEFAULT_GLOBAL_OPTIONS},S=(0,d.applySettingDefaults)(w??{},E);this.storageKey=(b=S.auth.storageKey)!==null&&b!==void 0?b:"",this.headers=(N=S.global.headers)!==null&&N!==void 0?N:{},S.accessToken?(this.accessToken=S.accessToken,this.auth=new Proxy({},{get:(T,q)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(q)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((j=S.auth)!==null&&j!==void 0?j:{},this.headers,S.global.fetch),this.fetch=(0,l.fetchWithAuth)(p,this._getAccessToken.bind(this),S.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},S.realtime)),this.accessToken&&this.accessToken().then(T=>this.realtime.setAuth(T)).catch(T=>console.warn("Failed to set initial Realtime auth token:",T)),this.rest=new e.PostgrestClient(new URL("rest/v1",_).href,{headers:this.headers,schema:S.db.schema,fetch:this.fetch}),this.storage=new o.StorageClient(this.storageUrl.href,this.headers,this.fetch,w==null?void 0:w.storage),S.accessToken||this._listenForAuthEvents()}get functions(){return new t.FunctionsClient(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(g){return this.rest.from(g)}schema(g){return this.rest.schema(g)}rpc(g,p={},w={head:!1,get:!1,count:void 0}){return this.rest.rpc(g,p,w)}channel(g,p={config:{}}){return this.realtime.channel(g,p)}getChannels(){return this.realtime.getChannels()}removeChannel(g){return this.realtime.removeChannel(g)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var g,p;if(this.accessToken)return await this.accessToken();const{data:w}=await this.auth.getSession();return(p=(g=w.session)===null||g===void 0?void 0:g.access_token)!==null&&p!==void 0?p:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:g,persistSession:p,detectSessionInUrl:w,storage:b,userStorage:N,storageKey:j,flowType:_,lock:C,debug:E,throwOnError:S},T,q){const A={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new u.SupabaseAuthClient({url:this.authUrl.href,headers:Object.assign(Object.assign({},A),T),storageKey:j,autoRefreshToken:g,persistSession:p,detectSessionInUrl:w,storage:b,userStorage:N,flowType:_,lock:C,debug:E,throwOnError:S,fetch:q,hasCustomAuthorizationHeader:Object.keys(this.headers).some(U=>U.toLowerCase()==="authorization")})}_initRealtimeClient(g){return new r.RealtimeClient(this.realtimeUrl.href,Object.assign(Object.assign({},g),{params:Object.assign({apikey:this.supabaseKey},g==null?void 0:g.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((p,w)=>{this._handleTokenChanged(p,"CLIENT",w==null?void 0:w.access_token)})}_handleTokenChanged(g,p,w){(g==="TOKEN_REFRESHED"||g==="SIGNED_IN")&&this.changedAccessToken!==w?(this.changedAccessToken=w,this.realtime.setAuth(w)):g==="SIGNED_OUT"&&(this.realtime.setAuth(),p=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}return cd.default=h,cd}var pv;function nR(){return pv||(pv=1,(function(t){var e=ds&&ds.__createBinding||(Object.create?(function(g,p,w,b){b===void 0&&(b=w);var N=Object.getOwnPropertyDescriptor(p,w);(!N||("get"in N?!p.__esModule:N.writable||N.configurable))&&(N={enumerable:!0,get:function(){return p[w]}}),Object.defineProperty(g,b,N)}):(function(g,p,w,b){b===void 0&&(b=w),g[b]=p[w]})),r=ds&&ds.__exportStar||function(g,p){for(var w in g)w!=="default"&&!Object.prototype.hasOwnProperty.call(p,w)&&e(p,g,w)},o=ds&&ds.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(t,"__esModule",{value:!0}),t.createClient=t.SupabaseClient=t.FunctionRegion=t.FunctionsError=t.FunctionsRelayError=t.FunctionsFetchError=t.FunctionsHttpError=t.PostgrestError=void 0;const i=o(mv());r(uw,t);var l=Ab();Object.defineProperty(t,"PostgrestError",{enumerable:!0,get:function(){return l.PostgrestError}});var d=Nb;Object.defineProperty(t,"FunctionsHttpError",{enumerable:!0,get:function(){return d.FunctionsHttpError}}),Object.defineProperty(t,"FunctionsFetchError",{enumerable:!0,get:function(){return d.FunctionsFetchError}}),Object.defineProperty(t,"FunctionsRelayError",{enumerable:!0,get:function(){return d.FunctionsRelayError}}),Object.defineProperty(t,"FunctionsError",{enumerable:!0,get:function(){return d.FunctionsError}}),Object.defineProperty(t,"FunctionRegion",{enumerable:!0,get:function(){return d.FunctionRegion}}),r($b,t);var u=mv();Object.defineProperty(t,"SupabaseClient",{enumerable:!0,get:function(){return o(u).default}});const h=(g,p,w)=>new i.default(g,p,w);t.createClient=h;function m(){if(typeof window<"u"||typeof process>"u")return!1;const g=process.version;if(g==null)return!1;const p=g.match(/^v(\d+)\./);return p?parseInt(p[1],10)<=18:!1}m()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217")})(ds)),ds}var hw=nR();const fw=lu(hw),sR=jy({__proto__:null,default:fw},[hw]),{PostgrestError:wD,FunctionsHttpError:jD,FunctionsFetchError:_D,FunctionsRelayError:ND,FunctionsError:ED,FunctionRegion:SD,SupabaseClient:CD,createClient:oR,GoTrueAdminApi:kD,GoTrueClient:RD,AuthAdminApi:AD,AuthClient:PD,navigatorLock:TD,NavigatorLockAcquireTimeoutError:OD,lockInternals:ID,processLock:MD,SIGN_OUT_SCOPES:DD,AuthError:LD,AuthApiError:$D,AuthUnknownError:BD,CustomAuthError:FD,AuthSessionMissingError:zD,AuthInvalidTokenResponseError:UD,AuthInvalidCredentialsError:qD,AuthImplicitGrantRedirectError:WD,AuthPKCEGrantCodeExchangeError:VD,AuthRetryableFetchError:HD,AuthWeakPasswordError:KD,AuthInvalidJwtError:GD,isAuthError:QD,isAuthApiError:JD,isAuthSessionMissingError:YD,isAuthImplicitGrantRedirectError:XD,isAuthRetryableFetchError:ZD,isAuthWeakPasswordError:e3,RealtimePresence:t3,RealtimeChannel:r3,RealtimeClient:n3,REALTIME_LISTEN_TYPES:s3,REALTIME_POSTGRES_CHANGES_LISTEN_EVENT:o3,REALTIME_PRESENCE_LISTEN_EVENTS:a3,REALTIME_SUBSCRIBE_STATES:i3,REALTIME_CHANNEL_STATES:l3}=fw||sR,aR="https://ccnbkympqhtgfotrmguz.supabase.co",iR="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImNjbmJreW1wcWh0Z2ZvdHJtZ3V6Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjU1NzAxNzcsImV4cCI6MjA4MTE0NjE3N30.2uhxv75YfnO_eqsCR_-r2v78S-fe_sWAYp6vKOUrWm0",Ne=oR(aR,iR),mw=v.createContext(),lR=({children:t})=>{const[e,r]=v.useState(null),[o,i]=v.useState(!0),[l,d]=v.useState(null);v.useEffect(()=>{u()},[]);const u=async()=>{try{const g=localStorage.getItem("formedica_user"),p=localStorage.getItem("formedica_user_type");g&&(r(JSON.parse(g)),d(p))}catch(g){console.error("Erro ao verificar usurio:",g)}finally{i(!1)}},h=async(g,p)=>{try{const{data:w,error:b}=await Ne.from("dispositivos").select("*").eq("usuario",g).eq("senha",p).limit(1);if(b)return console.error("Erro ao buscar usurio:",b),{success:!1,error:"Erro ao conectar"};if(!w||w.length===0)return{success:!1,error:"Usurio ou senha invlidos"};const N=w[0];if(N.status!=="Autorizado")return{success:!1,error:"Usurio aguardando autorizao. Entre em contato com o administrador."};const j={id:N.id,usuario:N.usuario,nome:N.nome,tipo_usuario:N.tipo_usuario,nome_motoboy:N.nome_motoboy,nome_atendente:N.nome_atendente};return r(j),localStorage.setItem("formedica_user",JSON.stringify(j)),d(N.tipo_usuario||"atendente"),localStorage.setItem("formedica_user_type",N.tipo_usuario||"atendente"),await Ne.from("dispositivos").update({ultimo_acesso:new Date().toISOString()}).eq("id",N.id),{success:!0}}catch(w){return console.error("Erro no login:",w),{success:!1,error:w.message}}},m=()=>{r(null),d(null),localStorage.removeItem("formedica_user"),localStorage.removeItem("formedica_user_type")};return n.jsx(mw.Provider,{value:{user:e,userType:l,loading:o,login:h,logout:m},children:t})},ya=()=>{const t=v.useContext(mw);if(!t)throw new Error("useAuth deve ser usado dentro de AuthProvider");return t},X={colors:{primary:"#457bba",secondary:"#890d5d",danger:"#ef4444",background:"#f8fafc",text:"#1e293b",textLight:"#64748b",border:"#e2e8f0"}},cR={entregas:()=>n.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[n.jsx("path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"}),n.jsx("polyline",{points:"3.27 6.96 12 12.01 20.73 6.96"}),n.jsx("line",{x1:"12",y1:"22.08",x2:"12",y2:"12"})]}),aviao:()=>n.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:n.jsx("path",{d:"M21 16v-2l-8-5V3.5a1.5 1.5 0 0 0-3 0V9l-8 5v2l8-2.5V19l-2 1.5V22l3.5-1 3.5 1v-1.5L13 19v-5.5l8 2.5z"})}),adicionar:()=>n.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[n.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),n.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),usuarios:()=>n.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[n.jsx("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),n.jsx("circle",{cx:"9",cy:"7",r:"4"}),n.jsx("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),n.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]}),historico:()=>n.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[n.jsx("circle",{cx:"12",cy:"12",r:"10"}),n.jsx("polyline",{points:"12 6 12 12 16 14"})]}),grafico:()=>n.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[n.jsx("line",{x1:"18",y1:"20",x2:"18",y2:"10"}),n.jsx("line",{x1:"12",y1:"20",x2:"12",y2:"4"}),n.jsx("line",{x1:"6",y1:"20",x2:"6",y2:"14"})]}),documento:()=>n.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[n.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),n.jsx("polyline",{points:"14 2 14 8 20 8"}),n.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),n.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),n.jsx("polyline",{points:"10 9 9 9 8 9"})]}),dinheiro:()=>n.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[n.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),n.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),calendario:()=>n.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[n.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),n.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),n.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),n.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]}),moto:()=>n.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[n.jsx("circle",{cx:"5",cy:"18",r:"3"}),n.jsx("circle",{cx:"19",cy:"18",r:"3"}),n.jsx("path",{d:"M5.59 13.51l2.53-2.53L10 13v5l-.47-.53L7 15 5.59 13.51z"}),n.jsx("path",{d:"M12 13v5l2-2 2.5 2.5 1-1L15 15"}),n.jsx("path",{d:"M16 8h2l2 5"})]}),celular:()=>n.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[n.jsx("rect",{x:"5",y:"2",width:"14",height:"20",rx:"2",ry:"2"}),n.jsx("line",{x1:"12",y1:"18",x2:"12.01",y2:"18"})]})};function dR({children:t}){var g;const{user:e,userType:r,logout:o}=ya(),i=qt(),l=Tn(),[d,u]=v.useState(!1),h={admin:[{icon:"entregas",label:"Entregas Moto",path:"/"},{icon:"aviao",label:"Sedex/Disktenha",path:"/sedex"},{icon:"adicionar",label:"Novo Romaneio",path:"/novo-romaneio"},{icon:"usuarios",label:"Clientes",path:"/clientes"},{icon:"grafico",label:"Relatrios",path:"/relatorios"},{icon:"documento",label:"Receitas",path:"/receitas"},{icon:"dinheiro",label:"Pagamentos",path:"/pagamentos"},{icon:"calendario",label:"Planilha Diria",path:"/planilha-diaria"},{icon:"moto",label:"Painel dos Motoboys",path:"/painel-motoboys"},{icon:"celular",label:"Dispositivos",path:"/dispositivos"}],atendente:[{icon:"entregas",label:"Entregas Moto",path:"/"},{icon:"aviao",label:"Sedex/Disktenha",path:"/sedex"},{icon:"adicionar",label:"Novo Romaneio",path:"/novo-romaneio"},{icon:"usuarios",label:"Clientes",path:"/clientes"},{icon:"grafico",label:"Relatrios",path:"/relatorios"},{icon:"dinheiro",label:"Pagamentos",path:"/pagamentos"}],motoboy:[{icon:"moto",label:"Minhas Entregas",path:"/painel-motoboys"}]},m=h[r]||h.admin;return n.jsxs("div",{style:{display:"flex",minHeight:"100vh",background:X.colors.background},children:[n.jsx("style",{children:`
        @media print {
          .no-print {
            display: none !important;
          }
        }
      `}),n.jsxs("div",{className:"no-print",style:{width:d?"200px":"64px",background:"white",borderRight:`1px solid ${X.colors.border}`,display:"flex",flexDirection:"column",transition:"width 0.3s ease"},children:[n.jsxs("div",{style:{padding:"2rem 1rem",borderBottom:`1px solid ${X.colors.border}`,display:"flex",alignItems:"center",justifyContent:d?"flex-start":"center",gap:"0.75rem",height:"132px",boxSizing:"border-box"},children:[n.jsx("div",{style:{width:"36px",height:"36px",background:X.colors.primary,borderRadius:"0.375rem",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontWeight:"bold",fontSize:"1.125rem",flexShrink:0},children:"F"}),d&&n.jsxs("div",{style:{overflow:"hidden",transition:"opacity 0.3s ease",flex:1},children:[n.jsx("h2",{style:{fontSize:"1rem",fontWeight:"600",color:X.colors.text,margin:0,lineHeight:1.2,whiteSpace:"nowrap"},children:"Formdica"}),n.jsx("p",{style:{fontSize:"0.75rem",color:X.colors.textLight,margin:0,lineHeight:1.2,whiteSpace:"nowrap"},children:"Entregas"})]})]}),n.jsx("div",{style:{padding:"0.75rem 1rem",borderBottom:`1px solid ${X.colors.border}`},children:n.jsx("button",{onClick:()=>u(!d),style:{padding:"0.5rem",background:"transparent",border:`1px solid ${X.colors.border}`,cursor:"pointer",color:X.colors.primary,display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"0.375rem",transition:"background 0.15s",width:"100%"},onMouseEnter:p=>p.currentTarget.style.background="#f0f0f0",onMouseLeave:p=>p.currentTarget.style.background="transparent",title:d?"Recolher menu":"Expandir menu",children:n.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:d?n.jsx("path",{d:"M11 19l-7-7 7-7m8 14l-7-7 7-7"}):n.jsx("path",{d:"M13 5l7 7-7 7M5 5l7 7-7 7"})})})}),n.jsxs("nav",{style:{flex:1,padding:"0.5rem 0",overflowY:"auto"},children:[d&&n.jsx("p",{style:{padding:"0.5rem 1rem",fontSize:"0.6875rem",fontWeight:"600",color:X.colors.textLight,textTransform:"uppercase",letterSpacing:"0.05em",marginBottom:"0.25rem"},children:"Menu Principal"}),m.map(p=>{const w=l.pathname===p.path,b=cR[p.icon];return n.jsxs("button",{onClick:()=>i(p.path),title:d?"":p.label,style:{width:"100%",padding:d?"0.625rem 1rem":"0.625rem 0",display:"flex",alignItems:"center",justifyContent:d?"flex-start":"center",gap:"0.75rem",border:"none",background:w?`${X.colors.primary}10`:"transparent",color:w?X.colors.primary:X.colors.text,cursor:"pointer",transition:"all 0.15s",fontSize:"0.875rem",fontWeight:w?"500":"400",borderLeft:w?`3px solid ${X.colors.primary}`:"3px solid transparent",textAlign:"left",position:"relative"},onMouseEnter:N=>{w||(N.currentTarget.style.background="#f8fafc")},onMouseLeave:N=>{w||(N.currentTarget.style.background="transparent")},children:[n.jsx("span",{style:{display:"flex",alignItems:"center",flexShrink:0},children:b&&n.jsx(b,{})}),d&&n.jsx("span",{style:{flex:1,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:p.label})]},p.path)})]}),n.jsxs("div",{style:{padding:"1rem",borderTop:`1px solid ${X.colors.border}`},children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:d?"flex-start":"center",gap:"0.75rem",marginBottom:"0.75rem"},children:[n.jsx("div",{style:{width:"36px",height:"36px",background:X.colors.secondary,borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontWeight:"600",fontSize:"0.875rem",flexShrink:0},title:d?"":(e==null?void 0:e.nome)||"Usurio",children:((g=e==null?void 0:e.nome)==null?void 0:g.charAt(0))||"U"}),d&&n.jsxs("div",{style:{flex:1,minWidth:0},children:[n.jsx("p",{style:{margin:0,fontSize:"0.8125rem",fontWeight:"500",color:X.colors.text,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:(e==null?void 0:e.nome)||"Usurio"}),n.jsx("p",{style:{margin:0,fontSize:"0.6875rem",color:X.colors.textLight,textTransform:"capitalize"},children:r})]})]}),n.jsxs("button",{onClick:o,title:d?"":"Sair",style:{width:"100%",padding:"0.5rem",background:"transparent",border:`1px solid ${X.colors.border}`,borderRadius:"0.375rem",color:X.colors.text,cursor:"pointer",fontSize:"0.8125rem",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",fontWeight:"500"},children:[n.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[n.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),n.jsx("polyline",{points:"16 17 21 12 16 7"}),n.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),d&&n.jsx("span",{children:"Sair"})]})]})]}),n.jsx("div",{style:{flex:1,overflowY:"auto"},children:t})]})}class uR extends be.Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(e){var r,o;return(r=e==null?void 0:e.message)!=null&&r.includes("removeChild")||(o=e==null?void 0:e.message)!=null&&o.includes("The node to be removed is not a child")?(console.warn(" [ErrorBoundary] Erro de removeChild capturado e ignorado:",e.message),{hasError:!1}):(console.error(" [ErrorBoundary] Erro capturado:",e),{hasError:!1})}componentDidCatch(e,r){var o,i;!((o=e==null?void 0:e.message)!=null&&o.includes("removeChild"))&&!((i=e==null?void 0:e.message)!=null&&i.includes("The node to be removed is not a child"))&&console.error(" [ErrorBoundary] Detalhes:",e,r)}render(){return this.props.children}}function hR(){const[t,e]=v.useState(""),[r,o]=v.useState(""),[i,l]=v.useState(""),[d,u]=v.useState(!1),{login:h}=ya(),m=qt(),g=async p=>{p.preventDefault(),l(""),u(!0);const w=await h(t,r);w.success?m("/"):l(w.error||"Email ou senha invlidos"),u(!1)};return n.jsx("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:`linear-gradient(135deg, ${X.colors.primary} 0%, ${X.colors.secondary} 100%)`},children:n.jsxs("div",{style:{background:"white",padding:"2rem",borderRadius:"1rem",boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1)",width:"100%",maxWidth:"400px"},children:[n.jsxs("div",{style:{textAlign:"center",marginBottom:"2rem"},children:[n.jsx("h1",{style:{fontSize:"1.875rem",fontWeight:"bold",color:X.colors.primary,marginBottom:"0.5rem"},children:"Formdica Entregas"}),n.jsx("p",{style:{color:X.colors.textLight},children:"Entre com suas credenciais"})]}),n.jsxs("form",{onSubmit:g,children:[i&&n.jsx("div",{style:{background:"#fee2e2",color:"#991b1b",padding:"0.75rem",borderRadius:"0.5rem",marginBottom:"1rem",fontSize:"0.875rem"},children:i}),n.jsxs("div",{style:{marginBottom:"1rem"},children:[n.jsx("label",{style:{display:"block",marginBottom:"0.5rem",color:X.colors.text,fontWeight:"500"},children:"Usurio"}),n.jsx("input",{type:"text",value:t,onChange:p=>e(p.target.value),placeholder:"Digite seu usurio",required:!0,style:{width:"100%",padding:"0.75rem",border:`1px solid ${X.colors.border}`,borderRadius:"0.5rem",fontSize:"1rem"}})]}),n.jsxs("div",{style:{marginBottom:"1.5rem"},children:[n.jsx("label",{style:{display:"block",marginBottom:"0.5rem",color:X.colors.text,fontWeight:"500"},children:"Senha"}),n.jsx("input",{type:"password",value:r,onChange:p=>o(p.target.value),placeholder:"Digite sua senha",required:!0,style:{width:"100%",padding:"0.75rem",border:`1px solid ${X.colors.border}`,borderRadius:"0.5rem",fontSize:"1rem"}})]}),n.jsx("button",{type:"submit",disabled:d,style:{width:"100%",padding:"0.75rem",background:X.colors.primary,color:"white",border:"none",borderRadius:"0.5rem",fontSize:"1rem",fontWeight:"600",cursor:d?"not-allowed":"pointer",opacity:d?.7:1},children:d?"Entrando...":"Entrar"})]})]})})}function dt(t,e,{checkForDefaultPrevented:r=!0}={}){return function(i){if(t==null||t(i),r===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function gv(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function pw(...t){return e=>{let r=!1;const o=t.map(i=>{const l=gv(i,e);return!r&&typeof l=="function"&&(r=!0),l});if(r)return()=>{for(let i=0;i<o.length;i++){const l=o[i];typeof l=="function"?l():gv(t[i],null)}}}}function vt(...t){return v.useCallback(pw(...t),t)}function fR(t,e){const r=v.createContext(e),o=l=>{const{children:d,...u}=l,h=v.useMemo(()=>u,Object.values(u));return n.jsx(r.Provider,{value:h,children:d})};o.displayName=t+"Provider";function i(l){const d=v.useContext(r);if(d)return d;if(e!==void 0)return e;throw new Error(`\`${l}\` must be used within \`${t}\``)}return[o,i]}function ki(t,e=[]){let r=[];function o(l,d){const u=v.createContext(d),h=r.length;r=[...r,d];const m=p=>{var C;const{scope:w,children:b,...N}=p,j=((C=w==null?void 0:w[t])==null?void 0:C[h])||u,_=v.useMemo(()=>N,Object.values(N));return n.jsx(j.Provider,{value:_,children:b})};m.displayName=l+"Provider";function g(p,w){var j;const b=((j=w==null?void 0:w[t])==null?void 0:j[h])||u,N=v.useContext(b);if(N)return N;if(d!==void 0)return d;throw new Error(`\`${p}\` must be used within \`${l}\``)}return[m,g]}const i=()=>{const l=r.map(d=>v.createContext(d));return function(u){const h=(u==null?void 0:u[t])||l;return v.useMemo(()=>({[`__scope${t}`]:{...u,[t]:h}}),[u,h])}};return i.scopeName=t,[o,mR(i,...e)]}function mR(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const o=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(l){const d=o.reduce((u,{useScope:h,scopeName:m})=>{const p=h(l)[`__scope${m}`];return{...u,...p}},{});return v.useMemo(()=>({[`__scope${e.scopeName}`]:d}),[d])}};return r.scopeName=e.scopeName,r}var gr=globalThis!=null&&globalThis.document?v.useLayoutEffect:()=>{},pR=_y[" useId ".trim().toString()]||(()=>{}),gR=0;function ri(t){const[e,r]=v.useState(pR());return gr(()=>{r(o=>o??String(gR++))},[t]),e?`radix-${e}`:""}var xR=_y[" useInsertionEffect ".trim().toString()]||gr;function Xd({prop:t,defaultProp:e,onChange:r=()=>{},caller:o}){const[i,l,d]=vR({defaultProp:e,onChange:r}),u=t!==void 0,h=u?t:i;{const g=v.useRef(t!==void 0);v.useEffect(()=>{const p=g.current;p!==u&&console.warn(`${o} is changing from ${p?"controlled":"uncontrolled"} to ${u?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),g.current=u},[u,o])}const m=v.useCallback(g=>{var p;if(u){const w=yR(g)?g(t):g;w!==t&&((p=d.current)==null||p.call(d,w))}else l(g)},[u,t,l,d]);return[h,m]}function vR({defaultProp:t,onChange:e}){const[r,o]=v.useState(t),i=v.useRef(r),l=v.useRef(e);return xR(()=>{l.current=e},[e]),v.useEffect(()=>{var d;i.current!==r&&((d=l.current)==null||d.call(l,r),i.current=r)},[r,i]),[r,o,l]}function yR(t){return typeof t=="function"}function wi(t){const e=wR(t),r=v.forwardRef((o,i)=>{const{children:l,...d}=o,u=v.Children.toArray(l),h=u.find(_R);if(h){const m=h.props.children,g=u.map(p=>p===h?v.Children.count(m)>1?v.Children.only(null):v.isValidElement(m)?m.props.children:null:p);return n.jsx(e,{...d,ref:i,children:v.isValidElement(m)?v.cloneElement(m,void 0,g):null})}return n.jsx(e,{...d,ref:i,children:l})});return r.displayName=`${t}.Slot`,r}var bR=wi("Slot");function wR(t){const e=v.forwardRef((r,o)=>{const{children:i,...l}=r;if(v.isValidElement(i)){const d=ER(i),u=NR(l,i.props);return i.type!==v.Fragment&&(u.ref=o?pw(o,d):d),v.cloneElement(i,u)}return v.Children.count(i)>1?v.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var gw=Symbol("radix.slottable");function jR(t){const e=({children:r})=>n.jsx(n.Fragment,{children:r});return e.displayName=`${t}.Slottable`,e.__radixId=gw,e}function _R(t){return v.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===gw}function NR(t,e){const r={...e};for(const o in e){const i=t[o],l=e[o];/^on[A-Z]/.test(o)?i&&l?r[o]=(...u)=>{const h=l(...u);return i(...u),h}:i&&(r[o]=i):o==="style"?r[o]={...i,...l}:o==="className"&&(r[o]=[i,l].filter(Boolean).join(" "))}return{...t,...r}}function ER(t){var o,i;let e=(o=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:o.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var SR=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ot=SR.reduce((t,e)=>{const r=wi(`Primitive.${e}`),o=v.forwardRef((i,l)=>{const{asChild:d,...u}=i,h=d?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),n.jsx(h,{...u,ref:l})});return o.displayName=`Primitive.${e}`,{...t,[e]:o}},{});function CR(t,e){t&&Hl.flushSync(()=>t.dispatchEvent(e))}function ua(t){const e=v.useRef(t);return v.useEffect(()=>{e.current=t}),v.useMemo(()=>(...r)=>{var o;return(o=e.current)==null?void 0:o.call(e,...r)},[])}function kR(t,e=globalThis==null?void 0:globalThis.document){const r=ua(t);v.useEffect(()=>{const o=i=>{i.key==="Escape"&&r(i)};return e.addEventListener("keydown",o,{capture:!0}),()=>e.removeEventListener("keydown",o,{capture:!0})},[r,e])}var RR="DismissableLayer",_m="dismissableLayer.update",AR="dismissableLayer.pointerDownOutside",PR="dismissableLayer.focusOutside",xv,xw=v.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),ip=v.forwardRef((t,e)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:l,onInteractOutside:d,onDismiss:u,...h}=t,m=v.useContext(xw),[g,p]=v.useState(null),w=(g==null?void 0:g.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,b]=v.useState({}),N=vt(e,U=>p(U)),j=Array.from(m.layers),[_]=[...m.layersWithOutsidePointerEventsDisabled].slice(-1),C=j.indexOf(_),E=g?j.indexOf(g):-1,S=m.layersWithOutsidePointerEventsDisabled.size>0,T=E>=C,q=IR(U=>{const K=U.target,ue=[...m.branches].some(V=>V.contains(K));!T||ue||(i==null||i(U),d==null||d(U),U.defaultPrevented||u==null||u())},w),A=MR(U=>{const K=U.target;[...m.branches].some(V=>V.contains(K))||(l==null||l(U),d==null||d(U),U.defaultPrevented||u==null||u())},w);return kR(U=>{E===m.layers.size-1&&(o==null||o(U),!U.defaultPrevented&&u&&(U.preventDefault(),u()))},w),v.useEffect(()=>{if(g)return r&&(m.layersWithOutsidePointerEventsDisabled.size===0&&(xv=w.body.style.pointerEvents,w.body.style.pointerEvents="none"),m.layersWithOutsidePointerEventsDisabled.add(g)),m.layers.add(g),vv(),()=>{r&&m.layersWithOutsidePointerEventsDisabled.size===1&&(w.body.style.pointerEvents=xv)}},[g,w,r,m]),v.useEffect(()=>()=>{g&&(m.layers.delete(g),m.layersWithOutsidePointerEventsDisabled.delete(g),vv())},[g,m]),v.useEffect(()=>{const U=()=>b({});return document.addEventListener(_m,U),()=>document.removeEventListener(_m,U)},[]),n.jsx(ot.div,{...h,ref:N,style:{pointerEvents:S?T?"auto":"none":void 0,...t.style},onFocusCapture:dt(t.onFocusCapture,A.onFocusCapture),onBlurCapture:dt(t.onBlurCapture,A.onBlurCapture),onPointerDownCapture:dt(t.onPointerDownCapture,q.onPointerDownCapture)})});ip.displayName=RR;var TR="DismissableLayerBranch",OR=v.forwardRef((t,e)=>{const r=v.useContext(xw),o=v.useRef(null),i=vt(e,o);return v.useEffect(()=>{const l=o.current;if(l)return r.branches.add(l),()=>{r.branches.delete(l)}},[r.branches]),n.jsx(ot.div,{...t,ref:i})});OR.displayName=TR;function IR(t,e=globalThis==null?void 0:globalThis.document){const r=ua(t),o=v.useRef(!1),i=v.useRef(()=>{});return v.useEffect(()=>{const l=u=>{if(u.target&&!o.current){let h=function(){vw(AR,r,m,{discrete:!0})};const m={originalEvent:u};u.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=h,e.addEventListener("click",i.current,{once:!0})):h()}else e.removeEventListener("click",i.current);o.current=!1},d=window.setTimeout(()=>{e.addEventListener("pointerdown",l)},0);return()=>{window.clearTimeout(d),e.removeEventListener("pointerdown",l),e.removeEventListener("click",i.current)}},[e,r]),{onPointerDownCapture:()=>o.current=!0}}function MR(t,e=globalThis==null?void 0:globalThis.document){const r=ua(t),o=v.useRef(!1);return v.useEffect(()=>{const i=l=>{l.target&&!o.current&&vw(PR,r,{originalEvent:l},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,r]),{onFocusCapture:()=>o.current=!0,onBlurCapture:()=>o.current=!1}}function vv(){const t=new CustomEvent(_m);document.dispatchEvent(t)}function vw(t,e,r,{discrete:o}){const i=r.originalEvent.target,l=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});e&&i.addEventListener(t,e,{once:!0}),o?CR(i,l):i.dispatchEvent(l)}var kf="focusScope.autoFocusOnMount",Rf="focusScope.autoFocusOnUnmount",yv={bubbles:!1,cancelable:!0},DR="FocusScope",lp=v.forwardRef((t,e)=>{const{loop:r=!1,trapped:o=!1,onMountAutoFocus:i,onUnmountAutoFocus:l,...d}=t,[u,h]=v.useState(null),m=ua(i),g=ua(l),p=v.useRef(null),w=vt(e,j=>h(j)),b=v.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;v.useEffect(()=>{if(o){let j=function(S){if(b.paused||!u)return;const T=S.target;u.contains(T)?p.current=T:ro(p.current,{select:!0})},_=function(S){if(b.paused||!u)return;const T=S.relatedTarget;T!==null&&(u.contains(T)||ro(p.current,{select:!0}))},C=function(S){if(document.activeElement===document.body)for(const q of S)q.removedNodes.length>0&&ro(u)};document.addEventListener("focusin",j),document.addEventListener("focusout",_);const E=new MutationObserver(C);return u&&E.observe(u,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",j),document.removeEventListener("focusout",_),E.disconnect()}}},[o,u,b.paused]),v.useEffect(()=>{if(u){wv.add(b);const j=document.activeElement;if(!u.contains(j)){const C=new CustomEvent(kf,yv);u.addEventListener(kf,m),u.dispatchEvent(C),C.defaultPrevented||(LR(UR(yw(u)),{select:!0}),document.activeElement===j&&ro(u))}return()=>{u.removeEventListener(kf,m),setTimeout(()=>{const C=new CustomEvent(Rf,yv);u.addEventListener(Rf,g),u.dispatchEvent(C),C.defaultPrevented||ro(j??document.body,{select:!0}),u.removeEventListener(Rf,g),wv.remove(b)},0)}}},[u,m,g,b]);const N=v.useCallback(j=>{if(!r&&!o||b.paused)return;const _=j.key==="Tab"&&!j.altKey&&!j.ctrlKey&&!j.metaKey,C=document.activeElement;if(_&&C){const E=j.currentTarget,[S,T]=$R(E);S&&T?!j.shiftKey&&C===T?(j.preventDefault(),r&&ro(S,{select:!0})):j.shiftKey&&C===S&&(j.preventDefault(),r&&ro(T,{select:!0})):C===E&&j.preventDefault()}},[r,o,b.paused]);return n.jsx(ot.div,{tabIndex:-1,...d,ref:w,onKeyDown:N})});lp.displayName=DR;function LR(t,{select:e=!1}={}){const r=document.activeElement;for(const o of t)if(ro(o,{select:e}),document.activeElement!==r)return}function $R(t){const e=yw(t),r=bv(e,t),o=bv(e.reverse(),t);return[r,o]}function yw(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:o=>{const i=o.tagName==="INPUT"&&o.type==="hidden";return o.disabled||o.hidden||i?NodeFilter.FILTER_SKIP:o.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function bv(t,e){for(const r of t)if(!BR(r,{upTo:e}))return r}function BR(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function FR(t){return t instanceof HTMLInputElement&&"select"in t}function ro(t,{select:e=!1}={}){if(t&&t.focus){const r=document.activeElement;t.focus({preventScroll:!0}),t!==r&&FR(t)&&e&&t.select()}}var wv=zR();function zR(){let t=[];return{add(e){const r=t[0];e!==r&&(r==null||r.pause()),t=jv(t,e),t.unshift(e)},remove(e){var r;t=jv(t,e),(r=t[0])==null||r.resume()}}}function jv(t,e){const r=[...t],o=r.indexOf(e);return o!==-1&&r.splice(o,1),r}function UR(t){return t.filter(e=>e.tagName!=="A")}var qR="Portal",cp=v.forwardRef((t,e)=>{var u;const{container:r,...o}=t,[i,l]=v.useState(!1);gr(()=>l(!0),[]);const d=r||i&&((u=globalThis==null?void 0:globalThis.document)==null?void 0:u.body);return d?Fy.createPortal(n.jsx(ot.div,{...o,ref:e}),d):null});cp.displayName=qR;function WR(t,e){return v.useReducer((r,o)=>e[r][o]??r,t)}var Ql=t=>{const{present:e,children:r}=t,o=VR(e),i=typeof r=="function"?r({present:o.isPresent}):v.Children.only(r),l=vt(o.ref,HR(i));return typeof r=="function"||o.isPresent?v.cloneElement(i,{ref:l}):null};Ql.displayName="Presence";function VR(t){const[e,r]=v.useState(),o=v.useRef(null),i=v.useRef(t),l=v.useRef("none"),d=t?"mounted":"unmounted",[u,h]=WR(d,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return v.useEffect(()=>{const m=vd(o.current);l.current=u==="mounted"?m:"none"},[u]),gr(()=>{const m=o.current,g=i.current;if(g!==t){const w=l.current,b=vd(m);t?h("MOUNT"):b==="none"||(m==null?void 0:m.display)==="none"?h("UNMOUNT"):h(g&&w!==b?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,h]),gr(()=>{if(e){let m;const g=e.ownerDocument.defaultView??window,p=b=>{const j=vd(o.current).includes(CSS.escape(b.animationName));if(b.target===e&&j&&(h("ANIMATION_END"),!i.current)){const _=e.style.animationFillMode;e.style.animationFillMode="forwards",m=g.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=_)})}},w=b=>{b.target===e&&(l.current=vd(o.current))};return e.addEventListener("animationstart",w),e.addEventListener("animationcancel",p),e.addEventListener("animationend",p),()=>{g.clearTimeout(m),e.removeEventListener("animationstart",w),e.removeEventListener("animationcancel",p),e.removeEventListener("animationend",p)}}else h("ANIMATION_END")},[e,h]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:v.useCallback(m=>{o.current=m?getComputedStyle(m):null,r(m)},[])}}function vd(t){return(t==null?void 0:t.animationName)||"none"}function HR(t){var o,i;let e=(o=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:o.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var Af=0;function bw(){v.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??_v()),document.body.insertAdjacentElement("beforeend",t[1]??_v()),Af++,()=>{Af===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Af--}},[])}function _v(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Ld="right-scroll-bar-position",$d="width-before-scroll-bar",KR="with-scroll-bars-hidden",GR="--removed-body-scroll-bar-size";function Pf(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function QR(t,e){var r=v.useState(function(){return{value:t,callback:e,facade:{get current(){return r.value},set current(o){var i=r.value;i!==o&&(r.value=o,r.callback(o,i))}}}})[0];return r.callback=e,r.facade}var JR=typeof window<"u"?v.useLayoutEffect:v.useEffect,Nv=new WeakMap;function YR(t,e){var r=QR(null,function(o){return t.forEach(function(i){return Pf(i,o)})});return JR(function(){var o=Nv.get(r);if(o){var i=new Set(o),l=new Set(t),d=r.current;i.forEach(function(u){l.has(u)||Pf(u,null)}),l.forEach(function(u){i.has(u)||Pf(u,d)})}Nv.set(r,t)},[t]),r}function XR(t){return t}function ZR(t,e){e===void 0&&(e=XR);var r=[],o=!1,i={read:function(){if(o)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:t},useMedium:function(l){var d=e(l,o);return r.push(d),function(){r=r.filter(function(u){return u!==d})}},assignSyncMedium:function(l){for(o=!0;r.length;){var d=r;r=[],d.forEach(l)}r={push:function(u){return l(u)},filter:function(){return r}}},assignMedium:function(l){o=!0;var d=[];if(r.length){var u=r;r=[],u.forEach(l),d=r}var h=function(){var g=d;d=[],g.forEach(l)},m=function(){return Promise.resolve().then(h)};m(),r={push:function(g){d.push(g),m()},filter:function(g){return d=d.filter(g),r}}}};return i}function e5(t){t===void 0&&(t={});var e=ZR(null);return e.options=sn({async:!0,ssr:!1},t),e}var ww=function(t){var e=t.sideCar,r=No(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var o=e.read();if(!o)throw new Error("Sidecar medium not found");return v.createElement(o,sn({},r))};ww.isSideCarExport=!0;function t5(t,e){return t.useMedium(e),ww}var jw=e5(),Tf=function(){},pu=v.forwardRef(function(t,e){var r=v.useRef(null),o=v.useState({onScrollCapture:Tf,onWheelCapture:Tf,onTouchMoveCapture:Tf}),i=o[0],l=o[1],d=t.forwardProps,u=t.children,h=t.className,m=t.removeScrollBar,g=t.enabled,p=t.shards,w=t.sideCar,b=t.noRelative,N=t.noIsolation,j=t.inert,_=t.allowPinchZoom,C=t.as,E=C===void 0?"div":C,S=t.gapMode,T=No(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),q=w,A=YR([r,e]),U=sn(sn({},T),i);return v.createElement(v.Fragment,null,g&&v.createElement(q,{sideCar:jw,removeScrollBar:m,shards:p,noRelative:b,noIsolation:N,inert:j,setCallbacks:l,allowPinchZoom:!!_,lockRef:r,gapMode:S}),d?v.cloneElement(v.Children.only(u),sn(sn({},U),{ref:A})):v.createElement(E,sn({},U,{className:h,ref:A}),u))});pu.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};pu.classNames={fullWidth:$d,zeroRight:Ld};var r5=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function n5(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=r5();return e&&t.setAttribute("nonce",e),t}function s5(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function o5(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var a5=function(){var t=0,e=null;return{add:function(r){t==0&&(e=n5())&&(s5(e,r),o5(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},i5=function(){var t=a5();return function(e,r){v.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&r])}},_w=function(){var t=i5(),e=function(r){var o=r.styles,i=r.dynamic;return t(o,i),null};return e},l5={left:0,top:0,right:0,gap:0},Of=function(t){return parseInt(t||"",10)||0},c5=function(t){var e=window.getComputedStyle(document.body),r=e[t==="padding"?"paddingLeft":"marginLeft"],o=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[Of(r),Of(o),Of(i)]},d5=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return l5;var e=c5(t),r=document.documentElement.clientWidth,o=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,o-r+e[2]-e[0])}},u5=_w(),ni="data-scroll-locked",h5=function(t,e,r,o){var i=t.left,l=t.top,d=t.right,u=t.gap;return r===void 0&&(r="margin"),`
  .`.concat(KR,` {
   overflow: hidden `).concat(o,`;
   padding-right: `).concat(u,"px ").concat(o,`;
  }
  body[`).concat(ni,`] {
    overflow: hidden `).concat(o,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(o,";"),r==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(l,`px;
    padding-right: `).concat(d,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(u,"px ").concat(o,`;
    `),r==="padding"&&"padding-right: ".concat(u,"px ").concat(o,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Ld,` {
    right: `).concat(u,"px ").concat(o,`;
  }
  
  .`).concat($d,` {
    margin-right: `).concat(u,"px ").concat(o,`;
  }
  
  .`).concat(Ld," .").concat(Ld,` {
    right: 0 `).concat(o,`;
  }
  
  .`).concat($d," .").concat($d,` {
    margin-right: 0 `).concat(o,`;
  }
  
  body[`).concat(ni,`] {
    `).concat(GR,": ").concat(u,`px;
  }
`)},Ev=function(){var t=parseInt(document.body.getAttribute(ni)||"0",10);return isFinite(t)?t:0},f5=function(){v.useEffect(function(){return document.body.setAttribute(ni,(Ev()+1).toString()),function(){var t=Ev()-1;t<=0?document.body.removeAttribute(ni):document.body.setAttribute(ni,t.toString())}},[])},m5=function(t){var e=t.noRelative,r=t.noImportant,o=t.gapMode,i=o===void 0?"margin":o;f5();var l=v.useMemo(function(){return d5(i)},[i]);return v.createElement(u5,{styles:h5(l,!e,i,r?"":"!important")})},Nm=!1;if(typeof window<"u")try{var yd=Object.defineProperty({},"passive",{get:function(){return Nm=!0,!0}});window.addEventListener("test",yd,yd),window.removeEventListener("test",yd,yd)}catch{Nm=!1}var Ka=Nm?{passive:!1}:!1,p5=function(t){return t.tagName==="TEXTAREA"},Nw=function(t,e){if(!(t instanceof Element))return!1;var r=window.getComputedStyle(t);return r[e]!=="hidden"&&!(r.overflowY===r.overflowX&&!p5(t)&&r[e]==="visible")},g5=function(t){return Nw(t,"overflowY")},x5=function(t){return Nw(t,"overflowX")},Sv=function(t,e){var r=e.ownerDocument,o=e;do{typeof ShadowRoot<"u"&&o instanceof ShadowRoot&&(o=o.host);var i=Ew(t,o);if(i){var l=Sw(t,o),d=l[1],u=l[2];if(d>u)return!0}o=o.parentNode}while(o&&o!==r.body);return!1},v5=function(t){var e=t.scrollTop,r=t.scrollHeight,o=t.clientHeight;return[e,r,o]},y5=function(t){var e=t.scrollLeft,r=t.scrollWidth,o=t.clientWidth;return[e,r,o]},Ew=function(t,e){return t==="v"?g5(e):x5(e)},Sw=function(t,e){return t==="v"?v5(e):y5(e)},b5=function(t,e){return t==="h"&&e==="rtl"?-1:1},w5=function(t,e,r,o,i){var l=b5(t,window.getComputedStyle(e).direction),d=l*o,u=r.target,h=e.contains(u),m=!1,g=d>0,p=0,w=0;do{if(!u)break;var b=Sw(t,u),N=b[0],j=b[1],_=b[2],C=j-_-l*N;(N||C)&&Ew(t,u)&&(p+=C,w+=N);var E=u.parentNode;u=E&&E.nodeType===Node.DOCUMENT_FRAGMENT_NODE?E.host:E}while(!h&&u!==document.body||h&&(e.contains(u)||e===u));return(g&&Math.abs(p)<1||!g&&Math.abs(w)<1)&&(m=!0),m},bd=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},Cv=function(t){return[t.deltaX,t.deltaY]},kv=function(t){return t&&"current"in t?t.current:t},j5=function(t,e){return t[0]===e[0]&&t[1]===e[1]},_5=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},N5=0,Ga=[];function E5(t){var e=v.useRef([]),r=v.useRef([0,0]),o=v.useRef(),i=v.useState(N5++)[0],l=v.useState(_w)[0],d=v.useRef(t);v.useEffect(function(){d.current=t},[t]),v.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var j=Xm([t.lockRef.current],(t.shards||[]).map(kv),!0).filter(Boolean);return j.forEach(function(_){return _.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),j.forEach(function(_){return _.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var u=v.useCallback(function(j,_){if("touches"in j&&j.touches.length===2||j.type==="wheel"&&j.ctrlKey)return!d.current.allowPinchZoom;var C=bd(j),E=r.current,S="deltaX"in j?j.deltaX:E[0]-C[0],T="deltaY"in j?j.deltaY:E[1]-C[1],q,A=j.target,U=Math.abs(S)>Math.abs(T)?"h":"v";if("touches"in j&&U==="h"&&A.type==="range")return!1;var K=Sv(U,A);if(!K)return!0;if(K?q=U:(q=U==="v"?"h":"v",K=Sv(U,A)),!K)return!1;if(!o.current&&"changedTouches"in j&&(S||T)&&(o.current=q),!q)return!0;var ue=o.current||q;return w5(ue,_,j,ue==="h"?S:T)},[]),h=v.useCallback(function(j){var _=j;if(!(!Ga.length||Ga[Ga.length-1]!==l)){var C="deltaY"in _?Cv(_):bd(_),E=e.current.filter(function(q){return q.name===_.type&&(q.target===_.target||_.target===q.shadowParent)&&j5(q.delta,C)})[0];if(E&&E.should){_.cancelable&&_.preventDefault();return}if(!E){var S=(d.current.shards||[]).map(kv).filter(Boolean).filter(function(q){return q.contains(_.target)}),T=S.length>0?u(_,S[0]):!d.current.noIsolation;T&&_.cancelable&&_.preventDefault()}}},[]),m=v.useCallback(function(j,_,C,E){var S={name:j,delta:_,target:C,should:E,shadowParent:S5(C)};e.current.push(S),setTimeout(function(){e.current=e.current.filter(function(T){return T!==S})},1)},[]),g=v.useCallback(function(j){r.current=bd(j),o.current=void 0},[]),p=v.useCallback(function(j){m(j.type,Cv(j),j.target,u(j,t.lockRef.current))},[]),w=v.useCallback(function(j){m(j.type,bd(j),j.target,u(j,t.lockRef.current))},[]);v.useEffect(function(){return Ga.push(l),t.setCallbacks({onScrollCapture:p,onWheelCapture:p,onTouchMoveCapture:w}),document.addEventListener("wheel",h,Ka),document.addEventListener("touchmove",h,Ka),document.addEventListener("touchstart",g,Ka),function(){Ga=Ga.filter(function(j){return j!==l}),document.removeEventListener("wheel",h,Ka),document.removeEventListener("touchmove",h,Ka),document.removeEventListener("touchstart",g,Ka)}},[]);var b=t.removeScrollBar,N=t.inert;return v.createElement(v.Fragment,null,N?v.createElement(l,{styles:_5(i)}):null,b?v.createElement(m5,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function S5(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const C5=t5(jw,E5);var dp=v.forwardRef(function(t,e){return v.createElement(pu,sn({},t,{ref:e,sideCar:C5}))});dp.classNames=pu.classNames;var k5=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Qa=new WeakMap,wd=new WeakMap,jd={},If=0,Cw=function(t){return t&&(t.host||Cw(t.parentNode))},R5=function(t,e){return e.map(function(r){if(t.contains(r))return r;var o=Cw(r);return o&&t.contains(o)?o:(console.error("aria-hidden",r,"in not contained inside",t,". Doing nothing"),null)}).filter(function(r){return!!r})},A5=function(t,e,r,o){var i=R5(e,Array.isArray(t)?t:[t]);jd[r]||(jd[r]=new WeakMap);var l=jd[r],d=[],u=new Set,h=new Set(i),m=function(p){!p||u.has(p)||(u.add(p),m(p.parentNode))};i.forEach(m);var g=function(p){!p||h.has(p)||Array.prototype.forEach.call(p.children,function(w){if(u.has(w))g(w);else try{var b=w.getAttribute(o),N=b!==null&&b!=="false",j=(Qa.get(w)||0)+1,_=(l.get(w)||0)+1;Qa.set(w,j),l.set(w,_),d.push(w),j===1&&N&&wd.set(w,!0),_===1&&w.setAttribute(r,"true"),N||w.setAttribute(o,"true")}catch(C){console.error("aria-hidden: cannot operate on ",w,C)}})};return g(e),u.clear(),If++,function(){d.forEach(function(p){var w=Qa.get(p)-1,b=l.get(p)-1;Qa.set(p,w),l.set(p,b),w||(wd.has(p)||p.removeAttribute(o),wd.delete(p)),b||p.removeAttribute(r)}),If--,If||(Qa=new WeakMap,Qa=new WeakMap,wd=new WeakMap,jd={})}},kw=function(t,e,r){r===void 0&&(r="data-aria-hidden");var o=Array.from(Array.isArray(t)?t:[t]),i=k5(t);return i?(o.push.apply(o,Array.from(i.querySelectorAll("[aria-live], script"))),A5(o,i,r,"aria-hidden")):function(){return null}},gu="Dialog",[Rw,Aw]=ki(gu),[P5,On]=Rw(gu),Pw=t=>{const{__scopeDialog:e,children:r,open:o,defaultOpen:i,onOpenChange:l,modal:d=!0}=t,u=v.useRef(null),h=v.useRef(null),[m,g]=Xd({prop:o,defaultProp:i??!1,onChange:l,caller:gu});return n.jsx(P5,{scope:e,triggerRef:u,contentRef:h,contentId:ri(),titleId:ri(),descriptionId:ri(),open:m,onOpenChange:g,onOpenToggle:v.useCallback(()=>g(p=>!p),[g]),modal:d,children:r})};Pw.displayName=gu;var Tw="DialogTrigger",Ow=v.forwardRef((t,e)=>{const{__scopeDialog:r,...o}=t,i=On(Tw,r),l=vt(e,i.triggerRef);return n.jsx(ot.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":fp(i.open),...o,ref:l,onClick:dt(t.onClick,i.onOpenToggle)})});Ow.displayName=Tw;var up="DialogPortal",[T5,Iw]=Rw(up,{forceMount:void 0}),Mw=t=>{const{__scopeDialog:e,forceMount:r,children:o,container:i}=t,l=On(up,e);return n.jsx(T5,{scope:e,forceMount:r,children:v.Children.map(o,d=>n.jsx(Ql,{present:r||l.open,children:n.jsx(cp,{asChild:!0,container:i,children:d})}))})};Mw.displayName=up;var Zd="DialogOverlay",Dw=v.forwardRef((t,e)=>{const r=Iw(Zd,t.__scopeDialog),{forceMount:o=r.forceMount,...i}=t,l=On(Zd,t.__scopeDialog);return l.modal?n.jsx(Ql,{present:o||l.open,children:n.jsx(I5,{...i,ref:e})}):null});Dw.displayName=Zd;var O5=wi("DialogOverlay.RemoveScroll"),I5=v.forwardRef((t,e)=>{const{__scopeDialog:r,...o}=t,i=On(Zd,r);return n.jsx(dp,{as:O5,allowPinchZoom:!0,shards:[i.contentRef],children:n.jsx(ot.div,{"data-state":fp(i.open),...o,ref:e,style:{pointerEvents:"auto",...o.style}})})}),ha="DialogContent",Lw=v.forwardRef((t,e)=>{const r=Iw(ha,t.__scopeDialog),{forceMount:o=r.forceMount,...i}=t,l=On(ha,t.__scopeDialog);return n.jsx(Ql,{present:o||l.open,children:l.modal?n.jsx(M5,{...i,ref:e}):n.jsx(D5,{...i,ref:e})})});Lw.displayName=ha;var M5=v.forwardRef((t,e)=>{const r=On(ha,t.__scopeDialog),o=v.useRef(null),i=vt(e,r.contentRef,o);return v.useEffect(()=>{const l=o.current;if(l)return kw(l)},[]),n.jsx($w,{...t,ref:i,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:dt(t.onCloseAutoFocus,l=>{var d;l.preventDefault(),(d=r.triggerRef.current)==null||d.focus()}),onPointerDownOutside:dt(t.onPointerDownOutside,l=>{const d=l.detail.originalEvent,u=d.button===0&&d.ctrlKey===!0;(d.button===2||u)&&l.preventDefault()}),onFocusOutside:dt(t.onFocusOutside,l=>l.preventDefault())})}),D5=v.forwardRef((t,e)=>{const r=On(ha,t.__scopeDialog),o=v.useRef(!1),i=v.useRef(!1);return n.jsx($w,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:l=>{var d,u;(d=t.onCloseAutoFocus)==null||d.call(t,l),l.defaultPrevented||(o.current||(u=r.triggerRef.current)==null||u.focus(),l.preventDefault()),o.current=!1,i.current=!1},onInteractOutside:l=>{var h,m;(h=t.onInteractOutside)==null||h.call(t,l),l.defaultPrevented||(o.current=!0,l.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const d=l.target;((m=r.triggerRef.current)==null?void 0:m.contains(d))&&l.preventDefault(),l.detail.originalEvent.type==="focusin"&&i.current&&l.preventDefault()}})}),$w=v.forwardRef((t,e)=>{const{__scopeDialog:r,trapFocus:o,onOpenAutoFocus:i,onCloseAutoFocus:l,...d}=t,u=On(ha,r),h=v.useRef(null),m=vt(e,h);return bw(),n.jsxs(n.Fragment,{children:[n.jsx(lp,{asChild:!0,loop:!0,trapped:o,onMountAutoFocus:i,onUnmountAutoFocus:l,children:n.jsx(ip,{role:"dialog",id:u.contentId,"aria-describedby":u.descriptionId,"aria-labelledby":u.titleId,"data-state":fp(u.open),...d,ref:m,onDismiss:()=>u.onOpenChange(!1)})}),n.jsxs(n.Fragment,{children:[n.jsx($5,{titleId:u.titleId}),n.jsx(F5,{contentRef:h,descriptionId:u.descriptionId})]})]})}),hp="DialogTitle",Bw=v.forwardRef((t,e)=>{const{__scopeDialog:r,...o}=t,i=On(hp,r);return n.jsx(ot.h2,{id:i.titleId,...o,ref:e})});Bw.displayName=hp;var Fw="DialogDescription",zw=v.forwardRef((t,e)=>{const{__scopeDialog:r,...o}=t,i=On(Fw,r);return n.jsx(ot.p,{id:i.descriptionId,...o,ref:e})});zw.displayName=Fw;var Uw="DialogClose",qw=v.forwardRef((t,e)=>{const{__scopeDialog:r,...o}=t,i=On(Uw,r);return n.jsx(ot.button,{type:"button",...o,ref:e,onClick:dt(t.onClick,()=>i.onOpenChange(!1))})});qw.displayName=Uw;function fp(t){return t?"open":"closed"}var Ww="DialogTitleWarning",[L5,Vw]=fR(Ww,{contentName:ha,titleName:hp,docsSlug:"dialog"}),$5=({titleId:t})=>{const e=Vw(Ww),r=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return v.useEffect(()=>{t&&(document.getElementById(t)||console.error(r))},[r,t]),null},B5="DialogDescriptionWarning",F5=({contentRef:t,descriptionId:e})=>{const o=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Vw(B5).contentName}}.`;return v.useEffect(()=>{var l;const i=(l=t.current)==null?void 0:l.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(o))},[o,t,e]),null},Hw=Pw,z5=Ow,Kw=Mw,mp=Dw,pp=Lw,gp=Bw,xp=zw,vp=qw;/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U5=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Gw=(...t)=>t.filter((e,r,o)=>!!e&&e.trim()!==""&&o.indexOf(e)===r).join(" ").trim();/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var q5={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W5=v.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:o,className:i="",children:l,iconNode:d,...u},h)=>v.createElement("svg",{ref:h,...q5,width:e,height:e,stroke:t,strokeWidth:o?Number(r)*24/Number(e):r,className:Gw("lucide",i),...u},[...d.map(([m,g])=>v.createElement(m,g)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $e=(t,e)=>{const r=v.forwardRef(({className:o,...i},l)=>v.createElement(W5,{ref:l,iconNode:e,className:Gw(`lucide-${U5(t)}`,o),...i}));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V5=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],H5=$e("ArrowDown",V5);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K5=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],G5=$e("ArrowLeft",K5);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q5=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],J5=$e("ArrowUp",Q5);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y5=[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]],Em=$e("Banknote",Y5);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X5=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],wo=$e("Calendar",X5);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z5=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],fa=$e("Check",Z5);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eA=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Qw=$e("ChevronDown",eA);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tA=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Ut=$e("ChevronLeft",tA);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rA=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Jl=$e("ChevronRight",rA);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nA=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],sA=$e("ChevronUp",nA);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Jw=$e("CircleAlert",oA);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aA=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],vo=$e("CircleCheckBig",aA);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],kl=$e("CircleX",iA);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lA=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],yo=$e("ClipboardList",lA);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],on=$e("Clock",cA);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dA=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],Yw=$e("CreditCard",dA);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uA=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],ba=$e("DollarSign",uA);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hA=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],fA=$e("Download",hA);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mA=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],pA=$e("ExternalLink",mA);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gA=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],xA=$e("EyeOff",gA);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vA=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Xw=$e("Eye",vA);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yA=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],jr=$e("FileText",yA);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bA=[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]],wA=$e("Filter",bA);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jA=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],_A=$e("GripVertical",jA);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NA=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],Rv=$e("Image",NA);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EA=[["path",{d:"M10 12h11",key:"6m4ad9"}],["path",{d:"M10 18h11",key:"11hvi2"}],["path",{d:"M10 6h11",key:"c7qv1k"}],["path",{d:"M4 10h2",key:"16xx2s"}],["path",{d:"M4 6h1v4",key:"cnovpq"}],["path",{d:"M6 18H4c0-1 2-2 2-3s-1-1.5-2-1",key:"m9a95d"}]],Av=$e("ListOrdered",EA);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SA=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],CA=$e("Mail",SA);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kA=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],ji=$e("MapPin",kA);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RA=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],Rl=$e("Monitor",RA);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AA=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],PA=$e("Moon",AA);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TA=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],Vr=$e("Package",TA);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OA=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],Zw=$e("Pencil",OA);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IA=[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]],Ml=$e("Phone",IA);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MA=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],xu=$e("Plus",MA);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DA=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],vu=$e("Printer",DA);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LA=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],$A=$e("RefreshCw",LA);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BA=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],FA=$e("Save",BA);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zA=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],Nn=$e("Search",zA);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UA=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],Pv=$e("Send",UA);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qA=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],e1=$e("Smartphone",qA);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WA=[["path",{d:"m10 20-1.25-2.5L6 18",key:"18frcb"}],["path",{d:"M10 4 8.75 6.5 6 6",key:"7mghy3"}],["path",{d:"m14 20 1.25-2.5L18 18",key:"1chtki"}],["path",{d:"m14 4 1.25 2.5L18 6",key:"1b4wsy"}],["path",{d:"m17 21-3-6h-4",key:"15hhxa"}],["path",{d:"m17 3-3 6 1.5 3",key:"11697g"}],["path",{d:"M2 12h6.5L10 9",key:"kv9z4n"}],["path",{d:"m20 10-1.5 2 1.5 2",key:"1swlpi"}],["path",{d:"M22 12h-6.5L14 15",key:"1mxi28"}],["path",{d:"m4 10 1.5 2L4 14",key:"k9enpj"}],["path",{d:"m7 21 3-6-1.5-3",key:"j8hb9u"}],["path",{d:"m7 3 3 6h4",key:"1otusx"}]],Tv=$e("Snowflake",WA);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VA=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],yu=$e("SquarePen",VA);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HA=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],t1=$e("Sun",HA);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KA=[["path",{d:"M12 2v8",key:"1q4o3n"}],["path",{d:"m4.93 10.93 1.41 1.41",key:"2a7f42"}],["path",{d:"M2 18h2",key:"j10viu"}],["path",{d:"M20 18h2",key:"wocana"}],["path",{d:"m19.07 10.93-1.41 1.41",key:"15zs5n"}],["path",{d:"M22 22H2",key:"19qnx5"}],["path",{d:"m8 6 4-4 4 4",key:"ybng9g"}],["path",{d:"M16 18a4 4 0 0 0-8 0",key:"1lzouq"}]],GA=$e("Sunrise",KA);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QA=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],Ri=$e("Trash2",QA);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JA=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],YA=$e("TrendingUp",JA);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XA=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Ov=$e("TriangleAlert",XA);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZA=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],ys=$e("Truck",ZA);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eP=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],tP=$e("Upload",eP);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rP=[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]],nP=$e("UserCog",rP);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sP=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],Iv=$e("UserPlus",sP);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oP=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Hr=$e("User",oP);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aP=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],iP=$e("Users",aP);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lP=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],r1=$e("X",lP);function n1(t){var e,r,o="";if(typeof t=="string"||typeof t=="number")o+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(r=n1(t[e]))&&(o&&(o+=" "),o+=r)}else for(r in t)t[r]&&(o&&(o+=" "),o+=r);return o}function s1(){for(var t,e,r=0,o="",i=arguments.length;r<i;r++)(t=arguments[r])&&(e=n1(t))&&(o&&(o+=" "),o+=e);return o}const yp="-",cP=t=>{const e=uP(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:o}=t;return{getClassGroupId:d=>{const u=d.split(yp);return u[0]===""&&u.length!==1&&u.shift(),o1(u,e)||dP(d)},getConflictingClassGroupIds:(d,u)=>{const h=r[d]||[];return u&&o[d]?[...h,...o[d]]:h}}},o1=(t,e)=>{var d;if(t.length===0)return e.classGroupId;const r=t[0],o=e.nextPart.get(r),i=o?o1(t.slice(1),o):void 0;if(i)return i;if(e.validators.length===0)return;const l=t.join(yp);return(d=e.validators.find(({validator:u})=>u(l)))==null?void 0:d.classGroupId},Mv=/^\[(.+)\]$/,dP=t=>{if(Mv.test(t)){const e=Mv.exec(t)[1],r=e==null?void 0:e.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}},uP=t=>{const{theme:e,classGroups:r}=t,o={nextPart:new Map,validators:[]};for(const i in r)Sm(r[i],o,i,e);return o},Sm=(t,e,r,o)=>{t.forEach(i=>{if(typeof i=="string"){const l=i===""?e:Dv(e,i);l.classGroupId=r;return}if(typeof i=="function"){if(hP(i)){Sm(i(o),e,r,o);return}e.validators.push({validator:i,classGroupId:r});return}Object.entries(i).forEach(([l,d])=>{Sm(d,Dv(e,l),r,o)})})},Dv=(t,e)=>{let r=t;return e.split(yp).forEach(o=>{r.nextPart.has(o)||r.nextPart.set(o,{nextPart:new Map,validators:[]}),r=r.nextPart.get(o)}),r},hP=t=>t.isThemeGetter,fP=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=new Map,o=new Map;const i=(l,d)=>{r.set(l,d),e++,e>t&&(e=0,o=r,r=new Map)};return{get(l){let d=r.get(l);if(d!==void 0)return d;if((d=o.get(l))!==void 0)return i(l,d),d},set(l,d){r.has(l)?r.set(l,d):i(l,d)}}},Cm="!",km=":",mP=km.length,pP=t=>{const{prefix:e,experimentalParseClassName:r}=t;let o=i=>{const l=[];let d=0,u=0,h=0,m;for(let N=0;N<i.length;N++){let j=i[N];if(d===0&&u===0){if(j===km){l.push(i.slice(h,N)),h=N+mP;continue}if(j==="/"){m=N;continue}}j==="["?d++:j==="]"?d--:j==="("?u++:j===")"&&u--}const g=l.length===0?i:i.substring(h),p=gP(g),w=p!==g,b=m&&m>h?m-h:void 0;return{modifiers:l,hasImportantModifier:w,baseClassName:p,maybePostfixModifierPosition:b}};if(e){const i=e+km,l=o;o=d=>d.startsWith(i)?l(d.substring(i.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:d,maybePostfixModifierPosition:void 0}}if(r){const i=o;o=l=>r({className:l,parseClassName:i})}return o},gP=t=>t.endsWith(Cm)?t.substring(0,t.length-1):t.startsWith(Cm)?t.substring(1):t,xP=t=>{const e=Object.fromEntries(t.orderSensitiveModifiers.map(o=>[o,!0]));return o=>{if(o.length<=1)return o;const i=[];let l=[];return o.forEach(d=>{d[0]==="["||e[d]?(i.push(...l.sort(),d),l=[]):l.push(d)}),i.push(...l.sort()),i}},vP=t=>({cache:fP(t.cacheSize),parseClassName:pP(t),sortModifiers:xP(t),...cP(t)}),yP=/\s+/,bP=(t,e)=>{const{parseClassName:r,getClassGroupId:o,getConflictingClassGroupIds:i,sortModifiers:l}=e,d=[],u=t.trim().split(yP);let h="";for(let m=u.length-1;m>=0;m-=1){const g=u[m],{isExternal:p,modifiers:w,hasImportantModifier:b,baseClassName:N,maybePostfixModifierPosition:j}=r(g);if(p){h=g+(h.length>0?" "+h:h);continue}let _=!!j,C=o(_?N.substring(0,j):N);if(!C){if(!_){h=g+(h.length>0?" "+h:h);continue}if(C=o(N),!C){h=g+(h.length>0?" "+h:h);continue}_=!1}const E=l(w).join(":"),S=b?E+Cm:E,T=S+C;if(d.includes(T))continue;d.push(T);const q=i(C,_);for(let A=0;A<q.length;++A){const U=q[A];d.push(S+U)}h=g+(h.length>0?" "+h:h)}return h};function wP(){let t=0,e,r,o="";for(;t<arguments.length;)(e=arguments[t++])&&(r=a1(e))&&(o&&(o+=" "),o+=r);return o}const a1=t=>{if(typeof t=="string")return t;let e,r="";for(let o=0;o<t.length;o++)t[o]&&(e=a1(t[o]))&&(r&&(r+=" "),r+=e);return r};function jP(t,...e){let r,o,i,l=d;function d(h){const m=e.reduce((g,p)=>p(g),t());return r=vP(m),o=r.cache.get,i=r.cache.set,l=u,u(h)}function u(h){const m=o(h);if(m)return m;const g=bP(h,r);return i(h,g),g}return function(){return l(wP.apply(null,arguments))}}const Kt=t=>{const e=r=>r[t]||[];return e.isThemeGetter=!0,e},i1=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,l1=/^\((?:(\w[\w-]*):)?(.+)\)$/i,_P=/^\d+\/\d+$/,NP=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,EP=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,SP=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,CP=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,kP=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ja=t=>_P.test(t),Ge=t=>!!t&&!Number.isNaN(Number(t)),Zs=t=>!!t&&Number.isInteger(Number(t)),Mf=t=>t.endsWith("%")&&Ge(t.slice(0,-1)),hs=t=>NP.test(t),RP=()=>!0,AP=t=>EP.test(t)&&!SP.test(t),c1=()=>!1,PP=t=>CP.test(t),TP=t=>kP.test(t),OP=t=>!Te(t)&&!Oe(t),IP=t=>Ai(t,h1,c1),Te=t=>i1.test(t),qo=t=>Ai(t,f1,AP),Df=t=>Ai(t,BP,Ge),Lv=t=>Ai(t,d1,c1),MP=t=>Ai(t,u1,TP),_d=t=>Ai(t,m1,PP),Oe=t=>l1.test(t),yl=t=>Pi(t,f1),DP=t=>Pi(t,FP),$v=t=>Pi(t,d1),LP=t=>Pi(t,h1),$P=t=>Pi(t,u1),Nd=t=>Pi(t,m1,!0),Ai=(t,e,r)=>{const o=i1.exec(t);return o?o[1]?e(o[1]):r(o[2]):!1},Pi=(t,e,r=!1)=>{const o=l1.exec(t);return o?o[1]?e(o[1]):r:!1},d1=t=>t==="position"||t==="percentage",u1=t=>t==="image"||t==="url",h1=t=>t==="length"||t==="size"||t==="bg-size",f1=t=>t==="length",BP=t=>t==="number",FP=t=>t==="family-name",m1=t=>t==="shadow",zP=()=>{const t=Kt("color"),e=Kt("font"),r=Kt("text"),o=Kt("font-weight"),i=Kt("tracking"),l=Kt("leading"),d=Kt("breakpoint"),u=Kt("container"),h=Kt("spacing"),m=Kt("radius"),g=Kt("shadow"),p=Kt("inset-shadow"),w=Kt("text-shadow"),b=Kt("drop-shadow"),N=Kt("blur"),j=Kt("perspective"),_=Kt("aspect"),C=Kt("ease"),E=Kt("animate"),S=()=>["auto","avoid","all","avoid-page","page","left","right","column"],T=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],q=()=>[...T(),Oe,Te],A=()=>["auto","hidden","clip","visible","scroll"],U=()=>["auto","contain","none"],K=()=>[Oe,Te,h],ue=()=>[Ja,"full","auto",...K()],V=()=>[Zs,"none","subgrid",Oe,Te],O=()=>["auto",{span:["full",Zs,Oe,Te]},Zs,Oe,Te],Y=()=>[Zs,"auto",Oe,Te],I=()=>["auto","min","max","fr",Oe,Te],L=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],ce=()=>["start","end","center","stretch","center-safe","end-safe"],ae=()=>["auto",...K()],fe=()=>[Ja,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...K()],z=()=>[t,Oe,Te],he=()=>[...T(),$v,Lv,{position:[Oe,Te]}],de=()=>["no-repeat",{repeat:["","x","y","space","round"]}],R=()=>["auto","cover","contain",LP,IP,{size:[Oe,Te]}],B=()=>[Mf,yl,qo],F=()=>["","none","full",m,Oe,Te],D=()=>["",Ge,yl,qo],oe=()=>["solid","dashed","dotted","double"],pe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],se=()=>[Ge,Mf,$v,Lv],P=()=>["","none",N,Oe,Te],Z=()=>["none",Ge,Oe,Te],le=()=>["none",Ge,Oe,Te],ve=()=>[Ge,Oe,Te],je=()=>[Ja,"full",...K()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[hs],breakpoint:[hs],color:[RP],container:[hs],"drop-shadow":[hs],ease:["in","out","in-out"],font:[OP],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[hs],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[hs],shadow:[hs],spacing:["px",Ge],text:[hs],"text-shadow":[hs],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Ja,Te,Oe,_]}],container:["container"],columns:[{columns:[Ge,Te,Oe,u]}],"break-after":[{"break-after":S()}],"break-before":[{"break-before":S()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:q()}],overflow:[{overflow:A()}],"overflow-x":[{"overflow-x":A()}],"overflow-y":[{"overflow-y":A()}],overscroll:[{overscroll:U()}],"overscroll-x":[{"overscroll-x":U()}],"overscroll-y":[{"overscroll-y":U()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:ue()}],"inset-x":[{"inset-x":ue()}],"inset-y":[{"inset-y":ue()}],start:[{start:ue()}],end:[{end:ue()}],top:[{top:ue()}],right:[{right:ue()}],bottom:[{bottom:ue()}],left:[{left:ue()}],visibility:["visible","invisible","collapse"],z:[{z:[Zs,"auto",Oe,Te]}],basis:[{basis:[Ja,"full","auto",u,...K()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Ge,Ja,"auto","initial","none",Te]}],grow:[{grow:["",Ge,Oe,Te]}],shrink:[{shrink:["",Ge,Oe,Te]}],order:[{order:[Zs,"first","last","none",Oe,Te]}],"grid-cols":[{"grid-cols":V()}],"col-start-end":[{col:O()}],"col-start":[{"col-start":Y()}],"col-end":[{"col-end":Y()}],"grid-rows":[{"grid-rows":V()}],"row-start-end":[{row:O()}],"row-start":[{"row-start":Y()}],"row-end":[{"row-end":Y()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":I()}],"auto-rows":[{"auto-rows":I()}],gap:[{gap:K()}],"gap-x":[{"gap-x":K()}],"gap-y":[{"gap-y":K()}],"justify-content":[{justify:[...L(),"normal"]}],"justify-items":[{"justify-items":[...ce(),"normal"]}],"justify-self":[{"justify-self":["auto",...ce()]}],"align-content":[{content:["normal",...L()]}],"align-items":[{items:[...ce(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...ce(),{baseline:["","last"]}]}],"place-content":[{"place-content":L()}],"place-items":[{"place-items":[...ce(),"baseline"]}],"place-self":[{"place-self":["auto",...ce()]}],p:[{p:K()}],px:[{px:K()}],py:[{py:K()}],ps:[{ps:K()}],pe:[{pe:K()}],pt:[{pt:K()}],pr:[{pr:K()}],pb:[{pb:K()}],pl:[{pl:K()}],m:[{m:ae()}],mx:[{mx:ae()}],my:[{my:ae()}],ms:[{ms:ae()}],me:[{me:ae()}],mt:[{mt:ae()}],mr:[{mr:ae()}],mb:[{mb:ae()}],ml:[{ml:ae()}],"space-x":[{"space-x":K()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":K()}],"space-y-reverse":["space-y-reverse"],size:[{size:fe()}],w:[{w:[u,"screen",...fe()]}],"min-w":[{"min-w":[u,"screen","none",...fe()]}],"max-w":[{"max-w":[u,"screen","none","prose",{screen:[d]},...fe()]}],h:[{h:["screen","lh",...fe()]}],"min-h":[{"min-h":["screen","lh","none",...fe()]}],"max-h":[{"max-h":["screen","lh",...fe()]}],"font-size":[{text:["base",r,yl,qo]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[o,Oe,Df]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Mf,Te]}],"font-family":[{font:[DP,Te,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,Oe,Te]}],"line-clamp":[{"line-clamp":[Ge,"none",Oe,Df]}],leading:[{leading:[l,...K()]}],"list-image":[{"list-image":["none",Oe,Te]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Oe,Te]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:z()}],"text-color":[{text:z()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...oe(),"wavy"]}],"text-decoration-thickness":[{decoration:[Ge,"from-font","auto",Oe,qo]}],"text-decoration-color":[{decoration:z()}],"underline-offset":[{"underline-offset":[Ge,"auto",Oe,Te]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:K()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Oe,Te]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Oe,Te]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:he()}],"bg-repeat":[{bg:de()}],"bg-size":[{bg:R()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Zs,Oe,Te],radial:["",Oe,Te],conic:[Zs,Oe,Te]},$P,MP]}],"bg-color":[{bg:z()}],"gradient-from-pos":[{from:B()}],"gradient-via-pos":[{via:B()}],"gradient-to-pos":[{to:B()}],"gradient-from":[{from:z()}],"gradient-via":[{via:z()}],"gradient-to":[{to:z()}],rounded:[{rounded:F()}],"rounded-s":[{"rounded-s":F()}],"rounded-e":[{"rounded-e":F()}],"rounded-t":[{"rounded-t":F()}],"rounded-r":[{"rounded-r":F()}],"rounded-b":[{"rounded-b":F()}],"rounded-l":[{"rounded-l":F()}],"rounded-ss":[{"rounded-ss":F()}],"rounded-se":[{"rounded-se":F()}],"rounded-ee":[{"rounded-ee":F()}],"rounded-es":[{"rounded-es":F()}],"rounded-tl":[{"rounded-tl":F()}],"rounded-tr":[{"rounded-tr":F()}],"rounded-br":[{"rounded-br":F()}],"rounded-bl":[{"rounded-bl":F()}],"border-w":[{border:D()}],"border-w-x":[{"border-x":D()}],"border-w-y":[{"border-y":D()}],"border-w-s":[{"border-s":D()}],"border-w-e":[{"border-e":D()}],"border-w-t":[{"border-t":D()}],"border-w-r":[{"border-r":D()}],"border-w-b":[{"border-b":D()}],"border-w-l":[{"border-l":D()}],"divide-x":[{"divide-x":D()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":D()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...oe(),"hidden","none"]}],"divide-style":[{divide:[...oe(),"hidden","none"]}],"border-color":[{border:z()}],"border-color-x":[{"border-x":z()}],"border-color-y":[{"border-y":z()}],"border-color-s":[{"border-s":z()}],"border-color-e":[{"border-e":z()}],"border-color-t":[{"border-t":z()}],"border-color-r":[{"border-r":z()}],"border-color-b":[{"border-b":z()}],"border-color-l":[{"border-l":z()}],"divide-color":[{divide:z()}],"outline-style":[{outline:[...oe(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Ge,Oe,Te]}],"outline-w":[{outline:["",Ge,yl,qo]}],"outline-color":[{outline:z()}],shadow:[{shadow:["","none",g,Nd,_d]}],"shadow-color":[{shadow:z()}],"inset-shadow":[{"inset-shadow":["none",p,Nd,_d]}],"inset-shadow-color":[{"inset-shadow":z()}],"ring-w":[{ring:D()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:z()}],"ring-offset-w":[{"ring-offset":[Ge,qo]}],"ring-offset-color":[{"ring-offset":z()}],"inset-ring-w":[{"inset-ring":D()}],"inset-ring-color":[{"inset-ring":z()}],"text-shadow":[{"text-shadow":["none",w,Nd,_d]}],"text-shadow-color":[{"text-shadow":z()}],opacity:[{opacity:[Ge,Oe,Te]}],"mix-blend":[{"mix-blend":[...pe(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":pe()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Ge]}],"mask-image-linear-from-pos":[{"mask-linear-from":se()}],"mask-image-linear-to-pos":[{"mask-linear-to":se()}],"mask-image-linear-from-color":[{"mask-linear-from":z()}],"mask-image-linear-to-color":[{"mask-linear-to":z()}],"mask-image-t-from-pos":[{"mask-t-from":se()}],"mask-image-t-to-pos":[{"mask-t-to":se()}],"mask-image-t-from-color":[{"mask-t-from":z()}],"mask-image-t-to-color":[{"mask-t-to":z()}],"mask-image-r-from-pos":[{"mask-r-from":se()}],"mask-image-r-to-pos":[{"mask-r-to":se()}],"mask-image-r-from-color":[{"mask-r-from":z()}],"mask-image-r-to-color":[{"mask-r-to":z()}],"mask-image-b-from-pos":[{"mask-b-from":se()}],"mask-image-b-to-pos":[{"mask-b-to":se()}],"mask-image-b-from-color":[{"mask-b-from":z()}],"mask-image-b-to-color":[{"mask-b-to":z()}],"mask-image-l-from-pos":[{"mask-l-from":se()}],"mask-image-l-to-pos":[{"mask-l-to":se()}],"mask-image-l-from-color":[{"mask-l-from":z()}],"mask-image-l-to-color":[{"mask-l-to":z()}],"mask-image-x-from-pos":[{"mask-x-from":se()}],"mask-image-x-to-pos":[{"mask-x-to":se()}],"mask-image-x-from-color":[{"mask-x-from":z()}],"mask-image-x-to-color":[{"mask-x-to":z()}],"mask-image-y-from-pos":[{"mask-y-from":se()}],"mask-image-y-to-pos":[{"mask-y-to":se()}],"mask-image-y-from-color":[{"mask-y-from":z()}],"mask-image-y-to-color":[{"mask-y-to":z()}],"mask-image-radial":[{"mask-radial":[Oe,Te]}],"mask-image-radial-from-pos":[{"mask-radial-from":se()}],"mask-image-radial-to-pos":[{"mask-radial-to":se()}],"mask-image-radial-from-color":[{"mask-radial-from":z()}],"mask-image-radial-to-color":[{"mask-radial-to":z()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":T()}],"mask-image-conic-pos":[{"mask-conic":[Ge]}],"mask-image-conic-from-pos":[{"mask-conic-from":se()}],"mask-image-conic-to-pos":[{"mask-conic-to":se()}],"mask-image-conic-from-color":[{"mask-conic-from":z()}],"mask-image-conic-to-color":[{"mask-conic-to":z()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:he()}],"mask-repeat":[{mask:de()}],"mask-size":[{mask:R()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Oe,Te]}],filter:[{filter:["","none",Oe,Te]}],blur:[{blur:P()}],brightness:[{brightness:[Ge,Oe,Te]}],contrast:[{contrast:[Ge,Oe,Te]}],"drop-shadow":[{"drop-shadow":["","none",b,Nd,_d]}],"drop-shadow-color":[{"drop-shadow":z()}],grayscale:[{grayscale:["",Ge,Oe,Te]}],"hue-rotate":[{"hue-rotate":[Ge,Oe,Te]}],invert:[{invert:["",Ge,Oe,Te]}],saturate:[{saturate:[Ge,Oe,Te]}],sepia:[{sepia:["",Ge,Oe,Te]}],"backdrop-filter":[{"backdrop-filter":["","none",Oe,Te]}],"backdrop-blur":[{"backdrop-blur":P()}],"backdrop-brightness":[{"backdrop-brightness":[Ge,Oe,Te]}],"backdrop-contrast":[{"backdrop-contrast":[Ge,Oe,Te]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Ge,Oe,Te]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Ge,Oe,Te]}],"backdrop-invert":[{"backdrop-invert":["",Ge,Oe,Te]}],"backdrop-opacity":[{"backdrop-opacity":[Ge,Oe,Te]}],"backdrop-saturate":[{"backdrop-saturate":[Ge,Oe,Te]}],"backdrop-sepia":[{"backdrop-sepia":["",Ge,Oe,Te]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":K()}],"border-spacing-x":[{"border-spacing-x":K()}],"border-spacing-y":[{"border-spacing-y":K()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Oe,Te]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Ge,"initial",Oe,Te]}],ease:[{ease:["linear","initial",C,Oe,Te]}],delay:[{delay:[Ge,Oe,Te]}],animate:[{animate:["none",E,Oe,Te]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[j,Oe,Te]}],"perspective-origin":[{"perspective-origin":q()}],rotate:[{rotate:Z()}],"rotate-x":[{"rotate-x":Z()}],"rotate-y":[{"rotate-y":Z()}],"rotate-z":[{"rotate-z":Z()}],scale:[{scale:le()}],"scale-x":[{"scale-x":le()}],"scale-y":[{"scale-y":le()}],"scale-z":[{"scale-z":le()}],"scale-3d":["scale-3d"],skew:[{skew:ve()}],"skew-x":[{"skew-x":ve()}],"skew-y":[{"skew-y":ve()}],transform:[{transform:[Oe,Te,"","none","gpu","cpu"]}],"transform-origin":[{origin:q()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:je()}],"translate-x":[{"translate-x":je()}],"translate-y":[{"translate-y":je()}],"translate-z":[{"translate-z":je()}],"translate-none":["translate-none"],accent:[{accent:z()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:z()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Oe,Te]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":K()}],"scroll-mx":[{"scroll-mx":K()}],"scroll-my":[{"scroll-my":K()}],"scroll-ms":[{"scroll-ms":K()}],"scroll-me":[{"scroll-me":K()}],"scroll-mt":[{"scroll-mt":K()}],"scroll-mr":[{"scroll-mr":K()}],"scroll-mb":[{"scroll-mb":K()}],"scroll-ml":[{"scroll-ml":K()}],"scroll-p":[{"scroll-p":K()}],"scroll-px":[{"scroll-px":K()}],"scroll-py":[{"scroll-py":K()}],"scroll-ps":[{"scroll-ps":K()}],"scroll-pe":[{"scroll-pe":K()}],"scroll-pt":[{"scroll-pt":K()}],"scroll-pr":[{"scroll-pr":K()}],"scroll-pb":[{"scroll-pb":K()}],"scroll-pl":[{"scroll-pl":K()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Oe,Te]}],fill:[{fill:["none",...z()]}],"stroke-w":[{stroke:[Ge,yl,qo,Df]}],stroke:[{stroke:["none",...z()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},UP=jP(zP);function Ye(...t){return UP(s1(t))}const Yn=Hw,qP=Kw,p1=v.forwardRef(({className:t,...e},r)=>n.jsx(mp,{ref:r,className:Ye("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));p1.displayName=mp.displayName;const En=v.forwardRef(({className:t,children:e,...r},o)=>n.jsxs(qP,{children:[n.jsx(p1,{}),n.jsxs(pp,{ref:o,className:Ye("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...r,children:[e,n.jsxs(vp,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[n.jsx(r1,{className:"h-4 w-4"}),n.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));En.displayName=pp.displayName;const Sn=({className:t,...e})=>n.jsx("div",{className:Ye("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});Sn.displayName="DialogHeader";const bp=({className:t,...e})=>n.jsx("div",{className:Ye("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});bp.displayName="DialogFooter";const Cn=v.forwardRef(({className:t,...e},r)=>n.jsx(gp,{ref:r,className:Ye("text-lg font-semibold leading-none tracking-tight",t),...e}));Cn.displayName=gp.displayName;const bu=v.forwardRef(({className:t,...e},r)=>n.jsx(xp,{ref:r,className:Ye("text-sm text-muted-foreground",t),...e}));bu.displayName=xp.displayName;const Bv=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,Fv=s1,wp=(t,e)=>r=>{var o;if((e==null?void 0:e.variants)==null)return Fv(t,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:i,defaultVariants:l}=e,d=Object.keys(i).map(m=>{const g=r==null?void 0:r[m],p=l==null?void 0:l[m];if(g===null)return null;const w=Bv(g)||Bv(p);return i[m][w]}),u=r&&Object.entries(r).reduce((m,g)=>{let[p,w]=g;return w===void 0||(m[p]=w),m},{}),h=e==null||(o=e.compoundVariants)===null||o===void 0?void 0:o.reduce((m,g)=>{let{class:p,className:w,...b}=g;return Object.entries(b).every(N=>{let[j,_]=N;return Array.isArray(_)?_.includes({...l,...u}[j]):{...l,...u}[j]===_})?[...m,p,w]:m},[]);return Fv(t,d,h,r==null?void 0:r.class,r==null?void 0:r.className)},jp=wp("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),Mt=v.forwardRef(({className:t,variant:e,size:r,asChild:o=!1,...i},l)=>{const d=o?bR:"button";return n.jsx(d,{className:Ye(jp({variant:e,size:r,className:t})),ref:l,...i})});Mt.displayName="Button";function Ed({options:t,value:e,onChange:r,placeholder:o}){const[i,l]=v.useState(!1),d=be.useRef(null);v.useEffect(()=>{function m(g){d.current&&!d.current.contains(g.target)&&l(!1)}return document.addEventListener("mousedown",m),()=>document.removeEventListener("mousedown",m)},[]);const u=t.find(m=>m.value===e),h=u?u.label:o;return n.jsxs("div",{ref:d,style:{position:"relative"},children:[n.jsxs("button",{onClick:()=>l(!i),className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-100 bg-white",style:{display:"flex",alignItems:"center",justifyContent:"space-between",textAlign:"left"},children:[n.jsx("span",{className:"text-sm text-slate-700",children:h}),n.jsx("svg",{className:`w-4 h-4 text-slate-500 transition-transform flex-shrink-0 ml-2 ${i?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),i&&n.jsx("div",{className:"absolute z-50 w-full mt-2 bg-white rounded-lg shadow-lg overflow-hidden",style:{border:"1px solid #376295"},children:t.map(m=>n.jsx("div",{onClick:()=>{r(m.value),l(!1)},className:"px-4 py-3 cursor-pointer transition-colors text-sm text-slate-700 hover:bg-blue-50",style:{backgroundColor:e===m.value?"#E8F0F8":"white",fontWeight:e===m.value?"600":"normal"},children:m.label},m.value))})]})}function WP(){var de;const t=qt(),{user:e}=ya(),[r,o]=v.useState("day"),[i,l]=v.useState(new Date),[d,u]=v.useState(new Date),[h,m]=v.useState([]),[g,p]=v.useState(!0),[w,b]=v.useState(""),[N,j]=v.useState(""),[_,C]=v.useState("total"),[E,S]=v.useState({status:"",atendente:"",motoboy:"",regiao:"",periodo:""}),[T,q]=v.useState(!1),[A,U]=v.useState(null),K=R=>{const B=R.getFullYear(),F=R.getMonth(),D=new Date(B,F,1),pe=new Date(B,F+1,0).getDate(),se=D.getDay(),P=[];for(let Z=0;Z<se;Z++)P.push({day:"",isCurrentMonth:!1});for(let Z=1;Z<=pe;Z++){const le=new Date(B,F,Z);P.push({day:Z,isCurrentMonth:!0,isSelected:Z===i.getDate()&&F===i.getMonth()&&B===i.getFullYear(),date:le})}return P},ue=async()=>{p(!0);try{let R=Ne.from("entregas").select(`
          *,
          cliente:clientes(id, nome, telefone),
          endereco:enderecos(id, logradouro, numero, bairro, cidade, complemento),
          motoboy:motoboys(id, nome)
        `).eq("tipo","moto").order("data_entrega",{ascending:!0});const{data:B,error:F}=await R;if(F)throw F;const oe=await Promise.all((B||[]).map(async se=>{let P=[];if(se.clientes_adicionais&&se.clientes_adicionais.length>0){const{data:le}=await Ne.from("clientes").select("id, nome, telefone").in("id",se.clientes_adicionais);P=le||[]}const Z=se.endereco_logradouro?{id:se.endereco_id,logradouro:se.endereco_logradouro,numero:se.endereco_numero,complemento:se.endereco_complemento,bairro:se.endereco_bairro,cidade:se.endereco_cidade,cep:se.endereco_cep}:se.endereco;return{...se,endereco:Z,clientes_adicionais_data:P}}))||[],pe=[{id:"exemplo-1",status:"A Caminho",requisicao:"12345",atendente:"Maria Isabel",data_entrega:i.toISOString(),regiao:"Centro",periodo:"Manh",valor:45.5,forma_pagamento:"Dinheiro",cliente:{nome:"Maria Silva Santos",telefone:"(11) 98765-4321"},endereco:{logradouro:"Rua das Flores",numero:"123",complemento:"Apto 45",bairro:"Jardim Paulista",cidade:"So Paulo"},motoboy:{nome:"Marcio"}},{id:"exemplo-2",status:"Produzindo no Laboratrio",requisicao:"12346",atendente:"Joo Silva",data_entrega:i.toISOString(),regiao:"Zona Sul",periodo:"Tarde",valor:32,forma_pagamento:"Carto",cliente:{nome:"Carlos Eduardo Oliveira",telefone:"(11) 97654-3210"},endereco:{logradouro:"Avenida Paulista",numero:"1578",complemento:"Sala 201",bairro:"Bela Vista",cidade:"So Paulo"},motoboy:{nome:"Bruno"}},{id:"exemplo-3",status:"Entregue",requisicao:"12347",atendente:"Ana Paula",data_entrega:i.toISOString(),regiao:"Zona Norte",periodo:"Manh",valor:28.75,forma_pagamento:"Pix",cliente:{nome:"Ana Paula Costa",telefone:"(11) 96543-2109"},endereco:{logradouro:"Rua Augusta",numero:"789",bairro:"Consolao",cidade:"So Paulo"},motoboy:{nome:"Marcio"}},{id:"exemplo-4",status:"A Caminho",requisicao:"REQ-001",atendente:"Carlos Santos",data_entrega:i.toISOString(),regiao:"ITAJA",periodo:"Tarde",valor:52,forma_pagamento:"Boleto",item_geladeira:!0,cliente:{nome:"Roberto Santos Silva",telefone:"(47) 99876-5432"},endereco:{logradouro:"Rua das Accias",numero:"456",complemento:"Casa",bairro:"Centro",cidade:"Itaja"},motoboy:{nome:"Marcio"}},{id:"exemplo-5",status:"Produzindo no Laboratrio",requisicao:"REQ-002",atendente:"Maria Isabel",data_entrega:i.toISOString(),regiao:"PRAIA BRAVA",periodo:"Manh",valor:65,forma_pagamento:"Pix - Aguardando",buscar_receita:!0,cliente:{nome:"Fernanda Lima Costa",telefone:"(47) 98888-7777"},endereco:{logradouro:"Avenida Atlntica",numero:"2000",complemento:"Apto 302",bairro:"Praia Brava",cidade:"Balnerio Cambori"},motoboy:{nome:"Bruno"}},{id:"exemplo-6",status:"A Caminho",requisicao:"REQ-003",atendente:"Joo Silva",data_entrega:i.toISOString(),regiao:"Centro",periodo:"Tarde",valor:38,forma_pagamento:"Carto",cliente:{nome:"Pedro Henrique Alves",telefone:"(11) 99123-4567"},endereco:{logradouro:"Rua Oscar Freire",numero:"500",bairro:"Jardins",cidade:"So Paulo"},motoboy:{nome:"Bruno"}},{id:"exemplo-7",status:"Entregue",requisicao:"REQ-004",atendente:"Ana Paula",data_entrega:i.toISOString(),regiao:"Zona Norte",periodo:"Manh",valor:42.5,forma_pagamento:"Pix",item_geladeira:!0,cliente:{nome:"Juliana Martins",telefone:"(11) 98234-5678"},endereco:{logradouro:"Avenida Pacaembu",numero:"1200",complemento:"Bloco A",bairro:"Pacaembu",cidade:"So Paulo"},motoboy:{nome:"Marcio"}},{id:"exemplo-8",status:"Produzindo no Laboratrio",requisicao:"REQ-005",atendente:"Carlos Santos",data_entrega:i.toISOString(),regiao:"ITAJA",periodo:"Tarde",valor:55,forma_pagamento:"Dinheiro",buscar_receita:!0,cliente:{nome:"Ricardo Souza Lima",telefone:"(47) 99345-6789"},endereco:{logradouro:"Rua Alberto Werner",numero:"800",bairro:"So Joo",cidade:"Itaja"},motoboy:{nome:"Bruno"}},{id:"exemplo-9",status:"A Caminho",requisicao:"REQ-006",atendente:"Maria Isabel",data_entrega:i.toISOString(),regiao:"PRAIA BRAVA",periodo:"Manh",valor:72,forma_pagamento:"Pix",item_geladeira:!0,buscar_receita:!0,cliente:{nome:"Beatriz Oliveira Santos",telefone:"(47) 98456-7890"},endereco:{logradouro:"Avenida Central",numero:"3500",complemento:"Apto 1502",bairro:"Praia Brava",cidade:"Balnerio Cambori"},motoboy:{nome:"Marcio"}},{id:"exemplo-10",status:"Entregue",requisicao:"REQ-007",atendente:"Joo Silva",data_entrega:i.toISOString(),regiao:"Zona Sul",periodo:"Tarde",valor:31.5,forma_pagamento:"Boleto",cliente:{nome:"Gustavo Ferreira Costa",telefone:"(11) 97567-8901"},endereco:{logradouro:"Avenida Ibirapuera",numero:"2500",bairro:"Moema",cidade:"So Paulo"},motoboy:{nome:"Bruno"}}];m(oe)}catch(R){console.error("Erro ao carregar entregas:",R),me.error("Erro ao carregar entregas")}finally{p(!1)}};v.useEffect(()=>{ue()},[]);const V=R=>R.sort((B,F)=>{var ve,je,Ee,Ae;const D=((ve=B.motoboy)==null?void 0:ve.nome)||"",oe=((je=F.motoboy)==null?void 0:je.nome)||"";if(D!==oe)return D.localeCompare(oe);const pe={"Produzindo no Laboratrio":1,"A Caminho":2,Entregue:3},se=pe[B.status]||999,P=pe[F.status]||999;if(se!==P)return se-P;const Z=((Ee=B.cliente)==null?void 0:Ee.nome)||"",le=((Ae=F.cliente)==null?void 0:Ae.nome)||"";return Z.localeCompare(le)}),O=R=>{var F;const B=[((F=R.cliente)==null?void 0:F.nome)||"Cliente no informado"];return R.clientes_adicionais_data&&R.clientes_adicionais_data.length>0&&R.clientes_adicionais_data.forEach(D=>{B.push(D.nome)}),B},Y=R=>{const B=O(R);return B.length===1?B[0]:B.join(", ")},I=h.filter(R=>{var B,F,D,oe;if(r==="day"){if(!R.data_entrega)return!1;const pe=R.data_entrega.split("T")[0],se=i.toISOString().split("T")[0];if(pe!==se)return!1}if(N&&R.status!==N)return!1;if(w){const pe=w.toLowerCase(),P=O(R).some(ve=>ve.toLowerCase().includes(pe)),Z=(B=R.requisicao)==null?void 0:B.toLowerCase().includes(pe),le=(D=(F=R.cliente)==null?void 0:F.telefone)==null?void 0:D.includes(w);if(!P&&!Z&&!le)return!1}return!(E.atendente&&R.atendente!==E.atendente||E.motoboy&&((oe=R.motoboy)==null?void 0:oe.nome)!==E.motoboy||E.regiao&&R.regiao!==E.regiao||E.periodo&&R.periodo!==E.periodo)}),L=V(I.filter(R=>R.periodo==="Manh")),ce=V(I.filter(R=>R.periodo==="Tarde")),ae=h.filter(R=>{if(r==="day"){if(!R.data_entrega)return!1;const B=R.data_entrega.split("T")[0],F=i.toISOString().split("T")[0];if(B!==F)return!1}return!0}),fe={total:ae.length,producao:ae.filter(R=>R.status==="Produzindo no Laboratrio").length,caminho:ae.filter(R=>R.status==="A Caminho").length,entregues:ae.filter(R=>R.status==="Entregue").length},z=async(R,B)=>{const F=me.loading("Alterando status...");try{const{error:D}=await Ne.from("entregas").update({status:B}).eq("id",R.id);if(D)throw D;me.success("Status alterado com sucesso!",{id:F}),ue(),q(!1)}catch(D){console.error("Erro ao alterar status:",D),me.error("Erro ao alterar status",{id:F})}},he=R=>{t(`/detalhes-romaneio?id=${R.id}`)};return n.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100",children:[n.jsx("div",{className:"py-8 shadow-sm",style:{background:"linear-gradient(135deg, #457bba 0%, #890d5d 100%)"},children:n.jsx("div",{className:"max-w-7xl mx-auto px-6",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("button",{onClick:()=>t(-1),className:"p-2 rounded-lg bg-white/20 hover:bg-white/30 transition-colors",children:n.jsx(Ut,{className:"w-6 h-6 text-white"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-4xl font-bold text-white",children:"Entregas Moto"}),n.jsxs("p",{className:"text-base text-white opacity-90 mt-1",children:["Ol, ",(e==null?void 0:e.nome)||(e==null?void 0:e.usuario)||"Usurio"]})]})]})})}),n.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-6 flex flex-col lg:flex-row gap-6",children:[n.jsx("div",{className:"w-full lg:w-80 flex-shrink-0",children:n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6 sticky top-6",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[n.jsxs("button",{onClick:()=>o("day"),className:"flex-1 flex items-center justify-center gap-2 px-4 py-2 rounded-lg font-semibold text-sm transition-all",style:{backgroundColor:r==="day"?"#376295":"white",color:r==="day"?"white":"#64748b",border:r==="day"?"none":"1px solid #e2e8f0"},children:[n.jsx(wo,{className:"w-4 h-4"}),"Por Dia"]}),n.jsxs("button",{onClick:()=>{o("all"),j("")},className:"flex-1 flex items-center justify-center gap-2 px-4 py-2 rounded-lg font-semibold text-sm transition-all",style:{backgroundColor:r==="all"?"#376295":"white",color:r==="all"?"white":"#64748b",border:r==="all"?"none":"1px solid #e2e8f0"},children:[n.jsx(yo,{className:"w-4 h-4"}),"Todos"]})]}),n.jsxs("div",{className:"border rounded-xl p-3 mb-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsx("button",{onClick:()=>{const R=new Date(d);R.setMonth(R.getMonth()-1),u(R)},className:"p-2 hover:bg-slate-100 rounded-lg transition-colors",children:n.jsx(Ut,{className:"w-5 h-5 text-slate-600"})}),n.jsx("span",{className:"text-sm font-semibold text-slate-700",children:d.toLocaleDateString("pt-BR",{month:"long",year:"numeric"}).replace(/^\w/,R=>R.toUpperCase())}),n.jsx("button",{onClick:()=>{const R=new Date(d);R.setMonth(R.getMonth()+1),u(R)},className:"p-2 hover:bg-slate-100 rounded-lg transition-colors",children:n.jsx(Jl,{className:"w-5 h-5 text-slate-600"})})]}),n.jsxs("div",{className:"grid grid-cols-7 gap-1",children:[["dom","seg","ter","qua","qui","sex","sb"].map(R=>n.jsx("div",{className:"text-center text-xs font-semibold text-slate-500 py-2",children:R},R)),K(d).map((R,B)=>{var oe;if(!R.isCurrentMonth)return n.jsx("div",{className:"aspect-square"},B);const F=R.isSelected,D=((oe=R.date)==null?void 0:oe.toDateString())===new Date().toDateString();return n.jsx("button",{onClick:()=>{l(R.date),o("day")},className:"aspect-square rounded-lg text-sm font-medium transition-all flex items-center justify-center hover:bg-blue-50",style:{backgroundColor:F?"#376295":"transparent",color:F?"white":D?"#376295":"#1e293b",fontWeight:D||F?"bold":"normal"},children:R.day},B)})]})]}),n.jsxs("div",{className:"text-center pt-4 border-t border-slate-200",children:[n.jsx("div",{className:"text-base font-semibold text-slate-700",children:i.toLocaleDateString("pt-BR",{day:"numeric",month:"long"})}),n.jsxs("div",{className:"text-sm text-slate-500",children:[fe.total," entregas"]})]}),n.jsxs("button",{onClick:()=>{const R=i.toISOString().split("T")[0];t(`/relatorios?data=${R}`)},className:"w-full mt-4 flex items-center justify-center gap-2 px-4 py-3 border border-slate-300 rounded-lg hover:bg-slate-50 transition-colors",children:[n.jsx(yo,{className:"w-4 h-4 text-slate-600"}),n.jsx("span",{className:"text-sm font-medium text-slate-700",children:"Relatrio do Dia"})]}),n.jsxs("button",{onClick:()=>{const R=i.toISOString().split("T")[0];t(`/romaneios-do-dia?data=${R}`)},className:"w-full mt-2 flex items-center justify-center gap-2 px-4 py-3 border border-slate-300 rounded-lg hover:bg-slate-50 transition-colors",style:{borderColor:"#890d5d"},children:[n.jsx(jr,{className:"w-4 h-4",style:{color:"#890d5d"}}),n.jsx("span",{className:"text-sm font-medium",style:{color:"#890d5d"},children:"Romaneios do Dia"})]})]})}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4 mb-6",children:[n.jsxs("div",{onClick:()=>{j(""),C("total")},className:"bg-white rounded-xl shadow-sm p-5 cursor-pointer transition-all hover:shadow-md",style:{border:_==="total"?"2px solid #376295":"2px solid transparent"},children:[n.jsxs("div",{className:"flex items-center justify-center gap-2 mb-3",children:[n.jsx("div",{className:"p-2 rounded-lg",style:{backgroundColor:"#E8F0F8"},children:n.jsx(yo,{className:"w-6 h-6",style:{color:"#376295"}})}),n.jsx("span",{className:"text-sm font-bold text-slate-700",children:"Total"})]}),n.jsx("div",{className:"text-4xl font-bold text-center",style:{color:"#376295"},children:fe.total})]}),n.jsxs("div",{onClick:()=>{j("Produzindo no Laboratrio"),C("producao")},className:"bg-white rounded-xl shadow-sm p-5 cursor-pointer transition-all hover:shadow-md",style:{border:_==="producao"?"2px solid #890d5d":"2px solid transparent"},children:[n.jsxs("div",{className:"flex items-center justify-center gap-2 mb-3",children:[n.jsx("div",{className:"p-2 rounded-lg",style:{backgroundColor:"#F5E8F5"},children:n.jsx(Vr,{className:"w-6 h-6",style:{color:"#890d5d"}})}),n.jsx("span",{className:"text-sm font-bold text-slate-700",children:"Produo"})]}),n.jsx("div",{className:"text-4xl font-bold text-center",style:{color:"#890d5d"},children:fe.producao})]}),n.jsxs("div",{onClick:()=>{j("A Caminho"),C("caminho")},className:"bg-white rounded-xl shadow-sm p-5 cursor-pointer transition-all hover:shadow-md",style:{border:_==="caminho"?"2px solid #f97316":"2px solid transparent"},children:[n.jsxs("div",{className:"flex items-center justify-center gap-2 mb-3",children:[n.jsx("div",{className:"p-2 rounded-lg",style:{backgroundColor:"#FEF3E8"},children:n.jsx(ys,{className:"w-6 h-6",style:{color:"#f97316"}})}),n.jsx("span",{className:"text-sm font-bold text-slate-700",children:"A Caminho"})]}),n.jsx("div",{className:"text-4xl font-bold text-center",style:{color:"#f97316"},children:fe.caminho})]}),n.jsxs("div",{onClick:()=>{j("Entregue"),C("entregues")},className:"bg-white rounded-xl shadow-sm p-5 cursor-pointer transition-all hover:shadow-md",style:{border:_==="entregues"?"2px solid #22c55e":"2px solid transparent"},children:[n.jsxs("div",{className:"flex items-center justify-center gap-2 mb-3",children:[n.jsx("div",{className:"p-2 rounded-lg",style:{backgroundColor:"#E8F5E8"},children:n.jsx(fa,{className:"w-6 h-6",style:{color:"#22c55e"}})}),n.jsx("span",{className:"text-sm font-bold text-slate-700",children:"Entregues"})]}),n.jsx("div",{className:"text-4xl font-bold text-center",style:{color:"#22c55e"},children:fe.entregues})]}),n.jsxs("div",{onClick:()=>t("/novo-romaneio"),className:"bg-white rounded-xl shadow-sm p-5 cursor-pointer transition-all hover:shadow-md flex flex-col items-center justify-center text-center",style:{background:"linear-gradient(135deg, #890d5d 0%, #6E0A4A 100%)"},children:[n.jsx("div",{className:"mb-1",children:n.jsx("span",{className:"text-sm font-bold text-white uppercase",children:"Novo Romaneio"})}),n.jsx("div",{className:"text-5xl font-bold text-white",children:"+"})]})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6 mb-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h2",{className:"text-lg font-bold text-slate-900",children:"Buscar e Filtrar"}),(w||N||E.motoboy||E.regiao||E.periodo||E.atendente)&&n.jsxs("button",{onClick:()=>{b(""),j(""),C("total"),S({status:"",atendente:"",motoboy:"",regiao:"",periodo:""})},className:"px-4 py-2 text-sm font-medium text-slate-700 bg-slate-100 hover:bg-slate-200 rounded-lg transition-colors flex items-center gap-2",children:[n.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),"Limpar Filtros"]})]}),(w||N||E.motoboy||E.regiao||E.periodo||E.atendente)&&n.jsxs("div",{className:"mb-4 flex flex-wrap items-center gap-2",children:[n.jsx("span",{className:"text-sm font-medium text-slate-600",children:"Filtros ativos:"}),w&&n.jsxs("span",{className:"inline-flex items-center gap-1.5 px-3 py-1.5 bg-blue-100 text-blue-700 rounded text-sm font-medium",children:[n.jsx(Nn,{className:"w-3.5 h-3.5"}),'Busca: "',w,'"',n.jsx("button",{onClick:()=>b(""),className:"ml-1 hover:bg-blue-200 rounded p-0.5 transition-colors",children:n.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),N&&n.jsxs("span",{className:"inline-flex items-center gap-1.5 px-3 py-1.5 rounded text-sm font-medium",style:{backgroundColor:N==="Entregue"?"#E8F5E8":N==="A Caminho"?"#FEF3E8":"#F5E8F5",color:N==="Entregue"?"#22c55e":N==="A Caminho"?"#f97316":"#890d5d"},children:["Status: ",N==="Produzindo no Laboratrio"?"Produo":N,n.jsx("button",{onClick:()=>{j(""),C("total")},className:"ml-1 hover:opacity-70 rounded p-0.5 transition-opacity",children:n.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),E.motoboy&&n.jsxs("span",{className:"inline-flex items-center gap-1.5 px-3 py-1.5 bg-orange-100 text-orange-700 rounded text-sm font-medium",children:[n.jsx(ys,{className:"w-3.5 h-3.5"}),"Motoboy: ",E.motoboy,n.jsx("button",{onClick:()=>S({...E,motoboy:""}),className:"ml-1 hover:bg-orange-200 rounded p-0.5 transition-colors",children:n.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),E.regiao&&n.jsxs("span",{className:"inline-flex items-center gap-1.5 px-3 py-1.5 rounded text-sm font-medium",style:{backgroundColor:"#F5E8F5",color:"#890d5d"},children:[n.jsx(ji,{className:"w-3.5 h-3.5"}),"Regio: ",E.regiao,n.jsx("button",{onClick:()=>S({...E,regiao:""}),className:"ml-1 hover:opacity-70 rounded p-0.5 transition-opacity",children:n.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),E.periodo&&n.jsxs("span",{className:"inline-flex items-center gap-1.5 px-3 py-1.5 bg-amber-100 text-amber-700 rounded text-sm font-medium",children:[n.jsx(on,{className:"w-3.5 h-3.5"}),"Perodo: ",E.periodo,n.jsx("button",{onClick:()=>S({...E,periodo:""}),className:"ml-1 hover:bg-amber-200 rounded p-0.5 transition-colors",children:n.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),E.atendente&&n.jsxs("span",{className:"inline-flex items-center gap-1.5 px-3 py-1.5 bg-green-100 text-green-700 rounded text-sm font-medium",children:[n.jsx(Hr,{className:"w-3.5 h-3.5"}),"Atendente: ",E.atendente,n.jsx("button",{onClick:()=>S({...E,atendente:""}),className:"ml-1 hover:bg-green-200 rounded p-0.5 transition-colors",children:n.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"relative",children:[n.jsx(Nn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),n.jsx("input",{type:"text",value:w,onChange:R=>b(R.target.value),placeholder:"Buscar por cliente, requisio, atendente ou telefone...",className:"w-full pl-10 pr-4 py-3 border border-slate-300 rounded-lg focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-100 transition-all"})]}),n.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[n.jsx(Ed,{options:[{value:"",label:"Atendentes"},{value:"Maria Isabel",label:"Maria Isabel"},{value:"Joo Silva",label:"Joo Silva"},{value:"Ana Paula",label:"Ana Paula"},{value:"Carlos Santos",label:"Carlos Santos"}],value:E.atendente,onChange:R=>S({...E,atendente:R}),placeholder:"Atendentes"}),n.jsx(Ed,{options:[{value:"",label:"Motoboys"},...Array.from(new Set(h.map(R=>{var B;return(B=R.motoboy)==null?void 0:B.nome}).filter(Boolean))).map(R=>({value:R,label:R}))],value:E.motoboy,onChange:R=>S({...E,motoboy:R}),placeholder:"Motoboys"}),n.jsx(Ed,{options:[{value:"",label:"Regies"},...Array.from(new Set(h.map(R=>R.regiao).filter(Boolean))).map(R=>({value:R,label:R}))],value:E.regiao,onChange:R=>S({...E,regiao:R}),placeholder:"Regies"}),n.jsx(Ed,{options:[{value:"",label:"Perodos"},{value:"Manh",label:"Manh"},{value:"Tarde",label:"Tarde"}],value:E.periodo,onChange:R=>S({...E,periodo:R}),placeholder:"Perodos"})]})]})]}),n.jsx("div",{className:"space-y-6",children:g?n.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:n.jsxs("div",{className:"py-24 text-center",children:[n.jsx("div",{className:"inline-block w-8 h-8 border-4 border-slate-200 border-t-4 rounded-full animate-spin mb-4",style:{borderTopColor:"#376295"}}),n.jsx("p",{className:"text-slate-600",children:"Carregando entregas..."})]})}):I.length===0?n.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:n.jsxs("div",{className:"py-24 text-center",children:[n.jsx(Vr,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:"Nenhuma entrega encontrada"}),n.jsx("p",{className:"text-sm text-slate-600",children:w||E.motoboy||E.regiao||E.periodo?"Tente ajustar os filtros de busca":r==="day"?"No h entregas para esta data":"No h entregas cadastradas"})]})}):n.jsxs(n.Fragment,{children:[L.length>0&&n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border-2 border-slate-300 p-6",children:[n.jsx("div",{className:"mb-6",children:n.jsxs("h2",{className:"text-2xl font-bold text-slate-900 flex items-center gap-2",children:[n.jsx(GA,{className:"w-7 h-7",style:{color:"#f97316"}}),"Entregas da Manh",n.jsx("span",{className:"text-lg font-semibold px-3 py-1 rounded-full bg-slate-100 text-slate-700",children:L.length})]})}),L.map(R=>{var B,F;return n.jsx("div",{onClick:()=>he(R),className:"p-5 mb-4 bg-white rounded-lg border border-slate-200 hover:border-slate-300 transition-all cursor-pointer hover:shadow-md last:mb-0",children:n.jsxs("div",{className:"flex items-center justify-between gap-6",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[n.jsxs("span",{className:"text-base font-semibold",style:{color:"#376295"},children:["#",R.requisicao]}),R.atendente&&n.jsxs(n.Fragment,{children:[n.jsx("span",{className:"text-slate-400",children:""}),n.jsxs("span",{className:"text-sm font-medium text-slate-600 flex items-center gap-1.5",children:[n.jsx(Hr,{className:"w-3.5 h-3.5"}),R.atendente]})]}),n.jsx("span",{className:"px-3 py-1 rounded text-xs font-medium",style:{backgroundColor:R.status==="Entregue"?"#E8F5E8":R.status==="A Caminho"?"#FEF3E8":"#F5E8F5",color:R.status==="Entregue"?"#22c55e":R.status==="A Caminho"?"#f97316":"#890d5d"},children:R.status==="Produzindo no Laboratrio"?"Produo":R.status})]}),n.jsx("h3",{className:"text-lg font-bold text-slate-900 mb-2",children:Y(R)}),n.jsx("div",{className:"mb-3 text-sm text-slate-600",children:n.jsx("span",{children:R.endereco?`${R.endereco.logradouro}, ${R.endereco.numero} - ${R.endereco.bairro} - ${R.endereco.cidade}`:R.endereco_destino||"Endereo no informado"})}),n.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-slate-900",children:[R.motoboy&&n.jsxs("div",{className:"flex items-center gap-1.5",children:[n.jsx(ys,{className:"w-4 h-4",style:{color:"#1e293b"}}),n.jsx("span",{children:R.motoboy.nome})]}),R.periodo&&n.jsxs("div",{className:"flex items-center gap-1.5",children:[n.jsx(on,{className:"w-4 h-4",style:{color:"#1e293b"}}),n.jsx("span",{children:R.periodo})]}),R.forma_pagamento&&n.jsxs("div",{className:"flex items-center gap-1.5 flex-wrap",children:[n.jsx(Em,{className:"w-4 h-4",style:{color:"#1e293b"}}),n.jsx("span",{children:R.forma_pagamento}),R.valor_venda>0&&["Receber Dinheiro","Receber Mquina","Pagar MP"].includes(R.forma_pagamento)&&n.jsxs("span",{style:{backgroundColor:"#e8f5e9",color:"#1b5e20",padding:"2px 8px",borderRadius:"4px",fontSize:"0.75rem",fontWeight:"bold",marginLeft:"4px",border:"1px solid #4caf50",display:"inline-flex",alignItems:"center",gap:"4px"},children:["COBRAR: R$ ",R.valor_venda.toFixed(2)]}),R.precisa_troco&&R.valor_troco>0&&n.jsxs("span",{style:{backgroundColor:"#fff3e0",color:"#e65100",padding:"2px 8px",borderRadius:"4px",fontSize:"0.75rem",fontWeight:"bold",marginLeft:"4px",border:"1px solid #ff9800",display:"inline-flex",alignItems:"center",gap:"4px"},children:[n.jsx(Ov,{className:"w-3 h-3"}),"TROCO: R$ ",R.valor_troco.toFixed(2)]})]}),((B=R.cliente)==null?void 0:B.telefone)&&n.jsxs("div",{className:"flex items-center gap-1.5",children:[n.jsx(Ml,{className:"w-4 h-4",style:{color:"#1e293b"}}),n.jsx("span",{children:R.cliente.telefone})]})]}),R.observacoes&&n.jsxs("div",{className:"mt-2 text-sm text-slate-600 italic bg-slate-50 p-2 rounded",children:[n.jsx("span",{className:"font-medium",children:"Obs:"})," ",R.observacoes]})]}),n.jsxs("div",{className:"flex flex-col items-center gap-3",children:[(R.item_geladeira||R.buscar_receita)&&n.jsxs("div",{className:"flex items-center gap-2",children:[R.item_geladeira&&n.jsxs("span",{className:"px-4 py-2 rounded text-sm font-semibold flex items-center gap-2",style:{backgroundColor:"#cffafe",color:"#0c4a6e"},children:[n.jsx(Tv,{className:"w-5 h-5"}),"Geladeira"]}),R.buscar_receita&&n.jsxs("span",{className:"px-4 py-2 rounded text-sm font-semibold flex items-center gap-2",style:{backgroundColor:"#fef3c7",color:"#92400e"},children:[n.jsx(jr,{className:"w-5 h-5"}),"Reter Receita"]})]}),n.jsxs("div",{className:"text-right",children:[n.jsxs("div",{className:"text-2xl font-bold",style:{color:"#376295"},children:["R$ ",((F=R.valor)==null?void 0:F.toFixed(2))||"0.00"]}),n.jsx("div",{className:"text-sm font-medium",style:{color:"#376295"},children:R.regiao}),n.jsx("div",{className:"text-sm text-slate-500 mt-1",children:R.data_entrega?new Date(R.data_entrega+"T12:00:00").toLocaleDateString("pt-BR"):"-"})]})]})]})},R.id)})]}),ce.length>0&&n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[n.jsx("div",{className:"mb-6",children:n.jsxs("h2",{className:"text-2xl font-bold text-slate-900 flex items-center gap-2",children:[n.jsx(t1,{className:"w-7 h-7",style:{color:"#f59e0b"}}),"Entregas da Tarde",n.jsx("span",{className:"text-lg font-semibold px-3 py-1 rounded-full bg-slate-100 text-slate-700",children:ce.length})]})}),ce.map(R=>{var B,F;return n.jsx("div",{onClick:()=>he(R),className:"p-5 mb-4 bg-white rounded-lg border border-slate-200 hover:border-slate-300 transition-all cursor-pointer hover:shadow-md last:mb-0",children:n.jsxs("div",{className:"flex items-center justify-between gap-6",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[n.jsxs("span",{className:"text-base font-semibold",style:{color:"#376295"},children:["#",R.requisicao]}),R.atendente&&n.jsxs(n.Fragment,{children:[n.jsx("span",{className:"text-slate-400",children:""}),n.jsxs("span",{className:"text-sm font-medium text-slate-600 flex items-center gap-1.5",children:[n.jsx(Hr,{className:"w-3.5 h-3.5"}),R.atendente]})]}),n.jsx("span",{className:"px-3 py-1 rounded text-xs font-medium",style:{backgroundColor:R.status==="Entregue"?"#E8F5E8":R.status==="A Caminho"?"#FEF3E8":"#F5E8F5",color:R.status==="Entregue"?"#22c55e":R.status==="A Caminho"?"#f97316":"#890d5d"},children:R.status==="Produzindo no Laboratrio"?"Produo":R.status})]}),n.jsx("h3",{className:"text-lg font-bold text-slate-900 mb-2",children:Y(R)}),n.jsx("div",{className:"mb-3 text-sm text-slate-600",children:n.jsx("span",{children:R.endereco?`${R.endereco.logradouro}, ${R.endereco.numero} - ${R.endereco.bairro} - ${R.endereco.cidade}`:R.endereco_destino||"Endereo no informado"})}),n.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-slate-900",children:[R.motoboy&&n.jsxs("div",{className:"flex items-center gap-1.5",children:[n.jsx(ys,{className:"w-4 h-4",style:{color:"#1e293b"}}),n.jsx("span",{children:R.motoboy.nome})]}),R.periodo&&n.jsxs("div",{className:"flex items-center gap-1.5",children:[n.jsx(on,{className:"w-4 h-4",style:{color:"#1e293b"}}),n.jsx("span",{children:R.periodo})]}),R.forma_pagamento&&n.jsxs("div",{className:"flex items-center gap-1.5 flex-wrap",children:[n.jsx(Em,{className:"w-4 h-4",style:{color:"#1e293b"}}),n.jsx("span",{children:R.forma_pagamento}),R.valor_venda>0&&["Receber Dinheiro","Receber Mquina","Pagar MP"].includes(R.forma_pagamento)&&n.jsxs("span",{style:{backgroundColor:"#e8f5e9",color:"#1b5e20",padding:"2px 8px",borderRadius:"4px",fontSize:"0.75rem",fontWeight:"bold",marginLeft:"4px",border:"1px solid #4caf50",display:"inline-flex",alignItems:"center",gap:"4px"},children:["COBRAR: R$ ",R.valor_venda.toFixed(2)]}),R.precisa_troco&&R.valor_troco>0&&n.jsxs("span",{style:{backgroundColor:"#fff3e0",color:"#e65100",padding:"2px 8px",borderRadius:"4px",fontSize:"0.75rem",fontWeight:"bold",marginLeft:"4px",border:"1px solid #ff9800",display:"inline-flex",alignItems:"center",gap:"4px"},children:[n.jsx(Ov,{className:"w-3 h-3"}),"TROCO: R$ ",R.valor_troco.toFixed(2)]})]}),((B=R.cliente)==null?void 0:B.telefone)&&n.jsxs("div",{className:"flex items-center gap-1.5",children:[n.jsx(Ml,{className:"w-4 h-4",style:{color:"#1e293b"}}),n.jsx("span",{children:R.cliente.telefone})]})]}),R.observacoes&&n.jsxs("div",{className:"mt-2 text-sm text-slate-600 italic bg-slate-50 p-2 rounded",children:[n.jsx("span",{className:"font-medium",children:"Obs:"})," ",R.observacoes]})]}),n.jsxs("div",{className:"flex flex-col items-center gap-3",children:[(R.item_geladeira||R.buscar_receita)&&n.jsxs("div",{className:"flex items-center gap-2",children:[R.item_geladeira&&n.jsxs("span",{className:"px-4 py-2 rounded text-sm font-semibold flex items-center gap-2",style:{backgroundColor:"#cffafe",color:"#0c4a6e"},children:[n.jsx(Tv,{className:"w-5 h-5"}),"Geladeira"]}),R.buscar_receita&&n.jsxs("span",{className:"px-4 py-2 rounded text-sm font-semibold flex items-center gap-2",style:{backgroundColor:"#fef3c7",color:"#92400e"},children:[n.jsx(jr,{className:"w-5 h-5"}),"Reter Receita"]})]}),n.jsxs("div",{className:"text-right",children:[n.jsxs("div",{className:"text-2xl font-bold",style:{color:"#376295"},children:["R$ ",((F=R.valor)==null?void 0:F.toFixed(2))||"0.00"]}),n.jsx("div",{className:"text-sm font-medium",style:{color:"#376295"},children:R.regiao}),n.jsx("div",{className:"text-sm text-slate-500 mt-1",children:R.data_entrega?new Date(R.data_entrega+"T12:00:00").toLocaleDateString("pt-BR"):"-"})]})]})]})},R.id)})]})]})})]})]}),n.jsx(Yn,{open:T,onOpenChange:q,children:n.jsxs(En,{className:"max-w-2xl",children:[n.jsx(Sn,{children:n.jsx(Cn,{style:{color:"#376295"},children:"Detalhes da Entrega"})}),A&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-slate-600 block mb-2",children:"Status Atual"}),n.jsx("span",{className:"inline-block px-4 py-2 rounded-lg text-sm font-semibold",style:{backgroundColor:A.status==="Entregue"?"#E8F5E8":A.status==="A Caminho"?"#F5E8F5":"#FEF9E8",color:A.status==="Entregue"?"#629537":A.status==="A Caminho"?"#6E0A4A":"#D8CA15"},children:A.status})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"text-sm font-medium text-slate-600 block mb-1",children:["Cliente",O(A).length>1?"s":""]}),n.jsx("div",{className:"text-slate-900",children:Y(A)}),((de=A.cliente)==null?void 0:de.telefone)&&n.jsx("div",{className:"text-sm text-slate-600",children:A.cliente.telefone}),A.clientes_adicionais_data&&A.clientes_adicionais_data.length>0&&n.jsx("div",{className:"text-sm text-slate-600 mt-1",children:A.clientes_adicionais_data.map((R,B)=>n.jsx("div",{children:R.telefone},B))})]}),A.endereco&&n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-slate-600 block mb-1",children:"Endereo"}),n.jsxs("div",{className:"text-slate-900",children:[A.endereco.logradouro,", ",A.endereco.numero,A.endereco.complemento&&` - ${A.endereco.complemento}`,n.jsx("br",{}),A.endereco.bairro," - ",A.endereco.cidade]})]}),n.jsxs("div",{className:"flex gap-2 pt-4 border-t border-slate-200",children:[A.status!=="Entregue"&&n.jsxs(Mt,{onClick:()=>z(A,"Entregue"),style:{backgroundColor:"#629537"},className:"text-white hover:opacity-90",children:[n.jsx(fa,{className:"w-4 h-4 mr-2"}),"Marcar como Entregue"]}),A.status!=="A Caminho"&&n.jsxs(Mt,{onClick:()=>z(A,"A Caminho"),style:{backgroundColor:"#6E0A4A"},className:"text-white hover:opacity-90",children:[n.jsx(ys,{className:"w-4 h-4 mr-2"}),"Marcar como A Caminho"]})]})]})]})})]})}const VP={Marcio:{BC:9,"NOVA ESPERANA":11,CAMBORI:16,TABULEIRO:11,"MONTE ALEGRE":11,BARRA:11,ESTALEIRO:16,TAQUARAS:16,LARANJEIRAS:16,ITAJAI:19,ESPINHEIROS:23,"PRAIA DOS AMORES":13.5,"PRAIA BRAVA":13.5,ITAPEMA:27,NAVEGANTES:30,PENHA:52,"PORTO BELO":52,TIJUCAS:52,PIARRAS:52,BOMBINHAS:72,CLINICA:9},Bruno:{BC:7,"NOVA ESPERANA":9,CAMBORI:14,TABULEIRO:9,"MONTE ALEGRE":9,BARRA:9,ESTALEIRO:14,TAQUARAS:14,LARANJEIRAS:14,ITAJAI:17,ESPINHEIROS:21,"PRAIA DOS AMORES":11.5,"PRAIA BRAVA":11.5,ITAPEMA:25,NAVEGANTES:40,PENHA:50,"PORTO BELO":30,TIJUCAS:50,PIARRAS:50,BOMBINHAS:50,CLINICA:7}},HP={BC:12,"NOVA ESPERANA":15,CAMBORI:20,TABULEIRO:15,"MONTE ALEGRE":15,BARRA:15,ESTALEIRO:25,TAQUARAS:25,LARANJEIRAS:25,ITAJAI:25,ESPINHEIROS:35,"PRAIA DOS AMORES":15,"PRAIA BRAVA":15,ITAPEMA:35,NAVEGANTES:50,PENHA:75,"PORTO BELO":60,TIJUCAS:87,PIARRAS:80,BOMBINHAS:90,CLINICA:12},KP={BC:"Marcio","NOVA ESPERANA":"Marcio",CAMBORI:"Marcio",TABULEIRO:"Marcio","MONTE ALEGRE":"Marcio",BARRA:"Marcio",ESTALEIRO:"Marcio",CLINICA:"Marcio",TAQUARAS:"Bruno",LARANJEIRAS:"Bruno",ITAJAI:"Bruno",ESPINHEIROS:"Bruno","PRAIA DOS AMORES":"Bruno","PRAIA BRAVA":"Bruno",ITAPEMA:"Bruno",NAVEGANTES:"Bruno",PENHA:"Bruno","PORTO BELO":"Bruno",TIJUCAS:"Bruno",PIARRAS:"Bruno",BOMBINHAS:"Bruno"},GP=["BC","NOVA ESPERANA","CAMBORI","TABULEIRO","MONTE ALEGRE","BARRA","ESTALEIRO","TAQUARAS","LARANJEIRAS","ITAJAI","ESPINHEIROS","PRAIA DOS AMORES","PRAIA BRAVA","ITAPEMA","NAVEGANTES","PENHA","PORTO BELO","TIJUCAS","PIARRAS","BOMBINHAS","CLINICA","OUTRO"],Lf=["Aguardando","Boleto","Link Aguardando","Pagar MP","Pago Dinheiro","Pago Link","Pago Mquina","Pago Pix","Pix Aguardando","Receber Dinheiro","Receber Mquina","S Entregar","Via na Pasta"],zv={"balnerio cambori":{centro:"BC",estados:"BC",pioneiros:"BC","nova esperana":"NOVA ESPERANA",naes:"BC",barra:"BARRA","barra sul":"BARRA",estaleiro:"ESTALEIRO",estaleirinho:"ESTALEIRO",taquaras:"TAQUARAS",laranjeiras:"LARANJEIRAS","praia dos amores":"PRAIA DOS AMORES","praia brava":"PRAIA BRAVA",tabuleiro:"TABULEIRO","monte alegre":"MONTE ALEGRE",default:"BC"},bc:{default:"BC"},"balneario camboriu":{centro:"BC",estados:"BC",pioneiros:"BC","nova esperana":"NOVA ESPERANA","nova esperanca":"NOVA ESPERANA",naes:"BC",nacoes:"BC",barra:"BARRA","barra sul":"BARRA",estaleiro:"ESTALEIRO",estaleirinho:"ESTALEIRO",taquaras:"TAQUARAS",laranjeiras:"LARANJEIRAS","praia dos amores":"PRAIA DOS AMORES","praia brava":"PRAIA BRAVA",tabuleiro:"TABULEIRO","monte alegre":"MONTE ALEGRE",default:"BC"},cambori:{default:"CAMBORI"},camboriu:{default:"CAMBORI"},itaja:{centro:"ITAJAI","vila real":"ITAJAI",espinheiros:"ESPINHEIROS",default:"ITAJAI"},itajai:{centro:"ITAJAI","vila real":"ITAJAI",espinheiros:"ESPINHEIROS",default:"ITAJAI"},itapema:{default:"ITAPEMA"},navegantes:{default:"NAVEGANTES"},penha:{default:"PENHA"},"porto belo":{default:"PORTO BELO"},tijucas:{default:"TIJUCAS"},piarras:{default:"PIARRAS"},picarras:{default:"PIARRAS"},bombinhas:{default:"BOMBINHAS"}},bl=(t,e)=>{const r=(t==null?void 0:t.toLowerCase().trim())||"",o=(e==null?void 0:e.toLowerCase().trim())||"";if(console.log(" Detectando regio:",{cidade:r,bairro:o}),zv[r]){const i=zv[r];return o==="centro"?(console.log(" Bairro Centro - usando regio padro da cidade:",i.default),i.default):o&&i[o]&&i[o]!==i.default?(console.log(" Regio detectada por bairro cadastrado:",i[o]),i[o]):(console.log(" Regio detectada por cidade (default):",i.default),i.default)}return console.log(" Nenhuma regio detectada"),""};function QP(){const t=qt(),e=an(),[r,o]=v.useState(!1),[i,l]=v.useState(""),[d,u]=v.useState([]),[h,m]=v.useState(!1),[g,p]=v.useState({nome:"",cpf:"",telefone:"",email:"",enderecos:[{logradouro:"",numero:"",complemento:"",bairro:"",cidade:"",cep:"",is_principal:!0}]}),[w,b]=v.useState([]),[N,j]=v.useState([]),[_,C]=v.useState(null),[E,S]=v.useState(-1),[T,q]=v.useState(""),[A,U]=v.useState([]),[K,ue]=v.useState(-1),[V,O]=v.useState(!1),[Y,I]=v.useState(null),[L,ce]=v.useState({logradouro:"",numero:"",complemento:"",bairro:"",cidade:"",cep:"",regiao:""}),[ae,fe]=v.useState(null),[z,he]=v.useState({logradouro:"",numero:"",complemento:"",bairro:"",cidade:"",cep:"",regiao:""}),[de,R]=v.useState(!1),[B,F]=v.useState(!1),[D,oe]=v.useState({numero_requisicao:"",regiao:"",outra_cidade:"",data_entrega:new Date().toISOString().split("T")[0],periodo:"Tarde",forma_pagamento:"",motoboy:"",valor_entrega:0,item_geladeira:!1,buscar_receita:!1,observacoes:"",precisa_troco:!1,valor_troco:0,valor_venda:0}),[pe,se]=v.useState({}),P=async M=>{if(l(M),S(-1),M.length<2){u([]);return}try{const{data:G,error:re}=await Ne.from("clientes").select("*").ilike("nome",`%${M}%`).limit(5);if(re)throw re;u(G||[])}catch(G){console.error("Erro ao buscar clientes:",G)}},Z=M=>{d.length!==0&&(M.key==="ArrowDown"?(M.preventDefault(),S(G=>G<d.length-1?G+1:G)):M.key==="ArrowUp"?(M.preventDefault(),S(G=>G>0?G-1:-1)):M.key==="Enter"&&E>=0&&(M.preventDefault(),Ee(d[E])))},le=M=>{if(q(M),ue(-1),O(!0),M.length===0)U(Lf);else{const G=Lf.filter(re=>re.toLowerCase().includes(M.toLowerCase()));U(G)}},ve=M=>{A.length!==0&&(M.key==="ArrowDown"?(M.preventDefault(),ue(G=>G<A.length-1?G+1:0)):M.key==="ArrowUp"?(M.preventDefault(),ue(G=>G>0?G-1:A.length-1)):M.key==="Enter"&&K>=0?(M.preventDefault(),je(A[K])):M.key==="Escape"&&O(!1))},je=M=>{oe({...D,forma_pagamento:M}),q(M),O(!1),U([]),ue(-1)},Ee=async M=>{if(w.find(G=>G.id===M.id)){me.error("Cliente j adicionado!");return}try{const{data:G,error:re}=await Ne.from("enderecos").select("*").eq("cliente_id",M.id).order("is_principal",{ascending:!1});if(re)throw re;if(b([...w,M]),G&&G.length>0){const ie=G.map(qe=>({...qe,cliente_nome:M.nome}));j(qe=>{const _e=[...qe,...ie];return qe.length===0&&ie.length>0&&(C(ie[0]),ie[0].regiao&&Qt(ie[0].regiao)),_e})}l(""),u([]),S(-1),me.success(`Cliente ${M.nome} adicionado!`)}catch(G){console.error("Erro ao buscar endereos:",G),me.error("Erro ao carregar endereos do cliente")}},Ae=M=>{N.find(ie=>ie.id===ae&&ie.cliente_id===M)&&ut(),b(w.filter(ie=>ie.id!==M));const re=N.filter(ie=>ie.cliente_id!==M);j(re),_&&_.cliente_id===M&&C(null),Y===M&&I(null)},Ve=M=>{C(M);const G=bl(M.cidade,M.bairro);G?Qt(G):M.regiao&&Qt(M.regiao)},at=async M=>{try{if(!L.logradouro||!L.numero||!L.bairro||!L.cidade){me.error("Preencha todos os campos obrigatrios do endereo");return}const re=bl(L.cidade,L.bairro)||L.regiao||"",ie={cliente_id:M,logradouro:L.logradouro,numero:L.numero,complemento:L.complemento,bairro:L.bairro,cidade:L.cidade,cep:L.cep,regiao:re,is_principal:!1},{data:qe,error:_e}=await Ne.from("enderecos").insert([ie]).select();if(_e)throw _e;if(qe&&qe.length>0){const tt=qe[0],ct=w.find(bt=>bt.id===M),He={...tt,cliente_nome:ct==null?void 0:ct.nome};j([...N,He]),C(He),re&&Qt(re),ce({logradouro:"",numero:"",complemento:"",bairro:"",cidade:"",cep:"",regiao:""}),I(null),me.success("Endereo cadastrado com sucesso!")}}catch(G){console.error("Erro ao salvar endereo:",G),me.error("Erro ao salvar endereo")}},yt=M=>{fe(M.id),he({logradouro:M.logradouro||"",numero:M.numero||"",complemento:M.complemento||"",bairro:M.bairro||"",cidade:M.cidade||"",cep:M.cep||"",regiao:M.regiao||""}),I(null)},ut=()=>{fe(null),he({logradouro:"",numero:"",complemento:"",bairro:"",cidade:"",cep:"",regiao:""})},Ze=async()=>{try{if(!z.logradouro||!z.numero||!z.bairro||!z.cidade){me.error("Preencha todos os campos obrigatrios do endereo");return}const G=bl(z.cidade,z.bairro)||z.regiao||"",re={logradouro:z.logradouro,numero:z.numero,complemento:z.complemento,bairro:z.bairro,cidade:z.cidade,cep:z.cep,regiao:G};console.log(" Atualizando endereo:",ae,re);const{data:ie,error:qe}=await Ne.from("enderecos").update(re).eq("id",ae).select();if(qe)throw qe;console.log(" Endereo atualizado no banco:",ie);const _e=N.find(He=>He.id===ae);console.log(" Endereo antigo encontrado:",_e);const tt={id:ae,cliente_id:_e==null?void 0:_e.cliente_id,cliente_nome:_e==null?void 0:_e.cliente_nome,logradouro:z.logradouro,numero:z.numero,complemento:z.complemento,bairro:z.bairro,cidade:z.cidade,cep:z.cep,regiao:G,is_principal:(_e==null?void 0:_e.is_principal)||!1};console.log(" Endereo completo para atualizar:",tt);const ct=N.map(He=>He.id===ae?tt:He);console.log(" Novos endereos:",ct),j(ct),(_==null?void 0:_.id)===ae&&(console.log(" Atualizando endereo selecionado"),C(tt),G&&Qt(G)),ut(),me.success("Endereo atualizado com sucesso!")}catch(M){console.error(" Erro ao atualizar endereo:",M),me.error("Erro ao atualizar endereo")}};v.useEffect(()=>{if(L.cidade||L.bairro){const M=bl(L.cidade,L.bairro);M&&ce(G=>({...G,regiao:M}))}},[L.cidade,L.bairro]),v.useEffect(()=>{Y===null&&ce({logradouro:"",numero:"",complemento:"",bairro:"",cidade:"",cep:"",regiao:""})},[Y]),v.useEffect(()=>{if(ae&&(z.cidade||z.bairro)){const M=bl(z.cidade,z.bairro);M&&he(G=>({...G,regiao:M}))}},[z.cidade,z.bairro,ae]),v.useEffect(()=>{D.forma_pagamento&&D.forma_pagamento!==T&&q(D.forma_pagamento)},[D.forma_pagamento]),v.useEffect(()=>{D.forma_pagamento!=="Receber Dinheiro"&&oe(M=>({...M,precisa_troco:!1,valor_troco:0}))},[D.forma_pagamento]);const ir=["Receber Dinheiro","Receber Mquina","Pagar MP"];v.useEffect(()=>{ir.includes(D.forma_pagamento)||oe(M=>({...M,valor_venda:0}))},[D.forma_pagamento]);const Nr=async(M,G,re)=>{if(re!=="Bruno")return R(!1),!1;F(!0);try{const{data:ie}=await Ne.from("motoboys").select("id").eq("nome","Bruno").single();if(!ie)return R(!1),!1;const{count:qe}=await Ne.from("entregas").select("*",{count:"exact",head:!0}).eq("motoboy_id",ie.id).eq("data_entrega",M).eq("periodo","Manh"),{count:_e}=await Ne.from("entregas").select("*",{count:"exact",head:!0}).eq("motoboy_id",ie.id).eq("data_entrega",M).eq("periodo","Tarde"),He=(G==="Manh"?qe===0:_e===0)&&(G==="Manh"?_e===0||_e===1:qe===0||qe===1);return R(He),He}catch(ie){return console.error("Erro ao verificar entrega nica:",ie),R(!1),!1}finally{F(!1)}};v.useEffect(()=>{D.motoboy==="Bruno"&&D.data_entrega&&D.periodo?Nr(D.data_entrega,D.periodo,D.motoboy):R(!1)},[D.motoboy,D.data_entrega,D.periodo]);const ht=(M,G,re=de)=>{var ie;return M==="OUTRO"||!M||!G?0:G==="Bruno"&&re?HP[M]||0:((ie=VP[G])==null?void 0:ie[M])||0};v.useEffect(()=>{if(D.motoboy==="Bruno"&&D.regiao&&D.regiao!=="OUTRO"){const M=ht(D.regiao,D.motoboy,de);oe(G=>({...G,valor_entrega:M}))}},[de]);const Qt=M=>{console.log("Mudando regio para:",M),oe(G=>{const re=M==="OUTRO"?G.motoboy:KP[M]||"Marcio",ie=ht(M,re,re==="Bruno"?de:!1);return console.log("Novo motoboy:",re,"Novo valor:",ie,"Entrega nica:",de),{...G,regiao:M,motoboy:re,valor_entrega:ie}})},Rs=M=>{const G=ht(D.regiao,M,M==="Bruno"?de:!1);oe({...D,motoboy:M,valor_entrega:G})},As=()=>{const M={};return w.length===0&&(M.cliente="Adicione pelo menos um cliente"),_||(M.endereco="Selecione um endereo para a entrega"),D.numero_requisicao||(M.requisicao="Nmero de requisio obrigatrio"),D.regiao||(M.regiao="Selecione a regio"),D.regiao==="OUTRO"&&!D.outra_cidade&&(M.outra_cidade="Informe a cidade"),D.data_entrega||(M.data="Data obrigatria"),D.forma_pagamento||(M.pagamento="Forma de pagamento obrigatria"),D.motoboy||(M.motoboy="Selecione o motoboy"),D.forma_pagamento==="Receber Dinheiro"&&D.precisa_troco&&(!D.valor_troco||D.valor_troco<=0)&&(M.valor_troco="Informe o valor do troco"),ir.includes(D.forma_pagamento)&&(!D.valor_venda||D.valor_venda<=0)&&(M.valor_venda="Informe o valor a cobrar"),se(M),Object.keys(M).length===0},ln=()=>{p({...g,enderecos:[...g.enderecos,{logradouro:"",numero:"",complemento:"",bairro:"",cidade:"",cep:"",is_principal:!1}]})},In=M=>{if(g.enderecos.length===1){me.error(" necessrio pelo menos um endereo");return}p({...g,enderecos:g.enderecos.filter((G,re)=>re!==M)})},lr=(M,G,re)=>{const ie=[...g.enderecos];ie[M]={...ie[M],[G]:re},p({...g,enderecos:ie})},Mn=async()=>{if(!g.nome||!g.telefone){me.error("Preencha nome e telefone");return}if(!g.enderecos.some(G=>G.logradouro&&G.numero&&G.cidade)){me.error("Preencha pelo menos um endereo completo (Rua, Nmero e Cidade)");return}const M=me.loading("Cadastrando cliente...");try{const{data:G}=await Ne.from("clientes").select("id, nome").ilike("nome",g.nome.trim()).limit(1);if(G&&G.length>0){me.error(`J existe um cliente cadastrado com o nome "${G[0].nome}"`,{id:M});return}const{data:re,error:ie}=await Ne.from("clientes").insert([{nome:g.nome,cpf:g.cpf||null,telefone:g.telefone,email:g.email||null}]).select().single();if(ie)throw ie;const qe=g.enderecos.filter(_e=>_e.logradouro&&_e.numero&&_e.cidade).map((_e,tt)=>({cliente_id:re.id,logradouro:_e.logradouro,numero:_e.numero,complemento:_e.complemento||null,bairro:_e.bairro||null,cidade:_e.cidade,cep:_e.cep||null,regiao:_e.regiao||null,is_principal:tt===0}));if(qe.length>0){const{error:_e}=await Ne.from("enderecos").insert(qe);if(_e)throw _e}me.success("Cliente cadastrado com sucesso!",{id:M}),Ee(re),p({nome:"",cpf:"",telefone:"",email:"",enderecos:[{logradouro:"",numero:"",complemento:"",bairro:"",cidade:"",cep:"",is_principal:!0}]}),m(!1),l(""),u([])}catch(G){console.error("Erro ao cadastrar cliente:",G),me.error("Erro ao cadastrar cliente: "+G.message,{id:M})}},Q=async M=>{var re;if(M.preventDefault(),!As()){me.error("Por favor, preencha todos os campos obrigatrios");return}o(!0);const G=me.loading("Criando romaneio...");try{let ie=null;if(D.motoboy){const{data:Rt}=await Ne.from("motoboys").select("id").eq("nome",D.motoboy).limit(1);ie=((re=Rt==null?void 0:Rt[0])==null?void 0:re.id)||null}const qe=_.endereco_completo||`${_.logradouro}, ${_.numero} - ${_.bairro}, ${_.cidade}`,_e=D.data_entrega+"T12:00:00",tt=w.slice(1).map(Rt=>Rt.id),ct={cliente_id:w[0].id,endereco_id:_.id,requisicao:D.numero_requisicao,endereco_destino:qe,regiao:D.regiao,outra_cidade:D.regiao==="OUTRO"?D.outra_cidade:null,tipo:"moto",data_criacao:new Date().toISOString(),data_entrega:_e,periodo:D.periodo,status:"Produzindo no Laboratrio",motoboy_id:ie,forma_pagamento:D.forma_pagamento,valor:D.valor_entrega,item_geladeira:D.item_geladeira,buscar_receita:D.buscar_receita,observacoes:D.observacoes,clientes_adicionais:tt,precisa_troco:D.forma_pagamento==="Receber Dinheiro"?D.precisa_troco:!1,valor_troco:D.forma_pagamento==="Receber Dinheiro"&&D.precisa_troco?D.valor_troco:0,valor_venda:ir.includes(D.forma_pagamento)?D.valor_venda:0,endereco_logradouro:_.logradouro,endereco_numero:_.numero,endereco_complemento:_.complemento,endereco_bairro:_.bairro,endereco_cidade:_.cidade,endereco_cep:_.cep},{data:He,error:bt}=await Ne.from("entregas").insert([ct]).select();if(bt)throw bt;console.log("Entregas criadas:",He),await e.invalidateQueries({queryKey:["entregas"]}),await e.invalidateQueries({queryKey:["receitas"]}),await e.refetchQueries({queryKey:["entregas"]}),me.success("Romaneio criado com sucesso!",{id:G}),setTimeout(()=>t("/"),1e3)}catch(ie){console.error("Erro ao criar romaneio:",ie),me.error("Erro ao criar romaneio: "+ie.message,{id:G})}finally{o(!1)}};return n.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100",children:[n.jsx("div",{className:"py-8 shadow-sm",style:{background:"linear-gradient(135deg, #457bba 0%, #890d5d 100%)"},children:n.jsx("div",{className:"max-w-7xl mx-auto px-6",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("button",{onClick:()=>t(-1),className:"p-2 rounded-lg bg-white/20 hover:bg-white/30 transition-colors",children:n.jsx(Ut,{className:"w-6 h-6 text-white"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-4xl font-bold text-white",children:"Novo Romaneio"}),n.jsx("p",{className:"text-base text-white opacity-90 mt-1",children:"Crie uma nova ordem de entrega"})]})]})})}),n.jsx("div",{className:"max-w-7xl mx-auto px-6 py-6",children:n.jsxs("form",{onSubmit:Q,children:[n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6 mb-6",children:[n.jsx("h3",{className:"text-lg font-bold text-slate-900 mb-6",children:"Informaes do Romaneio"}),n.jsxs("div",{style:{marginBottom:"1rem"},children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:X.colors.text,marginBottom:"0.5rem"},children:"Cliente(s) *"}),n.jsx("input",{type:"text",value:i,onChange:M=>P(M.target.value),onKeyDown:Z,placeholder:"Buscar cliente por nome, CPF ou telefone...",style:{width:"100%",padding:"0.75rem",border:`1px solid ${pe.cliente?X.colors.danger:X.colors.border}`,borderRadius:"0.5rem",fontSize:"0.875rem"}}),d.length>0&&n.jsx("div",{style:{position:"absolute",zIndex:10,background:"white",border:`1px solid ${X.colors.border}`,borderRadius:"0.5rem",marginTop:"0.25rem",maxHeight:"200px",overflowY:"auto",boxShadow:"0 4px 6px rgba(0,0,0,0.1)",width:"100%"},children:d.map((M,G)=>n.jsxs("div",{onClick:()=>Ee(M),onMouseEnter:()=>S(G),style:{padding:"0.75rem",cursor:"pointer",borderBottom:`1px solid ${X.colors.border}`,background:G===E?"#e3f2fd":"white",transition:"background 0.15s"},children:[n.jsx("p",{style:{fontWeight:"500",margin:0},children:M.nome}),n.jsx("p",{style:{fontSize:"0.75rem",color:X.colors.textLight,margin:0},children:M.telefone})]},M.id))}),i.length>=2&&d.length===0&&n.jsx("button",{type:"button",onClick:()=>m(!0),style:{marginTop:"0.5rem",padding:"0.5rem 1rem",background:X.colors.primary,color:"white",border:"none",borderRadius:"0.5rem",fontSize:"0.875rem",cursor:"pointer"},children:"+ Cadastrar Novo Cliente"}),pe.cliente&&n.jsx("p",{style:{color:X.colors.danger,fontSize:"0.75rem",marginTop:"0.25rem"},children:pe.cliente})]}),w.length>0&&n.jsxs("div",{style:{marginBottom:"1rem"},children:[n.jsxs("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:X.colors.text,marginBottom:"0.5rem"},children:["Clientes Selecionados (",w.length,")"]}),n.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"0.5rem"},children:w.map(M=>n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.5rem 0.75rem",background:"#e3f2fd",borderRadius:"1rem",fontSize:"0.875rem"},children:[n.jsx("span",{children:M.nome}),n.jsx("button",{type:"button",onClick:()=>Ae(M.id),style:{background:"none",border:"none",color:X.colors.danger,cursor:"pointer",padding:"0.25rem",display:"flex",alignItems:"center",fontSize:"1rem"},children:""})]},M.id))})]}),w.length>0&&n.jsxs("div",{style:{marginBottom:"1rem"},children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:X.colors.text,marginBottom:"0.5rem"},children:"Endereo de Entrega *"}),w.map(M=>{const G=N.filter(re=>re.cliente_id===M.id);return n.jsxs("div",{style:{marginBottom:"1.5rem",padding:"1rem",border:`1px solid ${X.colors.border}`,borderRadius:"0.5rem",background:"#f8fafc"},children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.75rem"},children:[n.jsx("h4",{style:{margin:0,fontSize:"0.875rem",fontWeight:"600",color:X.colors.primary},children:M.nome}),n.jsx("button",{type:"button",onClick:()=>{Y===M.id?I(null):(I(M.id),ae&&ut())},style:{padding:"0.375rem 0.75rem",fontSize:"0.75rem",fontWeight:"500",color:X.colors.primary,background:"white",border:`1px solid ${X.colors.primary}`,borderRadius:"0.5rem",cursor:"pointer"},children:Y===M.id?"Cancelar":"+ Novo Endereo"})]}),Y===M.id&&n.jsxs("div",{style:{padding:"1rem",background:"white",borderRadius:"0.5rem",marginBottom:"0.75rem",border:`1px solid ${X.colors.border}`},children:[n.jsx("h5",{style:{margin:"0 0 0.75rem 0",fontSize:"0.8rem",fontWeight:"600",color:X.colors.text},children:"Cadastrar Novo Endereo"}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"0.75rem"},children:[n.jsx("div",{style:{gridColumn:"1 / -1"},children:n.jsx("input",{type:"text",placeholder:"Rua *",value:L.logradouro,onChange:re=>ce({...L,logradouro:re.target.value}),style:{width:"100%",padding:"0.5rem",border:`1px solid ${X.colors.border}`,borderRadius:"0.5rem",fontSize:"0.75rem"}})}),n.jsx("div",{children:n.jsx("input",{type:"text",placeholder:"Nmero *",value:L.numero,onChange:re=>ce({...L,numero:re.target.value}),style:{width:"100%",padding:"0.5rem",border:`1px solid ${X.colors.border}`,borderRadius:"0.5rem",fontSize:"0.75rem"}})}),n.jsx("div",{children:n.jsx("input",{type:"text",placeholder:"Complemento",value:L.complemento,onChange:re=>ce({...L,complemento:re.target.value}),style:{width:"100%",padding:"0.5rem",border:`1px solid ${X.colors.border}`,borderRadius:"0.5rem",fontSize:"0.75rem"}})}),n.jsx("div",{children:n.jsx("input",{type:"text",placeholder:"Bairro *",value:L.bairro,onChange:re=>ce({...L,bairro:re.target.value}),style:{width:"100%",padding:"0.5rem",border:`1px solid ${X.colors.border}`,borderRadius:"0.5rem",fontSize:"0.75rem"}})}),n.jsx("div",{children:n.jsx("input",{type:"text",placeholder:"Cidade *",value:L.cidade,onChange:re=>ce({...L,cidade:re.target.value}),style:{width:"100%",padding:"0.5rem",border:`1px solid ${X.colors.border}`,borderRadius:"0.5rem",fontSize:"0.75rem"}})}),n.jsx("div",{children:n.jsx("input",{type:"text",placeholder:"CEP",value:L.cep,onChange:re=>ce({...L,cep:re.target.value}),style:{width:"100%",padding:"0.5rem",border:`1px solid ${X.colors.border}`,borderRadius:"0.5rem",fontSize:"0.75rem"}})}),n.jsx("div",{children:n.jsx("input",{type:"text",placeholder:"Regio (auto-detectada)",value:L.regiao,readOnly:!0,style:{width:"100%",padding:"0.5rem",border:`1px solid ${X.colors.border}`,borderRadius:"0.5rem",fontSize:"0.75rem",background:"#f1f5f9"}})})]}),n.jsx("button",{type:"button",onClick:()=>at(M.id),style:{marginTop:"0.75rem",padding:"0.5rem 1rem",fontSize:"0.75rem",fontWeight:"500",color:"white",background:X.colors.primary,border:"none",borderRadius:"0.5rem",cursor:"pointer",width:"100%"},children:"Salvar Endereo"})]}),G.length>0?G.map(re=>ae===re.id?n.jsxs("div",{style:{padding:"1rem",background:"white",borderRadius:"0.5rem",marginBottom:"0.75rem",border:`2px solid ${X.colors.primary}`},children:[n.jsx("h5",{style:{margin:"0 0 0.75rem 0",fontSize:"0.8rem",fontWeight:"600",color:X.colors.text},children:"Editando Endereo"}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"0.75rem"},children:[n.jsx("div",{style:{gridColumn:"1 / -1"},children:n.jsx("input",{type:"text",placeholder:"Rua *",value:z.logradouro,onChange:ie=>he({...z,logradouro:ie.target.value}),style:{width:"100%",padding:"0.5rem",border:`1px solid ${X.colors.border}`,borderRadius:"0.5rem",fontSize:"0.75rem"}})}),n.jsx("div",{children:n.jsx("input",{type:"text",placeholder:"Nmero *",value:z.numero,onChange:ie=>he({...z,numero:ie.target.value}),style:{width:"100%",padding:"0.5rem",border:`1px solid ${X.colors.border}`,borderRadius:"0.5rem",fontSize:"0.75rem"}})}),n.jsx("div",{children:n.jsx("input",{type:"text",placeholder:"Complemento",value:z.complemento,onChange:ie=>he({...z,complemento:ie.target.value}),style:{width:"100%",padding:"0.5rem",border:`1px solid ${X.colors.border}`,borderRadius:"0.5rem",fontSize:"0.75rem"}})}),n.jsx("div",{children:n.jsx("input",{type:"text",placeholder:"Bairro *",value:z.bairro,onChange:ie=>he({...z,bairro:ie.target.value}),style:{width:"100%",padding:"0.5rem",border:`1px solid ${X.colors.border}`,borderRadius:"0.5rem",fontSize:"0.75rem"}})}),n.jsx("div",{children:n.jsx("input",{type:"text",placeholder:"Cidade *",value:z.cidade,onChange:ie=>he({...z,cidade:ie.target.value}),style:{width:"100%",padding:"0.5rem",border:`1px solid ${X.colors.border}`,borderRadius:"0.5rem",fontSize:"0.75rem"}})}),n.jsx("div",{children:n.jsx("input",{type:"text",placeholder:"CEP",value:z.cep,onChange:ie=>he({...z,cep:ie.target.value}),style:{width:"100%",padding:"0.5rem",border:`1px solid ${X.colors.border}`,borderRadius:"0.5rem",fontSize:"0.75rem"}})}),n.jsx("div",{children:n.jsx("input",{type:"text",placeholder:"Regio (auto-detectada)",value:z.regiao,readOnly:!0,style:{width:"100%",padding:"0.5rem",border:`1px solid ${X.colors.border}`,borderRadius:"0.5rem",fontSize:"0.75rem",background:"#f1f5f9"}})})]}),n.jsxs("div",{style:{display:"flex",gap:"0.5rem",marginTop:"0.75rem"},children:[n.jsx("button",{type:"button",onClick:Ze,style:{flex:1,padding:"0.5rem 1rem",fontSize:"0.75rem",fontWeight:"500",color:"white",background:X.colors.primary,border:"none",borderRadius:"0.5rem",cursor:"pointer"},children:"Salvar"}),n.jsx("button",{type:"button",onClick:ut,style:{flex:1,padding:"0.5rem 1rem",fontSize:"0.75rem",fontWeight:"500",color:X.colors.text,background:"white",border:`1px solid ${X.colors.border}`,borderRadius:"0.5rem",cursor:"pointer"},children:"Cancelar"})]})]},re.id):n.jsxs("div",{style:{padding:"0.75rem",border:`2px solid ${(_==null?void 0:_.id)===re.id?X.colors.primary:X.colors.border}`,borderRadius:"0.5rem",marginBottom:"0.5rem",background:(_==null?void 0:_.id)===re.id?"#f0f9ff":"white",display:"flex",alignItems:"center",gap:"0.75rem"},children:[n.jsx("input",{type:"radio",name:"endereco",checked:(_==null?void 0:_.id)===re.id,onChange:()=>Ve(re),style:{cursor:"pointer"}}),n.jsxs("div",{onClick:()=>Ve(re),style:{flex:1,cursor:"pointer"},children:[n.jsx("p",{style:{margin:0,fontSize:"0.875rem",fontWeight:"500"},children:re.endereco_completo||`${re.logradouro}, ${re.numero} - ${re.bairro}, ${re.cidade}`}),re.regiao&&n.jsxs("p",{style:{margin:0,fontSize:"0.75rem",color:X.colors.textLight,marginTop:"0.25rem"},children:["Regio: ",re.regiao]})]}),n.jsx("button",{type:"button",onClick:ie=>{ie.stopPropagation(),yt(re)},style:{padding:"0.375rem 0.75rem",fontSize:"0.7rem",fontWeight:"500",color:X.colors.primary,background:"white",border:`1px solid ${X.colors.primary}`,borderRadius:"0.5rem",cursor:"pointer"},children:"Editar"})]},re.id)):n.jsx("p",{style:{margin:0,fontSize:"0.75rem",color:X.colors.textLight,fontStyle:"italic"},children:'Nenhum endereo cadastrado. Clique em "+ Novo Endereo" para adicionar.'})]},M.id)}),pe.endereco&&n.jsx("p",{style:{color:X.colors.danger,fontSize:"0.75rem",marginTop:"0.25rem"},children:pe.endereco})]}),n.jsxs("div",{style:{marginBottom:"1rem"},children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:X.colors.text,marginBottom:"0.5rem"},children:"Nmero da Requisio *"}),n.jsx("input",{type:"text",value:D.numero_requisicao,onChange:M=>oe({...D,numero_requisicao:M.target.value}),placeholder:"Ex: REQ-001",style:{width:"100%",padding:"0.75rem",border:`1px solid ${pe.requisicao?X.colors.danger:X.colors.border}`,borderRadius:"0.5rem",fontSize:"0.875rem"}}),pe.requisicao&&n.jsx("p",{style:{color:X.colors.danger,fontSize:"0.75rem",marginTop:"0.25rem"},children:pe.requisicao})]}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem",marginBottom:"1rem"},children:[n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:X.colors.text,marginBottom:"0.5rem"},children:"Cidade/Regio *"}),n.jsxs("select",{value:D.regiao,onChange:M=>Qt(M.target.value),style:{width:"100%",padding:"0.75rem",border:`1px solid ${pe.regiao?X.colors.danger:X.colors.border}`,borderRadius:"0.5rem",fontSize:"0.875rem"},children:[n.jsx("option",{value:"",children:"Selecione a cidade"}),GP.map(M=>n.jsx("option",{value:M,children:M},M))]})]}),n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:X.colors.text,marginBottom:"0.5rem"},children:"Data de Entrega *"}),n.jsx("input",{type:"date",value:D.data_entrega,onChange:M=>oe({...D,data_entrega:M.target.value}),style:{width:"100%",padding:"0.75rem",border:`1px solid ${X.colors.border}`,borderRadius:"0.5rem",fontSize:"0.875rem"}})]})]}),D.regiao==="OUTRO"&&n.jsxs("div",{style:{marginBottom:"1rem"},children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:X.colors.text,marginBottom:"0.5rem"},children:"Nome da Cidade *"}),n.jsx("input",{type:"text",value:D.outra_cidade,onChange:M=>oe({...D,outra_cidade:M.target.value}),placeholder:"Digite o nome da cidade",style:{width:"100%",padding:"0.75rem",border:`1px solid ${pe.outra_cidade?X.colors.danger:X.colors.border}`,borderRadius:"0.5rem",fontSize:"0.875rem"}})]}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem",marginBottom:"1rem"},children:[n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:X.colors.text,marginBottom:"0.5rem"},children:"Perodo de Entrega *"}),n.jsxs("select",{value:D.periodo,onChange:M=>oe({...D,periodo:M.target.value}),style:{width:"100%",padding:"0.75rem",border:`1px solid ${X.colors.border}`,borderRadius:"0.5rem",fontSize:"0.875rem"},children:[n.jsx("option",{value:"Manh",children:"Manh"}),n.jsx("option",{value:"Tarde",children:"Tarde"})]})]}),n.jsxs("div",{style:{position:"relative"},children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:X.colors.text,marginBottom:"0.5rem"},children:"Forma de Pagamento *"}),n.jsx("input",{type:"text",value:T,onChange:M=>le(M.target.value),onKeyDown:ve,onFocus:()=>{O(!0),A.length===0&&U(Lf)},onBlur:()=>{setTimeout(()=>O(!1),200)},placeholder:"Digite ou selecione a forma de pagamento...",style:{width:"100%",padding:"0.75rem",border:`1px solid ${pe.pagamento?X.colors.danger:X.colors.border}`,borderRadius:"0.5rem",fontSize:"0.875rem"}}),V&&A.length>0&&n.jsx("div",{style:{position:"absolute",top:"100%",left:0,right:0,background:"white",border:`1px solid ${X.colors.border}`,borderRadius:"0.5rem",marginTop:"0.25rem",maxHeight:"200px",overflowY:"auto",boxShadow:"0 4px 6px rgba(0,0,0,0.1)",zIndex:1e3},children:A.map((M,G)=>n.jsx("div",{onClick:()=>je(M),onMouseEnter:()=>ue(G),style:{padding:"0.75rem",cursor:"pointer",borderBottom:G<A.length-1?`1px solid ${X.colors.border}`:"none",background:G===K?"#e3f2fd":"white",transition:"background 0.15s"},children:n.jsx("p",{style:{margin:0,fontSize:"0.875rem"},children:M})},M))})]})]}),ir.includes(D.forma_pagamento)&&n.jsxs("div",{style:{marginBottom:"1rem",padding:"1rem",background:"#e8f5e9",border:"2px solid #4caf50",borderRadius:"0.5rem"},children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"600",color:"#2e7d32",marginBottom:"0.5rem"},children:"Valor a Cobrar (R$) *"}),n.jsx("input",{type:"number",step:"0.01",min:"0",value:D.valor_venda||"",onChange:M=>oe({...D,valor_venda:parseFloat(M.target.value)||0}),placeholder:"Ex: 150.00",style:{width:"100%",padding:"0.75rem",border:`2px solid ${pe.valor_venda?X.colors.danger:"#4caf50"}`,borderRadius:"0.5rem",fontSize:"0.875rem",background:"white"}}),pe.valor_venda&&n.jsx("p",{style:{color:X.colors.danger,fontSize:"0.75rem",marginTop:"0.25rem"},children:pe.valor_venda}),!pe.valor_venda&&D.valor_venda>0&&n.jsxs("div",{style:{marginTop:"0.75rem",padding:"0.75rem",background:"#1b5e20",borderRadius:"0.5rem",textAlign:"center"},children:[n.jsx("p",{style:{margin:0,color:"white",fontSize:"0.875rem",fontWeight:"500"},children:D.forma_pagamento==="Receber Mquina"?"Receber na Mquina:":D.forma_pagamento==="Pagar MP"?"Cobrar via MP:":"Valor a Receber:"}),n.jsxs("p",{style:{margin:"0.25rem 0 0 0",color:"white",fontSize:"1.5rem",fontWeight:"700"},children:["R$ ",D.valor_venda.toFixed(2).replace(".",",")]})]}),!D.valor_venda&&n.jsx("p",{style:{fontSize:"0.75rem",color:"#2e7d32",marginTop:"0.25rem",fontWeight:"500"},children:"Informe o valor a ser cobrado nesta entrega."})]}),D.forma_pagamento==="Receber Dinheiro"&&n.jsxs("div",{style:{marginBottom:"1rem",padding:"1rem",background:"#fff9e6",border:"2px solid #ffc107",borderRadius:"0.5rem"},children:[n.jsxs("div",{style:{marginBottom:"0.75rem"},children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"600",color:"#f57c00",marginBottom:"0.5rem"},children:"Precisa de troco?"}),n.jsxs("div",{style:{display:"flex",gap:"1rem"},children:[n.jsxs("label",{style:{display:"flex",alignItems:"center",cursor:"pointer",fontSize:"0.875rem"},children:[n.jsx("input",{type:"radio",name:"precisa_troco",checked:D.precisa_troco===!0,onChange:()=>oe({...D,precisa_troco:!0}),style:{marginRight:"0.5rem"}}),"Sim"]}),n.jsxs("label",{style:{display:"flex",alignItems:"center",cursor:"pointer",fontSize:"0.875rem"},children:[n.jsx("input",{type:"radio",name:"precisa_troco",checked:D.precisa_troco===!1,onChange:()=>oe({...D,precisa_troco:!1,valor_troco:0}),style:{marginRight:"0.5rem"}}),"No"]})]})]}),D.precisa_troco&&n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"600",color:"#f57c00",marginBottom:"0.5rem"},children:"Valor do Troco (R$) *"}),n.jsx("input",{type:"number",step:"0.01",min:"0",value:D.valor_troco||"",onChange:M=>oe({...D,valor_troco:parseFloat(M.target.value)||0}),placeholder:"Ex: 50.00",style:{width:"100%",padding:"0.75rem",border:`2px solid ${pe.valor_troco?X.colors.danger:"#ffc107"}`,borderRadius:"0.5rem",fontSize:"0.875rem",background:"white"}}),n.jsx("p",{style:{fontSize:"0.75rem",color:"#f57c00",marginTop:"0.25rem",fontWeight:"500"},children:"Cliente pagar com quanto? Informe o valor para calcular o troco."})]})]}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem",marginBottom:"1rem"},children:[n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:X.colors.text,marginBottom:"0.5rem"},children:"Motoboy *"}),n.jsxs("select",{value:D.motoboy,onChange:M=>Rs(M.target.value),style:{width:"100%",padding:"0.75rem",border:`1px solid ${pe.motoboy?X.colors.danger:X.colors.border}`,borderRadius:"0.5rem",fontSize:"0.875rem"},children:[n.jsx("option",{value:"",children:"Selecione o motoboy"}),n.jsx("option",{value:"Marcio",children:"Marcio"}),n.jsx("option",{value:"Bruno",children:"Bruno"})]}),n.jsx("p",{style:{fontSize:"0.75rem",color:X.colors.textLight,marginTop:"0.25rem"},children:"Valor calculado automaticamente"})]}),n.jsxs("div",{children:[n.jsxs("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:X.colors.text,marginBottom:"0.5rem"},children:["Valor da Entrega (R$)",D.motoboy==="Bruno"&&de&&n.jsx("span",{style:{marginLeft:"0.5rem",padding:"2px 8px",backgroundColor:"#fef3c7",color:"#92400e",fontSize:"0.7rem",fontWeight:"bold",borderRadius:"4px",border:"1px solid #fbbf24"},children:"ENTREGA NICA"}),B&&n.jsx("span",{style:{marginLeft:"0.5rem",fontSize:"0.7rem",color:X.colors.muted},children:"verificando..."})]}),n.jsx("input",{type:"number",step:"0.01",value:D.valor_entrega,onChange:M=>oe({...D,valor_entrega:parseFloat(M.target.value)||0}),style:{width:"100%",padding:"0.75rem",border:`1px solid ${de&&D.motoboy==="Bruno"?"#fbbf24":X.colors.border}`,borderRadius:"0.5rem",fontSize:"0.875rem",fontWeight:"600",color:X.colors.primary,backgroundColor:de&&D.motoboy==="Bruno"?"#fffbeb":"white"}})]})]}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem",marginBottom:"1rem"},children:[n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:X.colors.text,marginBottom:"0.5rem"},children:"Item de Geladeira? *"}),n.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[n.jsx("button",{type:"button",onClick:()=>oe({...D,item_geladeira:!0}),style:{padding:"0.5rem 1.5rem",border:D.item_geladeira?"2px solid #0891b2":"2px solid #e2e8f0",borderRadius:"0.5rem",background:D.item_geladeira?"#cffafe":"white",color:D.item_geladeira?"#0891b2":"#64748b",fontWeight:D.item_geladeira?"600":"400",fontSize:"0.875rem",cursor:"pointer",transition:"all 0.15s"},children:"Sim"}),n.jsx("button",{type:"button",onClick:()=>oe({...D,item_geladeira:!1}),style:{padding:"0.5rem 1.5rem",border:D.item_geladeira?"2px solid #e2e8f0":"2px solid #64748b",borderRadius:"0.5rem",background:D.item_geladeira?"white":"#f1f5f9",color:D.item_geladeira?"#64748b":"#1e293b",fontWeight:D.item_geladeira?"400":"600",fontSize:"0.875rem",cursor:"pointer",transition:"all 0.15s"},children:"No"})]})]}),n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:X.colors.text,marginBottom:"0.5rem"},children:"Reter Receita? *"}),n.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[n.jsx("button",{type:"button",onClick:()=>oe({...D,buscar_receita:!0}),style:{padding:"0.5rem 1.5rem",border:D.buscar_receita?"2px solid #f97316":"2px solid #e2e8f0",borderRadius:"0.5rem",background:D.buscar_receita?"#ffedd5":"white",color:D.buscar_receita?"#c2410c":"#64748b",fontWeight:D.buscar_receita?"600":"400",fontSize:"0.875rem",cursor:"pointer",transition:"all 0.15s"},children:"Sim"}),n.jsx("button",{type:"button",onClick:()=>oe({...D,buscar_receita:!1}),style:{padding:"0.5rem 1.5rem",border:D.buscar_receita?"2px solid #e2e8f0":"2px solid #64748b",borderRadius:"0.5rem",background:D.buscar_receita?"white":"#f1f5f9",color:D.buscar_receita?"#64748b":"#1e293b",fontWeight:D.buscar_receita?"400":"600",fontSize:"0.875rem",cursor:"pointer",transition:"all 0.15s"},children:"No"})]})]})]}),n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:X.colors.text,marginBottom:"0.5rem"},children:"Observaes"}),n.jsx("textarea",{value:D.observacoes,onChange:M=>oe({...D,observacoes:M.target.value}),placeholder:"Informaes adicionais sobre a entrega",rows:4,style:{width:"100%",padding:"0.75rem",border:`1px solid ${X.colors.border}`,borderRadius:"0.5rem",fontSize:"0.875rem",resize:"vertical"}})]})]}),n.jsxs("div",{style:{display:"flex",gap:"1rem",justifyContent:"flex-end"},children:[n.jsx("button",{type:"button",onClick:()=>t("/"),style:{padding:"0.75rem 1.5rem",background:"white",color:X.colors.text,border:`1px solid ${X.colors.border}`,borderRadius:"0.5rem",fontSize:"0.9375rem",fontWeight:"600",cursor:"pointer"},children:"Cancelar"}),n.jsx("button",{type:"submit",disabled:r,style:{padding:"0.75rem 1.5rem",background:r?X.colors.textLight:X.colors.primary,color:"white",border:"none",borderRadius:"0.5rem",fontSize:"0.9375rem",fontWeight:"600",cursor:r?"not-allowed":"pointer"},children:r?"Criando...":"Criar Romaneio"})]})]})}),n.jsx(Yn,{open:h,onOpenChange:m,children:n.jsxs(En,{style:{maxWidth:"900px",maxHeight:"90vh",overflowY:"auto"},children:[n.jsx(Sn,{children:n.jsx(Cn,{style:{color:"#376295"},children:"Cadastrar Novo Cliente"})}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Nome Completo *"}),n.jsx("input",{type:"text",value:g.nome,onChange:M=>p({...g,nome:M.target.value}),placeholder:"Digite o nome completo",className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-100"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"CPF"}),n.jsx("input",{type:"text",value:g.cpf,onChange:M=>p({...g,cpf:M.target.value}),placeholder:"000.000.000-00",className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-100"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Telefone *"}),n.jsx("input",{type:"text",value:g.telefone,onChange:M=>p({...g,telefone:M.target.value}),placeholder:"(00) 00000-0000",className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-100"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"E-mail"}),n.jsx("input",{type:"email",value:g.email,onChange:M=>p({...g,email:M.target.value}),placeholder:"cliente@email.com",className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-100"})]})]}),n.jsxs("div",{className:"space-y-3 pt-2 border-t border-slate-200",children:[n.jsxs("div",{className:"flex justify-between items-center pt-2",children:[n.jsx("h3",{className:"text-sm font-semibold text-slate-700",children:"Endereos"}),n.jsxs("button",{type:"button",onClick:ln,className:"flex items-center gap-2 px-3 py-1.5 text-sm border border-slate-300 rounded-lg font-medium text-slate-700 hover:bg-slate-50 transition-colors",children:[n.jsx(xu,{className:"w-4 h-4"}),"Adicionar Endereo"]})]}),g.enderecos.map((M,G)=>n.jsxs("div",{className:"bg-slate-50 rounded-lg border border-slate-200 p-4",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsxs("h4",{className:"text-sm font-semibold text-slate-700",children:["Endereo ",G+1," ",G===0&&"(Principal)"]}),g.enderecos.length>1&&n.jsx("button",{type:"button",onClick:()=>In(G),className:"p-1.5 hover:bg-red-50 rounded transition-colors",children:n.jsx(Trash2,{className:"w-4 h-4 text-red-500"})})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"CEP"}),n.jsx("input",{type:"text",value:M.cep||"",onChange:re=>lr(G,"cep",re.target.value),placeholder:"00000-000",className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-100"})]}),n.jsxs("div",{className:"grid grid-cols-[2fr_1fr] gap-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Rua/Logradouro *"}),n.jsx("input",{type:"text",value:M.logradouro,onChange:re=>lr(G,"logradouro",re.target.value),placeholder:"Nome da rua",className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-100"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Nmero *"}),n.jsx("input",{type:"text",value:M.numero,onChange:re=>lr(G,"numero",re.target.value),placeholder:"123",className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-100"})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Bairro"}),n.jsx("input",{type:"text",value:M.bairro,onChange:re=>lr(G,"bairro",re.target.value),placeholder:"Nome do bairro",className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-100"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Cidade *"}),n.jsx("input",{type:"text",value:M.cidade,onChange:re=>lr(G,"cidade",re.target.value),placeholder:"Ex: Balnerio Cambori",className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-100"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Complemento"}),n.jsx("input",{type:"text",value:M.complemento,onChange:re=>lr(G,"complemento",re.target.value),placeholder:"Apto, Bloco, etc.",className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-100"})]})]})]},`endereco-${G}`))]}),n.jsxs("div",{className:"flex gap-3 pt-4",children:[n.jsx("button",{type:"button",onClick:()=>{m(!1),p({nome:"",cpf:"",telefone:"",email:"",enderecos:[{logradouro:"",numero:"",complemento:"",bairro:"",cidade:"",cep:"",is_principal:!0}]})},className:"flex-1 px-4 py-2 border border-slate-300 rounded-lg font-medium text-slate-700 hover:bg-slate-50 transition-colors",children:"Cancelar"}),n.jsx("button",{type:"button",onClick:Mn,className:"flex-1 px-4 py-2 rounded-lg font-medium text-white transition-colors",style:{backgroundColor:"#376295"},children:"Cadastrar"})]})]})]})})]})}const JP={Marcio:{BC:9,"NOVA ESPERANA":11,CAMBORI:16,TABULEIRO:11,"MONTE ALEGRE":11,BARRA:11,ESTALEIRO:16,TAQUARAS:16,LARANJEIRAS:16,ITAJAI:19,ESPINHEIROS:23,"PRAIA DOS AMORES":13.5,"PRAIA BRAVA":13.5,ITAPEMA:27,NAVEGANTES:30,PENHA:52,"PORTO BELO":52,TIJUCAS:52,PIARRAS:52,BOMBINHAS:72,CLINICA:9},Bruno:{BC:7,"NOVA ESPERANA":9,CAMBORI:14,TABULEIRO:9,"MONTE ALEGRE":9,BARRA:9,ESTALEIRO:14,TAQUARAS:14,LARANJEIRAS:14,ITAJAI:17,ESPINHEIROS:21,"PRAIA DOS AMORES":11.5,"PRAIA BRAVA":11.5,ITAPEMA:25,NAVEGANTES:40,PENHA:50,"PORTO BELO":30,TIJUCAS:50,PIARRAS:50,BOMBINHAS:50,CLINICA:7}},YP={BC:12,"NOVA ESPERANA":15,CAMBORI:20,TABULEIRO:15,"MONTE ALEGRE":15,BARRA:15,ESTALEIRO:25,TAQUARAS:25,LARANJEIRAS:25,ITAJAI:25,ESPINHEIROS:35,"PRAIA DOS AMORES":15,"PRAIA BRAVA":15,ITAPEMA:35,NAVEGANTES:50,PENHA:75,"PORTO BELO":60,TIJUCAS:87,PIARRAS:80,BOMBINHAS:90,CLINICA:12},XP={BC:"Marcio","NOVA ESPERANA":"Marcio",CAMBORI:"Marcio",TABULEIRO:"Marcio","MONTE ALEGRE":"Marcio",BARRA:"Marcio",ESTALEIRO:"Marcio",CLINICA:"Marcio",TAQUARAS:"Bruno",LARANJEIRAS:"Bruno",ITAJAI:"Bruno",ESPINHEIROS:"Bruno","PRAIA DOS AMORES":"Bruno","PRAIA BRAVA":"Bruno",ITAPEMA:"Bruno",NAVEGANTES:"Bruno",PENHA:"Bruno","PORTO BELO":"Bruno",TIJUCAS:"Bruno",PIARRAS:"Bruno",BOMBINHAS:"Bruno"},Uv=["BC","NOVA ESPERANA","CAMBORI","TABULEIRO","MONTE ALEGRE","BARRA","ESTALEIRO","TAQUARAS","LARANJEIRAS","ITAJAI","ESPINHEIROS","PRAIA DOS AMORES","PRAIA BRAVA","ITAPEMA","NAVEGANTES","PENHA","PORTO BELO","TIJUCAS","PIARRAS","BOMBINHAS","CLINICA","OUTRO"],$f=["Aguardando","Boleto","Link Aguardando","Pagar MP","Pago Dinheiro","Pago Link","Pago Mquina","Pago Pix","Pix Aguardando","Receber Dinheiro","Receber Mquina","S Entregar","Via na Pasta"],qv={"balnerio cambori":{centro:"BC",estados:"BC",pioneiros:"BC","nova esperana":"NOVA ESPERANA",naes:"BC",barra:"BARRA","barra sul":"BARRA",estaleiro:"ESTALEIRO",estaleirinho:"ESTALEIRO",taquaras:"TAQUARAS",laranjeiras:"LARANJEIRAS","praia dos amores":"PRAIA DOS AMORES","praia brava":"PRAIA BRAVA",tabuleiro:"TABULEIRO","monte alegre":"MONTE ALEGRE",default:"BC"},bc:{default:"BC"},"balneario camboriu":{centro:"BC",estados:"BC",pioneiros:"BC","nova esperana":"NOVA ESPERANA","nova esperanca":"NOVA ESPERANA",naes:"BC",nacoes:"BC",barra:"BARRA","barra sul":"BARRA",estaleiro:"ESTALEIRO",estaleirinho:"ESTALEIRO",taquaras:"TAQUARAS",laranjeiras:"LARANJEIRAS","praia dos amores":"PRAIA DOS AMORES","praia brava":"PRAIA BRAVA",tabuleiro:"TABULEIRO","monte alegre":"MONTE ALEGRE",default:"BC"},cambori:{default:"CAMBORI"},camboriu:{default:"CAMBORI"},itaja:{centro:"ITAJAI","vila real":"ITAJAI",espinheiros:"ESPINHEIROS",default:"ITAJAI"},itajai:{centro:"ITAJAI","vila real":"ITAJAI",espinheiros:"ESPINHEIROS",default:"ITAJAI"},itapema:{default:"ITAPEMA"},navegantes:{default:"NAVEGANTES"},penha:{default:"PENHA"},"porto belo":{default:"PORTO BELO"},tijucas:{default:"TIJUCAS"},piarras:{default:"PIARRAS"},picarras:{default:"PIARRAS"},bombinhas:{default:"BOMBINHAS"}},Wv=t=>{const e=(t==null?void 0:t.trim())||"";return e.toUpperCase()==="BC"?"Balnerio Cambori":e},Sd=(t,e)=>{const r=(t==null?void 0:t.toLowerCase().trim())||"",o=(e==null?void 0:e.toLowerCase().trim())||"";if(console.log(" Detectando regio:",{cidade:r,bairro:o}),qv[r]){const i=qv[r];return o==="centro"?(console.log(" Bairro Centro - usando regio padro da cidade:",i.default),i.default):o&&i[o]&&i[o]!==i.default?(console.log(" Regio detectada por bairro cadastrado:",i[o]),i[o]):(console.log(" Regio detectada por cidade (default):",i.default),i.default)}return console.log(" Nenhuma regio detectada"),""};function ZP(){const t=qt(),[e]=By(),r=e.get("id"),o=an(),[i,l]=v.useState(!1),[d,u]=v.useState(!0),[h,m]=v.useState(""),[g,p]=v.useState([]),[w,b]=v.useState(!1),[N,j]=v.useState({nome:"",cpf:"",telefone:"",email:"",enderecos:[{logradouro:"",numero:"",complemento:"",bairro:"",cidade:"",cep:"",regiao:"",ponto_referencia:"",observacoes:"",is_principal:!0}]}),[_,C]=v.useState([]),[E,S]=v.useState([]),[T,q]=v.useState([]),[A,U]=v.useState(null),[K,ue]=v.useState(!1),[V,O]=v.useState(null),[Y,I]=v.useState({logradouro:"",numero:"",complemento:"",bairro:"",cidade:"",cep:"",observacoes:""}),[L,ce]=v.useState({cliente_id:"",cliente_nome:"",numero_requisicao:"",endereco_id:"",endereco:"",regiao:"",outra_cidade:"",data_entrega:new Date().toISOString().split("T")[0],periodo:"Tarde",forma_pagamento:"",motoboy:"",valor_entrega:0,item_geladeira:!1,buscar_receita:!1,observacoes:"",valor_venda:0}),ae=["Receber Dinheiro","Receber Mquina","Pagar MP"],[fe,z]=v.useState({}),[he,de]=v.useState(!1),[R,B]=v.useState(!1),[F,D]=v.useState(""),[oe,pe]=v.useState([]),[se,P]=v.useState(-1),[Z,le]=v.useState(!1),ve=async(Q,M,G,re)=>{if(G!=="Bruno")return de(!1),!1;B(!0);try{const{data:ie}=await Ne.from("motoboys").select("id").eq("nome","Bruno").single();if(!ie)return de(!1),!1;let qe=Ne.from("entregas").select("*",{count:"exact",head:!0}).eq("motoboy_id",ie.id).eq("data_entrega",Q).eq("periodo","Manh");re&&(qe=qe.neq("id",re));const{count:_e}=await qe;let tt=Ne.from("entregas").select("*",{count:"exact",head:!0}).eq("motoboy_id",ie.id).eq("data_entrega",Q).eq("periodo","Tarde");re&&(tt=tt.neq("id",re));const{count:ct}=await tt,Rt=(M==="Manh"?_e===0:ct===0)&&(M==="Manh"?ct===0||ct===1:_e===0||_e===1);return de(Rt),Rt}catch(ie){return console.error("Erro ao verificar entrega nica:",ie),de(!1),!1}finally{B(!1)}},je=()=>{j({...N,enderecos:[...N.enderecos,{logradouro:"",numero:"",complemento:"",bairro:"",cidade:"",cep:"",regiao:"",ponto_referencia:"",observacoes:"",is_principal:!1}]})},Ee=Q=>{if(N.enderecos.length===1){me.error(" necessrio pelo menos um endereo");return}const M=N.enderecos.filter((G,re)=>re!==Q);j({...N,enderecos:M})},Ae=(Q,M,G)=>{const re=[...N.enderecos];re[Q]={...re[Q],[M]:G},j({...N,enderecos:re})};v.useEffect(()=>{if(Y.cidade&&Y.bairro&&K){const Q=Sd(Y.cidade,Y.bairro);console.log(" useEffect detectando regio:",{cidade:Y.cidade,bairro:Y.bairro,regiaoDetectada:Q}),Q&&Q!==L.regiao&&(console.log(" Atualizando regio para:",Q),ht(Q))}},[Y.cidade,Y.bairro,K]),v.useEffect(()=>{if(!r){me.error("ID da entrega no fornecido"),t("/");return}async function Q(){var M,G,re;try{u(!0);const{data:ie,error:qe}=await Ne.from("entregas").select(`
            *,
            cliente:clientes(id, nome, telefone),
            endereco:enderecos(id, endereco_completo, logradouro, numero, complemento, bairro, cidade, cep, regiao),
            motoboy:motoboys(id, nome)
          `).eq("id",r).single();if(qe)throw qe;if(!ie){me.error("Entrega no encontrada"),t("/");return}const _e=ie.endereco_logradouro?{id:ie.endereco_id,logradouro:ie.endereco_logradouro,numero:ie.endereco_numero,complemento:ie.endereco_complemento,bairro:ie.endereco_bairro,cidade:ie.endereco_cidade,cep:ie.endereco_cep,regiao:ie.regiao,endereco_completo:`${ie.endereco_logradouro}, ${ie.endereco_numero}${ie.endereco_complemento?" - "+ie.endereco_complemento:""} - ${ie.endereco_bairro}, ${ie.endereco_cidade}`}:ie.endereco;ce({cliente_id:ie.cliente_id,cliente_nome:((M=ie.cliente)==null?void 0:M.nome)||"",numero_requisicao:ie.requisicao,endereco_id:ie.endereco_id||"",endereco:(_e==null?void 0:_e.endereco_completo)||ie.endereco_destino||"",regiao:ie.regiao||"",outra_cidade:ie.outra_cidade||"",data_entrega:ie.data_entrega||"",periodo:ie.periodo||"Tarde",forma_pagamento:ie.forma_pagamento||"",motoboy:((G=ie.motoboy)==null?void 0:G.nome)||"",valor_entrega:ie.valor||0,item_geladeira:ie.item_geladeira||!1,buscar_receita:ie.buscar_receita||!1,observacoes:ie.observacoes||"",valor_venda:ie.valor_venda||0}),D(ie.forma_pagamento||"");const tt=[];if(ie.cliente&&tt.push(ie.cliente),ie.clientes_adicionais&&ie.clientes_adicionais.length>0){const{data:He,error:bt}=await Ne.from("clientes").select("id, nome, telefone").in("id",ie.clientes_adicionais);!bt&&He&&tt.push(...He)}C(tt),m("");const ct=[];for(const He of tt){const{data:bt,error:Rt}=await Ne.from("enderecos").select("*").eq("cliente_id",He.id).order("is_principal",{ascending:!1});if(!Rt&&bt){const cn=bt.map(Co=>({...Co,cliente_nome:He.nome}));ct.push(...cn)}}if(q(ct),ie.cliente_id&&await ut(ie.cliente_id),ie.endereco_id){const He=ct.find(bt=>bt.id===ie.endereco_id);He?U(He):_e&&U({..._e,cliente_id:ie.cliente_id,cliente_nome:((re=ie.cliente)==null?void 0:re.nome)||""})}u(!1)}catch(ie){console.error("Erro ao carregar entrega:",ie),me.error("Erro ao carregar dados da entrega"),u(!1)}}Q()},[r,t]);const Ve=async Q=>{if(m(Q),Q.length<2){p([]);return}try{const{data:M,error:G}=await Ne.from("clientes").select("*").ilike("nome",`%${Q}%`).limit(5);if(G)throw G;p(M||[])}catch(M){console.error("Erro ao buscar clientes:",M)}},at=async Q=>{if(_.find(M=>M.id===Q.id)){me.error("Cliente j adicionado!");return}C([..._,Q]),_.length===0&&(ce({...L,cliente_id:Q.id,cliente_nome:Q.nome,endereco_id:"",endereco:""}),await ut(Q.id));try{const{data:M,error:G}=await Ne.from("enderecos").select("*").eq("cliente_id",Q.id).order("is_principal",{ascending:!1});if(!G&&M){const re=M.map(ie=>({...ie,cliente_nome:Q.nome}));q(ie=>{const qe=[...ie,...re];return ie.length===0&&re.length>0&&U(re[0]),qe})}}catch(M){console.error("Erro ao buscar endereos do cliente:",M)}m(""),p([]),me.success(`Cliente ${Q.nome} adicionado!`)},yt=Q=>{if(_.length===1){me.error("Deve haver pelo menos um cliente!");return}T.find(re=>re.id===(V==null?void 0:V.id)&&re.cliente_id===Q)&&O(null),C(_.filter(re=>re.id!==Q));const G=T.filter(re=>re.cliente_id!==Q);if(q(G),A&&A.cliente_id===Q&&U(null),L.cliente_id===Q){const re=_.find(ie=>ie.id!==Q);re&&(ce({...L,cliente_id:re.id,cliente_nome:re.nome}),ut(re.id))}},ut=async Q=>{console.log("Buscando endereos para cliente ID:",Q);try{const{data:M,error:G}=await Ne.from("enderecos").select("*").eq("cliente_id",Q).order("is_principal",{ascending:!1});if(console.log("Endereos encontrados:",M),console.log("Erro ao buscar endereos:",G),G)throw G;S(M||[]),M&&M.length===1&&(console.log("Selecionando endereo automaticamente:",M[0]),Ze(M[0]))}catch(M){console.error("Erro ao buscar endereos:",M),S([])}},Ze=Q=>{console.log("Selecionando endereo:",Q),U(Q),ce(M=>({...M,endereco_id:Q.id,endereco:Q.endereco_completo||`${Q.logradouro}, ${Q.numero} - ${Q.bairro}`,regiao:Q.regiao||""})),ue(!1),Q.regiao&&ht(Q.regiao)},ir=Q=>{O({id:Q.id,logradouro:Q.logradouro||"",numero:Q.numero||"",complemento:Q.complemento||"",bairro:Q.bairro||"",cidade:Q.cidade||"",cep:Q.cep||"",regiao:Q.regiao||""})},Nr=(Q,M,G=he)=>{var re;return Q==="OUTRO"||!Q||!M?0:M==="Bruno"&&G?YP[Q]||0:((re=JP[M])==null?void 0:re[Q])||0};v.useEffect(()=>{L.motoboy==="Bruno"&&L.data_entrega&&L.periodo?ve(L.data_entrega,L.periodo,L.motoboy,r):de(!1)},[L.motoboy,L.data_entrega,L.periodo]),v.useEffect(()=>{if(L.motoboy==="Bruno"&&L.regiao&&L.regiao!=="OUTRO"){const Q=Nr(L.regiao,L.motoboy,he);ce(M=>({...M,valor_entrega:Q}))}},[he]);const ht=Q=>{console.log("Mudando regio para:",Q),ce(M=>{const G=Q==="OUTRO"?M.motoboy:XP[Q]||"Marcio",re=Nr(Q,G,G==="Bruno"?he:!1);return console.log("Novo motoboy:",G,"Novo valor:",re,"Entrega nica:",he),{...M,regiao:Q,motoboy:G,valor_entrega:re}})},Qt=Q=>{const M=Nr(L.regiao,Q,Q==="Bruno"?he:!1);ce({...L,motoboy:Q,valor_entrega:M})},Rs=()=>{const Q={};return _.length===0&&(Q.cliente="Adicione pelo menos um cliente"),L.numero_requisicao||(Q.requisicao="Nmero de requisio obrigatrio"),A||(Q.endereco="Selecione um endereo para a entrega"),L.regiao||(Q.regiao="Selecione a regio"),L.regiao==="OUTRO"&&!L.outra_cidade&&(Q.outra_cidade="Informe a cidade"),L.data_entrega||(Q.data="Data obrigatria"),L.forma_pagamento||(Q.pagamento="Forma de pagamento obrigatria"),L.motoboy||(Q.motoboy="Selecione o motoboy"),ae.includes(L.forma_pagamento)&&(!L.valor_venda||L.valor_venda<=0)&&(Q.valor_venda="Informe o valor a cobrar"),z(Q),Object.keys(Q).length===0},As=Q=>{if(D(Q),ce(M=>({...M,forma_pagamento:Q})),P(-1),le(!0),Q.length===0)pe($f);else{const M=$f.filter(G=>G.toLowerCase().includes(Q.toLowerCase()));pe(M)}},ln=Q=>{oe.length!==0&&(Q.key==="ArrowDown"?(Q.preventDefault(),P(M=>M<oe.length-1?M+1:0)):Q.key==="ArrowUp"?(Q.preventDefault(),P(M=>M>0?M-1:oe.length-1)):Q.key==="Enter"&&se>=0?(Q.preventDefault(),In(oe[se])):Q.key==="Escape"&&le(!1))},In=Q=>{ce(M=>({...M,forma_pagamento:Q})),D(Q),le(!1),pe([]),P(-1)},lr=async()=>{if(!N.nome||!N.telefone){me.error("Preencha pelo menos nome e telefone");return}if(!N.enderecos.some(M=>M.logradouro&&M.numero&&M.cidade)){me.error("Preencha pelo menos um endereo completo (Rua, Nmero e Cidade)");return}try{const{data:M}=await Ne.from("clientes").select("id, nome").ilike("nome",N.nome.trim()).limit(1);if(M&&M.length>0){me.error(`J existe um cliente cadastrado com o nome "${M[0].nome}"`);return}const{data:G,error:re}=await Ne.from("clientes").insert([{nome:N.nome,cpf:N.cpf||null,telefone:N.telefone,email:N.email||null}]).select().single();if(re)throw re;const ie=N.enderecos.filter(_e=>_e.logradouro&&_e.numero&&_e.cidade).map((_e,tt)=>{const ct=`${_e.logradouro}, ${_e.numero}${_e.complemento?" - "+_e.complemento:""} - ${_e.bairro}, ${_e.cidade} - SC`,He=Sd(_e.cidade,_e.bairro);return{cliente_id:G.id,logradouro:_e.logradouro,numero:_e.numero,complemento:_e.complemento||null,bairro:_e.bairro||null,cidade:_e.cidade,estado:"SC",cep:_e.cep||null,regiao:He||_e.regiao||null,ponto_referencia:_e.ponto_referencia||null,observacoes:_e.observacoes||null,is_principal:tt===0,endereco_completo:ct}}),{error:qe}=await Ne.from("enderecos").insert(ie);if(qe)throw qe;me.success("Cliente cadastrado com sucesso!"),at(G),j({nome:"",cpf:"",telefone:"",email:"",enderecos:[{logradouro:"",numero:"",complemento:"",bairro:"",cidade:"",cep:"",regiao:"",ponto_referencia:"",observacoes:"",is_principal:!0}]}),b(!1),m(""),p([])}catch(M){console.error("Erro ao cadastrar cliente:",M),me.error("Erro ao cadastrar cliente: "+M.message)}},Mn=async Q=>{var G;if(Q.preventDefault(),!Rs()){me.error("Por favor, preencha todos os campos obrigatrios");return}l(!0);const M=me.loading("Salvando alteraes...");try{const{data:re}=await Ne.from("entregas").select("id").eq("requisicao",L.numero_requisicao).neq("id",r).maybeSingle();if(re){me.error("J existe um romaneio com esse nmero de requisio!",{id:M}),l(!1);return}const ie=A.endereco_completo||`${A.logradouro}, ${A.numero} - ${A.bairro}, ${A.cidade}`,qe={endereco_logradouro:A.logradouro,endereco_numero:A.numero,endereco_complemento:A.complemento,endereco_bairro:A.bairro,endereco_cidade:A.cidade,endereco_cep:A.cep};let _e=null;if(L.motoboy){const{data:bt,error:Rt}=await Ne.from("motoboys").select("id").eq("nome",L.motoboy).limit(1);Rt&&console.error("Erro ao buscar motoboy:",Rt),_e=((G=bt==null?void 0:bt[0])==null?void 0:G.id)||null,console.log("Motoboy selecionado:",L.motoboy,"ID encontrado:",_e)}const tt=_.slice(1).map(bt=>bt.id);console.log("Salvando entrega com:",{motoboy_id:_e,valor:L.valor_entrega,regiao:L.regiao});const{data:ct,error:He}=await Ne.from("entregas").update({cliente_id:L.cliente_id,endereco_id:A.id,requisicao:L.numero_requisicao,endereco_destino:ie,regiao:L.regiao,outra_cidade:L.regiao==="OUTRO"?L.outra_cidade:null,data_entrega:L.data_entrega,periodo:L.periodo,motoboy_id:_e,forma_pagamento:L.forma_pagamento,valor:L.valor_entrega,item_geladeira:L.item_geladeira,buscar_receita:L.buscar_receita,observacoes:L.observacoes,clientes_adicionais:tt,valor_venda:ae.includes(L.forma_pagamento)?L.valor_venda:0,...qe}).eq("id",r).select().single();if(He)throw He;o.invalidateQueries({queryKey:["entregas"]}),o.invalidateQueries({queryKey:["receitas"]}),me.success("Romaneio atualizado com sucesso!",{id:M}),setTimeout(()=>t("/"),800)}catch(re){console.error("Erro ao criar romaneio:",re),me.error("Erro ao criar romaneio: "+re.message,{id:M})}finally{l(!1)}};return d?n.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100",children:[n.jsx("div",{className:"py-8 shadow-sm mb-6",style:{background:"linear-gradient(135deg, #457bba 0%, #890d5d 100%)"},children:n.jsx("div",{className:"max-w-7xl mx-auto px-6",children:n.jsx("h1",{className:"text-4xl font-bold text-white",children:"Editar Romaneio"})})}),n.jsx("div",{className:"max-w-4xl mx-auto px-6",children:n.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-12 text-center",children:n.jsx("div",{className:"text-xl text-slate-600",children:"Carregando dados da entrega..."})})})]}):n.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 pb-8",children:[n.jsx("div",{className:"py-8 shadow-sm mb-6",style:{background:"linear-gradient(135deg, #457bba 0%, #890d5d 100%)"},children:n.jsx("div",{className:"max-w-4xl mx-auto px-6",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("button",{onClick:()=>t(-1),className:"p-2 rounded-lg bg-white/20 hover:bg-white/30 transition-colors",children:n.jsx(Ut,{className:"w-6 h-6 text-white"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-4xl font-bold text-white",children:"Editar Romaneio"}),n.jsx("p",{className:"text-base text-white opacity-90 mt-1",children:"Edite as informaes da ordem de entrega"})]})]})})}),n.jsx("div",{className:"max-w-4xl mx-auto px-6",children:n.jsxs("form",{onSubmit:Mn,children:[n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6 mb-6",children:[n.jsx("h3",{className:"text-lg font-bold text-slate-900 mb-6",style:{color:"#376295"},children:"Informaes do Romaneio"}),n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Cliente(s) *"}),n.jsx("input",{type:"text",value:h,onChange:Q=>Ve(Q.target.value),placeholder:"Buscar cliente por nome, CPF ou telefone...",className:"w-full px-4 py-3 border rounded-lg text-sm focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-100",style:{borderColor:fe.cliente?"#ef4444":"#cbd5e1"}}),g.length>0&&n.jsx("div",{className:"absolute z-50 bg-white border border-slate-300 rounded-lg mt-1 max-h-[200px] overflow-y-auto shadow-lg",children:g.map(Q=>n.jsxs("div",{onClick:()=>at(Q),className:"p-3 cursor-pointer border-b border-slate-200 hover:bg-slate-50 transition-colors",children:[n.jsx("p",{className:"font-semibold text-slate-900 m-0",children:Q.nome}),n.jsx("p",{className:"text-xs text-slate-600 m-0",children:Q.telefone})]},Q.id))}),h.length>=2&&g.length===0&&n.jsx("button",{type:"button",onClick:()=>b(!0),className:"mt-2 px-4 py-2 rounded-lg font-semibold text-sm",style:{backgroundColor:"#376295",color:"white"},children:"+ Cadastrar Novo Cliente"}),fe.cliente&&n.jsx("p",{className:"text-red-600 text-xs mt-1",children:fe.cliente})]}),_.length>0&&n.jsxs("div",{className:"mb-4",children:[n.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:["Clientes Selecionados (",_.length,")"]}),n.jsx("div",{className:"flex flex-wrap gap-2",children:_.map((Q,M)=>n.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 bg-blue-50 rounded-full text-sm",children:[n.jsxs("span",{className:"font-medium text-slate-900",children:[Q.nome,M===0&&n.jsx("span",{className:"ml-1 text-xs text-slate-500",children:"(Principal)"})]}),n.jsx("button",{type:"button",onClick:()=>yt(Q.id),className:"text-red-600 hover:text-red-800 font-bold text-lg leading-none",title:"Remover cliente",children:""})]},Q.id))})]}),_.length>0&&n.jsxs("div",{style:{marginBottom:"1rem"},children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"600",color:X.colors.text,marginBottom:"0.75rem"},children:"Endereo de Entrega *"}),_.map(Q=>{const M=T.filter(G=>G.cliente_id===Q.id);return n.jsxs("div",{style:{marginBottom:"1rem",padding:"1rem",background:X.colors.background,borderRadius:"0.5rem",border:`1px solid ${X.colors.border}`},children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.75rem"},children:[n.jsx("h4",{style:{margin:0,fontSize:"0.875rem",fontWeight:"600",color:X.colors.primary},children:Q.nome}),n.jsx("button",{type:"button",onClick:()=>ue(K===Q.id?null:Q.id),style:{padding:"0.25rem 0.75rem",background:"white",color:X.colors.primary,border:`1px solid ${X.colors.primary}`,borderRadius:"0.25rem",fontSize:"0.75rem",cursor:"pointer"},children:K===Q.id?"Cancelar":"+ Novo Endereo"})]}),K===Q.id&&n.jsxs("div",{style:{padding:"1rem",background:"white",borderRadius:"0.5rem",border:`1px solid ${X.colors.border}`,marginBottom:"0.75rem"},children:[n.jsx("h5",{style:{fontSize:"0.8rem",fontWeight:"600",marginBottom:"0.75rem"},children:"Cadastrar Novo Endereo"}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"2fr 1fr",gap:"0.5rem",marginBottom:"0.5rem"},children:[n.jsx("input",{type:"text",value:Y.logradouro,onChange:G=>I({...Y,logradouro:G.target.value}),placeholder:"Rua *",style:{padding:"0.5rem",border:`1px solid ${X.colors.border}`,borderRadius:"0.5rem",fontSize:"0.875rem"}}),n.jsx("input",{type:"text",value:Y.numero,onChange:G=>I({...Y,numero:G.target.value}),placeholder:"Nmero *",style:{padding:"0.5rem",border:`1px solid ${X.colors.border}`,borderRadius:"0.5rem",fontSize:"0.875rem"}})]}),n.jsx("input",{type:"text",value:Y.complemento,onChange:G=>I({...Y,complemento:G.target.value}),placeholder:"Complemento",style:{width:"100%",padding:"0.5rem",border:`1px solid ${X.colors.border}`,borderRadius:"0.5rem",fontSize:"0.875rem",marginBottom:"0.5rem"}}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"0.5rem",marginBottom:"0.5rem"},children:[n.jsx("input",{type:"text",value:Y.bairro,onChange:G=>I({...Y,bairro:G.target.value}),placeholder:"Bairro *",list:"bairros-sugestoes",style:{padding:"0.5rem",border:`1px solid ${X.colors.border}`,borderRadius:"0.5rem",fontSize:"0.875rem"}}),n.jsx("input",{type:"text",value:Y.cidade,onChange:G=>{const re=Wv(G.target.value);I({...Y,cidade:re})},placeholder:"Cidade *",list:"cidades-sugestoes",style:{padding:"0.5rem",border:`1px solid ${X.colors.border}`,borderRadius:"0.5rem",fontSize:"0.875rem"}})]}),n.jsx("input",{type:"text",value:Y.cep,onChange:G=>I({...Y,cep:G.target.value}),placeholder:"CEP",style:{width:"100%",padding:"0.5rem",border:`1px solid ${X.colors.border}`,borderRadius:"0.5rem",fontSize:"0.875rem",marginBottom:"0.5rem"}}),n.jsx("textarea",{value:Y.observacoes,onChange:G=>I({...Y,observacoes:G.target.value}),placeholder:"Observaes (opcional)",rows:2,style:{width:"100%",padding:"0.5rem",border:`1px solid ${X.colors.border}`,borderRadius:"0.5rem",fontSize:"0.875rem",marginBottom:"0.75rem",resize:"vertical"}}),n.jsx("button",{type:"button",onClick:async()=>{if(!Y.logradouro||!Y.numero||!Y.bairro||!Y.cidade){me.error("Preencha todos os campos obrigatrios");return}try{const G=`${Y.logradouro}, ${Y.numero}${Y.complemento?" - "+Y.complemento:""} - ${Y.bairro}, ${Y.cidade} - SC`,re=Sd(Y.cidade,Y.bairro),{data:ie,error:qe}=await Ne.from("enderecos").insert([{cliente_id:Q.id,logradouro:Y.logradouro,numero:Y.numero,complemento:Y.complemento||null,bairro:Y.bairro,cidade:Y.cidade,estado:"SC",cep:Y.cep||null,regiao:re||"",is_principal:!1,endereco_completo:G,observacoes:Y.observacoes||null}]).select().single();if(qe)throw qe;const _e={...ie,cliente_nome:Q.nome};q([...T,_e]),U(_e),re&&ht(re),I({logradouro:"",numero:"",complemento:"",bairro:"",cidade:"",cep:"",observacoes:""}),ue(null),me.success("Endereo cadastrado com sucesso!")}catch(G){console.error("Erro ao salvar endereo:",G),me.error("Erro ao salvar endereo")}},style:{padding:"0.5rem 1rem",background:X.colors.primary,color:"white",border:"none",borderRadius:"0.5rem",fontSize:"0.875rem",cursor:"pointer"},children:"Salvar Endereo"})]}),M.length>0?M.map(G=>(V==null?void 0:V.id)===G.id?n.jsxs("div",{style:{padding:"0.75rem",border:`2px solid ${X.colors.primary}`,borderRadius:"0.5rem",marginBottom:"0.5rem",background:"white"},children:[n.jsx("h5",{style:{fontSize:"0.8rem",fontWeight:"600",marginBottom:"0.75rem"},children:"Editando Endereo"}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"2fr 1fr",gap:"0.5rem",marginBottom:"0.5rem"},children:[n.jsx("input",{type:"text",value:V.logradouro,onChange:re=>O({...V,logradouro:re.target.value}),placeholder:"Rua *",style:{padding:"0.5rem",border:`1px solid ${X.colors.border}`,borderRadius:"0.5rem",fontSize:"0.875rem"}}),n.jsx("input",{type:"text",value:V.numero,onChange:re=>O({...V,numero:re.target.value}),placeholder:"Nmero *",style:{padding:"0.5rem",border:`1px solid ${X.colors.border}`,borderRadius:"0.5rem",fontSize:"0.875rem"}})]}),n.jsx("input",{type:"text",value:V.complemento,onChange:re=>O({...V,complemento:re.target.value}),placeholder:"Complemento",style:{width:"100%",padding:"0.5rem",border:`1px solid ${X.colors.border}`,borderRadius:"0.5rem",fontSize:"0.875rem",marginBottom:"0.5rem"}}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"0.5rem",marginBottom:"0.5rem"},children:[n.jsx("input",{type:"text",value:V.bairro,onChange:re=>O({...V,bairro:re.target.value}),placeholder:"Bairro *",list:"bairros-sugestoes-edit",style:{padding:"0.5rem",border:`1px solid ${X.colors.border}`,borderRadius:"0.5rem",fontSize:"0.875rem"}}),n.jsx("input",{type:"text",value:V.cidade,onChange:re=>{const ie=Wv(re.target.value);O({...V,cidade:ie})},placeholder:"Cidade *",list:"cidades-sugestoes-edit",style:{padding:"0.5rem",border:`1px solid ${X.colors.border}`,borderRadius:"0.5rem",fontSize:"0.875rem"}})]}),n.jsx("input",{type:"text",value:V.cep,onChange:re=>O({...V,cep:re.target.value}),placeholder:"CEP",style:{width:"100%",padding:"0.5rem",border:`1px solid ${X.colors.border}`,borderRadius:"0.5rem",fontSize:"0.875rem",marginBottom:"0.75rem"}}),n.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[n.jsx("button",{type:"button",onClick:async()=>{if(!V.logradouro||!V.numero||!V.bairro||!V.cidade){me.error("Preencha todos os campos obrigatrios");return}try{const re=`${V.logradouro}, ${V.numero}${V.complemento?" - "+V.complemento:""} - ${V.bairro}, ${V.cidade} - SC`,ie=Sd(V.cidade,V.bairro),{error:qe}=await Ne.from("enderecos").update({logradouro:V.logradouro,numero:V.numero,complemento:V.complemento||null,bairro:V.bairro,cidade:V.cidade,cep:V.cep||null,regiao:ie||V.regiao,endereco_completo:re}).eq("id",V.id);if(qe)throw qe;const _e={...G,...V,endereco_completo:re,regiao:ie||V.regiao};q(T.map(tt=>tt.id===V.id?_e:tt)),(A==null?void 0:A.id)===V.id&&(U(_e),ie&&ht(ie)),O(null),me.success("Endereo atualizado com sucesso!")}catch(re){console.error("Erro ao atualizar endereo:",re),me.error("Erro ao atualizar endereo")}},style:{flex:1,padding:"0.5rem",background:X.colors.primary,color:"white",border:"none",borderRadius:"0.5rem",fontSize:"0.875rem",cursor:"pointer"},children:"Salvar"}),n.jsx("button",{type:"button",onClick:()=>O(null),style:{flex:1,padding:"0.5rem",background:"white",color:X.colors.text,border:`1px solid ${X.colors.border}`,borderRadius:"0.5rem",fontSize:"0.875rem",cursor:"pointer"},children:"Cancelar"})]})]},G.id):n.jsx("div",{style:{padding:"0.75rem",border:`2px solid ${(A==null?void 0:A.id)===G.id?X.colors.primary:X.colors.border}`,borderRadius:"0.5rem",marginBottom:"0.5rem",background:(A==null?void 0:A.id)===G.id?"#f0f9ff":"white",cursor:"pointer"},onClick:()=>Ze(G),children:n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"start"},children:[n.jsxs("div",{style:{flex:1,display:"flex",alignItems:"center",gap:"0.5rem"},children:[n.jsx("input",{type:"radio",name:"endereco",checked:(A==null?void 0:A.id)===G.id,onChange:()=>Ze(G),style:{cursor:"pointer"}}),n.jsxs("div",{children:[n.jsx("p",{style:{margin:0,fontWeight:"500",fontSize:"0.875rem"},children:G.endereco_completo||`${G.logradouro}, ${G.numero} - ${G.bairro}, ${G.cidade}`}),G.regiao&&n.jsxs("p",{style:{margin:0,fontSize:"0.75rem",color:X.colors.textLight},children:["Regio: ",G.regiao]})]})]}),n.jsx("button",{type:"button",onClick:re=>{re.stopPropagation(),ir(G)},style:{padding:"0.25rem 0.5rem",background:"white",color:X.colors.primary,border:`1px solid ${X.colors.primary}`,borderRadius:"0.25rem",fontSize:"0.75rem",cursor:"pointer"},children:"Editar"})]})},G.id)):n.jsx("p",{style:{color:X.colors.textLight,fontSize:"0.875rem",fontStyle:"italic",margin:0},children:'Nenhum endereo cadastrado. Clique em "+ Novo Endereo" para adicionar.'})]},Q.id)}),fe.endereco&&n.jsx("p",{style:{color:X.colors.danger,fontSize:"0.75rem",marginTop:"0.25rem"},children:fe.endereco}),n.jsxs("datalist",{id:"bairros-sugestoes",children:[n.jsx("option",{value:"Centro"}),n.jsx("option",{value:"Estados"}),n.jsx("option",{value:"Pioneiros"}),n.jsx("option",{value:"Nova Esperana"}),n.jsx("option",{value:"Naes"}),n.jsx("option",{value:"Barra"}),n.jsx("option",{value:"Barra Sul"}),n.jsx("option",{value:"Estaleiro"}),n.jsx("option",{value:"Estaleirinho"}),n.jsx("option",{value:"Taquaras"}),n.jsx("option",{value:"Laranjeiras"}),n.jsx("option",{value:"Praia dos Amores"}),n.jsx("option",{value:"Praia Brava"}),n.jsx("option",{value:"Tabuleiro"}),n.jsx("option",{value:"Monte Alegre"}),n.jsx("option",{value:"Vila Real"}),n.jsx("option",{value:"Espinheiros"})]}),n.jsxs("datalist",{id:"cidades-sugestoes",children:[n.jsx("option",{value:"Balnerio Cambori"}),n.jsx("option",{value:"Cambori"}),n.jsx("option",{value:"Itaja"}),n.jsx("option",{value:"Itapema"}),n.jsx("option",{value:"Navegantes"}),n.jsx("option",{value:"Penha"}),n.jsx("option",{value:"Porto Belo"}),n.jsx("option",{value:"Tijucas"}),n.jsx("option",{value:"Piarras"}),n.jsx("option",{value:"Bombinhas"})]}),n.jsxs("datalist",{id:"bairros-sugestoes-edit",children:[n.jsx("option",{value:"Centro"}),n.jsx("option",{value:"Estados"}),n.jsx("option",{value:"Pioneiros"}),n.jsx("option",{value:"Nova Esperana"}),n.jsx("option",{value:"Naes"}),n.jsx("option",{value:"Barra"}),n.jsx("option",{value:"Barra Sul"}),n.jsx("option",{value:"Estaleiro"}),n.jsx("option",{value:"Estaleirinho"}),n.jsx("option",{value:"Taquaras"}),n.jsx("option",{value:"Laranjeiras"}),n.jsx("option",{value:"Praia dos Amores"}),n.jsx("option",{value:"Praia Brava"}),n.jsx("option",{value:"Tabuleiro"}),n.jsx("option",{value:"Monte Alegre"}),n.jsx("option",{value:"Vila Real"}),n.jsx("option",{value:"Espinheiros"})]}),n.jsxs("datalist",{id:"cidades-sugestoes-edit",children:[n.jsx("option",{value:"Balnerio Cambori"}),n.jsx("option",{value:"Cambori"}),n.jsx("option",{value:"Itaja"}),n.jsx("option",{value:"Itapema"}),n.jsx("option",{value:"Navegantes"}),n.jsx("option",{value:"Penha"}),n.jsx("option",{value:"Porto Belo"}),n.jsx("option",{value:"Tijucas"}),n.jsx("option",{value:"Piarras"}),n.jsx("option",{value:"Bombinhas"})]})]}),n.jsxs("div",{style:{marginBottom:"1rem"},children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:X.colors.text,marginBottom:"0.5rem"},children:"Nmero da Requisio *"}),n.jsx("input",{type:"text",value:L.numero_requisicao,onChange:Q=>ce({...L,numero_requisicao:Q.target.value}),placeholder:"Ex: REQ-001",style:{width:"100%",padding:"0.75rem",border:`1px solid ${fe.requisicao?X.colors.danger:X.colors.border}`,borderRadius:"0.5rem",fontSize:"0.875rem"}}),fe.requisicao&&n.jsx("p",{style:{color:X.colors.danger,fontSize:"0.75rem",marginTop:"0.25rem"},children:fe.requisicao})]}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem",marginBottom:"1rem"},children:[n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:X.colors.text,marginBottom:"0.5rem"},children:"Cidade/Regio *"}),n.jsxs("select",{value:L.regiao,onChange:Q=>ht(Q.target.value),style:{width:"100%",padding:"0.75rem",border:`1px solid ${fe.regiao?X.colors.danger:X.colors.border}`,borderRadius:"0.5rem",fontSize:"0.875rem"},children:[n.jsx("option",{value:"",children:"Selecione a cidade"}),Uv.map(Q=>n.jsx("option",{value:Q,children:Q},Q))]})]}),n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:X.colors.text,marginBottom:"0.5rem"},children:"Data de Entrega *"}),n.jsx("input",{type:"date",value:L.data_entrega,onChange:Q=>ce({...L,data_entrega:Q.target.value}),style:{width:"100%",padding:"0.75rem",border:`1px solid ${X.colors.border}`,borderRadius:"0.5rem",fontSize:"0.875rem"}})]})]}),L.regiao==="OUTRO"&&n.jsxs("div",{style:{marginBottom:"1rem"},children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:X.colors.text,marginBottom:"0.5rem"},children:"Nome da Cidade *"}),n.jsx("input",{type:"text",value:L.outra_cidade,onChange:Q=>ce({...L,outra_cidade:Q.target.value}),placeholder:"Digite o nome da cidade",style:{width:"100%",padding:"0.75rem",border:`1px solid ${fe.outra_cidade?X.colors.danger:X.colors.border}`,borderRadius:"0.5rem",fontSize:"0.875rem"}})]}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem",marginBottom:"1rem"},children:[n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:X.colors.text,marginBottom:"0.5rem"},children:"Perodo de Entrega *"}),n.jsxs("select",{value:L.periodo,onChange:Q=>ce({...L,periodo:Q.target.value}),style:{width:"100%",padding:"0.75rem",border:`1px solid ${X.colors.border}`,borderRadius:"0.5rem",fontSize:"0.875rem"},children:[n.jsx("option",{value:"Manh",children:"Manh"}),n.jsx("option",{value:"Tarde",children:"Tarde"})]})]}),n.jsxs("div",{style:{position:"relative"},children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:X.colors.text,marginBottom:"0.5rem"},children:"Forma de Pagamento *"}),n.jsx("input",{type:"text",value:F,onChange:Q=>As(Q.target.value),onKeyDown:ln,onFocus:()=>{le(!0),oe.length===0&&pe($f)},onBlur:()=>{setTimeout(()=>le(!1),200)},placeholder:"Digite ou selecione a forma de pagamento...",style:{width:"100%",padding:"0.75rem",border:`1px solid ${fe.pagamento?X.colors.danger:X.colors.border}`,borderRadius:"0.5rem",fontSize:"0.875rem"}}),Z&&oe.length>0&&n.jsx("div",{style:{position:"absolute",top:"100%",left:0,right:0,background:"white",border:`1px solid ${X.colors.border}`,borderRadius:"0.5rem",marginTop:"0.25rem",maxHeight:"200px",overflowY:"auto",boxShadow:"0 4px 6px rgba(0,0,0,0.1)",zIndex:1e3},children:oe.map((Q,M)=>n.jsx("div",{onClick:()=>In(Q),onMouseEnter:()=>P(M),style:{padding:"0.75rem",cursor:"pointer",borderBottom:M<oe.length-1?`1px solid ${X.colors.border}`:"none",background:M===se?"#e3f2fd":"white",transition:"background 0.15s"},children:n.jsx("p",{style:{margin:0,fontSize:"0.875rem"},children:Q})},Q))})]})]}),ae.includes(L.forma_pagamento)&&n.jsxs("div",{style:{marginBottom:"1rem",padding:"1rem",background:"#e8f5e9",border:"2px solid #4caf50",borderRadius:"0.5rem"},children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"600",color:"#2e7d32",marginBottom:"0.5rem"},children:"Valor a Cobrar (R$) *"}),n.jsx("input",{type:"number",step:"0.01",min:"0",value:L.valor_venda||"",onChange:Q=>ce({...L,valor_venda:parseFloat(Q.target.value)||0}),placeholder:"Ex: 150.00",style:{width:"100%",padding:"0.75rem",border:`2px solid ${fe.valor_venda?X.colors.danger:"#4caf50"}`,borderRadius:"0.5rem",fontSize:"0.875rem",background:"white"}}),fe.valor_venda&&n.jsx("p",{style:{color:X.colors.danger,fontSize:"0.75rem",marginTop:"0.25rem"},children:fe.valor_venda}),!fe.valor_venda&&L.valor_venda>0&&n.jsxs("div",{style:{marginTop:"0.75rem",padding:"0.75rem",background:"#1b5e20",borderRadius:"0.5rem",textAlign:"center"},children:[n.jsx("p",{style:{margin:0,color:"white",fontSize:"0.875rem",fontWeight:"500"},children:L.forma_pagamento==="Receber Mquina"?"Receber na Mquina:":L.forma_pagamento==="Pagar MP"?"Cobrar via MP:":"Valor a Receber:"}),n.jsxs("p",{style:{margin:"0.25rem 0 0 0",color:"white",fontSize:"1.5rem",fontWeight:"700"},children:["R$ ",L.valor_venda.toFixed(2).replace(".",",")]})]}),!L.valor_venda&&n.jsx("p",{style:{fontSize:"0.75rem",color:"#2e7d32",marginTop:"0.25rem",fontWeight:"500"},children:"Informe o valor a ser cobrado nesta entrega."})]}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem",marginBottom:"1rem"},children:[n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:X.colors.text,marginBottom:"0.5rem"},children:"Motoboy *"}),n.jsxs("select",{value:L.motoboy,onChange:Q=>Qt(Q.target.value),style:{width:"100%",padding:"0.75rem",border:`1px solid ${fe.motoboy?X.colors.danger:X.colors.border}`,borderRadius:"0.5rem",fontSize:"0.875rem"},children:[n.jsx("option",{value:"",children:"Selecione o motoboy"}),n.jsx("option",{value:"Marcio",children:"Marcio"}),n.jsx("option",{value:"Bruno",children:"Bruno"})]}),n.jsx("p",{style:{fontSize:"0.75rem",color:X.colors.textLight,marginTop:"0.25rem"},children:"Valor calculado automaticamente"})]}),n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:X.colors.text,marginBottom:"0.5rem"},children:"Valor da Entrega (R$)"}),n.jsx("input",{type:"number",step:"0.01",value:L.valor_entrega,onChange:Q=>ce({...L,valor_entrega:parseFloat(Q.target.value)||0}),style:{width:"100%",padding:"0.75rem",border:`1px solid ${X.colors.border}`,borderRadius:"0.5rem",fontSize:"0.875rem",fontWeight:"600",color:X.colors.primary}})]})]}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem",marginBottom:"1rem"},children:[n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"600",color:X.colors.text,marginBottom:"0.5rem"},children:"Item de Geladeira? *"}),n.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[n.jsx("button",{type:"button",onClick:()=>ce(Q=>({...Q,item_geladeira:!0})),style:{padding:"0.5rem 1.5rem",border:L.item_geladeira?"2px solid #0891b2":"2px solid #e2e8f0",borderRadius:"0.5rem",background:L.item_geladeira?"#cffafe":"white",color:L.item_geladeira?"#0891b2":"#64748b",fontWeight:L.item_geladeira?"600":"400",fontSize:"0.875rem",cursor:"pointer",transition:"all 0.15s"},children:"Sim"}),n.jsx("button",{type:"button",onClick:()=>ce(Q=>({...Q,item_geladeira:!1})),style:{padding:"0.5rem 1.5rem",border:L.item_geladeira?"2px solid #e2e8f0":"2px solid #64748b",borderRadius:"0.5rem",background:L.item_geladeira?"white":"#f1f5f9",color:L.item_geladeira?"#64748b":"#1e293b",fontWeight:L.item_geladeira?"400":"600",fontSize:"0.875rem",cursor:"pointer",transition:"all 0.15s"},children:"No"})]})]}),n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"600",color:X.colors.text,marginBottom:"0.5rem"},children:"Reter Receita? *"}),n.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[n.jsx("button",{type:"button",onClick:()=>ce(Q=>({...Q,buscar_receita:!0})),style:{padding:"0.5rem 1.5rem",border:L.buscar_receita?"2px solid #f97316":"2px solid #e2e8f0",borderRadius:"0.5rem",background:L.buscar_receita?"#ffedd5":"white",color:L.buscar_receita?"#c2410c":"#64748b",fontWeight:L.buscar_receita?"600":"400",fontSize:"0.875rem",cursor:"pointer",transition:"all 0.15s"},children:"Sim"}),n.jsx("button",{type:"button",onClick:()=>ce(Q=>({...Q,buscar_receita:!1})),style:{padding:"0.5rem 1.5rem",border:L.buscar_receita?"2px solid #e2e8f0":"2px solid #64748b",borderRadius:"0.5rem",background:L.buscar_receita?"white":"#f1f5f9",color:L.buscar_receita?"#64748b":"#1e293b",fontWeight:L.buscar_receita?"400":"600",fontSize:"0.875rem",cursor:"pointer",transition:"all 0.15s"},children:"No"})]})]})]}),n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:X.colors.text,marginBottom:"0.5rem"},children:"Observaes"}),n.jsx("textarea",{value:L.observacoes,onChange:Q=>ce({...L,observacoes:Q.target.value}),placeholder:"Informaes adicionais sobre a entrega",rows:4,style:{width:"100%",padding:"0.75rem",border:`1px solid ${X.colors.border}`,borderRadius:"0.5rem",fontSize:"0.875rem",resize:"vertical"}})]})]}),n.jsxs("div",{className:"flex gap-4 justify-end mt-6",children:[n.jsx("button",{type:"button",onClick:()=>t("/"),className:"px-6 py-3 bg-white border border-slate-300 rounded-lg font-semibold text-sm text-slate-700 hover:bg-slate-50 transition-colors",children:"Cancelar"}),n.jsx("button",{type:"submit",disabled:i,className:"px-6 py-3 rounded-lg font-semibold text-sm text-white transition-colors",style:{backgroundColor:i?"#94a3b8":"#376295",cursor:i?"not-allowed":"pointer"},children:i?"Salvando...":"Salvar Alteraes"})]})]})}),n.jsx(Yn,{open:w,onOpenChange:b,children:n.jsxs(En,{style:{maxWidth:"900px"},children:[n.jsx(Sn,{children:n.jsx(Cn,{style:{color:"#376295"},children:"Cadastrar Novo Cliente"})}),n.jsxs("div",{className:"space-y-4 max-h-[70vh] overflow-y-auto px-1",children:[n.jsxs("div",{className:"bg-slate-50 p-4 rounded-lg",children:[n.jsx("h3",{className:"text-sm font-semibold text-slate-700 mb-3",children:"Dados do Cliente"}),n.jsxs("div",{className:"mb-3",children:[n.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Nome Completo *"}),n.jsx("input",{type:"text",value:N.nome,onChange:Q=>j({...N,nome:Q.target.value}),placeholder:"Digite o nome completo",className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-100"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"CPF"}),n.jsx("input",{type:"text",value:N.cpf,onChange:Q=>j({...N,cpf:Q.target.value}),placeholder:"000.000.000-00",className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-100"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Telefone *"}),n.jsx("input",{type:"text",value:N.telefone,onChange:Q=>j({...N,telefone:Q.target.value}),placeholder:"(00) 00000-0000",className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-100"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"E-mail"}),n.jsx("input",{type:"email",value:N.email,onChange:Q=>j({...N,email:Q.target.value}),placeholder:"email@exemplo.com",className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-100"})]})]}),n.jsxs("div",{className:"bg-slate-50 p-4 rounded-lg",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsx("h3",{className:"text-sm font-semibold text-slate-700",children:"Endereos *"}),n.jsx("button",{type:"button",onClick:je,className:"px-3 py-1 text-xs font-medium rounded-lg transition-colors",style:{backgroundColor:"#376295",color:"white"},children:"+ Adicionar Endereo"})]}),N.enderecos.map((Q,M)=>n.jsxs("div",{className:"bg-white p-4 rounded-lg mb-3 border border-slate-200",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsxs("h4",{className:"text-xs font-semibold text-slate-600",children:["Endereo ",M+1," ",M===0&&"(Principal)"]}),N.enderecos.length>1&&n.jsx("button",{type:"button",onClick:()=>Ee(M),className:"text-red-600 hover:text-red-800 text-xs font-medium",children:"Remover"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-slate-700 mb-1",children:"CEP"}),n.jsx("input",{type:"text",value:Q.cep,onChange:G=>Ae(M,"cep",G.target.value),placeholder:"00000-000",className:"w-full px-3 py-2 border border-slate-300 rounded-lg text-sm focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-100"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-slate-700 mb-1",children:"Regio"}),n.jsxs("select",{value:Q.regiao,onChange:G=>Ae(M,"regiao",G.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-lg text-sm focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-100",children:[n.jsx("option",{value:"",children:"Selecione"}),Uv.map(G=>n.jsx("option",{value:G,children:G},G))]})]})]}),n.jsxs("div",{className:"grid grid-cols-3 gap-3 mb-3",children:[n.jsxs("div",{className:"col-span-2",children:[n.jsx("label",{className:"block text-xs font-medium text-slate-700 mb-1",children:"Rua/Logradouro *"}),n.jsx("input",{type:"text",value:Q.logradouro,onChange:G=>Ae(M,"logradouro",G.target.value),placeholder:"Nome da rua",className:"w-full px-3 py-2 border border-slate-300 rounded-lg text-sm focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-100"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-slate-700 mb-1",children:"Nmero *"}),n.jsx("input",{type:"text",value:Q.numero,onChange:G=>Ae(M,"numero",G.target.value),placeholder:"123",className:"w-full px-3 py-2 border border-slate-300 rounded-lg text-sm focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-100"})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-slate-700 mb-1",children:"Bairro"}),n.jsx("input",{type:"text",value:Q.bairro,onChange:G=>Ae(M,"bairro",G.target.value),placeholder:"Nome do bairro",className:"w-full px-3 py-2 border border-slate-300 rounded-lg text-sm focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-100"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-slate-700 mb-1",children:"Cidade *"}),n.jsx("input",{type:"text",value:Q.cidade,onChange:G=>Ae(M,"cidade",G.target.value),placeholder:"Nome da cidade",className:"w-full px-3 py-2 border border-slate-300 rounded-lg text-sm focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-100"})]})]}),n.jsxs("div",{className:"mb-3",children:[n.jsx("label",{className:"block text-xs font-medium text-slate-700 mb-1",children:"Complemento"}),n.jsx("input",{type:"text",value:Q.complemento,onChange:G=>Ae(M,"complemento",G.target.value),placeholder:"Apto, Bloco, etc.",className:"w-full px-3 py-2 border border-slate-300 rounded-lg text-sm focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-100"})]}),n.jsxs("div",{className:"mb-3",children:[n.jsx("label",{className:"block text-xs font-medium text-slate-700 mb-1",children:"Ponto de Referncia"}),n.jsx("input",{type:"text",value:Q.ponto_referencia,onChange:G=>Ae(M,"ponto_referencia",G.target.value),placeholder:"Prximo a...",className:"w-full px-3 py-2 border border-slate-300 rounded-lg text-sm focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-100"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-slate-700 mb-1",children:"Observaes"}),n.jsx("textarea",{value:Q.observacoes,onChange:G=>Ae(M,"observacoes",G.target.value),placeholder:"Informaes adicionais",rows:2,className:"w-full px-3 py-2 border border-slate-300 rounded-lg text-sm focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-100"})]})]},M))]}),n.jsxs("div",{className:"flex gap-3 pt-4",children:[n.jsx("button",{type:"button",onClick:()=>{b(!1),j({nome:"",cpf:"",telefone:"",email:"",enderecos:[{logradouro:"",numero:"",complemento:"",bairro:"",cidade:"",cep:"",regiao:"",ponto_referencia:"",observacoes:"",is_principal:!0}]})},className:"flex-1 px-4 py-2 border border-slate-300 rounded-lg font-medium text-slate-700 hover:bg-slate-50 transition-colors",children:"Cancelar"}),n.jsx("button",{type:"button",onClick:lr,className:"flex-1 px-4 py-2 rounded-lg font-medium text-white transition-colors",style:{backgroundColor:"#376295"},children:"Cadastrar Cliente"})]})]})]})})]})}function eT({romaneio:t}){var i,l,d,u,h,m,g,p,w,b,N,j;if(!t)return null;const e=new Date;e.toLocaleString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"});const r=e.toLocaleString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"}),o=_=>_?new Date(_+"T12:00:00").toLocaleDateString("pt-BR"):"-";return n.jsxs("div",{className:"print-only",children:[n.jsx("style",{children:`
        /* Esconder na tela */
        @media screen {
          .print-only {
            display: none !important;
          }
        }

        @media print {
          @page {
            margin: 5mm;
            size: auto;
          }
          html, body {
            height: auto !important;
            overflow: visible !important;
          }
          body * {
            visibility: hidden;
          }
          .print-only, .print-only * {
            visibility: visible !important;
          }
          .print-only {
            display: block !important;
            position: absolute !important;
            top: 0 !important;
            left: 0 !important;
            width: 100% !important;
            background: white !important;
          }
          .no-print {
            display: none !important;
          }
        }

        .print-page {
          font-family: Arial, sans-serif;
          font-size: 12px;
          color: #000;
          padding: 20px;
          max-width: 800px;
          margin: 0 auto;
          position: relative;
        }

        .print-header-top {
          display: flex;
          justify-content: space-between;
          font-size: 11px;
          color: #000;
          padding-bottom: 10px;
          border-bottom: 1px solid #000;
          margin-bottom: 20px;
        }

        .print-title {
          text-align: center;
          margin-bottom: 15px;
          display: flex;
          flex-direction: column;
          align-items: center;
          justify-content: center;
          width: 100%;
        }

        .print-logo-img {
          width: 150px;
          height: auto;
          margin-bottom: 10px;
        }

        .print-title h1 {
          font-size: 18px;
          font-weight: bold;
          margin: 0;
          color: #000;
        }

        .print-box {
          border: 1px solid #000;
          padding: 12px;
          margin-bottom: 10px;
        }

        .print-row {
          display: flex;
          justify-content: space-between;
          margin-bottom: 5px;
          color: #000;
        }

        .print-row:last-child {
          margin-bottom: 0;
        }

        .print-label {
          color: #000;
          font-size: 11px;
        }

        .print-value {
          text-align: right;
        }

        .print-value-bold {
          font-weight: bold;
          text-align: right;
        }

        .print-grid {
          display: flex;
          gap: 10px;
          margin-bottom: 10px;
        }

        .print-grid-col {
          flex: 1;
          border: 1px solid #000;
          padding: 12px 15px;
        }

        .print-section-title {
          font-weight: bold;
          font-size: 11px;
          margin-bottom: 10px;
          padding-bottom: 6px;
          border-bottom: 1px solid #000;
          color: #000;
        }

        .print-section-row {
          display: flex;
          justify-content: space-between;
          margin-bottom: 6px;
          font-size: 11px;
          color: #000;
        }

        .print-section-row:last-child {
          margin-bottom: 0;
        }

        .print-section-label {
          color: #000;
        }

        .print-section-value {
          text-align: right;
          color: #000;
        }

        .print-endereco-main {
          font-weight: bold;
          font-size: 12px;
          margin-bottom: 3px;
          color: #000;
        }

        .print-endereco-line {
          font-size: 11px;
          margin-bottom: 2px;
          color: #000;
        }

        .print-endereco-ref {
          font-size: 11px;
          color: #000;
          font-style: italic;
          margin-top: 3px;
        }

        .print-endereco-ac {
          font-size: 11px;
          margin-top: 3px;
          color: #000;
        }

        .print-geladeira {
          display: flex;
          align-items: center;
          justify-content: center;
          gap: 12px;
          padding: 12px 15px;
          margin-bottom: 10px;
          font-size: 14px;
          font-weight: bold;
          text-transform: uppercase;
          border: 2px solid #000;
          background-color: #fff;
          color: #000;
        }

        .print-geladeira-icon {
          font-size: 20px;
        }

        .print-receita {
          display: flex;
          align-items: center;
          justify-content: center;
          gap: 12px;
          padding: 12px 15px;
          margin-bottom: 10px;
          font-size: 14px;
          font-weight: bold;
          text-transform: uppercase;
          border: 2px solid #000;
          background-color: #fff;
          color: #000;
        }

        .print-receita-icon {
          font-size: 20px;
        }

        .print-valor-box {
          background-color: #fff;
          border: 2px solid #000;
          padding: 10px;
          margin-bottom: 10px;
          text-align: center;
          font-size: 14px;
          font-weight: bold;
          color: #000;
        }

        .print-valor-icon {
          margin-right: 8px;
        }

        .print-footer {
          text-align: center;
          font-size: 9px;
          color: #000;
          padding-top: 8px;
          border-top: 1px solid #000;
          margin-top: 10px;
        }

        .print-footer div {
          margin-bottom: 2px;
        }

        .print-carimbo-pago {
          position: absolute;
          top: 50%;
          left: 50%;
          transform: translate(-50%, -50%) rotate(-25deg);
          font-size: 80px;
          font-weight: bold;
          text-transform: uppercase;
          color: #000;
          border: 8px solid #000;
          padding: 10px 40px;
          opacity: 0.3;
          pointer-events: none;
          z-index: 100;
          letter-spacing: 10px;
        }
      `}),n.jsxs("div",{className:"print-page",children:[t.forma_pagamento&&!["Receber Dinheiro","Receber Mquina","Pagar MP"].includes(t.forma_pagamento)&&n.jsx("div",{className:"print-carimbo-pago",children:"PAGO"}),n.jsxs("div",{className:"print-title",children:[n.jsx("img",{src:"/logo-formedica.png",alt:"Formdica",className:"print-logo-img"}),n.jsx("h1",{children:"ROMANEIO DE ENTREGA"})]}),n.jsxs("div",{className:"print-grid",children:[n.jsxs("div",{className:"print-grid-col",children:[n.jsx("div",{className:"print-section-title",children:"DADOS DA ENTREGA"}),n.jsxs("div",{className:"print-section-row",children:[n.jsx("span",{className:"print-section-label",children:"N. Requisio:"}),n.jsxs("span",{className:"print-section-value",style:{fontWeight:"bold"},children:["# ",t.requisicao||"0000"]})]}),n.jsxs("div",{className:"print-section-row",children:[n.jsx("span",{className:"print-section-label",children:"Data:"}),n.jsxs("span",{className:"print-section-value",children:[o(t.data_entrega)," - ",t.periodo||"-"]})]}),n.jsxs("div",{className:"print-section-row",children:[n.jsx("span",{className:"print-section-label",children:"Motoboy:"}),n.jsx("span",{className:"print-section-value",children:((i=t.motoboy)==null?void 0:i.nome)||"-"})]}),n.jsxs("div",{className:"print-section-row",children:[n.jsx("span",{className:"print-section-label",children:"Atendente:"}),n.jsx("span",{className:"print-section-value",children:((l=t.atendente)==null?void 0:l.nome)||((d=t.atendente)==null?void 0:d.email)||"-"})]})]}),n.jsxs("div",{className:"print-grid-col",children:[n.jsx("div",{className:"print-section-title",children:"CLIENTE"}),n.jsxs("div",{className:"print-section-row",children:[n.jsx("span",{className:"print-section-label",children:"Nome:"}),n.jsx("span",{className:"print-section-value",children:((u=t.cliente)==null?void 0:u.nome)||"-"})]}),n.jsxs("div",{className:"print-section-row",children:[n.jsx("span",{className:"print-section-label",children:"Telefone:"}),n.jsx("span",{className:"print-section-value",children:((h=t.cliente)==null?void 0:h.telefone)||"-"})]})]})]}),n.jsxs("div",{className:"print-grid",children:[n.jsxs("div",{className:"print-grid-col",children:[n.jsx("div",{className:"print-section-title",children:"ENDERECO DE ENTREGA"}),n.jsxs("div",{className:"print-endereco-main",children:[((m=t.endereco)==null?void 0:m.logradouro)||"-"," , ",((g=t.endereco)==null?void 0:g.numero)||"S/N"]}),n.jsxs("div",{className:"print-endereco-line",children:[((p=t.endereco)==null?void 0:p.bairro)||"-"," - ",((w=t.endereco)==null?void 0:w.cidade)||t.regiao||"-"]}),((b=t.endereco)==null?void 0:b.complemento)&&n.jsxs("div",{className:"print-endereco-line",children:["Compl.: ",t.endereco.complemento]}),((N=t.endereco)==null?void 0:N.ponto_referencia)&&n.jsxs("div",{className:"print-endereco-ref",children:["Ref.: ",t.endereco.ponto_referencia]}),((j=t.cliente)==null?void 0:j.nome)&&n.jsxs("div",{className:"print-endereco-ac",children:["A/C: ",t.cliente.nome]})]}),n.jsxs("div",{className:"print-grid-col",children:[n.jsx("div",{className:"print-section-title",children:"PAGAMENTO"}),n.jsxs("div",{className:"print-section-row",children:[n.jsx("span",{className:"print-section-label",children:"Forma de Pagamento:"}),n.jsx("span",{className:"print-section-value",children:t.forma_pagamento||"-"})]})]})]}),t.observacoes&&n.jsxs("div",{className:"print-box",children:[n.jsx("div",{className:"print-section-title",children:"OBSERVAES"}),n.jsx("div",{className:"print-section-row",style:{justifyContent:"flex-start"},children:n.jsx("span",{className:"print-section-value",style:{textAlign:"left"},children:t.observacoes})})]}),(t.item_geladeira||t.buscar_receita)&&n.jsxs("div",{style:{display:"flex",gap:"10px",marginBottom:"10px"},children:[t.item_geladeira&&n.jsxs("div",{className:"print-geladeira",style:{flex:1,marginBottom:0},children:[n.jsx("span",{className:"print-geladeira-icon",children:""}),n.jsx("span",{children:"ITEM DE GELADEIRA"}),n.jsx("span",{className:"print-geladeira-icon",children:""})]}),t.buscar_receita&&n.jsxs("div",{className:"print-receita",style:{flex:1,marginBottom:0},children:[n.jsxs("svg",{className:"print-receita-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",style:{width:"20px",height:"20px"},children:[n.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),n.jsx("polyline",{points:"14 2 14 8 20 8"}),n.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),n.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),n.jsx("polyline",{points:"10 9 9 9 8 9"})]}),n.jsx("span",{children:"RETER RECEITA"}),n.jsxs("svg",{className:"print-receita-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",style:{width:"20px",height:"20px"},children:[n.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),n.jsx("polyline",{points:"14 2 14 8 20 8"}),n.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),n.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),n.jsx("polyline",{points:"10 9 9 9 8 9"})]})]})]}),t.valor_venda>0&&["Receber Dinheiro","Receber Mquina","Pagar MP"].includes(t.forma_pagamento)||t.precisa_troco&&t.valor_troco>0?n.jsxs("div",{style:{display:"flex",gap:"10px",marginBottom:"10px"},children:[t.valor_venda>0&&["Receber Dinheiro","Receber Mquina","Pagar MP"].includes(t.forma_pagamento)&&n.jsxs("div",{className:"print-valor-box",style:{flex:1,marginBottom:0},children:[n.jsx("span",{className:"print-valor-icon",children:"$"}),"COBRAR NA ENTREGA: R$ ",t.valor_venda.toFixed(2).replace(".",",")]}),t.precisa_troco&&t.valor_troco>0&&n.jsxs("div",{className:"print-valor-box",style:{flex:1,marginBottom:0},children:["TROCO: R$ ",t.valor_troco.toFixed(2).replace(".",",")]})]}):null,n.jsx("div",{className:"print-footer",children:n.jsxs("div",{children:["Impressao em: ",r]})})]})]})}function Vv(){var C,E,S,T,q,A,U,K,ue;const t=qt(),e=an(),{id:r}=GE(),o=r||new URLSearchParams(window.location.search).get("id"),[i,l]=v.useState("Aguardando"),[d,u]=v.useState(!1),{data:h,isLoading:m,error:g}=_r({queryKey:["romaneio",o],queryFn:async()=>{if(console.log(" Buscando romaneio com ID:",o),!o)throw console.error(" ID do romaneio no fornecido"),new Error("ID do romaneio no fornecido");const{data:V,error:O}=await Ne.from("entregas").select(`
          *,
          cliente:clientes(id, nome, telefone, cpf, email),
          endereco:enderecos(id, logradouro, numero, bairro, cidade, complemento, cep, regiao),
          motoboy:motoboys(id, nome)
        `).eq("id",o).single();if(O)throw console.error(" Erro ao buscar romaneio:",O),O;console.log(" Romaneio encontrado:",V);let Y=[];if(V.clientes_adicionais&&V.clientes_adicionais.length>0){const{data:ce}=await Ne.from("clientes").select("id, nome, telefone").in("id",V.clientes_adicionais);Y=ce||[]}const I=V.endereco_logradouro?{id:V.endereco_id,logradouro:V.endereco_logradouro,numero:V.endereco_numero,complemento:V.endereco_complemento,bairro:V.endereco_bairro,cidade:V.endereco_cidade,cep:V.endereco_cep,regiao:V.regiao}:V.endereco;let L=null;if(V.atendente_id){const{data:ce}=await Ne.from("usuarios").select("id, nome, email").eq("id",V.atendente_id).single();L=ce}return{...V,endereco:I,clientesAdicionais:Y,atendente:L}},enabled:!!o});v.useEffect(()=>{g&&console.error(" Erro na query:",g)},[g]),v.useEffect(()=>{h&&u(h.pagamento_recebido||!1)},[h]);const p=async()=>{if(confirm("Tem certeza que deseja excluir este romaneio?"))try{const{error:V}=await Ne.from("entregas").delete().eq("id",o);if(V)throw V;me.success("Romaneio excludo com sucesso!"),t("/")}catch(V){console.error("Erro ao excluir:",V),me.error("Erro ao excluir romaneio")}},w=async V=>{u(V);try{const{error:O}=await Ne.from("entregas").update({pagamento_recebido:V}).eq("id",o);if(O)throw O;me.success("Pagamento atualizado!"),e.invalidateQueries(["romaneio",o])}catch(O){console.error("Erro ao atualizar pagamento:",O),me.error("Erro ao atualizar pagamento"),u(!V)}};if(m)return n.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100",children:[n.jsx("div",{className:"py-8 shadow-sm mb-6",style:{background:"linear-gradient(135deg, #457bba 0%, #890d5d 100%)"},children:n.jsx("div",{className:"max-w-7xl mx-auto px-6",children:n.jsx("h1",{className:"text-4xl font-bold text-white",children:"Detalhes do Romaneio"})})}),n.jsx("div",{className:"max-w-7xl mx-auto px-6",children:n.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-12 text-center",children:n.jsx("div",{className:"text-xl text-slate-600",children:"Carregando..."})})})]});if(!h&&!m)return n.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100",children:[n.jsx("div",{className:"py-8 shadow-sm mb-6",style:{background:"linear-gradient(135deg, #457bba 0%, #890d5d 100%)"},children:n.jsx("div",{className:"max-w-7xl mx-auto px-6",children:n.jsx("h1",{className:"text-4xl font-bold text-white",children:"Detalhes do Romaneio"})})}),n.jsx("div",{className:"max-w-7xl mx-auto px-6",children:n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-12",children:[n.jsx("div",{className:"text-2xl font-bold text-slate-900 mb-4",children:"Romaneio no encontrado"}),n.jsxs("div",{className:"text-sm text-slate-600 mb-4",children:["ID buscado: ",o||"Nenhum ID fornecido"]}),g&&n.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg mb-4",children:n.jsxs("div",{className:"text-sm text-red-600",children:["Erro: ",g.message]})}),n.jsx("button",{onClick:()=>t("/"),className:"px-4 py-2 rounded-lg font-semibold text-sm",style:{backgroundColor:"#376295",color:"white"},children:"Voltar"})]})})]});const b=h.requisicao||"",N=[h.cliente,...h.clientesAdicionais||[]].filter(Boolean),j=N.map(V=>V.nome).join(", "),_=N.map(V=>V.telefone).filter(Boolean).join(", ");return n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 pb-8",children:[n.jsx("div",{className:"py-8 shadow-sm mb-6",style:{background:"linear-gradient(135deg, #457bba 0%, #890d5d 100%)"},children:n.jsx("div",{className:"max-w-7xl mx-auto px-6",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("button",{onClick:()=>t(-1),className:"p-2 rounded-lg bg-white/20 hover:bg-white/30 transition-colors",children:n.jsx(Ut,{className:"w-6 h-6 text-white"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-4xl font-bold text-white",children:"Detalhes do Romaneio"}),n.jsx("p",{className:"text-base text-white opacity-90 mt-1",children:"Visualizao completa da entrega"})]})]})})}),n.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[n.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6 mb-6",children:n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[n.jsxs("div",{children:[n.jsxs("h1",{className:"text-2xl font-bold text-slate-900",children:["Romaneio #",b]}),n.jsxs("p",{className:"text-sm text-slate-600 mt-1",children:["Criado em ",h.data_criacao?new Date(h.data_criacao).toLocaleDateString("pt-BR"):"-"," s ",h.data_criacao?new Date(h.data_criacao).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"}):"-"]})]}),n.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[n.jsxs("button",{onClick:()=>t(`/editar-romaneio?id=${o}`),className:"flex items-center gap-2 px-4 py-2 rounded-lg font-semibold text-sm transition-all",style:{backgroundColor:"#376295",color:"white"},title:"Editar",children:[n.jsx(yu,{size:16}),"Editar"]}),n.jsxs("button",{onClick:()=>window.print(),className:"flex items-center gap-2 px-4 py-2 rounded-lg font-semibold text-sm transition-all",style:{backgroundColor:"#890d5d",color:"white"},title:"Imprimir",children:[n.jsx(vu,{size:16}),"Imprimir"]}),n.jsxs("button",{onClick:p,className:"flex items-center gap-2 px-4 py-2 rounded-lg font-semibold text-sm transition-all",style:{backgroundColor:"#ef4444",color:"white"},title:"Excluir",children:[n.jsx(Ri,{size:16}),"Excluir"]})]})]})}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-[1fr_400px] gap-6",children:[n.jsxs("div",{className:"flex flex-col gap-6",children:[n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-4",style:{color:"#376295"},children:[n.jsx(jr,{size:18}),n.jsx("h2",{className:"text-lg font-bold",children:"Informaes do Romaneio"})]}),n.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-2 md:grid-cols-4 gap-6",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-xs text-slate-500 mb-2",children:"Nmero da Requisio"}),n.jsxs("div",{className:"text-base font-semibold",style:{color:"#376295"},children:["#",b]})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-xs text-slate-500 mb-2",children:"Status"}),n.jsx("div",{children:n.jsx("span",{className:"px-3 py-1 rounded text-xs font-medium",style:{backgroundColor:h.status==="Entregue"?"#E8F5E8":h.status==="A Caminho"?"#FEF3E8":"#F5E8F5",color:h.status==="Entregue"?"#22c55e":h.status==="A Caminho"?"#f97316":"#890d5d"},children:h.status==="Produzindo no Laboratrio"?"Produo":h.status})})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-xs text-slate-500 mb-2",children:"Data de Entrega Prevista"}),n.jsxs("div",{className:"text-base font-semibold text-slate-900",children:[h.data_entrega?new Date(h.data_entrega+"T12:00:00").toLocaleDateString("pt-BR"):"-"," - ",h.periodo]})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-xs text-slate-500 mb-2",children:"Valor da Entrega"}),n.jsxs("div",{className:"text-2xl font-bold",style:{color:"#376295"},children:["R$ ",(h.valor||0).toFixed(2)]})]})]})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-4",style:{color:"#376295"},children:[n.jsx(Hr,{size:18}),n.jsx("h2",{className:"text-lg font-bold",children:"Cliente"})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-lg font-bold text-slate-900 mb-2",children:j}),n.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600",children:[n.jsx(Ml,{size:14}),_]})]})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-4",style:{color:"#376295"},children:[n.jsx(ji,{size:18}),n.jsx("h2",{className:"text-lg font-bold",children:"Endereo de Entrega"})]}),n.jsxs("div",{className:"text-sm text-slate-600",children:[n.jsxs("div",{className:"font-bold text-slate-900 mb-1",children:[(C=h.endereco)==null?void 0:C.logradouro,", ",(E=h.endereco)==null?void 0:E.numero]}),n.jsxs("div",{className:"mb-3",children:[(S=h.endereco)==null?void 0:S.bairro," - ",(T=h.endereco)==null?void 0:T.cidade]}),((q=h.endereco)==null?void 0:q.complemento)&&n.jsxs("div",{className:"text-sm text-slate-600",children:["Complemento: ",h.endereco.complemento]})]})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-4",style:{color:"#376295"},children:[n.jsx(jr,{size:18}),n.jsx("h2",{className:"text-lg font-bold",children:"Observaes"})]}),n.jsx("div",{className:"text-sm text-slate-600",children:h.observacoes||"Nenhuma observao"})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("div",{className:"flex items-center gap-2",style:{color:"#376295"},children:[n.jsx(Rv,{size:18}),n.jsx("h2",{className:"text-lg font-bold",children:"Imagens Anexadas"})]}),n.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 rounded-lg font-semibold text-sm transition-all",style:{backgroundColor:"#376295",color:"white"},children:[n.jsx(fA,{size:14}),"Anexar Imagens"]})]}),n.jsxs("div",{className:"flex flex-col items-center justify-center py-12 border-2 border-dashed border-slate-300 rounded-lg text-slate-400",children:[n.jsx(Rv,{size:48,className:"mb-2 opacity-30"}),n.jsx("div",{className:"text-sm",children:"Nenhuma imagem anexada"})]})]})]}),n.jsxs("div",{className:"flex flex-col gap-6",children:[n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-4",style:{color:"#376295"},children:[n.jsx(jr,{size:20}),n.jsx("h2",{className:"text-xl font-bold",children:"Informaes"})]}),n.jsxs("div",{className:"flex flex-col gap-5",children:[n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(ji,{size:20,className:"text-slate-500 mt-1 flex-shrink-0"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("div",{className:"text-sm text-slate-500 mb-1",children:"Regio"}),n.jsx("div",{className:"text-base font-semibold",style:{color:"#376295"},children:h.regiao||((A=h.endereco)==null?void 0:A.regiao)||"-"})]})]}),n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(ba,{size:20,className:"text-slate-500 mt-1 flex-shrink-0"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("div",{className:"text-sm text-slate-500 mb-1",children:"Pagamento"}),n.jsx("div",{className:"text-base font-semibold text-slate-900",children:h.forma_pagamento}),h.valor_venda>0&&["Receber Dinheiro","Receber Mquina","Pagar MP"].includes(h.forma_pagamento)?n.jsxs("div",{style:{marginTop:"0.5rem",padding:"0.75rem",background:"#1b5e20",borderRadius:"0.375rem",textAlign:"center"},children:[n.jsx("div",{style:{color:"white",fontSize:"0.75rem",fontWeight:"500"},children:h.forma_pagamento==="Receber Mquina"?"Receber na Mquina:":h.forma_pagamento==="Pagar MP"?"Cobrar via MP:":"Valor a Receber:"}),n.jsxs("div",{style:{color:"white",fontSize:"1.25rem",fontWeight:"700"},children:["R$ ",h.valor_venda.toFixed(2).replace(".",",")]})]}):n.jsxs("div",{className:"text-lg font-bold mt-1",style:{color:"#376295"},children:["R$ ",(h.valor||0).toFixed(2)]})]})]}),n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(on,{size:20,className:"text-slate-500 mt-1 flex-shrink-0"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("div",{className:"text-sm text-slate-500 mb-1",children:"Perodo"}),n.jsx("div",{className:"text-base font-semibold text-slate-900",children:h.periodo})]})]}),n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(ys,{size:20,className:"text-slate-500 mt-1 flex-shrink-0"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("div",{className:"text-sm text-slate-500 mb-1",children:"Motoboy"}),n.jsx("div",{className:"text-base font-semibold text-slate-900",children:((U=h.motoboy)==null?void 0:U.nome)||"-"})]})]}),n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(Hr,{size:20,className:"text-slate-500 mt-1 flex-shrink-0"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("div",{className:"text-sm text-slate-500 mb-1",children:"Atendente"}),n.jsx("div",{className:"text-base font-semibold text-slate-900",children:((K=h.atendente)==null?void 0:K.email)||((ue=h.atendente)==null?void 0:ue.nome)||"-"})]})]}),h.item_geladeira&&n.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"12px",padding:"12px 15px",fontSize:"14px",fontWeight:"bold",textTransform:"uppercase",border:"2px solid #2196F3",backgroundColor:"#E3F2FD",color:"#1565C0",borderRadius:"8px"},children:[n.jsx("span",{style:{fontSize:"20px"},children:""}),n.jsx("span",{children:"ITEM DE GELADEIRA"}),n.jsx("span",{style:{fontSize:"20px"},children:""})]}),h.buscar_receita&&n.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"12px",padding:"12px 15px",fontSize:"14px",fontWeight:"bold",textTransform:"uppercase",border:"2px solid #FF9800",backgroundColor:"#FFF3E0",color:"#E65100",borderRadius:"8px"},children:[n.jsx(jr,{size:20}),n.jsx("span",{children:"RETER RECEITA"}),n.jsx(jr,{size:20})]}),n.jsxs("div",{className:"border-t border-slate-200 pt-4 mt-2",children:[n.jsx("div",{className:"text-xs text-slate-500 mb-2",children:"Pagamento Motoboy"}),n.jsxs("select",{value:i,onChange:V=>l(V.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-lg text-sm text-slate-700 focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-100",children:[n.jsx("option",{value:"Aguardando",children:"Aguardando"}),n.jsx("option",{value:"Pago",children:"Pago"}),n.jsx("option",{value:"Pendente",children:"Pendente"})]})]}),n.jsx("div",{children:n.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:d,onChange:V=>w(V.target.checked),className:"w-4 h-4",style:{accentColor:"#376295"}}),n.jsx("span",{className:"text-sm text-slate-700 font-medium",children:"Pagamento Recebido"})]})})]})]}),n.jsxs("div",{className:"rounded-xl shadow-lg p-6",style:{background:"linear-gradient(135deg, #890d5d 0%, #457bba 100%)"},children:[n.jsx("div",{className:"text-sm font-semibold text-white opacity-90 mb-4 text-center",children:"Cdigo de Rastreio"}),n.jsx("div",{className:"bg-white bg-opacity-20 p-6 rounded-lg text-center backdrop-blur-sm",children:n.jsx("div",{className:"text-2xl font-bold text-white tracking-widest font-mono",children:h.codigo_rastreio||"54NVT9NS"})})]})]})]})]})]}),n.jsx(eT,{romaneio:h})]})}const _t=v.forwardRef(({className:t,...e},r)=>n.jsx("div",{ref:r,className:Ye("rounded-xl border bg-card text-card-foreground shadow",t),...e}));_t.displayName="Card";const bs=v.forwardRef(({className:t,...e},r)=>n.jsx("div",{ref:r,className:Ye("flex flex-col space-y-1.5 p-6",t),...e}));bs.displayName="CardHeader";const ws=v.forwardRef(({className:t,...e},r)=>n.jsx("div",{ref:r,className:Ye("font-semibold leading-none tracking-tight",t),...e}));ws.displayName="CardTitle";const tT=v.forwardRef(({className:t,...e},r)=>n.jsx("div",{ref:r,className:Ye("text-sm text-muted-foreground",t),...e}));tT.displayName="CardDescription";const kt=v.forwardRef(({className:t,...e},r)=>n.jsx("div",{ref:r,className:Ye("p-6 pt-0",t),...e}));kt.displayName="CardContent";const rT=v.forwardRef(({className:t,...e},r)=>n.jsx("div",{ref:r,className:Ye("flex items-center p-6 pt-0",t),...e}));rT.displayName="CardFooter";const pt=v.forwardRef(({className:t,type:e,...r},o)=>n.jsx("input",{type:e,className:Ye("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:o,...r}));pt.displayName="Input";var nT="Label",g1=v.forwardRef((t,e)=>n.jsx(ot.label,{...t,ref:e,onMouseDown:r=>{var i;r.target.closest("button, input, select, textarea")||((i=t.onMouseDown)==null||i.call(t,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));g1.displayName=nT;var x1=g1;const sT=wp("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),nt=v.forwardRef(({className:t,...e},r)=>n.jsx(x1,{ref:r,className:Ye(sT(),t),...e}));nt.displayName=x1.displayName;const wu=v.forwardRef(({className:t,...e},r)=>n.jsx("textarea",{className:Ye("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...e}));wu.displayName="Textarea";const oT=wp("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function qn({className:t,variant:e,...r}){return n.jsx("div",{className:Ye(oT({variant:e}),t),...r})}function Hv(t,[e,r]){return Math.min(r,Math.max(e,t))}function aT(t){const e=t+"CollectionProvider",[r,o]=ki(e),[i,l]=r(e,{collectionRef:{current:null},itemMap:new Map}),d=j=>{const{scope:_,children:C}=j,E=be.useRef(null),S=be.useRef(new Map).current;return n.jsx(i,{scope:_,itemMap:S,collectionRef:E,children:C})};d.displayName=e;const u=t+"CollectionSlot",h=wi(u),m=be.forwardRef((j,_)=>{const{scope:C,children:E}=j,S=l(u,C),T=vt(_,S.collectionRef);return n.jsx(h,{ref:T,children:E})});m.displayName=u;const g=t+"CollectionItemSlot",p="data-radix-collection-item",w=wi(g),b=be.forwardRef((j,_)=>{const{scope:C,children:E,...S}=j,T=be.useRef(null),q=vt(_,T),A=l(g,C);return be.useEffect(()=>(A.itemMap.set(T,{ref:T,...S}),()=>void A.itemMap.delete(T))),n.jsx(w,{[p]:"",ref:q,children:E})});b.displayName=g;function N(j){const _=l(t+"CollectionConsumer",j);return be.useCallback(()=>{const E=_.collectionRef.current;if(!E)return[];const S=Array.from(E.querySelectorAll(`[${p}]`));return Array.from(_.itemMap.values()).sort((A,U)=>S.indexOf(A.ref.current)-S.indexOf(U.ref.current))},[_.collectionRef,_.itemMap])}return[{Provider:d,Slot:m,ItemSlot:b},N,o]}var iT=v.createContext(void 0);function lT(t){const e=v.useContext(iT);return t||e||"ltr"}const cT=["top","right","bottom","left"],jo=Math.min,Ur=Math.max,eu=Math.round,Cd=Math.floor,Jn=t=>({x:t,y:t}),dT={left:"right",right:"left",bottom:"top",top:"bottom"},uT={start:"end",end:"start"};function Rm(t,e,r){return Ur(t,jo(e,r))}function Es(t,e){return typeof t=="function"?t(e):t}function Ss(t){return t.split("-")[0]}function Ti(t){return t.split("-")[1]}function _p(t){return t==="x"?"y":"x"}function Np(t){return t==="y"?"height":"width"}const hT=new Set(["top","bottom"]);function Qn(t){return hT.has(Ss(t))?"y":"x"}function Ep(t){return _p(Qn(t))}function fT(t,e,r){r===void 0&&(r=!1);const o=Ti(t),i=Ep(t),l=Np(i);let d=i==="x"?o===(r?"end":"start")?"right":"left":o==="start"?"bottom":"top";return e.reference[l]>e.floating[l]&&(d=tu(d)),[d,tu(d)]}function mT(t){const e=tu(t);return[Am(t),e,Am(e)]}function Am(t){return t.replace(/start|end/g,e=>uT[e])}const Kv=["left","right"],Gv=["right","left"],pT=["top","bottom"],gT=["bottom","top"];function xT(t,e,r){switch(t){case"top":case"bottom":return r?e?Gv:Kv:e?Kv:Gv;case"left":case"right":return e?pT:gT;default:return[]}}function vT(t,e,r,o){const i=Ti(t);let l=xT(Ss(t),r==="start",o);return i&&(l=l.map(d=>d+"-"+i),e&&(l=l.concat(l.map(Am)))),l}function tu(t){return t.replace(/left|right|bottom|top/g,e=>dT[e])}function yT(t){return{top:0,right:0,bottom:0,left:0,...t}}function v1(t){return typeof t!="number"?yT(t):{top:t,right:t,bottom:t,left:t}}function ru(t){const{x:e,y:r,width:o,height:i}=t;return{width:o,height:i,top:r,left:e,right:e+o,bottom:r+i,x:e,y:r}}function Qv(t,e,r){let{reference:o,floating:i}=t;const l=Qn(e),d=Ep(e),u=Np(d),h=Ss(e),m=l==="y",g=o.x+o.width/2-i.width/2,p=o.y+o.height/2-i.height/2,w=o[u]/2-i[u]/2;let b;switch(h){case"top":b={x:g,y:o.y-i.height};break;case"bottom":b={x:g,y:o.y+o.height};break;case"right":b={x:o.x+o.width,y:p};break;case"left":b={x:o.x-i.width,y:p};break;default:b={x:o.x,y:o.y}}switch(Ti(e)){case"start":b[d]-=w*(r&&m?-1:1);break;case"end":b[d]+=w*(r&&m?-1:1);break}return b}const bT=async(t,e,r)=>{const{placement:o="bottom",strategy:i="absolute",middleware:l=[],platform:d}=r,u=l.filter(Boolean),h=await(d.isRTL==null?void 0:d.isRTL(e));let m=await d.getElementRects({reference:t,floating:e,strategy:i}),{x:g,y:p}=Qv(m,o,h),w=o,b={},N=0;for(let j=0;j<u.length;j++){const{name:_,fn:C}=u[j],{x:E,y:S,data:T,reset:q}=await C({x:g,y:p,initialPlacement:o,placement:w,strategy:i,middlewareData:b,rects:m,platform:d,elements:{reference:t,floating:e}});g=E??g,p=S??p,b={...b,[_]:{...b[_],...T}},q&&N<=50&&(N++,typeof q=="object"&&(q.placement&&(w=q.placement),q.rects&&(m=q.rects===!0?await d.getElementRects({reference:t,floating:e,strategy:i}):q.rects),{x:g,y:p}=Qv(m,w,h)),j=-1)}return{x:g,y:p,placement:w,strategy:i,middlewareData:b}};async function Dl(t,e){var r;e===void 0&&(e={});const{x:o,y:i,platform:l,rects:d,elements:u,strategy:h}=t,{boundary:m="clippingAncestors",rootBoundary:g="viewport",elementContext:p="floating",altBoundary:w=!1,padding:b=0}=Es(e,t),N=v1(b),_=u[w?p==="floating"?"reference":"floating":p],C=ru(await l.getClippingRect({element:(r=await(l.isElement==null?void 0:l.isElement(_)))==null||r?_:_.contextElement||await(l.getDocumentElement==null?void 0:l.getDocumentElement(u.floating)),boundary:m,rootBoundary:g,strategy:h})),E=p==="floating"?{x:o,y:i,width:d.floating.width,height:d.floating.height}:d.reference,S=await(l.getOffsetParent==null?void 0:l.getOffsetParent(u.floating)),T=await(l.isElement==null?void 0:l.isElement(S))?await(l.getScale==null?void 0:l.getScale(S))||{x:1,y:1}:{x:1,y:1},q=ru(l.convertOffsetParentRelativeRectToViewportRelativeRect?await l.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:E,offsetParent:S,strategy:h}):E);return{top:(C.top-q.top+N.top)/T.y,bottom:(q.bottom-C.bottom+N.bottom)/T.y,left:(C.left-q.left+N.left)/T.x,right:(q.right-C.right+N.right)/T.x}}const wT=t=>({name:"arrow",options:t,async fn(e){const{x:r,y:o,placement:i,rects:l,platform:d,elements:u,middlewareData:h}=e,{element:m,padding:g=0}=Es(t,e)||{};if(m==null)return{};const p=v1(g),w={x:r,y:o},b=Ep(i),N=Np(b),j=await d.getDimensions(m),_=b==="y",C=_?"top":"left",E=_?"bottom":"right",S=_?"clientHeight":"clientWidth",T=l.reference[N]+l.reference[b]-w[b]-l.floating[N],q=w[b]-l.reference[b],A=await(d.getOffsetParent==null?void 0:d.getOffsetParent(m));let U=A?A[S]:0;(!U||!await(d.isElement==null?void 0:d.isElement(A)))&&(U=u.floating[S]||l.floating[N]);const K=T/2-q/2,ue=U/2-j[N]/2-1,V=jo(p[C],ue),O=jo(p[E],ue),Y=V,I=U-j[N]-O,L=U/2-j[N]/2+K,ce=Rm(Y,L,I),ae=!h.arrow&&Ti(i)!=null&&L!==ce&&l.reference[N]/2-(L<Y?V:O)-j[N]/2<0,fe=ae?L<Y?L-Y:L-I:0;return{[b]:w[b]+fe,data:{[b]:ce,centerOffset:L-ce-fe,...ae&&{alignmentOffset:fe}},reset:ae}}}),jT=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var r,o;const{placement:i,middlewareData:l,rects:d,initialPlacement:u,platform:h,elements:m}=e,{mainAxis:g=!0,crossAxis:p=!0,fallbackPlacements:w,fallbackStrategy:b="bestFit",fallbackAxisSideDirection:N="none",flipAlignment:j=!0,..._}=Es(t,e);if((r=l.arrow)!=null&&r.alignmentOffset)return{};const C=Ss(i),E=Qn(u),S=Ss(u)===u,T=await(h.isRTL==null?void 0:h.isRTL(m.floating)),q=w||(S||!j?[tu(u)]:mT(u)),A=N!=="none";!w&&A&&q.push(...vT(u,j,N,T));const U=[u,...q],K=await Dl(e,_),ue=[];let V=((o=l.flip)==null?void 0:o.overflows)||[];if(g&&ue.push(K[C]),p){const L=fT(i,d,T);ue.push(K[L[0]],K[L[1]])}if(V=[...V,{placement:i,overflows:ue}],!ue.every(L=>L<=0)){var O,Y;const L=(((O=l.flip)==null?void 0:O.index)||0)+1,ce=U[L];if(ce&&(!(p==="alignment"?E!==Qn(ce):!1)||V.every(z=>Qn(z.placement)===E?z.overflows[0]>0:!0)))return{data:{index:L,overflows:V},reset:{placement:ce}};let ae=(Y=V.filter(fe=>fe.overflows[0]<=0).sort((fe,z)=>fe.overflows[1]-z.overflows[1])[0])==null?void 0:Y.placement;if(!ae)switch(b){case"bestFit":{var I;const fe=(I=V.filter(z=>{if(A){const he=Qn(z.placement);return he===E||he==="y"}return!0}).map(z=>[z.placement,z.overflows.filter(he=>he>0).reduce((he,de)=>he+de,0)]).sort((z,he)=>z[1]-he[1])[0])==null?void 0:I[0];fe&&(ae=fe);break}case"initialPlacement":ae=u;break}if(i!==ae)return{reset:{placement:ae}}}return{}}}};function Jv(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function Yv(t){return cT.some(e=>t[e]>=0)}const _T=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:r}=e,{strategy:o="referenceHidden",...i}=Es(t,e);switch(o){case"referenceHidden":{const l=await Dl(e,{...i,elementContext:"reference"}),d=Jv(l,r.reference);return{data:{referenceHiddenOffsets:d,referenceHidden:Yv(d)}}}case"escaped":{const l=await Dl(e,{...i,altBoundary:!0}),d=Jv(l,r.floating);return{data:{escapedOffsets:d,escaped:Yv(d)}}}default:return{}}}}},y1=new Set(["left","top"]);async function NT(t,e){const{placement:r,platform:o,elements:i}=t,l=await(o.isRTL==null?void 0:o.isRTL(i.floating)),d=Ss(r),u=Ti(r),h=Qn(r)==="y",m=y1.has(d)?-1:1,g=l&&h?-1:1,p=Es(e,t);let{mainAxis:w,crossAxis:b,alignmentAxis:N}=typeof p=="number"?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:p.mainAxis||0,crossAxis:p.crossAxis||0,alignmentAxis:p.alignmentAxis};return u&&typeof N=="number"&&(b=u==="end"?N*-1:N),h?{x:b*g,y:w*m}:{x:w*m,y:b*g}}const ET=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var r,o;const{x:i,y:l,placement:d,middlewareData:u}=e,h=await NT(e,t);return d===((r=u.offset)==null?void 0:r.placement)&&(o=u.arrow)!=null&&o.alignmentOffset?{}:{x:i+h.x,y:l+h.y,data:{...h,placement:d}}}}},ST=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:r,y:o,placement:i}=e,{mainAxis:l=!0,crossAxis:d=!1,limiter:u={fn:_=>{let{x:C,y:E}=_;return{x:C,y:E}}},...h}=Es(t,e),m={x:r,y:o},g=await Dl(e,h),p=Qn(Ss(i)),w=_p(p);let b=m[w],N=m[p];if(l){const _=w==="y"?"top":"left",C=w==="y"?"bottom":"right",E=b+g[_],S=b-g[C];b=Rm(E,b,S)}if(d){const _=p==="y"?"top":"left",C=p==="y"?"bottom":"right",E=N+g[_],S=N-g[C];N=Rm(E,N,S)}const j=u.fn({...e,[w]:b,[p]:N});return{...j,data:{x:j.x-r,y:j.y-o,enabled:{[w]:l,[p]:d}}}}}},CT=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:r,y:o,placement:i,rects:l,middlewareData:d}=e,{offset:u=0,mainAxis:h=!0,crossAxis:m=!0}=Es(t,e),g={x:r,y:o},p=Qn(i),w=_p(p);let b=g[w],N=g[p];const j=Es(u,e),_=typeof j=="number"?{mainAxis:j,crossAxis:0}:{mainAxis:0,crossAxis:0,...j};if(h){const S=w==="y"?"height":"width",T=l.reference[w]-l.floating[S]+_.mainAxis,q=l.reference[w]+l.reference[S]-_.mainAxis;b<T?b=T:b>q&&(b=q)}if(m){var C,E;const S=w==="y"?"width":"height",T=y1.has(Ss(i)),q=l.reference[p]-l.floating[S]+(T&&((C=d.offset)==null?void 0:C[p])||0)+(T?0:_.crossAxis),A=l.reference[p]+l.reference[S]+(T?0:((E=d.offset)==null?void 0:E[p])||0)-(T?_.crossAxis:0);N<q?N=q:N>A&&(N=A)}return{[w]:b,[p]:N}}}},kT=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var r,o;const{placement:i,rects:l,platform:d,elements:u}=e,{apply:h=()=>{},...m}=Es(t,e),g=await Dl(e,m),p=Ss(i),w=Ti(i),b=Qn(i)==="y",{width:N,height:j}=l.floating;let _,C;p==="top"||p==="bottom"?(_=p,C=w===(await(d.isRTL==null?void 0:d.isRTL(u.floating))?"start":"end")?"left":"right"):(C=p,_=w==="end"?"top":"bottom");const E=j-g.top-g.bottom,S=N-g.left-g.right,T=jo(j-g[_],E),q=jo(N-g[C],S),A=!e.middlewareData.shift;let U=T,K=q;if((r=e.middlewareData.shift)!=null&&r.enabled.x&&(K=S),(o=e.middlewareData.shift)!=null&&o.enabled.y&&(U=E),A&&!w){const V=Ur(g.left,0),O=Ur(g.right,0),Y=Ur(g.top,0),I=Ur(g.bottom,0);b?K=N-2*(V!==0||O!==0?V+O:Ur(g.left,g.right)):U=j-2*(Y!==0||I!==0?Y+I:Ur(g.top,g.bottom))}await h({...e,availableWidth:K,availableHeight:U});const ue=await d.getDimensions(u.floating);return N!==ue.width||j!==ue.height?{reset:{rects:!0}}:{}}}};function ju(){return typeof window<"u"}function Oi(t){return b1(t)?(t.nodeName||"").toLowerCase():"#document"}function Kr(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function ts(t){var e;return(e=(b1(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function b1(t){return ju()?t instanceof Node||t instanceof Kr(t).Node:!1}function kn(t){return ju()?t instanceof Element||t instanceof Kr(t).Element:!1}function Xn(t){return ju()?t instanceof HTMLElement||t instanceof Kr(t).HTMLElement:!1}function Xv(t){return!ju()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Kr(t).ShadowRoot}const RT=new Set(["inline","contents"]);function Yl(t){const{overflow:e,overflowX:r,overflowY:o,display:i}=Rn(t);return/auto|scroll|overlay|hidden|clip/.test(e+o+r)&&!RT.has(i)}const AT=new Set(["table","td","th"]);function PT(t){return AT.has(Oi(t))}const TT=[":popover-open",":modal"];function _u(t){return TT.some(e=>{try{return t.matches(e)}catch{return!1}})}const OT=["transform","translate","scale","rotate","perspective"],IT=["transform","translate","scale","rotate","perspective","filter"],MT=["paint","layout","strict","content"];function Sp(t){const e=Cp(),r=kn(t)?Rn(t):t;return OT.some(o=>r[o]?r[o]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!e&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!e&&(r.filter?r.filter!=="none":!1)||IT.some(o=>(r.willChange||"").includes(o))||MT.some(o=>(r.contain||"").includes(o))}function DT(t){let e=_o(t);for(;Xn(e)&&!_i(e);){if(Sp(e))return e;if(_u(e))return null;e=_o(e)}return null}function Cp(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const LT=new Set(["html","body","#document"]);function _i(t){return LT.has(Oi(t))}function Rn(t){return Kr(t).getComputedStyle(t)}function Nu(t){return kn(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function _o(t){if(Oi(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Xv(t)&&t.host||ts(t);return Xv(e)?e.host:e}function w1(t){const e=_o(t);return _i(e)?t.ownerDocument?t.ownerDocument.body:t.body:Xn(e)&&Yl(e)?e:w1(e)}function Ll(t,e,r){var o;e===void 0&&(e=[]),r===void 0&&(r=!0);const i=w1(t),l=i===((o=t.ownerDocument)==null?void 0:o.body),d=Kr(i);if(l){const u=Pm(d);return e.concat(d,d.visualViewport||[],Yl(i)?i:[],u&&r?Ll(u):[])}return e.concat(i,Ll(i,[],r))}function Pm(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function j1(t){const e=Rn(t);let r=parseFloat(e.width)||0,o=parseFloat(e.height)||0;const i=Xn(t),l=i?t.offsetWidth:r,d=i?t.offsetHeight:o,u=eu(r)!==l||eu(o)!==d;return u&&(r=l,o=d),{width:r,height:o,$:u}}function kp(t){return kn(t)?t:t.contextElement}function si(t){const e=kp(t);if(!Xn(e))return Jn(1);const r=e.getBoundingClientRect(),{width:o,height:i,$:l}=j1(e);let d=(l?eu(r.width):r.width)/o,u=(l?eu(r.height):r.height)/i;return(!d||!Number.isFinite(d))&&(d=1),(!u||!Number.isFinite(u))&&(u=1),{x:d,y:u}}const $T=Jn(0);function _1(t){const e=Kr(t);return!Cp()||!e.visualViewport?$T:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function BT(t,e,r){return e===void 0&&(e=!1),!r||e&&r!==Kr(t)?!1:e}function ma(t,e,r,o){e===void 0&&(e=!1),r===void 0&&(r=!1);const i=t.getBoundingClientRect(),l=kp(t);let d=Jn(1);e&&(o?kn(o)&&(d=si(o)):d=si(t));const u=BT(l,r,o)?_1(l):Jn(0);let h=(i.left+u.x)/d.x,m=(i.top+u.y)/d.y,g=i.width/d.x,p=i.height/d.y;if(l){const w=Kr(l),b=o&&kn(o)?Kr(o):o;let N=w,j=Pm(N);for(;j&&o&&b!==N;){const _=si(j),C=j.getBoundingClientRect(),E=Rn(j),S=C.left+(j.clientLeft+parseFloat(E.paddingLeft))*_.x,T=C.top+(j.clientTop+parseFloat(E.paddingTop))*_.y;h*=_.x,m*=_.y,g*=_.x,p*=_.y,h+=S,m+=T,N=Kr(j),j=Pm(N)}}return ru({width:g,height:p,x:h,y:m})}function Eu(t,e){const r=Nu(t).scrollLeft;return e?e.left+r:ma(ts(t)).left+r}function N1(t,e){const r=t.getBoundingClientRect(),o=r.left+e.scrollLeft-Eu(t,r),i=r.top+e.scrollTop;return{x:o,y:i}}function FT(t){let{elements:e,rect:r,offsetParent:o,strategy:i}=t;const l=i==="fixed",d=ts(o),u=e?_u(e.floating):!1;if(o===d||u&&l)return r;let h={scrollLeft:0,scrollTop:0},m=Jn(1);const g=Jn(0),p=Xn(o);if((p||!p&&!l)&&((Oi(o)!=="body"||Yl(d))&&(h=Nu(o)),Xn(o))){const b=ma(o);m=si(o),g.x=b.x+o.clientLeft,g.y=b.y+o.clientTop}const w=d&&!p&&!l?N1(d,h):Jn(0);return{width:r.width*m.x,height:r.height*m.y,x:r.x*m.x-h.scrollLeft*m.x+g.x+w.x,y:r.y*m.y-h.scrollTop*m.y+g.y+w.y}}function zT(t){return Array.from(t.getClientRects())}function UT(t){const e=ts(t),r=Nu(t),o=t.ownerDocument.body,i=Ur(e.scrollWidth,e.clientWidth,o.scrollWidth,o.clientWidth),l=Ur(e.scrollHeight,e.clientHeight,o.scrollHeight,o.clientHeight);let d=-r.scrollLeft+Eu(t);const u=-r.scrollTop;return Rn(o).direction==="rtl"&&(d+=Ur(e.clientWidth,o.clientWidth)-i),{width:i,height:l,x:d,y:u}}const Zv=25;function qT(t,e){const r=Kr(t),o=ts(t),i=r.visualViewport;let l=o.clientWidth,d=o.clientHeight,u=0,h=0;if(i){l=i.width,d=i.height;const g=Cp();(!g||g&&e==="fixed")&&(u=i.offsetLeft,h=i.offsetTop)}const m=Eu(o);if(m<=0){const g=o.ownerDocument,p=g.body,w=getComputedStyle(p),b=g.compatMode==="CSS1Compat"&&parseFloat(w.marginLeft)+parseFloat(w.marginRight)||0,N=Math.abs(o.clientWidth-p.clientWidth-b);N<=Zv&&(l-=N)}else m<=Zv&&(l+=m);return{width:l,height:d,x:u,y:h}}const WT=new Set(["absolute","fixed"]);function VT(t,e){const r=ma(t,!0,e==="fixed"),o=r.top+t.clientTop,i=r.left+t.clientLeft,l=Xn(t)?si(t):Jn(1),d=t.clientWidth*l.x,u=t.clientHeight*l.y,h=i*l.x,m=o*l.y;return{width:d,height:u,x:h,y:m}}function ey(t,e,r){let o;if(e==="viewport")o=qT(t,r);else if(e==="document")o=UT(ts(t));else if(kn(e))o=VT(e,r);else{const i=_1(t);o={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return ru(o)}function E1(t,e){const r=_o(t);return r===e||!kn(r)||_i(r)?!1:Rn(r).position==="fixed"||E1(r,e)}function HT(t,e){const r=e.get(t);if(r)return r;let o=Ll(t,[],!1).filter(u=>kn(u)&&Oi(u)!=="body"),i=null;const l=Rn(t).position==="fixed";let d=l?_o(t):t;for(;kn(d)&&!_i(d);){const u=Rn(d),h=Sp(d);!h&&u.position==="fixed"&&(i=null),(l?!h&&!i:!h&&u.position==="static"&&!!i&&WT.has(i.position)||Yl(d)&&!h&&E1(t,d))?o=o.filter(g=>g!==d):i=u,d=_o(d)}return e.set(t,o),o}function KT(t){let{element:e,boundary:r,rootBoundary:o,strategy:i}=t;const d=[...r==="clippingAncestors"?_u(e)?[]:HT(e,this._c):[].concat(r),o],u=d[0],h=d.reduce((m,g)=>{const p=ey(e,g,i);return m.top=Ur(p.top,m.top),m.right=jo(p.right,m.right),m.bottom=jo(p.bottom,m.bottom),m.left=Ur(p.left,m.left),m},ey(e,u,i));return{width:h.right-h.left,height:h.bottom-h.top,x:h.left,y:h.top}}function GT(t){const{width:e,height:r}=j1(t);return{width:e,height:r}}function QT(t,e,r){const o=Xn(e),i=ts(e),l=r==="fixed",d=ma(t,!0,l,e);let u={scrollLeft:0,scrollTop:0};const h=Jn(0);function m(){h.x=Eu(i)}if(o||!o&&!l)if((Oi(e)!=="body"||Yl(i))&&(u=Nu(e)),o){const b=ma(e,!0,l,e);h.x=b.x+e.clientLeft,h.y=b.y+e.clientTop}else i&&m();l&&!o&&i&&m();const g=i&&!o&&!l?N1(i,u):Jn(0),p=d.left+u.scrollLeft-h.x-g.x,w=d.top+u.scrollTop-h.y-g.y;return{x:p,y:w,width:d.width,height:d.height}}function Bf(t){return Rn(t).position==="static"}function ty(t,e){if(!Xn(t)||Rn(t).position==="fixed")return null;if(e)return e(t);let r=t.offsetParent;return ts(t)===r&&(r=r.ownerDocument.body),r}function S1(t,e){const r=Kr(t);if(_u(t))return r;if(!Xn(t)){let i=_o(t);for(;i&&!_i(i);){if(kn(i)&&!Bf(i))return i;i=_o(i)}return r}let o=ty(t,e);for(;o&&PT(o)&&Bf(o);)o=ty(o,e);return o&&_i(o)&&Bf(o)&&!Sp(o)?r:o||DT(t)||r}const JT=async function(t){const e=this.getOffsetParent||S1,r=this.getDimensions,o=await r(t.floating);return{reference:QT(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:o.width,height:o.height}}};function YT(t){return Rn(t).direction==="rtl"}const XT={convertOffsetParentRelativeRectToViewportRelativeRect:FT,getDocumentElement:ts,getClippingRect:KT,getOffsetParent:S1,getElementRects:JT,getClientRects:zT,getDimensions:GT,getScale:si,isElement:kn,isRTL:YT};function C1(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function ZT(t,e){let r=null,o;const i=ts(t);function l(){var u;clearTimeout(o),(u=r)==null||u.disconnect(),r=null}function d(u,h){u===void 0&&(u=!1),h===void 0&&(h=1),l();const m=t.getBoundingClientRect(),{left:g,top:p,width:w,height:b}=m;if(u||e(),!w||!b)return;const N=Cd(p),j=Cd(i.clientWidth-(g+w)),_=Cd(i.clientHeight-(p+b)),C=Cd(g),S={rootMargin:-N+"px "+-j+"px "+-_+"px "+-C+"px",threshold:Ur(0,jo(1,h))||1};let T=!0;function q(A){const U=A[0].intersectionRatio;if(U!==h){if(!T)return d();U?d(!1,U):o=setTimeout(()=>{d(!1,1e-7)},1e3)}U===1&&!C1(m,t.getBoundingClientRect())&&d(),T=!1}try{r=new IntersectionObserver(q,{...S,root:i.ownerDocument})}catch{r=new IntersectionObserver(q,S)}r.observe(t)}return d(!0),l}function eO(t,e,r,o){o===void 0&&(o={});const{ancestorScroll:i=!0,ancestorResize:l=!0,elementResize:d=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:h=!1}=o,m=kp(t),g=i||l?[...m?Ll(m):[],...Ll(e)]:[];g.forEach(C=>{i&&C.addEventListener("scroll",r,{passive:!0}),l&&C.addEventListener("resize",r)});const p=m&&u?ZT(m,r):null;let w=-1,b=null;d&&(b=new ResizeObserver(C=>{let[E]=C;E&&E.target===m&&b&&(b.unobserve(e),cancelAnimationFrame(w),w=requestAnimationFrame(()=>{var S;(S=b)==null||S.observe(e)})),r()}),m&&!h&&b.observe(m),b.observe(e));let N,j=h?ma(t):null;h&&_();function _(){const C=ma(t);j&&!C1(j,C)&&r(),j=C,N=requestAnimationFrame(_)}return r(),()=>{var C;g.forEach(E=>{i&&E.removeEventListener("scroll",r),l&&E.removeEventListener("resize",r)}),p==null||p(),(C=b)==null||C.disconnect(),b=null,h&&cancelAnimationFrame(N)}}const tO=ET,rO=ST,nO=jT,sO=kT,oO=_T,ry=wT,aO=CT,iO=(t,e,r)=>{const o=new Map,i={platform:XT,...r},l={...i.platform,_c:o};return bT(t,e,{...i,platform:l})};var lO=typeof document<"u",cO=function(){},Bd=lO?v.useLayoutEffect:cO;function nu(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let r,o,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(r=t.length,r!==e.length)return!1;for(o=r;o--!==0;)if(!nu(t[o],e[o]))return!1;return!0}if(i=Object.keys(t),r=i.length,r!==Object.keys(e).length)return!1;for(o=r;o--!==0;)if(!{}.hasOwnProperty.call(e,i[o]))return!1;for(o=r;o--!==0;){const l=i[o];if(!(l==="_owner"&&t.$$typeof)&&!nu(t[l],e[l]))return!1}return!0}return t!==t&&e!==e}function k1(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function ny(t,e){const r=k1(t);return Math.round(e*r)/r}function Ff(t){const e=v.useRef(t);return Bd(()=>{e.current=t}),e}function dO(t){t===void 0&&(t={});const{placement:e="bottom",strategy:r="absolute",middleware:o=[],platform:i,elements:{reference:l,floating:d}={},transform:u=!0,whileElementsMounted:h,open:m}=t,[g,p]=v.useState({x:0,y:0,strategy:r,placement:e,middlewareData:{},isPositioned:!1}),[w,b]=v.useState(o);nu(w,o)||b(o);const[N,j]=v.useState(null),[_,C]=v.useState(null),E=v.useCallback(z=>{z!==A.current&&(A.current=z,j(z))},[]),S=v.useCallback(z=>{z!==U.current&&(U.current=z,C(z))},[]),T=l||N,q=d||_,A=v.useRef(null),U=v.useRef(null),K=v.useRef(g),ue=h!=null,V=Ff(h),O=Ff(i),Y=Ff(m),I=v.useCallback(()=>{if(!A.current||!U.current)return;const z={placement:e,strategy:r,middleware:w};O.current&&(z.platform=O.current),iO(A.current,U.current,z).then(he=>{const de={...he,isPositioned:Y.current!==!1};L.current&&!nu(K.current,de)&&(K.current=de,Hl.flushSync(()=>{p(de)}))})},[w,e,r,O,Y]);Bd(()=>{m===!1&&K.current.isPositioned&&(K.current.isPositioned=!1,p(z=>({...z,isPositioned:!1})))},[m]);const L=v.useRef(!1);Bd(()=>(L.current=!0,()=>{L.current=!1}),[]),Bd(()=>{if(T&&(A.current=T),q&&(U.current=q),T&&q){if(V.current)return V.current(T,q,I);I()}},[T,q,I,V,ue]);const ce=v.useMemo(()=>({reference:A,floating:U,setReference:E,setFloating:S}),[E,S]),ae=v.useMemo(()=>({reference:T,floating:q}),[T,q]),fe=v.useMemo(()=>{const z={position:r,left:0,top:0};if(!ae.floating)return z;const he=ny(ae.floating,g.x),de=ny(ae.floating,g.y);return u?{...z,transform:"translate("+he+"px, "+de+"px)",...k1(ae.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:he,top:de}},[r,u,ae.floating,g.x,g.y]);return v.useMemo(()=>({...g,update:I,refs:ce,elements:ae,floatingStyles:fe}),[g,I,ce,ae,fe])}const uO=t=>{function e(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:t,fn(r){const{element:o,padding:i}=typeof t=="function"?t(r):t;return o&&e(o)?o.current!=null?ry({element:o.current,padding:i}).fn(r):{}:o?ry({element:o,padding:i}).fn(r):{}}}},hO=(t,e)=>({...tO(t),options:[t,e]}),fO=(t,e)=>({...rO(t),options:[t,e]}),mO=(t,e)=>({...aO(t),options:[t,e]}),pO=(t,e)=>({...nO(t),options:[t,e]}),gO=(t,e)=>({...sO(t),options:[t,e]}),xO=(t,e)=>({...oO(t),options:[t,e]}),vO=(t,e)=>({...uO(t),options:[t,e]});var yO="Arrow",R1=v.forwardRef((t,e)=>{const{children:r,width:o=10,height:i=5,...l}=t;return n.jsx(ot.svg,{...l,ref:e,width:o,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?r:n.jsx("polygon",{points:"0,0 30,0 15,10"})})});R1.displayName=yO;var bO=R1;function A1(t){const[e,r]=v.useState(void 0);return gr(()=>{if(t){r({width:t.offsetWidth,height:t.offsetHeight});const o=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const l=i[0];let d,u;if("borderBoxSize"in l){const h=l.borderBoxSize,m=Array.isArray(h)?h[0]:h;d=m.inlineSize,u=m.blockSize}else d=t.offsetWidth,u=t.offsetHeight;r({width:d,height:u})});return o.observe(t,{box:"border-box"}),()=>o.unobserve(t)}else r(void 0)},[t]),e}var Rp="Popper",[P1,T1]=ki(Rp),[wO,O1]=P1(Rp),I1=t=>{const{__scopePopper:e,children:r}=t,[o,i]=v.useState(null);return n.jsx(wO,{scope:e,anchor:o,onAnchorChange:i,children:r})};I1.displayName=Rp;var M1="PopperAnchor",D1=v.forwardRef((t,e)=>{const{__scopePopper:r,virtualRef:o,...i}=t,l=O1(M1,r),d=v.useRef(null),u=vt(e,d),h=v.useRef(null);return v.useEffect(()=>{const m=h.current;h.current=(o==null?void 0:o.current)||d.current,m!==h.current&&l.onAnchorChange(h.current)}),o?null:n.jsx(ot.div,{...i,ref:u})});D1.displayName=M1;var Ap="PopperContent",[jO,_O]=P1(Ap),L1=v.forwardRef((t,e)=>{var se,P,Z,le,ve,je;const{__scopePopper:r,side:o="bottom",sideOffset:i=0,align:l="center",alignOffset:d=0,arrowPadding:u=0,avoidCollisions:h=!0,collisionBoundary:m=[],collisionPadding:g=0,sticky:p="partial",hideWhenDetached:w=!1,updatePositionStrategy:b="optimized",onPlaced:N,...j}=t,_=O1(Ap,r),[C,E]=v.useState(null),S=vt(e,Ee=>E(Ee)),[T,q]=v.useState(null),A=A1(T),U=(A==null?void 0:A.width)??0,K=(A==null?void 0:A.height)??0,ue=o+(l!=="center"?"-"+l:""),V=typeof g=="number"?g:{top:0,right:0,bottom:0,left:0,...g},O=Array.isArray(m)?m:[m],Y=O.length>0,I={padding:V,boundary:O.filter(EO),altBoundary:Y},{refs:L,floatingStyles:ce,placement:ae,isPositioned:fe,middlewareData:z}=dO({strategy:"fixed",placement:ue,whileElementsMounted:(...Ee)=>eO(...Ee,{animationFrame:b==="always"}),elements:{reference:_.anchor},middleware:[hO({mainAxis:i+K,alignmentAxis:d}),h&&fO({mainAxis:!0,crossAxis:!1,limiter:p==="partial"?mO():void 0,...I}),h&&pO({...I}),gO({...I,apply:({elements:Ee,rects:Ae,availableWidth:Ve,availableHeight:at})=>{const{width:yt,height:ut}=Ae.reference,Ze=Ee.floating.style;Ze.setProperty("--radix-popper-available-width",`${Ve}px`),Ze.setProperty("--radix-popper-available-height",`${at}px`),Ze.setProperty("--radix-popper-anchor-width",`${yt}px`),Ze.setProperty("--radix-popper-anchor-height",`${ut}px`)}}),T&&vO({element:T,padding:u}),SO({arrowWidth:U,arrowHeight:K}),w&&xO({strategy:"referenceHidden",...I})]}),[he,de]=F1(ae),R=ua(N);gr(()=>{fe&&(R==null||R())},[fe,R]);const B=(se=z.arrow)==null?void 0:se.x,F=(P=z.arrow)==null?void 0:P.y,D=((Z=z.arrow)==null?void 0:Z.centerOffset)!==0,[oe,pe]=v.useState();return gr(()=>{C&&pe(window.getComputedStyle(C).zIndex)},[C]),n.jsx("div",{ref:L.setFloating,"data-radix-popper-content-wrapper":"",style:{...ce,transform:fe?ce.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:oe,"--radix-popper-transform-origin":[(le=z.transformOrigin)==null?void 0:le.x,(ve=z.transformOrigin)==null?void 0:ve.y].join(" "),...((je=z.hide)==null?void 0:je.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:n.jsx(jO,{scope:r,placedSide:he,onArrowChange:q,arrowX:B,arrowY:F,shouldHideArrow:D,children:n.jsx(ot.div,{"data-side":he,"data-align":de,...j,ref:S,style:{...j.style,animation:fe?void 0:"none"}})})})});L1.displayName=Ap;var $1="PopperArrow",NO={top:"bottom",right:"left",bottom:"top",left:"right"},B1=v.forwardRef(function(e,r){const{__scopePopper:o,...i}=e,l=_O($1,o),d=NO[l.placedSide];return n.jsx("span",{ref:l.onArrowChange,style:{position:"absolute",left:l.arrowX,top:l.arrowY,[d]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[l.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[l.placedSide],visibility:l.shouldHideArrow?"hidden":void 0},children:n.jsx(bO,{...i,ref:r,style:{...i.style,display:"block"}})})});B1.displayName=$1;function EO(t){return t!==null}var SO=t=>({name:"transformOrigin",options:t,fn(e){var _,C,E;const{placement:r,rects:o,middlewareData:i}=e,d=((_=i.arrow)==null?void 0:_.centerOffset)!==0,u=d?0:t.arrowWidth,h=d?0:t.arrowHeight,[m,g]=F1(r),p={start:"0%",center:"50%",end:"100%"}[g],w=(((C=i.arrow)==null?void 0:C.x)??0)+u/2,b=(((E=i.arrow)==null?void 0:E.y)??0)+h/2;let N="",j="";return m==="bottom"?(N=d?p:`${w}px`,j=`${-h}px`):m==="top"?(N=d?p:`${w}px`,j=`${o.floating.height+h}px`):m==="right"?(N=`${-h}px`,j=d?p:`${b}px`):m==="left"&&(N=`${o.floating.width+h}px`,j=d?p:`${b}px`),{data:{x:N,y:j}}}});function F1(t){const[e,r="center"]=t.split("-");return[e,r]}var CO=I1,kO=D1,RO=L1,AO=B1;function z1(t){const e=v.useRef({value:t,previous:t});return v.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var U1=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),PO="VisuallyHidden",TO=v.forwardRef((t,e)=>n.jsx(ot.span,{...t,ref:e,style:{...U1,...t.style}}));TO.displayName=PO;var OO=[" ","Enter","ArrowUp","ArrowDown"],IO=[" ","Enter"],pa="Select",[Su,Cu,MO]=aT(pa),[Ii]=ki(pa,[MO,T1]),ku=T1(),[DO,Eo]=Ii(pa),[LO,$O]=Ii(pa),q1=t=>{const{__scopeSelect:e,children:r,open:o,defaultOpen:i,onOpenChange:l,value:d,defaultValue:u,onValueChange:h,dir:m,name:g,autoComplete:p,disabled:w,required:b,form:N}=t,j=ku(e),[_,C]=v.useState(null),[E,S]=v.useState(null),[T,q]=v.useState(!1),A=lT(m),[U,K]=Xd({prop:o,defaultProp:i??!1,onChange:l,caller:pa}),[ue,V]=Xd({prop:d,defaultProp:u,onChange:h,caller:pa}),O=v.useRef(null),Y=_?N||!!_.closest("form"):!0,[I,L]=v.useState(new Set),ce=Array.from(I).map(ae=>ae.props.value).join(";");return n.jsx(CO,{...j,children:n.jsxs(DO,{required:b,scope:e,trigger:_,onTriggerChange:C,valueNode:E,onValueNodeChange:S,valueNodeHasChildren:T,onValueNodeHasChildrenChange:q,contentId:ri(),value:ue,onValueChange:V,open:U,onOpenChange:K,dir:A,triggerPointerDownPosRef:O,disabled:w,children:[n.jsx(Su.Provider,{scope:e,children:n.jsx(LO,{scope:t.__scopeSelect,onNativeOptionAdd:v.useCallback(ae=>{L(fe=>new Set(fe).add(ae))},[]),onNativeOptionRemove:v.useCallback(ae=>{L(fe=>{const z=new Set(fe);return z.delete(ae),z})},[]),children:r})}),Y?n.jsxs(fj,{"aria-hidden":!0,required:b,tabIndex:-1,name:g,autoComplete:p,value:ue,onChange:ae=>V(ae.target.value),disabled:w,form:N,children:[ue===void 0?n.jsx("option",{value:""}):null,Array.from(I)]},ce):null]})})};q1.displayName=pa;var W1="SelectTrigger",V1=v.forwardRef((t,e)=>{const{__scopeSelect:r,disabled:o=!1,...i}=t,l=ku(r),d=Eo(W1,r),u=d.disabled||o,h=vt(e,d.onTriggerChange),m=Cu(r),g=v.useRef("touch"),[p,w,b]=pj(j=>{const _=m().filter(S=>!S.disabled),C=_.find(S=>S.value===d.value),E=gj(_,j,C);E!==void 0&&d.onValueChange(E.value)}),N=j=>{u||(d.onOpenChange(!0),b()),j&&(d.triggerPointerDownPosRef.current={x:Math.round(j.pageX),y:Math.round(j.pageY)})};return n.jsx(kO,{asChild:!0,...l,children:n.jsx(ot.button,{type:"button",role:"combobox","aria-controls":d.contentId,"aria-expanded":d.open,"aria-required":d.required,"aria-autocomplete":"none",dir:d.dir,"data-state":d.open?"open":"closed",disabled:u,"data-disabled":u?"":void 0,"data-placeholder":mj(d.value)?"":void 0,...i,ref:h,onClick:dt(i.onClick,j=>{j.currentTarget.focus(),g.current!=="mouse"&&N(j)}),onPointerDown:dt(i.onPointerDown,j=>{g.current=j.pointerType;const _=j.target;_.hasPointerCapture(j.pointerId)&&_.releasePointerCapture(j.pointerId),j.button===0&&j.ctrlKey===!1&&j.pointerType==="mouse"&&(N(j),j.preventDefault())}),onKeyDown:dt(i.onKeyDown,j=>{const _=p.current!=="";!(j.ctrlKey||j.altKey||j.metaKey)&&j.key.length===1&&w(j.key),!(_&&j.key===" ")&&OO.includes(j.key)&&(N(),j.preventDefault())})})})});V1.displayName=W1;var H1="SelectValue",K1=v.forwardRef((t,e)=>{const{__scopeSelect:r,className:o,style:i,children:l,placeholder:d="",...u}=t,h=Eo(H1,r),{onValueNodeHasChildrenChange:m}=h,g=l!==void 0,p=vt(e,h.onValueNodeChange);return gr(()=>{m(g)},[m,g]),n.jsx(ot.span,{...u,ref:p,style:{pointerEvents:"none"},children:mj(h.value)?n.jsx(n.Fragment,{children:d}):l})});K1.displayName=H1;var BO="SelectIcon",G1=v.forwardRef((t,e)=>{const{__scopeSelect:r,children:o,...i}=t;return n.jsx(ot.span,{"aria-hidden":!0,...i,ref:e,children:o||""})});G1.displayName=BO;var FO="SelectPortal",Q1=t=>n.jsx(cp,{asChild:!0,...t});Q1.displayName=FO;var ga="SelectContent",J1=v.forwardRef((t,e)=>{const r=Eo(ga,t.__scopeSelect),[o,i]=v.useState();if(gr(()=>{i(new DocumentFragment)},[]),!r.open){const l=o;return l?Hl.createPortal(n.jsx(Y1,{scope:t.__scopeSelect,children:n.jsx(Su.Slot,{scope:t.__scopeSelect,children:n.jsx("div",{children:t.children})})}),l):null}return n.jsx(X1,{...t,ref:e})});J1.displayName=ga;var vn=10,[Y1,So]=Ii(ga),zO="SelectContentImpl",UO=wi("SelectContent.RemoveScroll"),X1=v.forwardRef((t,e)=>{const{__scopeSelect:r,position:o="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:l,onPointerDownOutside:d,side:u,sideOffset:h,align:m,alignOffset:g,arrowPadding:p,collisionBoundary:w,collisionPadding:b,sticky:N,hideWhenDetached:j,avoidCollisions:_,...C}=t,E=Eo(ga,r),[S,T]=v.useState(null),[q,A]=v.useState(null),U=vt(e,se=>T(se)),[K,ue]=v.useState(null),[V,O]=v.useState(null),Y=Cu(r),[I,L]=v.useState(!1),ce=v.useRef(!1);v.useEffect(()=>{if(S)return kw(S)},[S]),bw();const ae=v.useCallback(se=>{const[P,...Z]=Y().map(je=>je.ref.current),[le]=Z.slice(-1),ve=document.activeElement;for(const je of se)if(je===ve||(je==null||je.scrollIntoView({block:"nearest"}),je===P&&q&&(q.scrollTop=0),je===le&&q&&(q.scrollTop=q.scrollHeight),je==null||je.focus(),document.activeElement!==ve))return},[Y,q]),fe=v.useCallback(()=>ae([K,S]),[ae,K,S]);v.useEffect(()=>{I&&fe()},[I,fe]);const{onOpenChange:z,triggerPointerDownPosRef:he}=E;v.useEffect(()=>{if(S){let se={x:0,y:0};const P=le=>{var ve,je;se={x:Math.abs(Math.round(le.pageX)-(((ve=he.current)==null?void 0:ve.x)??0)),y:Math.abs(Math.round(le.pageY)-(((je=he.current)==null?void 0:je.y)??0))}},Z=le=>{se.x<=10&&se.y<=10?le.preventDefault():S.contains(le.target)||z(!1),document.removeEventListener("pointermove",P),he.current=null};return he.current!==null&&(document.addEventListener("pointermove",P),document.addEventListener("pointerup",Z,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",P),document.removeEventListener("pointerup",Z,{capture:!0})}}},[S,z,he]),v.useEffect(()=>{const se=()=>z(!1);return window.addEventListener("blur",se),window.addEventListener("resize",se),()=>{window.removeEventListener("blur",se),window.removeEventListener("resize",se)}},[z]);const[de,R]=pj(se=>{const P=Y().filter(ve=>!ve.disabled),Z=P.find(ve=>ve.ref.current===document.activeElement),le=gj(P,se,Z);le&&setTimeout(()=>le.ref.current.focus())}),B=v.useCallback((se,P,Z)=>{const le=!ce.current&&!Z;(E.value!==void 0&&E.value===P||le)&&(ue(se),le&&(ce.current=!0))},[E.value]),F=v.useCallback(()=>S==null?void 0:S.focus(),[S]),D=v.useCallback((se,P,Z)=>{const le=!ce.current&&!Z;(E.value!==void 0&&E.value===P||le)&&O(se)},[E.value]),oe=o==="popper"?Tm:Z1,pe=oe===Tm?{side:u,sideOffset:h,align:m,alignOffset:g,arrowPadding:p,collisionBoundary:w,collisionPadding:b,sticky:N,hideWhenDetached:j,avoidCollisions:_}:{};return n.jsx(Y1,{scope:r,content:S,viewport:q,onViewportChange:A,itemRefCallback:B,selectedItem:K,onItemLeave:F,itemTextRefCallback:D,focusSelectedItem:fe,selectedItemText:V,position:o,isPositioned:I,searchRef:de,children:n.jsx(dp,{as:UO,allowPinchZoom:!0,children:n.jsx(lp,{asChild:!0,trapped:E.open,onMountAutoFocus:se=>{se.preventDefault()},onUnmountAutoFocus:dt(i,se=>{var P;(P=E.trigger)==null||P.focus({preventScroll:!0}),se.preventDefault()}),children:n.jsx(ip,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:l,onPointerDownOutside:d,onFocusOutside:se=>se.preventDefault(),onDismiss:()=>E.onOpenChange(!1),children:n.jsx(oe,{role:"listbox",id:E.contentId,"data-state":E.open?"open":"closed",dir:E.dir,onContextMenu:se=>se.preventDefault(),...C,...pe,onPlaced:()=>L(!0),ref:U,style:{display:"flex",flexDirection:"column",outline:"none",...C.style},onKeyDown:dt(C.onKeyDown,se=>{const P=se.ctrlKey||se.altKey||se.metaKey;if(se.key==="Tab"&&se.preventDefault(),!P&&se.key.length===1&&R(se.key),["ArrowUp","ArrowDown","Home","End"].includes(se.key)){let le=Y().filter(ve=>!ve.disabled).map(ve=>ve.ref.current);if(["ArrowUp","End"].includes(se.key)&&(le=le.slice().reverse()),["ArrowUp","ArrowDown"].includes(se.key)){const ve=se.target,je=le.indexOf(ve);le=le.slice(je+1)}setTimeout(()=>ae(le)),se.preventDefault()}})})})})})})});X1.displayName=zO;var qO="SelectItemAlignedPosition",Z1=v.forwardRef((t,e)=>{const{__scopeSelect:r,onPlaced:o,...i}=t,l=Eo(ga,r),d=So(ga,r),[u,h]=v.useState(null),[m,g]=v.useState(null),p=vt(e,U=>g(U)),w=Cu(r),b=v.useRef(!1),N=v.useRef(!0),{viewport:j,selectedItem:_,selectedItemText:C,focusSelectedItem:E}=d,S=v.useCallback(()=>{if(l.trigger&&l.valueNode&&u&&m&&j&&_&&C){const U=l.trigger.getBoundingClientRect(),K=m.getBoundingClientRect(),ue=l.valueNode.getBoundingClientRect(),V=C.getBoundingClientRect();if(l.dir!=="rtl"){const ve=V.left-K.left,je=ue.left-ve,Ee=U.left-je,Ae=U.width+Ee,Ve=Math.max(Ae,K.width),at=window.innerWidth-vn,yt=Hv(je,[vn,Math.max(vn,at-Ve)]);u.style.minWidth=Ae+"px",u.style.left=yt+"px"}else{const ve=K.right-V.right,je=window.innerWidth-ue.right-ve,Ee=window.innerWidth-U.right-je,Ae=U.width+Ee,Ve=Math.max(Ae,K.width),at=window.innerWidth-vn,yt=Hv(je,[vn,Math.max(vn,at-Ve)]);u.style.minWidth=Ae+"px",u.style.right=yt+"px"}const O=w(),Y=window.innerHeight-vn*2,I=j.scrollHeight,L=window.getComputedStyle(m),ce=parseInt(L.borderTopWidth,10),ae=parseInt(L.paddingTop,10),fe=parseInt(L.borderBottomWidth,10),z=parseInt(L.paddingBottom,10),he=ce+ae+I+z+fe,de=Math.min(_.offsetHeight*5,he),R=window.getComputedStyle(j),B=parseInt(R.paddingTop,10),F=parseInt(R.paddingBottom,10),D=U.top+U.height/2-vn,oe=Y-D,pe=_.offsetHeight/2,se=_.offsetTop+pe,P=ce+ae+se,Z=he-P;if(P<=D){const ve=O.length>0&&_===O[O.length-1].ref.current;u.style.bottom="0px";const je=m.clientHeight-j.offsetTop-j.offsetHeight,Ee=Math.max(oe,pe+(ve?F:0)+je+fe),Ae=P+Ee;u.style.height=Ae+"px"}else{const ve=O.length>0&&_===O[0].ref.current;u.style.top="0px";const Ee=Math.max(D,ce+j.offsetTop+(ve?B:0)+pe)+Z;u.style.height=Ee+"px",j.scrollTop=P-D+j.offsetTop}u.style.margin=`${vn}px 0`,u.style.minHeight=de+"px",u.style.maxHeight=Y+"px",o==null||o(),requestAnimationFrame(()=>b.current=!0)}},[w,l.trigger,l.valueNode,u,m,j,_,C,l.dir,o]);gr(()=>S(),[S]);const[T,q]=v.useState();gr(()=>{m&&q(window.getComputedStyle(m).zIndex)},[m]);const A=v.useCallback(U=>{U&&N.current===!0&&(S(),E==null||E(),N.current=!1)},[S,E]);return n.jsx(VO,{scope:r,contentWrapper:u,shouldExpandOnScrollRef:b,onScrollButtonChange:A,children:n.jsx("div",{ref:h,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:T},children:n.jsx(ot.div,{...i,ref:p,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});Z1.displayName=qO;var WO="SelectPopperPosition",Tm=v.forwardRef((t,e)=>{const{__scopeSelect:r,align:o="start",collisionPadding:i=vn,...l}=t,d=ku(r);return n.jsx(RO,{...d,...l,ref:e,align:o,collisionPadding:i,style:{boxSizing:"border-box",...l.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Tm.displayName=WO;var[VO,Pp]=Ii(ga,{}),Om="SelectViewport",ej=v.forwardRef((t,e)=>{const{__scopeSelect:r,nonce:o,...i}=t,l=So(Om,r),d=Pp(Om,r),u=vt(e,l.onViewportChange),h=v.useRef(0);return n.jsxs(n.Fragment,{children:[n.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:o}),n.jsx(Su.Slot,{scope:r,children:n.jsx(ot.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:u,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:dt(i.onScroll,m=>{const g=m.currentTarget,{contentWrapper:p,shouldExpandOnScrollRef:w}=d;if(w!=null&&w.current&&p){const b=Math.abs(h.current-g.scrollTop);if(b>0){const N=window.innerHeight-vn*2,j=parseFloat(p.style.minHeight),_=parseFloat(p.style.height),C=Math.max(j,_);if(C<N){const E=C+b,S=Math.min(N,E),T=E-S;p.style.height=S+"px",p.style.bottom==="0px"&&(g.scrollTop=T>0?T:0,p.style.justifyContent="flex-end")}}}h.current=g.scrollTop})})})]})});ej.displayName=Om;var tj="SelectGroup",[HO,KO]=Ii(tj),GO=v.forwardRef((t,e)=>{const{__scopeSelect:r,...o}=t,i=ri();return n.jsx(HO,{scope:r,id:i,children:n.jsx(ot.div,{role:"group","aria-labelledby":i,...o,ref:e})})});GO.displayName=tj;var rj="SelectLabel",nj=v.forwardRef((t,e)=>{const{__scopeSelect:r,...o}=t,i=KO(rj,r);return n.jsx(ot.div,{id:i.id,...o,ref:e})});nj.displayName=rj;var su="SelectItem",[QO,sj]=Ii(su),oj=v.forwardRef((t,e)=>{const{__scopeSelect:r,value:o,disabled:i=!1,textValue:l,...d}=t,u=Eo(su,r),h=So(su,r),m=u.value===o,[g,p]=v.useState(l??""),[w,b]=v.useState(!1),N=vt(e,E=>{var S;return(S=h.itemRefCallback)==null?void 0:S.call(h,E,o,i)}),j=ri(),_=v.useRef("touch"),C=()=>{i||(u.onValueChange(o),u.onOpenChange(!1))};if(o==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return n.jsx(QO,{scope:r,value:o,disabled:i,textId:j,isSelected:m,onItemTextChange:v.useCallback(E=>{p(S=>S||((E==null?void 0:E.textContent)??"").trim())},[]),children:n.jsx(Su.ItemSlot,{scope:r,value:o,disabled:i,textValue:g,children:n.jsx(ot.div,{role:"option","aria-labelledby":j,"data-highlighted":w?"":void 0,"aria-selected":m&&w,"data-state":m?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...d,ref:N,onFocus:dt(d.onFocus,()=>b(!0)),onBlur:dt(d.onBlur,()=>b(!1)),onClick:dt(d.onClick,()=>{_.current!=="mouse"&&C()}),onPointerUp:dt(d.onPointerUp,()=>{_.current==="mouse"&&C()}),onPointerDown:dt(d.onPointerDown,E=>{_.current=E.pointerType}),onPointerMove:dt(d.onPointerMove,E=>{var S;_.current=E.pointerType,i?(S=h.onItemLeave)==null||S.call(h):_.current==="mouse"&&E.currentTarget.focus({preventScroll:!0})}),onPointerLeave:dt(d.onPointerLeave,E=>{var S;E.currentTarget===document.activeElement&&((S=h.onItemLeave)==null||S.call(h))}),onKeyDown:dt(d.onKeyDown,E=>{var T;((T=h.searchRef)==null?void 0:T.current)!==""&&E.key===" "||(IO.includes(E.key)&&C(),E.key===" "&&E.preventDefault())})})})})});oj.displayName=su;var Cl="SelectItemText",aj=v.forwardRef((t,e)=>{const{__scopeSelect:r,className:o,style:i,...l}=t,d=Eo(Cl,r),u=So(Cl,r),h=sj(Cl,r),m=$O(Cl,r),[g,p]=v.useState(null),w=vt(e,C=>p(C),h.onItemTextChange,C=>{var E;return(E=u.itemTextRefCallback)==null?void 0:E.call(u,C,h.value,h.disabled)}),b=g==null?void 0:g.textContent,N=v.useMemo(()=>n.jsx("option",{value:h.value,disabled:h.disabled,children:b},h.value),[h.disabled,h.value,b]),{onNativeOptionAdd:j,onNativeOptionRemove:_}=m;return gr(()=>(j(N),()=>_(N)),[j,_,N]),n.jsxs(n.Fragment,{children:[n.jsx(ot.span,{id:h.textId,...l,ref:w}),h.isSelected&&d.valueNode&&!d.valueNodeHasChildren?Hl.createPortal(l.children,d.valueNode):null]})});aj.displayName=Cl;var ij="SelectItemIndicator",lj=v.forwardRef((t,e)=>{const{__scopeSelect:r,...o}=t;return sj(ij,r).isSelected?n.jsx(ot.span,{"aria-hidden":!0,...o,ref:e}):null});lj.displayName=ij;var Im="SelectScrollUpButton",cj=v.forwardRef((t,e)=>{const r=So(Im,t.__scopeSelect),o=Pp(Im,t.__scopeSelect),[i,l]=v.useState(!1),d=vt(e,o.onScrollButtonChange);return gr(()=>{if(r.viewport&&r.isPositioned){let u=function(){const m=h.scrollTop>0;l(m)};const h=r.viewport;return u(),h.addEventListener("scroll",u),()=>h.removeEventListener("scroll",u)}},[r.viewport,r.isPositioned]),i?n.jsx(uj,{...t,ref:d,onAutoScroll:()=>{const{viewport:u,selectedItem:h}=r;u&&h&&(u.scrollTop=u.scrollTop-h.offsetHeight)}}):null});cj.displayName=Im;var Mm="SelectScrollDownButton",dj=v.forwardRef((t,e)=>{const r=So(Mm,t.__scopeSelect),o=Pp(Mm,t.__scopeSelect),[i,l]=v.useState(!1),d=vt(e,o.onScrollButtonChange);return gr(()=>{if(r.viewport&&r.isPositioned){let u=function(){const m=h.scrollHeight-h.clientHeight,g=Math.ceil(h.scrollTop)<m;l(g)};const h=r.viewport;return u(),h.addEventListener("scroll",u),()=>h.removeEventListener("scroll",u)}},[r.viewport,r.isPositioned]),i?n.jsx(uj,{...t,ref:d,onAutoScroll:()=>{const{viewport:u,selectedItem:h}=r;u&&h&&(u.scrollTop=u.scrollTop+h.offsetHeight)}}):null});dj.displayName=Mm;var uj=v.forwardRef((t,e)=>{const{__scopeSelect:r,onAutoScroll:o,...i}=t,l=So("SelectScrollButton",r),d=v.useRef(null),u=Cu(r),h=v.useCallback(()=>{d.current!==null&&(window.clearInterval(d.current),d.current=null)},[]);return v.useEffect(()=>()=>h(),[h]),gr(()=>{var g;const m=u().find(p=>p.ref.current===document.activeElement);(g=m==null?void 0:m.ref.current)==null||g.scrollIntoView({block:"nearest"})},[u]),n.jsx(ot.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:dt(i.onPointerDown,()=>{d.current===null&&(d.current=window.setInterval(o,50))}),onPointerMove:dt(i.onPointerMove,()=>{var m;(m=l.onItemLeave)==null||m.call(l),d.current===null&&(d.current=window.setInterval(o,50))}),onPointerLeave:dt(i.onPointerLeave,()=>{h()})})}),JO="SelectSeparator",hj=v.forwardRef((t,e)=>{const{__scopeSelect:r,...o}=t;return n.jsx(ot.div,{"aria-hidden":!0,...o,ref:e})});hj.displayName=JO;var Dm="SelectArrow",YO=v.forwardRef((t,e)=>{const{__scopeSelect:r,...o}=t,i=ku(r),l=Eo(Dm,r),d=So(Dm,r);return l.open&&d.position==="popper"?n.jsx(AO,{...i,...o,ref:e}):null});YO.displayName=Dm;var XO="SelectBubbleInput",fj=v.forwardRef(({__scopeSelect:t,value:e,...r},o)=>{const i=v.useRef(null),l=vt(o,i),d=z1(e);return v.useEffect(()=>{const u=i.current;if(!u)return;const h=window.HTMLSelectElement.prototype,g=Object.getOwnPropertyDescriptor(h,"value").set;if(d!==e&&g){const p=new Event("change",{bubbles:!0});g.call(u,e),u.dispatchEvent(p)}},[d,e]),n.jsx(ot.select,{...r,style:{...U1,...r.style},ref:l,defaultValue:e})});fj.displayName=XO;function mj(t){return t===""||t===void 0}function pj(t){const e=ua(t),r=v.useRef(""),o=v.useRef(0),i=v.useCallback(d=>{const u=r.current+d;e(u),(function h(m){r.current=m,window.clearTimeout(o.current),m!==""&&(o.current=window.setTimeout(()=>h(""),1e3))})(u)},[e]),l=v.useCallback(()=>{r.current="",window.clearTimeout(o.current)},[]);return v.useEffect(()=>()=>window.clearTimeout(o.current),[]),[r,i,l]}function gj(t,e,r){const i=e.length>1&&Array.from(e).every(m=>m===e[0])?e[0]:e,l=r?t.indexOf(r):-1;let d=ZO(t,Math.max(l,0));i.length===1&&(d=d.filter(m=>m!==r));const h=d.find(m=>m.textValue.toLowerCase().startsWith(i.toLowerCase()));return h!==r?h:void 0}function ZO(t,e){return t.map((r,o)=>t[(e+o)%t.length])}var e4=q1,xj=V1,t4=K1,r4=G1,n4=Q1,vj=J1,s4=ej,yj=nj,bj=oj,o4=aj,a4=lj,wj=cj,jj=dj,_j=hj;const Xo=e4,Zo=t4,po=v.forwardRef(({className:t,children:e,...r},o)=>n.jsxs(xj,{ref:o,className:Ye("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...r,children:[e,n.jsx(r4,{asChild:!0,children:n.jsx(Qw,{className:"h-4 w-4 opacity-50"})})]}));po.displayName=xj.displayName;const Nj=v.forwardRef(({className:t,...e},r)=>n.jsx(wj,{ref:r,className:Ye("flex cursor-default items-center justify-center py-1",t),...e,children:n.jsx(sA,{className:"h-4 w-4"})}));Nj.displayName=wj.displayName;const Ej=v.forwardRef(({className:t,...e},r)=>n.jsx(jj,{ref:r,className:Ye("flex cursor-default items-center justify-center py-1",t),...e,children:n.jsx(Qw,{className:"h-4 w-4"})}));Ej.displayName=jj.displayName;const go=v.forwardRef(({className:t,children:e,position:r="popper",...o},i)=>n.jsx(n4,{children:n.jsxs(vj,{ref:i,className:Ye("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:r,...o,children:[n.jsx(Nj,{}),n.jsx(s4,{className:Ye("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),n.jsx(Ej,{})]})}));go.displayName=vj.displayName;const i4=v.forwardRef(({className:t,...e},r)=>n.jsx(yj,{ref:r,className:Ye("px-2 py-1.5 text-sm font-semibold",t),...e}));i4.displayName=yj.displayName;const Ct=v.forwardRef(({className:t,children:e,...r},o)=>n.jsxs(bj,{ref:o,className:Ye("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...r,children:[n.jsx("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:n.jsx(a4,{children:n.jsx(fa,{className:"h-4 w-4"})})}),n.jsx(o4,{children:e})]}));Ct.displayName=bj.displayName;const l4=v.forwardRef(({className:t,...e},r)=>n.jsx(_j,{ref:r,className:Ye("-mx-1 my-1 h-px bg-muted",t),...e}));l4.displayName=_j.displayName;var Sj="AlertDialog",[c4]=ki(Sj,[Aw]),ks=Aw(),Cj=t=>{const{__scopeAlertDialog:e,...r}=t,o=ks(e);return n.jsx(Hw,{...o,...r,modal:!0})};Cj.displayName=Sj;var d4="AlertDialogTrigger",u4=v.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...o}=t,i=ks(r);return n.jsx(z5,{...i,...o,ref:e})});u4.displayName=d4;var h4="AlertDialogPortal",kj=t=>{const{__scopeAlertDialog:e,...r}=t,o=ks(e);return n.jsx(Kw,{...o,...r})};kj.displayName=h4;var f4="AlertDialogOverlay",Rj=v.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...o}=t,i=ks(r);return n.jsx(mp,{...i,...o,ref:e})});Rj.displayName=f4;var oi="AlertDialogContent",[m4,p4]=c4(oi),g4=jR("AlertDialogContent"),Aj=v.forwardRef((t,e)=>{const{__scopeAlertDialog:r,children:o,...i}=t,l=ks(r),d=v.useRef(null),u=vt(e,d),h=v.useRef(null);return n.jsx(L5,{contentName:oi,titleName:Pj,docsSlug:"alert-dialog",children:n.jsx(m4,{scope:r,cancelRef:h,children:n.jsxs(pp,{role:"alertdialog",...l,...i,ref:u,onOpenAutoFocus:dt(i.onOpenAutoFocus,m=>{var g;m.preventDefault(),(g=h.current)==null||g.focus({preventScroll:!0})}),onPointerDownOutside:m=>m.preventDefault(),onInteractOutside:m=>m.preventDefault(),children:[n.jsx(g4,{children:o}),n.jsx(v4,{contentRef:d})]})})})});Aj.displayName=oi;var Pj="AlertDialogTitle",Tj=v.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...o}=t,i=ks(r);return n.jsx(gp,{...i,...o,ref:e})});Tj.displayName=Pj;var Oj="AlertDialogDescription",Ij=v.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...o}=t,i=ks(r);return n.jsx(xp,{...i,...o,ref:e})});Ij.displayName=Oj;var x4="AlertDialogAction",Mj=v.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...o}=t,i=ks(r);return n.jsx(vp,{...i,...o,ref:e})});Mj.displayName=x4;var Dj="AlertDialogCancel",Lj=v.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...o}=t,{cancelRef:i}=p4(Dj,r),l=ks(r),d=vt(e,i);return n.jsx(vp,{...l,...o,ref:d})});Lj.displayName=Dj;var v4=({contentRef:t})=>{const e=`\`${oi}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${oi}\` by passing a \`${Oj}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${oi}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return v.useEffect(()=>{var o;document.getElementById((o=t.current)==null?void 0:o.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},y4=Cj,b4=kj,$j=Rj,Bj=Aj,Fj=Mj,zj=Lj,Uj=Tj,qj=Ij;const w4=y4,j4=b4,Wj=v.forwardRef(({className:t,...e},r)=>n.jsx($j,{className:Ye("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:r}));Wj.displayName=$j.displayName;const Vj=v.forwardRef(({className:t,...e},r)=>n.jsxs(j4,{children:[n.jsx(Wj,{}),n.jsx(Bj,{ref:r,className:Ye("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...e})]}));Vj.displayName=Bj.displayName;const Hj=({className:t,...e})=>n.jsx("div",{className:Ye("flex flex-col space-y-2 text-center sm:text-left",t),...e});Hj.displayName="AlertDialogHeader";const Kj=({className:t,...e})=>n.jsx("div",{className:Ye("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});Kj.displayName="AlertDialogFooter";const Gj=v.forwardRef(({className:t,...e},r)=>n.jsx(Uj,{ref:r,className:Ye("text-lg font-semibold",t),...e}));Gj.displayName=Uj.displayName;const Qj=v.forwardRef(({className:t,...e},r)=>n.jsx(qj,{ref:r,className:Ye("text-sm text-muted-foreground",t),...e}));Qj.displayName=qj.displayName;const Jj=v.forwardRef(({className:t,...e},r)=>n.jsx(Fj,{ref:r,className:Ye(jp(),t),...e}));Jj.displayName=Fj.displayName;const Yj=v.forwardRef(({className:t,...e},r)=>n.jsx(zj,{ref:r,className:Ye(jp({variant:"outline"}),"mt-2 sm:mt-0",t),...e}));Yj.displayName=zj.displayName;const _4=[{value:"BC",label:"Balnerio Cambori (BC)"},{value:"NOVA ESPERANA",label:"Nova Esperana"},{value:"CAMBORI",label:"Cambori"},{value:"BARRA",label:"Barra"},{value:"ESTALEIRO",label:"Estaleiro"},{value:"TAQUARAS",label:"Taquaras"},{value:"LARANJEIRAS",label:"Laranjeiras"},{value:"PRAIA DOS AMORES",label:"Praia dos Amores"},{value:"PRAIA BRAVA",label:"Praia Brava"},{value:"ITAJAI",label:"Itaja"},{value:"ITAPEMA",label:"Itapema"},{value:"NAVEGANTES",label:"Navegantes"},{value:"PENHA",label:"Penha"},{value:"PORTO BELO",label:"Porto Belo"},{value:"TIJUCAS",label:"Tijucas"},{value:"PIARRAS",label:"Piarras"},{value:"BOMBINHAS",label:"Bombinhas"},{value:"OUTRO",label:"Outro"}],N4=({cliente:t,onSuccess:e,onCancel:r})=>{const[o,i]=v.useState(t||{nome:"",cpf:"",telefone:"",email:"",enderecos:[{logradouro:"",numero:"",complemento:"",bairro:"",cidade:"",cep:"",regiao:"",ponto_referencia:"",observacoes:"",is_principal:!0}]}),[l,d]=v.useState(!1),u=async p=>{if(p.preventDefault(),!o.nome||!o.telefone){me.error("Preencha nome e telefone");return}if(!o.enderecos.some(b=>b.logradouro&&b.numero&&b.cidade)){me.error("Preencha pelo menos um endereo completo");return}d(!0);const w=me.loading(t!=null&&t.id?"Atualizando cliente...":"Cadastrando cliente...");try{if(!(t!=null&&t.id)){const{data:j}=await Ne.from("clientes").select("id, nome").ilike("nome",o.nome.trim()).limit(1);if(j&&j.length>0){me.error(`J existe um cliente cadastrado com o nome "${j[0].nome}"`,{id:w}),d(!1);return}}let b;if(t!=null&&t.id){const{error:j}=await Ne.from("clientes").update({nome:o.nome,cpf:o.cpf||null,telefone:o.telefone,email:o.email||null,updated_at:new Date().toISOString()}).eq("id",t.id);if(j)throw j;b=t.id,await Ne.from("enderecos").delete().eq("cliente_id",b)}else{const{data:j,error:_}=await Ne.from("clientes").insert([{nome:o.nome,cpf:o.cpf||null,telefone:o.telefone,email:o.email||null}]).select().single();if(_)throw _;b=j.id}const N=o.enderecos.filter(j=>j.logradouro&&j.numero&&j.cidade).map((j,_)=>({cliente_id:b,logradouro:j.logradouro,numero:j.numero,complemento:j.complemento||null,bairro:j.bairro||null,cidade:j.cidade,cep:j.cep||null,regiao:j.regiao||null,ponto_referencia:j.ponto_referencia||null,observacoes:j.observacoes||null,is_principal:_===0}));if(N.length>0){const{error:j}=await Ne.from("enderecos").insert(N);if(j)throw j}me.success(t!=null&&t.id?"Cliente atualizado com sucesso!":"Cliente cadastrado com sucesso!",{id:w}),e()}catch(b){console.error("Erro ao salvar cliente:",b),me.error("Erro ao salvar cliente: "+b.message,{id:w})}finally{d(!1)}},h=()=>{i({...o,enderecos:[...o.enderecos,{logradouro:"",numero:"",complemento:"",bairro:"",cidade:"",cep:"",regiao:"",ponto_referencia:"",observacoes:"",is_principal:!1}]})},m=p=>{if(o.enderecos.length===1){me.error(" necessrio pelo menos um endereo");return}i({...o,enderecos:o.enderecos.filter((w,b)=>b!==p)})},g=(p,w,b)=>{const N=[...o.enderecos];N[p]={...N[p],[w]:b},i({...o,enderecos:N})};return n.jsxs("form",{onSubmit:u,className:"space-y-4",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Nome Completo *"}),n.jsx("input",{type:"text",value:o.nome,onChange:p=>i({...o,nome:p.target.value}),placeholder:"Digite o nome completo",className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-100",required:!0})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"CPF"}),n.jsx("input",{type:"text",value:o.cpf,onChange:p=>i({...o,cpf:p.target.value}),placeholder:"000.000.000-00",className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-100"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Telefone *"}),n.jsx("input",{type:"text",value:o.telefone,onChange:p=>i({...o,telefone:p.target.value}),placeholder:"(00) 00000-0000",className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-100",required:!0})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"E-mail"}),n.jsx("input",{type:"email",value:o.email,onChange:p=>i({...o,email:p.target.value}),placeholder:"cliente@email.com",className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-100"})]})]}),n.jsxs("div",{className:"space-y-3 pt-2 border-t border-slate-200",children:[n.jsxs("div",{className:"flex justify-between items-center pt-2",children:[n.jsx("h3",{className:"text-sm font-semibold text-slate-700",children:"Endereos"}),n.jsxs("button",{type:"button",onClick:h,className:"flex items-center gap-2 px-3 py-1.5 text-sm border border-slate-300 rounded-lg font-medium text-slate-700 hover:bg-slate-50 transition-colors",children:[n.jsx(xu,{className:"w-4 h-4"}),"Adicionar Endereo"]})]}),o.enderecos.map((p,w)=>n.jsxs("div",{className:"bg-slate-50 rounded-lg border border-slate-200 p-4",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsxs("h4",{className:"text-sm font-semibold text-slate-700",children:["Endereo ",w+1," ",w===0&&"(Principal)"]}),o.enderecos.length>1&&n.jsx("button",{type:"button",onClick:()=>m(w),className:"p-1.5 hover:bg-red-50 rounded transition-colors",children:n.jsx(Ri,{className:"w-4 h-4 text-red-500"})})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"CEP"}),n.jsx("input",{type:"text",value:p.cep||"",onChange:b=>g(w,"cep",b.target.value),placeholder:"00000-000",className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-100"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Regio"}),n.jsxs("select",{value:p.regiao||"",onChange:b=>g(w,"regiao",b.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-100",children:[n.jsx("option",{value:"",children:"Selecione a regio"}),_4.map(b=>n.jsx("option",{value:b.value,children:b.label},b.value))]})]})]}),n.jsxs("div",{className:"grid grid-cols-[2fr_1fr] gap-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Rua/Logradouro *"}),n.jsx("input",{type:"text",value:p.logradouro,onChange:b=>g(w,"logradouro",b.target.value),placeholder:"Nome da rua",className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-100"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Nmero *"}),n.jsx("input",{type:"text",value:p.numero,onChange:b=>g(w,"numero",b.target.value),placeholder:"123",className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-100"})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Bairro"}),n.jsx("input",{type:"text",value:p.bairro,onChange:b=>g(w,"bairro",b.target.value),placeholder:"Nome do bairro",className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-100"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Cidade *"}),n.jsx("input",{type:"text",value:p.cidade,onChange:b=>g(w,"cidade",b.target.value),placeholder:"Ex: Balnerio Cambori",className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-100"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Complemento"}),n.jsx("input",{type:"text",value:p.complemento,onChange:b=>g(w,"complemento",b.target.value),placeholder:"Apto, Bloco, etc.",className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-100"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Ponto de Referncia"}),n.jsx("input",{type:"text",value:p.ponto_referencia,onChange:b=>g(w,"ponto_referencia",b.target.value),placeholder:"Prximo a...",className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-100"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Observaes"}),n.jsx("textarea",{value:p.observacoes,onChange:b=>g(w,"observacoes",b.target.value),placeholder:"Observaes importantes",rows:2,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-100 resize-vertical"})]})]})]},`endereco-${w}-${p.logradouro||"new"}`))]}),n.jsxs("div",{className:"flex gap-3 pt-4",children:[n.jsx("button",{type:"button",onClick:r,className:"flex-1 px-4 py-2 border border-slate-300 rounded-lg font-medium text-slate-700 hover:bg-slate-50 transition-colors",children:"Cancelar"}),n.jsx("button",{type:"submit",disabled:l,className:"flex-1 px-4 py-2 rounded-lg font-medium text-white transition-colors",style:{backgroundColor:l?"#94a3b8":"#376295",cursor:l?"not-allowed":"pointer"},children:l?"Salvando...":t!=null&&t.id?"Atualizar":"Cadastrar"})]})]})},E4=({status:t})=>{const e={"Produzindo no Laboratrio":{color:"bg-blue-100 text-blue-700",icon:Vr},"Preparando no Setor de Entregas":{color:"bg-yellow-100 text-yellow-700",icon:Vr},"A Caminho":{color:"bg-purple-100 text-purple-700",icon:Vr},Entregue:{color:"bg-green-100 text-green-700",icon:vo},"No Entregue":{color:"bg-red-100 text-red-700",icon:on},Cancelado:{color:"bg-gray-100 text-gray-700",icon:on},Pendente:{color:"bg-slate-100 text-slate-700",icon:on},Voltou:{color:"bg-orange-100 text-orange-700",icon:on}},{color:r,icon:o}=e[t]||e.Pendente;return n.jsxs(qn,{className:r,children:[n.jsx(o,{className:"w-3 h-3 mr-1"}),t]})};function S4(){const t=qt(),[e,r]=v.useState(!1),[o,i]=v.useState(null),[l,d]=v.useState(""),[u,h]=v.useState([]),[m,g]=v.useState(!0),[p,w]=v.useState(!1),[b,N]=v.useState(null),[j,_]=v.useState(null),[C,E]=v.useState([]),[S,T]=v.useState(!1),[q,A]=v.useState(""),[U,K]=v.useState("todas"),ue=async()=>{g(!0);try{const{data:F,error:D}=await Ne.from("clientes").select(`
          *,
          enderecos (*)
        `).order("nome",{ascending:!0});if(D)throw D;h(F||[]),F&&F.length>0&&!j&&L(F[0])}catch(F){console.error("Erro ao carregar clientes:",F),me.error("Erro ao carregar clientes")}finally{g(!1)}};v.useEffect(()=>{ue()},[]);const V=u.filter(F=>{var D,oe,pe;return F.nome.toLowerCase().includes(l.toLowerCase())||((D=F.telefone)==null?void 0:D.includes(l))||((oe=F.cpf)==null?void 0:oe.includes(l))||((pe=F.email)==null?void 0:pe.toLowerCase().includes(l.toLowerCase()))}),O=(F,D)=>{D==null||D.stopPropagation(),i(F),r(!0)},Y=()=>{r(!1),setTimeout(()=>{i(null)},100)},I=()=>{Y(),ue()},L=async F=>{_(F),A(""),K("todas"),await ce(F.id)},ce=async F=>{T(!0);try{const{data:D,error:oe}=await Ne.from("entregas").select(`
          *,
          cliente:clientes(id, nome, telefone),
          endereco:enderecos(id, logradouro, numero, bairro, cidade, complemento),
          motoboy:motoboys(id, nome)
        `).eq("cliente_id",F).order("data_entrega",{ascending:!1});if(oe)throw oe;const pe=(D||[]).map(se=>{const P=se.endereco_logradouro?{id:se.endereco_id,logradouro:se.endereco_logradouro,numero:se.endereco_numero,complemento:se.endereco_complemento,bairro:se.endereco_bairro,cidade:se.endereco_cidade}:se.endereco;return{...se,endereco:P}});E(pe)}catch(D){console.error("Erro ao carregar entregas:",D),me.error("Erro ao carregar histrico de entregas"),E([])}finally{T(!1)}},ae=async()=>{if(!b)return;const F=me.loading("Excluindo cliente...");try{const{data:D,error:oe}=await Ne.from("entregas").select("id").eq("cliente_id",b.id).limit(1);if(oe)throw oe;if(D&&D.length>0){me.error("No  possvel excluir cliente com entregas cadastradas",{id:F}),w(!1),N(null);return}await Ne.from("enderecos").delete().eq("cliente_id",b.id);const{error:pe}=await Ne.from("clientes").delete().eq("id",b.id);if(pe)throw pe;me.success("Cliente excludo com sucesso!",{id:F}),w(!1),N(null),(j==null?void 0:j.id)===b.id&&(_(null),E([])),ue()}catch(D){console.error("Erro ao excluir cliente:",D),me.error("Erro ao excluir cliente: "+D.message,{id:F})}},fe=(F,D)=>{D==null||D.stopPropagation(),N(F),w(!0)},z=C.filter(F=>{var D,oe;if(U!=="todas"&&F.status!==U)return!1;if(q){const pe=q.toLowerCase();return((D=F.requisicao)==null?void 0:D.toLowerCase().includes(pe))||((oe=F.observacoes)==null?void 0:oe.toLowerCase().includes(pe))}return!0}),he=C.length,de=C.filter(F=>F.status==="Produzindo no Laboratrio").length,R=C.filter(F=>F.status==="A Caminho").length,B=C.filter(F=>F.status==="Entregue").length;return n.jsxs("div",{className:"bg-gradient-to-br from-slate-50 to-slate-100 min-h-screen",children:[n.jsx("div",{className:"py-8 shadow-sm",style:{background:"linear-gradient(135deg, #457bba 0%, #890d5d 100%)"},children:n.jsx("div",{className:"max-w-7xl mx-auto px-6",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("button",{onClick:()=>t(-1),className:"p-2 rounded-lg bg-white/20 hover:bg-white/30 transition-colors",children:n.jsx(Ut,{className:"w-6 h-6 text-white"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-4xl font-bold text-white",children:"Clientes"}),n.jsx("p",{className:"text-base text-white opacity-90 mt-1",children:"Gerencie sua base de clientes"})]})]})})}),n.jsxs("div",{className:"max-w-7xl mx-auto p-4 md:p-8 space-y-6",children:[n.jsx(Yn,{open:e,onOpenChange:r,children:n.jsxs(En,{style:{maxWidth:"900px",maxHeight:"90vh",overflowY:"auto"},children:[n.jsxs(Sn,{children:[n.jsx(Cn,{style:{color:"#376295"},children:o?"Editar Cliente":"Novo Cliente"}),n.jsx(bu,{children:o?"Atualize as informaes do cliente e seus endereos.":"Preencha os dados do novo cliente e pelo menos um endereo."})]}),n.jsx(N4,{cliente:o,onSuccess:I,onCancel:Y})]},(o==null?void 0:o.id)||"new")}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[n.jsxs(_t,{className:"border-none shadow-lg",children:[n.jsxs(bs,{className:"space-y-3",children:[n.jsx(ws,{children:"Lista de Clientes"}),n.jsxs("div",{className:"relative",children:[n.jsx(Nn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400 w-4 h-4"}),n.jsx(pt,{placeholder:"Buscar cliente...",value:l,onChange:F=>d(F.target.value),className:"pl-10"})]}),n.jsxs(Mt,{className:"w-full",style:{background:"#376295",color:"white"},onClick:()=>{r(!0),i(null)},children:[n.jsx(xu,{className:"w-4 h-4 mr-2"}),"Novo Cliente"]})]}),n.jsx(kt,{className:"p-0",children:m?n.jsx("div",{className:"p-6 text-center text-slate-500",children:"Carregando clientes..."}):V.length===0?n.jsx("div",{className:"p-6 text-center text-slate-500",children:l?"Nenhum cliente encontrado":"Nenhum cliente cadastrado"}):n.jsx("div",{className:"divide-y divide-slate-100 max-h-[600px] overflow-y-auto",children:V.map(F=>n.jsx("div",{onClick:()=>L(F),className:`p-4 hover:bg-slate-50 transition-colors cursor-pointer ${(j==null?void 0:j.id)===F.id?"bg-blue-50 border-l-4 border-[#457bba]":""}`,children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-[#457bba] to-[#890d5d] flex items-center justify-center flex-shrink-0",children:n.jsx(Hr,{className:"w-5 h-5 text-white"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("h3",{className:"font-semibold text-slate-900 truncate",children:F.nome}),n.jsxs("div",{className:"flex items-center gap-1 text-sm text-slate-600 mt-1",children:[n.jsx(Ml,{className:"w-3 h-3"}),F.telefone]}),n.jsxs("div",{className:"flex gap-2 mt-2",children:[n.jsxs(Mt,{variant:"outline",size:"sm",onClick:D=>O(F,D),className:"h-7 text-xs",children:[n.jsx(yu,{className:"w-3 h-3 mr-1"}),"Editar"]}),n.jsxs(Mt,{variant:"outline",size:"sm",onClick:D=>fe(F,D),className:"h-7 text-xs text-red-600 hover:text-red-700",children:[n.jsx(Ri,{className:"w-3 h-3 mr-1"}),"Excluir"]})]})]})]})},F.id))})})]}),n.jsx("div",{className:"lg:col-span-2 space-y-6",children:j?n.jsxs(n.Fragment,{children:[n.jsx(_t,{className:"border-none shadow-lg overflow-hidden",children:n.jsx(bs,{className:"bg-gradient-to-r from-[#457bba] to-[#890d5d] text-white",children:n.jsxs(ws,{className:"text-2xl flex items-center gap-3",children:[n.jsx(Hr,{className:"w-8 h-8"}),n.jsxs("div",{children:[n.jsx("div",{children:j.nome}),n.jsx("div",{className:"text-sm font-normal opacity-90 mt-1",children:j.telefone})]})]})})}),n.jsx(_t,{className:"border-none shadow-lg",children:n.jsx(kt,{className:"pt-6",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[n.jsx(ji,{className:"w-5 h-5 text-[#f59e0b]"}),n.jsx("h3",{className:"font-semibold text-slate-900",children:"Endereos"})]}),j.enderecos&&j.enderecos.length>0?n.jsx("div",{className:"space-y-3",children:j.enderecos.map((F,D)=>n.jsxs("div",{className:"p-3 bg-slate-50 rounded-lg text-sm",children:[n.jsxs("div",{className:"font-medium text-slate-900",children:[F.logradouro,", ",F.numero]}),F.complemento&&n.jsx("div",{className:"text-slate-600",children:F.complemento}),n.jsxs("div",{className:"text-slate-600",children:[F.bairro&&`${F.bairro} - `,F.cidade]}),F.cep&&n.jsxs("div",{className:"text-slate-500",children:["CEP: ",F.cep]}),F.regiao&&n.jsx("div",{className:"mt-1",children:n.jsx(qn,{variant:"outline",className:"text-xs",children:F.regiao})}),F.is_principal&&n.jsx("div",{className:"mt-2",children:n.jsx("span",{className:"text-xs bg-green-100 text-green-700 px-2 py-1 rounded",children:"Endereo Principal"})})]},D))}):n.jsx("p",{className:"text-slate-500 text-sm",children:"Nenhum endereo cadastrado"}),n.jsxs("div",{className:"mt-4 space-y-2",children:[j.cpf&&n.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[n.jsx(Yw,{className:"w-4 h-4 text-slate-400"}),n.jsxs("span",{className:"text-slate-600",children:["CPF: ",j.cpf]})]}),j.email&&n.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[n.jsx(CA,{className:"w-4 h-4 text-slate-400"}),n.jsx("span",{className:"text-slate-600",children:j.email})]})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-lg text-slate-900 mb-4",children:"Estatsticas de Entregas"}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("button",{type:"button",onClick:()=>K("todas"),className:"bg-white rounded-xl shadow-sm p-5 cursor-pointer transition-all hover:shadow-md",style:{border:U==="todas"?"2px solid #376295":"2px solid transparent"},children:[n.jsxs("div",{className:"flex items-center justify-center gap-2 mb-3",children:[n.jsx("div",{className:"p-2 rounded-lg",style:{backgroundColor:"#E8F0F8"},children:n.jsx(yo,{className:"w-6 h-6",style:{color:"#376295"}})}),n.jsx("span",{className:"text-sm font-bold text-slate-700",children:"Total"})]}),n.jsx("div",{className:"text-4xl font-bold text-center",style:{color:"#376295"},children:he})]}),n.jsxs("button",{type:"button",onClick:()=>K("Produzindo no Laboratrio"),className:"bg-white rounded-xl shadow-sm p-5 cursor-pointer transition-all hover:shadow-md",style:{border:U==="Produzindo no Laboratrio"?"2px solid #890d5d":"2px solid transparent"},children:[n.jsxs("div",{className:"flex items-center justify-center gap-2 mb-3",children:[n.jsx("div",{className:"p-2 rounded-lg",style:{backgroundColor:"#F5E8F5"},children:n.jsx(Vr,{className:"w-6 h-6",style:{color:"#890d5d"}})}),n.jsx("span",{className:"text-sm font-bold text-slate-700",children:"Produo"})]}),n.jsx("div",{className:"text-4xl font-bold text-center",style:{color:"#890d5d"},children:de})]}),n.jsxs("button",{type:"button",onClick:()=>K("A Caminho"),className:"bg-white rounded-xl shadow-sm p-5 cursor-pointer transition-all hover:shadow-md",style:{border:U==="A Caminho"?"2px solid #f97316":"2px solid transparent"},children:[n.jsxs("div",{className:"flex items-center justify-center gap-2 mb-3",children:[n.jsx("div",{className:"p-2 rounded-lg",style:{backgroundColor:"#FEF3E8"},children:n.jsx(ys,{className:"w-6 h-6",style:{color:"#f97316"}})}),n.jsx("span",{className:"text-sm font-bold text-slate-700",children:"A Caminho"})]}),n.jsx("div",{className:"text-4xl font-bold text-center",style:{color:"#f97316"},children:R})]}),n.jsxs("button",{type:"button",onClick:()=>K("Entregue"),className:"bg-white rounded-xl shadow-sm p-5 cursor-pointer transition-all hover:shadow-md",style:{border:U==="Entregue"?"2px solid #22c55e":"2px solid transparent"},children:[n.jsxs("div",{className:"flex items-center justify-center gap-2 mb-3",children:[n.jsx("div",{className:"p-2 rounded-lg",style:{backgroundColor:"#E8F5E8"},children:n.jsx(fa,{className:"w-6 h-6",style:{color:"#22c55e"}})}),n.jsx("span",{className:"text-sm font-bold text-slate-700",children:"Entregues"})]}),n.jsx("div",{className:"text-4xl font-bold text-center",style:{color:"#22c55e"},children:B})]})]})]})]})})}),n.jsxs(_t,{className:"border-none shadow-lg",children:[n.jsxs(bs,{children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs(ws,{className:"flex items-center gap-2",children:[n.jsx(jr,{className:"w-5 h-5 text-[#457bba]"}),"Histrico de Entregas"]}),n.jsxs("div",{className:"text-sm text-slate-500",children:[z.length," entregas"]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 mt-4",children:[n.jsxs("div",{className:"relative",children:[n.jsx(Nn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400 w-4 h-4"}),n.jsx(pt,{placeholder:"Buscar por requisio...",value:q,onChange:F=>A(F.target.value),className:"pl-10"})]}),n.jsxs("select",{value:U,onChange:F=>K(F.target.value),className:"h-10 w-full rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-[#457bba] focus:border-transparent",children:[n.jsx("option",{value:"todas",children:"Todos os Status"}),n.jsx("option",{value:"Produzindo no Laboratrio",children:"Produo"}),n.jsx("option",{value:"A Caminho",children:"A Caminho"}),n.jsx("option",{value:"Entregue",children:"Entregue"}),n.jsx("option",{value:"Pendente",children:"Pendente"}),n.jsx("option",{value:"No Entregue",children:"No Entregue"}),n.jsx("option",{value:"Voltou",children:"Voltou"}),n.jsx("option",{value:"Cancelado",children:"Cancelado"})]})]})]}),n.jsx(kt,{className:"p-0",children:S?n.jsx("div",{className:"p-6 text-center text-slate-500",children:"Carregando histrico..."}):z.length===0?n.jsxs("div",{className:"p-12 text-center",children:[n.jsx(Vr,{className:"w-12 h-12 text-slate-300 mx-auto mb-4"}),n.jsx("p",{className:"text-slate-500",children:q||U!=="todas"?"Nenhuma entrega encontrada com os filtros aplicados":"Nenhuma entrega encontrada para este cliente"})]}):n.jsx("div",{className:"divide-y divide-slate-100 max-h-[500px] overflow-y-auto",children:z.map(F=>{var D;return n.jsx("button",{type:"button",onClick:()=>t(`/detalhes-romaneio?id=${F.id}`),className:"w-full p-4 hover:bg-slate-50 transition-colors cursor-pointer text-left",children:n.jsx("div",{className:"flex justify-between items-start gap-4",children:n.jsxs("div",{className:"flex-1 space-y-2",children:[n.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[n.jsxs("span",{className:"font-bold text-slate-900",children:["#",F.requisicao]}),n.jsx(E4,{status:F.status})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm text-slate-600",children:[((D=F.motoboy)==null?void 0:D.nome)&&n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Motoboy:"})," ",F.motoboy.nome]}),F.regiao&&n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(ji,{className:"w-3 h-3"}),F.regiao]}),F.data_entrega&&n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(wo,{className:"w-3 h-3"}),new Date(F.data_entrega).toLocaleDateString("pt-BR")]}),F.valor&&n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(ba,{className:"w-3 h-3"}),"R$ ",F.valor.toFixed(2)]})]})]})})},F.id)})})})]})]}):n.jsx(_t,{className:"border-none shadow-lg",children:n.jsxs(kt,{className:"p-12 text-center",children:[n.jsx(Hr,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),n.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-2",children:"Selecione um Cliente"}),n.jsx("p",{className:"text-slate-600",children:"Escolha um cliente da lista para visualizar sua ficha completa e histrico de entregas"})]})})})]})]}),n.jsx(w4,{open:p,onOpenChange:w,children:n.jsxs(Vj,{children:[n.jsxs(Hj,{children:[n.jsx(Gj,{children:"Tem certeza?"}),n.jsxs(Qj,{children:["Esta ao no pode ser desfeita. O cliente ",n.jsx("strong",{children:b==null?void 0:b.nome})," e todos os seus endereos sero excludos permanentemente."]})]}),n.jsxs(Kj,{children:[n.jsx(Yj,{onClick:()=>N(null),children:"Cancelar"}),n.jsx(Jj,{onClick:ae,style:{background:"#ef4444"},children:"Excluir"})]})]})})]})}function zt(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function Zn(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}function ou(t,e){const r=zt(t);return isNaN(e)?Zn(t,NaN):(e&&r.setDate(r.getDate()+e),r)}function Tp(t,e){const r=zt(t);if(isNaN(e))return Zn(t,NaN);if(!e)return r;const o=r.getDate(),i=Zn(t,r.getTime());i.setMonth(r.getMonth()+e+1,0);const l=i.getDate();return o>=l?i:(r.setFullYear(i.getFullYear(),i.getMonth(),o),r)}const Xj=6048e5,C4=864e5,Zj=6e4,e_=36e5;let k4={};function Xl(){return k4}function xa(t,e){var u,h,m,g;const r=Xl(),o=(e==null?void 0:e.weekStartsOn)??((h=(u=e==null?void 0:e.locale)==null?void 0:u.options)==null?void 0:h.weekStartsOn)??r.weekStartsOn??((g=(m=r.locale)==null?void 0:m.options)==null?void 0:g.weekStartsOn)??0,i=zt(t),l=i.getDay(),d=(l<o?7:0)+l-o;return i.setDate(i.getDate()-d),i.setHours(0,0,0,0),i}function au(t){return xa(t,{weekStartsOn:1})}function t_(t){const e=zt(t),r=e.getFullYear(),o=Zn(t,0);o.setFullYear(r+1,0,4),o.setHours(0,0,0,0);const i=au(o),l=Zn(t,0);l.setFullYear(r,0,4),l.setHours(0,0,0,0);const d=au(l);return e.getTime()>=i.getTime()?r+1:e.getTime()>=d.getTime()?r:r-1}function iu(t){const e=zt(t);return e.setHours(0,0,0,0),e}function sy(t){const e=zt(t),r=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return r.setUTCFullYear(e.getFullYear()),+t-+r}function R4(t,e){const r=iu(t),o=iu(e),i=+r-sy(r),l=+o-sy(o);return Math.round((i-l)/C4)}function A4(t){const e=t_(t),r=Zn(t,0);return r.setFullYear(e,0,4),r.setHours(0,0,0,0),au(r)}function r_(t,e){const r=e*7;return ou(t,r)}function Wr(t,e){const r=iu(t),o=iu(e);return+r==+o}function P4(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function T4(t){if(!P4(t)&&typeof t!="number")return!1;const e=zt(t);return!isNaN(Number(e))}function n_(t){const e=zt(t),r=e.getMonth();return e.setFullYear(e.getFullYear(),r+1,0),e.setHours(23,59,59,999),e}function s_(t,e){const r=zt(t.start),o=zt(t.end);let i=+r>+o;const l=i?+r:+o,d=i?o:r;d.setHours(0,0,0,0);let u=1;const h=[];for(;+d<=l;)h.push(zt(d)),d.setDate(d.getDate()+u),d.setHours(0,0,0,0);return i?h.reverse():h}function Lm(t){const e=zt(t);return e.setDate(1),e.setHours(0,0,0,0),e}function O4(t){const e=zt(t),r=Zn(t,0);return r.setFullYear(e.getFullYear(),0,1),r.setHours(0,0,0,0),r}function oy(t,e){var u,h,m,g;const r=Xl(),o=(e==null?void 0:e.weekStartsOn)??((h=(u=e==null?void 0:e.locale)==null?void 0:u.options)==null?void 0:h.weekStartsOn)??r.weekStartsOn??((g=(m=r.locale)==null?void 0:m.options)==null?void 0:g.weekStartsOn)??0,i=zt(t),l=i.getDay(),d=(l<o?-7:0)+6-(l-o);return i.setDate(i.getDate()+d),i.setHours(23,59,59,999),i}const I4={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},M4=(t,e,r)=>{let o;const i=I4[t];return typeof i=="string"?o=i:e===1?o=i.one:o=i.other.replace("{{count}}",e.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+o:o+" ago":o};function ai(t){return(e={})=>{const r=e.width?String(e.width):t.defaultWidth;return t.formats[r]||t.formats[t.defaultWidth]}}const D4={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},L4={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},$4={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},B4={date:ai({formats:D4,defaultWidth:"full"}),time:ai({formats:L4,defaultWidth:"full"}),dateTime:ai({formats:$4,defaultWidth:"full"})},F4={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},z4=(t,e,r,o)=>F4[t];function Kn(t){return(e,r)=>{const o=r!=null&&r.context?String(r.context):"standalone";let i;if(o==="formatting"&&t.formattingValues){const d=t.defaultFormattingWidth||t.defaultWidth,u=r!=null&&r.width?String(r.width):d;i=t.formattingValues[u]||t.formattingValues[d]}else{const d=t.defaultWidth,u=r!=null&&r.width?String(r.width):t.defaultWidth;i=t.values[u]||t.values[d]}const l=t.argumentCallback?t.argumentCallback(e):e;return i[l]}}const U4={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},q4={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},W4={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},V4={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},H4={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},K4={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},G4=(t,e)=>{const r=Number(t),o=r%100;if(o>20||o<10)switch(o%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},Q4={ordinalNumber:G4,era:Kn({values:U4,defaultWidth:"wide"}),quarter:Kn({values:q4,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Kn({values:W4,defaultWidth:"wide"}),day:Kn({values:V4,defaultWidth:"wide"}),dayPeriod:Kn({values:H4,defaultWidth:"wide",formattingValues:K4,defaultFormattingWidth:"wide"})};function Gn(t){return(e,r={})=>{const o=r.width,i=o&&t.matchPatterns[o]||t.matchPatterns[t.defaultMatchWidth],l=e.match(i);if(!l)return null;const d=l[0],u=o&&t.parsePatterns[o]||t.parsePatterns[t.defaultParseWidth],h=Array.isArray(u)?Y4(u,p=>p.test(d)):J4(u,p=>p.test(d));let m;m=t.valueCallback?t.valueCallback(h):h,m=r.valueCallback?r.valueCallback(m):m;const g=e.slice(d.length);return{value:m,rest:g}}}function J4(t,e){for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&e(t[r]))return r}function Y4(t,e){for(let r=0;r<t.length;r++)if(e(t[r]))return r}function o_(t){return(e,r={})=>{const o=e.match(t.matchPattern);if(!o)return null;const i=o[0],l=e.match(t.parsePattern);if(!l)return null;let d=t.valueCallback?t.valueCallback(l[0]):l[0];d=r.valueCallback?r.valueCallback(d):d;const u=e.slice(i.length);return{value:d,rest:u}}}const X4=/^(\d+)(th|st|nd|rd)?/i,Z4=/\d+/i,eI={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},tI={any:[/^b/i,/^(a|c)/i]},rI={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},nI={any:[/1/i,/2/i,/3/i,/4/i]},sI={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},oI={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},aI={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},iI={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},lI={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},cI={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},dI={ordinalNumber:o_({matchPattern:X4,parsePattern:Z4,valueCallback:t=>parseInt(t,10)}),era:Gn({matchPatterns:eI,defaultMatchWidth:"wide",parsePatterns:tI,defaultParseWidth:"any"}),quarter:Gn({matchPatterns:rI,defaultMatchWidth:"wide",parsePatterns:nI,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Gn({matchPatterns:sI,defaultMatchWidth:"wide",parsePatterns:oI,defaultParseWidth:"any"}),day:Gn({matchPatterns:aI,defaultMatchWidth:"wide",parsePatterns:iI,defaultParseWidth:"any"}),dayPeriod:Gn({matchPatterns:lI,defaultMatchWidth:"any",parsePatterns:cI,defaultParseWidth:"any"})},uI={code:"en-US",formatDistance:M4,formatLong:B4,formatRelative:z4,localize:Q4,match:dI,options:{weekStartsOn:0,firstWeekContainsDate:1}};function hI(t){const e=zt(t);return R4(e,O4(e))+1}function fI(t){const e=zt(t),r=+au(e)-+A4(e);return Math.round(r/Xj)+1}function a_(t,e){var g,p,w,b;const r=zt(t),o=r.getFullYear(),i=Xl(),l=(e==null?void 0:e.firstWeekContainsDate)??((p=(g=e==null?void 0:e.locale)==null?void 0:g.options)==null?void 0:p.firstWeekContainsDate)??i.firstWeekContainsDate??((b=(w=i.locale)==null?void 0:w.options)==null?void 0:b.firstWeekContainsDate)??1,d=Zn(t,0);d.setFullYear(o+1,0,l),d.setHours(0,0,0,0);const u=xa(d,e),h=Zn(t,0);h.setFullYear(o,0,l),h.setHours(0,0,0,0);const m=xa(h,e);return r.getTime()>=u.getTime()?o+1:r.getTime()>=m.getTime()?o:o-1}function mI(t,e){var u,h,m,g;const r=Xl(),o=(e==null?void 0:e.firstWeekContainsDate)??((h=(u=e==null?void 0:e.locale)==null?void 0:u.options)==null?void 0:h.firstWeekContainsDate)??r.firstWeekContainsDate??((g=(m=r.locale)==null?void 0:m.options)==null?void 0:g.firstWeekContainsDate)??1,i=a_(t,e),l=Zn(t,0);return l.setFullYear(i,0,o),l.setHours(0,0,0,0),xa(l,e)}function pI(t,e){const r=zt(t),o=+xa(r,e)-+mI(r,e);return Math.round(o/Xj)+1}function lt(t,e){const r=t<0?"-":"",o=Math.abs(t).toString().padStart(e,"0");return r+o}const eo={y(t,e){const r=t.getFullYear(),o=r>0?r:1-r;return lt(e==="yy"?o%100:o,e.length)},M(t,e){const r=t.getMonth();return e==="M"?String(r+1):lt(r+1,2)},d(t,e){return lt(t.getDate(),e.length)},a(t,e){const r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(t,e){return lt(t.getHours()%12||12,e.length)},H(t,e){return lt(t.getHours(),e.length)},m(t,e){return lt(t.getMinutes(),e.length)},s(t,e){return lt(t.getSeconds(),e.length)},S(t,e){const r=e.length,o=t.getMilliseconds(),i=Math.trunc(o*Math.pow(10,r-3));return lt(i,e.length)}},Ya={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},ay={G:function(t,e,r){const o=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return r.era(o,{width:"abbreviated"});case"GGGGG":return r.era(o,{width:"narrow"});case"GGGG":default:return r.era(o,{width:"wide"})}},y:function(t,e,r){if(e==="yo"){const o=t.getFullYear(),i=o>0?o:1-o;return r.ordinalNumber(i,{unit:"year"})}return eo.y(t,e)},Y:function(t,e,r,o){const i=a_(t,o),l=i>0?i:1-i;if(e==="YY"){const d=l%100;return lt(d,2)}return e==="Yo"?r.ordinalNumber(l,{unit:"year"}):lt(l,e.length)},R:function(t,e){const r=t_(t);return lt(r,e.length)},u:function(t,e){const r=t.getFullYear();return lt(r,e.length)},Q:function(t,e,r){const o=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(o);case"QQ":return lt(o,2);case"Qo":return r.ordinalNumber(o,{unit:"quarter"});case"QQQ":return r.quarter(o,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(o,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(o,{width:"wide",context:"formatting"})}},q:function(t,e,r){const o=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(o);case"qq":return lt(o,2);case"qo":return r.ordinalNumber(o,{unit:"quarter"});case"qqq":return r.quarter(o,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(o,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(o,{width:"wide",context:"standalone"})}},M:function(t,e,r){const o=t.getMonth();switch(e){case"M":case"MM":return eo.M(t,e);case"Mo":return r.ordinalNumber(o+1,{unit:"month"});case"MMM":return r.month(o,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(o,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(o,{width:"wide",context:"formatting"})}},L:function(t,e,r){const o=t.getMonth();switch(e){case"L":return String(o+1);case"LL":return lt(o+1,2);case"Lo":return r.ordinalNumber(o+1,{unit:"month"});case"LLL":return r.month(o,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(o,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(o,{width:"wide",context:"standalone"})}},w:function(t,e,r,o){const i=pI(t,o);return e==="wo"?r.ordinalNumber(i,{unit:"week"}):lt(i,e.length)},I:function(t,e,r){const o=fI(t);return e==="Io"?r.ordinalNumber(o,{unit:"week"}):lt(o,e.length)},d:function(t,e,r){return e==="do"?r.ordinalNumber(t.getDate(),{unit:"date"}):eo.d(t,e)},D:function(t,e,r){const o=hI(t);return e==="Do"?r.ordinalNumber(o,{unit:"dayOfYear"}):lt(o,e.length)},E:function(t,e,r){const o=t.getDay();switch(e){case"E":case"EE":case"EEE":return r.day(o,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(o,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(o,{width:"short",context:"formatting"});case"EEEE":default:return r.day(o,{width:"wide",context:"formatting"})}},e:function(t,e,r,o){const i=t.getDay(),l=(i-o.weekStartsOn+8)%7||7;switch(e){case"e":return String(l);case"ee":return lt(l,2);case"eo":return r.ordinalNumber(l,{unit:"day"});case"eee":return r.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(i,{width:"short",context:"formatting"});case"eeee":default:return r.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,r,o){const i=t.getDay(),l=(i-o.weekStartsOn+8)%7||7;switch(e){case"c":return String(l);case"cc":return lt(l,e.length);case"co":return r.ordinalNumber(l,{unit:"day"});case"ccc":return r.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(i,{width:"narrow",context:"standalone"});case"cccccc":return r.day(i,{width:"short",context:"standalone"});case"cccc":default:return r.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,r){const o=t.getDay(),i=o===0?7:o;switch(e){case"i":return String(i);case"ii":return lt(i,e.length);case"io":return r.ordinalNumber(i,{unit:"day"});case"iii":return r.day(o,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(o,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(o,{width:"short",context:"formatting"});case"iiii":default:return r.day(o,{width:"wide",context:"formatting"})}},a:function(t,e,r){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,r){const o=t.getHours();let i;switch(o===12?i=Ya.noon:o===0?i=Ya.midnight:i=o/12>=1?"pm":"am",e){case"b":case"bb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,r){const o=t.getHours();let i;switch(o>=17?i=Ya.evening:o>=12?i=Ya.afternoon:o>=4?i=Ya.morning:i=Ya.night,e){case"B":case"BB":case"BBB":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,r){if(e==="ho"){let o=t.getHours()%12;return o===0&&(o=12),r.ordinalNumber(o,{unit:"hour"})}return eo.h(t,e)},H:function(t,e,r){return e==="Ho"?r.ordinalNumber(t.getHours(),{unit:"hour"}):eo.H(t,e)},K:function(t,e,r){const o=t.getHours()%12;return e==="Ko"?r.ordinalNumber(o,{unit:"hour"}):lt(o,e.length)},k:function(t,e,r){let o=t.getHours();return o===0&&(o=24),e==="ko"?r.ordinalNumber(o,{unit:"hour"}):lt(o,e.length)},m:function(t,e,r){return e==="mo"?r.ordinalNumber(t.getMinutes(),{unit:"minute"}):eo.m(t,e)},s:function(t,e,r){return e==="so"?r.ordinalNumber(t.getSeconds(),{unit:"second"}):eo.s(t,e)},S:function(t,e){return eo.S(t,e)},X:function(t,e,r){const o=t.getTimezoneOffset();if(o===0)return"Z";switch(e){case"X":return ly(o);case"XXXX":case"XX":return Ko(o);case"XXXXX":case"XXX":default:return Ko(o,":")}},x:function(t,e,r){const o=t.getTimezoneOffset();switch(e){case"x":return ly(o);case"xxxx":case"xx":return Ko(o);case"xxxxx":case"xxx":default:return Ko(o,":")}},O:function(t,e,r){const o=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+iy(o,":");case"OOOO":default:return"GMT"+Ko(o,":")}},z:function(t,e,r){const o=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+iy(o,":");case"zzzz":default:return"GMT"+Ko(o,":")}},t:function(t,e,r){const o=Math.trunc(t.getTime()/1e3);return lt(o,e.length)},T:function(t,e,r){const o=t.getTime();return lt(o,e.length)}};function iy(t,e=""){const r=t>0?"-":"+",o=Math.abs(t),i=Math.trunc(o/60),l=o%60;return l===0?r+String(i):r+String(i)+e+lt(l,2)}function ly(t,e){return t%60===0?(t>0?"-":"+")+lt(Math.abs(t)/60,2):Ko(t,e)}function Ko(t,e=""){const r=t>0?"-":"+",o=Math.abs(t),i=lt(Math.trunc(o/60),2),l=lt(o%60,2);return r+i+e+l}const cy=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},i_=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},gI=(t,e)=>{const r=t.match(/(P+)(p+)?/)||[],o=r[1],i=r[2];if(!i)return cy(t,e);let l;switch(o){case"P":l=e.dateTime({width:"short"});break;case"PP":l=e.dateTime({width:"medium"});break;case"PPP":l=e.dateTime({width:"long"});break;case"PPPP":default:l=e.dateTime({width:"full"});break}return l.replace("{{date}}",cy(o,e)).replace("{{time}}",i_(i,e))},xI={p:i_,P:gI},vI=/^D+$/,yI=/^Y+$/,bI=["D","DD","YY","YYYY"];function wI(t){return vI.test(t)}function jI(t){return yI.test(t)}function _I(t,e,r){const o=NI(t,e,r);if(console.warn(o),bI.includes(t))throw new RangeError(o)}function NI(t,e,r){const o=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${o} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const EI=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,SI=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,CI=/^'([^]*?)'?$/,kI=/''/g,RI=/[a-zA-Z]/;function Je(t,e,r){var g,p,w,b,N,j,_,C;const o=Xl(),i=(r==null?void 0:r.locale)??o.locale??uI,l=(r==null?void 0:r.firstWeekContainsDate)??((p=(g=r==null?void 0:r.locale)==null?void 0:g.options)==null?void 0:p.firstWeekContainsDate)??o.firstWeekContainsDate??((b=(w=o.locale)==null?void 0:w.options)==null?void 0:b.firstWeekContainsDate)??1,d=(r==null?void 0:r.weekStartsOn)??((j=(N=r==null?void 0:r.locale)==null?void 0:N.options)==null?void 0:j.weekStartsOn)??o.weekStartsOn??((C=(_=o.locale)==null?void 0:_.options)==null?void 0:C.weekStartsOn)??0,u=zt(t);if(!T4(u))throw new RangeError("Invalid time value");let h=e.match(SI).map(E=>{const S=E[0];if(S==="p"||S==="P"){const T=xI[S];return T(E,i.formatLong)}return E}).join("").match(EI).map(E=>{if(E==="''")return{isToken:!1,value:"'"};const S=E[0];if(S==="'")return{isToken:!1,value:AI(E)};if(ay[S])return{isToken:!0,value:E};if(S.match(RI))throw new RangeError("Format string contains an unescaped latin alphabet character `"+S+"`");return{isToken:!1,value:E}});i.localize.preprocessor&&(h=i.localize.preprocessor(u,h));const m={firstWeekContainsDate:l,weekStartsOn:d,locale:i};return h.map(E=>{if(!E.isToken)return E.value;const S=E.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&jI(S)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&wI(S))&&_I(S,e,String(t));const T=ay[S[0]];return T(u,S,i.localize,m)}).join("")}function AI(t){const e=t.match(CI);return e?e[1].replace(kI,"'"):t}function PI(t){return zt(t).getDay()}function kd(t,e){return ou(t,-e)}function tr(t,e){const o=MI(t);let i;if(o.date){const h=DI(o.date,2);i=LI(h.restDateString,h.year)}if(!i||isNaN(i.getTime()))return new Date(NaN);const l=i.getTime();let d=0,u;if(o.time&&(d=$I(o.time),isNaN(d)))return new Date(NaN);if(o.timezone){if(u=BI(o.timezone),isNaN(u))return new Date(NaN)}else{const h=new Date(l+d),m=new Date(0);return m.setFullYear(h.getUTCFullYear(),h.getUTCMonth(),h.getUTCDate()),m.setHours(h.getUTCHours(),h.getUTCMinutes(),h.getUTCSeconds(),h.getUTCMilliseconds()),m}return new Date(l+d+u)}const Rd={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},TI=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,OI=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,II=/^([+-])(\d{2})(?::?(\d{2}))?$/;function MI(t){const e={},r=t.split(Rd.dateTimeDelimiter);let o;if(r.length>2)return e;if(/:/.test(r[0])?o=r[0]:(e.date=r[0],o=r[1],Rd.timeZoneDelimiter.test(e.date)&&(e.date=t.split(Rd.timeZoneDelimiter)[0],o=t.substr(e.date.length,t.length))),o){const i=Rd.timezone.exec(o);i?(e.time=o.replace(i[1],""),e.timezone=i[1]):e.time=o}return e}function DI(t,e){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),o=t.match(r);if(!o)return{year:NaN,restDateString:""};const i=o[1]?parseInt(o[1]):null,l=o[2]?parseInt(o[2]):null;return{year:l===null?i:l*100,restDateString:t.slice((o[1]||o[2]).length)}}function LI(t,e){if(e===null)return new Date(NaN);const r=t.match(TI);if(!r)return new Date(NaN);const o=!!r[4],i=wl(r[1]),l=wl(r[2])-1,d=wl(r[3]),u=wl(r[4]),h=wl(r[5])-1;if(o)return WI(e,u,h)?FI(e,u,h):new Date(NaN);{const m=new Date(0);return!UI(e,l,d)||!qI(e,i)?new Date(NaN):(m.setUTCFullYear(e,l,Math.max(i,d)),m)}}function wl(t){return t?parseInt(t):1}function $I(t){const e=t.match(OI);if(!e)return NaN;const r=zf(e[1]),o=zf(e[2]),i=zf(e[3]);return VI(r,o,i)?r*e_+o*Zj+i*1e3:NaN}function zf(t){return t&&parseFloat(t.replace(",","."))||0}function BI(t){if(t==="Z")return 0;const e=t.match(II);if(!e)return 0;const r=e[1]==="+"?-1:1,o=parseInt(e[2]),i=e[3]&&parseInt(e[3])||0;return HI(o,i)?r*(o*e_+i*Zj):NaN}function FI(t,e,r){const o=new Date(0);o.setUTCFullYear(t,0,4);const i=o.getUTCDay()||7,l=(e-1)*7+r+1-i;return o.setUTCDate(o.getUTCDate()+l),o}const zI=[31,null,31,30,31,30,31,31,30,31,30,31];function l_(t){return t%400===0||t%4===0&&t%100!==0}function UI(t,e,r){return e>=0&&e<=11&&r>=1&&r<=(zI[e]||(l_(t)?29:28))}function qI(t,e){return e>=1&&e<=(l_(t)?366:365)}function WI(t,e,r){return e>=1&&e<=53&&r>=0&&r<=6}function VI(t,e,r){return t===24?e===0&&r===0:r>=0&&r<60&&e>=0&&e<60&&t>=0&&t<25}function HI(t,e){return e>=0&&e<=59}function c_(t,e){return Tp(t,-1)}function KI(t,e){return r_(t,-1)}const GI={lessThanXSeconds:{one:"menos de um segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"meio minuto",lessThanXMinutes:{one:"menos de um minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"cerca de 1 hora",other:"cerca de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 dia",other:"{{count}} dias"},aboutXWeeks:{one:"cerca de 1 semana",other:"cerca de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"cerca de 1 ms",other:"cerca de {{count}} meses"},xMonths:{one:"1 ms",other:"{{count}} meses"},aboutXYears:{one:"cerca de 1 ano",other:"cerca de {{count}} anos"},xYears:{one:"1 ano",other:"{{count}} anos"},overXYears:{one:"mais de 1 ano",other:"mais de {{count}} anos"},almostXYears:{one:"quase 1 ano",other:"quase {{count}} anos"}},QI=(t,e,r)=>{let o;const i=GI[t];return typeof i=="string"?o=i:e===1?o=i.one:o=i.other.replace("{{count}}",String(e)),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"em "+o:"h "+o:o},JI={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/yyyy"},YI={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},XI={full:"{{date}} 's' {{time}}",long:"{{date}} 's' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},ZI={date:ai({formats:JI,defaultWidth:"full"}),time:ai({formats:YI,defaultWidth:"full"}),dateTime:ai({formats:XI,defaultWidth:"full"})},eM={lastWeek:t=>{const e=t.getDay();return"'"+(e===0||e===6?"ltimo":"ltima")+"' eeee 's' p"},yesterday:"'ontem s' p",today:"'hoje s' p",tomorrow:"'amanh s' p",nextWeek:"eeee 's' p",other:"P"},tM=(t,e,r,o)=>{const i=eM[t];return typeof i=="function"?i(e):i},rM={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","depois de cristo"]},nM={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1 trimestre","2 trimestre","3 trimestre","4 trimestre"]},sM={narrow:["j","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"],wide:["janeiro","fevereiro","maro","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"]},oM={narrow:["D","S","T","Q","Q","S","S"],short:["dom","seg","ter","qua","qui","sex","sab"],abbreviated:["domingo","segunda","tera","quarta","quinta","sexta","sbado"],wide:["domingo","segunda-feira","tera-feira","quarta-feira","quinta-feira","sexta-feira","sbado"]},aM={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"}},iM={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"}},lM=(t,e)=>{const r=Number(t);return(e==null?void 0:e.unit)==="week"?r+"":r+""},cM={ordinalNumber:lM,era:Kn({values:rM,defaultWidth:"wide"}),quarter:Kn({values:nM,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Kn({values:sM,defaultWidth:"wide"}),day:Kn({values:oM,defaultWidth:"wide"}),dayPeriod:Kn({values:aM,defaultWidth:"wide",formattingValues:iM,defaultFormattingWidth:"wide"})},dM=/^(\d+)[o]?/i,uM=/\d+/i,hM={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|d\.?\s?c\.?)/i,wide:/^(antes de cristo|depois de cristo)/i},fM={any:[/^ac/i,/^dc/i],wide:[/^antes de cristo/i,/^depois de cristo/i]},mM={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234]()? trimestre/i},pM={any:[/1/i,/2/i,/3/i,/4/i]},gM={narrow:/^[jfmajsond]/i,abbreviated:/^(jan|fev|mar|abr|mai|jun|jul|ago|set|out|nov|dez)/i,wide:/^(janeiro|fevereiro|maro|abril|maio|junho|julho|agosto|setembro|outubro|novembro|dezembro)/i},xM={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^fev/i,/^mar/i,/^abr/i,/^mai/i,/^jun/i,/^jul/i,/^ago/i,/^set/i,/^out/i,/^nov/i,/^dez/i]},vM={narrow:/^(dom|[23456]?|s[a]b)/i,short:/^(dom|[23456]?|s[a]b)/i,abbreviated:/^(dom|seg|ter|qua|qui|sex|s[a]b)/i,wide:/^(domingo|(segunda|ter[c]a|quarta|quinta|sexta)([- ]feira)?|s[a]bado)/i},yM={short:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[a]/i],narrow:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[a]/i],any:[/^d/i,/^seg/i,/^t/i,/^qua/i,/^qui/i,/^sex/i,/^s[a]b/i]},bM={narrow:/^(a|p|mn|md|(da) (manh|tarde|noite))/i,any:/^([ap]\.?\s?m\.?|meia[-\s]noite|meio[-\s]dia|(da) (manh|tarde|noite))/i},wM={any:{am:/^a/i,pm:/^p/i,midnight:/^mn|^meia[-\s]noite/i,noon:/^md|^meio[-\s]dia/i,morning:/manh/i,afternoon:/tarde/i,evening:/tarde/i,night:/noite/i}},jM={ordinalNumber:o_({matchPattern:dM,parsePattern:uM,valueCallback:t=>parseInt(t,10)}),era:Gn({matchPatterns:hM,defaultMatchWidth:"wide",parsePatterns:fM,defaultParseWidth:"any"}),quarter:Gn({matchPatterns:mM,defaultMatchWidth:"wide",parsePatterns:pM,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Gn({matchPatterns:gM,defaultMatchWidth:"wide",parsePatterns:xM,defaultParseWidth:"any"}),day:Gn({matchPatterns:vM,defaultMatchWidth:"wide",parsePatterns:yM,defaultParseWidth:"any"}),dayPeriod:Gn({matchPatterns:bM,defaultMatchWidth:"any",parsePatterns:wM,defaultParseWidth:"any"})},_n={code:"pt-BR",formatDistance:QI,formatLong:ZI,formatRelative:tM,localize:cM,match:jM,options:{weekStartsOn:0,firstWeekContainsDate:1}};var Al=function(){return Al=Object.assign||function(e){for(var r,o=1,i=arguments.length;o<i;o++){r=arguments[o];for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&(e[l]=r[l])}return e},Al.apply(this,arguments)};var _M=v.createContext(void 0);function NM(){var t=v.useContext(_M);if(!t)throw new Error("useDayPicker must be used within a DayPickerProvider.");return t}v.createContext(void 0);v.forwardRef(function(t,e){var r=NM(),o=r.classNames,i=r.styles,l=[o.button_reset,o.button];t.className&&l.push(t.className);var d=l.join(" "),u=Al(Al({},i.button_reset),i.button);return t.style&&Object.assign(u,t.style),n.jsx("button",Al({},t,{ref:e,type:"button",className:d,style:u}))});v.createContext(void 0);v.createContext(void 0);var es;(function(t){t.Outside="outside",t.Disabled="disabled",t.Selected="selected",t.Hidden="hidden",t.Today="today",t.RangeStart="range_start",t.RangeEnd="range_end",t.RangeMiddle="range_middle"})(es||(es={}));es.Selected;es.Disabled;es.Hidden;es.Today;es.RangeEnd;es.RangeMiddle;es.RangeStart;es.Outside;v.createContext(void 0);v.createContext(void 0);v.createContext(void 0);function EM(){const t=qt(),[e,r]=v.useState("dia"),[o,i]=v.useState(new Date),[l,d]=v.useState(new Date),[u,h]=v.useState(!1),[m,g]=v.useState(""),[p,w]=v.useState("todos"),[b,N]=v.useState({tipo:"SEDEX",cliente:"",remetente:"",numero_requisicao:"",codigo_rastreio:"",valor:"",forma_pagamento:"Aguardando",observacoes:"",data_saida:Je(new Date,"yyyy-MM-dd")}),{data:j}=_r({queryKey:["current-user"],queryFn:async()=>{const{data:{user:O}}=await Ne.auth.getUser();if(!O)return null;const{data:Y}=await Ne.from("usuarios").select("id, nome, email").eq("id",O.id).single();return Y}}),_=O=>{const Y=O.getFullYear(),I=O.getMonth(),L=new Date(Y,I,1),ae=new Date(Y,I+1,0).getDate(),fe=L.getDay(),z=[];for(let he=0;he<fe;he++)z.push({day:"",isCurrentMonth:!1});for(let he=1;he<=ae;he++){const de=new Date(Y,I,he);z.push({day:he,isCurrentMonth:!0,isSelected:he===o.getDate()&&I===o.getMonth()&&Y===o.getFullYear(),date:de})}return z},{data:C=[],isLoading:E,refetch:S}=_r({queryKey:["sedex-disktenha",e,o],queryFn:async()=>{let O=Ne.from("sedex_disktenha").select("*").order("data_saida",{ascending:!1});if(e==="dia"){const L=Je(o,"yyyy-MM-dd");O=O.eq("data_saida",L)}const{data:Y,error:I}=await O;if(I)throw I;return Y||[]}}),T=C.length,q=C.filter(O=>O.tipo==="SEDEX").length,A=C.filter(O=>O.tipo==="PAC").length,U=C.filter(O=>O.tipo==="DISKTENHA").length,K=C.filter(O=>O.tipo==="DISKTENHA").reduce((O,Y)=>O+(parseFloat(Y.valor)||0),0),ue=C.filter(O=>{var L,ce,ae,fe;const Y=((L=O.cliente)==null?void 0:L.toLowerCase().includes(m.toLowerCase()))||((ce=O.codigo_rastreio)==null?void 0:ce.toLowerCase().includes(m.toLowerCase()))||((ae=O.remetente)==null?void 0:ae.toLowerCase().includes(m.toLowerCase()))||((fe=O.numero_requisicao)==null?void 0:fe.toLowerCase().includes(m.toLowerCase())),I=p==="todos"||O.tipo===p;return Y&&I}),V=async()=>{if(!b.cliente||!b.numero_requisicao){me.error("Preencha os campos obrigatrios");return}try{const{error:O}=await Ne.from("sedex_disktenha").insert([{...b,valor:parseFloat(b.valor)||0,status:"Pendente",atendente:(j==null?void 0:j.nome)||"",created_at:new Date().toISOString()}]);if(O)throw O;me.success("Entrega criada com sucesso!"),h(!1),N({tipo:"SEDEX",cliente:"",remetente:"",numero_requisicao:"",codigo_rastreio:"",valor:"",forma_pagamento:"Aguardando",observacoes:"",data_saida:Je(new Date,"yyyy-MM-dd")}),S()}catch(O){console.error("Erro ao criar entrega:",O),me.error("Erro ao criar entrega")}};return n.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100",children:[n.jsx("div",{className:"py-8 shadow-sm",style:{background:"linear-gradient(135deg, #457bba 0%, #890d5d 100%)"},children:n.jsx("div",{className:"max-w-7xl mx-auto px-6",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("button",{onClick:()=>t(-1),className:"p-2 rounded-lg bg-white/20 hover:bg-white/30 transition-colors",children:n.jsx(Ut,{className:"w-6 h-6 text-white"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-4xl font-bold text-white",children:"Sedex / Disktenha"}),n.jsx("p",{className:"text-base text-white opacity-90 mt-1",children:"Gerencie entregas via Sedex, PAC e Disktenha"})]})]})})}),n.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-6 flex flex-col lg:flex-row gap-6",children:[n.jsx("div",{className:"w-full lg:w-80 flex-shrink-0",children:n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6 sticky top-6",children:[n.jsxs(Mt,{onClick:()=>h(!0),className:"w-full mb-4 py-6 text-base font-bold uppercase",style:{background:"#890d5d"},children:[n.jsx(xu,{className:"w-5 h-5 mr-2 font-bold",strokeWidth:4}),"NOVA ENTREGA"]}),n.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[n.jsxs("button",{onClick:()=>r("dia"),className:"flex-1 flex items-center justify-center gap-2 px-4 py-2 rounded-lg font-semibold text-sm transition-all",style:{backgroundColor:e==="dia"?"#376295":"white",color:e==="dia"?"white":"#64748b",border:e==="dia"?"none":"1px solid #e2e8f0"},children:[n.jsx(wo,{className:"w-4 h-4"}),"Por Dia"]}),n.jsxs("button",{onClick:()=>{r("todas"),w("todos")},className:"flex-1 flex items-center justify-center gap-2 px-4 py-2 rounded-lg font-semibold text-sm transition-all",style:{backgroundColor:e==="todas"?"#376295":"white",color:e==="todas"?"white":"#64748b",border:e==="todas"?"none":"1px solid #e2e8f0"},children:[n.jsx(yo,{className:"w-4 h-4"}),"Todos"]})]}),n.jsxs("div",{className:"border rounded-xl p-3 mb-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsx("button",{onClick:()=>{const O=new Date(l);O.setMonth(O.getMonth()-1),d(O)},className:"p-2 hover:bg-slate-100 rounded-lg transition-colors",children:n.jsx(Ut,{className:"w-5 h-5 text-slate-600"})}),n.jsx("span",{className:"text-sm font-semibold text-slate-700",children:l.toLocaleDateString("pt-BR",{month:"long",year:"numeric"}).replace(/^\w/,O=>O.toUpperCase())}),n.jsx("button",{onClick:()=>{const O=new Date(l);O.setMonth(O.getMonth()+1),d(O)},className:"p-2 hover:bg-slate-100 rounded-lg transition-colors",children:n.jsx(Jl,{className:"w-5 h-5 text-slate-600"})})]}),n.jsxs("div",{className:"grid grid-cols-7 gap-1",children:[["dom","seg","ter","qua","qui","sex","sb"].map(O=>n.jsx("div",{className:"text-center text-xs font-semibold text-slate-500 py-2",children:O},O)),_(l).map((O,Y)=>{var ce;if(!O.isCurrentMonth)return n.jsx("div",{className:"aspect-square"},Y);const I=O.isSelected,L=((ce=O.date)==null?void 0:ce.toDateString())===new Date().toDateString();return n.jsx("button",{onClick:()=>{i(O.date),r("dia")},className:"aspect-square rounded-lg text-sm font-medium transition-all flex items-center justify-center hover:bg-blue-50",style:{backgroundColor:I?"#376295":"transparent",color:I?"white":L?"#376295":"#1e293b",fontWeight:L||I?"bold":"normal"},children:O.day},Y)})]})]}),n.jsxs("div",{className:"text-center pt-4 border-t border-slate-200",children:[n.jsx("div",{className:"text-base font-semibold text-slate-700",children:o.toLocaleDateString("pt-BR",{day:"numeric",month:"long"})}),n.jsxs("div",{className:"text-sm text-slate-500",children:[T," entregas"]})]})]})}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4 mb-6",children:[n.jsx(_t,{className:"cursor-pointer transition-all hover:shadow-md bg-white rounded-xl shadow-sm",style:{border:p==="todos"?"2px solid #376295":"2px solid transparent"},onClick:()=>w("todos"),children:n.jsxs(kt,{className:"p-5",children:[n.jsxs("div",{className:"flex items-center justify-center gap-2 mb-3",children:[n.jsx("div",{className:"p-2 rounded-lg",style:{backgroundColor:"#E8F0F8"},children:n.jsx(yo,{className:"w-6 h-6",style:{color:"#376295"}})}),n.jsx("span",{className:"text-sm font-bold text-slate-700",children:"Total"})]}),n.jsx("div",{className:"text-4xl font-bold text-center",style:{color:"#376295"},children:T})]})}),n.jsx(_t,{className:"cursor-pointer transition-all hover:shadow-md bg-white rounded-xl shadow-sm",style:{border:p==="SEDEX"?"2px solid #890d5d":"2px solid transparent"},onClick:()=>w(p==="SEDEX"?"todos":"SEDEX"),children:n.jsxs(kt,{className:"p-5",children:[n.jsxs("div",{className:"flex items-center justify-center gap-2 mb-3",children:[n.jsx("div",{className:"p-2 rounded-lg",style:{backgroundColor:"#F5E8F5"},children:n.jsx(Pv,{className:"w-6 h-6",style:{color:"#890d5d"}})}),n.jsx("span",{className:"text-sm font-bold text-slate-700",children:"Sedex"})]}),n.jsx("div",{className:"text-4xl font-bold text-center",style:{color:"#890d5d"},children:q})]})}),n.jsx(_t,{className:"cursor-pointer transition-all hover:shadow-md bg-white rounded-xl shadow-sm",style:{border:p==="PAC"?"2px solid #f97316":"2px solid transparent"},onClick:()=>w(p==="PAC"?"todos":"PAC"),children:n.jsxs(kt,{className:"p-5",children:[n.jsxs("div",{className:"flex items-center justify-center gap-2 mb-3",children:[n.jsx("div",{className:"p-2 rounded-lg",style:{backgroundColor:"#FEF3E8"},children:n.jsx(Vr,{className:"w-6 h-6",style:{color:"#f97316"}})}),n.jsx("span",{className:"text-sm font-bold text-slate-700",children:"PAC"})]}),n.jsx("div",{className:"text-4xl font-bold text-center",style:{color:"#f97316"},children:A})]})}),n.jsx(_t,{className:"cursor-pointer transition-all hover:shadow-md bg-white rounded-xl shadow-sm",style:{border:p==="DISKTENHA"?"2px solid #22c55e":"2px solid transparent"},onClick:()=>w(p==="DISKTENHA"?"todos":"DISKTENHA"),children:n.jsxs(kt,{className:"p-5",children:[n.jsxs("div",{className:"flex items-center justify-center gap-2 mb-3",children:[n.jsx("div",{className:"p-2 rounded-lg",style:{backgroundColor:"#E8F5E8"},children:n.jsx(ys,{className:"w-6 h-6",style:{color:"#22c55e"}})}),n.jsx("span",{className:"text-sm font-bold text-slate-700",children:"Disktenha"})]}),n.jsx("div",{className:"text-4xl font-bold text-center",style:{color:"#22c55e"},children:U})]})}),n.jsx(_t,{className:"cursor-pointer transition-all hover:shadow-md rounded-xl shadow-sm",style:{backgroundColor:"#E8F5E8",border:"3px solid #22c55e"},children:n.jsxs(kt,{className:"p-5",children:[n.jsxs("div",{className:"flex items-center justify-center gap-2 mb-3",children:[n.jsx("div",{className:"p-2 rounded-lg",style:{backgroundColor:"#d1f0d1"},children:n.jsx(ba,{className:"w-6 h-6",style:{color:"#22c55e"}})}),n.jsx("span",{className:"text-sm font-bold text-slate-700",children:"Total Disktenha"})]}),n.jsxs("div",{className:"text-3xl font-bold text-center",style:{color:"#22c55e"},children:["R$ ",K.toFixed(2)]})]})})]}),n.jsx(_t,{children:n.jsx(kt,{className:"p-4",children:n.jsxs("div",{className:"relative",children:[n.jsx(Nn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400 w-4 h-4"}),n.jsx(pt,{placeholder:"Buscar por cliente, cdigo, remetente...",value:m,onChange:O=>g(O.target.value),className:"pl-10"})]})})}),n.jsx(_t,{children:n.jsxs(kt,{className:"p-6",children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:e==="dia"?`Entregas de ${Je(o,"dd 'de' MMMM",{locale:_n})}`:"Todas as Entregas"}),E?n.jsx("div",{className:"text-center py-8 text-slate-500",children:"Carregando..."}):ue.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx(Vr,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),n.jsx("p",{className:"text-slate-500",children:"Nenhuma entrega encontrada"})]}):n.jsx("div",{children:ue.map(O=>n.jsx("div",{onClick:()=>t(`/sedex-detalhes?id=${O.id}`),className:"p-5 mb-4 bg-white rounded-lg border border-slate-200 hover:border-slate-300 transition-all cursor-pointer hover:shadow-md last:mb-0",children:n.jsxs("div",{className:"flex items-center justify-between gap-6",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[n.jsxs("span",{className:"text-base font-semibold",style:{color:"#376295"},children:["#",O.numero_requisicao||"-"]}),O.atendente&&n.jsxs(n.Fragment,{children:[n.jsx("span",{className:"text-slate-400",children:""}),n.jsxs("span",{className:"text-sm font-medium text-slate-600 flex items-center gap-1.5",children:[n.jsx(Hr,{className:"w-3.5 h-3.5"}),O.atendente]})]}),n.jsx("span",{className:"text-slate-400",children:""}),n.jsx("span",{className:"px-3 py-1 rounded text-xs font-medium",style:{backgroundColor:O.tipo==="SEDEX"?"#F5E8F5":O.tipo==="PAC"?"#FEF3E8":"#E8F5E8",color:O.tipo==="SEDEX"?"#890d5d":O.tipo==="PAC"?"#f97316":"#22c55e"},children:O.tipo}),n.jsx("span",{className:"px-3 py-1 rounded text-xs font-medium",style:{backgroundColor:O.status==="Entregue"?"#E8F5E8":O.status==="Saiu"?"#FEF3E8":"#F5E8F5",color:O.status==="Entregue"?"#22c55e":O.status==="Saiu"?"#f97316":"#890d5d"},children:O.status})]}),n.jsx("h3",{className:"text-lg font-bold text-slate-900 mb-2",children:O.cliente}),n.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-slate-600",children:[O.codigo_rastreio&&n.jsxs("div",{className:"flex items-center gap-1.5",children:[n.jsx(Vr,{className:"w-4 h-4",style:{color:"#1e293b"}}),n.jsx("span",{children:O.codigo_rastreio})]}),O.remetente&&n.jsxs("div",{className:"flex items-center gap-1.5",children:[n.jsx(Pv,{className:"w-4 h-4",style:{color:"#1e293b"}}),n.jsx("span",{children:O.remetente})]})]}),O.observacoes&&n.jsx("p",{className:"text-sm text-slate-500 mt-2",children:O.observacoes})]}),n.jsxs("div",{className:"text-right",children:[O.tipo==="DISKTENHA"&&n.jsxs("div",{className:"mb-2",children:[n.jsx("p",{className:"text-xs text-slate-500",children:O.forma_pagamento}),n.jsxs("p",{className:"text-xl font-bold",style:{color:"#22c55e"},children:["R$ ",parseFloat(O.valor||0).toFixed(2)]})]}),n.jsx("p",{className:"text-sm text-slate-500",children:Je(tr(O.data_saida),"dd/MM/yyyy")})]})]})},O.id))})]})})]})]}),n.jsx(Yn,{open:u,onOpenChange:h,children:n.jsxs(En,{className:"max-w-2xl",children:[n.jsx(Sn,{children:n.jsx(Cn,{children:"Cadastrar Nova Entrega"})}),n.jsxs("div",{className:"space-y-4 py-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(nt,{children:"Data e Horrio *"}),n.jsx(pt,{type:"date",value:b.data_saida,onChange:O=>N({...b,data_saida:O.target.value})})]}),n.jsxs("div",{children:[n.jsx(nt,{children:"Tipo de Entrega *"}),n.jsxs("select",{className:"w-full h-10 rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm",value:b.tipo,onChange:O=>N({...b,tipo:O.target.value}),children:[n.jsx("option",{value:"SEDEX",children:"SEDEX"}),n.jsx("option",{value:"PAC",children:"PAC"}),n.jsx("option",{value:"DISKTENHA",children:"DISKTENHA"})]})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(nt,{children:"Cliente *"}),n.jsx(pt,{placeholder:"Nome do cliente",value:b.cliente,onChange:O=>N({...b,cliente:O.target.value})})]}),n.jsxs("div",{children:[n.jsx(nt,{children:"Destinatrio"}),n.jsx(pt,{placeholder:"Nome do destinatrio",value:b.remetente,onChange:O=>N({...b,remetente:O.target.value})})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(nt,{children:"Nmero da Requisio *"}),n.jsx(pt,{placeholder:"Ex: 123456",value:b.numero_requisicao,onChange:O=>N({...b,numero_requisicao:O.target.value})})]}),n.jsxs("div",{children:[n.jsx(nt,{children:"Cdigo de Rastreio"}),n.jsx(pt,{placeholder:"Ex: BR123456789BR",value:b.codigo_rastreio,onChange:O=>N({...b,codigo_rastreio:O.target.value})})]})]}),n.jsxs("div",{children:[n.jsx(nt,{children:"Observaes"}),n.jsx(wu,{placeholder:"Informaes adicionais sobre a entrega",value:b.observacoes,onChange:O=>N({...b,observacoes:O.target.value}),rows:3})]}),n.jsxs("div",{className:b.tipo==="DISKTENHA"?"grid grid-cols-2 gap-4":"",children:[b.tipo==="DISKTENHA"&&n.jsxs("div",{children:[n.jsx(nt,{children:"Valor da Entrega"}),n.jsx(pt,{type:"number",step:"0.01",placeholder:"0.00",value:b.valor,onChange:O=>N({...b,valor:O.target.value})})]}),n.jsxs("div",{children:[n.jsx(nt,{children:"Status do Pagamento"}),n.jsxs("select",{className:"w-full h-10 rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm",value:b.forma_pagamento,onChange:O=>N({...b,forma_pagamento:O.target.value}),children:[n.jsx("option",{value:"Aguardando",children:"Aguardando"}),n.jsx("option",{value:"Pago",children:"Pago"})]})]})]})]}),n.jsxs("div",{className:"flex justify-end gap-2",children:[n.jsx(Mt,{variant:"outline",onClick:()=>h(!1),children:"Cancelar"}),n.jsx(Mt,{onClick:V,style:{background:"linear-gradient(to right, #457bba, #890d5d)"},className:"text-white",children:"Cadastrar"})]})]})})]})}function SM({className:t,...e}){return n.jsx("div",{className:Ye("animate-pulse rounded-md bg-primary/10",t),...e})}function CM(){const t=qt(),e=an(),o=new URLSearchParams(window.location.search).get("id"),[i,l]=v.useState(!1),[d,u]=v.useState(null),{data:h,isLoading:m,error:g}=_r({queryKey:["sedex-detalhe",o],queryFn:async()=>{if(!o)throw new Error("ID da entrega no fornecido");const{data:E,error:S}=await Ne.from("sedex_disktenha").select("*").eq("id",o).single();if(S)throw S;return E},enabled:!!o}),p=pr({mutationFn:async E=>{const{error:S}=await Ne.from("sedex_disktenha").update(E).eq("id",o);if(S)throw S},onSuccess:()=>{e.invalidateQueries({queryKey:["sedex-detalhe",o]}),e.invalidateQueries({queryKey:["sedex-disktenha"]}),me.success("Entrega atualizada com sucesso!"),l(!1)},onError:E=>{console.error("Erro ao atualizar:",E),me.error("Erro ao atualizar entrega")}}),w=pr({mutationFn:async()=>{const{error:E}=await Ne.from("sedex_disktenha").delete().eq("id",o);if(E)throw E},onSuccess:()=>{me.success("Entrega excluda com sucesso!"),t("/sedex")},onError:E=>{console.error("Erro ao excluir:",E),me.error("Erro ao excluir entrega")}}),b=()=>{u({tipo:h.tipo,cliente:h.cliente,remetente:h.remetente||"",numero_requisicao:h.numero_requisicao||"",codigo_rastreio:h.codigo_rastreio||"",valor:h.valor,forma_pagamento:h.forma_pagamento,observacoes:h.observacoes||"",data_saida:h.data_saida,status:h.status}),l(!0)},N=()=>{if(!d.cliente||!d.numero_requisicao){me.error("Preencha os campos obrigatrios");return}p.mutate({...d,valor:parseFloat(d.valor)||0})},j=()=>{confirm("Tem certeza que deseja excluir esta entrega?")&&w.mutate()};if(m)return n.jsx("div",{className:"p-8 bg-gradient-to-br from-slate-50 to-slate-100 min-h-screen",children:n.jsx("div",{className:"max-w-5xl mx-auto",children:n.jsx(SM,{className:"h-96 w-full"})})});if(g||!h)return n.jsx("div",{className:"p-8 bg-gradient-to-br from-slate-50 to-slate-100 min-h-screen",children:n.jsx(_t,{className:"max-w-2xl mx-auto",children:n.jsxs(kt,{className:"p-12 text-center",children:[n.jsx(jr,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),n.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-2",children:"Entrega No Encontrada"}),n.jsx("p",{className:"text-slate-500 mb-4",children:(g==null?void 0:g.message)||"A entrega no foi encontrada."}),n.jsxs(Mt,{onClick:()=>t(-1),children:[n.jsx(Ut,{className:"w-4 h-4 mr-2"}),"Voltar"]})]})})});const _={SEDEX:{bg:"#F5E8F5",text:"#890d5d"},PAC:{bg:"#FEF3E8",text:"#f97316"},DISKTENHA:{bg:"#E8F5E8",text:"#22c55e"}},C=_[h.tipo]||_.SEDEX;return h.forma_pagamento==="Pago"||h.forma_pagamento,n.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100",children:[n.jsx("div",{className:"py-8 shadow-sm mb-6",style:{background:"linear-gradient(135deg, #457bba 0%, #890d5d 100%)"},children:n.jsx("div",{className:"max-w-5xl mx-auto px-6",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("button",{onClick:()=>t(-1),className:"p-2 rounded-lg bg-white/20 hover:bg-white/30 transition-colors",children:n.jsx(Ut,{className:"w-6 h-6 text-white"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-4xl font-bold text-white",children:"Detalhes da Entrega"}),n.jsx("p",{className:"text-base text-white opacity-90 mt-1",children:"Visualizao completa da entrega"})]})]})})}),n.jsxs("div",{className:"max-w-5xl mx-auto px-6 pb-6 space-y-6",children:[n.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[n.jsxs("div",{children:[n.jsxs("h1",{className:"text-2xl font-bold text-slate-900",children:[h.tipo," #",h.numero_requisicao||h.codigo_rastreio]}),n.jsxs("p",{className:"text-sm text-slate-600 mt-1",children:["Criado em ",Je(tr(h.created_at),"dd/MM/yyyy 's' HH:mm",{locale:_n})]})]}),n.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[n.jsxs("button",{onClick:b,className:"flex items-center gap-2 px-4 py-2 rounded-lg font-semibold text-sm transition-all",style:{backgroundColor:"#376295",color:"white"},children:[n.jsx(yu,{size:16}),"Editar"]}),n.jsxs("button",{onClick:()=>window.print(),className:"flex items-center gap-2 px-4 py-2 rounded-lg font-semibold text-sm transition-all",style:{backgroundColor:"#890d5d",color:"white"},children:[n.jsx(vu,{size:16}),"Imprimir"]}),n.jsxs("button",{onClick:j,className:"flex items-center gap-2 px-4 py-2 rounded-lg font-semibold text-sm transition-all",style:{backgroundColor:"#ef4444",color:"white"},children:[n.jsx(Ri,{size:16}),"Excluir"]})]})]})}),n.jsx(_t,{children:n.jsxs(kt,{className:"p-6",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[n.jsx(jr,{className:"w-5 h-5",style:{color:"#376295"}}),n.jsx("h2",{className:"text-lg font-semibold",children:"Informaes da Entrega"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-slate-500 mb-1",children:"Nmero da Requisio"}),n.jsxs("p",{className:"text-xl font-bold",style:{color:"#376295"},children:["#",h.numero_requisicao||"-"]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-slate-500 mb-1",children:"Tipo"}),n.jsx("span",{className:"inline-block px-3 py-1 rounded-md font-medium text-sm",style:{background:C.bg,color:C.text},children:h.tipo})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-slate-500 mb-1",children:"Status"}),n.jsx("span",{className:"inline-block px-3 py-1 rounded-md font-medium text-sm",style:{backgroundColor:h.status==="Entregue"?"#E8F5E8":h.status==="Saiu"?"#FEF3E8":"#F5E8F5",color:h.status==="Entregue"?"#22c55e":h.status==="Saiu"?"#f97316":"#890d5d"},children:h.status})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-slate-500 mb-1",children:"Data de Postagem"}),n.jsx("p",{className:"font-semibold text-slate-900",children:Je(tr(h.data_saida),"dd/MM/yyyy")})]})]}),n.jsx("div",{className:"border-t pt-6",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-slate-500 mb-1",children:"Cliente"}),n.jsx("p",{className:"text-lg font-medium text-slate-900",children:h.cliente})]}),h.remetente&&n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-slate-500 mb-1",children:"Destinatrio"}),n.jsx("p",{className:"text-lg font-medium text-slate-900",children:h.remetente})]}),h.codigo_rastreio&&n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-slate-500 mb-1",children:"Cdigo de Rastreio"}),n.jsx("p",{className:"text-lg font-medium text-slate-900",children:h.codigo_rastreio})]}),h.atendente&&n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-slate-500 mb-1",children:"Atendente"}),n.jsxs("p",{className:"text-lg font-medium text-slate-900 flex items-center gap-2",children:[n.jsx(Hr,{className:"w-4 h-4",style:{color:"#376295"}}),h.atendente]})]})]})}),h.tipo==="DISKTENHA"&&n.jsx("div",{className:"border-t pt-6 mt-6",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(ba,{className:"w-5 h-5",style:{color:"#22c55e"}}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-slate-500 mb-1",children:"A Pagar"}),n.jsxs("p",{className:"text-2xl font-bold",style:{color:"#22c55e"},children:["R$ ",parseFloat(h.valor||0).toFixed(2)]})]})]})}),h.observacoes&&n.jsxs("div",{className:"border-t pt-6 mt-6",children:[n.jsx("p",{className:"text-sm text-slate-500 mb-2",children:"Observaes"}),n.jsx("div",{className:"p-3 bg-slate-50 rounded-lg",children:n.jsx("p",{className:"text-slate-700",children:h.observacoes})})]})]})})]}),n.jsx(Yn,{open:i,onOpenChange:l,children:n.jsxs(En,{className:"max-w-2xl",children:[n.jsx(Sn,{children:n.jsx(Cn,{children:"Editar Entrega"})}),d&&n.jsxs("div",{className:"space-y-4 py-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(nt,{children:"Tipo *"}),n.jsxs("select",{className:"w-full h-10 rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm",value:d.tipo,onChange:E=>u({...d,tipo:E.target.value}),children:[n.jsx("option",{value:"SEDEX",children:"SEDEX"}),n.jsx("option",{value:"PAC",children:"PAC"}),n.jsx("option",{value:"DISKTENHA",children:"DISKTENHA"})]})]}),n.jsxs("div",{children:[n.jsx(nt,{children:"Status *"}),n.jsxs("select",{className:"w-full h-10 rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm",value:d.status,onChange:E=>u({...d,status:E.target.value}),children:[n.jsx("option",{value:"Pendente",children:"Pendente"}),n.jsx("option",{value:"Saiu",children:"Saiu"}),n.jsx("option",{value:"Entregue",children:"Entregue"})]})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(nt,{children:"Cliente *"}),n.jsx(pt,{value:d.cliente,onChange:E=>u({...d,cliente:E.target.value})})]}),n.jsxs("div",{children:[n.jsx(nt,{children:"Destinatrio"}),n.jsx(pt,{value:d.remetente,onChange:E=>u({...d,remetente:E.target.value})})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(nt,{children:"Nmero da Requisio *"}),n.jsx(pt,{placeholder:"Ex: 123456",value:d.numero_requisicao,onChange:E=>u({...d,numero_requisicao:E.target.value})})]}),n.jsxs("div",{children:[n.jsx(nt,{children:"Cdigo de Rastreio"}),n.jsx(pt,{placeholder:"Ex: BR123456789BR",value:d.codigo_rastreio,onChange:E=>u({...d,codigo_rastreio:E.target.value})})]})]}),n.jsxs("div",{className:d.tipo==="DISKTENHA"?"grid grid-cols-2 gap-4":"",children:[d.tipo==="DISKTENHA"&&n.jsxs("div",{children:[n.jsx(nt,{children:"Valor"}),n.jsx(pt,{type:"number",step:"0.01",value:d.valor,onChange:E=>u({...d,valor:E.target.value})})]}),n.jsxs("div",{children:[n.jsx(nt,{children:"Status do Pagamento"}),n.jsxs("select",{className:"w-full h-10 rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm",value:d.forma_pagamento,onChange:E=>u({...d,forma_pagamento:E.target.value}),children:[n.jsx("option",{value:"Aguardando",children:"Aguardando"}),n.jsx("option",{value:"Pago",children:"Pago"})]})]})]}),n.jsxs("div",{children:[n.jsx(nt,{children:"Data de Sada"}),n.jsx(pt,{type:"date",value:d.data_saida,onChange:E=>u({...d,data_saida:E.target.value})})]}),n.jsxs("div",{children:[n.jsx(nt,{children:"Observaes"}),n.jsx(wu,{value:d.observacoes,onChange:E=>u({...d,observacoes:E.target.value}),rows:3})]}),n.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[n.jsx(Mt,{variant:"outline",onClick:()=>l(!1),children:"Cancelar"}),n.jsx(Mt,{onClick:N,disabled:p.isPending,style:{background:"#457bba"},className:"text-white",children:p.isPending?"Salvando...":"Salvar Alteraes"})]})]})]})})]})}function kM(){const t=qt(),e=new URLSearchParams(window.location.search),r=e.get("data"),[o,i]=v.useState(r||Je(new Date,"yyyy-MM-dd")),[l,d]=v.useState(e.get("status")||"todos"),[u,h]=v.useState(e.get("local")||"todos"),[m,g]=v.useState(e.get("motoboy")||"todos"),[p,w]=v.useState(e.get("periodo")||"todos"),[b,N]=v.useState(e.get("busca")||""),{data:j=[],isLoading:_,error:C}=_r({queryKey:["entregas-relatorio"],queryFn:async()=>{const{data:O,error:Y}=await Ne.from("entregas").select(`
          *,
          cliente:clientes(nome, telefone),
          endereco:enderecos(cidade, regiao),
          motoboy:motoboys(nome)
        `).order("data_entrega",{ascending:!0});if(Y)throw Y;return O||[]}});if(_)return n.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-br from-slate-50 to-slate-100",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"w-16 h-16 border-4 border-slate-300 rounded-full animate-spin mx-auto mb-4",style:{borderTopColor:"#376295"}}),n.jsx("p",{className:"text-slate-600 font-medium",children:"Carregando relatrio..."})]})});if(C)return n.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-br from-slate-50 to-slate-100",children:n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-red-600 font-semibold mb-2",children:"Erro ao carregar relatrio"}),n.jsx("p",{className:"text-slate-500 text-sm",children:C.message})]})});const E=j.filter(O=>{var I,L,ce,ae,fe,z,he;if(!O.data_entrega)return!1;const Y=tr(O.data_entrega);if(!Wr(Y,tr(o))||l!=="todos"&&O.status!==l||u!=="todos"&&((I=O.endereco)==null?void 0:I.regiao)!==u||m!=="todos"&&((L=O.motoboy)==null?void 0:L.nome)!==m||p!=="todos"&&O.periodo_entrega!==p)return!1;if(b){const de=b.toLowerCase();if(!(((ae=(ce=O.cliente)==null?void 0:ce.nome)==null?void 0:ae.toLowerCase().includes(de))||((fe=O.requisicao)==null?void 0:fe.toLowerCase().includes(de))||((he=(z=O.motoboy)==null?void 0:z.nome)==null?void 0:he.toLowerCase().includes(de))))return!1}return!0}),S=[...new Set(j.filter(O=>O.data_entrega&&Wr(tr(O.data_entrega),tr(o))).map(O=>{var Y;return(Y=O.endereco)==null?void 0:Y.regiao}))].filter(Boolean).sort(),T=[...new Set(j.filter(O=>O.data_entrega&&Wr(tr(O.data_entrega),tr(o))).map(O=>{var Y;return(Y=O.motoboy)==null?void 0:Y.nome}))].filter(Boolean).sort(),q=E.reduce((O,Y)=>{var L;const I=((L=Y.endereco)==null?void 0:L.regiao)||"Sem regio";return O[I]||(O[I]=[]),O[I].push(Y),O},{});Object.keys(q).forEach(O=>{q[O].sort((Y,I)=>Y.periodo_entrega!==I.periodo_entrega?Y.periodo_entrega==="Manh"?-1:1:0)});const A={Pendente:E.filter(O=>O.status==="Pendente"),"Produzindo no Laboratrio":E.filter(O=>O.status==="Produzindo no Laboratrio"),"Preparando no Setor de Entregas":E.filter(O=>O.status==="Preparando no Setor de Entregas"),"A Caminho":E.filter(O=>O.status==="A Caminho"),Entregue:E.filter(O=>O.status==="Entregue"),"No Entregue":E.filter(O=>O.status==="No Entregue"),Voltou:E.filter(O=>O.status==="Voltou"),Cancelado:E.filter(O=>O.status==="Cancelado")},U={Manh:E.filter(O=>O.periodo_entrega==="Manh"),Tarde:E.filter(O=>O.periodo_entrega==="Tarde")},K=E.reduce((O,Y)=>{var L;const I=((L=Y.motoboy)==null?void 0:L.nome)||"Sem motoboy";return O[I]||(O[I]=[]),O[I].push(Y),O},{}),ue=()=>{window.print()},V=({status:O})=>{const Y={Pendente:{bgColor:"#F5E8F5",textColor:"#890d5d",label:"Pendente"},"Produzindo no Laboratrio":{bgColor:"#F5E8F5",textColor:"#890d5d",label:"Produo"},"Preparando no Setor de Entregas":{bgColor:"#FEF3E8",textColor:"#f97316",label:"Preparando"},"A Caminho":{bgColor:"#FEF3E8",textColor:"#f97316",label:"A Caminho"},Entregue:{bgColor:"#E8F5E8",textColor:"#22c55e",label:"Entregue"},"No Entregue":{bgColor:"#fef2f2",textColor:"#ef4444",label:"No Entregue"},Voltou:{bgColor:"#FEF3E8",textColor:"#f97316",label:"Voltou"},Cancelado:{bgColor:"#f1f5f9",textColor:"#64748b",label:"Cancelado"}},I=Y[O]||Y.Pendente;return n.jsxs(qn,{className:"text-xs flex items-center gap-1",style:{backgroundColor:I.bgColor,color:I.textColor},children:[O==="Entregue"?n.jsx(fa,{className:"w-3 h-3"}):n.jsx(ys,{className:"w-3 h-3"})," ",I.label]})};return n.jsxs(n.Fragment,{children:[n.jsx("style",{children:`
        @media print {
          * {
            visibility: hidden !important;
          }
          .print-wrapper,
          .print-wrapper * {
            visibility: visible !important;
          }
          .print-wrapper {
            position: absolute !important;
            left: 0 !important;
            top: 0 !important;
            width: 100% !important;
          }
          .no-print {
            display: none !important;
          }
          body {
            background: white;
          }
        }
      `}),n.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100",children:[n.jsx("div",{className:"py-8 shadow-sm no-print",style:{background:"linear-gradient(135deg, #457bba 0%, #890d5d 100%)"},children:n.jsx("div",{className:"max-w-7xl mx-auto px-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("button",{onClick:()=>t(-1),className:"p-2 rounded-lg bg-white/20 hover:bg-white/30 transition-colors",children:n.jsx(Ut,{className:"w-6 h-6 text-white"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-4xl font-bold text-white",children:"Relatrio de Entregas"}),n.jsx("p",{className:"text-base text-white opacity-90 mt-1",children:"Visualizao completa das entregas do dia"})]})]}),n.jsxs("button",{onClick:ue,className:"px-4 py-2 bg-white/20 hover:bg-white/30 text-white rounded-lg transition-colors flex items-center gap-2 font-medium",children:[n.jsx(vu,{className:"w-4 h-4"}),"Imprimir (",E.length,")"]})]})})}),n.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-6 space-y-6",children:[n.jsxs(_t,{className:"border-none shadow-lg no-print",children:[n.jsx(bs,{children:n.jsx(ws,{children:"Filtros e Busca"})}),n.jsxs(kt,{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-slate-700 mb-2 block",children:"Dados"}),n.jsx(pt,{type:"date",value:o,onChange:O=>i(O.target.value),className:"max-w-xs"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-slate-700 mb-2 block",children:"Buscar"}),n.jsxs("div",{className:"relative",children:[n.jsx(Nn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400 w-4 h-4"}),n.jsx(pt,{placeholder:"Buscar por cliente, requisio ou motoboy...",value:b,onChange:O=>N(O.target.value),className:"pl-10"})]})]}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-slate-700 mb-2 block",children:"Status"}),n.jsxs(Xo,{value:l,onValueChange:d,children:[n.jsx(po,{children:n.jsx(Zo,{placeholder:"Todos"})}),n.jsxs(go,{children:[n.jsx(Ct,{value:"todos",children:"Todos"}),n.jsx(Ct,{value:"Pendente",children:"Pendente"}),n.jsx(Ct,{value:"Produzindo no Laboratrio",children:"Produo"}),n.jsx(Ct,{value:"Preparando no Setor de Entregas",children:"Preparando"}),n.jsx(Ct,{value:"A Caminho",children:"A Caminho"}),n.jsx(Ct,{value:"Entregue",children:"Entregue"}),n.jsx(Ct,{value:"No Entregue",children:"No Entregue"}),n.jsx(Ct,{value:"Voltou",children:"Voltou"}),n.jsx(Ct,{value:"Cancelado",children:"Cancelado"})]})]},`status-${l}`)]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-slate-700 mb-2 block",children:"Local"}),n.jsxs(Xo,{value:u,onValueChange:h,children:[n.jsx(po,{children:n.jsx(Zo,{placeholder:"Todos"})}),n.jsxs(go,{children:[n.jsx(Ct,{value:"todos",children:"Todos"}),S.map(O=>n.jsx(Ct,{value:O,children:O},O))]})]},`local-${u}`)]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-slate-700 mb-2 block",children:"Motoboy"}),n.jsxs(Xo,{value:m,onValueChange:g,children:[n.jsx(po,{children:n.jsx(Zo,{placeholder:"Todos"})}),n.jsxs(go,{children:[n.jsx(Ct,{value:"todos",children:"Todos"}),T.map(O=>n.jsx(Ct,{value:O,children:O},O))]})]},`motoboy-${m}`)]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-slate-700 mb-2 block",children:"Perodo"}),n.jsxs(Xo,{value:p,onValueChange:w,children:[n.jsx(po,{children:n.jsx(Zo,{placeholder:"Todos"})}),n.jsxs(go,{children:[n.jsx(Ct,{value:"todos",children:"Todos"}),n.jsx(Ct,{value:"Manh",children:"Manh"}),n.jsx(Ct,{value:"Tarde",children:"Tarde"})]})]},`periodo-${p}`)]})]})]})]}),n.jsxs("div",{className:"print-wrapper",children:[n.jsx("div",{className:"text-white p-6 rounded-lg mb-6",style:{background:"linear-gradient(135deg, #457bba 0%, #890d5d 100%)"},children:n.jsxs("h2",{className:"text-2xl font-bold",children:["Relatrio do Dia ",Je(tr(o),"dd/MM/yyyy")]})}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[n.jsx(_t,{className:"cursor-pointer hover:shadow-xl transition-all",style:{border:l==="todos"?"2px solid #376295":"2px solid transparent"},onClick:()=>d("todos"),children:n.jsxs(kt,{className:"p-6",children:[n.jsx("p",{className:"text-sm text-slate-600 mb-1",children:"Total"}),n.jsx("p",{className:"text-4xl font-bold",style:{color:"#376295"},children:E.length})]})}),n.jsx(_t,{className:"cursor-pointer hover:shadow-xl transition-all",style:{border:l==="Entregue"?"2px solid #22c55e":"2px solid transparent"},onClick:()=>d(l==="Entregue"?"todos":"Entregue"),children:n.jsxs(kt,{className:"p-6",children:[n.jsx("p",{className:"text-sm text-slate-600 mb-1",children:"Entregues"}),n.jsx("p",{className:"text-4xl font-bold",style:{color:"#22c55e"},children:A.Entregue.length})]})}),n.jsx(_t,{className:"cursor-pointer hover:shadow-xl transition-all",style:{border:l==="A Caminho"?"2px solid #f97316":"2px solid transparent"},onClick:()=>d(l==="A Caminho"?"todos":"A Caminho"),children:n.jsxs(kt,{className:"p-6",children:[n.jsx("p",{className:"text-sm text-slate-600 mb-1",children:"A Caminho"}),n.jsx("p",{className:"text-4xl font-bold",style:{color:"#f97316"},children:A["A Caminho"].length})]})}),n.jsx(_t,{className:"cursor-pointer hover:shadow-xl transition-all",style:{border:l==="Pendente"?"2px solid #890d5d":"2px solid transparent"},onClick:()=>d(l==="Pendente"?"todos":"Pendente"),children:n.jsxs(kt,{className:"p-6",children:[n.jsx("p",{className:"text-sm text-slate-600 mb-1",children:"Pendente"}),n.jsx("p",{className:"text-4xl font-bold",style:{color:"#890d5d"},children:A.Pendente.length})]})})]}),n.jsxs(_t,{className:"mb-6",children:[n.jsx(bs,{children:n.jsx(ws,{children:"Entregas por Local"})}),n.jsx(kt,{children:n.jsx("div",{className:"space-y-4",children:Object.entries(q).sort((O,Y)=>O[0].localeCompare(Y[0])).map(([O,Y])=>n.jsxs("div",{className:"border rounded-lg p-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3 pb-2 border-b",children:[n.jsx("h3",{className:"font-bold text-slate-900",children:O}),n.jsx(qn,{variant:"outline",children:Y.length})]}),Y.filter(I=>I.periodo_entrega==="Manh").length>0&&n.jsxs("div",{className:"mb-3",children:[n.jsxs("p",{className:"text-sm font-semibold text-slate-700 mb-2 flex items-center gap-1",children:[n.jsx(t1,{className:"w-4 h-4"})," Manh"]}),n.jsx("div",{className:"space-y-2 pl-4",children:Y.filter(I=>I.periodo_entrega==="Manh").map(I=>{var L;return n.jsxs(vs,{to:`/detalhes-romaneio?id=${I.id}`,className:"flex justify-between items-center text-sm py-2 hover:bg-slate-50 rounded px-2 transition-colors",children:[n.jsxs("span",{className:"text-slate-700",children:["# ",I.requisicao," - ",((L=I.cliente)==null?void 0:L.nome)||I.cliente_nome]}),n.jsxs("div",{className:"flex items-center gap-2",children:[I.valor&&n.jsxs(qn,{style:{backgroundColor:"#E8F0F8",color:"#376295"},children:["R$ ",I.valor.toFixed(2)]}),n.jsx(V,{status:I.status})]})]},I.id)})})]}),Y.filter(I=>I.periodo_entrega==="Tarde").length>0&&n.jsxs("div",{children:[n.jsxs("p",{className:"text-sm font-semibold text-slate-700 mb-2 flex items-center gap-1",children:[n.jsx(PA,{className:"w-4 h-4"})," Tarde"]}),n.jsx("div",{className:"space-y-2 pl-4",children:Y.filter(I=>I.periodo_entrega==="Tarde").map(I=>{var L;return n.jsxs(vs,{to:`/detalhes-romaneio?id=${I.id}`,className:"flex justify-between items-center text-sm py-2 hover:bg-slate-50 rounded px-2 transition-colors",children:[n.jsxs("span",{className:"text-slate-700",children:["# ",I.requisicao," - ",((L=I.cliente)==null?void 0:L.nome)||I.cliente_nome]}),n.jsxs("div",{className:"flex items-center gap-2",children:[I.valor&&n.jsxs(qn,{style:{backgroundColor:"#E8F0F8",color:"#376295"},children:["R$ ",I.valor.toFixed(2)]}),n.jsx(V,{status:I.status})]})]},I.id)})})]})]},O))})})]}),n.jsxs(_t,{className:"mb-6",children:[n.jsx(bs,{children:n.jsx(ws,{children:"Entregas por Status"})}),n.jsx(kt,{children:n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Object.entries(A).map(([O,Y])=>Y.length>0&&n.jsxs("div",{className:"border rounded-lg p-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsx("h3",{className:"font-semibold text-slate-900",children:O}),n.jsx(qn,{variant:"outline",children:Y.length})]}),n.jsx("div",{className:"space-y-2",children:Y.map(I=>{var L;return n.jsxs(vs,{to:`/detalhes-romaneio?id=${I.id}`,className:"block text-sm text-slate-700 hover:bg-slate-50 rounded px-2 py-1 transition-colors",style:{"--hover-color":"#376295"},onMouseEnter:ce=>ce.currentTarget.style.color="#376295",onMouseLeave:ce=>ce.currentTarget.style.color="",children:["# ",I.requisicao," - ",((L=I.cliente)==null?void 0:L.nome)||I.cliente_nome]},I.id)})})]},O))})})]}),n.jsxs(_t,{className:"mb-6",children:[n.jsx(bs,{children:n.jsx(ws,{children:"Entregas por Motoboy"})}),n.jsx(kt,{children:n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Object.entries(K).map(([O,Y])=>n.jsxs("div",{className:"border rounded-lg p-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsx("h3",{className:"font-semibold text-slate-900",children:O}),n.jsx(qn,{variant:"outline",children:Y.length})]}),n.jsx("div",{className:"space-y-2",children:Y.map(I=>{var L;return n.jsxs(vs,{to:`/detalhes-romaneio?id=${I.id}`,className:"flex justify-between items-center text-sm hover:bg-slate-50 rounded px-2 py-1 transition-colors",children:[n.jsxs("span",{className:"text-slate-700",onMouseEnter:ce=>ce.currentTarget.style.color="#376295",onMouseLeave:ce=>ce.currentTarget.style.color="",children:["# ",I.requisicao," - ",((L=I.cliente)==null?void 0:L.nome)||I.cliente_nome]}),n.jsx(V,{status:I.status})]},I.id)})})]},O))})})]}),n.jsxs(_t,{children:[n.jsx(bs,{children:n.jsx(ws,{children:"Entregas por Perodo"})}),n.jsx(kt,{children:n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Object.entries(U).map(([O,Y])=>n.jsxs("div",{className:"border rounded-lg p-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsx("h3",{className:"font-semibold text-slate-900",children:O}),n.jsx(qn,{variant:"outline",children:Y.length})]}),n.jsx("div",{className:"space-y-2",children:Y.map(I=>{var L;return n.jsxs(vs,{to:`/detalhes-romaneio?id=${I.id}`,className:"flex justify-between items-center text-sm hover:bg-slate-50 rounded px-2 py-1 transition-colors",children:[n.jsxs("span",{className:"text-slate-700",onMouseEnter:ce=>ce.currentTarget.style.color="#376295",onMouseLeave:ce=>ce.currentTarget.style.color="",children:["# ",I.requisicao," - ",((L=I.cliente)==null?void 0:L.nome)||I.cliente_nome]}),n.jsx(V,{status:I.status})]},I.id)})})]},O))})})]})]})]})]})]})}var Ru="Checkbox",[RM]=ki(Ru),[AM,Op]=RM(Ru);function PM(t){const{__scopeCheckbox:e,checked:r,children:o,defaultChecked:i,disabled:l,form:d,name:u,onCheckedChange:h,required:m,value:g="on",internal_do_not_use_render:p}=t,[w,b]=Xd({prop:r,defaultProp:i??!1,onChange:h,caller:Ru}),[N,j]=v.useState(null),[_,C]=v.useState(null),E=v.useRef(!1),S=N?!!d||!!N.closest("form"):!0,T={checked:w,disabled:l,setChecked:b,control:N,setControl:j,name:u,form:d,value:g,hasConsumerStoppedPropagationRef:E,required:m,defaultChecked:bo(i)?!1:i,isFormControl:S,bubbleInput:_,setBubbleInput:C};return n.jsx(AM,{scope:e,...T,children:TM(p)?p(T):o})}var d_="CheckboxTrigger",u_=v.forwardRef(({__scopeCheckbox:t,onKeyDown:e,onClick:r,...o},i)=>{const{control:l,value:d,disabled:u,checked:h,required:m,setControl:g,setChecked:p,hasConsumerStoppedPropagationRef:w,isFormControl:b,bubbleInput:N}=Op(d_,t),j=vt(i,g),_=v.useRef(h);return v.useEffect(()=>{const C=l==null?void 0:l.form;if(C){const E=()=>p(_.current);return C.addEventListener("reset",E),()=>C.removeEventListener("reset",E)}},[l,p]),n.jsx(ot.button,{type:"button",role:"checkbox","aria-checked":bo(h)?"mixed":h,"aria-required":m,"data-state":g_(h),"data-disabled":u?"":void 0,disabled:u,value:d,...o,ref:j,onKeyDown:dt(e,C=>{C.key==="Enter"&&C.preventDefault()}),onClick:dt(r,C=>{p(E=>bo(E)?!0:!E),N&&b&&(w.current=C.isPropagationStopped(),w.current||C.stopPropagation())})})});u_.displayName=d_;var Ip=v.forwardRef((t,e)=>{const{__scopeCheckbox:r,name:o,checked:i,defaultChecked:l,required:d,disabled:u,value:h,onCheckedChange:m,form:g,...p}=t;return n.jsx(PM,{__scopeCheckbox:r,checked:i,defaultChecked:l,disabled:u,required:d,onCheckedChange:m,name:o,form:g,value:h,internal_do_not_use_render:({isFormControl:w})=>n.jsxs(n.Fragment,{children:[n.jsx(u_,{...p,ref:e,__scopeCheckbox:r}),w&&n.jsx(p_,{__scopeCheckbox:r})]})})});Ip.displayName=Ru;var h_="CheckboxIndicator",f_=v.forwardRef((t,e)=>{const{__scopeCheckbox:r,forceMount:o,...i}=t,l=Op(h_,r);return n.jsx(Ql,{present:o||bo(l.checked)||l.checked===!0,children:n.jsx(ot.span,{"data-state":g_(l.checked),"data-disabled":l.disabled?"":void 0,...i,ref:e,style:{pointerEvents:"none",...t.style}})})});f_.displayName=h_;var m_="CheckboxBubbleInput",p_=v.forwardRef(({__scopeCheckbox:t,...e},r)=>{const{control:o,hasConsumerStoppedPropagationRef:i,checked:l,defaultChecked:d,required:u,disabled:h,name:m,value:g,form:p,bubbleInput:w,setBubbleInput:b}=Op(m_,t),N=vt(r,b),j=z1(l),_=A1(o);v.useEffect(()=>{const E=w;if(!E)return;const S=window.HTMLInputElement.prototype,q=Object.getOwnPropertyDescriptor(S,"checked").set,A=!i.current;if(j!==l&&q){const U=new Event("click",{bubbles:A});E.indeterminate=bo(l),q.call(E,bo(l)?!1:l),E.dispatchEvent(U)}},[w,j,l,i]);const C=v.useRef(bo(l)?!1:l);return n.jsx(ot.input,{type:"checkbox","aria-hidden":!0,defaultChecked:d??C.current,required:u,disabled:h,name:m,value:g,form:p,...e,tabIndex:-1,ref:N,style:{...e.style,..._,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});p_.displayName=m_;function TM(t){return typeof t=="function"}function bo(t){return t==="indeterminate"}function g_(t){return bo(t)?"indeterminate":t?"checked":"unchecked"}const OM=v.forwardRef(({className:t,...e},r)=>n.jsx(Ip,{ref:r,className:Ye("peer h-4 w-4 shrink-0 rounded-sm border border-primary shadow focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...e,children:n.jsx(f_,{className:Ye("flex items-center justify-center text-current"),children:n.jsx(fa,{className:"h-4 w-4"})})}));OM.displayName=Ip.displayName;function IM(){var se;const t=qt(),e=an(),[r,o]=v.useState(new Date),[i,l]=v.useState(new Date),[d,u]=v.useState(!1),[h,m]=v.useState(""),[g,p]=v.useState("todos"),[w,b]=v.useState(!1),[N,j]=v.useState(null),[_,C]=v.useState(""),[E,S]=v.useState(""),[T,q]=v.useState(null),[A,U]=v.useState(!1),{data:K=[],isLoading:ue,error:V,refetch:O}=_r({queryKey:["receitas"],queryFn:async()=>{const{data:P,error:Z}=await Ne.from("entregas").select(`
          *,
          cliente:clientes(nome, telefone, cpf),
          endereco:enderecos(cidade, regiao),
          motoboy:motoboys(nome)
        `).eq("buscar_receita",!0).order("data_entrega",{ascending:!1});if(Z)throw Z;return P||[]},refetchOnMount:"always",refetchOnWindowFocus:"always",refetchOnReconnect:"always",staleTime:0,gcTime:0,retry:1,retryDelay:1e3});if(v.useEffect(()=>{e.invalidateQueries({queryKey:["receitas"]})},[e]),v.useEffect(()=>{V&&me.error("Erro ao carregar receitas: "+V.message)},[V]),ue)return n.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-br from-slate-50 to-slate-100",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"w-16 h-16 border-4 border-slate-300 border-t-[#457bba] rounded-full animate-spin mx-auto mb-4"}),n.jsx("p",{className:"text-slate-600 font-medium",children:"Carregando receitas..."})]})});const Y=async()=>{if(!T||!_||!N){me.error("Por favor, preencha todos os campos obrigatrios");return}U(!0);try{const P=T.name.split(".").pop(),le=`anexos/${`${N.id}_${_}_${Date.now()}.${P}`}`,{error:ve,data:je}=await Ne.storage.from("entregas-anexos").upload(le,T);if(ve)throw ve;const{data:{publicUrl:Ee}}=Ne.storage.from("entregas-anexos").getPublicUrl(le),Ae={[`${_.toLowerCase()}_anexo`]:Ee,[`${_.toLowerCase()}_descricao`]:E||null},{error:Ve}=await Ne.from("entregas").update(Ae).eq("id",N.id);if(Ve)throw Ve;me.success("Anexo enviado com sucesso!"),e.invalidateQueries(["receitas"]),b(!1),C(""),S(""),q(null),j(null),_==="Receita"||_==="Pagamento"&&t("/pagamentos")}catch(P){console.error("Erro ao fazer upload:",P),me.error("Erro ao enviar anexo: "+P.message)}finally{U(!1)}},I=P=>{j(P),b(!0)},L=K.filter(P=>{var Z,le,ve,je,Ee,Ae,Ve,at,yt;if(!d&&i&&P.data_entrega){const ut=tr(P.data_entrega);if(!Wr(ut,i))return!1}if(g==="pendentes"&&P.receita_anexo||g==="recebidas"&&!P.receita_anexo)return!1;if(h){const ut=h.toLowerCase();if(!(((Z=P.requisicao)==null?void 0:Z.toLowerCase().includes(ut))||((ve=(le=P.cliente)==null?void 0:le.nome)==null?void 0:ve.toLowerCase().includes(ut))||((Ee=(je=P.cliente)==null?void 0:je.telefone)==null?void 0:Ee.toLowerCase().includes(ut))||((Ve=(Ae=P.cliente)==null?void 0:Ae.cpf)==null?void 0:Ve.toLowerCase().includes(ut))||((at=P.cliente_nome)==null?void 0:at.toLowerCase().includes(ut))||((yt=P.cliente_telefone)==null?void 0:yt.toLowerCase().includes(ut))))return!1}return!0}),ce=K.filter(P=>!P.receita_anexo).length,ae=K.filter(P=>P.receita_anexo).length,fe=K.reduce((P,Z)=>{if(Z.data_entrega)try{const le=tr(Z.data_entrega),ve=Je(le,"yyyy-MM-dd");P[ve]=(P[ve]||0)+1}catch{console.error("Erro ao processar data:",Z.data_entrega)}return P},{}),z=Lm(r),he=n_(r),de=s_({start:z,end:he}),R=z.getDay(),F=[...Array(R).fill(null),...de],D=P=>{l(P),d&&u(!1)},oe=()=>o(c_(r)),pe=()=>o(Tp(r,1));return n.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100",children:[n.jsx("div",{className:"py-8 shadow-sm",style:{background:"linear-gradient(135deg, #457bba 0%, #890d5d 100%)"},children:n.jsx("div",{className:"max-w-7xl mx-auto px-6",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("button",{onClick:()=>t(-1),className:"p-2 rounded-lg bg-white/20 hover:bg-white/30 transition-colors",children:n.jsx(Ut,{className:"w-6 h-6 text-white"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-4xl font-bold text-white",children:"Receitas"}),n.jsx("p",{className:"text-base text-white opacity-90 mt-1",children:"Gerenciamento de receitas retidas"})]})]})})}),n.jsx("div",{className:"max-w-7xl mx-auto px-6 py-6",children:n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[n.jsx("div",{className:"lg:col-span-1",children:n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6 sticky top-6",children:[n.jsx("h3",{className:"text-lg font-bold text-slate-900 mb-4",children:"Filtrar por dados"}),n.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[n.jsxs("button",{onClick:()=>{u(!1),i||l(new Date)},className:"flex-1 flex items-center justify-center gap-2 px-4 py-2 rounded-lg font-semibold text-sm transition-all",style:{backgroundColor:d?"white":"#376295",color:d?"#64748b":"white",border:d?"1px solid #e2e8f0":"none"},children:[n.jsx(wo,{className:"w-4 h-4"}),"Por Dia"]}),n.jsxs("button",{onClick:()=>{u(!0),l(null)},className:"flex-1 flex items-center justify-center gap-2 px-4 py-2 rounded-lg font-semibold text-sm transition-all",style:{backgroundColor:d?"#376295":"white",color:d?"white":"#64748b",border:d?"none":"1px solid #e2e8f0"},children:[n.jsx(yo,{className:"w-4 h-4"}),"Todos"]})]}),n.jsxs("div",{className:"border rounded-xl p-3 mb-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsx("button",{onClick:oe,className:"p-2 hover:bg-slate-100 rounded-lg transition-colors",children:n.jsx(Ut,{className:"h-4 w-4 text-slate-600"})}),n.jsx("div",{className:"text-sm font-semibold text-slate-700",children:Je(r,"MMMM 'de' yyyy",{locale:_n})}),n.jsx("button",{onClick:pe,className:"p-2 hover:bg-slate-100 rounded-lg transition-colors",children:n.jsx(Jl,{className:"h-4 w-4 text-slate-600"})})]}),n.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:["dom","seg","ter","qua","qui","sex","sb"].map(P=>n.jsx("div",{className:"text-center text-xs font-semibold text-slate-500 py-2",children:P},P))}),n.jsx("div",{className:"grid grid-cols-7 gap-1",children:F.map((P,Z)=>{if(!P)return n.jsx("div",{className:"aspect-square"},`vazio-${Z}`);const le=Je(P,"yyyy-MM-dd"),je=(fe[le]||0)>0,Ee=i&&Wr(P,i),Ae=Wr(P,new Date);return n.jsx("button",{onClick:()=>D(P),className:`
                          aspect-square rounded-lg text-sm flex flex-col items-center justify-center relative
                          transition-all hover:bg-blue-50
                        `,style:{backgroundColor:Ee?"#376295":!Ee&&Ae?"#e2e8f0":!Ee&&!Ae&&je?"#F5E8F5":"transparent",color:Ee?"white":Ee===!1&&Ae?"#376295":!Ee&&!Ae&&je?"#890d5d":"#1e293b",fontWeight:Ee||Ae||je?"bold":"normal",boxShadow:Ee?"0 4px 6px -1px rgba(0, 0, 0, 0.1)":"none"},children:n.jsx("span",{children:Je(P,"d")})},le)})})]},Je(r,"yyyy-MM")),n.jsxs("div",{className:"text-center pt-4 border-t border-slate-200",children:[i&&!d&&n.jsx("div",{className:"text-base font-semibold text-slate-700",children:Je(i,"dd 'de' MMMM",{locale:_n})}),n.jsxs("div",{className:"text-sm text-slate-500",children:[L.length," receita",L.length!==1?"s":""]})]})]},`filter-${d}-${(i==null?void 0:i.getTime())||"all"}`)}),n.jsxs("div",{className:"lg:col-span-3 space-y-6",children:[n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[n.jsx("h2",{className:"text-lg font-bold text-slate-900 mb-4",children:"Buscar"}),n.jsxs("div",{className:"relative",children:[n.jsx(Nn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),n.jsx("input",{type:"text",value:h,onChange:P=>m(P.target.value),placeholder:"Buscar por nmero, nome, telefone ou CPF...",className:"w-full pl-10 pr-4 py-3 border border-slate-300 rounded-lg focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-100 transition-all"})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{onClick:()=>p(g==="pendentes"?"todos":"pendentes"),className:"rounded-xl shadow-sm cursor-pointer transition-all hover:shadow-md text-center",style:{backgroundColor:"#E8F0F8",padding:"1.5rem",border:g==="pendentes"?"2px solid #376295":"2px solid transparent"},children:[n.jsx("p",{className:"text-5xl font-bold mb-2",style:{color:"#376295"},children:ce}),n.jsx("p",{className:"text-sm font-medium",style:{color:"#376295"},children:"Pendentes"})]}),n.jsxs("div",{onClick:()=>p(g==="recebidas"?"todos":"recebidas"),className:"rounded-xl shadow-sm cursor-pointer transition-all hover:shadow-md text-center",style:{backgroundColor:"#F5E8F5",padding:"1.5rem",border:g==="recebidas"?"2px solid #890d5d":"2px solid transparent"},children:[n.jsx("p",{className:"text-5xl font-bold mb-2",style:{color:"#890d5d"},children:ae}),n.jsx("p",{className:"text-sm font-medium",style:{color:"#890d5d"},children:"Recebidas"})]})]}),n.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:V?n.jsxs("div",{className:"text-center py-12",children:[n.jsx(Jw,{className:"w-16 h-16 text-red-400 mx-auto mb-4"}),n.jsx("p",{className:"text-red-600 font-semibold mb-2",children:"Erro ao carregar receitas"}),n.jsx("p",{className:"text-slate-500 text-sm mb-4",children:V.message}),n.jsxs(Mt,{onClick:()=>O(),variant:"outline",size:"sm",children:[n.jsx($A,{className:"w-4 h-4 mr-2"}),"Tentar Novamente"]})]}):ue?n.jsxs("div",{className:"text-center py-12",children:[n.jsx("div",{className:"inline-block w-8 h-8 border-4 border-slate-200 border-t-4 rounded-full animate-spin mb-4",style:{borderTopColor:"#376295"}}),n.jsx("p",{className:"text-slate-600",children:"Carregando receitas..."})]}):L.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx(jr,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:"Nenhuma receita encontrada"}),n.jsx("p",{className:"text-sm text-slate-600",children:h||g!=="todos"?"Tente ajustar os filtros de busca":"No h receitas cadastradas"})]}):n.jsx("div",{className:"space-y-3",children:L.map(P=>{var Z,le,ve;return n.jsx("div",{onClick:()=>t(`/detalhes-romaneio?id=${P.id}`),className:"border border-slate-200 rounded-lg p-5 hover:border-slate-300 hover:shadow-md transition-all cursor-pointer",children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[n.jsxs("span",{className:"text-base font-semibold",style:{color:"#376295"},children:["#",P.requisicao]}),n.jsx("span",{className:"px-3 py-1 rounded text-xs font-medium",style:{backgroundColor:P.receita_anexo?"#F5E8F5":"#E8F0F8",color:P.receita_anexo?"#890d5d":"#376295"},children:P.receita_anexo?"Recebida":"Pendente"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm text-slate-600 mb-3",children:[n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Cliente:"})," ",((Z=P.cliente)==null?void 0:Z.nome)||P.cliente_nome]}),n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Telefone:"})," ",((le=P.cliente)==null?void 0:le.telefone)||P.cliente_telefone]}),((ve=P.cliente)==null?void 0:ve.cpf)&&n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"CPF:"})," ",P.cliente.cpf]}),P.data_entrega&&n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Data:"})," ",Je(tr(P.data_entrega),"dd/MM/yyyy")]})]})]}),n.jsx("div",{className:"flex items-center gap-2 ml-4",children:P.receita_anexo?n.jsxs("button",{onClick:je=>{je.stopPropagation(),window.open(P.receita_anexo,"_blank")},className:"px-4 py-2 border border-slate-300 rounded-lg hover:bg-slate-50 transition-colors flex items-center gap-2 text-sm font-medium text-slate-700",children:[n.jsx(Xw,{className:"w-4 h-4"}),"Ver Receita"]}):n.jsxs("button",{onClick:je=>{je.stopPropagation(),I(P)},className:"px-4 py-2 rounded-lg transition-colors flex items-center gap-2 text-sm font-medium text-white",style:{backgroundColor:"#376295"},children:[n.jsx(tP,{className:"w-4 h-4"}),"Anexar"]})})]})},P.id)})})})]})]})}),n.jsx(Yn,{open:w,onOpenChange:b,children:n.jsxs(En,{className:"sm:max-w-[500px]",children:[n.jsxs(Sn,{children:[n.jsx(Cn,{children:"Adicionar Anexo"}),n.jsx(bu,{children:"Envie fotos ou documentos relacionados a esta entrega."})]}),n.jsxs("div",{className:"space-y-4 py-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium",children:"Tipo de Anexo *"}),n.jsxs(Xo,{value:_,onValueChange:C,children:[n.jsx(po,{children:n.jsx(Zo,{placeholder:"Selecione o tipo"})}),n.jsxs(go,{children:[n.jsx(Ct,{value:"Receita",children:"Receita"}),n.jsx(Ct,{value:"Pagamento",children:"Pagamento"}),n.jsx(Ct,{value:"Outros",children:"Outros"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium",children:"Arquivo *"}),n.jsx("input",{type:"file",accept:"image/*,.pdf",onChange:P=>{var Z;return q(((Z=P.target.files)==null?void 0:Z[0])||null)},className:"w-full px-3 py-2 border border-slate-300 rounded-lg cursor-pointer focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-100"}),T&&n.jsxs("p",{className:"text-xs text-slate-500",children:["Arquivo selecionado: ",T.name]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium",children:"Descrio (opcional)"}),n.jsx(wu,{placeholder:"Adicione informaes adicionais sobre este anexo...",value:E,onChange:P=>S(P.target.value),rows:3})]}),N&&n.jsxs("div",{className:"p-3 bg-slate-50 rounded-lg text-sm",children:[n.jsxs("p",{className:"font-medium text-slate-900",children:["Entrega: #",N.requisicao]}),n.jsxs("p",{className:"text-slate-600",children:["Cliente: ",((se=N.cliente)==null?void 0:se.nome)||N.cliente_nome]})]})]}),n.jsxs(bp,{children:[n.jsx(Mt,{variant:"outline",onClick:()=>{b(!1),C(""),S(""),q(null)},disabled:A,children:"Cancelar"}),n.jsx(Mt,{onClick:Y,disabled:A||!T||!_,style:{background:A?"#94a3b8":"#376295"},className:"text-white",children:A?"Enviando...":"Enviar Anexo"})]})]})})]})}const MM=["Pago","Dinheiro","Maquina","Troco P/","Via na Pasta","S Entregar","Aguardando","Pix - Aguardando","Link - Aguardando","Boleto","Pagar MP"];function DM(){var de,R;const t=an(),e=qt(),[r,o]=v.useState(new Date),[i,l]=v.useState(null),[d,u]=v.useState(!0),[h,m]=v.useState(""),[g,p]=v.useState("todos"),[w,b]=v.useState(!1),[N,j]=v.useState(null),[_,C]=v.useState(""),[E,S]=v.useState(!1),{data:T=[],isLoading:q,error:A}=_r({queryKey:["pagamentos"],queryFn:async()=>{const{data:B,error:F}=await Ne.from("entregas").select(`
          *,
          cliente:clientes(nome, telefone, cpf),
          endereco:enderecos(cidade, regiao),
          motoboy:motoboys(nome)
        `).order("data_entrega",{ascending:!1});if(F)throw F;return B||[]},refetchOnMount:"always",refetchOnWindowFocus:"always",staleTime:0,gcTime:0}),U=pr({mutationFn:async({entregaId:B,formaPagamento:F,pagamentoRecebido:D})=>{const oe={};F!==void 0&&(oe.forma_pagamento=F),D!==void 0&&(oe.pagamento_recebido=D);const{error:pe}=await Ne.from("entregas").update(oe).eq("id",B);if(pe)throw pe},onSuccess:()=>{t.invalidateQueries({queryKey:["pagamentos"]}),t.invalidateQueries({queryKey:["entregas"]}),t.invalidateQueries({queryKey:["receitas"]}),me.success("Pagamento atualizado com sucesso!"),b(!1)},onError:B=>{me.error("Erro ao atualizar pagamento: "+B.message)}}),K=(B,F)=>{B.preventDefault(),B.stopPropagation(),j(F),C(F.forma_pagamento||""),S(F.pagamento_recebido||!1),setTimeout(()=>b(!0),0)},ue=()=>{if(!_){me.error("Selecione uma forma de pagamento");return}U.mutate({entregaId:N.id,formaPagamento:_,pagamentoRecebido:E})};if(v.useEffect(()=>{t.invalidateQueries({queryKey:["pagamentos"]})},[t]),v.useEffect(()=>{A&&me.error("Erro ao carregar pagamentos: "+A.message)},[A]),v.useEffect(()=>{if(!w){const B=setTimeout(()=>{document.querySelectorAll("[data-radix-popper-content-wrapper]").forEach(D=>{try{D.remove()}catch{}})},100);return()=>clearTimeout(B)}},[w]),q)return n.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-br from-slate-50 to-slate-100",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"w-16 h-16 border-4 border-slate-300 border-t-[#457bba] rounded-full animate-spin mx-auto mb-4"}),n.jsx("p",{className:"text-slate-600 font-medium",children:"Carregando pagamentos..."})]})});const V=T.filter(B=>{var F,D,oe,pe,se,P;if(!d&&i&&B.data_entrega&&!Wr(tr(B.data_entrega),i)||g!=="todos"&&((F=B.motoboy)==null?void 0:F.nome)!==g)return!1;if(h){const Z=h.toLowerCase();if(!(((oe=(D=B.cliente)==null?void 0:D.nome)==null?void 0:oe.toLowerCase().includes(Z))||((se=(pe=B.cliente)==null?void 0:pe.telefone)==null?void 0:se.toLowerCase().includes(Z))||((P=B.requisicao)==null?void 0:P.toLowerCase().includes(Z))))return!1}return!0}),O={pendentes:V.filter(B=>!B.pagamento_recebido&&B.status==="Entregue").length,recebidos:V.filter(B=>B.pagamento_recebido).length,dinheiro:V.filter(B=>B.pagamento_recebido&&(B.forma_pagamento==="Dinheiro"||B.forma_pagamento==="dinheiro")).reduce((B,F)=>B+(parseFloat(F.valor)||0),0),cartao:V.filter(B=>B.pagamento_recebido&&(B.forma_pagamento==="Carto"||B.forma_pagamento==="cartao"||B.forma_pagamento==="Cartao")).reduce((B,F)=>B+(parseFloat(F.valor)||0),0)},Y=[...new Set(T.map(B=>{var F;return(F=B.motoboy)==null?void 0:F.nome}))].filter(Boolean).sort(),I=s_({start:Lm(r),end:n_(r)}),L=Lm(r).getDay(),ce=Array(L).fill(null),ae=B=>T.filter(F=>F.data_entrega&&Wr(tr(F.data_entrega),B)).length,fe=()=>o(c_(r)),z=()=>o(Tp(r,1)),he=B=>{l(B),u(!1)};return n.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100",children:[n.jsx("div",{className:"py-8 shadow-sm",style:{background:"linear-gradient(135deg, #457bba 0%, #890d5d 100%)"},children:n.jsx("div",{className:"max-w-7xl mx-auto px-6",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("button",{onClick:()=>e(-1),className:"p-2 rounded-lg bg-white/20 hover:bg-white/30 transition-colors",children:n.jsx(Ut,{className:"w-6 h-6 text-white"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-4xl font-bold text-white",children:"Pagamentos"}),n.jsx("p",{className:"text-base text-white opacity-90 mt-1",children:"Gerenciamento de pagamentos das entregas"})]})]})})}),n.jsx("div",{className:"max-w-7xl mx-auto px-6 py-6",children:n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[n.jsx("div",{className:"lg:col-span-1",children:n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6 sticky top-6",children:[n.jsx("h3",{className:"text-lg font-bold text-slate-900 mb-4",children:"Filtrar por dados"}),n.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[n.jsxs("button",{onClick:()=>{u(!1),i||l(new Date)},className:"flex-1 flex items-center justify-center gap-2 px-4 py-2 rounded-lg font-semibold text-sm transition-all",style:{backgroundColor:d?"white":"#376295",color:d?"#64748b":"white",border:d?"1px solid #e2e8f0":"none"},children:[n.jsx(wo,{className:"w-4 h-4"}),"Por Dia"]}),n.jsxs("button",{onClick:()=>{u(!0),l(null)},className:"flex-1 flex items-center justify-center gap-2 px-4 py-2 rounded-lg font-semibold text-sm transition-all",style:{backgroundColor:d?"#376295":"white",color:d?"white":"#64748b",border:d?"none":"1px solid #e2e8f0"},children:[n.jsx(yo,{className:"w-4 h-4"}),"Todos"]})]}),n.jsxs("div",{className:"border rounded-lg p-3",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsx("button",{onClick:fe,className:"p-2 hover:bg-slate-100 rounded-lg transition-colors",children:n.jsx(Ut,{className:"h-4 w-4 text-slate-600"})}),n.jsx("span",{className:"text-sm font-semibold text-slate-700",children:Je(r,"MMMM 'de' yyyy",{locale:_n})}),n.jsx("button",{onClick:z,className:"p-2 hover:bg-slate-100 rounded-lg transition-colors",children:n.jsx(Jl,{className:"h-4 w-4 text-slate-600"})})]}),n.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:["dom","seg","ter","qua","qui","sex","sb"].map(B=>n.jsx("div",{className:"text-center text-xs font-semibold text-slate-500 py-2",children:B},B))}),n.jsxs("div",{className:"grid grid-cols-7 gap-1",children:[ce.map((B,F)=>n.jsx("div",{className:"aspect-square"},`vazio-${F}`)),I.map(B=>{const F=ae(B),D=i&&Wr(B,i),oe=Wr(B,new Date);return n.jsx("button",{onClick:()=>he(B),className:"aspect-square rounded-lg text-sm flex flex-col items-center justify-center relative transition-all hover:bg-blue-50",style:{backgroundColor:D?"#376295":!D&&oe?"#e2e8f0":!D&&!oe&&F>0?"#F5E8F5":"transparent",color:D?"white":D===!1&&oe?"#376295":!D&&!oe&&F>0?"#890d5d":"#1e293b",fontWeight:D||oe||F>0?"bold":"normal",boxShadow:D?"0 4px 6px -1px rgba(0, 0, 0, 0.1)":"none"},children:n.jsx("span",{children:Je(B,"d")})},B.toISOString())})]})]}),n.jsxs("div",{className:"text-center pt-4 border-t border-slate-200",children:[i&&!d&&n.jsx("div",{className:"text-base font-semibold text-slate-700",children:Je(i,"dd 'de' MMMM",{locale:_n})}),n.jsxs("div",{className:"text-sm text-slate-500",children:[V.length," pagamento",V.length!==1?"s":""]})]})]})}),n.jsxs("div",{className:"lg:col-span-3 space-y-6",children:[n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[n.jsx("h2",{className:"text-lg font-bold text-slate-900 mb-4",children:"Buscar e Filtrar"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"relative",children:[n.jsx(Nn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400 w-5 h-5"}),n.jsx("input",{type:"text",placeholder:"Buscar por nmero, nome ou telefone...",value:h,onChange:B=>m(B.target.value),className:"w-full pl-10 pr-4 py-3 border border-slate-300 rounded-lg focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-100 transition-all"})]}),n.jsxs(Xo,{value:g,onValueChange:p,children:[n.jsx(po,{children:n.jsx(Zo,{placeholder:"Todos os Motoboys"})}),n.jsxs(go,{children:[n.jsx(Ct,{value:"todos",children:"Todos os Motoboys"}),Y.map(B=>n.jsx(Ct,{value:B,children:B},B))]})]})]})]}),n.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[n.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-5 cursor-pointer transition-all hover:shadow-md",children:[n.jsxs("div",{className:"flex items-center justify-center gap-2 mb-3",children:[n.jsx("div",{className:"p-1.5 rounded-lg",style:{backgroundColor:"#FEF3E8"},children:n.jsx(Jw,{className:"w-6 h-6",style:{color:"#f97316"}})}),n.jsx("span",{className:"text-sm font-bold text-slate-700",children:"Pendentes"})]}),n.jsx("div",{className:"text-4xl font-bold text-center",style:{color:"#f97316"},children:O.pendentes})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-5 cursor-pointer transition-all hover:shadow-md",children:[n.jsxs("div",{className:"flex items-center justify-center gap-2 mb-3",children:[n.jsx("div",{className:"p-1.5 rounded-lg",style:{backgroundColor:"#E8F5E8"},children:n.jsx(fa,{className:"w-6 h-6",style:{color:"#22c55e"}})}),n.jsx("span",{className:"text-sm font-bold text-slate-700",children:"Recebidos"})]}),n.jsx("div",{className:"text-4xl font-bold text-center",style:{color:"#22c55e"},children:O.recebidos})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-5 cursor-pointer transition-all hover:shadow-md",children:[n.jsxs("div",{className:"flex items-center justify-center gap-2 mb-3",children:[n.jsx("div",{className:"p-1.5 rounded-lg",style:{backgroundColor:"#E8F0F8"},children:n.jsx(Em,{className:"w-6 h-6",style:{color:"#376295"}})}),n.jsx("span",{className:"text-sm font-bold text-slate-700",children:"Dinheiro"})]}),n.jsxs("div",{className:"text-2xl font-bold text-center",style:{color:"#376295"},children:["R$ ",O.dinheiro.toFixed(2)]})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-5 cursor-pointer transition-all hover:shadow-md",children:[n.jsxs("div",{className:"flex items-center justify-center gap-2 mb-3",children:[n.jsx("div",{className:"p-1.5 rounded-lg",style:{backgroundColor:"#F5E8F5"},children:n.jsx(Yw,{className:"w-6 h-6",style:{color:"#890d5d"}})}),n.jsx("span",{className:"text-sm font-bold text-slate-700",children:"Carto"})]}),n.jsxs("div",{className:"text-2xl font-bold text-center",style:{color:"#890d5d"},children:["R$ ",O.cartao.toFixed(2)]})]})]}),n.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:V.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx(ba,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:"Nenhum pagamento encontrado"}),n.jsx("p",{className:"text-sm text-slate-600",children:h||g!=="todos"?"Tente ajustar os filtros de busca":"No h pagamentos cadastrados"})]}):n.jsx("div",{children:n.jsx("div",{className:"space-y-3",children:V.map(B=>{var F,D;return n.jsx(vs,{to:`/detalhes-romaneio?id=${B.id}`,className:"block p-5 rounded-lg border border-slate-200 hover:border-slate-300 hover:shadow-md transition-all",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[n.jsxs("span",{className:"text-base font-semibold",style:{color:"#376295"},children:["#",B.requisicao]}),n.jsx(qn,{className:"px-3 py-1 rounded text-xs font-medium",style:{backgroundColor:B.pagamento_recebido?"#E8F5E8":"#FEF3E8",color:B.pagamento_recebido?"#22c55e":"#f97316"},children:B.pagamento_recebido?"Recebido":"Pendente"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm text-slate-600 mb-3",children:[n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Cliente:"})," ",((F=B.cliente)==null?void 0:F.nome)||B.cliente_nome]}),n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Motoboy:"})," ",((D=B.motoboy)==null?void 0:D.nome)||"Sem motoboy"]}),n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Data:"})," ",B.data_entrega?Je(tr(B.data_entrega),"dd/MM/yyyy"):"-"]}),B.forma_pagamento&&n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Forma:"})," ",B.forma_pagamento]})]})]}),n.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[B.valor&&n.jsx("div",{className:"text-right mr-3",children:n.jsxs("div",{className:"font-bold text-xl",style:{color:"#376295"},children:["R$ ",parseFloat(B.valor).toFixed(2)]})}),n.jsxs("button",{onClick:oe=>K(oe,B),className:"px-4 py-2 border border-slate-300 rounded-lg hover:bg-slate-50 transition-colors flex items-center gap-2 text-sm font-medium text-slate-700",title:"Editar pagamento",children:[n.jsx(yu,{className:"w-4 h-4"}),"Editar"]})]})]})},B.id)})})})})]})]})}),n.jsx(Yn,{open:w,onOpenChange:b,children:n.jsxs(En,{className:"sm:max-w-[500px]",children:[n.jsxs(Sn,{children:[n.jsx(Cn,{children:"Editar Pagamento"}),n.jsxs(bu,{children:["#",N==null?void 0:N.requisicao," - ",((de=N==null?void 0:N.cliente)==null?void 0:de.nome)||(N==null?void 0:N.cliente_nome)]})]}),n.jsxs("div",{className:"space-y-4 py-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium",children:"Forma de Pagamento *"}),n.jsxs(Xo,{value:_,onValueChange:C,children:[n.jsx(po,{children:n.jsx(Zo,{placeholder:"Selecione a forma de pagamento"})}),n.jsx(go,{children:MM.map(B=>n.jsx(Ct,{value:B,children:B},B))})]},`forma-pagamento-${N==null?void 0:N.id}`)]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium",children:"Status do Pagamento"}),n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[n.jsx("input",{type:"radio",checked:!E,onChange:()=>S(!1),className:"w-4 h-4 text-orange-600"}),n.jsx("span",{className:"text-sm",children:"Pendente"})]}),n.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[n.jsx("input",{type:"radio",checked:E,onChange:()=>S(!0),className:"w-4 h-4 text-green-600"}),n.jsx("span",{className:"text-sm",children:"Recebido"})]})]})]}),N&&n.jsxs("div",{className:"bg-slate-50 rounded-lg p-3 space-y-1 text-sm",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-slate-600",children:"Valor:"}),n.jsxs("span",{className:"font-semibold",children:["R$ ",parseFloat(N.valor||0).toFixed(2)]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-slate-600",children:"Data:"}),n.jsx("span",{children:N.data_entrega?Je(tr(N.data_entrega),"dd/MM/yyyy"):"-"})]}),((R=N.motoboy)==null?void 0:R.nome)&&n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-slate-600",children:"Motoboy:"}),n.jsx("span",{children:N.motoboy.nome})]})]})]}),n.jsxs(bp,{children:[n.jsx(Mt,{variant:"outline",onClick:()=>b(!1),disabled:U.isPending,children:"Cancelar"}),n.jsx(Mt,{onClick:ue,disabled:U.isPending,style:{background:U.isPending?"#94a3b8":"#376295"},className:"text-white",children:U.isPending?"Salvando...":"Salvar"})]})]})},`dialog-${(N==null?void 0:N.id)||"none"}`)]})}function LM(t){return"/"+t.toLowerCase().replace(/ /g,"-")}function $M(){const t=qt(),e=Tn(),r=an(),o=new URLSearchParams(e.search),[i,l]=v.useState(()=>{const A=o.get("data");return A?new Date(A):new Date}),[d,u]=v.useState(o.get("motoboy")||"todos"),[h,m]=v.useState(o.get("todas")==="true");v.useEffect(()=>{const A=new URLSearchParams;h||A.set("data",Je(i,"yyyy-MM-dd")),A.set("todas",h.toString()),d!=="todos"&&A.set("motoboy",d),t(`?${A.toString()}`,{replace:!0})},[i,d,h]);const{data:g=[],isLoading:p}=_r({queryKey:["entregas-moto-planilha"],queryFn:async()=>{try{const{data:A,error:U}=await Ne.from("entregas").select(`
            *,
            cliente:clientes(id, nome, telefone),
            endereco:enderecos(id, logradouro, numero, bairro, cidade, complemento),
            motoboy:motoboys(id, nome)
          `).eq("tipo","moto").order("data_entrega",{ascending:!1});if(U)throw U;return console.log("Entregas carregadas:",A),A||[]}catch(A){return console.error("Erro ao carregar entregas:",A),me.error("Erro ao carregar entregas"),[]}},refetchOnMount:"always",staleTime:0,gcTime:0}),{data:w=[],isLoading:b}=_r({queryKey:["sedex-disktenha-planilha",i,h],queryFn:async()=>{let A=Ne.from("sedex_disktenha").select("*");if(!h){const ue=Je(i,"yyyy-MM-dd");A=A.eq("data_saida",ue)}const{data:U,error:K}=await A;return K?(console.error("Erro ao carregar Sedex/Disktenha:",K),me.error("Erro ao carregar Sedex/Disktenha"),[]):(console.log("Sedex/Disktenha carregados:",U),U||[])}}),N=[...w].sort((A,U)=>{const K={DISKTENHA:1,SEDEX:2,PAC:3},ue=K[A.tipo]||999,V=K[U.tipo]||999;return ue-V}),j=pr({mutationFn:async({id:A,data:U})=>{const{error:K}=await Ne.from("entregas").update(U).eq("id",A);if(K)throw K},onSuccess:()=>{r.invalidateQueries({queryKey:["entregas-moto-planilha"]}),me.success("Status atualizado!")},onError:()=>{me.error("Erro ao atualizar")}}),_=pr({mutationFn:async({id:A,status:U})=>{const{error:K}=await Ne.from("sedex_disktenha").update({status:U}).eq("id",A);if(K)throw K},onSuccess:()=>{r.invalidateQueries({queryKey:["sedex-disktenha-planilha"]}),me.success("Status atualizado!")},onError:()=>{me.error("Erro ao atualizar")}}),C=g.filter(A=>{var U;if(!h&&A.data_entrega)try{const K=new Date(A.data_entrega);if(!Wr(K,i))return!1}catch(K){return console.error("Erro ao fazer parse da data:",A.data_entrega,K),!1}return!(d!=="todos"&&((U=A.motoboy)==null?void 0:U.nome)!==d)});console.log("Total entregas:",g.length),console.log("Entregas filtradas:",C.length),console.log("Data selecionada:",i),console.log("Visualizar todas:",h),console.log("Filtro motoboy:",d);const E=[...C].sort((A,U)=>{var O,Y;const K=((O=A.endereco)==null?void 0:O.cidade)||"",ue=((Y=U.endereco)==null?void 0:Y.cidade)||"",V=K.localeCompare(ue);return V!==0?V:A.periodo==="Manh"?-1:1}),S=[...new Set(g.map(A=>{var U;return(U=A.motoboy)==null?void 0:U.nome}).filter(Boolean))],T=(A,U)=>A==="Entregue"?"bg-green-50":A==="A Caminho"?"bg-yellow-50":U==="Cartanhex pago"?"bg-orange-50":U==="Maquina"?"bg-purple-50":"bg-white",q=(A,U,K="romaneio")=>{K==="romaneio"?j.mutate({id:A,data:{status:U}}):_.mutate({id:A,status:U})};return n.jsxs("div",{className:"min-h-screen bg-slate-50",children:[n.jsx("div",{className:"py-8 shadow-sm",style:{background:"linear-gradient(135deg, #457bba 0%, #890d5d 100%)"},children:n.jsx("div",{className:"max-w-7xl mx-auto px-6",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("button",{onClick:()=>t(-1),className:"p-2 rounded-lg bg-white/20 hover:bg-white/30 transition-colors",children:n.jsx(Ut,{className:"w-6 h-6 text-white"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-4xl font-bold text-white",children:"Planilha Diria"}),n.jsx("p",{className:"text-base text-white opacity-90 mt-1",children:"Visualize e edite todas as entregas do dia"})]})]})})}),n.jsx("div",{className:"p-6",children:n.jsxs("div",{className:"max-w-7xl mx-auto",children:[n.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6 mb-6",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("button",{onClick:()=>m(!0),className:"flex items-center justify-center gap-2 px-4 py-2 rounded-lg font-semibold text-sm transition-all whitespace-nowrap",style:{backgroundColor:h?"#376295":"white",color:h?"white":"#64748b",border:h?"none":"1px solid #e2e8f0"},children:"Todas"}),n.jsx("button",{onClick:()=>m(!1),className:"flex items-center justify-center gap-2 px-4 py-2 rounded-lg font-semibold text-sm transition-all whitespace-nowrap",style:{backgroundColor:h?"white":"#376295",color:h?"#64748b":"white",border:h?"1px solid #e2e8f0":"none"},children:"Por Dia"})]}),!h&&n.jsx("div",{className:"flex items-center gap-2",children:n.jsx("input",{type:"date",value:Je(i,"yyyy-MM-dd"),onChange:A=>{A.target.value&&l(new Date(A.target.value+"T00:00:00"))},className:"px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-100 text-sm"})}),n.jsx("div",{className:"flex-1 max-w-xs",children:n.jsxs("select",{value:d,onChange:A=>u(A.target.value),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-100 text-sm",children:[n.jsx("option",{value:"todos",children:"Todos os Motoboys"}),S.map(A=>n.jsx("option",{value:A,children:A},A))]})})]})}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"bg-white rounded-lg border border-slate-200 overflow-hidden",children:[n.jsx("div",{className:"px-4 py-3",style:{backgroundColor:"#376295"},children:n.jsx("h2",{className:"text-white font-bold text-lg",children:"ENTREGAS MOTO"})}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full text-xs border-collapse",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"bg-slate-100 border-b border-slate-300",children:[n.jsx("th",{className:"px-2 py-2 text-left font-semibold text-slate-700 border-r border-slate-200",children:"Atendente"}),n.jsx("th",{className:"px-2 py-2 text-left font-semibold text-slate-700 border-r border-slate-200",children:"Requisio"}),n.jsx("th",{className:"px-2 py-2 text-left font-semibold text-slate-700 border-r border-slate-200",children:"Cliente"}),n.jsx("th",{className:"px-2 py-2 text-left font-semibold text-slate-700 border-r border-slate-200",children:"Telefone"}),n.jsx("th",{className:"px-2 py-2 text-left font-semibold text-slate-700 border-r border-slate-200",children:"Observao"}),n.jsx("th",{className:"px-2 py-2 text-left font-semibold text-slate-700 border-r border-slate-200",children:"Local"}),n.jsx("th",{className:"px-2 py-2 text-left font-semibold text-slate-700 border-r border-slate-200",children:"Forma de Pgto"}),n.jsx("th",{className:"px-2 py-2 text-left font-semibold text-slate-700 border-r border-slate-200",children:"Valor a Cobrar"}),n.jsx("th",{className:"px-2 py-2 text-left font-semibold text-slate-700 border-r border-slate-200",children:"Troco"}),n.jsx("th",{className:"px-2 py-2 text-left font-semibold text-slate-700 border-r border-slate-200",children:"Perodo"}),n.jsx("th",{className:"px-2 py-2 text-left font-semibold text-slate-700 border-r border-slate-200",children:"Status"}),n.jsx("th",{className:"px-2 py-2 text-left font-semibold text-slate-700 border-r border-slate-200",children:"Receita"}),n.jsx("th",{className:"px-2 py-2 text-left font-semibold text-slate-700 border-r border-slate-200",children:"Moto"}),n.jsx("th",{className:"px-2 py-2 text-left font-semibold text-slate-700 border-r border-slate-200",children:"Taxa"}),n.jsx("th",{className:"px-2 py-2 text-left font-semibold text-slate-700",children:"Ver"})]})}),n.jsx("tbody",{children:p?n.jsx("tr",{children:n.jsx("td",{colSpan:"15",className:"p-8 text-center text-slate-500",children:"Carregando..."})}):E.length===0?n.jsx("tr",{children:n.jsx("td",{colSpan:"15",className:"p-8 text-center text-slate-500",children:"Nenhuma entrega encontrada"})}):E.map(A=>{var U,K,ue,V;return n.jsxs("tr",{className:`border-b border-slate-200 hover:bg-slate-50 ${T(A.status,A.forma_pagamento)}`,children:[n.jsx("td",{className:"px-2 py-1.5 border-r border-slate-200 text-slate-600",children:A.atendente||"-"}),n.jsx("td",{className:"px-2 py-1.5 border-r border-slate-200 font-mono text-slate-700",children:A.requisicao||"-"}),n.jsx("td",{className:"px-2 py-1.5 border-r border-slate-200 font-medium text-slate-800",children:((U=A.cliente)==null?void 0:U.nome)||"-"}),n.jsx("td",{className:"px-2 py-1.5 border-r border-slate-200 text-slate-600",children:(K=A.cliente)!=null&&K.telefone?A.cliente.telefone.replace(/\D/g,""):"-"}),n.jsx("td",{className:"px-2 py-1.5 border-r border-slate-200 text-slate-600 max-w-[200px] truncate",children:A.observacoes||"-"}),n.jsx("td",{className:"px-2 py-1.5 border-r border-slate-200 text-slate-600",children:((ue=A.endereco)==null?void 0:ue.cidade)||"-"}),n.jsx("td",{className:"px-2 py-1.5 border-r border-slate-200",children:n.jsx("span",{className:`px-1.5 py-0.5 rounded text-[10px] font-medium ${A.forma_pagamento==="Pago"?"text-green-700":A.forma_pagamento==="Dinheiro"?"text-blue-700":A.forma_pagamento==="Carto"?"text-purple-700":"bg-slate-100 text-slate-700"}`,style:{backgroundColor:A.forma_pagamento==="Pago"?"#E8F5E8":A.forma_pagamento==="Dinheiro"?"#E8F0F8":A.forma_pagamento==="Carto"?"#F5E8F5":void 0},children:A.forma_pagamento||"-"})}),n.jsxs("td",{className:"px-2 py-1.5 border-r border-slate-200 text-slate-700 font-semibold",children:["R$ ",A.valor?parseFloat(A.valor).toFixed(2):"0.00"]}),n.jsx("td",{className:"px-2 py-1.5 border-r border-slate-200 text-slate-600",children:A.troco||"-"}),n.jsx("td",{className:"px-2 py-1.5 border-r border-slate-200",children:n.jsx("span",{className:`px-1.5 py-0.5 rounded text-[10px] font-medium ${A.periodo==="Manh","text-orange-800"}`,style:{backgroundColor:"#FEF3E8"},children:A.periodo||"-"})}),n.jsx("td",{className:"px-2 py-1.5 border-r border-slate-200",children:n.jsxs("select",{value:A.status||"Pendente",onChange:O=>q(A.id,O.target.value,"romaneio"),className:"w-full text-[10px] p-1 border border-slate-300 rounded-lg bg-white",disabled:j.isPending,children:[n.jsx("option",{value:"Pendente",children:"Pendente"}),n.jsx("option",{value:"Produo",children:"Produo"}),n.jsx("option",{value:"Preparando",children:"Preparando"}),n.jsx("option",{value:"A Caminho",children:"A Caminho"}),n.jsx("option",{value:"Entregue",children:"Entregue"}),n.jsx("option",{value:"No Entregue",children:"No Entregue"}),n.jsx("option",{value:"Voltou",children:"Voltou"}),n.jsx("option",{value:"Cancelado",children:"Cancelado"})]})}),n.jsx("td",{className:"px-2 py-1.5 border-r border-slate-200 text-center",children:A.recibo_medico?n.jsx("span",{className:"inline-block w-4 h-4 rounded-full bg-green-500"}):n.jsx("span",{className:"inline-block w-4 h-4 rounded-full bg-slate-300"})}),n.jsx("td",{className:"px-2 py-1.5 border-r border-slate-200 text-slate-700 font-medium",children:((V=A.motoboy)==null?void 0:V.nome)||"-"}),n.jsxs("td",{className:"px-2 py-1.5 border-r border-slate-200 text-slate-700 font-semibold",children:["R$ ",A.taxa?parseFloat(A.taxa).toFixed(2):"0.00"]}),n.jsx("td",{className:"px-2 py-1.5",children:n.jsx(vs,{to:`/detalhes-romaneio?id=${A.id}`,className:"hover:opacity-80 transition-opacity",style:{color:"#376295"},children:n.jsx(pA,{className:"w-3.5 h-3.5"})})})]},A.id)})})]})})]}),n.jsxs("div",{className:"bg-white rounded-lg border border-slate-200 overflow-hidden",children:[n.jsx("div",{className:"px-4 py-3",style:{backgroundColor:"#890d5d"},children:n.jsx("h2",{className:"text-white font-bold text-lg",children:"SEDEX / DISKTENHA"})}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full text-xs border-collapse",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"bg-blue-50 border-b border-blue-200",children:[n.jsx("th",{className:"px-2 py-2 text-left font-semibold text-slate-700 border-r border-blue-200",children:"Tipo"}),n.jsx("th",{className:"px-2 py-2 text-left font-semibold text-slate-700 border-r border-blue-200",children:"Cliente"}),n.jsx("th",{className:"px-2 py-2 text-left font-semibold text-slate-700 border-r border-blue-200",children:"Remetente"}),n.jsx("th",{className:"px-2 py-2 text-left font-semibold text-slate-700 border-r border-blue-200",children:"Cdigo Rastreio"}),n.jsx("th",{className:"px-2 py-2 text-left font-semibold text-slate-700 border-r border-blue-200",children:"Valor"}),n.jsx("th",{className:"px-2 py-2 text-left font-semibold text-slate-700 border-r border-blue-200",children:"Forma de Pgto"}),n.jsx("th",{className:"px-2 py-2 text-left font-semibold text-slate-700 border-r border-blue-200",children:"Data Sada"}),n.jsx("th",{className:"px-2 py-2 text-left font-semibold text-slate-700 border-r border-blue-200",children:"Status"}),n.jsx("th",{className:"px-2 py-2 text-left font-semibold text-slate-700",children:"Observaes"})]})}),n.jsx("tbody",{className:"bg-blue-50/30",children:b?n.jsx("tr",{children:n.jsx("td",{colSpan:"9",className:"p-8 text-center text-slate-500",children:"Carregando..."})}):N.length===0?n.jsx("tr",{children:n.jsx("td",{colSpan:"9",className:"p-8 text-center text-slate-500",children:"Nenhuma entrega Sedex/Disktenha encontrada"})}):N.map(A=>n.jsxs("tr",{className:"border-b border-blue-200 hover:bg-blue-100/50",children:[n.jsx("td",{className:"px-2 py-1.5 border-r border-blue-200",children:n.jsx("span",{className:`px-1.5 py-0.5 rounded text-[10px] font-bold ${A.tipo==="SEDEX"?"bg-red-100 text-red-800":A.tipo==="PAC"?"bg-yellow-100 text-yellow-800":"bg-blue-100 text-blue-800"}`,children:A.tipo})}),n.jsx("td",{className:"px-2 py-1.5 border-r border-blue-200 font-medium text-slate-800",children:A.cliente}),n.jsx("td",{className:"px-2 py-1.5 border-r border-blue-200 text-slate-600",children:A.remetente||"-"}),n.jsx("td",{className:"px-2 py-1.5 border-r border-blue-200 font-mono text-slate-700",children:A.codigo_rastreio}),n.jsxs("td",{className:"px-2 py-1.5 border-r border-blue-200 text-slate-700 font-semibold",children:["R$ ",A.valor?parseFloat(A.valor).toFixed(2):"0.00"]}),n.jsx("td",{className:"px-2 py-1.5 border-r border-blue-200",children:n.jsx("span",{className:"px-1.5 py-0.5 rounded text-[10px] font-medium bg-green-100 text-green-800",children:A.forma_pagamento})}),n.jsx("td",{className:"px-2 py-1.5 border-r border-blue-200 text-slate-600",children:A.data_saida?Je(tr(A.data_saida),"dd/MM/yyyy"):"-"}),n.jsx("td",{className:"px-2 py-1.5 border-r border-blue-200",children:n.jsxs("select",{value:A.status||"Pendente",onChange:U=>q(A.id,U.target.value,"sedex"),className:"w-full text-[10px] p-1 border border-blue-300 rounded-lg bg-white",disabled:_.isPending,children:[n.jsx("option",{value:"Pendente",children:"Pendente"}),n.jsx("option",{value:"Em Trnsito",children:"Em Trnsito"}),n.jsx("option",{value:"Entregue",children:"Entregue"}),n.jsx("option",{value:"Devolvido",children:"Devolvido"})]})}),n.jsx("td",{className:"px-2 py-1.5 text-slate-600 max-w-[200px] truncate",children:A.observacoes||"-"})]},A.id))})]})})]}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[n.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-5 border-2 border-transparent",children:[n.jsxs("div",{className:"flex items-center justify-center gap-2 mb-3",children:[n.jsx("div",{className:"p-1.5 rounded-lg",style:{backgroundColor:"#E8F0F8"},children:n.jsx("svg",{className:"w-6 h-6",style:{color:"#376295"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})}),n.jsx("span",{className:"text-sm font-bold text-slate-700",children:"Total Romaneios"})]}),n.jsx("div",{className:"text-4xl font-bold text-center",style:{color:"#376295"},children:E.length})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-5 border-2 border-transparent",children:[n.jsxs("div",{className:"flex items-center justify-center gap-2 mb-3",children:[n.jsx("div",{className:"p-1.5 rounded-lg",style:{backgroundColor:"#E8F5E8"},children:n.jsx("svg",{className:"w-6 h-6",style:{color:"#22c55e"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),n.jsx("span",{className:"text-sm font-bold text-slate-700",children:"Entregues"})]}),n.jsx("div",{className:"text-4xl font-bold text-center",style:{color:"#22c55e"},children:E.filter(A=>A.status==="Entregue").length})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-5 border-2 border-transparent",children:[n.jsxs("div",{className:"flex items-center justify-center gap-2 mb-3",children:[n.jsx("div",{className:"p-1.5 rounded-lg",style:{backgroundColor:"#F5E8F5"},children:n.jsx("svg",{className:"w-6 h-6",style:{color:"#890d5d"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"})})}),n.jsx("span",{className:"text-sm font-bold text-slate-700",children:"Sedex/Disk"})]}),n.jsx("div",{className:"text-4xl font-bold text-center",style:{color:"#890d5d"},children:N.length})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-5 border-2 border-transparent",children:[n.jsxs("div",{className:"flex items-center justify-center gap-2 mb-3",children:[n.jsx("div",{className:"p-1.5 rounded-lg",style:{backgroundColor:"#E8F0F8"},children:n.jsx("svg",{className:"w-6 h-6",style:{color:"#376295"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),n.jsx("span",{className:"text-sm font-bold text-slate-700",children:"Valor Total"})]}),n.jsxs("div",{className:"text-4xl font-bold text-center",style:{color:"#376295"},children:["R$ ",(E.reduce((A,U)=>A+(parseFloat(U.valor)||0),0)+N.reduce((A,U)=>A+(parseFloat(U.valor)||0),0)).toFixed(2)]})]})]})]})]})})]})}function BM(){const t=qt(),e=an(),{user:r,userType:o}=ya(),[i,l]=v.useState(null),[d,u]=v.useState(new Date),[h,m]=v.useState("dia"),[g,p]=v.useState("todos"),[w,b]=v.useState(!1),[N,j]=v.useState({}),_=o==="motoboy",C=r==null?void 0:r.nome_motoboy,{data:E=[]}=_r({queryKey:["motoboys-lista"],queryFn:async()=>{const{data:P,error:Z}=await Ne.from("motoboys").select("*").order("nome");if(Z)throw Z;return P||[]}});v.useEffect(()=>{if(E.length>0&&!i){if(_&&C){const P=E.find(Z=>Z.nome.toLowerCase()===C.toLowerCase());if(P){l(P.id);return}}l(E[0].id)}},[E,i,_,C]);const{data:S=[],isLoading:T}=_r({queryKey:["entregas-motoboy",i],queryFn:async()=>{if(!i)return console.log("Nenhum motoboy selecionado"),[];try{const{data:P,error:Z}=await Ne.from("entregas").select(`
            *,
            cliente:clientes(id, nome, telefone),
            endereco:enderecos(id, logradouro, numero, bairro, cidade, complemento),
            motoboy:motoboys(id, nome)
          `).eq("tipo","moto").order("data_entrega",{ascending:!0});if(Z)throw console.error("Erro Supabase:",Z),Z;return(P==null?void 0:P.filter(ve=>ve.motoboy_id===i))||[]}catch(P){return console.error("Erro ao carregar entregas:",P),me.error("Erro ao carregar entregas"),[]}},enabled:!!i,refetchOnMount:"always",staleTime:0}),q=S.filter(P=>{if(!P.data_entrega)return!1;const Z=new Date(P.data_entrega+"T00:00:00");if(h==="dia")return Wr(Z,d);{const le=xa(d,{weekStartsOn:0}),ve=oy(d,{weekStartsOn:0});return Z>=le&&Z<=ve}}),A=q.filter(P=>g==="todos"?!0:g==="entregues"?P.status==="Entregue":g==="a_caminho"?P.status==="A Caminho":g==="pendentes"?P.status==="Pendente"||P.status==="Preparando"||P.status==="Produzindo no Laboratrio":!0),U=pr({mutationFn:async({id:P,status:Z})=>{const{error:le}=await Ne.from("entregas").update({status:Z}).eq("id",P);if(le)throw le},onSuccess:()=>{e.invalidateQueries({queryKey:["entregas-motoboy"]}),me.success("Status atualizado!")},onError:()=>{me.error("Erro ao atualizar status")}}),K=pr({mutationFn:async P=>{const Z=Object.entries(P).map(([le,ve])=>Ne.from("romaneios").update({ordem_motoboy:ve}).eq("id",le));await Promise.all(Z)},onSuccess:()=>{e.invalidateQueries({queryKey:["entregas-motoboy"]}),me.success("Ordem salva com sucesso!"),b(!1)},onError:()=>{me.error("Erro ao salvar ordem")}}),ue=(P,Z,le)=>{const ve=le.findIndex(Ee=>Ee.id===P);if(ve===-1)return;const je={...N};if(Z==="cima"&&ve>0){const Ee=le[ve-1].id,Ae=je[P]??ve,Ve=je[Ee]??ve-1;je[P]=Ve,je[Ee]=Ae}else if(Z==="baixo"&&ve<le.length-1){const Ee=le[ve+1].id,Ae=je[P]??ve,Ve=je[Ee]??ve+1;je[P]=Ve,je[Ee]=Ae}j(je)},V=P=>!w&&Object.keys(N).length===0?[...P].sort((Z,le)=>{const ve=Z.ordem_motoboy??999,je=le.ordem_motoboy??999;return ve-je}):[...P].sort((Z,le)=>{const ve=N[Z.id]??Z.ordem_motoboy??999,je=N[le.id]??le.ordem_motoboy??999;return ve-je});v.useEffect(()=>{if(A.length>0&&Object.keys(N).length===0){const P={};A.forEach((Z,le)=>{P[Z.id]=Z.ordem_motoboy??le}),j(P)}},[A]);const O=()=>{K.mutate(N)},Y={total:q.length,entregues:q.filter(P=>P.status==="Entregue").length,aCaminho:q.filter(P=>P.status==="A Caminho").length,pendentes:q.filter(P=>P.status==="Pendente"||P.status==="Preparando"||P.status==="Produzindo no Laboratrio").length},I={total:A.length,entregues:A.filter(P=>P.status==="Entregue").length,aCaminho:A.filter(P=>P.status==="A Caminho").length,pendentes:A.filter(P=>P.status==="Pendente"||P.status==="Preparando"||P.status==="Produzindo no Laboratrio").length,valorTotal:A.reduce((P,Z)=>P+(parseFloat(Z.valor)||0),0),taxaTotal:A.reduce((P,Z)=>P+(parseFloat(Z.taxa)||0),0)},L={manha:A.filter(P=>P.periodo==="Manh"),tarde:A.filter(P=>P.periodo==="Tarde")},ae=(()=>{const P=d,Z=PI(P);let le;return Z===0?le=kd(P,5):Z===1?le=kd(P,6):le=kd(P,Z-2),[{nome:"Tera-feira",offset:0},{nome:"Quarta-feira",offset:1},{nome:"Quinta-feira",offset:2},{nome:"Sexta-feira",offset:3},{nome:"Sbado",offset:4},{nome:"Segunda-feira",offset:6}].map(je=>{const Ee=ou(le,je.offset),Ae=Je(Ee,"yyyy-MM-dd"),Ve=new Date,at=S.filter(Ze=>Ze.motoboy_id!==i||!Ze.data_entrega?!1:Ze.data_entrega===Ae),yt=at.reduce((Ze,ir)=>Ze+(parseFloat(ir.taxa)||0),0),ut=at.filter(Ze=>Ze.status==="Entregue").length;return{nome:je.nome,data:Ee,dataStr:Ae,entregas:at.length,entregues:ut,taxa:yt,isHoje:Wr(Ee,Ve)}})})(),fe=ae.reduce((P,Z)=>P+Z.taxa,0);ae.length>0&&`${Je(ae[0].data,"dd/MM")}${Je(ae[ae.length-1].data,"dd/MM/yyyy")}`;const z=(P,Z)=>{U.mutate({id:P,status:Z})},he=P=>{t(`/detalhes-romaneio?id=${P.id}`)},de=E.find(P=>P.id===i),R=()=>{u(P=>kd(P,1))},B=()=>{u(P=>ou(P,1))},F=()=>{u(P=>KI(P))},D=()=>{u(P=>r_(P,1))},oe=()=>{u(new Date)},pe=()=>{if(h==="dia")return Je(d,"dd 'de' MMMM 'de' yyyy",{locale:_n});{const P=xa(d,{weekStartsOn:0}),Z=oy(d,{weekStartsOn:0});return`${Je(P,"dd/MM",{locale:_n})} a ${Je(Z,"dd/MM/yyyy",{locale:_n})}`}},se=A.reduce((P,Z)=>{const le=Z.data_entrega;return P[le]||(P[le]=[]),P[le].push(Z),P},{});return n.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100",children:[n.jsx("div",{className:"py-8 shadow-sm",style:{background:"linear-gradient(135deg, #457bba 0%, #890d5d 100%)"},children:n.jsx("div",{className:"max-w-7xl mx-auto px-6",children:n.jsxs("div",{className:"flex items-center gap-4",children:[!_&&n.jsx("button",{onClick:()=>t(-1),className:"p-2 rounded-lg bg-white/20 hover:bg-white/30 transition-colors",children:n.jsx(Ut,{className:"w-6 h-6 text-white"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-4xl font-bold text-white",children:_?"Minhas Entregas":"Painel do Motoboy"}),n.jsx("p",{className:"text-base text-white opacity-90 mt-1",children:_?`Ol, ${C||(r==null?void 0:r.nome)||"Motoboy"}`:"Gerencie as entregas dos motoboys"})]})]})})}),n.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-6",children:[n.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6 mb-6",children:n.jsxs("div",{className:"flex flex-col lg:flex-row items-start lg:items-center justify-between gap-4",children:[!_&&n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Hr,{className:"w-5 h-5 text-slate-500"}),n.jsx("select",{value:i||"",onChange:P=>l(P.target.value),className:"min-w-[200px]",children:E.map(P=>n.jsx("option",{value:P.id,children:P.nome},P.id))})]}),n.jsxs("div",{className:"flex gap-2 flex-wrap",children:[n.jsx("button",{onClick:()=>m("dia"),className:"px-4 py-2 rounded-lg font-semibold text-sm transition-all",style:{backgroundColor:h==="dia"?"#376295":"#f1f5f9",color:h==="dia"?"white":"#64748b"},children:"Dia"}),n.jsx("button",{onClick:()=>m("semana"),className:"px-4 py-2 rounded-lg font-semibold text-sm transition-all",style:{backgroundColor:h==="semana"?"#376295":"#f1f5f9",color:h==="semana"?"white":"#64748b"},children:"Semana"}),_&&n.jsxs(n.Fragment,{children:[w?n.jsxs("button",{onClick:O,disabled:K.isPending,className:"flex items-center gap-2 px-4 py-2 rounded-lg font-semibold text-sm transition-all bg-green-500 hover:bg-green-600 text-white",children:[n.jsx(FA,{className:"w-4 h-4"}),K.isPending?"Salvando...":"Salvar Ordem"]}):n.jsxs("button",{onClick:()=>b(!0),className:"flex items-center gap-2 px-4 py-2 rounded-lg font-semibold text-sm transition-all",style:{backgroundColor:"#890d5d",color:"white"},children:[n.jsx(Av,{className:"w-4 h-4"}),"Organizar"]}),w&&n.jsx("button",{onClick:()=>{b(!1),j({})},className:"px-4 py-2 rounded-lg font-semibold text-sm transition-all bg-slate-200 hover:bg-slate-300 text-slate-700",children:"Cancelar"})]})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("button",{onClick:h==="dia"?R:F,className:"p-2 rounded-lg border border-slate-300 hover:bg-slate-50 transition-colors",children:n.jsx(Ut,{className:"w-5 h-5 text-slate-600"})}),n.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-slate-100 min-w-[200px] justify-center",children:[n.jsx(wo,{className:"w-4 h-4 text-slate-600"}),n.jsx("span",{className:"font-semibold text-sm text-slate-700",children:pe()})]}),n.jsx("button",{onClick:h==="dia"?B:D,className:"p-2 rounded-lg border border-slate-300 hover:bg-slate-50 transition-colors",children:n.jsx(Jl,{className:"w-5 h-5 text-slate-600"})}),n.jsx("button",{onClick:oe,className:"px-4 py-2 rounded-lg font-semibold text-sm transition-colors border border-slate-300 hover:bg-slate-50 text-slate-700",children:"Hoje"})]}),n.jsx("div",{className:"flex items-center gap-2",children:n.jsx("input",{type:"date",value:Je(d,"yyyy-MM-dd"),onChange:P=>{const[Z,le,ve]=P.target.value.split("-"),je=new Date(parseInt(Z),parseInt(le)-1,parseInt(ve));u(je)}})})]})}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4 mb-6",children:[n.jsxs("div",{onClick:P=>{P.stopPropagation(),p("todos")},className:"rounded-xl shadow-sm p-5 cursor-pointer transition-all hover:shadow-md bg-white",style:{border:g==="todos"?"2px solid #376295":"2px solid transparent"},children:[n.jsxs("div",{className:"flex items-center justify-center gap-2 mb-3",children:[n.jsx("div",{className:"p-1.5 rounded-lg",style:{backgroundColor:"#E8F0F8"},children:n.jsx(Vr,{className:"w-6 h-6",style:{color:"#376295"}})}),n.jsx("span",{className:"text-sm font-bold text-slate-700",children:"Total"})]}),n.jsx("div",{className:"text-4xl font-bold text-center",style:{color:"#376295"},children:Y.total})]}),n.jsxs("div",{onClick:P=>{P.stopPropagation(),p("entregues")},className:"rounded-xl shadow-sm p-5 cursor-pointer transition-all hover:shadow-md bg-white",style:{border:g==="entregues"?"2px solid #22c55e":"2px solid transparent"},children:[n.jsxs("div",{className:"flex items-center justify-center gap-2 mb-3",children:[n.jsx("div",{className:"p-1.5 rounded-lg",style:{backgroundColor:"#E8F5E8"},children:n.jsx(vo,{className:"w-6 h-6",style:{color:"#22c55e"}})}),n.jsx("span",{className:"text-sm font-bold text-slate-700",children:"Entregues"})]}),n.jsx("div",{className:"text-4xl font-bold text-center",style:{color:"#22c55e"},children:Y.entregues})]}),n.jsxs("div",{onClick:P=>{P.stopPropagation(),p("pendentes")},className:"rounded-xl shadow-sm p-5 cursor-pointer transition-all hover:shadow-md bg-white",style:{border:g==="pendentes"?"2px solid #890d5d":"2px solid transparent"},children:[n.jsxs("div",{className:"flex items-center justify-center gap-2 mb-3",children:[n.jsx("div",{className:"p-1.5 rounded-lg",style:{backgroundColor:"#F5E8F5"},children:n.jsx(Vr,{className:"w-6 h-6",style:{color:"#890d5d"}})}),n.jsx("span",{className:"text-sm font-bold text-slate-700",children:"Pendentes"})]}),n.jsx("div",{className:"text-4xl font-bold text-center",style:{color:"#890d5d"},children:Y.pendentes})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-5 border-2 border-transparent",children:[n.jsxs("div",{className:"flex items-center justify-center gap-2 mb-3",children:[n.jsx("div",{className:"p-1.5 rounded-lg",style:{backgroundColor:"#E8F0F8"},children:n.jsx(ba,{className:"w-6 h-6",style:{color:"#376295"}})}),n.jsx("span",{className:"text-sm font-bold text-slate-700",children:"Valor Total"})]}),n.jsxs("div",{className:"text-4xl font-bold text-center",style:{color:"#376295"},children:["R$ ",I.valorTotal.toFixed(2)]})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-5 border-2 border-transparent",children:[n.jsxs("div",{className:"flex items-center justify-center gap-2 mb-3",children:[n.jsx("div",{className:"p-1.5 rounded-lg",style:{backgroundColor:"#E8F5E8"},children:n.jsx(YA,{className:"w-6 h-6",style:{color:"#22c55e"}})}),n.jsx("span",{className:"text-sm font-bold text-slate-700",children:"Ganhos"})]}),n.jsxs("div",{className:"text-4xl font-bold text-center",style:{color:"#22c55e"},children:["R$ ",I.taxaTotal.toFixed(2)]})]})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 mb-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("div",{className:"text-sm font-semibold text-slate-700",children:"Progresso do Dia"}),n.jsxs("div",{className:"text-sm font-bold",style:{color:"#376295"},children:[I.total>0?Math.round(I.entregues/I.total*100):0,"%"]})]}),n.jsx("div",{className:"w-full bg-slate-200 rounded-full h-3 overflow-hidden",children:n.jsx("div",{className:"h-3 rounded-full transition-all duration-500",style:{background:"linear-gradient(135deg, #457bba 0%, #890d5d 100%)",width:`${I.total>0?I.entregues/I.total*100:0}%`}})})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden mb-6 max-w-2xl",children:[n.jsxs("div",{className:"px-3 py-2 flex items-center justify-between",style:{backgroundColor:"#22c55e"},children:[n.jsx("h2",{className:"text-sm font-bold text-white",children:"Ganhos da Semana"}),n.jsx("div",{className:"text-right",children:n.jsxs("span",{className:"text-base font-bold text-white",children:["R$ ",fe.toFixed(2)]})})]}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full text-xs",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"bg-slate-50 border-b border-slate-200",children:[n.jsx("th",{className:"px-2 py-1.5 text-left font-semibold text-slate-600",children:"Dia"}),n.jsx("th",{className:"px-2 py-1.5 text-left font-semibold text-slate-600",children:"Data"}),n.jsx("th",{className:"px-2 py-1.5 text-center font-semibold text-slate-600",children:"Entregues"}),n.jsx("th",{className:"px-2 py-1.5 text-right font-semibold text-slate-600",children:"Ganhos"})]})}),n.jsx("tbody",{children:ae.map((P,Z)=>n.jsxs("tr",{className:"border-b border-slate-100 hover:bg-slate-50",style:{backgroundColor:P.isHoje?"#E8F0F8":"white"},children:[n.jsx("td",{className:"px-2 py-1.5",children:n.jsxs("div",{className:"flex items-center gap-1.5",children:[n.jsx("span",{className:"font-medium text-slate-900",style:{color:P.isHoje?"#376295":void 0},children:P.nome}),P.isHoje&&n.jsx("span",{className:"text-white text-[10px] px-1 py-0.5 rounded font-semibold",style:{backgroundColor:"#376295"},children:"HOJE"})]})}),n.jsx("td",{className:"px-2 py-1.5 text-slate-600",children:Je(P.data,"dd/MM/yy",{locale:_n})}),n.jsx("td",{className:"px-2 py-1.5 text-center",children:n.jsx("span",{className:`font-semibold ${P.entregues>0?"":"text-slate-400"}`,style:{color:P.entregues>0?"#22c55e":void 0},children:P.entregues})}),n.jsx("td",{className:"px-2 py-1.5 text-right",children:n.jsxs("span",{className:`font-bold ${P.taxa>0?"":"text-slate-400"}`,style:{color:P.taxa>0?"#22c55e":void 0},children:["R$ ",P.taxa.toFixed(2)]})})]},P.dataStr))})]})})]}),n.jsxs("div",{className:"space-y-6",children:[h==="semana"&&Object.keys(se).length>0&&Object.entries(se).sort(([P],[Z])=>P.localeCompare(Z)).map(([P,Z])=>{const le=new Date(P+"T00:00:00"),ve=Z.filter(Ee=>Ee.periodo==="Manh"),je=Z.filter(Ee=>Ee.periodo==="Tarde");return n.jsxs("div",{className:"space-y-4",children:[n.jsx("div",{className:"text-white px-4 py-3 rounded-lg shadow-sm",style:{background:"linear-gradient(135deg, #457bba 0%, #890d5d 100%)"},children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(wo,{className:"w-5 h-5"}),n.jsxs("div",{children:[n.jsx("div",{className:"font-bold text-lg",children:Je(le,"EEEE, dd 'de' MMMM",{locale:_n})}),n.jsxs("div",{className:"text-xs opacity-90",children:[Z.length," entrega",Z.length!==1?"s":""]})]})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("div",{className:"text-xs opacity-90",children:"Entregues"}),n.jsxs("div",{className:"text-lg font-bold",children:[Z.filter(Ee=>Ee.status==="Entregue").length,"/",Z.length]})]})]})}),ve.length>0&&n.jsxs("div",{children:[n.jsxs("div",{className:"text-white px-4 py-2 rounded-lg font-semibold text-sm mb-3",style:{backgroundColor:"#f97316"},children:[" MANH (",ve.length,")"]}),n.jsx("div",{className:"space-y-3",children:Object.entries(ve.reduce((Ee,Ae)=>{var at;const Ve=((at=Ae.endereco)==null?void 0:at.cidade)||"Sem cidade";return Ee[Ve]||(Ee[Ve]=[]),Ee[Ve].push(Ae),Ee},{})).map(([Ee,Ae])=>n.jsxs("div",{children:[n.jsxs("div",{className:"text-xs font-semibold text-slate-600 mb-2 ml-1",children:[" ",Ee," - ",Ae.length," entrega",Ae.length!==1?"s":""]}),n.jsx("div",{className:"space-y-2",children:Ae.map(Ve=>n.jsx(jl,{entrega:Ve,onStatusChange:z,isUpdating:U.isPending,onCardClick:he},Ve.id))})]},Ee))})]}),je.length>0&&n.jsxs("div",{children:[n.jsxs("div",{className:"text-white px-4 py-2 rounded-lg font-semibold text-sm mb-3",style:{backgroundColor:"#f97316"},children:[" TARDE (",je.length,")"]}),n.jsx("div",{className:"space-y-3",children:Object.entries(je.reduce((Ee,Ae)=>{var at;const Ve=((at=Ae.endereco)==null?void 0:at.cidade)||"Sem cidade";return Ee[Ve]||(Ee[Ve]=[]),Ee[Ve].push(Ae),Ee},{})).map(([Ee,Ae])=>n.jsxs("div",{children:[n.jsxs("div",{className:"text-xs font-semibold text-slate-600 mb-2 ml-1",children:[" ",Ee," - ",Ae.length," entrega",Ae.length!==1?"s":""]}),n.jsx("div",{className:"space-y-2",children:Ae.map(Ve=>n.jsx(jl,{entrega:Ve,onStatusChange:z,isUpdating:U.isPending,onCardClick:he},Ve.id))})]},Ee))})]})]},P)}),h==="dia"&&n.jsx(n.Fragment,{children:w&&_?n.jsxs("div",{children:[n.jsxs("div",{className:"bg-gradient-to-r from-[#890d5d] to-[#457bba] text-white px-4 py-3 rounded-lg font-semibold text-sm mb-4 flex items-center gap-2",children:[n.jsx(Av,{className:"w-5 h-5"}),"Arraste para organizar suas entregas (",A.length,")"]}),n.jsx("div",{className:"space-y-3",children:(()=>{const P=V(A);return P.map((Z,le)=>n.jsx(jl,{entrega:Z,onStatusChange:z,isUpdating:U.isPending,onCardClick:he,modoOrganizar:!0,posicao:le,totalEntregas:P.length,onMoverCima:()=>ue(Z.id,"cima",P),onMoverBaixo:()=>ue(Z.id,"baixo",P)},Z.id))})()})]}):n.jsxs(n.Fragment,{children:[L.manha.length>0&&n.jsxs("div",{children:[n.jsx("div",{className:"flex items-center gap-2 mb-4",children:n.jsxs("div",{className:"text-white px-4 py-2 rounded-lg font-semibold text-sm",style:{backgroundColor:"#f97316"},children:[" MANH (",L.manha.length,")"]})}),n.jsx("div",{className:"space-y-3",children:Object.entries(V(L.manha).reduce((P,Z)=>{var ve;const le=((ve=Z.endereco)==null?void 0:ve.cidade)||"Sem cidade";return P[le]||(P[le]=[]),P[le].push(Z),P},{})).map(([P,Z])=>n.jsxs("div",{children:[n.jsxs("div",{className:"text-xs font-semibold text-slate-600 mb-2 ml-1",children:[" ",P," - ",Z.length," entrega",Z.length!==1?"s":""]}),n.jsx("div",{className:"space-y-2",children:Z.map(le=>n.jsx(jl,{entrega:le,onStatusChange:z,isUpdating:U.isPending,onCardClick:he},le.id))})]},P))})]}),L.tarde.length>0&&n.jsxs("div",{children:[n.jsx("div",{className:"flex items-center gap-2 mb-4",children:n.jsxs("div",{className:"text-white px-4 py-2 rounded-lg font-semibold text-sm",style:{backgroundColor:"#f97316"},children:[" TARDE (",L.tarde.length,")"]})}),n.jsx("div",{className:"space-y-3",children:Object.entries(V(L.tarde).reduce((P,Z)=>{var ve;const le=((ve=Z.endereco)==null?void 0:ve.cidade)||"Sem cidade";return P[le]||(P[le]=[]),P[le].push(Z),P},{})).map(([P,Z])=>n.jsxs("div",{children:[n.jsxs("div",{className:"text-xs font-semibold text-slate-600 mb-2 ml-1",children:[" ",P," - ",Z.length," entrega",Z.length!==1?"s":""]}),n.jsx("div",{className:"space-y-2",children:Z.map(le=>n.jsx(jl,{entrega:le,onStatusChange:z,isUpdating:U.isPending,onCardClick:he},le.id))})]},P))})]})]})}),A.length===0&&!T&&n.jsxs("div",{className:"bg-white rounded-xl shadow-md p-12 text-center",children:[n.jsx(Vr,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),n.jsxs("div",{className:"text-xl font-semibold text-slate-600 mb-2",children:["Nenhuma entrega para ",h==="dia"?Je(d,"dd/MM/yyyy"):"esta semana"]}),n.jsxs("div",{className:"text-sm text-slate-500 mb-4",children:[de==null?void 0:de.nome," no tem entregas agendadas para este perodo."]}),S.length>0&&n.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 max-w-md mx-auto",children:[n.jsx("div",{className:"text-sm font-semibold text-blue-900 mb-2",children:" Dias com entregas:"}),n.jsx("div",{className:"flex flex-wrap gap-2 justify-center",children:[...new Set(S.map(P=>P.data_entrega))].sort().map(P=>n.jsx("button",{onClick:()=>{const[Z,le,ve]=P.split("-"),je=new Date(parseInt(Z),parseInt(le)-1,parseInt(ve));u(je),m("dia")},className:"bg-blue-500 hover:bg-blue-600 text-white px-3 py-1 rounded-lg text-sm font-semibold transition-colors",children:Je(new Date(P+"T00:00:00"),"dd/MM")},P))})]})]})]})]})]})}function jl({entrega:t,onStatusChange:e,isUpdating:r,onCardClick:o,modoOrganizar:i,onMoverCima:l,onMoverBaixo:d,posicao:u,totalEntregas:h}){var p,w,b,N,j,_,C;const m=E=>{switch(E){case"Entregue":return"bg-green-50 border-green-200";case"A Caminho":return"bg-yellow-50 border-yellow-200";case"No Entregue":return"bg-red-50 border-red-200";default:return"bg-white border-slate-200"}},g=E=>{switch(E){case"Entregue":return{backgroundColor:"#22c55e",color:"white"};case"A Caminho":return{backgroundColor:"#f97316",color:"white"};case"No Entregue":return{backgroundColor:"#ef4444",color:"white"};case"Pendente":return{backgroundColor:"#890d5d",color:"white"};default:return{backgroundColor:"#376295",color:"white"}}};return n.jsxs("div",{className:`rounded-xl shadow-md border-2 overflow-hidden transition-all ${i?"":"cursor-pointer hover:shadow-lg hover:scale-[1.02]"} ${m(t.status)}`,onClick:E=>{!i&&o&&o(t)},children:[i&&n.jsxs("div",{className:"bg-gradient-to-r from-[#890d5d] to-[#457bba] p-3 flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2 text-white",children:[n.jsx(_A,{className:"w-5 h-5"}),n.jsxs("span",{className:"font-bold text-lg",children:["#",u+1]})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{onClick:E=>{E.stopPropagation(),l&&l()},disabled:u===0,className:`p-3 rounded-xl font-bold transition-all ${u===0?"bg-white/30 text-white/50 cursor-not-allowed":"bg-white text-[#890d5d] hover:bg-slate-100 active:scale-95"}`,children:n.jsx(J5,{className:"w-6 h-6"})}),n.jsx("button",{onClick:E=>{E.stopPropagation(),d&&d()},disabled:u===h-1,className:`p-3 rounded-xl font-bold transition-all ${u===h-1?"bg-white/30 text-white/50 cursor-not-allowed":"bg-white text-[#890d5d] hover:bg-slate-100 active:scale-95"}`,children:n.jsx(H5,{className:"w-6 h-6"})})]})]}),n.jsxs("div",{className:"p-4",style:{pointerEvents:i?"auto":"none"},children:[n.jsxs("div",{className:"flex items-start justify-between mb-3",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx("h3",{className:"font-bold text-slate-900 text-lg",children:((p=t.cliente)==null?void 0:p.nome)||"Cliente"}),t.recibo_medico&&n.jsx("span",{className:"text-white text-xs px-2 py-0.5 rounded font-semibold",style:{backgroundColor:"#376295"},children:"RECEITA"})]}),n.jsxs("div",{className:"text-xs text-slate-600 mb-2",children:["Requisio: ",n.jsx("span",{className:"font-mono font-semibold",children:t.requisicao||"-"})]})]}),n.jsx("div",{className:"px-3 py-1 rounded-lg text-xs font-bold",style:g(t.status),children:t.status||"Pendente"})]}),n.jsxs("div",{className:"space-y-2 mb-4",children:[n.jsxs("div",{className:"flex items-start gap-2 text-sm",children:[n.jsx(ji,{className:"w-4 h-4 text-slate-500 mt-0.5 flex-shrink-0"}),n.jsxs("div",{className:"text-slate-700",children:[n.jsxs("div",{className:"font-medium",children:[(w=t.endereco)==null?void 0:w.logradouro,", ",(b=t.endereco)==null?void 0:b.numero]}),n.jsxs("div",{className:"text-xs text-slate-600",children:[(N=t.endereco)==null?void 0:N.bairro," - ",(j=t.endereco)==null?void 0:j.cidade,((_=t.endereco)==null?void 0:_.complemento)&&`  ${t.endereco.complemento}`]})]})]}),n.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[n.jsx(Ml,{className:"w-4 h-4 text-slate-500 flex-shrink-0"}),n.jsx("span",{className:"text-slate-700 font-medium",children:((C=t.cliente)==null?void 0:C.telefone)||"Sem telefone"})]}),n.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[n.jsx(on,{className:"w-4 h-4 text-slate-500 flex-shrink-0"}),n.jsxs("span",{className:"text-slate-700",children:[n.jsx("span",{className:"font-semibold",children:t.horario||"Sem horrio"}),t.observacoes&&`  ${t.observacoes}`]})]}),n.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ba,{className:"w-4 h-4 text-slate-500 flex-shrink-0"}),n.jsxs("span",{className:"text-slate-700",children:["Pagamento: ",n.jsx("span",{className:"font-semibold",children:t.forma_pagamento||"-"})]})]}),t.valor&&n.jsxs("div",{className:"text-slate-700",children:["Valor: ",n.jsxs("span",{className:"font-bold",style:{color:"#376295"},children:["R$ ",parseFloat(t.valor).toFixed(2)]})]})]})]}),n.jsxs("div",{className:"flex gap-2",style:{pointerEvents:"auto"},onClick:E=>E.stopPropagation(),children:[t.status!=="Entregue"&&n.jsxs(n.Fragment,{children:[t.status!=="A Caminho"&&n.jsx("button",{onClick:E=>{E.stopPropagation(),e(t.id,"A Caminho")},disabled:r,className:"flex-1 text-white font-semibold py-2 px-4 rounded-lg transition-opacity hover:opacity-90 disabled:opacity-50 text-sm",style:{backgroundColor:"#f97316"},children:" A Caminho"}),n.jsx("button",{onClick:E=>{E.stopPropagation(),e(t.id,"Entregue")},disabled:r,className:"flex-1 text-white font-semibold py-2 px-4 rounded-lg transition-opacity hover:opacity-90 disabled:opacity-50 text-sm",style:{backgroundColor:"#22c55e"},children:" Entregar"}),n.jsx("button",{onClick:E=>{E.stopPropagation(),e(t.id,"No Entregue")},disabled:r,className:"flex-1 text-white font-semibold py-2 px-4 rounded-lg transition-opacity hover:opacity-90 disabled:opacity-50 text-sm",style:{backgroundColor:"#ef4444"},children:" No Entregue"})]}),t.status==="Entregue"&&n.jsx("div",{className:"flex-1 font-semibold py-2 px-4 rounded-lg text-center text-sm",style:{backgroundColor:"#E8F5E8",color:"#22c55e"},children:" Entrega Concluda"})]})]})]})}function FM(){const t=qt(),e=an(),[r,o]=v.useState("todos"),[i,l]=v.useState(""),{data:d=[]}=_r({queryKey:["motoboys-lista"],queryFn:async()=>{const{data:S,error:T}=await Ne.from("motoboys").select("*").order("nome");if(T)throw T;return S||[]}}),{data:u=[],isLoading:h}=_r({queryKey:["dispositivos"],queryFn:async()=>{const{data:S,error:T}=await Ne.from("dispositivos").select("*").order("ultimo_acesso",{ascending:!1});if(T)throw T;return S||[]}}),m=u.filter(S=>{var A,U,K;if(!(r==="todos"||r==="autorizados"&&S.status==="Autorizado"||r==="pendentes"&&S.status==="Pendente"||r==="bloqueados"&&S.status==="Bloqueado"))return!1;if(i.trim()==="")return!0;const q=i.toLowerCase();return((A=S.nome)==null?void 0:A.toLowerCase().includes(q))||((U=S.usuario)==null?void 0:U.toLowerCase().includes(q))||((K=S.impressao_digital)==null?void 0:K.toLowerCase().includes(q))}),g={total:u.length,autorizados:u.filter(S=>S.status==="Autorizado").length,pendentes:u.filter(S=>S.status==="Pendente").length,bloqueados:u.filter(S=>S.status==="Bloqueado").length},p=pr({mutationFn:async S=>{const{error:T}=await Ne.from("dispositivos").update({status:"Autorizado"}).eq("id",S);if(T)throw T},onSuccess:()=>{e.invalidateQueries({queryKey:["dispositivos"]}),me.success("Dispositivo autorizado!")},onError:()=>{me.error("Erro ao autorizar dispositivo")}}),w=pr({mutationFn:async S=>{const{error:T}=await Ne.from("dispositivos").update({status:"Bloqueado"}).eq("id",S);if(T)throw T},onSuccess:()=>{e.invalidateQueries({queryKey:["dispositivos"]}),me.success("Dispositivo bloqueado!")},onError:()=>{me.error("Erro ao bloquear dispositivo")}}),b=pr({mutationFn:async S=>{const{error:T}=await Ne.from("dispositivos").delete().eq("id",S);if(T)throw T},onSuccess:()=>{e.invalidateQueries({queryKey:["dispositivos"]}),me.success("Dispositivo removido!")},onError:()=>{me.error("Erro ao remover dispositivo")}}),N=pr({mutationFn:async({dispositivoId:S,tipoUsuario:T,nomeMotoboy:q})=>{const{error:A}=await Ne.from("dispositivos").update({tipo_usuario:T,nome_motoboy:q||null}).eq("id",S);if(A)throw A},onSuccess:()=>{e.invalidateQueries({queryKey:["dispositivos"]}),me.success("Tipo de usurio atualizado!")},onError:S=>{console.error("Erro:",S),me.error("Erro ao atualizar tipo de usurio")}}),j=S=>{p.mutate(S)},_=S=>{w.mutate(S)},C=S=>{window.confirm("Tem certeza que deseja remover este dispositivo?")&&b.mutate(S)},E=(S,T,q)=>{N.mutate({dispositivoId:S,tipoUsuario:T,nomeMotoboy:q})};return n.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100",children:[n.jsx("div",{className:"py-8 shadow-sm",style:{background:"linear-gradient(135deg, #457bba 0%, #890d5d 100%)"},children:n.jsx("div",{className:"max-w-7xl mx-auto px-6",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("button",{onClick:()=>t(-1),className:"p-2 rounded-lg bg-white/20 hover:bg-white/30 transition-colors",children:n.jsx(Ut,{className:"w-6 h-6 text-white"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-4xl font-bold text-white",children:"Gerenciar Usurios/Dispositivos"}),n.jsx("p",{className:"text-base text-white opacity-90 mt-1",children:"Autorizar ou bloquear dispositivos de acesso"})]})]})})}),n.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-6",children:[n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4 mb-6",children:[n.jsxs("div",{onClick:()=>t(LM("Usuarios")),className:"rounded-xl shadow-sm p-5 cursor-pointer transition-all hover:shadow-md hover:scale-105",style:{backgroundColor:"#890d5d"},children:[n.jsxs("div",{className:"flex items-center justify-center gap-2 mb-3",children:[n.jsx("div",{className:"p-1.5 rounded-lg bg-white/20",children:n.jsx(iP,{className:"w-6 h-6 text-white"})}),n.jsx("span",{className:"text-sm font-bold text-white",children:"Usurios"})]}),n.jsx("div",{className:"text-center",children:n.jsx("span",{className:"text-white font-semibold text-sm",children:"Gerenciar"})})]}),n.jsxs("div",{onClick:()=>o("todos"),className:"bg-white rounded-xl shadow-sm p-5 cursor-pointer transition-all hover:shadow-md",style:{border:r==="todos"?"2px solid #376295":"2px solid transparent"},children:[n.jsxs("div",{className:"flex items-center justify-center gap-2 mb-3",children:[n.jsx("div",{className:"p-1.5 rounded-lg",style:{backgroundColor:"#E8F0F8"},children:n.jsx(Rl,{className:"w-6 h-6",style:{color:"#376295"}})}),n.jsx("span",{className:"text-sm font-bold text-slate-700",children:"Total"})]}),n.jsx("div",{className:"text-4xl font-bold text-center",style:{color:"#376295"},children:g.total})]}),n.jsxs("div",{onClick:()=>o("autorizados"),className:"bg-white rounded-xl shadow-sm p-5 cursor-pointer transition-all hover:shadow-md",style:{border:r==="autorizados"?"2px solid #22c55e":"2px solid transparent"},children:[n.jsxs("div",{className:"flex items-center justify-center gap-2 mb-3",children:[n.jsx("div",{className:"p-1.5 rounded-lg",style:{backgroundColor:"#E8F5E8"},children:n.jsx(vo,{className:"w-6 h-6",style:{color:"#22c55e"}})}),n.jsx("span",{className:"text-sm font-bold text-slate-700",children:"Autorizados"})]}),n.jsx("div",{className:"text-4xl font-bold text-center",style:{color:"#22c55e"},children:g.autorizados})]}),n.jsxs("div",{onClick:()=>o("pendentes"),className:"bg-white rounded-xl shadow-sm p-5 cursor-pointer transition-all hover:shadow-md",style:{border:r==="pendentes"?"2px solid #f97316":"2px solid transparent"},children:[n.jsxs("div",{className:"flex items-center justify-center gap-2 mb-3",children:[n.jsx("div",{className:"p-1.5 rounded-lg",style:{backgroundColor:"#FEF3E8"},children:n.jsx(on,{className:"w-6 h-6",style:{color:"#f97316"}})}),n.jsx("span",{className:"text-sm font-bold text-slate-700",children:"Pendentes"})]}),n.jsx("div",{className:"text-4xl font-bold text-center",style:{color:"#f97316"},children:g.pendentes})]}),n.jsxs("div",{onClick:()=>o("bloqueados"),className:"bg-white rounded-xl shadow-sm p-5 cursor-pointer transition-all hover:shadow-md",style:{border:r==="bloqueados"?"2px solid #ef4444":"2px solid transparent"},children:[n.jsxs("div",{className:"flex items-center justify-center gap-2 mb-3",children:[n.jsx("div",{className:"p-1.5 rounded-lg",style:{backgroundColor:"#fef2f2"},children:n.jsx(kl,{className:"w-6 h-6",style:{color:"#ef4444"}})}),n.jsx("span",{className:"text-sm font-bold text-slate-700",children:"Bloqueados"})]}),n.jsx("div",{className:"text-4xl font-bold text-center",style:{color:"#ef4444"},children:g.bloqueados})]})]}),n.jsx("div",{className:"bg-white rounded-xl shadow-sm p-4 mb-6",children:n.jsxs("div",{className:"relative",children:[n.jsx(Nn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),n.jsx("input",{type:"text",value:i,onChange:S=>l(S.target.value),placeholder:"Buscar por e-mail, dispositivo ou impresso digital...",className:"w-full pl-10 pr-4 py-3 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 transition-all",style:{"--tw-ring-color":"#376295"},onFocus:S=>S.target.style.borderColor="#376295",onBlur:S=>S.target.style.borderColor="#cbd5e1"})]})}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:[n.jsx("div",{className:"px-6 py-4 border-b border-slate-200",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Rl,{className:"w-5 h-5 text-slate-600"}),n.jsx("h2",{className:"text-lg font-bold text-slate-900",children:"Dispositivos Registrados"})]})}),n.jsx("div",{className:"divide-y divide-slate-200",children:h?n.jsx("div",{className:"p-12 text-center text-slate-500",children:"Carregando dispositivos..."}):m.length===0?n.jsxs("div",{className:"p-12 text-center",children:[n.jsx(Rl,{className:"w-12 h-12 text-slate-300 mx-auto mb-3"}),n.jsx("div",{className:"text-slate-600 font-medium",children:"Nenhum dispositivo encontrado"}),n.jsx("div",{className:"text-sm text-slate-500 mt-1",children:i?"Tente ajustar sua busca":"No h dispositivos cadastrados"})]}):m.map(S=>n.jsx(zM,{dispositivo:S,motoboys:d,onAutorizar:j,onBloquear:_,onDeletar:C,onAtualizarTipo:E,isUpdating:p.isPending||w.isPending||b.isPending||N.isPending},S.id))})]})]})]})}function zM({dispositivo:t,motoboys:e,onAutorizar:r,onBloquear:o,onDeletar:i,onAtualizarTipo:l,isUpdating:d}){const[u,h]=be.useState(t.tipo_usuario||""),[m,g]=be.useState(t.nome_motoboy||""),p=_=>{h(_),_!=="motoboy"&&(g(""),l(t.id,_,null))},w=_=>{g(_),_&&l(t.id,"motoboy",_)},b=_=>{switch(_){case"Autorizado":return n.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 rounded-full text-xs font-semibold",style:{backgroundColor:"#E8F5E8",color:"#22c55e"},children:[n.jsx(vo,{className:"w-3 h-3"}),"Autorizado"]});case"Pendente":return n.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 rounded-full text-xs font-semibold",style:{backgroundColor:"#FEF3E8",color:"#f97316"},children:[n.jsx(on,{className:"w-3 h-3"}),"Pendente"]});case"Bloqueado":return n.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 rounded-full text-xs font-semibold",style:{backgroundColor:"#fef2f2",color:"#ef4444"},children:[n.jsx(kl,{className:"w-3 h-3"}),"Bloqueado"]});default:return null}},N=_=>_!=null&&_.toLowerCase().includes("safari")||_!=null&&_.toLowerCase().includes("mac")?n.jsx(Rl,{className:"w-5 h-5 text-slate-600"}):n.jsx(e1,{className:"w-5 h-5 text-slate-600"}),j=_=>_?new Date(_).toLocaleString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}):"-";return n.jsx("div",{className:"p-6 hover:bg-slate-50 transition-colors",children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex items-start gap-4 flex-1",children:[n.jsx("div",{className:"mt-1",children:N(t.nome)}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[n.jsx("h3",{className:"font-bold text-slate-900",children:t.nome||"Dispositivo Desconhecido"}),b(t.status)]}),n.jsxs("div",{className:"space-y-1 text-sm",children:[n.jsxs("div",{className:"text-slate-600",children:[n.jsx("span",{className:"font-medium",children:"Usurio:"})," ",n.jsx("span",{className:"text-slate-900",children:t.usuario||"-"})]}),n.jsxs("div",{className:"text-slate-600",children:[n.jsx("span",{className:"font-medium",children:"Impresso digital:"})," ",n.jsx("span",{className:"font-mono text-xs text-slate-700",children:t.impressao_digital||"-"})]}),n.jsxs("div",{className:"text-slate-600",children:[n.jsx("span",{className:"font-medium",children:"ltimo acesso:"})," ",n.jsx("span",{className:"text-slate-900",children:j(t.ultimo_acesso)})]})]}),n.jsx("div",{className:"mt-4 pt-4 border-t border-slate-200",children:n.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-sm font-medium text-slate-600",children:"Tipo:"}),n.jsxs("select",{value:u,onChange:_=>p(_.target.value),disabled:d,className:"min-w-[160px] h-10 rounded-lg border border-slate-300 bg-white px-3 py-2 text-sm font-medium text-slate-900 disabled:opacity-50 cursor-pointer",children:[n.jsx("option",{value:"",children:"Selecione..."}),n.jsx("option",{value:"admin",children:"Administrador"}),n.jsx("option",{value:"atendente",children:"Atendente"}),n.jsx("option",{value:"motoboy",children:"Motoboy"})]})]}),u==="motoboy"&&n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-sm font-medium text-slate-600",children:"Motoboy:"}),n.jsxs("select",{value:m,onChange:_=>w(_.target.value),disabled:d,className:"min-w-[150px] h-10 rounded-lg border border-slate-300 bg-white px-3 py-2 text-sm font-medium text-slate-900 disabled:opacity-50 cursor-pointer",children:[n.jsx("option",{value:"",children:"Selecione..."}),e==null?void 0:e.map(_=>n.jsx("option",{value:_.nome,children:_.nome},_.id))]})]}),u&&n.jsx("span",{className:`px-3 py-1.5 rounded-lg text-xs font-bold ${u==="admin"?"bg-purple-100 text-purple-700":u==="motoboy"?"bg-orange-100 text-orange-700":"bg-blue-100 text-blue-700"}`,children:u==="admin"?"Administrador":u==="motoboy"?`Motoboy${m?`: ${m}`:""}`:"Atendente"})]})})]})]}),n.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[t.status==="Pendente"&&n.jsxs(n.Fragment,{children:[n.jsxs("button",{onClick:()=>r(t.id),disabled:d,className:"flex items-center gap-2 text-white px-4 py-2 rounded-lg font-semibold text-sm transition-opacity hover:opacity-90 disabled:opacity-50",style:{backgroundColor:"#22c55e"},children:[n.jsx(vo,{className:"w-4 h-4"}),"Autorizar"]}),n.jsxs("button",{onClick:()=>o(t.id),disabled:d,className:"flex items-center gap-2 text-white px-4 py-2 rounded-lg font-semibold text-sm transition-opacity hover:opacity-90 disabled:opacity-50",style:{backgroundColor:"#ef4444"},children:[n.jsx(kl,{className:"w-4 h-4"}),"Bloquear"]})]}),t.status==="Autorizado"&&n.jsxs("button",{onClick:()=>o(t.id),disabled:d,className:"flex items-center gap-2 text-white px-4 py-2 rounded-lg font-semibold text-sm transition-opacity hover:opacity-90 disabled:opacity-50",style:{backgroundColor:"#ef4444"},children:[n.jsx(kl,{className:"w-4 h-4"}),"Bloquear"]}),t.status==="Bloqueado"&&n.jsxs("button",{onClick:()=>r(t.id),disabled:d,className:"flex items-center gap-2 text-white px-4 py-2 rounded-lg font-semibold text-sm transition-opacity hover:opacity-90 disabled:opacity-50",style:{backgroundColor:"#22c55e"},children:[n.jsx(vo,{className:"w-4 h-4"}),"Autorizar"]}),n.jsx("button",{onClick:()=>i(t.id),disabled:d,className:"p-2 text-slate-600 hover:bg-slate-200 rounded-lg transition-colors disabled:opacity-50",children:n.jsx(Ri,{className:"w-5 h-5"})})]})]})})}function UM({romaneio:t}){var o,i,l,d,u,h,m,g,p,w;if(!t)return null;const e=b=>b?new Date(b+"T12:00:00").toLocaleDateString("pt-BR"):"-",r=t.forma_pagamento&&!["Receber Dinheiro","Receber Mquina","Pagar MP"].includes(t.forma_pagamento);return n.jsxs("div",{className:"romaneio-card",style:{position:"relative"},children:[r&&n.jsx("div",{className:"carimbo-pago",style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%) rotate(-25deg)",fontSize:"50px",fontWeight:"bold",textTransform:"uppercase",color:"#000",border:"5px solid #000",padding:"5px 25px",opacity:.2,pointerEvents:"none",zIndex:10,letterSpacing:"5px"},children:"PAGO"}),n.jsxs("div",{style:{textAlign:"center",marginBottom:"10px"},children:[n.jsx("img",{src:"/logo-formedica.png",alt:"Formdica",style:{width:"100px",height:"auto",marginBottom:"5px"}}),n.jsx("h2",{style:{fontSize:"14px",fontWeight:"bold",margin:0},children:"ROMANEIO DE ENTREGA"})]}),n.jsxs("div",{style:{display:"flex",gap:"8px",marginBottom:"8px"},children:[n.jsxs("div",{style:{flex:1,border:"1px solid #000",padding:"8px"},children:[n.jsx("div",{style:{fontWeight:"bold",fontSize:"10px",marginBottom:"5px",borderBottom:"1px solid #000",paddingBottom:"3px"},children:"DADOS DA ENTREGA"}),n.jsxs("div",{style:{fontSize:"9px",marginBottom:"3px"},children:[n.jsx("span",{children:"N. Requisio: "}),n.jsxs("span",{style:{fontWeight:"bold"},children:["#",t.requisicao||"0000"]})]}),n.jsxs("div",{style:{fontSize:"9px",marginBottom:"3px"},children:[n.jsx("span",{children:"Data: "}),n.jsxs("span",{children:[e(t.data_entrega)," - ",t.periodo||"-"]})]}),n.jsxs("div",{style:{fontSize:"9px",marginBottom:"3px"},children:[n.jsx("span",{children:"Motoboy: "}),n.jsx("span",{children:((o=t.motoboy)==null?void 0:o.nome)||"-"})]}),n.jsxs("div",{style:{fontSize:"9px"},children:[n.jsx("span",{children:"Atendente: "}),n.jsx("span",{children:((i=t.atendente)==null?void 0:i.nome)||((l=t.atendente)==null?void 0:l.email)||"-"})]})]}),n.jsxs("div",{style:{flex:1,border:"1px solid #000",padding:"8px"},children:[n.jsx("div",{style:{fontWeight:"bold",fontSize:"10px",marginBottom:"5px",borderBottom:"1px solid #000",paddingBottom:"3px"},children:"CLIENTE"}),n.jsxs("div",{style:{fontSize:"9px",marginBottom:"3px"},children:[n.jsx("span",{children:"Nome: "}),n.jsx("span",{children:((d=t.cliente)==null?void 0:d.nome)||"-"})]}),n.jsxs("div",{style:{fontSize:"9px"},children:[n.jsx("span",{children:"Telefone: "}),n.jsx("span",{children:((u=t.cliente)==null?void 0:u.telefone)||"-"})]})]})]}),n.jsxs("div",{style:{display:"flex",gap:"8px",marginBottom:"8px"},children:[n.jsxs("div",{style:{flex:1,border:"1px solid #000",padding:"8px"},children:[n.jsx("div",{style:{fontWeight:"bold",fontSize:"10px",marginBottom:"5px",borderBottom:"1px solid #000",paddingBottom:"3px"},children:"ENDERECO DE ENTREGA"}),n.jsxs("div",{style:{fontWeight:"bold",fontSize:"10px",marginBottom:"2px"},children:[((h=t.endereco)==null?void 0:h.logradouro)||"-",", ",((m=t.endereco)==null?void 0:m.numero)||"S/N"]}),n.jsxs("div",{style:{fontSize:"9px",marginBottom:"2px"},children:[((g=t.endereco)==null?void 0:g.bairro)||"-"," - ",((p=t.endereco)==null?void 0:p.cidade)||t.regiao||"-"]}),((w=t.endereco)==null?void 0:w.complemento)&&n.jsxs("div",{style:{fontSize:"9px"},children:["Compl.: ",t.endereco.complemento]})]}),n.jsxs("div",{style:{flex:1,border:"1px solid #000",padding:"8px"},children:[n.jsx("div",{style:{fontWeight:"bold",fontSize:"10px",marginBottom:"5px",borderBottom:"1px solid #000",paddingBottom:"3px"},children:"PAGAMENTO"}),n.jsxs("div",{style:{fontSize:"9px"},children:[n.jsx("span",{children:"Forma de Pagamento: "}),n.jsx("span",{children:t.forma_pagamento||"-"})]})]})]}),t.observacoes&&n.jsxs("div",{style:{border:"1px solid #000",padding:"8px",marginBottom:"8px"},children:[n.jsx("div",{style:{fontWeight:"bold",fontSize:"10px",marginBottom:"5px",borderBottom:"1px solid #000",paddingBottom:"3px"},children:"OBSERVAES"}),n.jsx("div",{style:{fontSize:"9px"},children:t.observacoes})]}),(t.item_geladeira||t.buscar_receita)&&n.jsxs("div",{style:{display:"flex",gap:"8px",marginBottom:"8px"},children:[t.item_geladeira&&n.jsxs("div",{style:{flex:1,display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",padding:"8px",fontSize:"11px",fontWeight:"bold",textTransform:"uppercase",border:"2px solid #000",background:"#fff"},children:[n.jsx("span",{children:""}),n.jsx("span",{children:"ITEM DE GELADEIRA"}),n.jsx("span",{children:""})]}),t.buscar_receita&&n.jsxs("div",{style:{flex:1,display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",padding:"8px",fontSize:"11px",fontWeight:"bold",textTransform:"uppercase",border:"2px solid #000",background:"#fff"},children:[n.jsx(jr,{size:14}),n.jsx("span",{children:"RETER RECEITA"}),n.jsx(jr,{size:14})]})]}),(t.valor_venda>0&&["Receber Dinheiro","Receber Mquina","Pagar MP"].includes(t.forma_pagamento)||t.precisa_troco&&t.valor_troco>0)&&n.jsxs("div",{style:{display:"flex",gap:"8px",marginBottom:"8px"},children:[t.valor_venda>0&&["Receber Dinheiro","Receber Mquina","Pagar MP"].includes(t.forma_pagamento)&&n.jsxs("div",{style:{flex:1,background:"#fff",border:"2px solid #000",padding:"8px",textAlign:"center",fontSize:"12px",fontWeight:"bold"},children:["$ COBRAR NA ENTREGA: R$ ",t.valor_venda.toFixed(2).replace(".",",")]}),t.precisa_troco&&t.valor_troco>0&&n.jsxs("div",{style:{flex:1,background:"#fff",border:"2px solid #000",padding:"8px",textAlign:"center",fontSize:"12px",fontWeight:"bold"},children:["TROCO: R$ ",t.valor_troco.toFixed(2).replace(".",",")]})]})]})}function qM(){const t=qt(),[e]=By(),r=e.get("data"),[o,i]=v.useState(r||new Date().toISOString().split("T")[0]),[l,d]=v.useState([]),[u,h]=v.useState(!0),[m,g]=v.useState({busca:"",motoboy:"",periodo:"",status:""}),[p,w]=v.useState(!1),b=async()=>{h(!0);try{const{data:E,error:S}=await Ne.from("entregas").select(`
          *,
          cliente:clientes(id, nome, telefone),
          endereco:enderecos(id, logradouro, numero, bairro, cidade, complemento),
          motoboy:motoboys(id, nome)
        `).eq("tipo","moto").eq("data_entrega",o).order("periodo",{ascending:!0});if(S)throw S;const T=await Promise.all((E||[]).map(async q=>{const A=q.endereco_logradouro?{id:q.endereco_id,logradouro:q.endereco_logradouro,numero:q.endereco_numero,complemento:q.endereco_complemento,bairro:q.endereco_bairro,cidade:q.endereco_cidade}:q.endereco;let U=null;if(q.atendente_id){const{data:K}=await Ne.from("usuarios").select("id, nome, email").eq("id",q.atendente_id).single();U=K}return{...q,endereco:A,atendente:U}}));d(T)}catch(E){console.error("Erro ao carregar romaneios:",E),me.error("Erro ao carregar romaneios")}finally{h(!1)}};v.useEffect(()=>{b()},[o]);const N=l.filter(E=>{var S,T,q,A,U,K,ue,V,O,Y;if(m.busca){const I=m.busca.toLowerCase(),L=(T=(S=E.cliente)==null?void 0:S.nome)==null?void 0:T.toLowerCase().includes(I),ce=(q=E.requisicao)==null?void 0:q.toLowerCase().includes(I),ae=((U=(A=E.endereco)==null?void 0:A.logradouro)==null?void 0:U.toLowerCase().includes(I))||((ue=(K=E.endereco)==null?void 0:K.bairro)==null?void 0:ue.toLowerCase().includes(I)),fe=(O=(V=E.motoboy)==null?void 0:V.nome)==null?void 0:O.toLowerCase().includes(I);if(!L&&!ce&&!ae&&!fe)return!1}return!(m.motoboy&&((Y=E.motoboy)==null?void 0:Y.nome)!==m.motoboy||m.periodo&&E.periodo!==m.periodo||m.status&&E.status!==m.status)}),j=[...new Set(l.map(E=>{var S;return(S=E.motoboy)==null?void 0:S.nome}).filter(Boolean))],_=()=>{window.print()},C=E=>new Date(E+"T12:00:00").toLocaleDateString("pt-BR",{weekday:"long",day:"2-digit",month:"long",year:"numeric"});return n.jsxs(n.Fragment,{children:[n.jsx("style",{children:`
        @media print {
          .no-print {
            display: none !important;
          }
          .print-container {
            padding: 0 !important;
          }
          .romaneio-card {
            page-break-inside: avoid;
            border: 1px solid #000 !important;
            margin-bottom: 10px !important;
            padding: 10px !important;
          }
          .romaneios-grid {
            display: block !important;
          }
          .romaneios-grid > div {
            break-inside: avoid;
          }
        }

        @media screen {
          .romaneio-card {
            border: 1px solid #e2e8f0;
            border-radius: 8px;
            padding: 15px;
            background: white;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
          }
        }
      `}),n.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100",children:[n.jsx("div",{className:"no-print py-8 shadow-sm",style:{background:"linear-gradient(135deg, #457bba 0%, #890d5d 100%)"},children:n.jsx("div",{className:"max-w-7xl mx-auto px-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("button",{onClick:()=>t(-1),className:"p-2 rounded-lg bg-white/20 hover:bg-white/30 transition-colors",children:n.jsx(Ut,{className:"w-6 h-6 text-white"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-white",children:"Romaneios do Dia"}),n.jsx("p",{className:"text-white/80 text-sm mt-1",children:C(o)})]})]}),n.jsx("div",{className:"flex items-center gap-3",children:n.jsxs("button",{onClick:_,className:"flex items-center gap-2 px-4 py-2 bg-white rounded-lg font-semibold text-sm hover:bg-gray-100 transition-colors",style:{color:"#890d5d"},children:[n.jsx(vu,{size:18}),"Imprimir Todos (",N.length,")"]})})]})})}),n.jsx("div",{className:"no-print max-w-7xl mx-auto px-6 py-4",children:n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-4",children:[n.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(wo,{size:18,className:"text-slate-500"}),n.jsx("input",{type:"date",value:o,onChange:E=>i(E.target.value),className:"px-3 py-2 border border-slate-300 rounded-lg text-sm focus:outline-none focus:border-blue-500"})]}),n.jsxs("div",{className:"flex-1 relative",children:[n.jsx(Nn,{size:18,className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400"}),n.jsx("input",{type:"text",value:m.busca,onChange:E=>g({...m,busca:E.target.value}),placeholder:"Buscar por cliente, requisio, endereo, motoboy...",className:"w-full pl-10 pr-4 py-2 border border-slate-300 rounded-lg text-sm focus:outline-none focus:border-blue-500"})]}),n.jsxs("button",{onClick:()=>w(!p),className:"flex items-center gap-2 px-4 py-2 border border-slate-300 rounded-lg text-sm hover:bg-slate-50 transition-colors",children:[n.jsx(wA,{size:18}),"Filtros",(m.motoboy||m.periodo||m.status)&&n.jsx("span",{className:"w-2 h-2 bg-blue-500 rounded-full"})]}),(m.busca||m.motoboy||m.periodo||m.status)&&n.jsxs("button",{onClick:()=>g({busca:"",motoboy:"",periodo:"",status:""}),className:"flex items-center gap-1 px-3 py-2 text-sm text-slate-600 hover:text-slate-900",children:[n.jsx(r1,{size:16}),"Limpar"]})]}),p&&n.jsxs("div",{className:"flex items-center gap-4 mt-4 pt-4 border-t border-slate-200",children:[n.jsxs("select",{value:m.motoboy,onChange:E=>g({...m,motoboy:E.target.value}),className:"px-3 py-2 border border-slate-300 rounded-lg text-sm focus:outline-none focus:border-blue-500",children:[n.jsx("option",{value:"",children:"Todos Motoboys"}),j.map(E=>n.jsx("option",{value:E,children:E},E))]}),n.jsxs("select",{value:m.periodo,onChange:E=>g({...m,periodo:E.target.value}),className:"px-3 py-2 border border-slate-300 rounded-lg text-sm focus:outline-none focus:border-blue-500",children:[n.jsx("option",{value:"",children:"Todos Perodos"}),n.jsx("option",{value:"Manh",children:"Manh"}),n.jsx("option",{value:"Tarde",children:"Tarde"})]}),n.jsxs("select",{value:m.status,onChange:E=>g({...m,status:E.target.value}),className:"px-3 py-2 border border-slate-300 rounded-lg text-sm focus:outline-none focus:border-blue-500",children:[n.jsx("option",{value:"",children:"Todos Status"}),n.jsx("option",{value:"Produzindo no Laboratrio",children:"Produo"}),n.jsx("option",{value:"A Caminho",children:"A Caminho"}),n.jsx("option",{value:"Entregue",children:"Entregue"})]})]})]})}),n.jsx("div",{className:"print-container max-w-7xl mx-auto px-6 pb-8",children:u?n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-12 text-center",children:[n.jsx("div",{className:"inline-block w-8 h-8 border-4 border-slate-200 border-t-blue-500 rounded-full animate-spin mb-4"}),n.jsx("p",{className:"text-slate-600",children:"Carregando romaneios..."})]}):N.length===0?n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-12 text-center",children:[n.jsx(jr,{size:48,className:"mx-auto mb-4 text-slate-300"}),n.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:"Nenhum romaneio encontrado"}),n.jsx("p",{className:"text-slate-600",children:m.busca||m.motoboy||m.periodo||m.status?"Tente ajustar os filtros de busca":"No h romaneios para esta data"})]}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"no-print mb-4 text-sm text-slate-600",children:["Mostrando ",N.length," romaneio(s)"]}),n.jsx("div",{className:"romaneios-grid",style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"16px"},children:N.map(E=>n.jsx(UM,{romaneio:E},E.id))})]})})]})]})}function WM(){const t=qt(),e=an(),[r,o]=v.useState(""),[i,l]=v.useState(!1),[d,u]=v.useState({nome:"",usuario:"",senha:"",tipo_usuario:"atendente",nome_motoboy:"",nome_atendente:""}),[h,m]=v.useState(!1),[g,p]=v.useState(null),{data:w=[],isLoading:b}=_r({queryKey:["dispositivos-usuarios"],queryFn:async()=>{const{data:I,error:L}=await Ne.from("dispositivos").select("*").order("status",{ascending:!1}).order("usuario");if(L)throw L;return I||[]}}),{data:N=[]}=_r({queryKey:["motoboys-lista"],queryFn:async()=>{const{data:I,error:L}=await Ne.from("motoboys").select("*").order("nome");if(L)throw L;return I||[]}}),j=pr({mutationFn:async({id:I,tipo_usuario:L,nome_motoboy:ce})=>{const{error:ae}=await Ne.from("dispositivos").update({tipo_usuario:L,nome_motoboy:ce||null}).eq("id",I);if(ae)throw ae},onSuccess:()=>{e.invalidateQueries({queryKey:["dispositivos-usuarios"]}),me.success("Tipo de usurio atualizado!")},onError:()=>{me.error("Erro ao atualizar usurio")}}),_=pr({mutationFn:async I=>{const{error:L}=await Ne.from("dispositivos").insert([{usuario:I.usuario,nome:I.nome,senha:I.senha,tipo_usuario:I.tipo_usuario,nome_motoboy:I.tipo_usuario==="motoboy"?I.nome_motoboy:null,nome_atendente:I.tipo_usuario==="atendente"?I.nome_atendente:null,status:"Pendente",impressao_digital:"user-"+Date.now(),ultimo_acesso:new Date().toISOString()}]);if(L)throw L},onSuccess:()=>{e.invalidateQueries({queryKey:["dispositivos-usuarios"]}),me.success("Usurio criado! Aguardando autorizao."),l(!1),u({nome:"",usuario:"",senha:"",tipo_usuario:"atendente",nome_motoboy:"",nome_atendente:""})},onError:I=>{console.error("Erro ao criar usurio:",I),me.error("Erro ao criar usurio")}}),C=()=>{if(!d.nome||!d.usuario||!d.senha){me.error("Preencha nome, usurio e senha");return}if(d.tipo_usuario==="motoboy"&&!d.nome_motoboy){me.error("Selecione o motoboy");return}if(d.tipo_usuario==="atendente"&&!d.nome_atendente){me.error("Informe o nome da atendente");return}_.mutate(d)},E=pr({mutationFn:async I=>{const L={nome:I.nome,usuario:I.usuario,tipo_usuario:I.tipo_usuario,nome_motoboy:I.tipo_usuario==="motoboy"?I.nome_motoboy:null,nome_atendente:I.tipo_usuario==="atendente"?I.nome_atendente:null};I.senha&&(L.senha=I.senha),console.log("Atualizando usurio:",I.id,L);const{data:ce,error:ae}=await Ne.from("dispositivos").update(L).eq("id",I.id).select();if(ae)throw console.error("Erro Supabase:",ae),ae;return console.log("Resultado:",ce),ce},onSuccess:()=>{e.invalidateQueries({queryKey:["dispositivos-usuarios"]}),me.success("Usurio atualizado com sucesso!"),m(!1),p(null)},onError:I=>{console.error("Erro ao editar usurio:",I),me.error("Erro ao editar usurio: "+(I.message||"Erro desconhecido"))}}),S=pr({mutationFn:async({id:I,status:L})=>{const{error:ce}=await Ne.from("dispositivos").update({status:L}).eq("id",I);if(ce)throw ce},onSuccess:(I,{status:L})=>{e.invalidateQueries({queryKey:["dispositivos-usuarios"]}),me.success(L==="Autorizado"?"Usurio autorizado!":"Usurio bloqueado!")},onError:()=>{me.error("Erro ao atualizar status")}}),T=pr({mutationFn:async I=>{const{error:L}=await Ne.from("dispositivos").delete().eq("id",I);if(L)throw L},onSuccess:()=>{e.invalidateQueries({queryKey:["dispositivos-usuarios"]}),me.success("Usurio excludo!")},onError:()=>{me.error("Erro ao excluir usurio")}}),q=I=>{p({id:I.id,nome:I.nome||"",usuario:I.usuario||"",senha:"",tipo_usuario:I.tipo_usuario||"atendente",nome_motoboy:I.nome_motoboy||"",nome_atendente:I.nome_atendente||""}),m(!0)},A=()=>{if(!g.nome||!g.usuario){me.error("Preencha nome e usurio");return}if(g.tipo_usuario==="motoboy"&&!g.nome_motoboy){me.error("Selecione o motoboy");return}if(g.tipo_usuario==="atendente"&&!g.nome_atendente){me.error("Informe o nome da atendente");return}E.mutate(g)},U=(I,L)=>{S.mutate({id:I,status:L})},K=I=>{window.confirm("Tem certeza que deseja excluir este usurio?")&&T.mutate(I)},ue=(I,L,ce)=>{j.mutate({id:I,tipo_usuario:L,nome_motoboy:ce})},V=w.filter(I=>{var L,ce;return((L=I.usuario)==null?void 0:L.toLowerCase().includes(r.toLowerCase()))||((ce=I.nome)==null?void 0:ce.toLowerCase().includes(r.toLowerCase()))}),O=(I,L)=>{const ce={admin:{bg:"bg-purple-100",text:"text-purple-700",label:"Administrador"},atendente:{bg:"bg-blue-100",text:"text-blue-700",label:"Atendente"},motoboy:{bg:"bg-orange-100",text:"text-orange-700",label:`Motoboy${L?`: ${L}`:""}`}},{bg:ae,text:fe,label:z}=ce[I]||{bg:"bg-slate-100",text:"text-slate-700",label:"No Definido"};return n.jsx("span",{className:`px-3 py-1 rounded-lg text-xs font-bold ${ae} ${fe}`,children:z})},Y=I=>I!=null&&I.toLowerCase().includes("safari")||I!=null&&I.toLowerCase().includes("mac")||I!=null&&I.toLowerCase().includes("windows")?n.jsx(Rl,{className:"w-5 h-5 text-slate-500"}):n.jsx(e1,{className:"w-5 h-5 text-slate-500"});return n.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100",children:[n.jsx("div",{className:"py-8 shadow-sm",style:{background:"linear-gradient(135deg, #457bba 0%, #890d5d 100%)"},children:n.jsx("div",{className:"max-w-7xl mx-auto px-6",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("button",{onClick:()=>t(-1),className:"p-2 rounded-lg bg-white/20 hover:bg-white/30 transition-colors",children:n.jsx(G5,{className:"w-6 h-6 text-white"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-4xl font-bold text-white",children:"Gerenciar Usurios"}),n.jsx("p",{className:"text-base text-white opacity-90 mt-1",children:"Defina os tipos de acesso para cada dispositivo"})]})]})})}),n.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-6",children:[n.jsxs("div",{onClick:()=>l(!0),className:"bg-white rounded-xl shadow-sm p-5 mb-6 cursor-pointer transition-all hover:shadow-md hover:scale-[1.01] flex items-center gap-4",style:{borderLeft:"4px solid #890d5d"},children:[n.jsx("div",{className:"p-3 rounded-full",style:{backgroundColor:"#890d5d"},children:n.jsx(Iv,{className:"w-6 h-6 text-white"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-bold text-slate-900",children:"Criar Novo Usurio"}),n.jsx("p",{className:"text-sm text-slate-500",children:"Adicione um novo usurio ao sistema"})]})]}),n.jsx("div",{className:"bg-white rounded-xl shadow-sm p-4 mb-6",children:n.jsxs("div",{className:"relative",children:[n.jsx(Nn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),n.jsx("input",{type:"text",value:r,onChange:I=>o(I.target.value),placeholder:"Buscar por nome ou dispositivo...",className:"w-full pl-10 pr-4 py-3 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:border-transparent",style:{"--tw-ring-color":"#376295"}})]})}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:[n.jsx("div",{className:"px-6 py-4 border-b border-slate-200",style:{backgroundColor:"#890d5d"},children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(nP,{className:"w-5 h-5 text-white"}),n.jsxs("h2",{className:"text-lg font-bold text-white",children:["Usurios Autorizados (",V.length,")"]})]})}),n.jsx("div",{className:"divide-y divide-slate-200",children:b?n.jsx("div",{className:"p-12 text-center text-slate-500",children:"Carregando usurios..."}):V.length===0?n.jsxs("div",{className:"p-12 text-center",children:[n.jsx(Hr,{className:"w-12 h-12 text-slate-300 mx-auto mb-3"}),n.jsx("div",{className:"text-slate-600 font-medium",children:"Nenhum usurio encontrado"}),n.jsx("div",{className:"text-sm text-slate-500 mt-1",children:"Autorize dispositivos na pgina de Dispositivos"})]}):V.map(I=>n.jsx(VM,{dispositivo:I,motoboys:N,onUpdateTipo:ue,onEditar:q,onExcluir:K,onAutorizar:U,isUpdating:j.isPending,getDeviceIcon:Y,getTipoBadge:O},I.id))})]})]}),n.jsx(Yn,{open:i,onOpenChange:l,children:n.jsxs(En,{className:"max-w-md",children:[n.jsx(Sn,{children:n.jsxs(Cn,{className:"flex items-center gap-2",children:[n.jsx(Iv,{className:"w-5 h-5",style:{color:"#890d5d"}}),"Criar Novo Usurio"]})}),n.jsxs("div",{className:"space-y-4 py-4",children:[n.jsxs("div",{children:[n.jsx(nt,{children:"Nome *"}),n.jsx(pt,{value:d.nome,onChange:I=>u({...d,nome:I.target.value}),placeholder:"Nome do usurio"})]}),n.jsxs("div",{children:[n.jsx(nt,{children:"Usurio (usado para login) *"}),n.jsx(pt,{type:"text",value:d.usuario,onChange:I=>u({...d,usuario:I.target.value}),placeholder:"Digite o nome de usurio"})]}),n.jsxs("div",{children:[n.jsx(nt,{children:"Senha *"}),n.jsx(pt,{type:"password",value:d.senha,onChange:I=>u({...d,senha:I.target.value}),placeholder:"Digite uma senha"})]}),n.jsxs("div",{children:[n.jsx(nt,{children:"Tipo de Usurio *"}),n.jsxs("select",{value:d.tipo_usuario,onChange:I=>u({...d,tipo_usuario:I.target.value}),className:"w-full h-10 rounded-lg border border-slate-300 bg-white px-3 py-2 text-sm font-medium",children:[n.jsx("option",{value:"admin",children:"Administrador"}),n.jsx("option",{value:"atendente",children:"Atendente"}),n.jsx("option",{value:"motoboy",children:"Motoboy"})]})]}),d.tipo_usuario==="atendente"&&n.jsxs("div",{children:[n.jsx(nt,{children:"Nome da Atendente *"}),n.jsx(pt,{value:d.nome_atendente,onChange:I=>u({...d,nome_atendente:I.target.value}),placeholder:"Nome da atendente"})]}),d.tipo_usuario==="motoboy"&&n.jsxs("div",{children:[n.jsx(nt,{children:"Selecionar Motoboy *"}),n.jsxs("select",{value:d.nome_motoboy,onChange:I=>u({...d,nome_motoboy:I.target.value}),className:"w-full h-10 rounded-lg border border-slate-300 bg-white px-3 py-2 text-sm font-medium",children:[n.jsx("option",{value:"",children:"Selecione..."}),N.map(I=>n.jsx("option",{value:I.nome,children:I.nome},I.id))]}),n.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"O motoboy s ver suas prprias entregas"})]}),n.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[n.jsx(Mt,{variant:"outline",onClick:()=>l(!1),children:"Cancelar"}),n.jsx(Mt,{onClick:C,disabled:_.isPending,style:{backgroundColor:"#890d5d"},className:"text-white",children:_.isPending?"Criando...":"Criar Usurio"})]})]})]})}),n.jsx(Yn,{open:h,onOpenChange:m,children:n.jsxs(En,{className:"max-w-md",children:[n.jsx(Sn,{children:n.jsxs(Cn,{className:"flex items-center gap-2",children:[n.jsx(Zw,{className:"w-5 h-5",style:{color:"#457bba"}}),"Editar Usurio"]})}),g&&n.jsxs("div",{className:"space-y-4 py-4",children:[n.jsxs("div",{children:[n.jsx(nt,{children:"Nome *"}),n.jsx(pt,{value:g.nome,onChange:I=>p({...g,nome:I.target.value}),placeholder:"Nome do usurio"})]}),n.jsxs("div",{children:[n.jsx(nt,{children:"Usurio (usado para login) *"}),n.jsx(pt,{type:"text",value:g.usuario,onChange:I=>p({...g,usuario:I.target.value}),placeholder:"Digite o nome de usurio"})]}),n.jsxs("div",{children:[n.jsx(nt,{children:"Nova Senha (deixe em branco para manter)"}),n.jsx(pt,{type:"password",value:g.senha,onChange:I=>p({...g,senha:I.target.value}),placeholder:"Digite uma nova senha"})]}),n.jsxs("div",{children:[n.jsx(nt,{children:"Tipo de Usurio *"}),n.jsxs("select",{value:g.tipo_usuario,onChange:I=>p({...g,tipo_usuario:I.target.value}),className:"w-full h-10 rounded-lg border border-slate-300 bg-white px-3 py-2 text-sm font-medium",children:[n.jsx("option",{value:"admin",children:"Administrador"}),n.jsx("option",{value:"atendente",children:"Atendente"}),n.jsx("option",{value:"motoboy",children:"Motoboy"})]})]}),g.tipo_usuario==="atendente"&&n.jsxs("div",{children:[n.jsx(nt,{children:"Nome da Atendente *"}),n.jsx(pt,{value:g.nome_atendente,onChange:I=>p({...g,nome_atendente:I.target.value}),placeholder:"Nome da atendente"})]}),g.tipo_usuario==="motoboy"&&n.jsxs("div",{children:[n.jsx(nt,{children:"Selecionar Motoboy *"}),n.jsxs("select",{value:g.nome_motoboy,onChange:I=>p({...g,nome_motoboy:I.target.value}),className:"w-full h-10 rounded-lg border border-slate-300 bg-white px-3 py-2 text-sm font-medium",children:[n.jsx("option",{value:"",children:"Selecione..."}),N.map(I=>n.jsx("option",{value:I.nome,children:I.nome},I.id))]})]}),n.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[n.jsx(Mt,{variant:"outline",onClick:()=>m(!1),children:"Cancelar"}),n.jsx(Mt,{onClick:A,disabled:E.isPending,style:{backgroundColor:"#457bba"},className:"text-white",children:E.isPending?"Salvando...":"Salvar"})]})]})]})})]})}function VM({dispositivo:t,motoboys:e,onUpdateTipo:r,onEditar:o,onExcluir:i,onAutorizar:l,isUpdating:d,getDeviceIcon:u,getTipoBadge:h}){const[m,g]=be.useState(t.tipo_usuario||""),[p,w]=be.useState(t.nome_motoboy||""),[b,N]=be.useState(!1),j=t.status!=="Autorizado",_=S=>{g(S),S!=="motoboy"&&(w(""),r(t.id,S,null))},C=S=>{w(S),S&&r(t.id,"motoboy",S)},E=()=>j?n.jsxs("span",{className:"flex items-center gap-1 px-3 py-1 rounded-lg text-xs font-bold bg-yellow-100 text-yellow-700",children:[n.jsx(on,{className:"w-3 h-3"}),"Pendente"]}):n.jsxs("span",{className:"flex items-center gap-1 px-3 py-1 rounded-lg text-xs font-bold bg-green-100 text-green-700",children:[n.jsx(vo,{className:"w-3 h-3"}),"Autorizado"]});return n.jsx("div",{className:`p-6 hover:bg-slate-50 transition-colors ${j?"bg-yellow-50":""}`,children:n.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center ${j?"bg-yellow-400":"bg-gradient-to-br from-[#457bba] to-[#890d5d]"}`,children:n.jsx(Hr,{className:"w-6 h-6 text-white"})}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("h3",{className:"font-bold text-slate-900 text-lg",children:t.nome||t.usuario||"Usurio"}),E()]}),n.jsxs("div",{className:"flex items-center gap-4 text-sm text-slate-500 mt-1",children:[n.jsxs("span",{className:"font-medium",children:["Login: ",t.usuario||"-"]}),n.jsxs("span",{className:"flex items-center gap-1 font-medium",children:["Senha: ",b?t.senha||"-":"",n.jsx("button",{onClick:()=>N(!b),className:"p-1 hover:bg-slate-200 rounded transition-colors",title:b?"Ocultar senha":"Mostrar senha",children:b?n.jsx(xA,{className:"w-4 h-4"}):n.jsx(Xw,{className:"w-4 h-4"})})]})]})]})]}),n.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[j?n.jsxs("button",{onClick:()=>l(t.id,"Autorizado"),className:"flex items-center gap-2 px-4 py-2 bg-green-500 hover:bg-green-600 text-white rounded-lg transition-colors font-medium",children:[n.jsx(vo,{className:"w-4 h-4"}),"Autorizar"]}):n.jsxs("button",{onClick:()=>l(t.id,"Bloqueado"),className:"flex items-center gap-2 px-4 py-2 bg-slate-200 hover:bg-red-100 text-slate-600 hover:text-red-600 rounded-lg transition-colors font-medium",children:[n.jsx(kl,{className:"w-4 h-4"}),"Bloquear"]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-sm font-medium text-slate-600",children:"Tipo:"}),n.jsxs("select",{value:m,onChange:S=>_(S.target.value),disabled:d,className:"min-w-[160px] h-10 rounded-lg border border-slate-300 bg-white px-3 py-2 text-sm font-medium text-slate-900 disabled:opacity-50 cursor-pointer",children:[n.jsx("option",{value:"",children:"Selecione..."}),n.jsx("option",{value:"admin",children:"Administrador"}),n.jsx("option",{value:"atendente",children:"Atendente"}),n.jsx("option",{value:"motoboy",children:"Motoboy"})]})]}),m==="motoboy"&&n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-sm font-medium text-slate-600",children:"Motoboy:"}),n.jsxs("select",{value:p,onChange:S=>C(S.target.value),disabled:d,className:"min-w-[150px] h-10 rounded-lg border border-slate-300 bg-white px-3 py-2 text-sm font-medium text-slate-900 disabled:opacity-50 cursor-pointer",children:[n.jsx("option",{value:"",children:"Selecione..."}),e==null?void 0:e.map(S=>n.jsx("option",{value:S.nome,children:S.nome},S.id))]})]}),m&&h(m,p),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("button",{onClick:()=>o(t),className:"p-2 text-slate-600 hover:bg-slate-200 rounded-lg transition-colors",title:"Editar usurio",children:n.jsx(Zw,{className:"w-5 h-5"})}),n.jsx("button",{onClick:()=>i(t.id),className:"p-2 text-red-500 hover:bg-red-100 rounded-lg transition-colors",title:"Excluir usurio",children:n.jsx(Ri,{className:"w-5 h-5"})})]})]})]})})}const HM=new L2({defaultOptions:{queries:{refetchOnWindowFocus:!1,retry:1,staleTime:300*1e3}}});function dy({children:t}){const{user:e,loading:r}=ya();return r?n.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",minHeight:"100vh"},children:n.jsxs("div",{style:{textAlign:"center"},children:[n.jsx("div",{style:{width:"50px",height:"50px",border:"4px solid #e2e8f0",borderTop:"4px solid #457bba",borderRadius:"50%",animation:"spin 1s linear infinite",margin:"0 auto 1rem"}}),n.jsx("p",{children:"Carregando..."})]})}):e?t:n.jsx(zd,{to:"/login"})}function Pr({children:t}){const{userType:e}=ya();return e==="motoboy"?n.jsx(zd,{to:"/painel-motoboys",replace:!0}):t}function KM(){const{user:t,userType:e}=ya(),r=()=>e==="motoboy"?"/painel-motoboys":"/";return n.jsxs(S0,{children:[n.jsx($t,{path:"/login",element:t?n.jsx(zd,{to:r()}):n.jsx(hR,{})}),n.jsx($t,{path:"/imprimir-romaneio",element:n.jsx(dy,{children:n.jsx(Vv,{printMode:!0})})}),n.jsx($t,{path:"/*",element:n.jsx(dy,{children:n.jsx(dR,{children:n.jsxs(S0,{children:[n.jsx($t,{path:"/",element:e==="motoboy"?n.jsx(zd,{to:"/painel-motoboys",replace:!0}):n.jsx(WP,{})}),n.jsx($t,{path:"/sedex",element:n.jsx(Pr,{children:n.jsx(EM,{})})}),n.jsx($t,{path:"/sedex-detalhes",element:n.jsx(Pr,{children:n.jsx(CM,{})})}),n.jsx($t,{path:"/novo-romaneio",element:n.jsx(Pr,{children:n.jsx(QP,{})})}),n.jsx($t,{path:"/editar-romaneio",element:n.jsx(Pr,{children:n.jsx(ZP,{})})}),n.jsx($t,{path:"/detalhes-romaneio",element:n.jsx(Pr,{children:n.jsx(Vv,{})})}),n.jsx($t,{path:"/clientes",element:n.jsx(Pr,{children:n.jsx(S4,{})})}),n.jsx($t,{path:"/historico-clientes",element:n.jsx(Pr,{children:n.jsx("div",{style:{padding:"2rem"},children:"Histrico - Em construo"})})}),n.jsx($t,{path:"/relatorios",element:n.jsx(Pr,{children:n.jsx(kM,{})})}),n.jsx($t,{path:"/receitas",element:n.jsx(Pr,{children:n.jsx(IM,{})})}),n.jsx($t,{path:"/pagamentos",element:n.jsx(Pr,{children:n.jsx(DM,{})})}),n.jsx($t,{path:"/planilha-diaria",element:n.jsx(Pr,{children:n.jsx($M,{})})}),n.jsx($t,{path:"/painel-motoboys",element:n.jsx(BM,{})}),n.jsx($t,{path:"/dispositivos",element:n.jsx(Pr,{children:n.jsx(FM,{})})}),n.jsx($t,{path:"/romaneios-do-dia",element:n.jsx(Pr,{children:n.jsx(qM,{})})}),n.jsx($t,{path:"/usuarios",element:n.jsx(Pr,{children:n.jsx(WM,{})})})]})})})})]})}function GM(){return n.jsx(uR,{children:n.jsx($2,{client:HM,children:n.jsx(lR,{children:n.jsxs(TS,{children:[n.jsx(KM,{}),n.jsx(m2,{position:"top-right",richColors:!0}),n.jsx("style",{children:`
              @keyframes spin {
                to { transform: rotate(360deg); }
              }
              * {
                margin: 0;
                padding: 0;
                box-sizing: border-box;
              }
              body {
                font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
              }
            `})]})})})})}window.addEventListener("error",t=>{var e,r;if((e=t.message)!=null&&e.includes("removeChild")||(r=t.message)!=null&&r.includes("The node to be removed is not a child"))return console.warn(" [Global] Erro de removeChild capturado e prevenido:",t.message),t.preventDefault(),t.stopPropagation(),!0});window.addEventListener("unhandledrejection",t=>{var e,r,o,i;if((r=(e=t.reason)==null?void 0:e.message)!=null&&r.includes("removeChild")||(i=(o=t.reason)==null?void 0:o.message)!=null&&i.includes("The node to be removed is not a child"))return console.warn(" [Global] Promise rejection de removeChild capturada e prevenida"),t.preventDefault(),!0});vE.createRoot(document.getElementById("root")).render(n.jsx(GM,{}));
